# druid 
 
# Bad smells
I found 8003 bad smells with 624 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| BoundedWildcard | 1302 | false |
| DataFlowIssue | 1270 | false |
| UnstableApiUsage | 1119 | false |
| RedundantFieldInitialization | 734 | false |
| NullableProblems | 393 | false |
| ReturnNull | 354 | false |
| ConstantValue | 343 | false |
| UtilityClassWithoutPrivateConstructor | 194 | true |
| SizeReplaceableByIsEmpty | 150 | true |
| NonProtectedConstructorInAbstractClass | 150 | true |
| AssignmentToMethodParameter | 130 | false |
| MissortedModifiers | 120 | false |
| StaticPseudoFunctionalStyleMethod | 116 | false |
| ZeroLengthArrayInitialization | 114 | false |
| NotNullFieldNotInitialized | 87 | false |
| UnstableTypeUsedInSignature | 73 | false |
| DeprecatedIsStillUsed | 73 | false |
| SynchronizeOnThis | 72 | false |
| RedundantSuppression | 68 | false |
| UnnecessaryLocalVariable | 62 | true |
| NestedAssignment | 59 | false |
| CodeBlock2Expr | 51 | true |
| RedundantMethodOverride | 50 | false |
| Convert2Lambda | 48 | false |
| Convert2MethodRef | 45 | false |
| FieldAccessedSynchronizedAndUnsynchronized | 40 | false |
| EmptyMethod | 37 | false |
| Anonymous2MethodRef | 37 | false |
| OptionalUsedAsFieldOrParameterType | 33 | false |
| OptionalContainsCollection | 32 | false |
| RedundantImplements | 32 | false |
| PublicFieldAccessedInSynchronizedContext | 29 | false |
| InstanceofCatchParameter | 29 | false |
| SynchronizationOnLocalVariableOrMethodParameter | 24 | false |
| UseOfPropertiesAsHashtable | 24 | false |
| OptionalGetWithoutIsPresent | 24 | false |
| ReplaceAssignmentWithOperatorAssignment | 22 | false |
| NonShortCircuitBoolean | 21 | false |
| UnnecessaryQualifierForThis | 20 | false |
| IgnoreResultOfCall | 20 | false |
| UnnecessaryUnboxing | 19 | false |
| EnumSwitchStatementWhichMissesCases | 19 | false |
| DefaultAnnotationParam | 18 | false |
| BusyWait | 16 | false |
| UnnecessaryBoxing | 15 | false |
| IOResource | 14 | false |
| NonSerializableFieldInSerializableClass | 13 | false |
| UnnecessarySuperQualifier | 12 | false |
| SystemOutErr | 11 | false |
| AssignmentToLambdaParameter | 11 | false |
| NestedSynchronizedStatement | 11 | false |
| ConditionCoveredByFurtherCondition | 11 | false |
| AssignmentToForLoopParameter | 10 | false |
| RefusedBequest | 9 | false |
| DuplicateBranchesInSwitch | 9 | false |
| PointlessBooleanExpression | 8 | true |
| ManualMinMaxCalculation | 8 | false |
| IfStatementWithIdenticalBranches | 8 | false |
| ManualArrayCopy | 7 | false |
| AbstractClassNeverImplemented | 7 | false |
| FunctionalExpressionCanBeFolded | 7 | false |
| ForwardCompatibility | 7 | false |
| WhileCanBeForeach | 6 | false |
| KeySetIterationMayUseEntrySet | 6 | false |
| ObsoleteCollection | 6 | false |
| WrapperTypeMayBePrimitive | 5 | false |
| PointlessArithmeticExpression | 5 | false |
| DynamicRegexReplaceableByCompiledPattern | 5 | false |
| UseCompareMethod | 5 | false |
| RedundantFileCreation | 5 | false |
| RegExpSimplifiable | 5 | false |
| ExceptionNameDoesntEndWithException | 5 | false |
| AbstractMethodCallInConstructor | 5 | false |
| MismatchedJavadocCode | 5 | false |
| ObjectNotify | 4 | false |
| UseBulkOperation | 4 | false |
| UnnecessaryReturn | 4 | true |
| AnonymousHasLambdaAlternative | 4 | false |
| TypeParameterExtendsObject | 4 | false |
| MethodOverridesStaticMethod | 4 | false |
| SimplifiableBooleanExpression | 3 | false |
| FieldMayBeStatic | 3 | false |
| ComparatorCombinators | 3 | false |
| StringEqualsEmptyString | 3 | false |
| Finalize | 2 | false |
| ClassNameSameAsAncestorName | 2 | false |
| IntegerMultiplicationImplicitCastToLong | 2 | false |
| UnnecessarySemicolon | 2 | false |
| SimplifyStreamApiCallChains | 2 | false |
| JavaReflectionMemberAccess | 2 | false |
| ProtectedMemberInFinalClass | 2 | true |
| RedundantArrayCreation | 2 | true |
| DuplicateExpressions | 2 | false |
| SlowListContainsAll | 2 | false |
| RedundantUnmodifiable | 2 | false |
| OptionalIsPresent | 2 | false |
| UnnecessaryContinue | 2 | false |
| CastCanBeRemovedNarrowingVariableType | 2 | false |
| StaticInitializerReferencesSubClass | 1 | false |
| CommentedOutCode | 1 | false |
| ReturnFromFinallyBlock | 1 | false |
| PointlessBitwiseExpression | 1 | false |
| UnusedAssignment | 1 | false |
| StringOperationCanBeSimplified | 1 | false |
| FinallyBlockCannotCompleteNormally | 1 | false |
| SwitchStatementWithConfusingDeclaration | 1 | false |
| UnnecessaryInitCause | 1 | false |
| NonStrictComparisonCanBeEquality | 1 | true |
| ComparatorMethodParameterNotUsed | 1 | false |
| WaitNotInLoop | 1 | false |
| LoopStatementsThatDontLoop | 1 | false |
| EmptyTryBlock | 1 | false |
| WaitWhileHoldingTwoLocks | 1 | false |
| JavaLangInvokeHandleSignature | 1 | false |
| UnnecessaryStringEscape | 1 | false |
| RedundantStreamOptionalCall | 1 | false |
| ThrowFromFinallyBlock | 1 | false |
| SimplifyOptionalCallChains | 1 | false |
| InfiniteLoopStatement | 1 | false |
| FuseStreamOperations | 1 | false |
| NonExceptionNameEndsWithException | 1 | false |
| CatchMayIgnoreException | 1 | false |
| Java8MapApi | 1 | false |
## RuleId[ruleID=Finalize]
### Finalize
'finalize()' should not be overridden
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java

      @Override
      protected void finalize() throws Throwable
      {
        if (!returned.get()) {
```

### Finalize
'finalize()' should not be overridden
in `core/src/main/java/org/apache/druid/java/util/emitter/EmittingLogger.java`
#### Snippet
```java

    @Override
    protected void finalize()
    {
      if (!emitted) {
```

## RuleId[ruleID=WrapperTypeMayBePrimitive]
### WrapperTypeMayBePrimitive
Type may be primitive
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
        throw new ISE("Wrong number of splits[%d] in line[%s]", splits.length, line);
      }
      final Integer numFiles = Integer.valueOf(splits[2]);
      List<File> outFiles = Lists.newArrayListWithExpectedSize(numFiles);

```

### WrapperTypeMayBePrimitive
Type may be primitive
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Sink.java`
#### Snippet
```java
          throw new IAE("Dedup on multi-value field not support");
        }
        Long pk;
        if (value instanceof Long || value instanceof Integer) {
          pk = ((Number) value).longValue();
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java

      for (SegmentIdWithShardSpec segment : appenderatorSegments) {
        final Long intervalStart = segment.getInterval().getStartMillis();
        if (intervalStart < minTimestamp) {
          log.info("Adding entry [%s] for merge and push.", segment);
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `processing/src/main/java/org/apache/druid/collections/IntegerSet.java`
#### Snippet
```java
    }
    if (o instanceof Integer) {
      Integer integer = (Integer) o;
      boolean isSet = mutableBitmap.get(integer);
      mutableBitmap.remove(integer);
```

### WrapperTypeMayBePrimitive
Type may be primitive
in `extensions-core/parquet-extensions/src/main/java/org/apache/parquet/avro/DruidParquetAvroReadSupport.java`
#### Snippet
```java
    // see https://github.com/apache/druid/issues/5433#issuecomment-388539306
    String jobProp = "parquet.avro.add-list-element-records";
    Boolean explicitlySet = configuration.getBoolean(jobProp, false);
    if (!explicitlySet) {
      configuration.setBoolean(jobProp, false);
```

## RuleId[ruleID=PointlessArithmeticExpression]
### PointlessArithmeticExpression
`i + 0` can be replaced with 'i'
in `processing/src/main/java/org/apache/druid/query/topn/TopNNumericResultBuilder.java`
#### Snippet
```java
    }
    for (int i = extra; i < metricVals.length; i += LOOP_UNROLL_COUNT) {
      metricValues.put(aggFactoryNames[i + 0], metricVals[i + 0]);
      // LGTM.com flags this, but it's safe
      // because we know "metricVals.length - extra" is a multiple of LOOP_UNROLL_COUNT.
```

### PointlessArithmeticExpression
`i + 0` can be replaced with 'i'
in `processing/src/main/java/org/apache/druid/query/topn/TopNNumericResultBuilder.java`
#### Snippet
```java
    }
    for (int i = extra; i < metricVals.length; i += LOOP_UNROLL_COUNT) {
      metricValues.put(aggFactoryNames[i + 0], metricVals[i + 0]);
      // LGTM.com flags this, but it's safe
      // because we know "metricVals.length - extra" is a multiple of LOOP_UNROLL_COUNT.
```

### PointlessArithmeticExpression
`i + 0` can be replaced with 'i'
in `processing/src/main/java/org/apache/druid/query/topn/TopNLexicographicResultBuilder.java`
#### Snippet
```java
      }
      for (int i = extra; i < metricVals.length; i += LOOP_UNROLL_COUNT) {
        metricValues.put(aggFactoryNames[i + 0], metricVals[i + 0]);
        // LGTM.com flags this, but it's safe
        // because we know "metricVals.length - extra" is a multiple of LOOP_UNROLL_COUNT.
```

### PointlessArithmeticExpression
`i + 0` can be replaced with 'i'
in `processing/src/main/java/org/apache/druid/query/topn/TopNLexicographicResultBuilder.java`
#### Snippet
```java
      }
      for (int i = extra; i < metricVals.length; i += LOOP_UNROLL_COUNT) {
        metricValues.put(aggFactoryNames[i + 0], metricVals[i + 0]);
        // LGTM.com flags this, but it's safe
        // because we know "metricVals.length - extra" is a multiple of LOOP_UNROLL_COUNT.
```

### PointlessArithmeticExpression
`1 * Integer.BYTES` can be replaced with 'Integer.BYTES'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
        // The max element must sit on the first level of the maxHeap. It is
        // actually the *lesser* of the two from the maxHeap's perspective.
        int offset1 = buf.getInt(1 * Integer.BYTES);
        int offset2 = buf.getInt(2 * Integer.BYTES);
        return maxComparator.compare(offset1, offset2) <= 0 ? 1 : 2;
```

## RuleId[ruleID=WhileCanBeForeach]
### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `core/src/main/java/org/apache/druid/guice/JsonConfigurator.java`
#### Snippet
```java
          Class<?> beanClazz = violation.getRootBeanClass();
          final Iterator<Path.Node> iter = violation.getPropertyPath().iterator();
          while (iter.hasNext()) {
            Path.Node next = iter.next();
            if (next.getKind() == ElementKind.PROPERTY) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java
    if (removed == null) {
      Iterator<Entry<Interval, TimelineEntry>> iter = timeline.entrySet().iterator();
      while (iter.hasNext()) {
        Entry<Interval, TimelineEntry> timelineEntry = iter.next();
        if (timelineEntry.getValue() == entry) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `server/src/main/java/org/apache/druid/server/coordinator/CuratorLoadQueuePeon.java`
#### Snippet
```java
                           : new SegmentChangeRequestDrop(segment);
      Iterator<LoadPeonCallback> itr = callbacksParam.iterator();
      while (itr.hasNext()) {
        LoadPeonCallback c = itr.next();
        if (c != null) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `processing/src/main/java/org/apache/druid/collections/IntegerSet.java`
#### Snippet
```java
  {
    Iterator<?> it = c.iterator();
    while (it.hasNext()) {
      if (!this.contains(it.next())) {
        return false;
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureUtils.java`
#### Snippet
```java
    Iterator<CloudBlobHolder> iterator = azureCloudBlobIterable.iterator();

    while (iterator.hasNext()) {
      final CloudBlobHolder nextObject = iterator.next();
      if (filter.apply(nextObject)) {
```

### WhileCanBeForeach
`while` loop can be replaced with enhanced 'for'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
      final List<String> dimensions = index.getDimensionNames();
      Iterator<Row> rows = index.iterator();
      while (rows.hasNext()) {
        context.progress();
        Row row = rows.next();
```

## RuleId[ruleID=StaticInitializerReferencesSubClass]
### StaticInitializerReferencesSubClass
Referencing subclass FilterIntoJoinExcludePushToChildRule from superclass FilterJoinExcludePushToChildRule initializer might lead to class loading deadlock
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/FilterJoinExcludePushToChildRule.java`
#### Snippet
```java
   */
  public static final FilterJoinRule FILTER_ON_JOIN_EXCLUDE_PUSH_TO_CHILD =
      new FilterIntoJoinExcludePushToChildRule(RelFactories.LOGICAL_BUILDER, NOT_ENUMERABLE);

  FilterJoinExcludePushToChildRule(RelOptRuleOperand operand,
```

## RuleId[ruleID=CommentedOutCode]
### CommentedOutCode
Commented out code (2 lines)
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
                        // See org.apache.druid.concurrent.TaskThreadPriority#getThreadPriorityFromTaskPriority(int)
                        // for more information
                        // command.add("-XX:+UseThreadPriorities");
                        // command.add("-XX:ThreadPriorityPolicy=42");

```

## RuleId[ruleID=KeySetIterationMayUseEntrySet]
### KeySetIterationMayUseEntrySet
Iteration over `supervisors.keySet()` may be replaced with 'entrySet()' iteration
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java

    synchronized (lock) {
      for (String id : supervisors.keySet()) {
        try {
          supervisors.get(id).lhs.stop(false);
```

### KeySetIterationMayUseEntrySet
Iteration over `partitionGroups.keySet()` may be replaced with 'entrySet()' iteration
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

    // check that there is a current task group for each group of partitions in [partitionGroups]
    for (Integer groupId : partitionGroups.keySet()) {
      if (!activelyReadingTaskGroups.containsKey(groupId)) {
        log.info("Creating new task group [%d] for partitions %s", groupId, partitionGroups.get(groupId));
```

### KeySetIterationMayUseEntrySet
Iteration over `activelyReadingTaskGroups.keySet()` may be replaced with 'entrySet()' iteration
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    final List<Pair<Integer, String>> groupAndTaskIds = new ArrayList<>();

    for (int groupId : activelyReadingTaskGroups.keySet()) {
      TaskGroup group = activelyReadingTaskGroups.get(groupId);
      for (String taskId : group.taskIds()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `pendingCompletionTaskGroups.keySet()` may be replaced with 'entrySet()' iteration
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    for (int groupId : pendingCompletionTaskGroups.keySet()) {
      List<TaskGroup> pendingGroups = pendingCompletionTaskGroups.get(groupId);
      for (TaskGroup pendingGroup : pendingGroups) {
```

### KeySetIterationMayUseEntrySet
Iteration over `activelyReadingTaskGroups.keySet()` may be replaced with 'entrySet()' iteration
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    final List<Pair<Integer, String>> groupAndTaskIds = new ArrayList<>();

    for (int groupId : activelyReadingTaskGroups.keySet()) {
      TaskGroup group = activelyReadingTaskGroups.get(groupId);
      for (String taskId : group.taskIds()) {
```

### KeySetIterationMayUseEntrySet
Iteration over `pendingCompletionTaskGroups.keySet()` may be replaced with 'entrySet()' iteration
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    for (int groupId : pendingCompletionTaskGroups.keySet()) {
      List<TaskGroup> pendingGroups = pendingCompletionTaskGroups.get(groupId);
      for (TaskGroup pendingGroup : pendingGroups) {
```

## RuleId[ruleID=NotNullFieldNotInitialized]
### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `core/src/main/java/org/apache/druid/math/expr/ExpressionProcessing.java`
#### Snippet
```java
   */
  @Inject
  private static ExpressionProcessingConfig INSTANCE;


```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/CombiningFirehoseFactory.java`
#### Snippet
```java
    private final File temporaryDirectory;
    private final Iterator<FirehoseFactory> firehoseFactoryIterator;
    private volatile Firehose currentFirehose;

    CombiningFirehose(InputRowParser parser, File temporaryDirectory)
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PrefetchSqlFirehoseFactory.java`
#### Snippet
```java
  private final FetchConfig fetchConfig;
  private final CacheManager<T> cacheManager;
  private List<T> objects;
  private ObjectMapper objectMapper;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferArrayGrouper.java`
#### Snippet
```java

  private boolean initialized = false;
  private WritableMemory usedFlagMemory;
  private ByteBuffer valBuffer;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferArrayGrouper.java`
#### Snippet
```java
  private boolean initialized = false;
  private WritableMemory usedFlagMemory;
  private ByteBuffer valBuffer;

  // Scratch objects used by aggregateVector(). Only set if initVectorized() is called.
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferHashTable.java`
#### Snippet
```java

  // Buffer pointing to the current table (it moves around as the table grows)
  protected ByteBuffer tableBuffer;

  // Number of elements in the table right now
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
  // ByteBuffer slices used by the grouper
  private ByteBuffer totalBuffer;
  private ByteBuffer hashTableBuffer;
  private ByteBuffer offsetHeapBuffer;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
  // Updates the heap index field for buckets, created passed to the heap when
  // pushing down limit and the sort order includes aggregators
  private BufferGrouperOffsetHeapIndexUpdater heapIndexUpdater;
  private boolean initialized = false;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java

  // ByteBuffer slices used by the grouper
  private ByteBuffer totalBuffer;
  private ByteBuffer hashTableBuffer;
  private ByteBuffer offsetHeapBuffer;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java

  // Min-max heap, used for storing offsets when applying limits/sorting in the BufferHashGrouper
  private ByteBufferMinMaxOffsetHeap offsetHeap;

  // ByteBuffer slices used by the grouper
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
  private ByteBuffer totalBuffer;
  private ByteBuffer hashTableBuffer;
  private ByteBuffer offsetHeapBuffer;

  // Updates the heap index field for buckets, created passed to the heap when
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/AbstractBufferHashGrouper.java`
#### Snippet
```java
  // See PR 3863 for details: https://github.com/apache/druid/pull/3863
  protected ByteBufferHashTable hashTable;
  protected ByteBuffer hashTableBuffer; // buffer for the entire hash table (total space, not individual growth)

  public AbstractBufferHashGrouper(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/AbstractBufferHashGrouper.java`
#### Snippet
```java
  // The hashTable and its buffer are not final, these are set during init() for buffer management purposes
  // See PR 3863 for details: https://github.com/apache/druid/pull/3863
  protected ByteBufferHashTable hashTable;
  protected ByteBuffer hashTableBuffer; // buffer for the entire hash table (total space, not individual growth)

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  private final float maxLoadFactor;

  private ByteBuffer buffer;
  private int tableStart = 0;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/StreamingMergeSortedGrouper.java`
#### Snippet
```java

  // Below variables are initialized when init() is called.
  private ByteBuffer buffer;
  private int maxNumSlots;
  private boolean initialized;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
    return new ObjectAggregateCombiner<Histogram>()
    {
      private Histogram combined;

      @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/aggregation/DelegatingBufferAggregator.java`
#### Snippet
```java
public abstract class DelegatingBufferAggregator implements BufferAggregator
{
  protected BufferAggregator delegate;

  @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/aggregation/DelegatingAggregator.java`
#### Snippet
```java
public abstract class DelegatingAggregator implements Aggregator
{
  protected Aggregator delegate;

  @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    @Nullable
    private DimFilter dimFilter;
    private Granularity granularity;
    @Nullable
    private List<DimensionSpec> dimensions;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    }

    private DataSource dataSource;
    private QuerySegmentSpec querySegmentSpec;
    private VirtualColumns virtualColumns;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    private DataSource dataSource;
    private QuerySegmentSpec querySegmentSpec;
    private VirtualColumns virtualColumns;
    @Nullable
    private DimFilter dimFilter;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java

    private DataSource dataSource;
    private QuerySegmentSpec querySegmentSpec;
    private VirtualColumns virtualColumns;
    @Nullable
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregator.java`
#### Snippet
```java
  private final BaseObjectColumnValueSelector selector;

  private HyperLogLogCollector collector;

  public HyperUniquesAggregator(BaseObjectColumnValueSelector selector)
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
  public class SpatialIndexesMerger implements ExtendedIndexesMerger
  {
    private RTree tree;
    private final boolean hasSpatial = capabilities.hasSpatialIndexes();

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/LongColumnSerializer.java`
#### Snippet
```java
  private final CompressionStrategy compression;
  private final CompressionFactory.LongEncodingStrategy encoding;
  private ColumnarLongsSerializer writer;

  private LongColumnSerializer(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/DoubleColumnSerializerV2.java`
#### Snippet
```java
  private ColumnarDoublesSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/DoubleColumnSerializerV2.java`
#### Snippet
```java
  private final BitmapSerdeFactory bitmapSerdeFactory;

  private ColumnarDoublesSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/DoubleColumnSerializerV2.java`
#### Snippet
```java

  private ColumnarDoublesSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/FloatColumnSerializerV2.java`
#### Snippet
```java
  private ColumnarFloatsSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/FloatColumnSerializerV2.java`
#### Snippet
```java

  private ColumnarFloatsSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/FloatColumnSerializerV2.java`
#### Snippet
```java
  private final BitmapSerdeFactory bitmapSerdeFactory;

  private ColumnarFloatsSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/FloatColumnSerializer.java`
#### Snippet
```java
  private final ByteOrder byteOrder;
  private final CompressionStrategy compression;
  private ColumnarFloatsSerializer writer;

  private FloatColumnSerializer(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/DoubleColumnSerializer.java`
#### Snippet
```java
  private final ByteOrder byteOrder;
  private final CompressionStrategy compression;
  private ColumnarDoublesSerializer writer;

  private DoubleColumnSerializer(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/RowBasedColumnSelectorFactory.java`
#### Snippet
```java
      {
        private long currentId = RowIdSupplier.INIT;
        private List<String> dimensionValues;

        private final RangeIndexedInts indexedInts = new RangeIndexedInts();
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/RowBasedColumnSelectorFactory.java`
#### Snippet
```java
      {
        private long currentId = RowIdSupplier.INIT;
        private String currentValue;

        @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/LongColumnSerializerV2.java`
#### Snippet
```java
  private ColumnarLongsSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/LongColumnSerializerV2.java`
#### Snippet
```java
  private final BitmapSerdeFactory bitmapSerdeFactory;

  private ColumnarLongsSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/LongColumnSerializerV2.java`
#### Snippet
```java

  private ColumnarLongsSerializer writer;
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
  private final ColumnSelectorFactory baseColumnSelectorFactory;
  private int index;
  private IndexedInts indexedIntsForCurrentRow;
  private boolean needInitialization;
  private SingleIndexInts indexIntsForRow;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
  private IndexedInts indexedIntsForCurrentRow;
  private boolean needInitialization;
  private SingleIndexInts indexIntsForRow;

  public UnnestDimensionCursor(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
  private final LinkedHashSet<String> allowSet;
  private int index;
  private Object currentVal;
  private List<Object> unnestListForCurrentRow;
  private boolean needInitialization;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
  private int index;
  private Object currentVal;
  private List<Object> unnestListForCurrentRow;
  private boolean needInitialization;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/DeltaLongEncodingWriter.java`
#### Snippet
```java

  private final long base;
  private VSizeLongSerde.LongSerializer serializer;
  private int bitsPerValue;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/EntireLayoutColumnarLongsSerializer.java`
#### Snippet
```java
  private final CompressionFactory.LongEncodingWriter writer;
  private final SegmentWriteOutMedium segmentWriteOutMedium;
  private WriteOutBytes valuesOut;

  private int numInserted = 0;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/TableLongEncodingWriter.java`
#### Snippet
```java
  private final LongList valueAddedInOrder;
  private final int bitsPerValue;
  private VSizeLongSerde.LongSerializer serializer;

  public TableLongEncodingWriter(Long2IntMap table, LongList valueAddedInOrder)
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java

    int currBufferNum = -1;
    ResourceHolder<ByteBuffer> holder;
    /**
     * buffer's position must be 0
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java
     * buffer's position must be 0
     */
    IntBuffer buffer;

    @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVariableSizedBlobColumnSerializer.java`
#### Snippet
```java
  private long currentOffset;

  private CompressedLongsSerializer offsetsSerializer;
  private CompressedBlockSerializer valuesSerializer;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVariableSizedBlobColumnSerializer.java`
#### Snippet
```java

  private CompressedLongsSerializer offsetsSerializer;
  private CompressedBlockSerializer valuesSerializer;

  public CompressedVariableSizedBlobColumnSerializer(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/EntireLayoutColumnarFloatsSerializer.java`
#### Snippet
```java
  private final boolean isLittleEndian;
  private final SegmentWriteOutMedium segmentWriteOutMedium;
  private WriteOutBytes valuesOut;

  private int numInserted = 0;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/EntireLayoutColumnarDoublesSerializer.java`
#### Snippet
```java
  private final SegmentWriteOutMedium segmentWriteOutMedium;
  private final ByteBuffer orderBuffer;
  private WriteOutBytes valuesOut;

  private int numInserted = 0;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java

    int currBufferNum = -1;
    ResourceHolder<ByteBuffer> holder;
    /**
     * buffer's position must be 0
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java
     * buffer's position must be 0
     */
    ByteBuffer buffer;
    boolean bigEndian;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/serde/LargeColumnSupportedComplexColumnSerializer.java`
#### Snippet
```java
  private final ObjectStrategy strategy;
  private final int columnSize;
  private GenericIndexedWriter<T> writer;

  private LargeColumnSupportedComplexColumnSerializer(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnSerializer.java`
#### Snippet
```java
  private final String filenameBase;
  private final ObjectStrategy strategy;
  private GenericIndexedWriter writer;

  private ComplexColumnSerializer(SegmentWriteOutMedium segmentWriteOutMedium, String filenameBase, ObjectStrategy strategy)
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/virtual/BaseExpressionColumnValueSelector.java`
#### Snippet
```java
  private final RowIdSupplier rowIdSupplier;
  private long currentRowId = RowIdSupplier.INIT;
  private ExprEval<?> currentEval;

  protected BaseExpressionColumnValueSelector(@Nullable RowIdSupplier rowIdSupplier)
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionVectorObjectSelector.java`
#### Snippet
```java

  @MonotonicNonNull
  private Object[] cached;
  private int currentId = ReadableVectorInspector.NULL_ID;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexSchema.java`
#### Snippet
```java
  {
    private long minTimestamp;
    private TimestampSpec timestampSpec;
    private Granularity gran;
    private VirtualColumns virtualColumns;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
    private final ValueMatcher filterMatcher;
    private final int maxRowIndex;
    private Iterator<IncrementalIndexRow> baseIter;
    private Iterable<IncrementalIndexRow> cursorIterable;
    private boolean emptyRange;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
  private final Supplier<InputRow> rowSupplier = in::get;

  private volatile DateTime maxIngestedEventTime;


```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMultiPostAggregator.java`
#### Snippet
```java

  private final List<PostAggregator> fields;
  private Set<String> dependentFields;

  @JsonCreator
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchUnaryPostAggregator.java`
#### Snippet
```java
{
  private final PostAggregator field;
  private Set<String> dependentFields;

  @JsonCreator
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerMapper.java`
#### Snippet
```java
  protected HadoopDruidIndexerConfig config;
  private InputRowParser parser;
  protected GranularitySpec granularitySpec;

  @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerMapper.java`
#### Snippet
```java

  protected HadoopDruidIndexerConfig config;
  private InputRowParser parser;
  protected GranularitySpec granularitySpec;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerMapper.java`
#### Snippet
```java
  private static final Logger log = new Logger(HadoopDruidIndexerMapper.class);

  protected HadoopDruidIndexerConfig config;
  private InputRowParser parser;
  protected GranularitySpec granularitySpec;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
  private static final Logger log = new Logger(DetermineHashedPartitionsJob.class);
  private final HadoopDruidIndexerConfig config;
  private String failureCause;
  private Job groupByJob;
  private long startTime;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
  private final HadoopDruidIndexerConfig config;
  private String failureCause;
  private Job groupByJob;
  private long startTime;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidDetermineConfigurationJob.java`
#### Snippet
```java
  private static final Logger log = new Logger(HadoopDruidDetermineConfigurationJob.class);
  private final HadoopDruidIndexerConfig config;
  private Jobby job;
  private String hadoopJobIdFile;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidDetermineConfigurationJob.java`
#### Snippet
```java
  private final HadoopDruidIndexerConfig config;
  private Jobby job;
  private String hadoopJobIdFile;

  @Inject
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java
  private HadoopIngestionSpec schema;
  private PathSpec pathSpec;
  private String hadoopJobIdFileName;
  private final Map<Long, ShardSpecLookup> shardSpecLookups = new HashMap<>();
  private final Map<Long, Map<ShardSpec, HadoopyShardSpec>> hadoopShardSpecLookup = new HashMap<>();
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      extends HadoopDruidIndexerMapper<BytesWritable, Text>
  {
    private DeterminePartitionsDimSelectionMapperHelper helper;

    @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  private Job groupByJob;

  private String failureCause;

  DeterminePartitionsJob(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  private final HadoopDruidIndexerConfig config;

  private Job groupByJob;

  private String failureCause;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      extends Partitioner<BytesWritable, Text> implements Configurable
  {
    private Configuration config;

    @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    protected HadoopDruidIndexerConfig config;
    private List<String> metricNames = new ArrayList<>();
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    private List<String> metricNames = new ArrayList<>();
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    private static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

    private AggregatorFactory[] aggregators;

    private AggregatorFactory[] aggsForSerializingSegmentInputRow;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;

    protected ProgressIndicator makeProgressIndicator(final Context context)
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorReducer extends Reducer<BytesWritable, BytesWritable, BytesWritable, Text>
  {
    protected HadoopDruidIndexerConfig config;
    private List<String> metricNames = new ArrayList<>();
    private AggregatorFactory[] aggregators;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;

    @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java

    private AggregatorFactory[] aggsForSerializingSegmentInputRow;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;

    @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    private AggregatorFactory[] aggregators;

    private AggregatorFactory[] aggsForSerializingSegmentInputRow;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
    private HadoopDruidIndexerConfig config;
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;

```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorCombiner extends Reducer<BytesWritable, BytesWritable, BytesWritable, BytesWritable>
  {
    private HadoopDruidIndexerConfig config;
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  private final HadoopDruidIndexerConfig config;
  private IndexGeneratorStats jobStats;
  private Job job;

  public IndexGeneratorJob(
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorPartitioner extends Partitioner<BytesWritable, Writable> implements Configurable
  {
    private Configuration config;

    @Override
```

### NotNullFieldNotInitialized
@EverythingIsNonnullByDefault fields must be initialized
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  {
    private HadoopDruidIndexerConfig config;
    private AggregatorFactory[] aggregators;
    private AggregatorFactory[] combiningAggs;
    private Map<String, InputRowSerde.IndexSerdeTypeHelper> typeHelperMap;
```

## RuleId[ruleID=ObjectNotify]
### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
    synchronized (singleByteReaderDoer) {
      done = true;
      singleByteReaderDoer.notify();
    }
  }
```

### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
      done = true;
      throwable = t;
      singleByteReaderDoer.notify();
    }
  }
```

### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
      bytes.addLast(bytesToAdd);
      available += bytesToAdd.length;
      singleByteReaderDoer.notify();
    }
  }
```

### ObjectNotify
`notify` should probably be replaced with 'notifyAll()'
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableInputStreamFrameChannel.java`
#### Snippet
```java
                        synchronized (readMonitor) {
                          keepReading = true;
                          readMonitor.notify();
                        }
                      },
```

## RuleId[ruleID=UnnecessaryQualifierForThis]
### UnnecessaryQualifierForThis
Qualifier `LookupReferencesManager` on 'this' is unnecessary in this context
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
                  try {
                    handlePendingNotices();
                    LockSupport.parkNanos(LookupReferencesManager.this, TimeUnit.MINUTES.toNanos(1));
                  }
                  catch (Throwable t) {
```

### UnnecessaryQualifierForThis
Qualifier `QueryScheduler` on 'this' is unnecessary in this context
in `server/src/main/java/org/apache/druid/server/QueryScheduler.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) ->
        QueryScheduler.this.run(
            queryPlus.getQuery(), new LazySequence<>(() -> baseRunner.run(queryPlus, responseContext))
        );
```

### UnnecessaryQualifierForThis
Qualifier `DruidCoordinator` on 'this' is unnecessary in this context
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
        new LogUsedSegments(),
        new UpdateCoordinatorStateAndPrepareCluster(),
        new RunRules(DruidCoordinator.this),
        new UnloadUnusedSegments(),
        new MarkAsUnusedOvershadowedSegments(DruidCoordinator.this),
```

### UnnecessaryQualifierForThis
Qualifier `DruidCoordinator` on 'this' is unnecessary in this context
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
        new RunRules(DruidCoordinator.this),
        new UnloadUnusedSegments(),
        new MarkAsUnusedOvershadowedSegments(DruidCoordinator.this),
        new BalanceSegments(DruidCoordinator.this)
    );
```

### UnnecessaryQualifierForThis
Qualifier `DruidCoordinator` on 'this' is unnecessary in this context
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
        new UnloadUnusedSegments(),
        new MarkAsUnusedOvershadowedSegments(DruidCoordinator.this),
        new BalanceSegments(DruidCoordinator.this)
    );
  }
```

### UnnecessaryQualifierForThis
Qualifier `TimedShutoffFirehose` on 'this' is unnecessary in this context
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/TimedShutoffFirehoseFactory.java`
#### Snippet
```java

            try {
              TimedShutoffFirehose.this.close();
            }
            catch (IOException e) {
```

### UnnecessaryQualifierForThis
Qualifier `ExecutorRunnable` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java

            if (await.isEmpty()) {
              exec.submit(ExecutorRunnable.this);
            } else if (result.isAwaitAll() || await.size() == 1) {
              final List<ListenableFuture<?>> readabilityFutures = new ArrayList<>();
```

### UnnecessaryQualifierForThis
Qualifier `ExecutorRunnable` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java

              if (readabilityFutures.isEmpty()) {
                exec.submit(ExecutorRunnable.this);
              } else {
                runProcessorAfterFutureResolves(Futures.allAsList(readabilityFutures));
```

### UnnecessaryQualifierForThis
Qualifier `RunAllFullyRunnable` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java
                          }
                        }
                        exec.getExecutorService().submit(RunAllFullyRunnable.this);
                      }
                    },
```

### UnnecessaryQualifierForThis
Qualifier `SimpleFloatAggregatorFactory` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleFloatAggregatorFactory.java`
#### Snippet
```java
      return new StringColumnFloatAggregatorWrapper(
          selector,
          SimpleFloatAggregatorFactory.this::buildAggregator,
          nullValue()
      );
```

### UnnecessaryQualifierForThis
Qualifier `SimpleFloatAggregatorFactory` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleFloatAggregatorFactory.java`
#### Snippet
```java
      return new StringColumnFloatBufferAggregatorWrapper(
          selector,
          SimpleFloatAggregatorFactory.this::buildBufferAggregator,
          nullValue()
      );
```

### UnnecessaryQualifierForThis
Qualifier `SimpleLongAggregatorFactory` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleLongAggregatorFactory.java`
#### Snippet
```java
      return new StringColumnLongBufferAggregatorWrapper(
          selector,
          SimpleLongAggregatorFactory.this::buildBufferAggregator,
          nullValue()
      );
```

### UnnecessaryQualifierForThis
Qualifier `SimpleLongAggregatorFactory` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleLongAggregatorFactory.java`
#### Snippet
```java
      return new StringColumnLongAggregatorWrapper(
          selector,
          SimpleLongAggregatorFactory.this::buildAggregator,
          nullValue()
      );
```

### UnnecessaryQualifierForThis
Qualifier `JsonValueExprMacro` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
        final ExpressionType castTo = ExpressionType.fromString((String) args.get(2).getLiteralValue());
        if (castTo == null) {
          throw JsonValueExprMacro.this.validationFailed(
              "invalid output type: [%s]",
              args.get(2).getLiteralValue()
```

### UnnecessaryQualifierForThis
Qualifier `SimpleDoubleAggregatorFactory` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleDoubleAggregatorFactory.java`
#### Snippet
```java
      return new StringColumnDoubleAggregatorWrapper(
          selector,
          SimpleDoubleAggregatorFactory.this::buildAggregator,
          nullValue()
      );
```

### UnnecessaryQualifierForThis
Qualifier `SimpleDoubleAggregatorFactory` on 'this' is unnecessary in this context
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleDoubleAggregatorFactory.java`
#### Snippet
```java
      return new StringColumnDoubleBufferAggregatorWrapper(
          selector,
          SimpleDoubleAggregatorFactory.this::buildBufferAggregator,
          nullValue()
      );
```

### UnnecessaryQualifierForThis
Qualifier `KinesisSamplerSpec` on 'this' is unnecessary in this context
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisSamplerSpec.java`
#### Snippet
```java
  protected KinesisRecordSupplier createRecordSupplier()
  {
    KinesisSupervisorIOConfig ioConfig = (KinesisSupervisorIOConfig) KinesisSamplerSpec.this.ioConfig;
    KinesisSupervisorTuningConfig tuningConfig = ((KinesisSupervisorTuningConfig) KinesisSamplerSpec.this.tuningConfig);

```

### UnnecessaryQualifierForThis
Qualifier `KinesisSamplerSpec` on 'this' is unnecessary in this context
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisSamplerSpec.java`
#### Snippet
```java
  {
    KinesisSupervisorIOConfig ioConfig = (KinesisSupervisorIOConfig) KinesisSamplerSpec.this.ioConfig;
    KinesisSupervisorTuningConfig tuningConfig = ((KinesisSupervisorTuningConfig) KinesisSamplerSpec.this.tuningConfig);

    return new KinesisRecordSupplier(
```

### UnnecessaryQualifierForThis
Qualifier `MaterializedViewSupervisor` on 'this' is unnecessary in this context
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      final Duration delay = config.getTaskCheckDuration().toStandardDuration();
      future = exec.scheduleWithFixedDelay(
          MaterializedViewSupervisor.this::run,
          0,
          delay.getMillis(),
```

### UnnecessaryQualifierForThis
Qualifier `MovingAverageQuery` on 'this' is unnecessary in this context
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQuery.java`
#### Snippet
```java
      postProcFn = Functions.compose(
          postProcFn,
          sequence -> Sequences.filter(sequence, MovingAverageQuery.this.havingSpec::eval)
      );
    }
```

## RuleId[ruleID=SizeReplaceableByIsEmpty]
### SizeReplaceableByIsEmpty
`rels.size() > 0` can be replaced with '!rels.isEmpty()'
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidUnionRel.java`
#### Snippet
```java
  )
  {
    Preconditions.checkState(rels.size() > 0, "rels must be nonempty");

    return new DruidUnionRel(
```

### SizeReplaceableByIsEmpty
`newChildren.size() == 0` can be replaced with 'newChildren.isEmpty()'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

      final DimFilter newFilter;
      if (newChildren.size() == 0) {
        newFilter = null;
      } else if (newChildren.size() == 1) {
```

### SizeReplaceableByIsEmpty
`newChildren.size() > 0` can be replaced with '!newChildren.isEmpty()'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java

    // Finally: Go through newChildren, removing or potentially exiting early based on TRUE / FALSE marker filters.
    Preconditions.checkState(newChildren.size() > 0, "newChildren.size > 0");

    final Iterator<DimFilter> iterator = newChildren.iterator();
```

### SizeReplaceableByIsEmpty
`dimValues.size() > 0` can be replaced with '!dimValues.isEmpty()'
in `core/src/main/java/org/apache/druid/data/input/Rows.java`
#### Snippet
```java
    for (final String dim : inputRow.getDimensions()) {
      final Set<String> dimValues = ImmutableSortedSet.copyOf(inputRow.getDimension(dim));
      if (dimValues.size() > 0) {
        dims.put(dim, dimValues);
      }
```

### SizeReplaceableByIsEmpty
`toMerge.size() == 0` can be replaced with 'toMerge.isEmpty()'
in `core/src/main/java/org/apache/druid/data/input/impl/TimestampSpec.java`
#### Snippet
```java
  public static TimestampSpec mergeTimestampSpec(List<TimestampSpec> toMerge)
  {
    if (toMerge == null || toMerge.size() == 0) {
      return null;
    }
```

### SizeReplaceableByIsEmpty
`buffer.size() == 0` can be replaced with 'buffer.isEmpty()'
in `core/src/main/java/org/apache/druid/data/input/impl/FastLineIterator.java`
#### Snippet
```java
    }

    if (endOfFile && buffer.size() == 0) {
      // empty line and end of file
      nextLine = null;
```

### SizeReplaceableByIsEmpty
`fetchedFiles.size() > 0` can be replaced with '!fetchedFiles.isEmpty()'
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/Fetcher.java`
#### Snippet
```java
  private OpenObject<T> openObjectFromRemote() throws IOException
  {
    if (fetchedFiles.size() > 0) {
      // If fetchedFiles is not empty even though prefetching is disabled, they should be cached files.
      // We use them first. See (*).
```

### SizeReplaceableByIsEmpty
`number.length() == 0` can be replaced with 'number.isEmpty()'
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java

    number = number.trim();
    if (number.length() == 0) {
      throw new IAE("Invalid format of number: number is blank");
    }
```

### SizeReplaceableByIsEmpty
`number.length() == 0` can be replaced with 'number.isEmpty()'
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java

    number = number.trim();
    if (number.length() == 0) {
      return nullValue;
    }
```

### SizeReplaceableByIsEmpty
`toMerge.size() == 0` can be replaced with 'toMerge.isEmpty()'
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularity.java`
#### Snippet
```java
  public static Granularity mergeGranularities(List<Granularity> toMerge)
  {
    if (toMerge == null || toMerge.size() == 0) {
      return null;
    }
```

### SizeReplaceableByIsEmpty
`partitionMetrics.size() > 0` can be replaced with '!partitionMetrics.isEmpty()'
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
      long totalPoolTasks = 1 + 1 + partitionMetrics.size();

      long fastestPartInitialized = partitionMetrics.size() > 0 ? Long.MAX_VALUE : mergeMetrics.getPartitionInitializedtime();
      long slowestPartInitialied = partitionMetrics.size() > 0 ? Long.MIN_VALUE : mergeMetrics.getPartitionInitializedtime();

```

### SizeReplaceableByIsEmpty
`partitionMetrics.size() > 0` can be replaced with '!partitionMetrics.isEmpty()'
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java

      long fastestPartInitialized = partitionMetrics.size() > 0 ? Long.MAX_VALUE : mergeMetrics.getPartitionInitializedtime();
      long slowestPartInitialied = partitionMetrics.size() > 0 ? Long.MIN_VALUE : mergeMetrics.getPartitionInitializedtime();

      // accumulate input row count, cpu time, and total number of tasks from each partition
```

### SizeReplaceableByIsEmpty
`cursors.size() > 0` can be replaced with '!cursors.isEmpty()'
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
          }
        }
        if (cursors.size() > 0) {
          getPool().execute(new MergeCombineAction<T>(
              cursors,
```

### SizeReplaceableByIsEmpty
`applyFunctionExpr.analyzeInputs().getFreeVariables().size() == 0` can be replaced with 'applyFunctionExpr.analyzeInputs().getFreeVariables().isEmpty()'
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
        List<Expr> args = applyFunctionExpr.argsExpr;
        if (Evals.isAllConstants(args)) {
          if (applyFunctionExpr.analyzeInputs().getFreeVariables().size() == 0) {
            return childExpr.eval(InputBindings.nilBindings()).toExpr();
          }
```

### SizeReplaceableByIsEmpty
`ids.size() > 0` can be replaced with '!ids.isEmpty()'
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      this.arrayElementType = arrayElementType;
      List<String> ids = expr.getIdentifiers();
      this.scoped = ids.size() > 0;
      this.lambdaIdentifiers = new Object2IntArrayMap<>(ids.size());
      for (int i = 0; i < ids.size(); i++) {
```

### SizeReplaceableByIsEmpty
`collection.size() > 0` can be replaced with '!collection.isEmpty()'
in `core/src/main/java/org/apache/druid/query/cache/CacheKeyBuilder.java`
#### Snippet
```java
  )
  {
    if (collection != null && collection.size() > 0) {
      List<byte[]> byteArrayList = Lists.newArrayListWithCapacity(collection.size());
      int totalByteLength = 0;
```

### SizeReplaceableByIsEmpty
`args.size() == 0` can be replaced with 'args.isEmpty()'
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      if (args.size() == 0) {
        return ExprEval.of(null);
      } else {
```

### SizeReplaceableByIsEmpty
`val.size() > 0` can be replaced with '!val.isEmpty()'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
  {
    // if value is not null and has at least 1 element, conversion is unambigous regardless of the selector
    if (val != null && val.size() > 0) {
      Class<?> coercedType = null;

```

### SizeReplaceableByIsEmpty
`responseHolder.getContent().length() == 0` can be replaced with 'responseHolder.getContent().isEmpty()'
in `server/src/main/java/org/apache/druid/client/indexing/HttpIndexingServiceClient.java`
#### Snippet
```java
      );

      if (responseHolder.getContent().length() == 0 || !HttpResponseStatus.OK.equals(responseHolder.getStatus())) {
        if (responseHolder.getStatus() == HttpResponseStatus.NOT_FOUND) {
          log.info("Report not found for taskId [%s] because [%s]", taskId, responseHolder.getContent());
```

### SizeReplaceableByIsEmpty
`modules.size() > 0` can be replaced with '!modules.isEmpty()'
in `server/src/main/java/org/apache/druid/server/StatusResource.java`
#### Snippet
```java
      output.append(StringUtils.format("Druid version - %s", version)).append(lineSeparator).append(lineSeparator);

      if (modules.size() > 0) {
        output.append("Registered Druid Modules").append(lineSeparator);
      } else {
```

### SizeReplaceableByIsEmpty
`dataSourceState.tablesLookup.size() > 0` can be replaced with '!dataSourceState.tablesLookup.isEmpty()'
in `server/src/main/java/org/apache/druid/server/SegmentManager.java`
#### Snippet
```java
                log.error("Cannot load segment[%s] with IndexedTable, no existing segments are joinable", segment.getId());
              }
            } else if (dataSourceState.tablesLookup.size() > 0) {
              log.error("Cannot load segment[%s] without IndexedTable, all existing segments are joinable", segment.getId());
            }
```

### SizeReplaceableByIsEmpty
`dataSources.get(dataSourceName).tablesLookup.size() > 0` can be replaced with '!dataSources.get(dataSourceName).tablesLookup.isEmpty()'
in `server/src/main/java/org/apache/druid/server/SegmentManager.java`
#### Snippet
```java
  {
    if (dataSources.containsKey(dataSourceName)) {
      return dataSources.get(dataSourceName).tablesLookup.size() > 0;
    }
    return false;
```

### SizeReplaceableByIsEmpty
`nodeKeySlots.size() == 0` can be replaced with 'nodeKeySlots.isEmpty()'
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  public String findKey(byte[] obj)
  {
    if (nodeKeySlots.size() == 0) {
      return null;
    }
```

### SizeReplaceableByIsEmpty
`lanes.size() > 0` can be replaced with '!lanes.isEmpty()'
in `server/src/main/java/org/apache/druid/server/scheduling/ManualQueryLaningStrategy.java`
#### Snippet
```java
    this.lanes = Preconditions.checkNotNull(lanes, "lanes must be set");
    this.isLimitPercent = isLimitPercent != null ? isLimitPercent : false;
    Preconditions.checkArgument(lanes.size() > 0, "lanes must define at least one lane");
    Preconditions.checkArgument(
        lanes.values().stream().allMatch(x -> this.isLimitPercent ? 0 < x && x <= 100 : x > 0),
```

### SizeReplaceableByIsEmpty
`newRequests.size() == 0` can be replaced with 'newRequests.isEmpty()'
in `server/src/main/java/org/apache/druid/server/coordinator/HttpLoadQueuePeon.java`
#### Snippet
```java
    }

    if (newRequests.size() == 0) {
      log.trace(
          "[%s]Found no load/drop requests. SegmentsToLoad[%d], SegmentsToDrop[%d], batchSize[%d].",
```

### SizeReplaceableByIsEmpty
`usableServerHolders.size() == 0` can be replaced with 'usableServerHolders.isEmpty()'
in `server/src/main/java/org/apache/druid/server/coordinator/RandomBalancerStrategy.java`
#### Snippet
```java
            proposalSegment)
    ).collect(Collectors.toList());
    if (usableServerHolders.size() == 0) {
      return null;
    } else {
```

### SizeReplaceableByIsEmpty
`filteredList.size() > 0` can be replaced with '!filteredList.isEmpty()'
in `server/src/main/java/org/apache/druid/server/security/AuthorizationUtils.java`
#### Snippet
```java
      );

      if (filteredList.size() > 0) {
        filteredResources.put(
            entry.getKey(),
```

### SizeReplaceableByIsEmpty
`params.getUsedSegments().size() == 0` can be replaced with 'params.getUsedSegments().isEmpty()'
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java

    log.info("Balancing segments in tier [%s]", tier);
    if (params.getUsedSegments().size() == 0) {
      log.info("Metadata segments are not available. Cannot balance.");
      // suppress emit zero stats
```

### SizeReplaceableByIsEmpty
`toMoveToWithLoadQueueCapacityAndNotServingSegment.size() > 0` can be replaced with '!toMoveToWithLoadQueueCapacityAndNotServingSegment.isEmpty()'
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java
                    .collect(Collectors.toList());

        if (toMoveToWithLoadQueueCapacityAndNotServingSegment.size() > 0) {
          final ServerHolder destinationHolder =
              strategy.findNewSegmentHomeBalancer(segmentToMove, toMoveToWithLoadQueueCapacityAndNotServingSegment);
```

### SizeReplaceableByIsEmpty
`tieredReplicants.size() == 0` can be replaced with 'tieredReplicants.isEmpty()'
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
  protected static void validateTieredReplicants(final Map<String, Integer> tieredReplicants)
  {
    if (tieredReplicants.size() == 0) {
      throw new IAE("A rule with empty tiered replicants is invalid");
    }
```

### SizeReplaceableByIsEmpty
`failedSegments.size() > 0` can be replaced with '!failedSegments.isEmpty()'
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
        latch.await();

        if (failedSegments.size() > 0) {
          log.makeAlert("%,d errors seen while loading segments", failedSegments.size())
             .addData("failedSegments", failedSegments)
```

### SizeReplaceableByIsEmpty
`index.size() != 0` can be replaced with '!index.isEmpty()'
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Sink.java`
#### Snippet
```java
          {
            final IncrementalIndex index = input.getIndex();
            return index == null || index.size() != 0;
          }
        }
```

### SizeReplaceableByIsEmpty
`currHydrant.getIndex().size() != 0` can be replaced with '!currHydrant.getIndex().isEmpty()'
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Sink.java`
#### Snippet
```java
  {
    synchronized (hydrantLock) {
      return writable && currHydrant.getIndex() != null && currHydrant.getIndex().size() != 0;
    }
  }
```

### SizeReplaceableByIsEmpty
`sqls.size() > 0` can be replaced with '!sqls.isEmpty()'
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/SqlFirehoseFactory.java`
#### Snippet
```java
        objectMapper
    );
    Preconditions.checkArgument(sqls.size() > 0, "No SQL queries provided");

    this.sqls = sqls;
```

### SizeReplaceableByIsEmpty
`uris.size() > 0` can be replaced with '!uris.isEmpty()'
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/HttpFirehoseFactory.java`
#### Snippet
```java
  {
    super(maxCacheCapacityBytes, maxFetchCapacityBytes, prefetchTriggerBytes, fetchTimeout, maxFetchRetry);
    Preconditions.checkArgument(uris.size() > 0, "Empty URIs");
    HttpInputSource.throwIfInvalidProtocols(inputSourceConfig, uris);
    this.uris = uris;
```

### SizeReplaceableByIsEmpty
`entry.length() > 0` can be replaced with '!entry.isEmpty()'
in `server/src/main/java/org/apache/druid/metadata/BasicDataSourceExt.java`
#### Snippet
```java
    Properties properties = new Properties();
    for (String entry : entries) {
      if (entry.length() > 0) {
        int index = entry.indexOf('=');
        if (index > 0) {
```

### SizeReplaceableByIsEmpty
`sqls.size() > 0` can be replaced with '!sqls.isEmpty()'
in `server/src/main/java/org/apache/druid/metadata/input/SqlInputSource.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(sqls.size() > 0, "No SQL queries provided");

    this.sqls = sqls;
```

### SizeReplaceableByIsEmpty
`currNodes.size() == 0` can be replaced with 'currNodes.isEmpty()'
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
      ImmutableList<Server> currNodes = nodes;

      if (currNodes.size() == 0) {
        return null;
      }
```

### SizeReplaceableByIsEmpty
`utf8Data.size() > 0` can be replaced with '!utf8Data.isEmpty()'
in `processing/src/main/java/org/apache/druid/frame/write/columnar/StringFrameColumnWriter.java`
#### Snippet
```java
    // bytes would have been allocated yet.
    final MemoryRange<WritableMemory> stringLengthsCursor =
        utf8Data.size() > 0 ? cumulativeStringLengths.cursor() : null;
    final MemoryRange<WritableMemory> stringDataCursor =
        utf8DataByteLength > 0 ? stringData.cursor() : null;
```

### SizeReplaceableByIsEmpty
`utf8Data.size() > 0` can be replaced with '!utf8Data.isEmpty()'
in `processing/src/main/java/org/apache/druid/frame/write/columnar/StringFrameColumnWriter.java`
#### Snippet
```java
    }

    if (utf8Data.size() > 0) {
      cumulativeStringLengths.advanceCursor(Integer.BYTES * utf8Data.size());
    }
```

### SizeReplaceableByIsEmpty
`chunks.size() > 0` can be replaced with '!chunks.isEmpty()'
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
  private boolean canReadError()
  {
    return chunks.size() > 0 && chunks.get(0).isError();
  }

```

### SizeReplaceableByIsEmpty
`this.columns.size() > 0` can be replaced with '!this.columns.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/scan/ScanQuery.java`
#### Snippet
```java
    this.timeOrder = ordering.rhs;

    if (this.columns != null && this.columns.size() > 0) {
      // Validate orderBy. (Cannot validate when signature is empty, since that means "discover at runtime".)

```

### SizeReplaceableByIsEmpty
`aggregatorSpecs.size() > 0` can be replaced with '!aggregatorSpecs.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java
    Preconditions.checkNotNull(aggregatorSpecs, "aggregations cannot be null");
    Preconditions.checkArgument(
        aggregatorSpecs.size() > 0 || postAggregatorSpecs.size() > 0,
        "Must have at least one AggregatorFactory or PostAggregator"
    );
```

### SizeReplaceableByIsEmpty
`postAggregatorSpecs.size() > 0` can be replaced with '!postAggregatorSpecs.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java
    Preconditions.checkNotNull(aggregatorSpecs, "aggregations cannot be null");
    Preconditions.checkArgument(
        aggregatorSpecs.size() > 0 || postAggregatorSpecs.size() > 0,
        "Must have at least one AggregatorFactory or PostAggregator"
    );
```

### SizeReplaceableByIsEmpty
`intervals.size() > 0` can be replaced with '!intervals.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java
    Preconditions.checkNotNull(dimension, "dimension can not be null");
    Preconditions.checkNotNull(intervals, "intervals can not be null");
    Preconditions.checkArgument(intervals.size() > 0, "must specify at least one interval");
    this.dimension = dimension;
    this.intervals = Collections.unmodifiableList(JodaUtils.condenseIntervals(intervals));
```

### SizeReplaceableByIsEmpty
`fields.size() > 0` can be replaced with '!fields.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
  {
    fields = DimFilters.filterNulls(fields);
    Preconditions.checkArgument(fields.size() > 0, "AND operator requires at least one field");
    this.fields = fields;
  }
```

### SizeReplaceableByIsEmpty
`fields.size() > 0` can be replaced with '!fields.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
  {
    fields = DimFilters.filterNulls(fields);
    Preconditions.checkArgument(fields.size() > 0, "OR operator requires at least one field");
    this.fields = fields;
  }
```

### SizeReplaceableByIsEmpty
`bitmapSuppDims.size() > 0` can be replaced with '!bitmapSuppDims.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
      final List<DimensionSpec> nonBitmapSuppDims = pair.rhs;

      if (bitmapSuppDims.size() > 0) {
        final ColumnIndexSelector selector = new ColumnSelectorColumnIndexSelector(
            index.getBitmapFactoryForDimensions(),
```

### SizeReplaceableByIsEmpty
`nonBitmapSuppDims.size() > 0` can be replaced with '!nonBitmapSuppDims.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
      }

      if (nonBitmapSuppDims.size() > 0) {
        builder.add(new CursorBasedExecutor(query, segment, filter, interval, nonBitmapSuppDims));
      }
```

### SizeReplaceableByIsEmpty
`dimensionSpecs.size() > 0` can be replaced with '!dimensionSpecs.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
          public Object apply(Result<SearchResultValue> input)
          {
            return dimensionSpecs.size() > 0
                   ? Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue(), dimOutputNames)
                   : Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue());
```

### SizeReplaceableByIsEmpty
`dimensionSpecs.size() > 0` can be replaced with '!dimensionSpecs.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
      private final List<DimensionSpec> dimensionSpecs =
          query.getDimensions() != null ? query.getDimensions() : Collections.emptyList();
      private final List<String> dimOutputNames = dimensionSpecs.size() > 0
                                                  ?
                                                  Lists.transform(dimensionSpecs, DimensionSpec::getOutputName)
```

### SizeReplaceableByIsEmpty
`arrayNode.size() == 0` can be replaced with 'arrayNode.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/context/ResponseContext.java`
#### Snippet
```java
        final ArrayNode arrayNode = (ArrayNode) node;
        int removed = removeNodeElementsToSatisfyCharsLimit(arrayNode, needToRemoveCharsNumber);
        if (arrayNode.size() == 0) {
          // The field is now empty, removing it because an empty array field may be misleading
          // for the recipients of the truncated response context.
```

### SizeReplaceableByIsEmpty
`node.size() > 0` can be replaced with '!node.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/context/ResponseContext.java`
#### Snippet
```java
    int nodeLen = node.toString().length();
    final int startLen = nodeLen;
    while (node.size() > 0 && target > startLen - nodeLen) {
      // Reducing complexity by removing half of array's elements
      final int removeUntil = node.size() / 2;
```

### SizeReplaceableByIsEmpty
`dims.size() > 0` can be replaced with '!dims.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryEngine.java`
#### Snippet
```java
    private List<ByteBuffer> updateValues(ByteBuffer key, List<DimensionSelector> dims)
    {
      if (dims.size() > 0) {
        final DimensionSelector dimSelector = dims.get(0);
        final IndexedInts row = dimSelector.getRow();
```

### SizeReplaceableByIsEmpty
`subtotalSpecs.size() == 0` can be replaced with 'subtotalSpecs.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV2.java`
#### Snippet
```java

    }
    if (subtotalSpecs == null || subtotalSpecs.size() == 0) {
      return numMergeBuffersNeededForSubQuerySubtotal;
    }
```

### SizeReplaceableByIsEmpty
`str1.length() == 0` can be replaced with 'str1.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
      } else if (str2 == null) {
        return 1;
      } else if (str1.length() == 0) {
        return str2.length() == 0 ? 0 : -1;
      } else if (str2.length() == 0) {
```

### SizeReplaceableByIsEmpty
`str2.length() == 0` can be replaced with 'str2.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
        return 1;
      } else if (str1.length() == 0) {
        return str2.length() == 0 ? 0 : -1;
      } else if (str2.length() == 0) {
        return 1;
```

### SizeReplaceableByIsEmpty
`str2.length() == 0` can be replaced with 'str2.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
      } else if (str1.length() == 0) {
        return str2.length() == 0 ? 0 : -1;
      } else if (str2.length() == 0) {
        return 1;
      }
```

### SizeReplaceableByIsEmpty
`values.size() > 0` can be replaced with '!values.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/dimension/ListFilteredDimensionSpec.java`
#### Snippet
```java
    super(delegate);

    Preconditions.checkArgument(values != null && values.size() > 0, "values list must be non-empty");
    this.values = values;

```

### SizeReplaceableByIsEmpty
`sortedDoubles.size() == 0` can be replaced with 'sortedDoubles.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/expression/ArrayQuantileExprMacro.java`
#### Snippet
```java
  static double quantileFromSortedArray(final DoubleList sortedDoubles, final double rank)
  {
    if (sortedDoubles.size() == 0 || rank < 0 || rank > 1) {
      return Double.NaN;
    }
```

### SizeReplaceableByIsEmpty
`fields.size() > 0` can be replaced with '!fields.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongGreatestPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### SizeReplaceableByIsEmpty
`fields.size() > 0` can be replaced with '!fields.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleLeastPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### SizeReplaceableByIsEmpty
`fields.size() > 0` can be replaced with '!fields.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongLeastPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### SizeReplaceableByIsEmpty
`fields.size() > 0` can be replaced with '!fields.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleGreatestPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### SizeReplaceableByIsEmpty
`resultList.size() > 0` can be replaced with '!resultList.isEmpty()'
in `processing/src/main/java/org/apache/druid/query/timeboundary/TimeBoundaryQueryRunnerFactory.java`
#### Snippet
```java
      );
      final List<Result<DateTime>> resultList = resultSequence.limit(1).toList();
      if (resultList.size() > 0) {
        return resultList.get(0).getValue();
      }
```

### SizeReplaceableByIsEmpty
`str.length() == 0` can be replaced with 'str.isEmpty()'
in `processing/src/main/java/org/apache/druid/jackson/JodaStuff.java`
#### Snippet
```java
      if (t == JsonToken.VALUE_STRING) {
        String str = jp.getText().trim();
        if (str.length() == 0) { // [JACKSON-360]
          return null;
        }
```

### SizeReplaceableByIsEmpty
`indexes.size() == 0` can be replaced with 'indexes.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  )
  {
    if (indexes.size() == 0) {
      return ImmutableList.of();
    }
```

### SizeReplaceableByIsEmpty
`toBeMerged.size() == 0` can be replaced with 'toBeMerged.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/Metadata.java`
#### Snippet
```java
  )
  {
    if (toBeMerged == null || toBeMerged.size() == 0) {
      return null;
    }
```

### SizeReplaceableByIsEmpty
`val.size() == 0` can be replaced with 'val.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/data/RoaringBitmapSerdeFactory.java`
#### Snippet
```java
    public byte[] toBytes(@Nullable ImmutableBitmap val)
    {
      if (val == null || val.size() == 0) {
        return new byte[]{};
      }
```

### SizeReplaceableByIsEmpty
`index.size() > 0` can be replaced with '!index.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/join/table/RowBasedIndexBuilder.java`
#### Snippet
```java
    final boolean keysUnique = index.size() == currentRow - nullKeys;

    if (keyType.is(ValueType.LONG) && keysUnique && index.size() > 0) {
      // May be a good candidate for UniqueLongArrayIndex. Check the range of values as compared to min and max.
      long range;
```

### SizeReplaceableByIsEmpty
`clause.getCondition().getEquiConditions().size() > 0` can be replaced with '!clause.getCondition().getEquiConditions().isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/join/JoinableFactoryWrapper.java`
#### Snippet
```java
    if (clause.getJoinType() == JoinType.INNER
        && clause.getCondition().getNonEquiConditions().isEmpty()
        && clause.getCondition().getEquiConditions().size() > 0) {
      final List<Filter> filters = new ArrayList<>();
      int numValues = maxNumFilterValues;
```

### SizeReplaceableByIsEmpty
`correlations.size() == 0` can be replaced with 'correlations.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
    }

    if (correlations.size() == 0) {
      return Optional.empty();
    } else {
```

### SizeReplaceableByIsEmpty
`filters.size() > 0` can be replaced with '!filters.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/filter/OrFilter.java`
#### Snippet
```java
  public OrFilter(LinkedHashSet<Filter> filters)
  {
    Preconditions.checkArgument(filters.size() > 0, "Can't construct empty OrFilter (the universe does not exist)");
    this.filters = filters;
  }
```

### SizeReplaceableByIsEmpty
`bitmaps.size() > 0` can be replaced with '!bitmaps.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/filter/OrFilter.java`
#### Snippet
```java
    }

    if (bitmaps.size() > 0) {
      ImmutableBitmap combinedBitmap = selector.getBitmapFactory().union(bitmaps);
      ValueMatcher offsetMatcher = rowOffsetMatcherFactory.makeRowOffsetMatcher(combinedBitmap);
```

### SizeReplaceableByIsEmpty
`filters.size() > 0` can be replaced with '!filters.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/filter/AndFilter.java`
#### Snippet
```java
  public AndFilter(LinkedHashSet<Filter> filters)
  {
    Preconditions.checkArgument(filters.size() > 0, "Can't construct empty AndFilter");
    this.filters = filters;
  }
```

### SizeReplaceableByIsEmpty
`bitmaps.size() > 0` can be replaced with '!bitmaps.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/filter/AndFilter.java`
#### Snippet
```java
    }

    if (bitmaps.size() > 0) {
      ImmutableBitmap combinedBitmap = selector.getBitmapFactory().intersection(bitmaps);
      ValueMatcher offsetMatcher = rowOffsetMatcherFactory.makeRowOffsetMatcher(combinedBitmap);
```

### SizeReplaceableByIsEmpty
`doubleLookup.size() == 0` can be replaced with 'doubleLookup.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/nested/GlobalDictionaryIdLookup.java`
#### Snippet
```java
  {
    Preconditions.checkState(
        doubleLookup.size() == 0,
        "All long values must be inserted to the lookup before double types"
    );
```

### SizeReplaceableByIsEmpty
`longLookup.size() == 0` can be replaced with 'longLookup.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/nested/GlobalDictionaryIdLookup.java`
#### Snippet
```java
  {
    Preconditions.checkState(
        longLookup.size() == 0 && doubleLookup.size() == 0,
        "All string values must be inserted to the lookup before long and double types"
    );
```

### SizeReplaceableByIsEmpty
`doubleLookup.size() == 0` can be replaced with 'doubleLookup.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/nested/GlobalDictionaryIdLookup.java`
#### Snippet
```java
  {
    Preconditions.checkState(
        longLookup.size() == 0 && doubleLookup.size() == 0,
        "All string values must be inserted to the lookup before long and double types"
    );
```

### SizeReplaceableByIsEmpty
`ignoredColumns.size() > 0` can be replaced with '!ignoredColumns.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/virtual/RowBasedExpressionColumnValueSelector.java`
#### Snippet
```java

    // eliminate anything that will never be an array
    if (ignoredColumns.size() > 0) {
      unknownColumns.removeAll(ignoredColumns);
      ignoredColumns.clear();
```

### SizeReplaceableByIsEmpty
`arrayBindings.size() > 0` can be replaced with '!arrayBindings.isEmpty()'
in `processing/src/main/java/org/apache/druid/segment/virtual/RowBasedExpressionColumnValueSelector.java`
#### Snippet
```java
    // if there are arrays, we need to transform the expression to one that applies each value of the array to the
    // base expression, we keep a cache of transformed expressions to minimize extra work
    if (arrayBindings.size() > 0) {
      final int key = arrayBindings.hashCode();
      if (transformedCache.containsKey(key)) {
```

### SizeReplaceableByIsEmpty
`bitmap.size() == 0` can be replaced with 'bitmap.isEmpty()'
in `processing/src/main/java/org/apache/druid/collections/bitmap/WrappedImmutableConciseBitmap.java`
#### Snippet
```java
  public boolean isEmpty()
  {
    return bitmap.size() == 0;
  }

```

### SizeReplaceableByIsEmpty
`bitmap.size() == 0` can be replaced with 'bitmap.isEmpty()'
in `processing/src/main/java/org/apache/druid/collections/bitmap/WrappedConciseBitmap.java`
#### Snippet
```java
  public boolean isEmpty()
  {
    return bitmap.size() == 0;
  }

```

### SizeReplaceableByIsEmpty
`dimValues.size() > 0` can be replaced with '!dimValues.isEmpty()'
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceSerde.java`
#### Snippet
```java

        List<String> dimValues = inputRow.getDimension(metricName);
        if (dimValues != null && dimValues.size() > 0) {
          for (String dimValue : dimValues) {
            float value = Float.parseFloat(dimValue);
```

### SizeReplaceableByIsEmpty
`objectListing.getObjectSummaries().size() > 0` can be replaced with '!objectListing.getObjectSummaries().isEmpty()'
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/S3StorageConnector.java`
#### Snippet
```java
    ListObjectsV2Result objectListing = s3Client.listObjectsV2(listObjectsRequest);

    while (objectListing.getObjectSummaries().size() > 0) {
      List<DeleteObjectsRequest.KeyVersion> deleteObjectsRequestKeys = objectListing.getObjectSummaries()
                                                                                    .stream()
```

### SizeReplaceableByIsEmpty
`objectListing.getObjectSummaries().size() > 0` can be replaced with '!objectListing.getObjectSummaries().isEmpty()'
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/S3StorageConnector.java`
#### Snippet
```java
    ListObjectsV2Result objectListing = s3Client.listObjectsV2(listObjectsRequest);

    while (objectListing.getObjectSummaries().size() > 0) {
      objectListing.getObjectSummaries()
                   .stream().map(S3ObjectSummary::getKey)
```

### SizeReplaceableByIsEmpty
`listResult.getObjectSummaries().size() == 0` can be replaced with 'listResult.getObjectSummaries().isEmpty()'
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentMover.java`
#### Snippet
```java
      // it is observed that even though the getObjectSummaries returns some data
      // keyCount is still zero.
      if (listResult.getObjectSummaries().size() == 0) {
        // should never happen
        throw new ISE("Unable to list object [s3://%s/%s]", s3Bucket, s3Path);
```

### SizeReplaceableByIsEmpty
`principal.trim().length() == 0` can be replaced with 'principal.trim().isEmpty()'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosAuthenticationHandler.java`
#### Snippet
```java
    try {
      String principal = config.getProperty(PRINCIPAL);
      if (principal == null || principal.trim().length() == 0) {
        throw new ServletException("Principal not defined in configuration");
      }
```

### SizeReplaceableByIsEmpty
`keytab.trim().length() == 0` can be replaced with 'keytab.trim().isEmpty()'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosAuthenticationHandler.java`
#### Snippet
```java
      }
      keytab = config.getProperty(KEYTAB, keytab);
      if (keytab == null || keytab.trim().length() == 0) {
        throw new ServletException("Keytab not defined in configuration");
      }
```

### SizeReplaceableByIsEmpty
`keysToDelete.size() > 0` can be replaced with '!keysToDelete.isEmpty()'
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
    }

    if (keysToDelete.size() > 0) {
      deleteBucketKeys(s3Client, bucket, keysToDelete);
      log.info("Deleted %d files", keysToDelete.size());
```

### SizeReplaceableByIsEmpty
`result.getObjectSummaries().size() == 0` can be replaced with 'result.getObjectSummaries().isEmpty()'
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
    // it is observed that even though the getObjectSummaries returns some data
    // keyCount is still zero.
    if (result.getObjectSummaries().size() == 0) {
      throw new ISE("Cannot find object for bucket[%s] and key[%s]", bucket, key);
    }
```

### SizeReplaceableByIsEmpty
`token.length() > 0` can be replaced with '!token.isEmpty()'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosAuthenticator.java`
#### Snippet
```java
    StringBuilder sb = new StringBuilder(AuthenticatedURL.AUTH_COOKIE)
        .append("=");
    if (token != null && token.length() > 0) {
      sb.append("\"").append(token).append("\"");
    }
```

### SizeReplaceableByIsEmpty
`serverPrincipal.trim().length() == 0` can be replaced with 'serverPrincipal.trim().isEmpty()'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosAuthenticator.java`
#### Snippet
```java

    try {
      if (serverPrincipal == null || serverPrincipal.trim().length() == 0) {
        throw new ServletException("Principal not defined in configuration");
      }
```

### SizeReplaceableByIsEmpty
`keytab.trim().length() == 0` can be replaced with 'keytab.trim().isEmpty()'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosAuthenticator.java`
#### Snippet
```java
      }
      keytab = serverKeytab;
      if (keytab == null || keytab.trim().length() == 0) {
        throw new ServletException("Keytab not defined in configuration");
      }
```

### SizeReplaceableByIsEmpty
`schemas.size() > 0` can be replaced with '!schemas.isEmpty()'
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/InlineSchemasAvroBytesDecoder.java`
#### Snippet
```java
  {
    Preconditions.checkArgument(
        schemas != null && schemas.size() > 0,
        "at least one schema must be provided in schemas attribute"
    );
```

### SizeReplaceableByIsEmpty
`sortOrder.size() > 0` can be replaced with '!sortOrder.isEmpty()'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQTaskQueryMakerUtils.java`
#### Snippet
```java
    }

    if (sortOrder.size() > 0
        && allOutputColumns.contains(ColumnHolder.TIME_COLUMN_NAME)
        && !ColumnHolder.TIME_COLUMN_NAME.equals(sortOrder.get(0))) {
```

### SizeReplaceableByIsEmpty
`pendingInflowMap.get(dependentStageId).size() == 0` can be replaced with 'pendingInflowMap.get(dependentStageId).isEmpty()'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/controller/ControllerQueryKernel.java`
#### Snippet
```java
        pendingInflowMap.get(dependentStageId).remove(stageId);
        // Check the dependent stage. If it has no dependencies left, it can be marked as to be initialized
        if (pendingInflowMap.get(dependentStageId).size() == 0) {
          readyToRunStages.add(dependentStageId);
          pendingInflowMap.remove(dependentStageId);
```

### SizeReplaceableByIsEmpty
`pendingOutflowMap.get(inputStage).size() == 0` can be replaced with 'pendingOutflowMap.get(inputStage).isEmpty()'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/controller/ControllerQueryKernel.java`
#### Snippet
```java
        pendingOutflowMap.get(inputStage).remove(stageId);
        // If no more stage is dependent on the "inputStage's" results, it can be safely transitioned to FINISHED
        if (pendingOutflowMap.get(inputStage).size() == 0) {
          effectivelyFinishedStages.add(inputStage);
          pendingOutflowMap.remove(inputStage);
```

### SizeReplaceableByIsEmpty
`stageToInflowStages.getValue().size() == 0` can be replaced with 'stageToInflowStages.getValue().isEmpty()'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/controller/ControllerQueryKernel.java`
#### Snippet
```java
    while (pendingInflowIterator.hasNext()) {
      Map.Entry<StageId, Set<StageId>> stageToInflowStages = pendingInflowIterator.next();
      if (stageToInflowStages.getValue().size() == 0) {
        readyToRunStages.add(stageToInflowStages.getKey());
        pendingInflowIterator.remove();
```

### SizeReplaceableByIsEmpty
`dimensions.size() > 0` can be replaced with '!dimensions.isEmpty()'
in `extensions-core/parquet-extensions/src/main/java/org/apache/parquet/avro/DruidParquetAvroReadSupport.java`
#### Snippet
```java
      if (tsField.equals(type.getName())
          || metricsFields.contains(type.getName())
          || dimensions.size() > 0 && dimensions.contains(type.getName())
          || dimensions.size() == 0) {
        partialFields.add(type);
```

### SizeReplaceableByIsEmpty
`dimensions.size() == 0` can be replaced with 'dimensions.isEmpty()'
in `extensions-core/parquet-extensions/src/main/java/org/apache/parquet/avro/DruidParquetAvroReadSupport.java`
#### Snippet
```java
          || metricsFields.contains(type.getName())
          || dimensions.size() > 0 && dimensions.contains(type.getName())
          || dimensions.size() == 0) {
        partialFields.add(type);
      }
```

### SizeReplaceableByIsEmpty
`dimensions.size() > 0` can be replaced with '!dimensions.isEmpty()'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/DruidParquetReadSupport.java`
#### Snippet
```java
      if (tsField.equals(type.getName())
          || metricsFields.contains(type.getName())
          || dimensions.size() > 0 && dimensions.contains(type.getName())
          || dimensions.size() == 0) {
        partialFields.add(type);
```

### SizeReplaceableByIsEmpty
`dimensions.size() == 0` can be replaced with 'dimensions.isEmpty()'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/DruidParquetReadSupport.java`
#### Snippet
```java
          || metricsFields.contains(type.getName())
          || dimensions.size() > 0 && dimensions.contains(type.getName())
          || dimensions.size() == 0) {
        partialFields.add(type);
      }
```

### SizeReplaceableByIsEmpty
`messageTypes.size() == 0` can be replaced with 'messageTypes.isEmpty()'
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/DescriptorBasedProtobufBytesDecoder.java`
#### Snippet
```java
  {
    Set<String> messageTypes = dynamicSchema.getMessageTypes();
    if (messageTypes.size() == 0) {
      throw new ParseException(null, "No message types found in the descriptor.");
    }
```

### SizeReplaceableByIsEmpty
`groupMappingMap.size() == 0` can be replaced with 'groupMappingMap.isEmpty()'
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/LDAPRoleProvider.java`
#### Snippet
```java
    Set<String> roles = new HashSet<>();

    if (groupMappingMap.size() == 0) {
      return roles;
    }
```

### SizeReplaceableByIsEmpty
`recordsResult.getRecords().size() == 0` can be replaced with 'recordsResult.getRecords().isEmpty()'
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java
      // If no more new data after offsetToUse, it means there is no lag for now.
      // So report lag points as 0L.
      if (recordsResult.getRecords().size() == 0) {
        return 0L;
      } else {
```

### SizeReplaceableByIsEmpty
`children.size() > 0` can be replaced with '!children.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/path/MultiplePathSpec.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(children != null && children.size() > 0, "Null/Empty list of child PathSpecs");
    this.children = children;
  }
```

### SizeReplaceableByIsEmpty
`segments.size() > 0` can be replaced with '!segments.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputSplit.java`
#### Snippet
```java
  public DatasourceInputSplit(@NotNull List<WindowedDataSegment> segments, String[] locations)
  {
    Preconditions.checkArgument(segments != null && segments.size() > 0, "no segments");
    this.segments = segments;
    this.locations = locations == null ? EMPTY_STR_ARRAY : locations;
```

### SizeReplaceableByIsEmpty
`toMerge.size() == 0` can be replaced with 'toMerge.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
        final File mergedBase;

        if (toMerge.size() == 0) {
          if (index.isEmpty()) {
            throw new IAE("If you try to persist empty indexes you are going to have a bad time");
```

### SizeReplaceableByIsEmpty
`values.size() == 0` can be replaced with 'values.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
  private static void writeStringArray(List<String> values, ByteArrayDataOutput out) throws IOException
  {
    if (values == null || values.size() == 0) {
      WritableUtils.writeVInt(out, 0);
      return;
```

### SizeReplaceableByIsEmpty
`segments.size() == 0` can be replaced with 'segments.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
    for (String dataSource : dataSources) {
      List<WindowedDataSegment> segments = getSegments(conf, dataSource);
      if (segments == null || segments.size() == 0) {
        throw new ISE("No segments found to read for dataSource[%s]", dataSource);
      }
```

### SizeReplaceableByIsEmpty
`list.size() > 0` can be replaced with '!list.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
      }

      if (list.size() > 0) {
        splits.add(toDataSourceSplit(list, fio, conf));
      }
```

### SizeReplaceableByIsEmpty
`spec.getDimensions().size() == 0` can be replaced with 'spec.getDimensions().isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
    );

    if (spec.getDimensions() == null || spec.getDimensions().size() == 0) {
      throw new ISE("load schema does not have dimensions");
    }
```

### SizeReplaceableByIsEmpty
`spec.getMetrics().size() == 0` can be replaced with 'spec.getMetrics().isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
    }

    if (spec.getMetrics() == null || spec.getMetrics().size() == 0) {
      throw new ISE("load schema does not have metrics");
    }
```

### SizeReplaceableByIsEmpty
`intervals.size() > 0` can be replaced with '!intervals.isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceIngestionSpec.java`
#### Snippet
```java
    if (interval != null) {
      theIntervals = ImmutableList.of(interval);
    } else if (intervals != null && intervals.size() > 0) {
      theIntervals = JodaUtils.condenseIntervals(intervals);
    }
```

### SizeReplaceableByIsEmpty
`toBeAccumulated.size() == 0` can be replaced with 'toBeAccumulated.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Tasks.java`
#### Snippet
```java
    List<Interval> toBeAccumulated = new ArrayList<>();
    for (Interval interval : intervals) {
      if (toBeAccumulated.size() == 0) {
        toBeAccumulated.add(interval);
      } else {
```

### SizeReplaceableByIsEmpty
`toBeAccumulated.size() > 0` can be replaced with '!toBeAccumulated.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Tasks.java`
#### Snippet
```java
      }
    }
    if (toBeAccumulated.size() > 0) {
      condensedIntervals.add(JodaUtils.umbrellaInterval(toBeAccumulated));
    }
```

### SizeReplaceableByIsEmpty
`timelineSegments.size() == 0` can be replaced with 'timelineSegments.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
    );

    if (timelineSegments.size() == 0) {
      return Collections.emptyList();
    }
```

### SizeReplaceableByIsEmpty
`intervals.size() > 0` can be replaced with '!intervals.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/RetrieveUsedSegmentsAction.java`
#### Snippet
```java
    if (interval != null) {
      theIntervals = ImmutableList.of(interval);
    } else if (intervals != null && intervals.size() > 0) {
      theIntervals = JodaUtils.condenseIntervals(intervals);
    }
```

### SizeReplaceableByIsEmpty
`spec.getDataSources().size() > 0` can be replaced with '!spec.getDataSources().isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/security/SupervisorResourceFilter.java`
#### Snippet
```java
    final SupervisorSpec spec = supervisorSpecOptional.get();
    Preconditions.checkArgument(
        spec.getDataSources() != null && spec.getDataSources().size() > 0,
        "No dataSources found to perform authorization checks"
    );
```

### SizeReplaceableByIsEmpty
`running.get(dataSource).size() == 0` can be replaced with 'running.get(dataSource).isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          }

          if (running.get(dataSource).size() == 0) {
            running.remove(dataSource);
          }
```

### SizeReplaceableByIsEmpty
`conflictPosses.size() > 0` can be replaced with '!conflictPosses.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          .collect(Collectors.toList());

      if (conflictPosses.size() > 0) {
        // If we have some locks for dataSource and interval, check they can be reused.
        // If they can't be reused, check lock priority and revoke existing locks if possible.
```

### SizeReplaceableByIsEmpty
`reusablePosses.size() == 0` can be replaced with 'reusablePosses.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
            .collect(Collectors.toList());

        if (reusablePosses.size() == 0) {
          // case 1) this task doesn't have any lock, but others do

```

### SizeReplaceableByIsEmpty
`taskIds.size() == 0` can be replaced with 'taskIds.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
  public Response getMultipleTaskStatuses(Set<String> taskIds)
  {
    if (taskIds == null || taskIds.size() == 0) {
      return Response.status(Response.Status.BAD_REQUEST).entity("No TaskIds provided.").build();
    }
```

### SizeReplaceableByIsEmpty
`authorizedHistoryForId.size() > 0` can be replaced with '!authorizedHistoryForId.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
                    )
                );
            if (authorizedHistoryForId.size() > 0) {
              return Response.ok(authorizedHistoryForId).build();
            }
```

### SizeReplaceableByIsEmpty
`spec.getDataSources().size() > 0` can be replaced with '!spec.getDataSources().isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
        manager -> {
          Preconditions.checkArgument(
              spec.getDataSources() != null && spec.getDataSources().size() > 0,
              "No dataSources found to perform authorization checks"
          );
```

### SizeReplaceableByIsEmpty
`eventsQueue.size() > 0` can be replaced with '!eventsQueue.isEmpty()'
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
          graphite.connect();
        }
        while (eventsQueue.size() > 0 && !exec.isShutdown()) {
          try {
            final GraphiteEvent graphiteEvent = eventsQueue.poll(
```

### SizeReplaceableByIsEmpty
`measurementWhitelist.size() > 0` can be replaced with '!measurementWhitelist.isEmpty()'
in `extensions-contrib/influx-extensions/src/main/java/org/apache/druid/data/input/influx/InfluxParseSpec.java`
#### Snippet
```java
  public Parser<String, Object> makeParser()
  {
    if (measurementWhitelist != null && measurementWhitelist.size() > 0) {
      return new InfluxParser(Sets.newHashSet(measurementWhitelist));
    } else {
```

### SizeReplaceableByIsEmpty
`listResult.getObjectSummaries().size() == 0` can be replaced with 'listResult.getObjectSummaries().isEmpty()'
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentMover.java`
#### Snippet
```java
      // it is observed that even though the getObjectSummaries returns some data
      // keyCount is still zero.
      if (listResult.getObjectSummaries().size() == 0) {
        // should never happen
        throw new ISE("Unable to list object [%s://%s/%s]", OssStorageDruidModule.SCHEME, srcBucket, srcPath);
```

### SizeReplaceableByIsEmpty
`keysToDelete.size() > 0` can be replaced with '!keysToDelete.isEmpty()'
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssUtils.java`
#### Snippet
```java
    }

    if (keysToDelete.size() > 0) {
      deleteBucketKeys(client, bucket, keysToDelete);
      log.info("Deleted %d files", keysToDelete.size());
```

### SizeReplaceableByIsEmpty
`result.getObjectSummaries().size() == 0` can be replaced with 'result.getObjectSummaries().isEmpty()'
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssUtils.java`
#### Snippet
```java
    // it is observed that even though the getObjectSummaries returns some data
    // keyCount is still zero.
    if (result.getObjectSummaries().size() == 0) {
      throw new ISE("Cannot find object for bucket[%s] and key[%s]", bucket, key);
    }
```

### SizeReplaceableByIsEmpty
`eventsQueue.size() > 0` can be replaced with '!eventsQueue.isEmpty()'
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitter.java`
#### Snippet
```java
        int batchSize = config.getBatchSize();
        TimelineMetrics metrics = new TimelineMetrics();
        while (eventsQueue.size() > 0 && !exec.isShutdown()) {
          try {
            final TimelineMetric metricEvent = eventsQueue.poll(
```

### SizeReplaceableByIsEmpty
`metrics.getMetrics().size() > 0` can be replaced with '!metrics.getMetrics().isEmpty()'
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitter.java`
#### Snippet
```java
          }
        }
        if (metrics.getMetrics().size() > 0) {
          emitMetrics(metrics);
          log.debug(
```

### SizeReplaceableByIsEmpty
`list.getItems().size() > 0` can be replaced with '!list.getItems().isEmpty()'
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/DruidKubernetesPeonClient.java`
#### Snippet
```java
          () -> {
            PodList list = client.pods().inNamespace(namespace).withLabel("job-name", k8sTaskId).list();
            if (list.getItems().size() > 0) {
              return list.getItems().get(0);
            }
```

### SizeReplaceableByIsEmpty
`partitionLags.size() == 0` can be replaced with 'partitionLags.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      totalLag += lag;
    }
    avgLag = partitionLags.size() == 0 ? 0 : totalLag / partitionLags.size();
    return new LagStats(maxLag, totalLag, avgLag);
  }
```

### SizeReplaceableByIsEmpty
`activelyReadingTaskGroups.size() > 0` can be replaced with '!activelyReadingTaskGroups.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    Map<PartitionIdType, SequenceOffsetType> offsetsFromMetadataStorage = getOffsetsFromMetadataStorage();
    if (!spec.isSuspended()) {
      if (activelyReadingTaskGroups.size() > 0 || pendingCompletionTaskGroups.size() > 0) {
        Map<PartitionIdType, SequenceOffsetType> currentOffsets =
            Stream.concat(
```

### SizeReplaceableByIsEmpty
`pendingCompletionTaskGroups.size() > 0` can be replaced with '!pendingCompletionTaskGroups.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    Map<PartitionIdType, SequenceOffsetType> offsetsFromMetadataStorage = getOffsetsFromMetadataStorage();
    if (!spec.isSuspended()) {
      if (activelyReadingTaskGroups.size() > 0 || pendingCompletionTaskGroups.size() > 0) {
        Map<PartitionIdType, SequenceOffsetType> currentOffsets =
            Stream.concat(
```

### SizeReplaceableByIsEmpty
`taskGroup.startingSequences.size() == 0` can be replaced with 'taskGroup.startingSequences.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

      if (taskGroup.startingSequences == null ||
          taskGroup.startingSequences.size() == 0 ||
          taskGroup.startingSequences.values().stream().allMatch(x -> x == null || isEndOfShard(x))) {
        log.debug("Nothing to read in any partition for taskGroup [%d], skipping task creation", groupId);
```

### SizeReplaceableByIsEmpty
`partitionIdsFromSupplier.size() == 0` can be replaced with 'partitionIdsFromSupplier.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    if (partitionIdsFromSupplier == null || partitionIdsFromSupplier.size() == 0) {
      String errMsg = StringUtils.format("No partitions found for stream [%s]", ioConfig.getStream());
      stateManager.recordThrowableEvent(new StreamException(new ISE(errMsg)));
```

### SizeReplaceableByIsEmpty
`activePartitionsIdsFromSupplier.size() == 0` can be replaced with 'activePartitionsIdsFromSupplier.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      );
    }
    if (activePartitionsIdsFromSupplier.size() == 0) {
      String errMsg = StringUtils.format(
          "No active partitions found for stream [%s] after removing closed and previously expired partitions",
```

### SizeReplaceableByIsEmpty
`newlyDiscovered.size() > 0` can be replaced with '!newlyDiscovered.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    if (newlyDiscovered.size() > 0) {
      for (Int2ObjectMap.Entry<List<PartitionIdType>> taskGroupPartitions : newlyDiscovered.int2ObjectEntrySet()) {
        log.info(
```

### SizeReplaceableByIsEmpty
`pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList<>()).size() > 0` can be replaced with '!pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList\<\>()).isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                }
            ) && earliestConsistentSequenceId.compareAndSet(-1, sequenceCheckpoint.getKey())) || (
                pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList<>()).size() > 0
                && earliestConsistentSequenceId.compareAndSet(-1, taskCheckpoints.firstKey()))) {
          final SortedMap<Integer, Map<PartitionIdType, SequenceOffsetType>> latestCheckpoints = new TreeMap<>(
```

### SizeReplaceableByIsEmpty
`tasksToKill.size() > 0` can be replaced with '!tasksToKill.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    if ((tasksToKill.size() > 0 && tasksToKill.size() == taskGroup.tasks.size()) ||
        (taskGroup.tasks.size() == 0
         && pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList<>()).size() == 0)) {
```

### SizeReplaceableByIsEmpty
`taskGroup.tasks.size() == 0` can be replaced with 'taskGroup.tasks.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

    if ((tasksToKill.size() > 0 && tasksToKill.size() == taskGroup.tasks.size()) ||
        (taskGroup.tasks.size() == 0
         && pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList<>()).size() == 0)) {
      // killing all tasks or no task left in the group ?
```

### SizeReplaceableByIsEmpty
`pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList<>()).size() == 0` can be replaced with 'pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList\<\>()).isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    if ((tasksToKill.size() > 0 && tasksToKill.size() == taskGroup.tasks.size()) ||
        (taskGroup.tasks.size() == 0
         && pendingCompletionTaskGroups.getOrDefault(groupId, new CopyOnWriteArrayList<>()).size() == 0)) {
      // killing all tasks or no task left in the group ?
      // clear state about the taskgroup so that get latest sequence information is fetched from metadata store
```

### SizeReplaceableByIsEmpty
`startPartitions.size() == 0` can be replaced with 'startPartitions.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      sb.append(StringUtils.format("+%s(%s)", entry.getKey().toString(), entry.getValue().toString()));
    }
    String partitionOffsetStr = startPartitions.size() == 0 ? "" : sb.toString().substring(1);

    String minMsgTimeStr = (minimumMessageTime.isPresent() ? String.valueOf(minimumMessageTime.get().getMillis()) : "");
```

### SizeReplaceableByIsEmpty
`sequences.size() == 0` can be replaced with 'sequences.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
        // sequences size can be 0 only when all sequences got published and task stopped before it could finish
        // which is super rare
        if (sequences.size() == 0 || getLastSequenceMetadata().isCheckpointed()) {
          this.endOffsets.putAll(sequences.size() == 0
                                 ? currOffsets
```

### SizeReplaceableByIsEmpty
`sequences.size() == 0` can be replaced with 'sequences.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
        // which is super rare
        if (sequences.size() == 0 || getLastSequenceMetadata().isCheckpointed()) {
          this.endOffsets.putAll(sequences.size() == 0
                                 ? currOffsets
                                 : getLastSequenceMetadata().getEndOffsets());
```

### SizeReplaceableByIsEmpty
`sequences.size() == 0` can be replaced with 'sequences.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java

          // if stop is requested or task's end sequence is set by call to setEndOffsets method with finish set to true
          if (stopRequested.get() || sequences.size() == 0 || getLastSequenceMetadata().isCheckpointed()) {
            status = Status.PUBLISHING;
          }
```

### SizeReplaceableByIsEmpty
`sequenceNumbers.size() > 0` can be replaced with '!sequenceNumbers.isEmpty()'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
        // Perform all sequence related checks before checking for isPaused()
        // and after acquiring pauseLock to correctly guard against duplicate requests
        Preconditions.checkState(sequenceNumbers.size() > 0, "No sequences found to set end sequences");

        final SequenceMetadata<PartitionIdType, SequenceOffsetType> latestSequence = getLastSequenceMetadata();
```

## RuleId[ruleID=NullableProblems]
### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQueryRel.java`
#### Snippet
```java

  @Override
  public RelOptTable getTable()
  {
    return table;
```

### NullableProblems
Overridden methods are not annotated
in `core/src/main/java/org/apache/druid/data/input/impl/InputRowParser.java`
#### Snippet
```java
   * lots of things will break.
   */
  @NotNull
  default List<InputRow> parseBatch(T input)
  {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `core/src/main/java/org/apache/druid/java/util/emitter/core/LoggingEmitterConfig.java`
#### Snippet
```java
  private String logLevel = "info";

  public String getLoggerClass()
  {
    return loggerClass;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `core/src/main/java/org/apache/druid/java/util/emitter/core/LoggingEmitterConfig.java`
#### Snippet
```java
  }

  public String getLogLevel()
  {
    return logLevel;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpEmitterConfig.java`
#### Snippet
```java
  }

  public HttpEmitterConfig(BaseHttpEmittingConfig base, String recipientBaseUrl)
  {
    this.flushMillis = base.flushMillis;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpEmitterConfig.java`
#### Snippet
```java
  }

  public String getRecipientBaseUrl()
  {
    return recipientBaseUrl;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitterConfig.java`
#### Snippet
```java
  private BaseHttpEmittingConfig httpEmittingConfig = DEFAULT_HTTP_EMITTING_CONFIG;

  public String getRecipientBaseUrlPattern()
  {
    return recipientBaseUrlPattern;
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/ExprMacroTable.java`
#### Snippet
```java
  public interface ExprMacro extends NamedFunction
  {
    Expr apply(List<Expr> args);
  }

```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
   * @param inspector
   */
  default <T> ExprVectorProcessor<T> buildVectorized(VectorInputBindingInspector inspector)
  {
    throw Exprs.cannotVectorize(this);
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     */
    @Nullable
    ExpressionType getType(String name);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     */
    @Nullable
    Object get(String name);
  }

```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
   * macro must be visited, including arguments that may have been "baked in" to this Expr.
   */
  Expr visit(Shuttle shuttle);


```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
   * @param inspector
   */
  default boolean canVectorize(InputBindingInspector inspector)
  {
    return false;
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
   */
  @Nullable
  default ExpressionType getOutputType(InputBindingInspector inspector)
  {
    return null;
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
   * {@link ExprEval} with the result.
   */
  ExprEval eval(ObjectBinding bindings);

  /**
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `core/src/main/java/org/apache/druid/common/config/ConfigManagerConfig.java`
#### Snippet
```java
  private boolean enableCompareAndSwap = true;

  public Period getPollDuration()
  {
    return pollDuration;
```

### NullableProblems
Overridden methods are not annotated
in `core/src/main/java/org/apache/druid/common/exception/ErrorResponseTransformStrategy.java`
#### Snippet
```java
   * Function can return null if error message needs to be omitted or return String to be use instead.
   */
  @NotNull
  Function<String, String> getErrorMessageTransformFunction();
}
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * @return number of bytes written
   */
  default int write(ByteBuffer buffer, int offset, T value, int maxSizeBytes)
  {
    final int oldPosition = buffer.position();
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * @return number of bytes written
   */
  default int write(ByteBuffer buffer, int offset, T value, int maxSizeBytes)
  {
    final int oldPosition = buffer.position();
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * @return number of bytes written
   */
  int write(ByteBuffer buffer, T value, int maxSizeBytes);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * @return number of bytes written
   */
  int write(ByteBuffer buffer, T value, int maxSizeBytes);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * {@link #readRetainsBufferReference()} returns true.
   */
  T read(ByteBuffer buffer);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * that is owned by the caller with {@link #write}.
   */
  default T read(ByteBuffer buffer, int offset)
  {
    final int oldPosition = buffer.position();
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategy.java`
#### Snippet
```java
   * might need allocated to then {@link #write} a value
   */
  int estimateSizeBytes(T value);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageActionHandler.java`
#### Snippet
```java
   */
  void insert(
      @NotNull String id,
      @NotNull DateTime timestamp,
      @NotNull String dataSource,
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageActionHandler.java`
#### Snippet
```java
  void insert(
      @NotNull String id,
      @NotNull DateTime timestamp,
      @NotNull String dataSource,
      @NotNull EntryType entry,
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageActionHandler.java`
#### Snippet
```java
      @NotNull String id,
      @NotNull DateTime timestamp,
      @NotNull String dataSource,
      @NotNull EntryType entry,
      boolean active,
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageActionHandler.java`
#### Snippet
```java
      @NotNull DateTime timestamp,
      @NotNull String dataSource,
      @NotNull EntryType entry,
      boolean active,
      @Nullable StatusType status,
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageActionHandler.java`
#### Snippet
```java
      boolean active,
      @Nullable StatusType status,
      @NotNull String type,
      @NotNull String groupId
  ) throws EntryExistsException;
```

### NullableProblems
Overridden method parameters are not annotated
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageActionHandler.java`
#### Snippet
```java
      @Nullable StatusType status,
      @NotNull String type,
      @NotNull String groupId
  ) throws EntryExistsException;

```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    protected ExprEval eval(String x, int y)
    {
      if (x == null) {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/client/DruidServerConfig.java`
#### Snippet
```java
  }

  public Set<String> getHiddenProperties()
  {
    return hiddenProperties;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCacheConfig.java`
#### Snippet
```java
  }

  public String getHosts()
  {
    return hosts;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/client/indexing/ClientCompactionTaskTransformSpec.java`
#### Snippet
```java
  @JsonCreator
  public ClientCompactionTaskTransformSpec(
      @JsonProperty("filter") final DimFilter filter
  )
  {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
  }

  public String getHost()
  {
    return host;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
  }

  public String getServiceName()
  {
    return serviceName;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/emitter/ComposingEmitterConfig.java`
#### Snippet
```java
  private List<String> emitters = ImmutableList.of();

  public List<String> getEmitters()
  {
    return emitters;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/emitter/SwitchingEmitterConfig.java`
#### Snippet
```java
  private List<String> defaultEmitters = ImmutableList.of();

  public Map<String, List<String>> getEmitters()
  {
    return emitters;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/metrics/MonitorsConfig.java`
#### Snippet
```java
  private List<Class<? extends Monitor>> monitors;

  public List<Class<? extends Monitor>> getMonitors()
  {
    return monitors;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/server/security/AuthenticationResult.java`
#### Snippet
```java
      final String identity,
      final String authorizerName,
      final String authenticatedBy,
      final Map<String, Object> context
  )
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/server/security/AuthenticationResult.java`
#### Snippet
```java
      final String authorizerName,
      final String authenticatedBy,
      final Map<String, Object> context
  )
  {
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/server/coordinator/UserCompactionTaskTransformConfig.java`
#### Snippet
```java
  @JsonCreator
  public UserCompactionTaskTransformConfig(
      @JsonProperty("filter") final DimFilter filter
  )
  {
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
        Map<String, LoadQueuePeon> loadManagementPeons,
        ReplicationThrottler replicationManager,
        RoundRobinServerSelector roundRobinServerSelector,
        ServiceEmitter emitter,
        CoordinatorDynamicConfig coordinatorDynamicConfig,
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
      Map<String, LoadQueuePeon> loadManagementPeons,
      ReplicationThrottler replicationManager,
      RoundRobinServerSelector roundRobinServerSelector,
      ServiceEmitter emitter,
      CoordinatorDynamicConfig coordinatorDynamicConfig,
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/DataSegmentChangeHandler.java`
#### Snippet
```java
{
  void addSegment(DataSegment segment, @Nullable DataSegmentChangeCallback callback);
  void removeSegment(DataSegment segment, @Nullable DataSegmentChangeCallback callback);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/DataSegmentChangeHandler.java`
#### Snippet
```java
public interface DataSegmentChangeHandler
{
  void addSegment(DataSegment segment, @Nullable DataSegmentChangeCallback callback);
  void removeSegment(DataSegment segment, @Nullable DataSegmentChangeCallback callback);
}
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/DataSegmentAnnouncer.java`
#### Snippet
```java
  void unannounceSegment(DataSegment segment) throws IOException;

  void announceSegments(Iterable<DataSegment> segments) throws IOException;

  void unannounceSegments(Iterable<DataSegment> segments) throws IOException;
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/DataSegmentAnnouncer.java`
#### Snippet
```java
public interface DataSegmentAnnouncer
{
  void announceSegment(DataSegment segment) throws IOException;

  void unannounceSegment(DataSegment segment) throws IOException;
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/DataSegmentAnnouncer.java`
#### Snippet
```java
  void announceSegment(DataSegment segment) throws IOException;

  void unannounceSegment(DataSegment segment) throws IOException;

  void announceSegments(Iterable<DataSegment> segments) throws IOException;
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/DataSegmentAnnouncer.java`
#### Snippet
```java
  void announceSegments(Iterable<DataSegment> segments) throws IOException;

  void unannounceSegments(Iterable<DataSegment> segments) throws IOException;
}

```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
              @Nullable
              @Override
              public SegmentChangeRequestLoad apply(DataSegment input)
              {
                return new SegmentChangeRequestLoad(input);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHistory.java`
#### Snippet
```java

    @Override
    public boolean set(ChangeRequestsSnapshot<T> value)
    {
      return super.set(value);
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java

  protected <T> QueryRunner<T> buildQueryRunnerForSegment(
      final Query<T> query,
      final SegmentDescriptor descriptor,
      final QueryRunnerFactory<T, Query<T>> factory,
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
  protected <T> QueryRunner<T> buildQueryRunnerForSegment(
      final Query<T> query,
      final SegmentDescriptor descriptor,
      final QueryRunnerFactory<T, Query<T>> factory,
      final QueryToolChest<T, Query<T>> toolChest,
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final Query<T> query,
      final SegmentDescriptor descriptor,
      final QueryRunnerFactory<T, Query<T>> factory,
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final SegmentDescriptor descriptor,
      final QueryRunnerFactory<T, Query<T>> factory,
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryRunnerFactory<T, Query<T>> factory,
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
  )
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
  )
  {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/initialization/ServerConfig.java`
#### Snippet
```java
  }

  public ErrorResponseTransformStrategy getErrorResponseTransformStrategy()
  {
    return errorResponseTransformStrategy;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/initialization/ServerConfig.java`
#### Snippet
```java
  }

  public Period getMaxIdleTime()
  {
    return maxIdleTime;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/initialization/ServerConfig.java`
#### Snippet
```java
  }

  public Period getGracefulShutdownTimeout()
  {
    return gracefulShutdownTimeout;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/server/initialization/ServerConfig.java`
#### Snippet
```java
  }

  public Period getUnannouncePropagationDelay()
  {
    return unannouncePropagationDelay;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
            {
              @Override
              public void addSegment(DataSegment segment, DataSegmentChangeCallback callback)
              {
                requestStatuses.put(changeRequest, new AtomicReference<>(Status.PENDING));
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java

              @Override
              public void removeSegment(DataSegment segment, DataSegmentChangeCallback callback)
              {
                requestStatuses.put(changeRequest, new AtomicReference<>(Status.PENDING));
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
     * first request to the server.
     */
    void fullSync(List<T> changes);
    void deltaSync(List<T> changes);
  }
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
          {
            @Override
            public void onSuccess(InputStream stream)
            {
              synchronized (startStopLock) {
```

### NullableProblems
Overridden method parameters are not annotated
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
     */
    void fullSync(List<T> changes);
    void deltaSync(List<T> changes);
  }
}
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableSpec.java`
#### Snippet
```java

  public ExternalTableSpec(
      final InputSource inputSource,
      final InputFormat inputFormat,
      final RowSignature signature)
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableSpec.java`
#### Snippet
```java
  public ExternalTableSpec(
      final InputSource inputSource,
      final InputFormat inputFormat,
      final RowSignature signature)
  {
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableSpec.java`
#### Snippet
```java
      final InputSource inputSource,
      final InputFormat inputFormat,
      final RowSignature signature)
  {
    this.inputSource = inputSource;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/segment/loading/StorageLocationConfig.java`
#### Snippet
```java
      File path,
      long maxSize,
      Double freeSpacePercent
  )
  {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/FixedCountFirehoseFactory.java`
#### Snippet
```java

  @Override
  public Firehose connect(final InputRowParser parser, File temporaryDirectory) throws IOException
  {
    return new Firehose()
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/ClippedFirehoseFactory.java`
#### Snippet
```java
        {
          @Override
          public boolean apply(InputRow input)
          {
            return interval.contains(input.getTimestampFromEpoch());
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/ClippedFirehoseFactory.java`
#### Snippet
```java

  @Override
  public Firehose connect(InputRowParser parser, File temporaryDirectory) throws IOException
  {
    return new PredicateFirehose(
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/TimedShutoffFirehoseFactory.java`
#### Snippet
```java

  @Override
  public Firehose connect(InputRowParser parser, File temporaryDirectory) throws IOException
  {
    return new TimedShutoffFirehose(parser, temporaryDirectory);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/CombiningFirehoseFactory.java`
#### Snippet
```java

  @Override
  public Firehose connect(InputRowParser parser, File temporaryDirectory)
  {
    return new CombiningFirehose(parser, temporaryDirectory);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/IngestSegmentFirehose.java`
#### Snippet
```java
                          @Nullable
                          @Override
                          public Sequence<InputRow> apply(final Cursor cursor)
                          {
                            final BaseLongColumnValueSelector timestampColumnSelector =
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/IngestSegmentFirehose.java`
#### Snippet
```java
              @Nullable
              @Override
              public Sequence<InputRow> apply(WindowedStorageAdapter adapter)
              {
                return Sequences.concat(
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
  public Firehose connect(
      InputRowParser<Map<String, Object>> firehoseParser,
      File temporaryDirectory
  )
  {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `server/src/main/java/org/apache/druid/indexing/worker/config/WorkerConfig.java`
#### Snippet
```java
  }

  public String getCategory()
  {
    return category;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/NoopSupervisorSpec.java`
#### Snippet
```java
  @Override
  @JsonProperty
  public String getId()
  {
    return id;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    }

    SegmentWithState getAppendingSegment()
    {
      return appendingSegment;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java

  @VisibleForTesting
  DatabasePoll getLatestDatabasePoll()
  {
    return latestDatabasePoll;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerConfig.java`
#### Snippet
```java
  }

  public Period getPollPeriod()
  {
    return pollPeriod;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerConfig.java`
#### Snippet
```java
  }

  public String getDefaultRule()
  {
    return defaultRule;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerConfig.java`
#### Snippet
```java
  }

  public String getDefaultBrokerServiceName()
  {
    return defaultBrokerServiceName;
```

### NullableProblems
Primitive type members cannot be annotated
in `processing/src/main/java/org/apache/druid/guice/ExtensionsConfig.java`
#### Snippet
```java

  @JsonProperty
  @NotNull
  private boolean searchCurrentClassloader = true;

```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
          {
            @Override
            public AggregatorFactory apply(AggregatorFactory input)
            {
              return input.getCombiningFactory();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
        {
          @Override
          public String apply(DimensionSpec input)
          {
            return input.getOutputName();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryEngine.java`
#### Snippet
```java
                {
                  @Override
                  public Sequence<Row> apply(final Cursor cursor)
                  {
                    return new BaseSequence<>(
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
        {
          @Override
          public Object apply(ResultRow resultRow)
          {
            final List<Object> retVal = new ArrayList<>(1 + dims.size() + aggs.size());
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java

          @Override
          public ResultRow apply(Object input)
          {
            Iterator<Object> results = ((List<Object>) input).iterator();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
                          {
                            @Override
                            public ListenableFuture<AggregateResult> apply(final QueryRunner<ResultRow> input)
                            {
                              if (input == null) {
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/column/StringGroupByColumnSelectorStrategy.java`
#### Snippet
```java
  private final IntFunction<String> dictionaryLookup;

  public StringGroupByColumnSelectorStrategy(IntFunction<String> dictionaryLookup, ColumnCapabilities capabilities)
  {
    this.dictionaryLookup = dictionaryLookup;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/column/StringGroupByColumnSelectorStrategy.java`
#### Snippet
```java
  private final IntFunction<String> dictionaryLookup;

  public StringGroupByColumnSelectorStrategy(IntFunction<String> dictionaryLookup, ColumnCapabilities capabilities)
  {
    this.dictionaryLookup = dictionaryLookup;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/SpillingGrouper.java`
#### Snippet
```java

                    @Override
                    public Entry<KeyType> apply(Entry<KeyType> entry)
                    {
                      final Object[] deserializedValues = reusableEntry.getValues();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/SerializablePairLongStringComplexMetricSerde.java`
#### Snippet
```java

        @Override
        public byte[] toBytes(SerializablePairLongString val)
        {
          String rhsString = val.rhs;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericAggregatorFactory.java`
#### Snippet
```java
   */
  protected abstract BufferAggregator factorizeBuffered(
      ColumnSelectorFactory columnSelectorFactory,
      T selector
  );
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericAggregatorFactory.java`
#### Snippet
```java
  protected abstract BufferAggregator factorizeBuffered(
      ColumnSelectorFactory columnSelectorFactory,
      T selector
  );

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericAggregatorFactory.java`
#### Snippet
```java
   * @see Aggregator
   */
  protected abstract Aggregator factorize(ColumnSelectorFactory columnSelectorFactory, T selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericAggregatorFactory.java`
#### Snippet
```java
   * @see Aggregator
   */
  protected abstract Aggregator factorize(ColumnSelectorFactory columnSelectorFactory, T selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericAggregatorFactory.java`
#### Snippet
```java
   * @see ColumnValueSelector
   */
  protected abstract T selector(ColumnSelectorFactory columnSelectorFactory);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   * Same as {@link BufferAggregator#init}.
   */
  void init(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   * Same as {@link BufferAggregator#relocate}.
   */
  default void relocate(int oldPosition, int newPosition, ByteBuffer oldBuffer, ByteBuffer newBuffer)
  {
  }
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   * Same as {@link BufferAggregator#relocate}.
   */
  default void relocate(int oldPosition, int newPosition, ByteBuffer oldBuffer, ByteBuffer newBuffer)
  {
  }
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   */
  @Nullable
  Object get(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   * @param endRow   end row of the range (exclusive)
   */
  void aggregate(ByteBuffer buf, int position, int startRow, int endRow);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   * @param positionOffset an offset to apply to each value from "positions"
   */
  void aggregate(ByteBuffer buf, int numRows, int[] positions, @Nullable int[] rows, int positionOffset);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/VectorAggregator.java`
#### Snippet
```java
   * @param positionOffset an offset to apply to each value from "positions"
   */
  void aggregate(ByteBuffer buf, int numRows, int[] positions, @Nullable int[] rows, int positionOffset);

  /**
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return HistogramAggregator.combineHistograms(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return HistogramAggregator.combineHistograms(lhs, rhs);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/PostAggregator.java`
#### Snippet
```java

  @Nullable
  Object compute(Map<String, Object> combinedAggregators);

  @Nullable
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/PostAggregator.java`
#### Snippet
```java
   */
  @Nullable
  default ColumnType getType(ColumnInspector signature)
  {
    return ColumnTypeFactory.ofValueType(getType());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/PostAggregator.java`
#### Snippet
```java
   * {@link org.apache.druid.query.Queries#prepareAggregations}.
   */
  PostAggregator decorate(Map<String, AggregatorFactory> aggregators);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/MetricManipulationFn.java`
#### Snippet
```java
public interface MetricManipulationFn
{
  Object manipulate(AggregatorFactory factory, Object object);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/MetricManipulationFn.java`
#### Snippet
```java
public interface MetricManipulationFn
{
  Object manipulate(AggregatorFactory factory, Object object);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @CalledFromHotLoop
  void aggregate(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @CalledFromHotLoop
  void init(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @Override
  default void inspectRuntimeShape(RuntimeShapeInspector inspector)
  {
    // nothing to inspect
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @SuppressWarnings("unused") // Unused today, but may be used in the future by https://github.com/apache/druid/pull/10001
  float getFloat(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   * @param newBuffer new aggregation buffer.
   */
  default void relocate(int oldPosition, int newPosition, ByteBuffer oldBuffer, ByteBuffer newBuffer)
  {
  }
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   * @param newBuffer new aggregation buffer.
   */
  default void relocate(int oldPosition, int newPosition, ByteBuffer oldBuffer, ByteBuffer newBuffer)
  {
  }
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @Nullable
  Object get(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @SuppressWarnings("unused") // Unused today, but may be used in the future by https://github.com/apache/druid/pull/10001
  default double getDouble(ByteBuffer buf, int position)
  {
    return (double) getFloat(buf, position);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/BufferAggregator.java`
#### Snippet
```java
   */
  @SuppressWarnings("unused") // Unused today, but may be used in the future by https://github.com/apache/druid/pull/10001
  long getLong(ByteBuffer buf, int position);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleSumAggregatorFactory.java`
#### Snippet
```java

  @Override
  public AggregatorFactory withName(String newName)
  {
    return new DoubleSumAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleSumAggregator.java`
#### Snippet
```java
  {
    @Override
    public int compare(Object o, Object o1)
    {
      return Doubles.compare(((Number) o).doubleValue(), ((Number) o1).doubleValue());
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleSumAggregator.java`
#### Snippet
```java
  {
    @Override
    public int compare(Object o, Object o1)
    {
      return Doubles.compare(((Number) o).doubleValue(), ((Number) o1).doubleValue());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
   * @return the deserialized object
   */
  public abstract Object deserialize(Object object);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
  private static final Logger log = new Logger(AggregatorFactory.class);

  public abstract Aggregator factorize(ColumnSelectorFactory metricFactory);

  public abstract BufferAggregator factorizeBuffered(ColumnSelectorFactory metricFactory);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
   * Returns whether or not this aggregation class supports vectorization. The default implementation returns false.
   */
  public boolean canVectorize(ColumnInspector columnInspector)
  {
    return false;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
   * this aggregation class does not support vectorization: check "canVectorize" first.
   */
  public VectorAggregator factorizeVector(VectorColumnSelectorFactory selectorFactory)
  {
    throw new UOE("Aggregator[%s] cannot vectorize", getClass().getName());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
   */
  @SuppressWarnings("unused")
  public AggregatorFactory withName(String newName)
  {
    throw new UOE("Cannot change output name for AggregatorFactory[%s].", this.getClass().getName());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
  public abstract Aggregator factorize(ColumnSelectorFactory metricFactory);

  public abstract BufferAggregator factorizeBuffered(ColumnSelectorFactory metricFactory);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
   * are the same instance).
   */
  public AggregatorFactory getMergingFactory(AggregatorFactory other) throws AggregatorFactoryNotMergeableException
  {
    final AggregatorFactory combiningFactory = this.getCombiningFactory();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/SuppressedAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return delegate.combine(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/SuppressedAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return delegate.combine(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptAggregatorFactory.java`
#### Snippet
```java
            {
              @Override
              public AggregatorFactory apply(String input)
              {
                return new JavaScriptAggregatorFactory(input, Collections.singletonList(input), fnCombine, fnReset, fnCombine, config);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    JavaScriptAggregator.ScriptAggregator compiledScript = getCompiledScript();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    JavaScriptAggregator.ScriptAggregator compiledScript = getCompiledScript();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/FilteredAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return delegate.combine(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/FilteredAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return delegate.combine(lhs, rhs);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleDoubleAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object deserialize(Object object)
  {
    // handle "NaN" / "Infinity" values serialized as strings in JSON
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatSumAggregator.java`
#### Snippet
```java
  {
    @Override
    public int compare(Object o, Object o1)
    {
      return Float.compare(((Number) o).floatValue(), ((Number) o1).floatValue());
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatSumAggregator.java`
#### Snippet
```java
  {
    @Override
    public int compare(Object o, Object o1)
    {
      return Float.compare(((Number) o).floatValue(), ((Number) o1).floatValue());
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/LongSumAggregator.java`
#### Snippet
```java
  {
    @Override
    public int compare(Object o, Object o1)
    {
      return Longs.compare(((Number) o).longValue(), ((Number) o1).longValue());
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/LongSumAggregator.java`
#### Snippet
```java
  {
    @Override
    public int compare(Object o, Object o1)
    {
      return Longs.compare(((Number) o).longValue(), ((Number) o1).longValue());
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
  @JsonProperty("having")
  @JsonInclude(JsonInclude.Include.NON_NULL)
  public HavingSpec getHavingSpec()
  {
    return havingSpec;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregateCombiner.java`
#### Snippet
```java
   * @see AggregatorFactory#combine
   */
  void fold(ColumnValueSelector selector);

  @Override
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregateCombiner.java`
#### Snippet
```java
   * modification during subsequent {@link #fold} calls.
   */
  void reset(ColumnValueSelector selector);

  /**
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/CountAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return CountAggregator.combineValues(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/CountAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return CountAggregator.combineValues(lhs, rhs);
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/query/aggregation/any/StringAnyVectorAggregator.java`
#### Snippet
```java

  public StringAnyVectorAggregator(
      SingleValueDimensionVectorSelector singleValueSelector,
      MultiValueDimensionVectorSelector multiValueSelector,
      int maxStringBytes
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/query/aggregation/any/StringAnyVectorAggregator.java`
#### Snippet
```java
  public StringAnyVectorAggregator(
      SingleValueDimensionVectorSelector singleValueSelector,
      MultiValueDimensionVectorSelector multiValueSelector,
      int maxStringBytes
  )
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    if (rhs == null) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    if (rhs == null) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesSerde.java`
#### Snippet
```java

      @Override
      public byte[] toBytes(HyperLogLogCollector collector)
      {
        if (collector == null) {
```

### NullableProblems
Overridden methods are not annotated
in `processing/src/main/java/org/apache/druid/query/rowsandcols/column/Column.java`
#### Snippet
```java
   * @return a {@link ColumnAccessor} representation of the column, this should never return null.
   */
  @Nonnull
  ColumnAccessor toAccessor();

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/StorageAdapter.java`
#### Snippet
```java
   */
  @Nullable
  Comparable getMaxValue(String column);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/StorageAdapter.java`
#### Snippet
```java
   * (or null) values.
   */
  int getDimensionCardinality(String column);
  DateTime getMinTime();
  DateTime getMaxTime();
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/StorageAdapter.java`
#### Snippet
```java
   */
  @Nullable
  Comparable getMinValue(String column);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/StorageAdapter.java`
#### Snippet
```java
  @Override
  @Nullable
  ColumnCapabilities getColumnCapabilities(String column);

  int getNumRows();
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnInspector.java`
#### Snippet
```java
   */
  @Nullable
  ColumnCapabilities getColumnCapabilities(String column);

  default ColumnCapabilities getColumnCapabilitiesWithDefault(String column, ColumnCapabilities defaultCapabilites)
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/QueryableIndex.java`
#### Snippet
```java

  @Nullable
  ColumnHolder getColumnHolder(String columnName);

  @Nullable
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VirtualColumn.java`
#### Snippet
```java
   */
  @Deprecated
  ColumnCapabilities capabilities(String columnName);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VirtualColumn.java`
#### Snippet
```java
   * necessary decoration from the dimensionSpec.
   */
  DimensionSelector makeDimensionSelector(DimensionSpec dimensionSpec, ColumnSelectorFactory factory);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VirtualColumn.java`
#### Snippet
```java
   * necessary decoration from the dimensionSpec.
   */
  DimensionSelector makeDimensionSelector(DimensionSpec dimensionSpec, ColumnSelectorFactory factory);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VirtualColumn.java`
#### Snippet
```java
   * virtual column was referenced with, which is useful if this column uses dot notation.
   */
  ColumnValueSelector<?> makeColumnValueSelector(String columnName, ColumnSelectorFactory factory);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VirtualColumn.java`
#### Snippet
```java
   * virtual column was referenced with, which is useful if this column uses dot notation.
   */
  ColumnValueSelector<?> makeColumnValueSelector(String columnName, ColumnSelectorFactory factory);

  /**
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java

      @Override
      public ValueMatcher makeValueMatcher(String value)
      {
        throw new UnsupportedOperationException();
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/ReferenceCountingSegment.java`
#### Snippet
```java

  @Override
  @Nullable
  public StorageAdapter asStorageAdapter()
  {
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/ReferenceCountingSegment.java`
#### Snippet
```java

  @Override
  @Nullable
  public SegmentId getId()
  {
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/ReferenceCountingSegment.java`
#### Snippet
```java

  @Override
  @Nullable
  public Interval getDataInterval()
  {
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  @VisibleForTesting
  File merge(
      List<IndexableAdapter> indexes,
      boolean rollup,
      AggregatorFactory[] metricAggs,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      List<IndexableAdapter> indexes,
      boolean rollup,
      AggregatorFactory[] metricAggs,
      File outDir,
      DimensionsSpec dimensionsSpec,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      boolean rollup,
      AggregatorFactory[] metricAggs,
      File outDir,
      DimensionsSpec dimensionsSpec,
      IndexSpec indexSpec,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      AggregatorFactory[] metricAggs,
      File outDir,
      DimensionsSpec dimensionsSpec,
      IndexSpec indexSpec,
      int maxColumnsToMerge
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      File outDir,
      DimensionsSpec dimensionsSpec,
      IndexSpec indexSpec,
      int maxColumnsToMerge
  ) throws IOException;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
   */
  File mergeQueryableIndex(
      List<QueryableIndex> indexes,
      boolean rollup,
      AggregatorFactory[] metricAggs,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      List<QueryableIndex> indexes,
      boolean rollup,
      AggregatorFactory[] metricAggs,
      @Nullable DimensionsSpec dimensionsSpec,
      File outDir,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      AggregatorFactory[] metricAggs,
      @Nullable DimensionsSpec dimensionsSpec,
      File outDir,
      IndexSpec indexSpec,
      IndexSpec indexSpecForIntermediatePersists,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      @Nullable DimensionsSpec dimensionsSpec,
      File outDir,
      IndexSpec indexSpec,
      IndexSpec indexSpecForIntermediatePersists,
      ProgressIndicator progress,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      File outDir,
      IndexSpec indexSpec,
      IndexSpec indexSpecForIntermediatePersists,
      ProgressIndicator progress,
      @Nullable SegmentWriteOutMediumFactory segmentWriteOutMediumFactory,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      IndexSpec indexSpec,
      IndexSpec indexSpecForIntermediatePersists,
      ProgressIndicator progress,
      @Nullable SegmentWriteOutMediumFactory segmentWriteOutMediumFactory,
      int maxColumnsToMerge
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
   */
  File persist(
      IncrementalIndex index,
      Interval dataInterval,
      File outDir,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  File persist(
      IncrementalIndex index,
      Interval dataInterval,
      File outDir,
      IndexSpec indexSpec,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      IncrementalIndex index,
      Interval dataInterval,
      File outDir,
      IndexSpec indexSpec,
      ProgressIndicator progress,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      Interval dataInterval,
      File outDir,
      IndexSpec indexSpec,
      ProgressIndicator progress,
      @Nullable SegmentWriteOutMediumFactory segmentWriteOutMediumFactory
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      File outDir,
      IndexSpec indexSpec,
      ProgressIndicator progress,
      @Nullable SegmentWriteOutMediumFactory segmentWriteOutMediumFactory
  ) throws IOException;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/DoubleDimensionHandler.java`
#### Snippet
```java

  @Override
  public DimensionSchema getDimensionSchema(ColumnCapabilities capabilities)
  {
    return new DoubleDimensionSchema(dimensionName);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
            {
              @Override
              public Cursor apply(final Interval inputInterval)
              {
                final long timeStart = Math.max(interval.getStartMillis(), inputInterval.getStartMillis());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   */
  T makeSingleValueDimensionProcessor(
      ColumnCapabilities capabilities,
      SingleValueDimensionVectorSelector selector
  );
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
  T makeSingleValueDimensionProcessor(
      ColumnCapabilities capabilities,
      SingleValueDimensionVectorSelector selector
  );

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * selectors.
   */
  default boolean useDictionaryEncodedSelector(ColumnCapabilities capabilities)
  {
    Preconditions.checkArgument(capabilities != null, "Capabilities must not be null");
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   */
  T makeMultiValueDimensionProcessor(
      ColumnCapabilities capabilities,
      MultiValueDimensionVectorSelector selector
  );
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
  T makeMultiValueDimensionProcessor(
      ColumnCapabilities capabilities,
      MultiValueDimensionVectorSelector selector
  );

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * Called when {@link ColumnCapabilities#getType()} is DOUBLE.
   */
  T makeDoubleProcessor(ColumnCapabilities capabilities, VectorValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * Called when {@link ColumnCapabilities#getType()} is DOUBLE.
   */
  T makeDoubleProcessor(ColumnCapabilities capabilities, VectorValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * Called when {@link ColumnCapabilities#getType()} is LONG.
   */
  T makeLongProcessor(ColumnCapabilities capabilities, VectorValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * Called when {@link ColumnCapabilities#getType()} is LONG.
   */
  T makeLongProcessor(ColumnCapabilities capabilities, VectorValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * Called when {@link ColumnCapabilities#getType()} is FLOAT.
   */
  T makeFloatProcessor(ColumnCapabilities capabilities, VectorValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * Called when {@link ColumnCapabilities#getType()} is FLOAT.
   */
  T makeFloatProcessor(ColumnCapabilities capabilities, VectorValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * cases where the dictionary does not exist or is not expected to be useful.
   */
  T makeObjectProcessor(@SuppressWarnings("unused") ColumnCapabilities capabilities, VectorObjectSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
   * cases where the dictionary does not exist or is not expected to be useful.
   */
  T makeObjectProcessor(@SuppressWarnings("unused") ColumnCapabilities capabilities, VectorObjectSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/GenericColumnSerializer.java`
#### Snippet
```java
  void open() throws IOException;

  void serialize(ColumnValueSelector<? extends T> selector) throws IOException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessorFactory.java`
#### Snippet
```java
   * @param selector long selector
   */
  T makeLongProcessor(BaseLongColumnValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessorFactory.java`
#### Snippet
```java
   * @param selector float selector
   */
  T makeFloatProcessor(BaseFloatColumnValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessorFactory.java`
#### Snippet
```java
   * @param selector double selector
   */
  T makeDoubleProcessor(BaseDoubleColumnValueSelector selector);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessorFactory.java`
#### Snippet
```java
   * @param selector object selector
   */
  T makeComplexProcessor(BaseObjectColumnValueSelector<?> selector);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessorFactory.java`
#### Snippet
```java
   * @param multiValue whether the selector *might* have multiple values
   */
  T makeDimensionProcessor(DimensionSelector selector, boolean multiValue);

  /**
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnIndexer.java`
#### Snippet
```java

      @Override
      public int indexOf(ActualType value)
      {
        int id = getEncodedValue(value, false);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/RowAdapter.java`
#### Snippet
```java
   * Returns a function that retrieves the value for column "columnName" from rows.
   */
  Function<RowType, Object> columnFunction(String columnName);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/DimensionSelector.java`
#### Snippet
```java
  ValueMatcher makeValueMatcher(@Nullable String value);

  ValueMatcher makeValueMatcher(Predicate<String> predicate);

  /**
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexIndexableAdapter.java`
#### Snippet
```java

      @Override
      public int indexOf(T value)
      {
        return dict.lookupId(value);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CloseableShapeshifter.java`
#### Snippet
```java
   */
  @Nullable
  <T> T as(Class<T> clazz);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/DimensionHandler.java`
#### Snippet
```java
  }

  DimensionSchema getDimensionSchema(ColumnCapabilities capabilities);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CursorFactory.java`
#### Snippet
```java
  default VectorCursor makeVectorCursor(
      @Nullable Filter filter,
      Interval interval,
      VirtualColumns virtualColumns,
      boolean descending,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CursorFactory.java`
#### Snippet
```java
      @Nullable Filter filter,
      Interval interval,
      VirtualColumns virtualColumns,
      boolean descending,
      int vectorSize,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CursorFactory.java`
#### Snippet
```java
  default boolean canVectorize(
      @Nullable Filter filter,
      VirtualColumns virtualColumns,
      boolean descending
  )
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CursorFactory.java`
#### Snippet
```java
  Sequence<Cursor> makeCursors(
      @Nullable Filter filter,
      Interval interval,
      VirtualColumns virtualColumns,
      Granularity gran,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CursorFactory.java`
#### Snippet
```java
      @Nullable Filter filter,
      Interval interval,
      VirtualColumns virtualColumns,
      Granularity gran,
      boolean descending,
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/CursorFactory.java`
#### Snippet
```java
      Interval interval,
      VirtualColumns virtualColumns,
      Granularity gran,
      boolean descending,
      @Nullable QueryMetrics<?> queryMetrics
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/ConstantDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(String matchValue)
  {
    return BooleanValueMatcher.of(Objects.equals(value, matchValue));
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/ConstantDimensionSelector.java`
#### Snippet
```java

  @Override
  public int lookupId(String name)
  {
    return value.equals(name) ? 0 : -1;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
  }

  public QueryableIndex loadIndex(File inDir) throws IOException
  {
    return loadIndex(inDir, false, SegmentLazyLoadFailCallback.NOOP);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/Segment.java`
#### Snippet
```java
  @SuppressWarnings({"unused", "unchecked"})
  @Nullable
  default <T> T as(@Nonnull Class<T> clazz)
  {
    if (clazz.equals(QueryableIndex.class)) {
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnSelectorFactory.java`
#### Snippet
```java
  @Override
  @Nullable
  ColumnCapabilities getColumnCapabilities(String column);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnSelectorFactory.java`
#### Snippet
```java
public interface ColumnSelectorFactory extends ColumnInspector
{
  DimensionSelector makeDimensionSelector(DimensionSpec dimensionSpec);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ColumnSelectorFactory.java`
#### Snippet
```java
   * column with such name is absent.
   */
  ColumnValueSelector makeColumnValueSelector(String columnName);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java
   *                                       memory must override this method.
   */
  public long estimateSizeOfValue(T value)
  {
    throw new UnsupportedOperationException();
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java

  @SuppressWarnings("unused")
  public T getMinValue()
  {
    return minValue;
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java

  @SuppressWarnings("unused")
  public T getMaxValue()
  {
    return maxValue;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

      @Override
      public int lookupId(String name)
      {
        if (extractionFn != null) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

  @Override
  public int compareUnsortedEncodedKeyComponents(int[] lhs, int[] rhs)
  {
    int lhsLen = lhs.length;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

  @Override
  public int compareUnsortedEncodedKeyComponents(int[] lhs, int[] rhs)
  {
    int lhsLen = lhs.length;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

      @Override
      public ValueMatcher makeValueMatcher(final String value)
      {
        if (extractionFn == null) {
```

### NullableProblems
Primitive type members cannot be annotated
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

      @Nullable
      @MonotonicNonNull
      private int[] nullIdIntArray;

```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

  @Override
  public int getUnsortedEncodedKeyComponentHashCode(int[] key)
  {
    return Arrays.hashCode(key);
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java


  @Nullable
  @Override
  public Object convertUnsortedEncodedKeyComponentToActualList(int[] key)
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

  @Override
  public boolean checkUnsortedEncodedKeyComponentsEqual(int[] lhs, int[] rhs)
  {
    return Arrays.equals(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

  @Override
  public boolean checkUnsortedEncodedKeyComponentsEqual(int[] lhs, int[] rhs)
  {
    return Arrays.equals(lhs, rhs);
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/segment/SimpleQueryableIndex.java`
#### Snippet
```java

  @Override
  public Metadata getMetadata()
  {
    return metadata;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/ImmutableRTreeObjectStrategy.java`
#### Snippet
```java

  @Override
  public byte[] toBytes(ImmutableRTree val)
  {
    return val.toBytes();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/ImmutableRTreeObjectStrategy.java`
#### Snippet
```java
  {
    @Override
    public int compare(ImmutableRTree tree, ImmutableRTree tree1)
    {
      if (tree.size() == 0 && tree1.size() == 0) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/ImmutableRTreeObjectStrategy.java`
#### Snippet
```java
  {
    @Override
    public int compare(ImmutableRTree tree, ImmutableRTree tree1)
    {
      if (tree.size() == 0 && tree1.size() == 0) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/DecompressingByteBufferObjectStrategy.java`
#### Snippet
```java

  @Override
  public byte[] toBytes(ResourceHolder<ByteBuffer> holder)
  {
    throw new UnsupportedOperationException();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/ConciseBitmapSerdeFactory.java`
#### Snippet
```java

    @Override
    public byte[] toBytes(ImmutableBitmap val)
    {
      if (val == null || val.isEmpty()) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiInts.java`
#### Snippet
```java

  @Override
  public int indexOf(IndexedInts value)
  {
    throw new UnsupportedOperationException("Reverse lookup not allowed.");
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarMultiIntsSupplier.java`
#### Snippet
```java

    @Override
    public int indexOf(IndexedInts value)
    {
      throw new UnsupportedOperationException("Reverse lookup not allowed.");
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/data/ObjectStrategy.java`
#### Snippet
```java
   */
  @Nullable
  T fromByteBuffer(ByteBuffer buffer, int numBytes);

  @Nullable
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/data/ObjectStrategy.java`
#### Snippet
```java
   */
  @Nullable
  default T fromByteBufferSafe(ByteBuffer buffer, int numBytes)
  {
    return fromByteBuffer(buffer, numBytes);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java

      @Override
      public byte[] toBytes(ByteBuffer val)
      {
        throw new UnsupportedOperationException();
```

### NullableProblems
Constructor parameter for @Nonnull field might be annotated @Nonnull itself
in `processing/src/main/java/org/apache/druid/segment/join/filter/Equiconditions.java`
#### Snippet
```java
  @Nonnull private final Map<String, Set<Expr>> equiconditions;

  public Equiconditions(Map<String, Set<Expr>> equiconditions)
  {
    this.equiconditions = equiconditions;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterPreAnalysisKey.java`
#### Snippet
```java
  }

  public Filter getFilter()
  {
    return filter;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java`
#### Snippet
```java

  @Override
  public Serializer getSerializer()
  {
    return serializer;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/Serializer.java`
#### Snippet
```java
   * created with the provided smoosher.
   */
  void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/Serializer.java`
#### Snippet
```java
   * created with the provided smoosher.
   */
  void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException;
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
   */
  @Deprecated
  public abstract void deserializeColumn(ByteBuffer buffer, ColumnBuilder builder);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
   */
  @Deprecated
  public abstract void deserializeColumn(ByteBuffer buffer, ColumnBuilder builder);

  /**
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
   */
  public void deserializeColumn(
      ByteBuffer buffer,
      ColumnBuilder builder,
      @SuppressWarnings("unused") ColumnConfig columnConfig
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
  public void deserializeColumn(
      ByteBuffer buffer,
      ColumnBuilder builder,
      @SuppressWarnings("unused") ColumnConfig columnConfig
  )
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
      ByteBuffer buffer,
      ColumnBuilder builder,
      @SuppressWarnings("unused") ColumnConfig columnConfig
  )
  {
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
   * @return an instance of GenericColumnSerializer used for serialization.
   */
  public GenericColumnSerializer getSerializer(SegmentWriteOutMedium segmentWriteOutMedium, String column)
  {
    return ComplexColumnSerializer.create(segmentWriteOutMedium, column, this.getObjectStrategy());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
   * @return an instance of GenericColumnSerializer used for serialization.
   */
  public GenericColumnSerializer getSerializer(SegmentWriteOutMedium segmentWriteOutMedium, String column)
  {
    return ComplexColumnSerializer.create(segmentWriteOutMedium, column, this.getObjectStrategy());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricExtractor.java`
#### Snippet
```java

  @Nullable
  T extractValue(InputRow inputRow, String metricName);

  @Nullable
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricExtractor.java`
#### Snippet
```java

  @Nullable
  T extractValue(InputRow inputRow, String metricName);

  @Nullable
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java

  @JsonProperty
  public BitmapSerdeFactory getBitmapSerdeFactory()
  {
    return bitmapSerdeFactory;
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java

  @JsonProperty
  public ByteOrder getByteOrder()
  {
    return byteOrder;
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/StringValueSetIndex.java`
#### Snippet
```java
   * {@link org.apache.druid.java.util.common.guava.Comparators#naturalNullsFirst()}.
   */
  BitmapColumnIndex forSortedValues(SortedSet<String> values);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/DruidPredicateIndex.java`
#### Snippet
```java
public interface DruidPredicateIndex
{
  BitmapColumnIndex forPredicate(DruidPredicateFactory matcherFactory);
}

```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/column/UnknownTypeComplexColumn.java`
#### Snippet
```java
  }

  @Nullable
  @Override
  public Object getRowValue(int rowNum)
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/DictionaryEncodedColumn.java`
#### Snippet
```java
  ActualType lookupName(int id);

  int lookupId(ActualType name);

  int getCardinality();
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/DictionaryEncodedColumn.java`
#### Snippet
```java
  }

  SingleValueDimensionVectorSelector makeSingleValueDimensionVectorSelector(ReadableVectorOffset vectorOffset);

  MultiValueDimensionVectorSelector makeMultiValueDimensionVectorSelector(ReadableVectorOffset vectorOffset);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/DictionaryEncodedColumn.java`
#### Snippet
```java
  SingleValueDimensionVectorSelector makeSingleValueDimensionVectorSelector(ReadableVectorOffset vectorOffset);

  MultiValueDimensionVectorSelector makeMultiValueDimensionVectorSelector(ReadableVectorOffset vectorOffset);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/DictionaryEncodedColumn.java`
#### Snippet
```java
  int getCardinality();

  DimensionSelector makeDimensionSelector(ReadableOffset offset, @Nullable ExtractionFn extractionFn);

  @Override
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/DictionaryEncodedColumn.java`
#### Snippet
```java

  @Override
  default ColumnValueSelector<?> makeColumnValueSelector(ReadableOffset offset)
  {
    return makeDimensionSelector(offset, null);
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/ColumnIndexSupplier.java`
#### Snippet
```java
   */
  @Nullable
  <T> T as(Class<T> clazz);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/LexicographicalRangeIndex.java`
#### Snippet
```java
      @Nullable String endValue,
      boolean endStrict,
      Predicate<String> matcher
  );
}
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/BitmapColumnIndex.java`
#### Snippet
```java
  double estimateSelectivity(int totalRows);

  <T> T computeBitmapResult(BitmapResultFactory<T> bitmapResultFactory);
}

```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/column/ColumnCapabilitiesImpl.java`
#### Snippet
```java
  private Capable hasNulls = Capable.UNKNOWN;

  @Nullable
  @Override
  @JsonProperty
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/ComplexColumn.java`
#### Snippet
```java
   */
  @Override
  default ColumnValueSelector<?> makeColumnValueSelector(ReadableOffset offset)
  {
    return new ObjectColumnSelector()
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/ComplexColumn.java`
#### Snippet
```java

  @Override
  default VectorObjectSelector makeVectorObjectSelector(ReadableVectorOffset offset)
  {
    return new VectorObjectSelector()
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/BaseColumn.java`
#### Snippet
```java
  ColumnValueSelector<?> makeColumnValueSelector(ReadableOffset offset);

  default VectorValueSelector makeVectorValueSelector(ReadableVectorOffset offset)
  {
    throw new UOE("Cannot make VectorValueSelector for column with class[%s]", getClass().getName());
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/BaseColumn.java`
#### Snippet
```java
public interface BaseColumn extends Closeable
{
  ColumnValueSelector<?> makeColumnValueSelector(ReadableOffset offset);

  default VectorValueSelector makeVectorValueSelector(ReadableVectorOffset offset)
```

### NullableProblems
Overridden method parameters are not annotated
in `processing/src/main/java/org/apache/druid/segment/column/BaseColumn.java`
#### Snippet
```java
  }

  default VectorObjectSelector makeVectorObjectSelector(ReadableVectorOffset offset)
  {
    throw new UOE("Cannot make VectorObjectSelector for column with class[%s]", getClass().getName());
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/ColumnBuilder.java`
#### Snippet
```java
  }

  public SmooshedFileMapper getFileMapper()
  {
    return this.fileMapper;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java

      @Override
      public int lookupId(String name)
      {
        if (extractionFn != null) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java

      @Override
      public int lookupId(String name)
      {
        if (extractionFn != null) {
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
  }

  @Nullable
  @Override
  public Object getRowValue(int rowNum)
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java

  @JsonProperty
  public ColumnType getExpectedType()
  {
    return expectedType;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
            {
              @Override
              public boolean apply(String input)
              {
                return !spatialDimensionMap.containsKey(input) && !spatialPartialDimNames.contains(input);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java

  @Override
  public InputRow apply(final InputRow row)
  {
    final Map<String, List<String>> spatialLookup = new HashMap<>();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
                {
                  @Override
                  public List<String> apply(SpatialDimensionSchema input)
                  {
                    return input.getDims();
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java

  @Override
  public String getOutOfRowsReason()
  {
    return outOfRowsReason;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceSerde.java`
#### Snippet
```java

      @Override
      public byte[] toBytes(VarianceAggregatorCollector collector)
      {
        return collector == null ? new byte[]{} : collector.toByteArray();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return VarianceAggregatorCollector.combineValues(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return VarianceAggregatorCollector.combineValues(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingSerde.java`
#### Snippet
```java

      @Override
      public byte[] toBytes(ApproximateHistogram h)
      {
        if (h == null) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
    @Override
    public int compare(
        FixedBucketsHistogram arg1,
        FixedBucketsHistogram arg2
    )
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
    public int compare(
        FixedBucketsHistogram arg1,
        FixedBucketsHistogram arg2
    )
    {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java

      @Override
      public byte[] toBytes(FixedBucketsHistogram h)
      {
        if (h == null) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return ApproximateHistogramAggregator.combineHistograms(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return ApproximateHistogramAggregator.combineHistograms(lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(final Object lhs, final Object rhs)
  {
    final SketchType sketch = newHeapInstance(k);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(final Object lhs, final Object rhs)
  {
    final SketchType sketch = newHeapInstance(k);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchObjectStrategy.java`
#### Snippet
```java

  @Override
  public byte[] toBytes(final KllDoublesSketch sketch)
  {
    if (sketch == null || sketch.isEmpty()) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchObjectStrategy.java`
#### Snippet
```java

  @Override
  public byte[] toBytes(final KllFloatsSketch sketch)
  {
    if (sketch == null || sketch.isEmpty()) {
```

### NullableProblems
Overridden method parameters are not annotated
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchMergeAggregatorFactory.java`
#### Snippet
```java

  @Override
  public AggregatorFactory withName(String newName)
  {
    return new SketchMergeAggregatorFactory(
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return SketchHolder.combine(lhs, rhs, size);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return SketchHolder.combine(lhs, rhs, size);
```

### NullableProblems
Getter for @Nullable field is annotated @EverythingIsNonnullByDefault
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchAggregatorFactory.java`
#### Snippet
```java

  @JsonProperty
  public List<String> getMetricColumns()
  {
    return metricColumns;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchObjectStrategy.java`
#### Snippet
```java

  @Override
  public byte[] toBytes(final DoublesSketch sketch)
  {
    if (sketch == null || sketch.isEmpty()) {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(final Object lhs, final Object rhs)
  {
    final DoublesUnion union = DoublesUnion.builder().setMaxK(k).build();
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(final Object lhs, final Object rhs)
  {
    final DoublesUnion union = DoublesUnion.builder().setMaxK(k).build();
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/tasklog/HdfsTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getDirectory()
  {
    return directory;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/tasklog/HdfsTaskLogsConfig.java`
#### Snippet
```java

  @JsonCreator
  public HdfsTaskLogsConfig(@JsonProperty("directory") String directory)
  {
    this.directory = directory;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java
  }

  public String getS3Prefix()
  {
    return s3Prefix;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java
  }

  public String getS3Bucket()
  {
    return s3Bucket;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java

  @VisibleForTesting
  void setS3Prefix(String s3Prefix)
  {
    this.s3Prefix = s3Prefix;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java

  @VisibleForTesting
  void setS3Bucket(String s3Bucket)
  {
    this.s3Bucket = s3Bucket;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureAccountConfig.java`
#### Snippet
```java
  }

  public String getAccount()
  {
    return account;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureAccountConfig.java`
#### Snippet
```java
  }

  public void setAccount(String account)
  {
    this.account = account;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getPrefix()
  {
    return prefix;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getContainer()
  {
    return container;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  }

  public AzureTaskLogsConfig(String container, String prefix, int maxTries)
  {
    this.container = container;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  }

  public AzureTaskLogsConfig(String container, String prefix, int maxTries)
  {
    this.container = container;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/AzureBlob.java`
#### Snippet
```java
  }

  public String getContainer()
  {
    return container;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/AzureBlob.java`
#### Snippet
```java
  }

  public String getPath()
  {
    return path;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/AzureBlob.java`
#### Snippet
```java

  @JsonCreator
  public AzureBlob(@JsonProperty("container") String container, @JsonProperty("path") String path)
  {
    this.container = container;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/AzureBlob.java`
#### Snippet
```java

  @JsonCreator
  public AzureBlob(@JsonProperty("container") String container, @JsonProperty("path") String path)
  {
    this.container = container;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleTaskLogsConfig.java`
#### Snippet
```java
  private final String prefix;

  public GoogleTaskLogsConfig(@JsonProperty("bucket") String bucket, @JsonProperty("prefix") String prefix)
  {
    this.bucket = bucket;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleTaskLogsConfig.java`
#### Snippet
```java
  private final String prefix;

  public GoogleTaskLogsConfig(@JsonProperty("bucket") String bucket, @JsonProperty("prefix") String prefix)
  {
    this.bucket = bucket;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getPrefix()
  {
    return prefix;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getBucket()
  {
    return bucket;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQErrorReport.java`
#### Snippet
```java
      @JsonProperty("taskId") final String taskId,
      @JsonProperty("host") @Nullable final String host,
      @JsonProperty("stageNumber") final Integer stageNumber,
      @JsonProperty("error") final MSQFault fault,
      @JsonProperty("exceptionStackTrace") @Nullable final String exceptionStackTrace
```

### NullableProblems
Getter for @Nonnull field might be annotated @Nonnull itself
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDiscoveryConfig.java`
#### Snippet
```java

  @JsonProperty
  public String getClusterIdentifier()
  {
    return clusterIdentifier;
```

### NullableProblems
Constructor parameter for @Nonnull field might be annotated @Nonnull itself
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDiscoveryConfig.java`
#### Snippet
```java
  @JsonCreator
  public K8sDiscoveryConfig(
      @JsonProperty("clusterIdentifier") String clusterIdentifier,
      @JsonProperty("podNameEnvKey") String podNameEnvKey,
      @JsonProperty("podNamespaceEnvKey") String podNamespaceEnvKey,
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
      final BasicAuthLDAPConfig ldapConfig,
      final LruBlockCache cache,
      final Properties overrideProperties
  )
  {
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java

                              @Override
                              public Bucket apply(HadoopyShardSpec input)
                              {
                                return new Bucket(input.getShardNum(), bucketTime, i++);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
    {
      @Override
      public boolean apply(Throwable input)
      {
        if (input == null) {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/updater/MetadataStorageUpdaterJobSpec.java`
#### Snippet
```java
  }

  public String getType()
  {
    return type;
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

    @Override
    @Nullable
    public Double deserialize(ByteArrayDataInput in)
    {
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

    @Override
    @Nullable
    public Long deserialize(ByteArrayDataInput in)
    {
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

    @Override
    @Nullable
    public Float deserialize(ByteArrayDataInput in)
    {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/common/config/TaskStorageConfig.java`
#### Snippet
```java
  }

  public Duration getRecentlyFinishedThreshold()
  {
    return recentlyFinishedThreshold;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/common/config/FileTaskLogsConfig.java`
#### Snippet
```java
  }

  public File getDirectory()
  {
    return directory;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/common/config/FileTaskLogsConfig.java`
#### Snippet
```java
  }

  public FileTaskLogsConfig(File directory)
  {
    this.directory = directory;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/TaskAnnouncement.java`
#### Snippet
```java

  @JsonProperty("taskDataSource")
  public String getTaskDataSource()
  {
    return taskDataSource;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/TaskAnnouncement.java`
#### Snippet
```java
      @JsonProperty("taskResource") TaskResource taskResource,
      @JsonProperty("taskLocation") TaskLocation taskLocation,
      @JsonProperty("taskDataSource") String taskDataSource
  )
  {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycleConfig.java`
#### Snippet
```java
  }

  public File getStatusFile()
  {
    return statusFile;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycleConfig.java`
#### Snippet
```java
  }

  public File getTaskFile()
  {
    return taskFile;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/ForkingTaskRunnerConfig.java`
#### Snippet
```java
  }

  public List<String> getAllowedPrefixes()
  {
    return allowedPrefixes;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/ForkingTaskRunnerConfig.java`
#### Snippet
```java
  );

  public String getJavaCommand()
  {
    return javaCommand;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/ForkingTaskRunnerConfig.java`
#### Snippet
```java
  }

  public String getClasspath()
  {
    return classpath;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/ForkingTaskRunnerConfig.java`
#### Snippet
```java
  }

  public List<String> getJavaOptsArray()
  {
    return javaOptsArray;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/ForkingTaskRunnerConfig.java`
#### Snippet
```java
  }

  public List<Integer> getPorts()
  {
    return ports;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/ForkingTaskRunnerConfig.java`
#### Snippet
```java
  }

  public String getJavaOpts()
  {
    return javaOpts;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/RemoteTaskRunnerConfig.java`
#### Snippet
```java
  }

  public Period getWorkerBlackListCleanupPeriod()
  {
    return workerBlackListCleanupPeriod;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/RemoteTaskRunnerConfig.java`
#### Snippet
```java
  }

  public Period getWorkerBlackListBackoffTime()
  {
    return workerBlackListBackoffTime;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/RemoteTaskRunnerConfig.java`
#### Snippet
```java
  private int maxPercentageBlacklistWorkers = 20;

  public Period getTaskAssignmentTimeout()
  {
    return taskAssignmentTimeout;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/RemoteTaskRunnerConfig.java`
#### Snippet
```java
  }

  public Period getTaskCleanupTimeout()
  {
    return taskCleanupTimeout;
```

### NullableProblems
Overridden method parameters are not annotated
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ProvisioningStrategy.java`
#### Snippet
```java
   * @return the expected number of task slots available for each worker if provisioning strategy support getting the expected worker capacity, otherwise -1
   */
  default int getExpectedWorkerCapacity(@Nonnull Collection<ImmutableWorkerInfo> workers)
  {
    return -1;
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return TimestampAggregator.combineValues(comparator, lhs, rhs);
```

### NullableProblems
Parameter annotated @EverythingIsNonnullByDefault must not override @Nullable parameter
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregatorFactory.java`
#### Snippet
```java

  @Override
  public Object combine(Object lhs, Object rhs)
  {
    return TimestampAggregator.combineValues(comparator, lhs, rhs);
```

### NullableProblems
Constructor parameter for @Nonnull field might be annotated @Nonnull itself
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchBufferAggregator.java`
#### Snippet
```java

  public TDigestSketchBufferAggregator(
      final ColumnValueSelector valueSelector,
      @Nullable final Integer compression
  )
```

### NullableProblems
Getter for @Nonnull field might be annotated @Nonnull itself
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchAggregatorFactory.java`
#### Snippet
```java
  @Override
  @JsonProperty
  public String getName()
  {
    return name;
```

### NullableProblems
Primitive type members cannot be annotated
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchAggregatorFactory.java`
#### Snippet
```java
  private final int compression;

  @Nonnull
  private final byte cacheTypeId;

```

### NullableProblems
Getter for @Nonnull field might be annotated @Nonnull itself
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchAggregatorFactory.java`
#### Snippet
```java

  @JsonProperty
  public String getFieldName()
  {
    return fieldName;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentConfig.java`
#### Snippet
```java
  public String keyspace = null;

  public String getKeyspace()
  {
    return keyspace;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentConfig.java`
#### Snippet
```java
  }

  public String getHost()
  {
    return host;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitterConfig.java`
#### Snippet
```java
  }

  public String getDimensionMapPath()
  {
    return dimensionMapPath;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitterConfig.java`
#### Snippet
```java
      @JsonProperty("addHostAsLabel") boolean addHostAsLabel,
      @JsonProperty("addServiceAsLabel") boolean addServiceAsLabel,
      @JsonProperty("flushPeriod") Integer flushPeriod
  )
  {
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitterConfig.java`
#### Snippet
```java
  }

  public String getPushGatewayAddress()
  {
    return pushGatewayAddress;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java

  @VisibleForTesting
  void setPrefix(String prefix)
  {
    this.prefix = prefix;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getBucket()
  {
    return bucket;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java

  @VisibleForTesting
  void setBucket(String bucket)
  {
    this.bucket = bucket;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java
  }

  public String getPrefix()
  {
    return prefix;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusherConfig.java`
#### Snippet
```java
  private int operationMaxRetries = 10;

  public void setRegion(String region)
  {
    this.region = region;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusherConfig.java`
#### Snippet
```java
  }

  public void setBasePath(String basePath)
  {
    this.basePath = basePath;
```

### NullableProblems
Setter parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusherConfig.java`
#### Snippet
```java
  }

  public void setContainer(String container)
  {
    this.container = container;
```

### NullableProblems
Primitive type members cannot be annotated
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesAccountConfig.java`
#### Snippet
```java

  @JsonProperty
  @NotNull
  private boolean useServiceNet = true;

```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesAccountConfig.java`
#### Snippet
```java
  private boolean useServiceNet = true;

  public String getProvider()
  {
    return provider;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesAccountConfig.java`
#### Snippet
```java
  }

  public String getApiKey()
  {
    return apiKey;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesAccountConfig.java`
#### Snippet
```java
  }

  public String getUserName()
  {
    return userName;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/CloudFilesBlob.java`
#### Snippet
```java
  }

  public String getContainer()
  {
    return container;
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/CloudFilesBlob.java`
#### Snippet
```java
  }

  public String getPath()
  {
    return path;
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/CloudFilesBlob.java`
#### Snippet
```java
  @JsonCreator
  public CloudFilesBlob(
      @JsonProperty("container") String container,
      @JsonProperty("path") String path,
      @JsonProperty("region") String region
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/CloudFilesBlob.java`
#### Snippet
```java
  public CloudFilesBlob(
      @JsonProperty("container") String container,
      @JsonProperty("path") String path,
      @JsonProperty("region") String region
  )
```

### NullableProblems
Constructor parameter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/CloudFilesBlob.java`
#### Snippet
```java
      @JsonProperty("container") String container,
      @JsonProperty("path") String path,
      @JsonProperty("region") String region
  )
  {
```

### NullableProblems
Getter for @NotNull field might be annotated @NotNull itself
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/CloudFilesBlob.java`
#### Snippet
```java
  }

  public String getRegion()
  {
    return region;
```

### NullableProblems
Method annotated with @Nullable must not override @EverythingIsNonnullByDefault method
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalAggregatorFactoryBase.java`
#### Snippet
```java
  public abstract String toString();

  @Nullable
  @Override
  public Object deserialize(Object object)
```

## RuleId[ruleID=IgnoreResultOfCall]
### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/Fetcher.java`
#### Snippet
```java
    return () -> {
      final long fileSize = file.length();
      file.delete();
      fetchedBytes.addAndGet(-fileSize);
    };
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
          },
          retryCondition,
          outFile::delete,
          numTries,
          messageOnRetry
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `core/src/main/java/org/apache/druid/segment/loading/TombstoneLoadSpec.java`
#### Snippet
```java
    final String factoryJSONString = "{\"type\":\"tombstoneSegmentFactory\"}";
    final File factoryJson = new File(destDir, "factory.json");
    factoryJson.createNewFile();
    Files.write(factoryJSONString.getBytes(StandardCharsets.UTF_8), factoryJson);
    return factoryJSONString.length();
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/SqlFetcher.java`
#### Snippet
```java
        object,
        openObjectFunction.open(object, outFile),
        outFile::delete
    );
  }
```

### IgnoreResultOfCall
Result of `UUID.fromString()` is ignored
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java

    try {
      UUID.fromString(maybeUUID);
      return maybeUUID;
    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `processing/src/main/java/org/apache/druid/segment/writeout/TmpFileSegmentWriteOutMedium.java`
#### Snippet
```java
        StandardOpenOption.WRITE
    );
    closer.register(file::delete);
    closer.register(ch);
    return new FileWriteOutBytes(file, ch);
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPusher.java`
#### Snippet
```java
    finally {
      log.debug("Deleting temporary cached index.zip");
      zipOutFile.delete();
    }
  }
```

### IgnoreResultOfCall
Result of `ChannelBuffer.toString()` is ignored
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
  {
    if (clientResponse.getObj().shouldRetry()) {
      httpChunk.getContent().toString();
      return clientResponse;
    } else {
```

### IgnoreResultOfCall
Result of `ChannelBuffer.toString()` is ignored
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
    if (httpResponse.getStatus().equals(HttpResponseStatus.UNAUTHORIZED)) {
      // Drain the buffer
      httpResponse.getContent().toString();
      return ClientResponse.unfinished(RetryResponseHolder.retry());
    } else {
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureDataSegmentPusher.java`
#### Snippet
```java
      if (zipOutFile != null) {
        log.info("Deleting zipped index File[%s]", zipOutFile);
        zipOutFile.delete();
      }
    }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureDataSegmentPusher.java`
#### Snippet
```java

    log.debug("Deleting file [%s]", compressedSegmentData);
    compressedSegmentData.delete();

    return outSegment;
```

### IgnoreResultOfCall
Result of `InputStream.skip()` is ignored
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogs.java`
#### Snippet
```java

        InputStream stream = azureStorage.getBlobInputStream(container, taskKey);
        stream.skip(start);

        return Optional.of(stream);
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleDataSegmentPusher.java`
#### Snippet
```java
      if (indexFile != null) {
        log.debug("Deleting file [%s]", indexFile);
        indexFile.delete();
      }
    }
```

### IgnoreResultOfCall
Result of `InputStream.skip()` is ignored
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleStorage.java`
#### Snippet
```java
    final Get get = storage.get().objects().get(bucket, path);
    InputStream inputStream = get.executeMediaAsInputStream();
    inputStream.skip(start);
    return inputStream;
  }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialSegmentMergeTask.java`
#### Snippet
```java
        indexCleaner.register(() -> {
          queryableIndex.close();
          file.delete();
        });
      }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentPusher.java`
#### Snippet
```java

    log.info("Deleting zipped index File[%s]", compressedIndexFile);
    compressedIndexFile.delete();
    return segment;
  }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPusher.java`
#### Snippet
```java
    finally {
      log.debug("Deleting temporary cached index.zip");
      zipOutFile.delete();
    }
  }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java
      if (zipOutFile != null) {
        log.info("Deleting zipped index File[%s]", zipOutFile);
        zipOutFile.delete();
      }

```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java
      if (descriptorFile != null) {
        log.info("Deleting descriptor file[%s]", descriptorFile);
        descriptorFile.delete();
      }
    }
```

### IgnoreResultOfCall
Result of `InputStream.skip()` is ignored
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/firehose/aliyun/StaticOssFirehoseFactory.java`
#### Snippet
```java
      }
      InputStream is = ossObject.getObjectContent();
      is.skip(start);
      return is;
    }
```

## RuleId[ruleID=UnnecessaryUnboxing]
### UnnecessaryUnboxing
Unnecessary unboxing
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
    } else if (val instanceof String) {
      Double d = Doubles.tryParse((String) val);
      return d == null ? nullValue : d.doubleValue();
    } else {
      throw new IAE("Unknown object type [%s]", val.getClass().getName());
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
    } else if (val instanceof String) {
      Float f = Floats.tryParse((String) val);
      return f == null ? nullValue : f.floatValue();
    } else {
      throw new IAE("Unknown object type [%s]", val.getClass().getName());
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
        }
      } else {
        l = lobj.longValue();
      }
      return l;
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewConfig.java`
#### Snippet
```java
                         : TimeUnit.MINUTES.toMillis(1);

    this.numThreads = numThreads != null ? numThreads.intValue() : 5;

    Preconditions.checkArgument(this.serverTimeout > 0, "server timeout must be > 0 ms");
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
        plaintextPort != null ? plaintextPort : port,
        tlsPort,
        enablePlaintextPort == null ? true : enablePlaintextPort.booleanValue(),
        enableTlsPort
    );
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorOverlordServiceConfig.java`
#### Snippet
```java
  )
  {
    this.enabled = enabled == null ? false : enabled.booleanValue();
    this.overlordService = overlordService;

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `server/src/main/java/org/apache/druid/curator/ZkEnablementConfig.java`
#### Snippet
```java
  public ZkEnablementConfig(@JsonProperty("enabled") Boolean enabled)
  {
    this.enabled = enabled == null ? true : enabled.booleanValue();
  }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
          Object timestampObj = segmentMetadata.get(COMMIT_METADATA_TIMESTAMP_KEY);
          if (timestampObj != null) {
            long timestamp = ((Long) timestampObj).longValue();
            if (timestamp > latestCommitTime) {
              log.info(
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `processing/src/main/java/org/apache/druid/query/dimension/ListFilteredDimensionSpec.java`
#### Snippet
```java
    this.values = values;

    this.isWhitelist = isWhitelist == null ? true : isWhitelist.booleanValue();
  }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `processing/src/main/java/org/apache/druid/segment/virtual/ListFilteredVirtualColumn.java`
#### Snippet
```java
    this.delegate = delegate;
    this.values = values;
    this.allowList = isAllowList == null ? true : isAllowList.booleanValue();
  }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `processing/src/main/java/org/apache/druid/collections/IntegerSet.java`
#### Snippet
```java
    }
    boolean isSet = mutableBitmap.get(integer);
    mutableBitmap.add(integer.intValue());
    return !isSet;
  }
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    final int numBins = splitPoints != null ? splitPoints.length + 1 :
        (this.numBins != null ? this.numBins.intValue() : DEFAULT_NUM_BINS);
    if (numBins < 2) {
      throw new IAE("at least 2 bins expected");
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    final int numBins = splitPoints != null ? splitPoints.length + 1 :
        (this.numBins != null ? this.numBins.intValue() : DEFAULT_NUM_BINS);
    if (numBins < 2) {
      throw new IAE("at least 2 bins expected");
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
      cachedEstimate = getSketch().getEstimate();
    }
    return cachedEstimate.doubleValue();
  }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    final int numBins = splitPoints != null ? splitPoints.length + 1 :
        (this.numBins != null ? this.numBins.intValue() : DEFAULT_NUM_BINS);
    if (numBins < 2) {
      throw new IAE("at least 2 bins expected");
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/path/DatasourcePathSpec.java`
#### Snippet
```java
      this.maxSplitSize = 0;
    } else {
      this.maxSplitSize = maxSplitSize.longValue();
    }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/helpers/TaskLogAutoCleanerConfig.java`
#### Snippet
```java
      this.initialDelay = 60000 + ThreadLocalRandom.current().nextInt(4 * 60000);
    } else {
      this.initialDelay = initialDelay.longValue();
    }
    this.delay = delay == null ? 6 * 60 * 60 * 1000 : delay.longValue();
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/helpers/TaskLogAutoCleanerConfig.java`
#### Snippet
```java
      this.initialDelay = initialDelay.longValue();
    }
    this.delay = delay == null ? 6 * 60 * 60 * 1000 : delay.longValue();
    this.durationToRetain = durationToRetain == null ? Long.MAX_VALUE : durationToRetain.longValue();

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/helpers/TaskLogAutoCleanerConfig.java`
#### Snippet
```java
    }
    this.delay = delay == null ? 6 * 60 * 60 * 1000 : delay.longValue();
    this.durationToRetain = durationToRetain == null ? Long.MAX_VALUE : durationToRetain.longValue();

    Preconditions.checkArgument(this.initialDelay > 0, "initialDelay must be > 0.");
```

## RuleId[ruleID=RedundantMethodOverride]
### RedundantMethodOverride
Method `hashCode()` only delegates to its super method
in `core/src/main/java/org/apache/druid/indexer/partitions/SingleDimensionPartitionsSpec.java`
#### Snippet
```java

  @Override
  public int hashCode()
  {
    return super.hashCode();
```

### RedundantMethodOverride
Method `getScalarInputs()` is identical to its super method
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getScalarInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### RedundantMethodOverride
Method `getScalarInputs()` is identical to its super method
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getScalarInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### RedundantMethodOverride
Method `getArrayInputs()` is identical to its super method
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return Collections.emptySet();
```

### RedundantMethodOverride
Method `getOutputType()` is identical to its super method
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return ExpressionTypeConversion.function(
```

### RedundantMethodOverride
Method `getArrayInputs()` is identical to its super method
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
  {
    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### RedundantMethodOverride
Method `getNumThreadsConfigured()` is identical to its super method
in `processing/src/main/java/org/apache/druid/query/DruidProcessingConfig.java`
#### Snippet
```java
  @Override
  @Config(value = "${base_path}.numThreads")
  public int getNumThreadsConfigured()
  {
    return DEFAULT_NUM_THREADS;
```

### RedundantMethodOverride
Method `hashFunction()` is identical to its super method
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java

  @Override
  public ToIntFunction<KeyType> hashFunction()
  {
    return Groupers::hashObject;
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `processing/src/main/java/org/apache/druid/query/aggregation/NoopBufferAggregator.java`
#### Snippet
```java

  @Override
  public void inspectRuntimeShape(RuntimeShapeInspector inspector)
  {
    // nothing to inspect
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `processing/src/main/java/org/apache/druid/query/aggregation/CountBufferAggregator.java`
#### Snippet
```java

  @Override
  public void inspectRuntimeShape(RuntimeShapeInspector inspector)
  {
    // nothing to inspect
```

### RedundantMethodOverride
Method `getOutputType()` is identical to its super method
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
          @Nullable
          @Override
          public ExpressionType getOutputType(InputBindingInspector inspector)
          {
            // we cannot infer output type because there could be anything at the path, and, we lack a proper VARIANT type
```

### RedundantMethodOverride
Method `optimizeForSegment()` is identical to its super method
in `processing/src/main/java/org/apache/druid/query/aggregation/SuppressedAggregatorFactory.java`
#### Snippet
```java

  @Override
  public AggregatorFactory optimizeForSegment(PerSegmentQueryOptimizationContext optimizationContext)
  {
    // we are already the result of an optimizeForSegment() call
```

### RedundantMethodOverride
Method `getObject()` is identical to its super method
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        @Nullable
        @Override
        public Object getObject()
        {
          return defaultGetObject();
```

### RedundantMethodOverride
Method `getObject()` is identical to its super method
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        @Nullable
        @Override
        public Object getObject()
        {
          return defaultGetObject();
```

### RedundantMethodOverride
Method `hashCode()` only delegates to its super method
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java
      // instead of using toString.
      @Override
      public int hashCode()
      {
        return super.hashCode();
```

### RedundantMethodOverride
Method `hashCode()` only delegates to its super method
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java
      // instead of using toString.
      @Override
      public int hashCode()
      {
        return super.hashCode();
```

### RedundantMethodOverride
Method `equals()` only delegates to its super method
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java

      @Override
      public boolean equals(Object obj)
      {
        return super.equals(obj);
```

### RedundantMethodOverride
Method `equals()` only delegates to its super method
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java

      @Override
      public boolean equals(Object obj)
      {
        return super.equals(obj);
```

### RedundantMethodOverride
Method `supportsRequiredColumnRewrite()` is identical to its super method
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java

  @Override
  public boolean supportsRequiredColumnRewrite()
  {
    // We could support this, but need a good approach to rewriting the identifiers within an expression.
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java

    @Override
    public void inspectRuntimeShape(RuntimeShapeInspector inspector)
    {
      inspector.visit("baseSelector", baseSelector);
```

### RedundantMethodOverride
Method `classOfObject()` is identical to its super method
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java

    @Override
    public Class<?> classOfObject()
    {
      return Object.class;
```

### RedundantMethodOverride
Method `getCombiningFactory()` is identical to its super method
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingAggregatorFactory.java`
#### Snippet
```java

  @Override
  public AggregatorFactory getCombiningFactory()
  {
    return new ApproximateHistogramFoldingAggregatorFactory(
```

### RedundantMethodOverride
Method `hashCode()` is identical to its super method
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingAggregatorFactory.java`
#### Snippet
```java

  @Override
  public int hashCode()
  {
    return Objects.hash(name, fieldName, resolution, numBuckets, lowerLimit, upperLimit, finalizeAsBase64Binary);
```

### RedundantMethodOverride
Method `equals()` is identical to its super method
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingAggregatorFactory.java`
#### Snippet
```java

  @Override
  public boolean equals(Object o)
  {
    if (this == o) {
```

### RedundantMethodOverride
Method `isNull()` is identical to its super method
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramAggregator.java`
#### Snippet
```java

  @Override
  public boolean isNull()
  {
    return false;
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchNoOpBufferAggregator.java`
#### Snippet
```java

  @Override
  public void inspectRuntimeShape(final RuntimeShapeInspector inspector)
  {
    // Nothing to do.
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/NoopArrayOfDoublesSketchBufferAggregator.java`
#### Snippet
```java

  @Override
  public void inspectRuntimeShape(final RuntimeShapeInspector inspector)
  {
  }
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/NoopDoublesSketchBufferAggregator.java`
#### Snippet
```java

  @Override
  public void inspectRuntimeShape(final RuntimeShapeInspector inspector)
  {
    // Nothing to do.
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/guice/CatalogCoordinatorModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `canVectorize()` is identical to its super method
in `extensions-core/testing-tools/src/main/java/org/apache/druid/query/expressions/SleepExprMacro.java`
#### Snippet
```java
       */
      @Override
      public boolean canVectorize(InputBindingInspector inspector)
      {
        return false;
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/guice/SqlTaskModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/guice/MSQServiceClientModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDiscoveryModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `inspectRuntimeShape()` is identical to its super method
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/NoopDistinctCountBufferAggregator.java`
#### Snippet
```java

  @Override
  public void inspectRuntimeShape(RuntimeShapeInspector inspector)
  {
    // nothing to inspect
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/statsd-emitter/src/main/java/org/apache/druid/emitter/statsd/StatsDEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/influxdb-emitter/src/main/java/org/apache/druid/emitter/influxdb/InfluxdbEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/opentsdb-emitter/src/main/java/org/apache/druid/emitter/opentsdb/OpentsdbEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/dropwizard-emitter/src/main/java/org/apache/druid/emitter/dropwizard/DropwizardEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `startFileFromBeginning()` is identical to its super method
in `extensions-contrib/influx-extensions/src/main/java/org/apache/druid/data/input/influx/InfluxParser.java`
#### Snippet
```java

  @Override
  public void startFileFromBeginning()
  {
  }
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `close()` is identical to its super method
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumBufferAggregator.java`
#### Snippet
```java

  @Override
  public void close()
  {
    // no resources to cleanup
```

### RedundantMethodOverride
Method `getFloat()` is identical to its super method
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumBufferAggregator.java`
#### Snippet
```java

  @Override
  public float getFloat(ByteBuffer buf, int position)
  {
    throw new UnsupportedOperationException(getClass().getSimpleName() + " does not support getFloat()");
```

### RedundantMethodOverride
Method `getLong()` is identical to its super method
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumBufferAggregator.java`
#### Snippet
```java

  @Override
  public long getLong(ByteBuffer buf, int position)
  {
    throw new UnsupportedOperationException(getClass().getSimpleName() + " does not support getLong()");
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/opentelemetry-emitter/src/main/java/org/apache/druid/emitter/opentelemetry/OpenTelemetryEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitterModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `integration-tests-ex/tools/src/main/java/org/apache/druid/testing/tools/CustomNodeRoleClientModule.java`
#### Snippet
```java

  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `getJacksonModules()` is identical to its super method
in `integration-tests-ex/tools/src/main/java/org/apache/druid/testing/tools/SleepModule.java`
#### Snippet
```java
{
  @Override
  public List<? extends Module> getJacksonModules()
  {
    return Collections.emptyList();
```

### RedundantMethodOverride
Method `canVectorize()` is identical to its super method
in `integration-tests-ex/tools/src/main/java/org/apache/druid/testing/tools/SleepExprMacro.java`
#### Snippet
```java
       */
      @Override
      public boolean canVectorize(InputBindingInspector inspector)
      {
        return false;
```

## RuleId[ruleID=ClassNameSameAsAncestorName]
### ClassNameSameAsAncestorName
Class name `Listener` is the same as one of its superclass' names
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
  }

  private class Listener implements DruidNodeDiscovery.Listener
  {
    @Override
```

### ClassNameSameAsAncestorName
Class name `IntIterator` is the same as one of its superclass' names
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/IntSet.java`
#### Snippet
```java
   * the set
   */
  interface IntIterator extends org.roaringbitmap.IntIterator
  {
    /**
```

## RuleId[ruleID=IntegerMultiplicationImplicitCastToLong]
### IntegerMultiplicationImplicitCastToLong
keys.length \* Integer.BYTES: integer multiplication implicitly cast to long
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
    // even though they are stored just once. It may overestimate the size by a bit, but we wanted to leave
    // more buffer to be safe
    long estimatedSize = keys.length * Integer.BYTES;

    String[] vals = dimLookup.getValues(keys);
```

### IntegerMultiplicationImplicitCastToLong
numWritten \* 4: integer multiplication implicitly cast to long
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java

    Preconditions.checkState(
        headerOut.size() == (numWritten * 4),
        "numWritten[%s] number of rows should have [%s] bytes written to headerOut, had[%s]",
        numWritten,
```

## RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
### ReplaceAssignmentWithOperatorAssignment
`this.segmentCountSkipped = this.segmentCountSkipped + incrementValue` could be simplified to 'this.segmentCountSkipped += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementSegmentCountSkipped(long incrementValue)
    {
      this.segmentCountSkipped = this.segmentCountSkipped + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.intervalCountCompacted = this.intervalCountCompacted + incrementValue` could be simplified to 'this.intervalCountCompacted += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementIntervalCountCompacted(long incrementValue)
    {
      this.intervalCountCompacted = this.intervalCountCompacted + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.bytesCompacted = this.bytesCompacted + incrementValue` could be simplified to 'this.bytesCompacted += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementBytesCompacted(long incrementValue)
    {
      this.bytesCompacted = this.bytesCompacted + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.intervalCountSkipped = this.intervalCountSkipped + incrementValue` could be simplified to 'this.intervalCountSkipped += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementIntervalCountSkipped(long incrementValue)
    {
      this.intervalCountSkipped = this.intervalCountSkipped + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.bytesSkipped = this.bytesSkipped + incrementValue` could be simplified to 'this.bytesSkipped += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementBytesSkipped(long incrementValue)
    {
      this.bytesSkipped = this.bytesSkipped + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.bytesAwaitingCompaction = this.bytesAwaitingCompaction + incrementValue` could be simplified to 'this.bytesAwaitingCompaction += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementBytesAwaitingCompaction(long incrementValue)
    {
      this.bytesAwaitingCompaction = this.bytesAwaitingCompaction + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.segmentCountCompacted = this.segmentCountCompacted + incrementValue` could be simplified to 'this.segmentCountCompacted += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementSegmentCountCompacted(long incrementValue)
    {
      this.segmentCountCompacted = this.segmentCountCompacted + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.intervalCountAwaitingCompaction = this.intervalCountAwaitingCompaction + incrementValue` could be simplified to 'this.intervalCountAwaitingCompaction += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementIntervalCountAwaitingCompaction(long incrementValue)
    {
      this.intervalCountAwaitingCompaction = this.intervalCountAwaitingCompaction + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`this.segmentCountAwaitingCompaction = this.segmentCountAwaitingCompaction + incrementValue` could be simplified to 'this.segmentCountAwaitingCompaction += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/AutoCompactionSnapshot.java`
#### Snippet
```java
    public Builder incrementSegmentCountAwaitingCompaction(long incrementValue)
    {
      this.segmentCountAwaitingCompaction = this.segmentCountAwaitingCompaction + incrementValue;
      return this;
    }
```

### ReplaceAssignmentWithOperatorAssignment
`segmentNumberCountSum = segmentNumberCountSum + incrementValue` could be simplified to 'segmentNumberCountSum += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/CompactionStatistics.java`
#### Snippet
```java
  public void incrementCompactedSegments(long incrementValue)
  {
    segmentNumberCountSum = segmentNumberCountSum + incrementValue;
  }

```

### ReplaceAssignmentWithOperatorAssignment
`segmentIntervalCountSum = segmentIntervalCountSum + incrementValue` could be simplified to 'segmentIntervalCountSum += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/CompactionStatistics.java`
#### Snippet
```java
  public void incrementCompactedIntervals(long incrementValue)
  {
    segmentIntervalCountSum = segmentIntervalCountSum + incrementValue;
  }
}
```

### ReplaceAssignmentWithOperatorAssignment
`byteSum = byteSum + incrementValue` could be simplified to 'byteSum += incrementValue'
in `server/src/main/java/org/apache/druid/server/coordinator/CompactionStatistics.java`
#### Snippet
```java
  public void incrementCompactedByte(long incrementValue)
  {
    byteSum = byteSum + incrementValue;
  }

```

### ReplaceAssignmentWithOperatorAssignment
`nextBuckets = nextBuckets * 2` could be simplified to 'nextBuckets \*= 2'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferHashTable.java`
#### Snippet
```java
      if (nextTableStart > tableArenaSize / 2) {
        tableStart = nextTableStart;
        nextBuckets = nextBuckets * 2;
      } else {
        break;
```

### ReplaceAssignmentWithOperatorAssignment
`aggregationStartRow = aggregationStartRow + aggregationNumRows` could be simplified to 'aggregationStartRow += aggregationNumRows'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
          if (aggregationNumRows > 0) {
            doAggregateVector(aggregationStartRow, aggregationNumRows);
            aggregationStartRow = aggregationStartRow + aggregationNumRows;
            aggregationNumRows = 0;
          }
```

### ReplaceAssignmentWithOperatorAssignment
`temp = temp << 1` could be simplified to 'temp \<\<= 1'
in `processing/src/main/java/org/apache/druid/query/aggregation/GroupingAggregatorFactory.java`
#### Snippet
```java
    long temp = 0L;
    for (String groupingDimension : groupings) {
      temp = temp << 1;
      if (!isDimensionIncluded(groupingDimension, keyDimensions)) {
        temp = temp | 1L;
```

### ReplaceAssignmentWithOperatorAssignment
`temp = temp | 1L` could be simplified to 'temp \|= 1L'
in `processing/src/main/java/org/apache/druid/query/aggregation/GroupingAggregatorFactory.java`
#### Snippet
```java
      temp = temp << 1;
      if (!isDimensionIncluded(groupingDimension, keyDimensions)) {
        temp = temp | 1L;
      }
    }
```

### ReplaceAssignmentWithOperatorAssignment
`flags = (byte) (flags | FixedIndexed.IS_SORTED_MASK)` could be simplified to 'flags \|= FixedIndexed.IS_SORTED_MASK'
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
    byte flags = 0x00;
    if (isSorted) {
      flags = (byte) (flags | FixedIndexed.IS_SORTED_MASK);
    }
    scratch.put(flags);
```

### ReplaceAssignmentWithOperatorAssignment
`flags = (byte) (flags | NullHandling.IS_NULL_BYTE)` could be simplified to 'flags \|= NullHandling.IS_NULL_BYTE'
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
    byte flags = 0x00;
    if (hasNulls) {
      flags = (byte) (flags | NullHandling.IS_NULL_BYTE);
    }
    if (isSorted) {
```

### ReplaceAssignmentWithOperatorAssignment
`flags = (byte) (flags | FixedIndexed.IS_SORTED_MASK)` could be simplified to 'flags \|= FixedIndexed.IS_SORTED_MASK'
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
    }
    if (isSorted) {
      flags = (byte) (flags | FixedIndexed.IS_SORTED_MASK);
    }
    scratch.put(flags);
```

### ReplaceAssignmentWithOperatorAssignment
`headerIndex = headerIndex + bagSize` could be simplified to 'headerIndex += bagSize'
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
      if (currentValueOffset - lastValueOffset <= fileSizeLimit) {
        lastValueOffset = currentValueOffset;
        headerIndex = headerIndex + bagSize;
      } else {
        return false;
```

### ReplaceAssignmentWithOperatorAssignment
`counter = counter + bagSize` could be simplified to 'counter += bagSize'
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
        if (i != numberOfFilesRequired - 1) {
          valuePosition = headerOutLong.getLong(bagSize + counter);
          counter = counter + bagSize;
        } else {
          valuePosition = headerOutLong.getLong(numWritten - 1);
```

### ReplaceAssignmentWithOperatorAssignment
`totalCount = totalCount + 1` could be simplified to 'totalCount += 1'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQWarningReportLimiterPublisher.java`
#### Snippet
```java
    String errorCode = MSQErrorReport.getFaultFromException(e).getErrorCode();
    synchronized (lock) {
      totalCount = totalCount + 1;
      errorCodeToCurrentCount.compute(errorCode, (ignored, count) -> count == null ? 1L : count + 1);

```

## RuleId[ruleID=NestedAssignment]
### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/Fetcher.java`
#### Snippet
```java
  {
    try {
      for (Future<Void> fetchFuture; (fetchFuture = fetchFutures.poll()) != null; ) {
        if (wait) {
          fetchFuture.get(fetchConfig.getFetchTimeout(), TimeUnit.MILLISECONDS);
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java

      Map<String, Metadata> internalFiles = new TreeMap<>();
      while ((line = in.readLine()) != null) {
        splits = line.split(",");

```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
      // posting rate is too high, though it should never happen in practice.
      largeEventsToEmit.add(LARGE_EVENTS_STOP);
      for (byte[] largeEvent; (largeEvent = largeEventsToEmit.poll()) != LARGE_EVENTS_STOP; ) {
        emitLargeEvent(largeEvent);
        approximateBuffersToEmitCount.decrementAndGet();
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
    private void tryEmitAndDrainAllFailedBuffers()
    {
      for (FailedBuffer failedBuffer; (failedBuffer = failedBuffers.pollFirst()) != null; ) {
        sendWithRetries(failedBuffer.buffer, failedBuffer.length, failedBuffer.eventCount, false);
        approximateFailedBuffersCount.decrementAndGet();
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
    private void emitBatches()
    {
      for (Batch batch; (batch = pollBatchFromEmitQueue()) != null; ) {
        emit(batch);
      }
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
      final FileUtils.FileCopyResult result = new FileUtils.FileCopyResult();
      ZipEntry entry;
      while ((entry = zipIn.getNextEntry()) != null) {
        final File file = new File(outDir, entry.getName());

```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/segment/data/VByte.java`
#### Snippet
```java
  {
    byte b;
    int v = (b = buffer.get()) & 0x7F;
    if (b < 0) {
      return v;
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/segment/data/VByte.java`
#### Snippet
```java
      return v;
    }
    v = (((b = buffer.get()) & 0x7F) << 7) | v;
    if (b < 0) {
      return v;
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/segment/data/VByte.java`
#### Snippet
```java
      return v;
    }
    v = (((b = buffer.get()) & 0x7F) << 14) | v;
    if (b < 0) {
      return v;
```

### NestedAssignment
Result of assignment expression used
in `core/src/main/java/org/apache/druid/segment/data/VByte.java`
#### Snippet
```java
      return v;
    }
    v = (((b = buffer.get()) & 0x7F) << 21) | v;
    if (b < 0) {
      return v;
```

### NestedAssignment
Result of assignment expression used
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        // Alias pendingFuture to retVal in case taskStatusFuture is already resolved. (This will make the callback
        // below execute immediately, firing and nulling out pendingFuture.)
        final SettableFuture<ServiceLocations> retVal = (pendingFuture = SettableFuture.create());
        pendingFuture.addListener(
            () -> {
```

### NestedAssignment
Result of assignment expression used
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java

      // schedule background announcing task
      nextAnnoucement = startedAnnouncing = exec.schedule(
          new Runnable()
          {
            @Override
            public void run()
            {
              synchronized (lock) {
                try {
                  if (!(finished && queue.isEmpty())) {
                    final List<DataSegment> segments = new ArrayList<>();
                    queue.drainTo(segments);
                    try {
                      announcer.announceSegments(segments);
                      nextAnnoucement = exec.schedule(this, intervalMillis, TimeUnit.MILLISECONDS);
                    }
                    catch (IOException e) {
                      doneAnnouncing.setException(
                          new SegmentLoadingException(e, "Failed to announce segments[%s]", segments)
                      );
                    }
                  } else {
                    doneAnnouncing.set(true);
                  }
                }
                catch (Exception e) {
                  doneAnnouncing.setException(e);
                }
              }
            }
          },
          intervalMillis,
          TimeUnit.MILLISECONDS
      );
    }

```

### NestedAssignment
Result of assignment expression used
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
      }

      this.childrenCache = childrenCache = cacheFactory.make(curatorFramework, config.getContainerPath());
    }

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ResetCluster.java`
#### Snippet
```java
  {
    if (all) {
      metadataStore = segmentFiles = taskLogs = hadoopWorkingPath = true;
    }

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ResetCluster.java`
#### Snippet
```java
  {
    if (all) {
      metadataStore = segmentFiles = taskLogs = hadoopWorkingPath = true;
    }

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ResetCluster.java`
#### Snippet
```java
  {
    if (all) {
      metadataStore = segmentFiles = taskLogs = hadoopWorkingPath = true;
    }

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
    ) {
      String line;
      while ((line = reader.readLine()) != null) {
        String[] parsed = PARSER.parseLine(line);

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
    ) {
      String line;
      while ((line = reader.readLine()) != null) {
        String[] parsed = PARSER.parseLine(line);

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
    ) {
      String line;
      while ((line = reader.readLine()) != null) {
        String[] parsed = PARSER.parseLine(line);

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
    ) {
      String line;
      while ((line = reader.readLine()) != null) {
        String[] parsed = PARSER.parseLine(line);

```

### NestedAssignment
Result of assignment expression used
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
    ) {
      String line;
      while ((line = reader.readLine()) != null) {
        String[] parsed = PARSER.parseLine(line);
        StringBuilder newLineBuilder = new StringBuilder();
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
        return readyForReadingFuture;
      } else {
        return (readyForReadingFuture = SettableFuture.create());
      }
    }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
          return readyForWritingFuture;
        } else {
          return (readyForWritingFuture = SettableFuture.create());
        }
      }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
          return readyForReadingFuture;
        } else {
          return (readyForReadingFuture = SettableFuture.create());
        }
      }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java

          Bouncer.Ticket ticket;
          while ((ticket = bouncerQueue.poll()) != null) {
            ticket.giveBack();
          }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
          throw new QueryTimeoutException();
        }
        if ((mergeBufferHolder = mergeBufferPool.takeBatch(numBuffers, timeout)).isEmpty()) {
          throw new QueryTimeoutException("Cannot acquire enough merge buffers");
        }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
      int ch0 = str0.codePointAt(pos[0]);
      pos[0] += Character.charCount(ch0);
      while (pos[0] < str0.length() && !isDigit(ch0 = str0.codePointAt(pos[0]))) {
        pos[0] += Character.charCount(ch0);
      }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
      int ch1 = str1.codePointAt(pos[1]);
      pos[1] += Character.charCount(ch1);
      while (pos[1] < str1.length() && !isDigit(ch1 = str1.codePointAt(pos[1]))) {
        pos[1] += Character.charCount(ch1);
      }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java

      // Skip leading zeroes, but keep a count of them.
      while (pos[0] < str0.length() && isZero(ch0 = str0.codePointAt(pos[0]))) {
        zeroes0++;
        pos[0] += Character.charCount(ch0);
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
        pos[0] += Character.charCount(ch0);
      }
      while (pos[1] < str1.length() && isZero(ch1 = str1.codePointAt(pos[1]))) {
        zeroes1++;
        pos[1] += Character.charCount(ch1);
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
        dimHasValues = true;
        hasNull = hasNull || dimValues.indexOf(null) >= 0;
        dimValueLookups[i] = dimValueLookup = dimValues;
        numMergeIndex++;
      } else {
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
    if (convertMissingValues && !hasNull) {
      hasNull = true;
      dimValueLookups[adapters.size()] = dimValueLookup = getNullDimValue();
      numMergeIndex++;
    }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnIndexer.java`
#### Snippet
```java
  protected SortedDimensionDictionary<ActualType> sortedLookup()
  {
    return sortedLookup == null ? sortedLookup = dimLookup.sort() : sortedLookup;
  }

```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
          int index = dimLookup.add(dimensionValue);
          if (index != prevId) {
            prevId = retVal[pos++] = index;
          }
        }
```

### NestedAssignment
Result of assignment expression used
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java
    );

    Integer totalRows = sequence.accumulate(0, (accumulated, in) -> accumulated += in);

    this.keyColumnsIndexes = indexBuilders.stream()
```

### NestedAssignment
Result of assignment expression used
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
  {
    int wordExpanderNext;
    while ((wordExpanderNext = wordExpanderAdvance()) < 0) {
      if (nextIndex > immutableConciseSet.lastWordIndex) {
        return -1;
```

### NestedAssignment
Result of assignment expression used
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    // first addition
    if (lastWordIndex < 0) {
      words[lastWordIndex = 0] = word;
      return;
    }
```

### NestedAssignment
Result of assignment expression used
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    // empty set
    if (lastWordIndex < 0) {
      words[lastWordIndex = 0] = fillType | (length - 1);
      return;
    }
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchComplexMetricSerde.java`
#### Snippet
```java
          if (objectString.isEmpty()) {
            return KllDoublesSketchOperations.EMPTY_SKETCH;
          } else if ((doubleValue = Doubles.tryParse(objectString)) != null) {
            final KllDoublesSketch sketch = KllDoublesSketch.newHeapInstance(MIN_K);
            sketch.update(doubleValue);
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchComplexMetricSerde.java`
#### Snippet
```java
          if (objectString.isEmpty()) {
            return KllFloatsSketchOperations.EMPTY_SKETCH;
          } else if ((floatValue = Floats.tryParse(objectString)) != null) {
            final KllFloatsSketch sketch = KllFloatsSketch.newHeapInstance(MIN_K);
            sketch.update(floatValue);
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchComplexMetricSerde.java`
#### Snippet
```java
          if (objectString.isEmpty()) {
            return DoublesSketchOperations.EMPTY_SKETCH;
          } else if ((doubleValue = Doubles.tryParse(objectString)) != null) {
            UpdateDoublesSketch sketch = DoublesSketch.builder().setK(MIN_K).build();
            sketch.update(doubleValue);
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureDataSegmentPusher.java`
#### Snippet
```java

    try {
      final File outFile = zipOutFile = File.createTempFile("index", ".zip");
      final long size = CompressionUtils.zip(indexFilesDir, zipOutFile);

```

### NestedAssignment
Result of assignment expression used
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
        do {
          postCountersToController();
        } while ((nextCommand = kernelManipulationQueue.poll(5, TimeUnit.SECONDS)) == null);

        nextCommand.accept(kernelHolder);
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/WorkerChatHandler.java`
#### Snippet
```java
            bytesReadTotal.add(bytesReadThisCall);
          } while (bytesReadTotal.longValue() < CHANNEL_DATA_CHUNK_SIZE
                   && (bytesReadThisCall = inputStream.read(readBuf)) != -1);
        }
        catch (Throwable e) {
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
        // Run all pending commands after that one. Helps avoid deep queues.
        // After draining the command queue, move on to the next iteration of the controller loop.
        while ((command = kernelManipulationQueue.poll()) != null) {
          command.accept(queryKernel);
        }
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/statistics/DelegateOrMinKeyCollectorFactory.java`
#### Snippet
```java
        JsonToken token;

        while ((token = jp.nextToken()) != JsonToken.END_OBJECT) {
          if (token != JsonToken.FIELD_NAME) {
            ctxt.reportWrongTokenException(this, JsonToken.FIELD_NAME, null);
```

### NestedAssignment
Result of assignment expression used
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessorFactory.java`
#### Snippet
```java

          WritableFrameChannel c;
          while ((c = channelQueue.poll()) != null) {
            try {
              c.close();
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
    try {
      LockResult lockResult;
      while (!(lockResult = tryLock(task, request)).isOk()) {
        if (nanos <= 0 || lockResult.isRevoked()) {
          return lockResult;
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
    try {
      LockResult lockResult;
      while (!(lockResult = tryLock(task, request)).isOk()) {
        if (lockResult.isRevoked()) {
          return lockResult;
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java

              final RemoteTaskRunnerWorkItem tmp;
              if ((tmp = runningTasks.get(taskId)) != null) {
                taskRunnerWorkItem = tmp;
              } else {
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
  {
    final RemoteTaskRunnerWorkItem completeTask, runningTask, pendingTask;
    if ((pendingTask = pendingTasks.get(task.getId())) != null) {
      log.info("Assigned a task[%s] that is already pending!", task.getId());
      runPendingTasks();
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      runPendingTasks();
      return pendingTask.getResult();
    } else if ((runningTask = runningTasks.get(task.getId())) != null) {
      ZkWorker zkWorker = findWorkerRunningTask(task.getId());
      if (zkWorker == null) {
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      }
      return runningTask.getResult();
    } else if ((completeTask = completeTasks.get(task.getId())) != null) {
      return completeTask.getResult();
    } else {
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
    final RemoteTaskRunnerWorkItem removed = completeTasks.remove(taskId);
    final Worker worker;
    if (removed == null || (worker = removed.getWorker()) == null) {
      log.makeAlert("Asked to cleanup nonexistent task")
         .addData("taskId", taskId)
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningStrategy.java`
#### Snippet
```java
        final AutoScalingData provisioned = workerConfig.getAutoScaler().provision();
        final List<String> newNodes;
        if (provisioned == null || (newNodes = provisioned.getNodeIds()).isEmpty()) {
          log.warn("NewNodes is empty, returning from provision loop");
          break;
```

### NestedAssignment
Result of assignment expression used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
          final AutoScalingData provisioned = workerConfig.getAutoScaler().provision();
          final List<String> newNodes;
          if (provisioned == null || (newNodes = provisioned.getNodeIds()).isEmpty()) {
            log.warn("NewNodes is empty, returning from provision loop");
            break;
```

### NestedAssignment
Result of assignment expression used
in `integration-tests/src/main/java/org/apache/druid/testing/clients/EventReceiverFirehoseTestClient.java`
#### Snippet
```java
      int totalEventsPosted = 0;
      int expectedEventsPosted = 0;
      while ((s = reader.readLine()) != null) {
        events.add(this.jsonMapper.readValue(s, JacksonUtils.TYPE_REFERENCE_MAP_STRING_OBJECT));
        ObjectMapper mapper = (totalEventsPosted % 2 == 0) ? jsonMapper : smileMapper;
```

### NestedAssignment
Result of assignment expression used
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java

    try {
      final File descFile = descriptorFile = File.createTempFile("descriptor", ".json");
      final File outFile = zipOutFile = File.createTempFile("druid", "index.zip");

```

### NestedAssignment
Result of assignment expression used
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java
    try {
      final File descFile = descriptorFile = File.createTempFile("descriptor", ".json");
      final File outFile = zipOutFile = File.createTempFile("druid", "index.zip");

      final long indexSize = CompressionUtils.zip(indexFilesDir, zipOutFile);
```

## RuleId[ruleID=ReturnFromFinallyBlock]
### ReturnFromFinallyBlock
'return' inside 'finally' block
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/ResponseCookieHandler.java`
#### Snippet
```java
    }
    finally {
      return delegate.handleResponse(httpResponse, trafficCop);
    }
  }
```

## RuleId[ruleID=SimplifiableBooleanExpression]
### SimplifiableBooleanExpression
`(this.enabled && this.overlordService != null) || !this.enabled` can be simplified to '!this.enabled\|\|this.overlordService != null'
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorOverlordServiceConfig.java`
#### Snippet
```java
    this.overlordService = overlordService;

    Preconditions.checkArgument((this.enabled && this.overlordService != null) || !this.enabled,
                                "coordinator is enabled to be overlord but overlordService is not specified");
  }
```

### SimplifiableBooleanExpression
`!(Strings.isNullOrEmpty(keyColumn) ^ Strings.isNullOrEmpty(valueColumn))` can be simplified to 'Strings.isNullOrEmpty(keyColumn)==Strings.isNullOrEmpty(valueColumn)'
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
      delegate.startFileFromBeginning();
      Preconditions.checkArgument(
          !(Strings.isNullOrEmpty(keyColumn) ^ Strings.isNullOrEmpty(valueColumn)),
          "Must specify both `keyColumn` and `valueColumn` or neither `keyColumn` nor `valueColumn`"
      );
```

### SimplifiableBooleanExpression
`!(Strings.isNullOrEmpty(keyColumn) ^ Strings.isNullOrEmpty(valueColumn))` can be simplified to 'Strings.isNullOrEmpty(keyColumn)==Strings.isNullOrEmpty(valueColumn)'
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java

      Preconditions.checkArgument(
          !(Strings.isNullOrEmpty(keyColumn) ^ Strings.isNullOrEmpty(valueColumn)),
          "Must specify both `keyColumn` and `valueColumn` or neither `keyColumn` nor `valueColumn`"
      );
```

## RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
### FieldAccessedSynchronizedAndUnsynchronized
Field `currIndex` is accessed in both synchronized and unsynchronized contexts
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java

  private byte[] curr = new byte[]{};
  private int currIndex = 0;

  public void add(byte[] bytesToAdd)
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `curr` is accessed in both synchronized and unsynchronized contexts
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
  private volatile int available = 0;

  private byte[] curr = new byte[]{};
  private int currIndex = 0;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `currentChunkNum` is accessed in both synchronized and unsynchronized contexts
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java

          // Chunk number most recently assigned.
          private long currentChunkNum = 0;

          // Suspend and resume watermarks (respectively: last chunk number that triggered a suspend, and that was
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `started` is accessed in both synchronized and unsynchronized contexts
in `core/src/main/java/org/apache/druid/common/config/ConfigManager.java`
#### Snippet
```java

  private final Object lock = new Object();
  private boolean started = false;

  private final MetadataStorageConnector dbConnector;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `currentDay` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/log/FileRequestLogger.java`
#### Snippet
```java
  private final Object lock = new Object();

  private DateTime currentDay;
  private OutputStreamWriter fileWriter;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `backgroundManagerFuture` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java

  private ListeningScheduledExecutorService executorService;
  private ListenableScheduledFuture<?> backgroundManagerFuture;
  private CountDownLatch backgroundManagerExitedLatch;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lookupMapConfigRef` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java

  // Updated by config watching service
  private AtomicReference<Map<String, Map<String, LookupExtractorFactoryMapContainer>>> lookupMapConfigRef;

  private final LifecycleLock lifecycleLock = new LifecycleLock();
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lookupNodeDiscovery` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java

  private final DruidNodeDiscoveryProvider druidNodeDiscoveryProvider;
  private LookupNodeDiscovery lookupNodeDiscovery;

  private final JacksonConfigManager configManager;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `backgroundManagerExitedLatch` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  private ListeningScheduledExecutorService executorService;
  private ListenableScheduledFuture<?> backgroundManagerFuture;
  private CountDownLatch backgroundManagerExitedLatch;

  @Inject
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `executorService` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  private final LifecycleLock lifecycleLock = new LifecycleLock();

  private ListeningScheduledExecutorService executorService;
  private ListenableScheduledFuture<?> backgroundManagerFuture;
  private CountDownLatch backgroundManagerExitedLatch;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `balancerExec` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java

  private int cachedBalancerThreadNumber;
  private ListeningExecutorService balancerExec;

  public static final String HISTORICAL_MANAGEMENT_DUTIES_DUTY_GROUP = "HistoricalManagementDuties";
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `lastSuccessfulSyncTime` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
  private long unstableStartTime = -1;
  private int consecutiveFailedAttemptCount = 0;
  private long lastSuccessfulSyncTime = 0;
  private long lastSyncTime = 0;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `counter` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java

  @Nullable
  private ChangeRequestHistory.Counter counter = null;

  public ChangeRequestHttpSyncer(
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consecutiveFailedAttemptCount` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
  private final String logIdentity;
  private long unstableStartTime = -1;
  private int consecutiveFailedAttemptCount = 0;
  private long lastSuccessfulSyncTime = 0;
  private long lastSyncTime = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `delayedCloseExecutor` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
     */
    @GuardedBy("this")
    private @Nullable Thread delayedCloseExecutor;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `mergeExecutor` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
  private final Provider<QueryRunnerFactoryConglomerate> queryRunnerFactoryConglomerateProvider;

  private ListeningExecutorService mergeExecutor;

  @Inject
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consecutiveSuccessfulRuns` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java

  private int consecutiveFailedRuns = 0;
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
  private int consecutiveSuccessfulTasks = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `atLeastOneSuccessfulRun` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private volatile State supervisorState = BasicState.PENDING;

  private boolean atLeastOneSuccessfulRun = false;
  private boolean currentRunSuccessful = true;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consecutiveFailedRuns` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private boolean hasHitTaskUnhealthinessThreshold = false;

  private int consecutiveFailedRuns = 0;
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consecutiveFailedTasks` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private int consecutiveFailedRuns = 0;
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
  private int consecutiveSuccessfulTasks = 0;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `consecutiveSuccessfulTasks` is accessed in both synchronized and unsynchronized contexts
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
  private int consecutiveSuccessfulTasks = 0;

  public SupervisorStateManager(SupervisorStateManagerConfig supervisorStateManagerConfig, boolean suspended)
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `nodes` is accessed in both synchronized and unsynchronized contexts
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java

    private Map<String, Server> nodesMap = new HashMap<>();
    private ImmutableList<Server> nodes = ImmutableList.of();

    void add(String id, Server node)
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `activeProcessors` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private int activeProcessors = 0;

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `totalMergingLevels` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private int totalMergingLevels = UNKNOWN_LEVEL;

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `totalInputFrames` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private long totalInputFrames = UNKNOWN_TOTAL;

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `noWorkRunnable` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
   */
  @GuardedBy("runWorkersLock")
  private Runnable noWorkRunnable = null;

  /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `outputChannels` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private List<OutputChannel> outputChannels = null;

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `batcherIsRunning` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private boolean batcherIsRunning = false;

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `allDone` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private SettableFuture<OutputChannels> allDone = null;

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `inputChannelsToRead` is accessed in both synchronized and unsynchronized contexts
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private IntSet inputChannelsToRead = new IntOpenHashSet();

  @GuardedBy("runWorkersLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `union` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchMergeAggregator.java`
#### Snippet
```java
  private final ColumnValueSelector<HllSketch> selector;
  private final TgtHllType tgtHllType;
  private Union union;

  public HllSketchMergeAggregator(
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `sketch` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchBuildAggregator.java`
#### Snippet
```java

  private final ColumnValueSelector<Object> selector;
  private HllSketch sketch;

  public HllSketchBuildAggregator(
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `union` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregator.java`
#### Snippet
```java

  @Nullable
  private Union union;

  public SketchAggregator(BaseObjectColumnValueSelector selector, int size)
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `values` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
  private final BaseDoubleColumnValueSelector[] valueSelectors;
  @Nullable
  private double[] values; // not part of the state, but to reuse in aggregate() method
  @Nullable
  private ArrayOfDoublesUpdatableSketch sketch;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `sketch` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
  private double[] values; // not part of the state, but to reuse in aggregate() method
  @Nullable
  private ArrayOfDoublesUpdatableSketch sketch;

  private final boolean canLookupUtf8;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `union` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMergeAggregator.java`
#### Snippet
```java
  private final BaseObjectColumnValueSelector<ArrayOfDoublesSketch> selector;
  @Nullable
  private ArrayOfDoublesUnion union;

  public ArrayOfDoublesSketchMergeAggregator(
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `version` is accessed in both synchronized and unsynchronized contexts
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CachedMetadataCatalog.java`
#### Snippet
```java
  {
    private final SchemaSpec schema;
    private long version = NOT_FETCHED;
    private final ConcurrentHashMap<String, TableEntry> cache = new ConcurrentHashMap<>();

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `numCanceledTasks` is accessed in both synchronized and unsynchronized contexts
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskMonitor.java`
#### Snippet
```java
   * {@link ParallelIndexPhaseRunner#stopGracefully(String)} ()}.
   */
  private int numCanceledTasks;

  @GuardedBy("startStopLock")
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `missInterval` is accessed in both synchronized and unsynchronized contexts
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
  // In the missing intervals, baseDataSource has data but derivedDataSource does not, which means
  // data in these intervals of derivedDataSource needs to be rebuilt.
  private Set<Interval> missInterval = new HashSet<>();

  public MaterializedViewSupervisor(
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `initRetryCounter` is accessed in both synchronized and unsynchronized contexts
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private long lastRunTime;
  private long dynamicTriggerLastRunTime;
  private int initRetryCounter = 0;
  private volatile DateTime firstRunTime;
  private volatile DateTime earlyStopTime = null;
```

## RuleId[ruleID=PointlessBitwiseExpression]
### PointlessBitwiseExpression
`val >> 0` can be replaced with 'val'
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilter.java`
#### Snippet
```java
  {
    byte[] bytes = BYTE_ARRAY_4.get();
    bytes[0] = (byte) (val >> 0);
    bytes[1] = (byte) (val >> 8);
    bytes[2] = (byte) (val >> 16);
```

## RuleId[ruleID=SynchronizeOnThis]
### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
    // Lock held only to get the result set, not during cleanup.
    DruidJdbcResultSet currentResultSet;
    synchronized (this) {
      currentResultSet = resultSet;
      resultSet = null;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidConnection.java`
#### Snippet
```java
  {
    AbstractDruidJdbcStatement stmt;
    synchronized (this) {
      stmt = statements.remove(statementId);
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidConnection.java`
#### Snippet
```java
    final int statementId = statementCounter.incrementAndGet();

    synchronized (this) {
      if (statements.containsKey(statementId)) {
        // Will only happen if statementCounter rolls over before old statements are cleaned up. If this
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidConnection.java`
#### Snippet
```java
    final int statementId = statementCounter.incrementAndGet();

    synchronized (this) {
      if (statements.containsKey(statementId)) {
        // Will only happen if statementCounter rolls over before old statements are cleaned up. If this
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
    public void close()
    {
      synchronized (this) {
        closed = true;
        resourceHolderList.forEach(v -> factory.close(v.getResource()));
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
        resourceHolderList.forEach(v -> factory.close(v.getResource()));
        resourceHolderList.clear();
        this.notifyAll();
      }
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
      // resourceHolderList can't have nulls, so we'll use a null to signal that we need to create a new resource.
      boolean expired = false;
      synchronized (this) {
        while (!closed && (numLentResources == maxSize)) {
          try {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
        while (!closed && (numLentResources == maxSize)) {
          try {
            this.wait();
          }
          catch (InterruptedException e) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
      }
      catch (Throwable e) {
        synchronized (this) {
          numLentResources--;
          this.notifyAll();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
        synchronized (this) {
          numLentResources--;
          this.notifyAll();
        }
        Throwables.propagateIfPossible(e);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
      Preconditions.checkNotNull(object, "object");

      synchronized (this) {
        if (closed) {
          log.info(StringUtils.format("giveBack called after being closed. key[%s]", key));
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
        resourceHolderList.addLast(new ResourceHolder<>(System.currentTimeMillis(), object));
        numLentResources--;
        this.notifyAll();
      }
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/common/config/Log4jShutdown.java`
#### Snippet
```java
      if (current == expected) {
        current = transition;
        notifyAll();
        return true;
      }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `core/src/main/java/org/apache/druid/common/config/Log4jShutdown.java`
#### Snippet
```java
          long prev = System.currentTimeMillis();
          while (current != transition && remaining > 0) {
            wait(remaining);
            long now = System.currentTimeMillis();
            remaining -= now - prev;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
    public void nodeViewInitialized()
    {
      synchronized (DiscoveryServiceLocator.this) {
        initialized = true;

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
    public void nodesAdded(final Collection<DiscoveryDruidNode> nodes)
    {
      synchronized (DiscoveryServiceLocator.this) {
        for (final DiscoveryDruidNode node : nodes) {
          locations.add(ServiceLocation.fromDruidNode(node.getDruidNode()));
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
  public void close()
  {
    synchronized (this) {
      // Idempotent: can call close() multiple times so long as start() has already been called.
      if (started && !closed) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
  public ListenableFuture<ServiceLocations> locate()
  {
    synchronized (this) {
      if (closed) {
        return Futures.immediateFuture(ServiceLocations.closed());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
    public void nodesRemoved(final Collection<DiscoveryDruidNode> nodes)
    {
      synchronized (DiscoveryServiceLocator.this) {
        for (final DiscoveryDruidNode node : nodes) {
          locations.remove(ServiceLocation.fromDruidNode(node.getDruidNode()));
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
  public void start()
  {
    synchronized (this) {
      if (started || closed) {
        throw new ISE("Cannot start once already started or closed");
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/client/selector/ServerSelector.java`
#### Snippet
```java
  public void addServerAndUpdateSegment(QueryableDruidServer server, DataSegment segment)
  {
    synchronized (this) {
      this.segment.set(segment);
      Set<QueryableDruidServer> priorityServers;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/client/selector/ServerSelector.java`
#### Snippet
```java
  {
    List<DruidServerMetadata> candidates;
    synchronized (this) {
      if (numCandidates > 0) {
        candidates = new ArrayList<>(numCandidates);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/client/selector/ServerSelector.java`
#### Snippet
```java
  public <T> QueryableDruidServer<? extends QueryRunner<T>> pick(@Nullable Query<T> query)
  {
    synchronized (this) {
      if (!historicalServers.isEmpty()) {
        return strategy.pick(query, historicalServers, segment.get());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/client/selector/ServerSelector.java`
#### Snippet
```java
  public boolean removeServer(QueryableDruidServer server)
  {
    synchronized (this) {
      Int2ObjectRBTreeMap<Set<QueryableDruidServer>> servers;
      Set<QueryableDruidServer> priorityServers;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/client/selector/ServerSelector.java`
#### Snippet
```java
  public boolean isEmpty()
  {
    synchronized (this) {
      return historicalServers.isEmpty() && realtimeServers.isEmpty();
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    }

    synchronized (this) {
      final Map<String, Map<String, LookupExtractorFactoryMapContainer>> priorSpec = getKnownLookups();
      if (priorSpec == null && !updateSpec.isEmpty()) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    Preconditions.checkState(lifecycleLock.awaitStarted(5, TimeUnit.SECONDS), "not started");

    synchronized (this) {
      final Map<String, Map<String, LookupExtractorFactoryMapContainer>> priorSpec = getKnownLookups();
      if (priorSpec == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    Preconditions.checkState(lifecycleLock.awaitStarted(5, TimeUnit.SECONDS), "not started");

    synchronized (this) {
      final Map<String, Map<String, LookupExtractorFactoryMapContainer>> priorSpec = getKnownLookups();
      if (priorSpec == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
        // (see the logic of this thread in createDelayedCloseExecutor()).
        boolean needToInterruptDelayedCloseExecutor = true;
        synchronized (this) {
          delayedCloseExecutor = this.delayedCloseExecutor;
          if (delayedCloseExecutor == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
      if (maxIdleTimeMillis != Long.MAX_VALUE) {
        idleCloseTimeNs = System.nanoTime() + TimeUnit.MILLISECONDS.toNanos(maxIdleTimeMillis);
        synchronized (this) {
          createDelayedCloseExecutor();
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
  )
  {
    synchronized (this) {
      DatasourceBundle datasourceBundle = datasourceBundles.computeIfAbsent(
          schema.getDataSource(),
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
  )
  {
    synchronized (this) {
      DatasourceBundle datasourceBundle = datasourceBundles.computeIfAbsent(
          schema.getDataSource(),
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
  )
  {
    synchronized (this) {
      DatasourceBundle datasourceBundle = datasourceBundles.computeIfAbsent(
          schema.getDataSource(),
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
  )
  {
    synchronized (this) {
      DatasourceBundle datasourceBundle = datasourceBundles.get(dataSource);
      if (datasourceBundle == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
    final DatasourceBundle bundle;

    synchronized (this) {
      bundle = datasourceBundles.get(table.getName());
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
  )
  {
    synchronized (this) {
      DatasourceBundle datasourceBundle = datasourceBundles.computeIfAbsent(
          schema.getDataSource(),
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
    void remove(String id)
    {
      synchronized (this) {
        if (nodesMap.remove(id) != null) {
          nodes = ImmutableList.copyOf(nodesMap.values());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
    void add(String id, Server node)
    {
      synchronized (this) {
        nodesMap.put(id, node);
        nodes = ImmutableList.copyOf(nodesMap.values());
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `processing/src/main/java/org/apache/druid/frame/processor/AwaitAnyWidget.java`
#### Snippet
```java
    public boolean replaceFuture(final SettableFuture<?> newFuture)
    {
      synchronized (this) {
        if (future == null) {
          return false;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `processing/src/main/java/org/apache/druid/frame/processor/AwaitAnyWidget.java`
#### Snippet
```java
    public void run()
    {
      synchronized (this) {
        try {
          future.set(null);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchMergeAggregator.java`
#### Snippet
```java
      return;
    }
    synchronized (this) {
      union.update(sketch);
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchBuildAggregator.java`
#### Snippet
```java
      return;
    }
    synchronized (this) {
      updateSketch(sketch, value);
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregator.java`
#### Snippet
```java
      return;
    }
    synchronized (this) {
      if (union == null) {
        initUnion();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregator.java`
#### Snippet
```java
    //given that results from the aggregator will be combined further, it is better
    //to return the ordered sketch here
    synchronized (this) {
      return SketchHolder.of(union.getResult(true, null));
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregator.java`
#### Snippet
```java
      return 0;
    }
    synchronized (this) {
      long unionSizeDelta = 0;
      long initialSketchSize = 0;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
      }
    }
    synchronized (this) {
      if (canLookupUtf8) {
        for (int i = 0, keysSize = keys.size(); i < keysSize; i++) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMergeAggregator.java`
#### Snippet
```java
      return;
    }
    synchronized (this) {
      union.union(update);
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CachedMetadataCatalog.java`
#### Snippet
```java
      }
      if (version == NOT_FETCHED) {
        synchronized (this) {
          List<TableMetadata> catalogTables = base.tablesForSchema(schema.name());
          for (TableMetadata table : catalogTables) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/ChannelCounters.java`
#### Snippet
```java
    final long[] totalFilesArray;

    synchronized (this) {
      rowsArray = listToArray(rows);
      bytesArray = listToArray(bytes);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/ChannelCounters.java`
#### Snippet
```java
  )
  {
    synchronized (this) {
      ensureCapacityForPartition(partitionNumber);
      rows.set(partitionNumber, rows.getLong(partitionNumber) + nRows);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/ChannelCounters.java`
#### Snippet
```java
  public ChannelCounters setTotalFiles(final long nFiles)
  {
    synchronized (this) {
      ensureCapacityForPartition(NO_PARTITION);
      totalFiles.set(NO_PARTITION, nFiles);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/IndexerWorkerContext.java`
#### Snippet
```java
    closer.register(() -> toolbox.getChatHandlerProvider().unregister(worker.id()));
    closer.register(() -> {
      synchronized (this) {
        if (controllerLocator != null) {
          controllerLocator.close();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
    if (taskConfig.isRestoreTasksOnRestart()) {
      try {
        synchronized (this) {
          if (!gracefullyStopped) {
            gracefullyStopped = true;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
      }
    } else {
      synchronized (this) {
        if (!gracefullyStopped) {
          // If task restore is not enabled, just interrupt immediately.
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

      // Skip connecting firehose if we've been stopped before we got started.
      synchronized (this) {
        if (!gracefullyStopped) {
          firehose = firehoseFactory.connect(
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

      if (!gracefullyStopped) {
        synchronized (this) {
          if (gracefullyStopped) {
            // Someone called stopGracefully after we checked the flag. That's okay, just stop now.
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java
    if (taskConfig.isRestoreTasksOnRestart()) {
      try {
        synchronized (this) {
          if (!gracefullyStopped) {
            gracefullyStopped = true;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java
      }
    } else {
      synchronized (this) {
        if (!gracefullyStopped) {
          // If task restore is not enabled, just interrupt immediately.
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

      // Skip connecting firehose if we've been stopped before we got started.
      synchronized (this) {
        if (!gracefullyStopped) {
          firehose = firehoseFactory.connect(
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java
          } else {
            log.info("Finishing the job.");
            synchronized (this) {
              if (gracefullyStopped) {
                // Someone called stopGracefully after we checked the flag. That's okay, just stop now.
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
  protected void registerResourceCloserOnAbnormalExit(Consumer<TaskConfig> cleaner)
  {
    synchronized (this) {
      resourceCloserOnAbnormalExit.register(cleaner);
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
  public void stopGracefully(TaskConfig taskConfig)
  {
    synchronized (this) {
      stopped = true;
      resourceCloserOnAbnormalExit.clean(taskConfig);
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
    }

    synchronized (this) {
      if (stopped) {
        return "Attempting to run a task that has been stopped. See overlord & task logs for more details.";
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java
    parentMonitorExec.shutdown();

    synchronized (this) {
      if (taskLockFileLock != null) {
        taskLockFileLock.release();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java
      final File taskLockFile = taskConfig.getTaskLockFile(task.getId());
      try {
        synchronized (this) {
          if (taskLockChannel == null && taskLockFileLock == null) {
            taskLockChannel = FileChannel.open(
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/NoticesQueue.java`
#### Snippet
```java
  public T poll(final long timeoutMillis) throws InterruptedException
  {
    synchronized (this) {
      final long timeoutAt = System.currentTimeMillis() + timeoutMillis;

```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/NoticesQueue.java`
#### Snippet
```java
      long waitMillis = timeoutMillis;
      while (queue.isEmpty() && waitMillis > 0) {
        wait(waitMillis);
        waitMillis = timeoutAt - System.currentTimeMillis();
      }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/NoticesQueue.java`
#### Snippet
```java
    Preconditions.checkNotNull(item, "item");

    synchronized (this) {
      queue.add(item);
      this.notifyAll();
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/NoticesQueue.java`
#### Snippet
```java
    synchronized (this) {
      queue.add(item);
      this.notifyAll();
    }
  }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/NoticesQueue.java`
#### Snippet
```java
  public int size()
  {
    synchronized (this) {
      return queue.size();
    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchAggregator.java`
#### Snippet
```java
    }
    if (obj instanceof Number) {
      synchronized (this) {
        histogram.add(((Number) obj).doubleValue());
      }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchAggregator.java`
#### Snippet
```java
      }
    } else if (obj instanceof MergingDigest) {
      synchronized (this) {
        histogram.add((MergingDigest) obj);
      }
```

## RuleId[ruleID=UnstableTypeUsedInSignature]
### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.HashFunction'
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
  private final HashFunction hashFunction;

  public HyperLogLogHash(HashFunction hashFunction)
  {
    this.hashFunction = hashFunction;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Unions a set of ranges, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> unionRanges(final Iterable<Range<T>> ranges)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
public class RangeSets
{
  public static <T extends Comparable<T>> RangeSet<T> of(final Range<T> range)
  {
    return unionRanges(ImmutableList.of(range));
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  }

  public static List<Interval> toIntervals(final RangeSet<Long> rangeSet)
  {
    final List<Interval> retVal = new ArrayList<>();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Intersects a set of ranges, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> intersectRanges(final Iterable<Range<T>> ranges)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Unions a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  }

  public static RangeSet<Long> fromIntervals(final Iterable<Interval> intervals)
  {
    final RangeSet<Long> retVal = TreeRangeSet.create();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Intersects a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> intersectRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
  }

  public HostAndPort toHostAndPort()
  {
    if (tlsPort >= 0) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/TombstoneShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/BuildingShardSpec.java`
#### Snippet
```java

  @Override
  default boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    throw new UnsupportedOperationException();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/BucketNumberedShardSpec.java`
#### Snippet
```java

  @Override
  default boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    throw new UnsupportedOperationException();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/LinearShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    // partitionFunction should be used instead of HashPartitioner at query time.
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/NoneShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/NumberedOverwriteShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
   */
  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    final StringTuple segmentStart = start == null ? new StringTuple(new String[dimensions.size()]) : start;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/SingleDimensionShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    RangeSet<String> rangeSet = domain.get(dimension);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/NumberedShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `core/src/main/java/org/apache/druid/timeline/partition/ShardSpec.java`
#### Snippet
```java
   */
  @JsonIgnore
  boolean possibleInDomain(Map<String, RangeSet<String>> domain);

  /**
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  }

  public HostAndPort getHostAndPort()
  {
    return hostAndPort;
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.net.HostAndPort'
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
{
  private String scheme;
  private HostAndPort hostAndPort;

  public HostAndPortWithScheme(String scheme, HostAndPort hostAndPort)
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  private HostAndPort hostAndPort;

  public HostAndPortWithScheme(String scheme, HostAndPort hostAndPort)
  {
    this.scheme = scheme;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.HashFunction'
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  private Set<String> previousKeys = new HashSet<>();

  public ConsistentHasher(final HashFunction hashFunction)
  {
    this.hashFn = hashFunction == null ? DEFAULT_HASH_FN : hashFunction;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  @Produces({MediaType.APPLICATION_JSON})
  @Path("/nodeStatus/{tier}/{hostAndPort}")
  public Response getSpecificNodeStatus(
      @PathParam("tier") String tier,
      @PathParam("hostAndPort") HostAndPort hostAndPort
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  }

  public Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> getLastKnownLookupsStateOnNodes()
  {
    Preconditions.checkState(lifecycleLock.awaitStarted(5, TimeUnit.SECONDS), "not started");
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.net.HostAndPort'
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  }

  public Collection<HostAndPort> discoverNodesInTier(String tier)
  {
    Preconditions.checkState(lifecycleLock.awaitStarted(5, TimeUnit.SECONDS), "not started");
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/ExtractionDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/FalseDimFilter.java`
#### Snippet
```java
  @Nullable
  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return ImmutableRangeSet.of();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/ColumnComparisonDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/SearchQueryDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return convertedFilter.getDimensionRangeSet(dimension);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/TrueDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/ExpressionDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(final String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
   */
  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (field instanceof AndDimFilter) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/DimFilter.java`
#### Snippet
```java
   */
  @Nullable
  RangeSet<String> getDimensionRangeSet(String dimension);

  /**
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (!(Objects.equals(getDimension(), dimension)
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/RegexDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/SpatialDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (!Objects.equals(getDimension(), dimension) || getExtractionFn() != null) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
   * @return The set of filtered object, in the same order as input
   */
  public static <T> Set<T> filterShards(
      final DimFilter dimFilter,
      final Iterable<T> input,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/JavaScriptDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = TreeRangeSet.create();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
  @Nullable
  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (!Objects.equals(getDimension(), dimension) || getExtractionFn() != null) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.Hasher'
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/DoubleCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(BaseDoubleColumnValueSelector selector, Hasher hasher)
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.Hasher'
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(DimensionSelector dimSelector, Hasher hasher)
  {
    final IndexedInts row = dimSelector.getRow();
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.hash.HashFunction'
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
public class CardinalityAggregator implements Aggregator
{
  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  static void hashRow(
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.Hasher'
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/CardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
   * @param hasher Hasher used for cardinality aggregator calculations
   */
  void hashRow(ValueSelectorType dimSelector, Hasher hasher);


```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.Hasher'
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/FloatCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(BaseFloatColumnValueSelector selector, Hasher hasher)
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.Hasher'
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/LongCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(BaseLongColumnValueSelector selector, Hasher hasher)
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.HashCode'
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
  private final HashCode hash;

  public BloomKFilterHolder(BloomKFilter filter, HashCode hash)
  {
    this.filter = filter;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/IncrementalPublishingKafkaIndexTaskRunner.java`
#### Snippet
```java

  @Override
  protected void possiblyResetDataSourceMetadata(
      TaskToolbox toolbox,
      RecordSupplier<Integer, Long, KafkaRecordEntity> recordSupplier,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/IncrementalPublishingKafkaIndexTaskRunner.java`
#### Snippet
```java
  @Nonnull
  @Override
  protected List<OrderedPartitionableRecord<Integer, Long, KafkaRecordEntity>> getRecords(
      RecordSupplier<Integer, Long, KafkaRecordEntity> recordSupplier,
      TaskToolbox toolbox
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisor.java`
#### Snippet
```java

  @Override
  protected RecordSupplier<Integer, Long, KafkaRecordEntity> setupRecordSupplier()
  {
    return new KafkaRecordSupplier(
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisIndexTaskRunner.java`
#### Snippet
```java
  @Nonnull
  @Override
  protected List<OrderedPartitionableRecord<String, String, ByteEntity>> getRecords(
      RecordSupplier<String, String, ByteEntity> recordSupplier, TaskToolbox toolbox
  )
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisIndexTaskRunner.java`
#### Snippet
```java

  @Override
  protected void possiblyResetDataSourceMetadata(
      TaskToolbox toolbox,
      RecordSupplier<String, String, ByteEntity> recordSupplier,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/supervisor/KinesisSupervisor.java`
#### Snippet
```java

  @Override
  protected RecordSupplier<String, String, ByteEntity> setupRecordSupplier() throws RuntimeException
  {
    KinesisSupervisorIOConfig ioConfig = spec.getIoConfig();
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.hash.HashFunction'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java


  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  private static final Logger log = new Logger(IndexTask.class);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamSamplerSpec.java`
#### Snippet
```java
  }

  protected abstract RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> createRecordSupplier();

  private class SeekableStreamSamplerFirehoseFactory implements FiniteFirehoseFactory<ByteBufferInputRowParser, Object>
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTask.java`
#### Snippet
```java
  protected abstract SeekableStreamIndexTaskRunner<PartitionIdType, SequenceOffsetType, RecordType> createTaskRunner();

  protected abstract RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> newTaskRecordSupplier();

  @VisibleForTesting
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/RecordSupplierInputSource.java`
#### Snippet
```java
  private final Integer iteratorTimeoutMs;

  public RecordSupplierInputSource(
      String topic,
      RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi'
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPuller.java`
#### Snippet
```java

  @Inject
  public CloudFilesDataSegmentPuller(final CloudFilesApi cloudFilesApi)
  {
    this.cloudFilesApi = cloudFilesApi;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi'
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java

  @Inject
  public CloudFilesDataSegmentPusher(
      final CloudFilesApi cloudFilesApi,
      final CloudFilesDataSegmentPusherConfig config, final ObjectMapper jsonMapper
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi'
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
  private final String container;

  public CloudFilesObjectApiProxy(final CloudFilesApi cloudFilesApi, final String region, final String container)
  {
    this.region = region;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi'
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java
  @Provides
  @LazySingleton
  public CloudFilesApi getCloudFilesApi(final CloudFilesAccountConfig config)
  {
    log.info("Building Cloud Files Api...");
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi'
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/StaticCloudFilesFirehoseFactory.java`
#### Snippet
```java

  @JsonCreator
  public StaticCloudFilesFirehoseFactory(
      @JacksonInject CloudFilesApi cloudFilesApi,
      @JsonProperty("blobs") List<CloudFilesBlob> blobs,
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private volatile DateTime firstRunTime;
  private volatile DateTime earlyStopTime = null;
  protected volatile RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier;
  private volatile boolean started = false;
  private volatile boolean stopped = false;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
   * @return specific instance of Kafka/Kinesis RecordSupplier
   */
  protected abstract RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> setupRecordSupplier();

  /**
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
   */
  @NotNull
  protected abstract List<OrderedPartitionableRecord<PartitionIdType, SequenceOffsetType, RecordType>> getRecords(
      RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier,
      TaskToolbox toolbox
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'org.apache.druid.indexing.seekablestream.common.RecordSupplier'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
   * earliest sequence offsets fetched from stream
   */
  protected abstract void possiblyResetDataSourceMetadata(
      TaskToolbox toolbox,
      RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier,
```

## RuleId[ruleID=UnusedAssignment]
### UnusedAssignment
The value `in` assigned to `accumulated` is never used
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java
    );

    Integer totalRows = sequence.accumulate(0, (accumulated, in) -> accumulated += in);

    this.keyColumnsIndexes = indexBuilders.stream()
```

## RuleId[ruleID=UnnecessarySemicolon]
### UnnecessarySemicolon
Unnecessary semicolon `;`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/BitwiseSqlAggregator.java`
#### Snippet
```java
    abstract SqlAggFunction getCalciteFunction();
    abstract String getDruidFunction();
  };

  private final Op op;
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionCardinalityTask.java`
#### Snippet
```java
            buildSegmentsMeters,
            parseExceptionHandler
        );
    ) {
      Map<Interval, byte[]> cardinalities = determineCardinalities(
```

## RuleId[ruleID=SimplifyStreamApiCallChains]
### SimplifyStreamApiCallChains
Can be replaced with '.values().stream()'
in `server/src/main/java/org/apache/druid/server/coordinator/cost/SegmentsCostCache.java`
#### Snippet
```java
              .entrySet()
              .stream()
              .map(entry -> entry.getValue().build())
              .collect(Collectors.toCollection(ArrayList::new))
      );
```

### SimplifyStreamApiCallChains
Can be replaced with '.values().stream()'
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryRunnerFactory.java`
#### Snippet
```java
                partitionsGroupedByInterval.entrySet()
                                           .stream()
                                           .map(entry -> entry.getValue()
                                                              .stream()
                                                              .map(segQueryRunnerPair -> segQueryRunnerPair.rhs)
```

## RuleId[ruleID=StringOperationCanBeSimplified]
### StringOperationCanBeSimplified
Call to `toString()` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      sb.append(StringUtils.format("+%s(%s)", entry.getKey().toString(), entry.getValue().toString()));
    }
    String partitionOffsetStr = startPartitions.size() == 0 ? "" : sb.toString().substring(1);

    String minMsgTimeStr = (minimumMessageTime.isPresent() ? String.valueOf(minimumMessageTime.get().getMillis()) : "");
```

## RuleId[ruleID=OptionalContainsCollection]
### OptionalContainsCollection
'Optional' contains collection `List`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidUnionDataSourceRule.java`
#### Snippet
```java
  }

  static Optional<List<String>> getColumnNamesIfTableOrUnion(final DruidRel<?> druidRel, @Nullable PlannerContext plannerContext)
  {
    final PartialDruidQuery partialQuery = druidRel.getPartialDruidQuery();
```

### OptionalContainsCollection
'Optional' contains collection `List`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidUnionDataSourceRule.java`
#### Snippet
```java
  private static boolean isUnionCompatible(final DruidRel<?> first, final DruidRel<?> second, @Nullable PlannerContext plannerContext)
  {
    final Optional<List<String>> firstColumnNames = getColumnNamesIfTableOrUnion(first, plannerContext);
    final Optional<List<String>> secondColumnNames = getColumnNamesIfTableOrUnion(second, plannerContext);
    if (!firstColumnNames.isPresent() || !secondColumnNames.isPresent()) {
```

### OptionalContainsCollection
'Optional' contains collection `List`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidUnionDataSourceRule.java`
#### Snippet
```java
  {
    final Optional<List<String>> firstColumnNames = getColumnNamesIfTableOrUnion(first, plannerContext);
    final Optional<List<String>> secondColumnNames = getColumnNamesIfTableOrUnion(second, plannerContext);
    if (!firstColumnNames.isPresent() || !secondColumnNames.isPresent()) {
      // No need to set the planning error here
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/client/CachingQueryRunner.java`
#### Snippet
```java
  private final SegmentDescriptor segmentDescriptor;
  private final Interval actualDataInterval;
  private final Optional<byte[]> cacheKeyPrefix;
  private final QueryRunner<T> base;
  private final QueryToolChest toolChest;
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/client/CachingQueryRunner.java`
#### Snippet
```java
  public CachingQueryRunner(
      String cacheId,
      Optional<byte[]> cacheKeyPrefix,
      SegmentDescriptor segmentDescriptor,
      Interval actualDataInterval,
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
  )
  {
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryToolChest<T, Query<T>> toolChest,
      final SegmentReference segment,
      final Optional<byte[]> cacheKeyPrefix,
      final SegmentDescriptor segmentDescriptor,
      final AtomicLong cpuTimeAccumulator
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java

    // We compute the datasource's cache key here itself so it doesn't need to be re-computed for every segment
    final Optional<byte[]> cacheKeyPrefix = Optional.ofNullable(dataSourceFromQuery.getCacheKey());

    final FunctionalIterable<QueryRunner<T>> queryRunners = FunctionalIterable
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/segment/join/BroadcastTableJoinableFactory.java`
#### Snippet
```java

  @Override
  public Optional<byte[]> computeJoinCacheKey(DataSource dataSource, JoinConditionAnalysis condition)
  {
    if (!condition.canHashJoin()) {
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SinkQuerySegmentWalker.java`
#### Snippet
```java

    // We compute the join cache key here itself so it doesn't need to be re-computed for every segment
    final Optional<byte[]> cacheKeyPrefix = Optional.ofNullable(query.getDataSource().getCacheKey());

    Iterable<QueryRunner<T>> perSegmentRunners = Iterables.transform(
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
    }
    for (PreJoinableClause clause : clauses) {
      Optional<byte[]> bytes = joinableFactoryWrapper.getJoinableFactory().computeJoinCacheKey(clause.getDataSource(), clause.getCondition());
      if (!bytes.isPresent()) {
        // Encountered a data source which didn't support cache yet
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `processing/src/main/java/org/apache/druid/segment/join/JoinableFactory.java`
#### Snippet
```java
   * @param condition  the condition to join on
   */
  default Optional<byte[]> computeJoinCacheKey(DataSource dataSource, JoinConditionAnalysis condition)
  {
    return Optional.empty();
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `processing/src/main/java/org/apache/druid/segment/join/MapJoinableFactory.java`
#### Snippet
```java

  @Override
  public Optional<byte[]> computeJoinCacheKey(DataSource dataSource, JoinConditionAnalysis condition)
  {
    return getSingleResult(dataSource, factory -> factory.computeJoinCacheKey(dataSource, condition));
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/Joinable.java`
#### Snippet
```java
   * In case either the search or retrieval column names are not found, this will return absent.
   */
  Optional<Set<String>> getCorrelatedColumnValues(
      String searchColumnName,
      String searchColumnValue,
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinable.java`
#### Snippet
```java

  @Override
  public Optional<Set<String>> getCorrelatedColumnValues(
      String searchColumnName,
      String searchColumnValue,
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterColumnCorrelationAnalysis.java`
#### Snippet
```java
  }

  public Map<Pair<String, String>, Optional<Set<String>>> getCorrelatedValuesMap()
  {
    return correlatedValuesMap;
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterColumnCorrelationAnalysis.java`
#### Snippet
```java
  @Nonnull private final List<String> baseColumns;
  @Nonnull private final List<Expr> baseExpressions;
  private final Map<Pair<String, String>, Optional<Set<String>>> correlatedValuesMap;

  public JoinFilterColumnCorrelationAnalysis(
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinable.java`
#### Snippet
```java

  @Override
  public Optional<Set<String>> getCorrelatedColumnValues(
      String searchColumnName,
      String searchColumnValue,
```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java

    // Build a map of RHS table prefix -> JoinFilterColumnCorrelationAnalysis based on the RHS rewrite candidates
    Map<String, Optional<Map<String, JoinFilterColumnCorrelationAnalysis>>> correlationsByPrefix = new HashMap<>();
    Map<String, Optional<JoinFilterColumnCorrelationAnalysis>> directRewriteCorrelations = new HashMap<>();
    for (RhsRewriteCandidate rhsRewriteCandidate : rhsRewriteCandidates.getRhsRewriteCandidates()) {
```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
            rhsRewriteCandidate.getRhsColumn(),
            c -> {
              Optional<Map<String, JoinFilterColumnCorrelationAnalysis>> correlatedBaseTableColumns =
                  findCorrelatedBaseTableColumns(
                      joinableClauses,
```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
      }

      Optional<Map<String, JoinFilterColumnCorrelationAnalysis>> correlationsForPrefix = correlationsByPrefix.get(
          rhsRewriteCandidate.getJoinableClause().getPrefix()
      );
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
              Pair.of(rhsRewriteCandidate.getRhsColumn(), rhsRewriteCandidate.getValueForRewrite()),
              (rhsVal) -> {
                Optional<Set<String>> correlatedValues = getCorrelatedValuesForPushDown(
                    rhsRewriteCandidate.getRhsColumn(),
                    rhsRewriteCandidate.getValueForRewrite(),
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
   * Returns absent if we cannot determine the correlated values.
   */
  private static Optional<Set<String>> getCorrelatedValuesForPushDown(
      String filterColumn,
      String filterValue,
```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
   * the tablePrefix
   */
  private static Optional<Map<String, JoinFilterColumnCorrelationAnalysis>> findCorrelatedBaseTableColumns(
      JoinableClauses joinableClauses,
      String tablePrefix,
```

### OptionalContainsCollection
'Optional' contains collection `Set`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterAnalyzer.java`
#### Snippet
```java
    for (JoinFilterColumnCorrelationAnalysis correlationAnalysis : correlationAnalyses) {
      if (correlationAnalysis.supportsPushDown()) {
        Optional<Set<String>> correlatedValues = correlationAnalysis.getCorrelatedValuesMap().get(
            Pair.of(filteringColumn, filteringValue)
        );
```

### OptionalContainsCollection
'Optional' contains collection `List`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java
  }

  public Optional<List<Interval>> getIntervals()
  {
    Iterable<Interval> bucketIntervals = schema.getDataSchema().getGranularitySpec().sortedBucketIntervals();
```

### OptionalContainsCollection
'Optional' contains collection `List`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  }

  public Optional<List<ParseExceptionReport>> getSupervisorParseErrors(String id)
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
```

### OptionalContainsCollection
'Optional' contains collection `Map`>
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  }

  public Optional<Map<String, Map<String, Object>>> getSupervisorStats(String id)
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
```

### OptionalContainsCollection
'Optional' contains collection `List`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
    return asLeaderWithSupervisorManager(
        manager -> {
          Optional<List<ParseExceptionReport>> parseErrors = manager.getSupervisorParseErrors(id);
          if (!parseErrors.isPresent()) {
            return Response.status(Response.Status.NOT_FOUND)
```

### OptionalContainsCollection
'Optional' contains collection `Map`>
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
    return asLeaderWithSupervisorManager(
        manager -> {
          Optional<Map<String, Map<String, Object>>> stats = manager.getSupervisorStats(id);
          if (!stats.isPresent()) {
            return Response.status(Response.Status.NOT_FOUND)
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `integration-tests/src/main/java/org/apache/druid/server/coordination/ServerManagerForQueryErrorTest.java`
#### Snippet
```java
      Function<SegmentReference, SegmentReference> segmentMapFn,
      AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
  )
  {
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `integration-tests-ex/tools/src/main/java/org/apache/druid/testing/tools/ServerManagerForQueryErrorTest.java`
#### Snippet
```java
      Function<SegmentReference, SegmentReference> segmentMapFn,
      AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
  )
  {
```

## RuleId[ruleID=JavaReflectionMemberAccess]
### JavaReflectionMemberAccess
Cannot resolve method 'defineClass'
in `core/src/main/java/org/apache/druid/java/util/common/DefineClassUtils.java`
#### Snippet
```java

    // this is getting meta
    MethodHandle defineClass = lookup.unreflect(MethodHandles.Lookup.class.getMethod("defineClass", byte[].class));
    MethodHandle privateLookupIn = lookup.findStatic(
        MethodHandles.class,
```

### JavaReflectionMemberAccess
Cannot resolve method 'getPlatformClassLoader'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopTask.java`
#### Snippet
```java
      try {
        // See also https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-A868D0B9-026F-4D46-B979-901834343F9E
        parent = (ClassLoader) ClassLoader.class.getMethod("getPlatformClassLoader").invoke(null);
      }
      catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {
```

## RuleId[ruleID=FinallyBlockCannotCompleteNormally]
### FinallyBlockCannotCompleteNormally
`finally` block can not complete normally
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/ResponseCookieHandler.java`
#### Snippet
```java
      log.error(e, "Error while processing Cookies from header");
    }
    finally {
      return delegate.handleResponse(httpResponse, trafficCop);
    }
```

## RuleId[ruleID=ProtectedMemberInFinalClass]
### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `processing/src/main/java/org/apache/druid/segment/nested/LongFieldColumnWriter.java`
#### Snippet
```java
  private ColumnarLongsSerializer longsSerializer;

  protected LongFieldColumnWriter(
      String columnName,
      String fieldName,
```

### ProtectedMemberInFinalClass
Class member declared `protected` in 'final' class
in `processing/src/main/java/org/apache/druid/segment/nested/DoubleFieldColumnWriter.java`
#### Snippet
```java
  private ColumnarDoublesSerializer doublesSerializer;

  protected DoubleFieldColumnWriter(
      String columnName,
      String fieldName,
```

## RuleId[ruleID=SwitchStatementWithConfusingDeclaration]
### SwitchStatementWithConfusingDeclaration
Local variable `dimFilters` declared in one 'switch' branch and used in another
in `sql/src/main/java/org/apache/druid/sql/calcite/parser/DruidSqlParserUtils.java`
#### Snippet
```java
    switch (sqlBasicCall.getOperator().getKind()) {
      case AND:
        List<DimFilter> dimFilters = new ArrayList<>();
        for (SqlNode sqlNode : sqlBasicCall.getOperandList()) {
          dimFilters.add(convertQueryToDimFilter(sqlNode, dateTimeZone));
```

## RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcPreparedStatement.java`
#### Snippet
```java
    try {
      DirectStatement directStmt = sqlStatement.execute(parameters);
      resultSet = new DruidJdbcResultSet(this, directStmt, maxRowCount, fetcherFactory);
      resultSet.execute();
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcPreparedStatement.java`
#### Snippet
```java
      DirectStatement directStmt = sqlStatement.execute(parameters);
      resultSet = new DruidJdbcResultSet(this, directStmt, maxRowCount, fetcherFactory);
      resultSet.execute();
    }
    // Failure to execute does not close the prepared statement.
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcPreparedStatement.java`
#### Snippet
```java
    // Failure to execute does not close the prepared statement.
    catch (RuntimeException e) {
      resultSet = null;
      throw e;
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcPreparedStatement.java`
#### Snippet
```java
    }
    catch (Throwable t) {
      resultSet = null;
      throw new RuntimeException(t);
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcStatement.java`
#### Snippet
```java
    queryPlus = queryPlus.withContext(queryContext);
    DirectStatement stmt = lifecycleFactory.directStatement(queryPlus);
    resultSet = new DruidJdbcResultSet(this, stmt, Long.MAX_VALUE, fetcherFactory);
    try {
      resultSet.execute();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcStatement.java`
#### Snippet
```java
    resultSet = new DruidJdbcResultSet(this, stmt, Long.MAX_VALUE, fetcherFactory);
    try {
      resultSet.execute();
    }
    catch (Throwable t) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
  protected synchronized DruidJdbcResultSet requireResultSet()
  {
    if (resultSet == null) {
      throw new ISE("No result set open for statement [%d]", statementId);
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
      throw new ISE("No result set open for statement [%d]", statementId);
    }
    return resultSet;
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
  public synchronized boolean isDone()
  {
    return resultSet == null ? true : resultSet.isDone();
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
  public synchronized boolean isDone()
  {
    return resultSet == null ? true : resultSet.isDone();
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
    DruidJdbcResultSet currentResultSet;
    synchronized (this) {
      currentResultSet = resultSet;
      resultSet = null;
    }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `resultSet` accessed in synchronized context
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
    synchronized (this) {
      currentResultSet = resultSet;
      resultSet = null;
    }
    if (currentResultSet != null) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `superSorterProgressTracker` accessed in synchronized context
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
            synchronized (runWorkersLock) {
              if (outputPartitionsFuture.isDone()) { // Update the progress tracker
                superSorterProgressTracker.setTotalMergersForUltimateLevel(getOutputPartitions().size());
              }
              runWorkersIfPossible();
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `superSorterProgressTracker` accessed in synchronized context
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
          outputsReadyByLevel.computeIfAbsent(level, ignored2 -> new LongRBTreeSet())
                             .add(rank);
          superSorterProgressTracker.addMergedBatchesForLevel(level, 1);
        }
      });
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `superSorterProgressTracker` accessed in synchronized context
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
             .forEach(curLevel -> {
               synchronized (runWorkersLock) {
                 superSorterProgressTracker.setTotalMergersForLevel(curLevel, 1);
               }
             });
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `sketch` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchBuildAggregator.java`
#### Snippet
```java
  public synchronized Object get()
  {
    return sketch;
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `sketch` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchBuildAggregator.java`
#### Snippet
```java
  public synchronized void close()
  {
    sketch = null;
  }
}
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `sketch` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchBuildAggregator.java`
#### Snippet
```java
      return;
    }
    sketch.update(valueSelector.getFloat());
  }
}
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `union` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized void aggregate()
  {
    updateUnion(selector, union);
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `union` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized void aggregate()
  {
    updateUnion(selector, union);
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `union` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized void close()
  {
    union = null;
  }
}
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `union` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized Object get()
  {
    return union;
  }

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `sketch` accessed in synchronized context
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchBuildAggregator.java`
#### Snippet
```java
      return;
    }
    sketch.update(valueSelector.getDouble());
  }
}
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalCount` accessed in synchronized context
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQWarningReportLimiterPublisher.java`
#### Snippet
```java
    String errorCode = MSQErrorReport.getFaultFromException(e).getErrorCode();
    synchronized (lock) {
      totalCount = totalCount + 1;
      errorCodeToCurrentCount.compute(errorCode, (ignored, count) -> count == null ? 1L : count + 1);

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalCount` accessed in synchronized context
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQWarningReportLimiterPublisher.java`
#### Snippet
```java
    String errorCode = MSQErrorReport.getFaultFromException(e).getErrorCode();
    synchronized (lock) {
      totalCount = totalCount + 1;
      errorCodeToCurrentCount.compute(errorCode, (ignored, count) -> count == null ? 1L : count + 1);

```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalCount` accessed in synchronized context
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQWarningReportLimiterPublisher.java`
#### Snippet
```java
      }

      if (totalLimit != -1 && totalCount > totalLimit) {
        return;
      }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `recordSupplier` accessed in synchronized context
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

      try {
        recordSupplier = setupRecordSupplier();

        exec.submit(
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `recordSupplier` accessed in synchronized context
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      catch (Exception e) {
        stateManager.recordThrowableEvent(e);
        if (recordSupplier != null) {
          recordSupplier.close();
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `recordSupplier` accessed in synchronized context
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        stateManager.recordThrowableEvent(e);
        if (recordSupplier != null) {
          recordSupplier.close();
        }
        initRetryCounter++;
```

## RuleId[ruleID=RedundantSuppression]
### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/data/input/impl/FlatTextInputFormat.java`
#### Snippet
```java
    this.listDelimiter = listDelimiter;
    this.delimiter = Preconditions.checkNotNull(delimiter, "delimiter");
    //noinspection ConstantConditions
    if (columns == null || columns.isEmpty()) {
      this.findColumnsFromHeader = Checks.checkOneNotNullOrEmpty(
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/data/input/impl/LocalInputSource.java`
#### Snippet
```java
  )
  {
    //noinspection ConstantConditions
    return new InputEntityIteratingReader(
        inputRowSchema,
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/java/util/common/guava/Comparators.java`
#### Snippet
```java
    @SuppressWarnings("ComparatorMethodParameterNotUsed")
    @Override
    public int compare(@Nullable Object left, @Nullable Object right)
    {
      return 0;
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/java/util/common/guava/LimitedSequence.java`
#### Snippet
```java
  // it depends on the non-static inner class LimitedYieldingAccumulator.
  @SuppressWarnings("InnerClassMayBeStatic")
  private class LimitedYielder<OutType> implements Yielder<OutType>
  {
    private final Yielder<OutType> subYielder;
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      switch (outputType.getType()) {
        case DOUBLE:
          //noinspection OptionalGetWithoutIsPresent (empty list handled earlier)
          return ExprEval.of(evals.stream().mapToDouble(ExprEval::asDouble).reduce(doubleReducer).getAsDouble());
        case LONG:
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
          return ExprEval.of(evals.stream().mapToDouble(ExprEval::asDouble).reduce(doubleReducer).getAsDouble());
        case LONG:
          //noinspection OptionalGetWithoutIsPresent (empty list handled earlier)
          return ExprEval.of(evals.stream().mapToLong(ExprEval::asLong).reduce(longReducer).getAsLong());
        default:
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
          return ExprEval.of(evals.stream().mapToLong(ExprEval::asLong).reduce(longReducer).getAsLong());
        default:
          //noinspection OptionalGetWithoutIsPresent (empty list handled earlier)
          return ExprEval.of(evals.stream().map(ExprEval::asString).reduce(stringReducer).get());
      }
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategies.java`
#### Snippet
```java
      // Avoid comparisons for equal references
      // Assuming we mostly compare different strings, checking s.equals(s2) will only make the comparison slower.
      //noinspection StringEquality
      if (s == s2) {
        return 0;
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java
        } else if (versionCompare == 0) {
          // Intentionally use the Iterators API instead of the stream API for performance.
          //noinspection ConstantConditions
          final boolean nonOvershadowedObject = Iterators.all(
              timelineEntry.partitionHolder.iterator(), chunk -> !chunk.getObject().overshadows(object)
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
        // Let's check the overshadowed groups can cover the partition range of groupsOvershadowingAug
        // and are fully available.
        //noinspection ConstantConditions
        final List<AtomicUpdateGroup<T>> latestFullGroups = FluentIterable
            .from(groupsOvershadowingAug)
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
          SingleEntryShort2ObjectSortedMap<AtomicUpdateGroup<T>> singleMap =
              (SingleEntryShort2ObjectSortedMap<AtomicUpdateGroup<T>>) map;
          //noinspection ConstantConditions
          return singleMap.val.isFull();
        }
```

### RedundantSuppression
Redundant suppression
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
          SingleEntryShort2ObjectSortedMap<AtomicUpdateGroup<T>> singleMap =
              (SingleEntryShort2ObjectSortedMap<AtomicUpdateGroup<T>>) map;
          //noinspection ConstantConditions
          return singleMap.val.getChunks();
        }).iterator();
```

### RedundantSuppression
Redundant suppression
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalObjectStrategy.java`
#### Snippet
```java
  @SuppressWarnings({"rawtypes", "unchecked"})
  @Override
  public int compare(CompressedBigDecimal o1, CompressedBigDecimal o2)
  {
    return o1.compareTo(o2);
```

### RedundantSuppression
Redundant suppression
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java
  @SuppressWarnings("unchecked")
  @Override
  public Aggregator factorize(ColumnSelectorFactory metricFactory)
  {
    BaseObjectColumnValueSelector selector = metricFactory.makeColumnValueSelector(fieldName);
```

### RedundantSuppression
Redundant suppression
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java
  @SuppressWarnings("unchecked")
  @Override
  public BufferAggregator factorizeBuffered(ColumnSelectorFactory metricFactory)
  {
    BaseObjectColumnValueSelector selector = metricFactory.makeColumnValueSelector(fieldName);
```

### RedundantSuppression
Redundant suppression
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/BasicRoleBasedAuthorizer.java`
#### Snippet
```java
  @Override
  @SuppressWarnings("unchecked")
  public Access authorize(AuthenticationResult authenticationResult, Resource resource, Action action)
  {
    if (authenticationResult == null) {
```

### RedundantSuppression
Redundant suppression
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisor.java`
#### Snippet
```java
  @SuppressWarnings("SSBasedInspection")
  // Used while calculating cummulative lag for entire stream
  private Map<Integer, Long> getRecordLagPerPartitionInLatestSequences(Map<Integer, Long> currentOffsets)
  {
    if (latestSequenceFromStream == null) {
```

### RedundantSuppression
Redundant suppression
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisor.java`
#### Snippet
```java
  @SuppressWarnings("SSBasedInspection")
  // Used while generating Supervisor lag reports per task
  protected Map<Integer, Long> getRecordLagPerPartition(Map<Integer, Long> currentOffsets)
  {
    if (latestSequenceFromStream == null || currentOffsets == null) {
```

### RedundantSuppression
Redundant suppression
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java

      //noinspection unchecked
      @SuppressWarnings("unchecked")
      final Set<DataSegment> segments = (Set<DataSegment>) queryKernel.getResultObjectForStage(finalStageId);
      log.info("Query [%s] publishing %d segments.", queryDef.getQueryId(), segments.size());
      publishAllSegments(segments);
```

### RedundantSuppression
Redundant suppression
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessor.java`
#### Snippet
```java

          //noinspection rawtypes
          @SuppressWarnings("rawtypes")
          final List<BaseObjectColumnValueSelector> selectors =
              frameReader.signature()
                         .getColumnNames()
                         .stream()
                         .map(columnSelectorFactory::makeColumnValueSelector)
                         .collect(Collectors.toList());

          while (!cursor.isDone()) {
```

### RedundantSuppression
Redundant suppression
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
    final String endpointUrl = endpointConfig.getUrl();
    if (org.apache.commons.lang.StringUtils.isNotEmpty(endpointUrl)) {
      //noinspection ConstantConditions
      final URI uri = URIs.parse(endpointUrl, protocolFromClientConfig.toString());
      final Protocol protocol = parseProtocol(uri.getScheme());
```

### RedundantSuppression
Redundant suppression
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public static HadoopDruidIndexerConfig fromFile(File file)
  {
    try {
```

### RedundantSuppression
Redundant suppression
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public static HadoopDruidIndexerConfig fromString(String str)
  {
    // This is a map to try and prevent dependency screwbally-ness
```

### RedundantSuppression
Redundant suppression
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public static HadoopDruidIndexerConfig fromDistributedFileSystem(String path)
  {
    try {
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
    } else {
      // We already checked segments is not null or empty above.
      //noinspection ConstantConditions
      this.ioConfig = new CompactionIOConfig(SpecificSegmentsSpec.fromSegments(segments), null);
    }
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  private TaskStatus runInternal(TaskToolbox toolbox) throws Exception
  {
    boolean indexGeneratorJobAttempted = false;
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    TaskStatus taskStatus;
    if (state.isSuccess()) {
      //noinspection ConstantConditions
      publishSegments(toolbox, parallelSinglePhaseRunner.getReports());
      if (awaitSegmentAvailabilityTimeoutMillis > 0) {
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    TaskStatus taskStatus;
    if (state.isSuccess()) {
      //noinspection ConstantConditions
      publishSegments(toolbox, mergeRunner.getReports());
      if (awaitSegmentAvailabilityTimeoutMillis > 0) {
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java
        .from(timeline)
        .transformAndConcat(holder -> {
          //noinspection ConstantConditions
          final PartitionHolder<DataSegment> partitionHolder = holder.getObject();
          //noinspection ConstantConditions
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java
          //noinspection ConstantConditions
          final PartitionHolder<DataSegment> partitionHolder = holder.getObject();
          //noinspection ConstantConditions
          return FluentIterable
              .from(partitionHolder)
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java
    );
    final Map<WindowedSegmentId, Long> segmentIdToSize = createWindowedSegmentIdFromTimeline(timelineSegments);
    //noinspection ConstantConditions
    return Iterators.transform(
        convertedSplitHintSpec.split(
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
              throw new ISE("Unknown request type[%s]", request);
            }
            //noinspection SuspiciousIndentAfterControlStatement
          default:
            throw new ISE("Unknown lock type[%s]", taskLock.getType());
```

### RedundantSuppression
Redundant suppression
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
  private final ReentrantLock giant = new ReentrantLock(true);
  @SuppressWarnings("MismatchedQueryAndUpdateOfCollection")
  private final BlockingQueue<Object> managementMayBeNecessary = new ArrayBlockingQueue<>(8);
  private final ExecutorService managerExec = Executors.newSingleThreadExecutor(
      new ThreadFactoryBuilder()
```

### RedundantSuppression
Redundant suppression
in `integration-tests/src/main/java/org/apache/druid/testing/utils/CsvEventSerializer.java`
#### Snippet
```java
  public byte[] serialize(List<Pair<String, Object>> event) throws IOException
  {
    //noinspection ConstantConditions
    writer.writeNext(event.stream().map(pair -> pair.rhs.toString()).toArray(String[]::new));
    writer.flush();
```

### RedundantSuppression
Redundant suppression
in `integration-tests/src/main/java/org/apache/druid/testing/utils/DelimitedEventSerializer.java`
#### Snippet
```java
  public byte[] serialize(List<Pair<String, Object>> event)
  {
    //noinspection ConstantConditions
    return StringUtils.toUtf8(event.stream().map(pair -> pair.rhs.toString()).collect(Collectors.joining("\t")));
  }
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/aggregation/SerializablePairLongStringComplexColumn.java`
#### Snippet
```java
  @SuppressWarnings("ConstantConditions")
  @Override
  public Object getRowValue(int rowNum)
  {
    // This can return nulls, meaning that it is expected that anything reading from this does
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/filter/vector/VectorMatch.java`
#### Snippet
```java
  public VectorMatch removeAll(final ReadableVectorMatch other)
  {
    //noinspection ObjectEquality
    Preconditions.checkState(this != other, "'other' must be a different instance from 'this'");

```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/filter/vector/VectorMatch.java`
#### Snippet
```java
  public VectorMatch addAll(final ReadableVectorMatch other, final VectorMatch scratch)
  {
    //noinspection ObjectEquality
    Preconditions.checkState(this != scratch, "'scratch' must be a different instance from 'this'");
    //noinspection ObjectEquality
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/filter/vector/VectorMatch.java`
#### Snippet
```java
    //noinspection ObjectEquality
    Preconditions.checkState(this != scratch, "'scratch' must be a different instance from 'this'");
    //noinspection ObjectEquality
    Preconditions.checkState(other != scratch, "'scratch' must be a different instance from 'other'");
    //noinspection ObjectEquality
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/filter/vector/VectorMatch.java`
#### Snippet
```java
    //noinspection ObjectEquality
    Preconditions.checkState(other != scratch, "'scratch' must be a different instance from 'other'");
    //noinspection ObjectEquality
    Preconditions.checkState(this != other, "'other' must be a different instance from 'this'");

```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/filter/vector/VectorMatch.java`
#### Snippet
```java
  public void copyFrom(final ReadableVectorMatch other)
  {
    //noinspection ObjectEquality
    Preconditions.checkState(this != other, "'other' must be a different instance from 'this'");

```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java

    if (sorted) {
      @SuppressWarnings("MismatchedQueryAndUpdateOfCollection")
      final List<Integer> wrappedOffsets = new AbstractList<Integer>()
      {
        @Override
        public Integer get(int index)
        {
          return offsetList.get(index);
        }

        @Override
        public Integer set(int index, Integer element)
        {
          final Integer oldValue = get(index);
          offsetList.set(index, element);
          return oldValue;
        }

        @Override
        public int size()
        {
          return hashTable.getSize();
        }
      };

      final BufferComparator comparator;
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
    final int size = offsetHeap.getHeapSize();

    @SuppressWarnings("MismatchedQueryAndUpdateOfCollection")
    final List<Integer> wrappedOffsets = new AbstractList<Integer>()
    {
      @Override
      public Integer get(int index)
      {
        return offsetHeap.getAt(index);
      }

      @Override
      public Integer set(int index, Integer element)
      {
        final Integer oldValue = get(index);
        offsetHeap.setAt(index, element);
        return oldValue;
      }

      @Override
      public int size()
      {
        return size;
      }
    };

    final BufferComparator comparator = keySerde.bufferComparator();
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryBuilder.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public TopNQueryBuilder aggregators(List<? extends AggregatorFactory> a)
  {
    aggregatorSpecs = new ArrayList<>(a); // defensive copy
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java
  )
  {
    @SuppressWarnings("unchecked")
    CompressedNestedDataComplexColumn<?> column = (CompressedNestedDataComplexColumn) col;
    closer.register(column);
    for (int i = 0; i < column.getFields().size(); i++) {
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
    @SuppressWarnings("MethodDoesntCallSuperMethod")
    @Override
    public Offset clone()
    {
      throw new IllegalStateException("clone");
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
    @SuppressWarnings("MethodDoesntCallSuperMethod")
    @Override
    public Offset clone()
    {
      return new AscendingTimestampCheckingOffset(baseOffset.clone(), timestamps, timeLimit, allWithinThreshold);
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
    @SuppressWarnings("MethodDoesntCallSuperMethod")
    @Override
    public Offset clone()
    {
      return new DescendingTimestampCheckingOffset(baseOffset.clone(), timestamps, timeLimit, allWithinThreshold);
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
      @Nullable
      @Override
      public Object getObject()
      {
        IncrementalIndexRow key = currEntry.get();
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
      @SuppressWarnings("deprecation")
      @Override
      public Class classOfObject()
      {
        return Object.class;
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/TimeAndDimsPointer.java`
#### Snippet
```java
  @SuppressWarnings("Contract")
  @Override
  public boolean equals(Object obj)
  {
    throw new UnsupportedOperationException("Should not compare TimeAndDimsPointers using equals(), only compareTo()");
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        } else {
          List<String> row = new ArrayList<>(ithRow.size());
          // noinspection SSBasedInspection
          for (int j = 0; j < ithRow.size(); j++) {
            row.add(lookupName(ithRow.get(j)));
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
    int minLength = Math.min(lhs.size(), rhs.size());

    //noinspection ArrayEquality
    if (lhs == rhs) {
      return 0;
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/data/CompressionStrategy.java`
#### Snippet
```java
    LZ4Factory fastestInstance = LZ4Factory.fastestInstance();
    try {
      //noinspection ObjectEquality
      if (fastestInstance == LZ4Factory.nativeInstance()) {
        LOG.debug("LZ4 compression is using native instance.");
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/data/CompressionStrategy.java`
#### Snippet
```java
    }
    try {
      //noinspection ObjectEquality
      if (fastestInstance == LZ4Factory.unsafeInstance()) {
        LOG.debug("LZ4 compression is using unsafe instance.");
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/data/CompressionStrategy.java`
#### Snippet
```java
    }

    //noinspection ObjectEquality
    if (fastestInstance == LZ4Factory.safeInstance()) {
      LOG.debug("LZ4 compression is using safe instance.");
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
      currentIterator = Collections.emptyIterator();
    } else {
      //noinspection ConstantConditions - entry can not be null because extractor.iterable() prevents this
      currentIterator = Iterators.filter(
          extractor.iterable().iterator(),
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableColumnValueSelector.java`
#### Snippet
```java
    // Otherwise this shouldn't have been called (due to isNull returning true).
    assert NullHandling.replaceWithDefault();
    //noinspection ConstantConditions assert statement above guarantees this is non null.
    return NullHandling.defaultDoubleValue();
  }
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableColumnValueSelector.java`
#### Snippet
```java
    // Otherwise this shouldn't have been called (due to isNull returning true).
    assert NullHandling.replaceWithDefault();
    //noinspection ConstantConditions assert statement above guarantees this is non null.
    return NullHandling.defaultFloatValue();
  }
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableColumnValueSelector.java`
#### Snippet
```java
    // Otherwise this shouldn't have been called (due to isNull returning true).
    assert NullHandling.replaceWithDefault();
    //noinspection ConstantConditions assert statement above guarantees this is non null.
    return NullHandling.defaultLongValue();
  }
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/transform/Transformer.java`
#### Snippet
```java
      final long ts;
      if (transform != null) {
        //noinspection ConstantConditions time column is never null
        final Number transformedVal = Rows.objectToNumber(ColumnHolder.TIME_COLUMN_NAME, transform.eval(row), true);
        if (transformedVal == null) {
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionMultiValueDimensionSelector.java`
#### Snippet
```java
  {
    assert evaluated.isArray();
    //noinspection ConstantConditions
    return Arrays.stream(evaluated.asArray())
                 .map(Evals::asString)
```

### RedundantSuppression
Redundant suppression
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
        }
        final Object[] strings = new Object[row.size()];
        // noinspection SSBasedInspection
        for (int i = 0; i < row.size(); i++) {
          strings[i] = selector.lookupName(row.get(i));
```

### RedundantSuppression
Redundant suppression
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    )
    {
      @SuppressWarnings("unchecked")
      final Query<T> downstreamQuery = query.withOverriddenContext(makeDownstreamQueryContext());
      final Sequence<Result<BySegmentResultValueClass<T>>> resultsBySegments = serverRunner.run(
          queryPlus
```

### RedundantSuppression
Redundant suppression
in `server/src/main/java/org/apache/druid/segment/InlineSegmentWrangler.java`
#### Snippet
```java
  @Override
  @SuppressWarnings("unchecked")
  public Iterable<Segment> getSegmentsForIntervals(final DataSource dataSource, final Iterable<Interval> intervals)
  {
    final InlineDataSource inlineDataSource = (InlineDataSource) dataSource;
```

### RedundantSuppression
Redundant suppression
in `server/src/main/java/org/apache/druid/server/QueryLifecycle.java`
#### Snippet
```java
    }

    //noinspection unchecked
    return toolChest;
  }
```

### RedundantSuppression
Redundant suppression
in `server/src/main/java/org/apache/druid/server/security/NoopEscalator.java`
#### Snippet
```java
  public boolean equals(final Object obj)
  {
    //noinspection ObjectEquality
    return obj.getClass() == getClass();
  }
```

### RedundantSuppression
Redundant suppression
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
          .from(() -> druidServers)
          .transform((DiscoveryDruidNode discoveryDruidNode) -> {
            //noinspection ConstantConditions
            final boolean isDiscoverableDataServer = isDiscoverableDataServer(discoveryDruidNode);
            final NodeRole serverRole = discoveryDruidNode.getNodeRole();
```

## RuleId[ruleID=UnnecessaryInitCause]
### UnnecessaryInitCause
Unnecessary `Throwable.initCause()` call
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilter.java`
#### Snippet
```java
    catch (RuntimeException e) {
      IOException io = new IOException("Unable to deserialize BloomKFilter");
      io.initCause(e);
      throw io;
    }
```

## RuleId[ruleID=NonStrictComparisonCanBeEquality]
### NonStrictComparisonCanBeEquality
Can be replaced with equality
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftDeserialization.java`
#### Snippet
```java
  {
    Preconditions.checkNotNull(src, "src bytes cannot be null");
    if (src.length <= 0) {
      return EMPTY_BYTES;
    }
```

## RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'listDelimiter'
in `core/src/main/java/org/apache/druid/java/util/common/parsers/RegexParser.java`
#### Snippet
```java
  public RegexParser(
      final String pattern,
      final Optional<String> listDelimiter,
      final Iterable<String> fieldNames
  )
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'listDelimiter'
in `core/src/main/java/org/apache/druid/java/util/common/parsers/RegexParser.java`
#### Snippet
```java
  public RegexParser(
      final String pattern,
      final Optional<String> listDelimiter
  )
  {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'cacheKeyPrefix'
in `server/src/main/java/org/apache/druid/client/CachingQueryRunner.java`
#### Snippet
```java
  private final SegmentDescriptor segmentDescriptor;
  private final Interval actualDataInterval;
  private final Optional<byte[]> cacheKeyPrefix;
  private final QueryRunner<T> base;
  private final QueryToolChest toolChest;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheKeyPrefix'
in `server/src/main/java/org/apache/druid/client/CachingQueryRunner.java`
#### Snippet
```java
  public CachingQueryRunner(
      String cacheId,
      Optional<byte[]> cacheKeyPrefix,
      SegmentDescriptor segmentDescriptor,
      Interval actualDataInterval,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'durationThreshold'
in `server/src/main/java/org/apache/druid/server/scheduling/ThresholdBasedQueryPrioritizationStrategy.java`
#### Snippet
```java

  private final Optional<Duration> periodThreshold;
  private final Optional<Duration> durationThreshold;

  @JsonCreator
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'periodThreshold'
in `server/src/main/java/org/apache/druid/server/scheduling/ThresholdBasedQueryPrioritizationStrategy.java`
#### Snippet
```java
  private final int adjustment;

  private final Optional<Duration> periodThreshold;
  private final Optional<Duration> durationThreshold;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheKeyPrefix'
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
  )
  {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheKeyPrefix'
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryToolChest<T, Query<T>> toolChest,
      final SegmentReference segment,
      final Optional<byte[]> cacheKeyPrefix,
      final SegmentDescriptor segmentDescriptor,
      final AtomicLong cpuTimeAccumulator
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'pushDownFilter'
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterAnalysis.java`
#### Snippet
```java
  private final boolean retainAfterJoin;
  private final Filter originalFilter;
  private final Optional<Filter> pushDownFilter;

  public JoinFilterAnalysis(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'joinTableFilter'
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterSplit.java`
#### Snippet
```java
{
  final Optional<Filter> baseTableFilter;
  final Optional<Filter> joinTableFilter;
  final Set<VirtualColumn> pushDownVirtualColumns;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'baseTableFilter'
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterSplit.java`
#### Snippet
```java
public class JoinFilterSplit
{
  final Optional<Filter> baseTableFilter;
  final Optional<Filter> joinTableFilter;
  final Set<VirtualColumn> pushDownVirtualColumns;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'chatHandlerProvider'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private final Optional<ChatHandlerProvider> chatHandlerProvider;

  @JsonIgnore
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'factory'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/TaskActionToolbox.java`
#### Snippet
```java
  private final SupervisorManager supervisorManager;
  private final ObjectMapper jsonMapper;
  private Optional<TaskRunnerFactory> factory = Optional.absent();

  @Inject
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'shuffleMetrics'
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/ShuffleResource.java`
#### Snippet
```java

  @Inject
  public ShuffleResource(IntermediaryDataManager intermediaryDataManager, Optional<ShuffleMetrics> shuffleMetrics)
  {
    this.intermediaryDataManager = intermediaryDataManager;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'shuffleMetrics'
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/ShuffleResource.java`
#### Snippet
```java

  private final IntermediaryDataManager intermediaryDataManager;
  private final Optional<ShuffleMetrics> shuffleMetrics;

  @Inject
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'x'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
  }

  private <T> Response asLeaderWith(Optional<T> x, Function<T, Response> f)
  {
    if (x.isPresent()) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'minimumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskIOConfig.java`
#### Snippet
```java
  private final SeekableStreamEndSequenceNumbers<PartitionIdType, SequenceOffsetType> endSequenceNumbers;
  private final boolean useTransaction;
  private final Optional<DateTime> minimumMessageTime;
  private final Optional<DateTime> maximumMessageTime;
  private final InputFormat inputFormat;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maximumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskIOConfig.java`
#### Snippet
```java
  private final boolean useTransaction;
  private final Optional<DateTime> minimumMessageTime;
  private final Optional<DateTime> maximumMessageTime;
  private final InputFormat inputFormat;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lateMessageRejectionStartDateTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorIOConfig.java`
#### Snippet
```java
  private final Optional<Duration> lateMessageRejectionPeriod;
  private final Optional<Duration> earlyMessageRejectionPeriod;
  private final Optional<DateTime> lateMessageRejectionStartDateTime;
  @Nullable private final AutoScalerConfig autoScalerConfig;
  @Nullable private final IdleConfig idleConfig;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lateMessageRejectionPeriod'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorIOConfig.java`
#### Snippet
```java
  private final boolean useEarliestSequenceNumber;
  private final Duration completionTimeout;
  private final Optional<Duration> lateMessageRejectionPeriod;
  private final Optional<Duration> earlyMessageRejectionPeriod;
  private final Optional<DateTime> lateMessageRejectionStartDateTime;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'earlyMessageRejectionPeriod'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorIOConfig.java`
#### Snippet
```java
  private final Duration completionTimeout;
  private final Optional<Duration> lateMessageRejectionPeriod;
  private final Optional<Duration> earlyMessageRejectionPeriod;
  private final Optional<DateTime> lateMessageRejectionStartDateTime;
  @Nullable private final AutoScalerConfig autoScalerConfig;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'minimumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        ImmutableMap<PartitionIdType, SequenceOffsetType> startingSequences,
        @Nullable ImmutableMap<PartitionIdType, SequenceOffsetType> unfilteredStartingSequencesForSequenceName,
        Optional<DateTime> minimumMessageTime,
        Optional<DateTime> maximumMessageTime,
        Set<PartitionIdType> exclusiveStartSequenceNumberPartitions,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maximumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        @Nullable ImmutableMap<PartitionIdType, SequenceOffsetType> unfilteredStartingSequencesForSequenceName,
        Optional<DateTime> minimumMessageTime,
        Optional<DateTime> maximumMessageTime,
        Set<PartitionIdType> exclusiveStartSequenceNumberPartitions,
        String baseSequenceName
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'minimumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        ImmutableMap<PartitionIdType, SequenceOffsetType> startingSequences,
        @Nullable ImmutableMap<PartitionIdType, SequenceOffsetType> unfilteredStartingSequencesForSequenceName,
        Optional<DateTime> minimumMessageTime,
        Optional<DateTime> maximumMessageTime,
        @Nullable Set<PartitionIdType> exclusiveStartSequenceNumberPartitions
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maximumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        @Nullable ImmutableMap<PartitionIdType, SequenceOffsetType> unfilteredStartingSequencesForSequenceName,
        Optional<DateTime> minimumMessageTime,
        Optional<DateTime> maximumMessageTime,
        @Nullable Set<PartitionIdType> exclusiveStartSequenceNumberPartitions
    )
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maximumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    final ConcurrentHashMap<String, TaskData> tasks = new ConcurrentHashMap<>();
    final Optional<DateTime> minimumMessageTime;
    final Optional<DateTime> maximumMessageTime;
    final Set<PartitionIdType> exclusiveStartSequenceNumberPartitions;
    final TreeMap<Integer, Map<PartitionIdType, SequenceOffsetType>> checkpointSequences = new TreeMap<>();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'minimumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

    final ConcurrentHashMap<String, TaskData> tasks = new ConcurrentHashMap<>();
    final Optional<DateTime> minimumMessageTime;
    final Optional<DateTime> maximumMessageTime;
    final Set<PartitionIdType> exclusiveStartSequenceNumberPartitions;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'minimumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  protected String generateSequenceName(
      Map<PartitionIdType, SequenceOffsetType> startPartitions,
      Optional<DateTime> minimumMessageTime,
      Optional<DateTime> maximumMessageTime,
      DataSchema dataSchema,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maximumMessageTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      Map<PartitionIdType, SequenceOffsetType> startPartitions,
      Optional<DateTime> minimumMessageTime,
      Optional<DateTime> maximumMessageTime,
      DataSchema dataSchema,
      SeekableStreamIndexTaskTuningConfig tuningConfig
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'minMsgTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      int taskGroupId,
      ImmutableMap<PartitionIdType, SequenceOffsetType> partitionOffsets,
      Optional<DateTime> minMsgTime,
      Optional<DateTime> maxMsgTime,
      Set<String> tasks,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maxMsgTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      ImmutableMap<PartitionIdType, SequenceOffsetType> partitionOffsets,
      Optional<DateTime> minMsgTime,
      Optional<DateTime> maxMsgTime,
      Set<String> tasks,
      Set<PartitionIdType> exclusiveStartingSequencePartitions
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'minMsgTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      int taskGroupId,
      ImmutableMap<PartitionIdType, SequenceOffsetType> partitionOffsets,
      Optional<DateTime> minMsgTime,
      Optional<DateTime> maxMsgTime,
      Set<String> tasks,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maxMsgTime'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      ImmutableMap<PartitionIdType, SequenceOffsetType> partitionOffsets,
      Optional<DateTime> minMsgTime,
      Optional<DateTime> maxMsgTime,
      Set<String> tasks,
      Set<PartitionIdType> exclusiveStartingSequencePartitions
```

## RuleId[ruleID=SystemOutErr]
### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/CliPeon.java`
#### Snippet
```java
        }
        catch (IllegalStateException e) {
          System.err.println("Cannot remove shutdown hook, already shutting down!");
        }
      }
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/CliPeon.java`
#### Snippet
```java
      }
      catch (Throwable t) {
        System.err.println("Error!");
        System.err.println(Throwables.getStackTraceAsString(t));
        System.exit(1);
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/CliPeon.java`
#### Snippet
```java
      catch (Throwable t) {
        System.err.println("Error!");
        System.err.println(Throwables.getStackTraceAsString(t));
        System.exit(1);
      }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/CliPeon.java`
#### Snippet
```java
        System.exit(1);
      }
      System.out.println("Finished peon task");
    }
    catch (Exception e) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/Main.java`
#### Snippet
```java
    }
    catch (ParseException e) {
      System.out.println("ERROR!!!!");
      System.out.println(e.getMessage());
      System.out.println("===");
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/Main.java`
#### Snippet
```java
    catch (ParseException e) {
      System.out.println("ERROR!!!!");
      System.out.println(e.getMessage());
      System.out.println("===");
      cli.parse(new String[]{"help"}).run();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/Main.java`
#### Snippet
```java
      System.out.println("ERROR!!!!");
      System.out.println(e.getMessage());
      System.out.println("===");
      cli.parse(new String[]{"help"}).run();
      System.exit(1);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/Version.java`
#### Snippet
```java
    // process to load modules and they are thus not already loaded.
    // Explicitly load them here.
    System.out.println(new StatusResource.Status(extnLoader.getModules()));
  }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
    }

    PrintStream oldOut = System.out;
    try {
      System.setOut(
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
  {
    if (outputFileName == null) {
      return f.apply(System.out);
    } else {
      try (final OutputStream out = new FileOutputStream(outputFileName)) {
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
{
  private static final Logger LOG = new Logger(DruidJsonValidator.class);
  private Writer logWriter = new PrintWriter(new OutputStreamWriter(System.out, StandardCharsets.UTF_8));

  @Option(name = "-f", title = "file", description = "file to validate")
```

## RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `core/src/main/java/org/apache/druid/java/util/common/URIs.java`
#### Snippet
```java
    Preconditions.checkNotNull(strUri, "strUri");
    Preconditions.checkNotNull(defaultScheme, "defaultScheme");
    final String[] tokens = strUri.split("://");
    if (tokens.length == 1) {
      return URI.create(StringUtils.format("%s://%s", defaultScheme, strUri));
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
      return null;
    }
    return Arrays.asList(value.split(",\\s*"));
  }

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
        throw new IAE(StringUtils.format("Argument [%s] is not a VARCHAR", value));
      }
      String[] values = ((String) value).split(",\\s*");
      return Arrays.asList(values);
    }
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/MSQTaskQueryMaker.java`
#### Snippet
```java
                        return Intervals.ONLY_ETERNITY;
                      } else {
                        final String[] parts = ((String) s).split("\\s*,\\s*");
                        final List<Interval> intervals = new ArrayList<>();

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/PeonCommandContext.java`
#### Snippet
```java
    List<String> result = new ArrayList<>();
    for (String javaOpt : javaOpts) {
      String[] value = javaOpt.split("\\s+");
      result.addAll(Arrays.asList(value));
    }
```

## RuleId[ruleID=ComparatorMethodParameterNotUsed]
### ComparatorMethodParameterNotUsed
Comparator never returns positive value
in `core/src/main/java/org/apache/druid/timeline/partition/SingleElementPartitionChunk.java`
#### Snippet
```java
   */
  @Override
  public int compareTo(PartitionChunk<T> chunk)
  {
    return chunk instanceof SingleElementPartitionChunk ? 0 : -1;
```

## RuleId[ruleID=NonProtectedConstructorInAbstractClass]
### NonProtectedConstructorInAbstractClass
Constructor `AbstractStatement()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/AbstractStatement.java`
#### Snippet
```java
  protected PlannerHook hook;

  public AbstractStatement(
      final SqlToolbox sqlToolbox,
      final SqlQueryPlus queryPlus,
```

### NonProtectedConstructorInAbstractClass
Constructor `HyperLogLogCollector()` of an abstract class should not be declared 'public'
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogCollector.java`
#### Snippet
```java
  private Double estimatedCardinality;

  public HyperLogLogCollector(ByteBuffer byteBuffer)
  {
    storageBuffer = byteBuffer;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractDruidJdbcStatement()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/avatica/AbstractDruidJdbcStatement.java`
#### Snippet
```java
  protected DruidJdbcResultSet resultSet;

  public AbstractDruidJdbcStatement(
      final String connectionId,
      final int statementId,
```

### NonProtectedConstructorInAbstractClass
Constructor `DruidTable()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/table/DruidTable.java`
#### Snippet
```java
  private final RowSignature rowSignature;

  public DruidTable(
      final RowSignature rowSignature
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `DruidSqlIngest()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/parser/DruidSqlIngest.java`
#### Snippet
```java
  protected final SqlNodeList clusteredBy;

  public DruidSqlIngest(SqlParserPos pos,
      SqlNodeList keywords,
      SqlNode targetTable,
```

### NonProtectedConstructorInAbstractClass
Constructor `DruidOuterQueryRule()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
    };

    public DruidOuterQueryRule(final RelOptRuleOperand op, final String description)
    {
      super(op, StringUtils.format("%s(%s)", DruidOuterQueryRel.class.getSimpleName(), description));
```

### NonProtectedConstructorInAbstractClass
Constructor `QueryHandler()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/QueryHandler.java`
#### Snippet
```java
  protected RexBuilder rexBuilder;

  public QueryHandler(SqlStatementHandler.HandlerContext handlerContext, SqlNode sqlNode, SqlExplain explain)
  {
    super(handlerContext);
```

### NonProtectedConstructorInAbstractClass
Constructor `UserDefinedTableMacroFunction()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/external/UserDefinedTableMacroFunction.java`
#### Snippet
```java
  protected final ExtendedTableMacro macro;

  public UserDefinedTableMacroFunction(
      SqlIdentifier opName,
      SqlReturnTypeInference returnTypeInference,
```

### NonProtectedConstructorInAbstractClass
Constructor `CatalogExternalTableOperatorConversion()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/external/CatalogExternalTableOperatorConversion.java`
#### Snippet
```java
  private final SqlUserDefinedTableMacro operator;

  public CatalogExternalTableOperatorConversion(
      final String name,
      final TableDefnRegistry registry,
```

### NonProtectedConstructorInAbstractClass
Constructor `TimeArithmeticOperatorConversion()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/TimeArithmeticOperatorConversion.java`
#### Snippet
```java
  private final int direction;

  public TimeArithmeticOperatorConversion(final SqlOperator operator, final int direction)
  {
    this.operator = operator;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseExpressionDimFilterOperatorConversion()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/BaseExpressionDimFilterOperatorConversion.java`
#### Snippet
```java
public abstract class BaseExpressionDimFilterOperatorConversion extends DirectOperatorConversion
{
  public BaseExpressionDimFilterOperatorConversion(
      SqlOperator operator,
      String druidFunctionName
```

### NonProtectedConstructorInAbstractClass
Constructor `JsonValueReturningTypeOperatorConversion()` of an abstract class should not be declared 'public'
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/NestedDataOperatorConversions.java`
#### Snippet
```java
    private final ColumnType druidType;

    public JsonValueReturningTypeOperatorConversion(SqlFunction function, ColumnType druidType)
    {
      this.druidType = druidType;
```

### NonProtectedConstructorInAbstractClass
Constructor `TextReader()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/data/input/TextReader.java`
#### Snippet
```java
  private final InputEntity source;

  public TextReader(InputRowSchema inputRowSchema, InputEntity source)
  {
    this.inputRowSchema = inputRowSchema;
```

### NonProtectedConstructorInAbstractClass
Constructor `PrefetchableTextFilesFirehoseFactory()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/PrefetchableTextFilesFirehoseFactory.java`
#### Snippet
```java
  private List<T> objects;

  public PrefetchableTextFilesFirehoseFactory(
      @Nullable Long maxCacheCapacityBytes,
      @Nullable Long maxFetchCapacityBytes,
```

### NonProtectedConstructorInAbstractClass
Constructor `Fetcher()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/Fetcher.java`
#### Snippet
```java
  private int numRemainingObjects;

  public Fetcher(
      CacheManager<T> cacheManager,
      List<T> objects,
```

### NonProtectedConstructorInAbstractClass
Constructor `CloudObjectInputSource()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/data/input/impl/CloudObjectInputSource.java`
#### Snippet
```java
  }

  public CloudObjectInputSource(
      String scheme,
      @Nullable List<URI> uris,
```

### NonProtectedConstructorInAbstractClass
Constructor `CloudObjectInputSource()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/data/input/impl/CloudObjectInputSource.java`
#### Snippet
```java
  private final String objectGlob;

  public CloudObjectInputSource(
      String scheme,
      @Nullable List<URI> uris,
```

### NonProtectedConstructorInAbstractClass
Constructor `FullResponseHolder()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/java/util/http/client/response/FullResponseHolder.java`
#### Snippet
```java
  private final HttpResponse response;

  public FullResponseHolder(HttpResponse response)
  {
    this.response = response;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractFlatTextFormatParser()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/java/util/common/parsers/AbstractFlatTextFormatParser.java`
#### Snippet
```java
  private boolean supportSkipHeaderRows;

  public AbstractFlatTextFormatParser(
      @Nullable final String listDelimiter,
      final boolean hasHeaderRow,
```

### NonProtectedConstructorInAbstractClass
Constructor `CompoundMonitor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/java/util/metrics/CompoundMonitor.java`
#### Snippet
```java
  private final List<Monitor> monitors;
  
  public CompoundMonitor(List<Monitor> monitors)
  {
    this.monitors = monitors;
```

### NonProtectedConstructorInAbstractClass
Constructor `CompoundMonitor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/java/util/metrics/CompoundMonitor.java`
#### Snippet
```java
  }

  public CompoundMonitor(Monitor... monitors)
  {
    this(Arrays.asList(monitors));
```

### NonProtectedConstructorInAbstractClass
Constructor `FeedDefiningMonitor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/java/util/metrics/FeedDefiningMonitor.java`
#### Snippet
```java
  protected final String feed;

  public FeedDefiningMonitor(String feed)
  {
    Preconditions.checkNotNull(feed);
```

### NonProtectedConstructorInAbstractClass
Constructor `IdentifierVectorProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/IdentifierExpr.java`
#### Snippet
```java
  private final ExpressionType outputType;

  public IdentifierVectorProcessor(ExpressionType outputType)
  {
    this.outputType = outputType;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseScalarUnivariateMacroFunctionExpr()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/ExprMacroTable.java`
#### Snippet
```java
    private final Supplier<BindingAnalysis> analyzeInputsSupplier;

    public BaseScalarUnivariateMacroFunctionExpr(String name, Expr arg)
    {
      this.name = name;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseScalarMacroFunctionExpr()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/ExprMacroTable.java`
#### Snippet
```java
    private final Supplier<BindingAnalysis> analyzeInputsSupplier;

    public BaseScalarMacroFunctionExpr(String name, final List<Expr> args)
    {
      this.name = name;
```

### NonProtectedConstructorInAbstractClass
Constructor `UnivariateLongFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/UnivariateLongFunctionVectorValueProcessor.java`
#### Snippet
```java
  final long[] outValues;

  public UnivariateLongFunctionVectorValueProcessor(
      ExprVectorProcessor<TInput> processor,
      int maxVectorSize
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutDoubleLongInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutDoubleLongInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateLongFunctionVectorValueProcessor<double[], long[]>
{
  public LongOutDoubleLongInFunctionVectorValueProcessor(
      ExprVectorProcessor<double[]> left,
      ExprVectorProcessor<long[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutLongDoubleInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutLongDoubleInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateLongFunctionVectorValueProcessor<long[], double[]>
{
  public LongOutLongDoubleInFunctionVectorValueProcessor(
      ExprVectorProcessor<long[]> left,
      ExprVectorProcessor<double[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `DoubleOutDoubleInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/DoubleOutDoubleInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends UnivariateDoubleFunctionVectorValueProcessor<double[]>
{
  public DoubleOutDoubleInFunctionVectorValueProcessor(ExprVectorProcessor<double[]> processor, int maxVectorSize)
  {
    super(CastToTypeVectorProcessor.cast(processor, ExpressionType.DOUBLE), maxVectorSize);
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutDoublesInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutDoublesInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateLongFunctionVectorValueProcessor<double[], double[]>
{
  public LongOutDoublesInFunctionVectorValueProcessor(
      ExprVectorProcessor<double[]> left,
      ExprVectorProcessor<double[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutDoubleInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutDoubleInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends UnivariateLongFunctionVectorValueProcessor<double[]>
{
  public LongOutDoubleInFunctionVectorValueProcessor(ExprVectorProcessor<double[]> processor, int maxVectorSize)
  {
    super(CastToTypeVectorProcessor.cast(processor, ExpressionType.DOUBLE), maxVectorSize);
```

### NonProtectedConstructorInAbstractClass
Constructor `DoubleOutLongInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/DoubleOutLongInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends UnivariateDoubleFunctionVectorValueProcessor<long[]>
{
  public DoubleOutLongInFunctionVectorValueProcessor(ExprVectorProcessor<long[]> processor, int maxVectorSize)
  {
    super(CastToTypeVectorProcessor.cast(processor, ExpressionType.LONG), maxVectorSize);
```

### NonProtectedConstructorInAbstractClass
Constructor `DoubleOutDoublesInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/DoubleOutDoublesInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateDoubleFunctionVectorValueProcessor<double[], double[]>
{
  public DoubleOutDoublesInFunctionVectorValueProcessor(
      ExprVectorProcessor<double[]> left,
      ExprVectorProcessor<double[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `BivariateFunctionVectorProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/BivariateFunctionVectorProcessor.java`
#### Snippet
```java
  private final ExprVectorProcessor<TRightInput> right;

  public BivariateFunctionVectorProcessor(
      ExpressionType outputType,
      ExprVectorProcessor<TLeftInput> left,
```

### NonProtectedConstructorInAbstractClass
Constructor `UnivariateFunctionVectorObjectProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/UnivariateFunctionVectorObjectProcessor.java`
#### Snippet
```java
  final TOutput outValues;

  public UnivariateFunctionVectorObjectProcessor(
      ExprVectorProcessor<TInput> processor,
      int maxVectorSize,
```

### NonProtectedConstructorInAbstractClass
Constructor `SymmetricalBivariateFunctionVectorProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/SymmetricalBivariateFunctionVectorProcessor.java`
#### Snippet
```java
public abstract class SymmetricalBivariateFunctionVectorProcessor<T> extends BivariateFunctionVectorProcessor<T, T, T>
{
  public SymmetricalBivariateFunctionVectorProcessor(
      ExpressionType outputType,
      ExprVectorProcessor<T> left,
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutLongsInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutLongsInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateLongFunctionVectorValueProcessor<long[], long[]>
{
  public LongOutLongsInFunctionVectorValueProcessor(
      ExprVectorProcessor<long[]> left,
      ExprVectorProcessor<long[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutLongInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutLongInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends UnivariateLongFunctionVectorValueProcessor<long[]>
{
  public LongOutLongInFunctionVectorValueProcessor(ExprVectorProcessor<long[]> processor, int maxVectorSize)
  {
    super(CastToTypeVectorProcessor.cast(processor, ExpressionType.LONG), maxVectorSize);
```

### NonProtectedConstructorInAbstractClass
Constructor `LongOutObjectInFunctionVectorProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/LongOutObjectInFunctionVectorProcessor.java`
#### Snippet
```java
  final ExpressionType inputType;

  public LongOutObjectInFunctionVectorProcessor(
      ExprVectorProcessor<Object[]> processor,
      int maxVectorSize,
```

### NonProtectedConstructorInAbstractClass
Constructor `DoubleOutLongDoubleInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/DoubleOutLongDoubleInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateDoubleFunctionVectorValueProcessor<long[], double[]>
{
  public DoubleOutLongDoubleInFunctionVectorValueProcessor(
      ExprVectorProcessor<long[]> left,
      ExprVectorProcessor<double[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `DoubleOutLongsInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/DoubleOutLongsInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateDoubleFunctionVectorValueProcessor<long[], long[]>
{
  public DoubleOutLongsInFunctionVectorValueProcessor(
      ExprVectorProcessor<long[]> left,
      ExprVectorProcessor<long[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `DoubleOutDoubleLongInFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/DoubleOutDoubleLongInFunctionVectorValueProcessor.java`
#### Snippet
```java
    extends BivariateDoubleFunctionVectorValueProcessor<double[], long[]>
{
  public DoubleOutDoubleLongInFunctionVectorValueProcessor(
      ExprVectorProcessor<double[]> left,
      ExprVectorProcessor<long[]> right,
```

### NonProtectedConstructorInAbstractClass
Constructor `ExprEvalVector()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/ExprEvalVector.java`
#### Snippet
```java
  final boolean[] nulls;

  public ExprEvalVector(T values, @Nullable boolean[] nulls)
  {
    this.values = values;
```

### NonProtectedConstructorInAbstractClass
Constructor `UnivariateDoubleFunctionVectorValueProcessor()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/math/expr/vector/UnivariateDoubleFunctionVectorValueProcessor.java`
#### Snippet
```java
  final double[] outValues;

  public UnivariateDoubleFunctionVectorValueProcessor(
      ExprVectorProcessor<TInput> processor,
      int maxVectorSize
```

### NonProtectedConstructorInAbstractClass
Constructor `ThreadRenamingCallable()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/common/guava/ThreadRenamingCallable.java`
#### Snippet
```java
  private final String name;

  public ThreadRenamingCallable(
      String name
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `ThreadRenamingRunnable()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/common/guava/ThreadRenamingRunnable.java`
#### Snippet
```java
  private final String name;

  public ThreadRenamingRunnable(
      String name
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseTypeSignature()` of an abstract class should not be declared 'public'
in `core/src/main/java/org/apache/druid/segment/column/BaseTypeSignature.java`
#### Snippet
```java
  private final Supplier<NullableTypeStrategy> nullableTypeStrategy;

  public BaseTypeSignature(
      TypeFactory typeFactory,
      Type type,
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractHttpClientProvider()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/guice/http/AbstractHttpClientProvider.java`
#### Snippet
```java
  private Injector injector;

  public AbstractHttpClientProvider(Class<? extends Annotation> annotation)
  {
    Preconditions.checkNotNull(annotation, "annotation");
```

### NonProtectedConstructorInAbstractClass
Constructor `BytesBoundedLinkedQueue()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/client/cache/BytesBoundedLinkedQueue.java`
#### Snippet
```java
  private long capacity;

  public BytesBoundedLinkedQueue(long capacity)
  {
    delegate = new ConcurrentLinkedQueue<>();
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractTierSelectorStrategy()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/client/selector/AbstractTierSelectorStrategy.java`
#### Snippet
```java
  private final ServerSelectorStrategy serverSelectorStrategy;

  public AbstractTierSelectorStrategy(ServerSelectorStrategy serverSelectorStrategy)
  {
    this.serverSelectorStrategy = serverSelectorStrategy;
```

### NonProtectedConstructorInAbstractClass
Constructor `QueryResultPusher()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
  private HttpServletResponse response = null;

  public QueryResultPusher(
      HttpServletRequest request,
      ObjectMapper jsonMapper,
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractResourceFilter()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/server/http/security/AbstractResourceFilter.java`
#### Snippet
```java

  @Inject
  public AbstractResourceFilter(
      AuthorizerMapper authorizerMapper
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `ListenerResource()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  private final ListenerHandler handler;

  public ListenerResource(
      final @Json ObjectMapper jsonMapper,
      final @Smile ObjectMapper smileMapper,
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractListenerHandler()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/server/listener/resource/AbstractListenerHandler.java`
#### Snippet
```java
   * @param inObjTypeRef The TypeReference for the input object type
   */
  public AbstractListenerHandler(TypeReference<ObjType> inObjTypeRef)
  {
    this.inObjTypeRef = inObjTypeRef;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseFormatDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/table/InputFormats.java`
#### Snippet
```java
    private final List<PropertyDefn<?>> properties;

    public BaseFormatDefn(
        final String name,
        final String typeTag,
```

### NonProtectedConstructorInAbstractClass
Constructor `FlatTextFormatDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/table/InputFormats.java`
#### Snippet
```java
    public static final String SKIP_ROWS_PROPERTY = "skipRows";

    public FlatTextFormatDefn(
        final String name,
        final String typeTag,
```

### NonProtectedConstructorInAbstractClass
Constructor `ExternalTableDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
  private final List<PropertyDefn<?>> fields;

  public ExternalTableDefn(
      final String name,
      final String typeValue,
```

### NonProtectedConstructorInAbstractClass
Constructor `FormattedExternalTableDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
    private final Map<String, InputFormatDefn> formats;

    public FormattedExternalTableDefn(
        final String name,
        final String typeValue,
```

### NonProtectedConstructorInAbstractClass
Constructor `SimplePropertyDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
    public final Class<T> valueClass;

    public SimplePropertyDefn(
        final String name,
        final Class<T> valueClass,
```

### NonProtectedConstructorInAbstractClass
Constructor `BasePropertyDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
    }

    public BasePropertyDefn(final String name)
    {
      this(name, null);
```

### NonProtectedConstructorInAbstractClass
Constructor `BasePropertyDefn()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
    protected final Map<String, Object> attributes;

    public BasePropertyDefn(final String name, Map<String, Object> attributes)
    {
      this.name = name;
```

### NonProtectedConstructorInAbstractClass
Constructor `IngestionSpec()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/segment/indexing/IngestionSpec.java`
#### Snippet
```java

  @JsonCreator
  public IngestionSpec(
      @JsonProperty("dataSchema") DataSchema dataSchema,
      @JsonProperty("ioConfig") IOConfigType ioConfig,
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseGranularitySpec()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/segment/indexing/granularity/BaseGranularitySpec.java`
#### Snippet
```java
  protected final Boolean rollup;

  public BaseGranularitySpec(List<Interval> inputIntervals, Boolean rollup)
  {
    this.inputIntervals = inputIntervals == null ? Collections.emptyList() : inputIntervals;
```

### NonProtectedConstructorInAbstractClass
Constructor `PrefetchSqlFirehoseFactory()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PrefetchSqlFirehoseFactory.java`
#### Snippet
```java


  public PrefetchSqlFirehoseFactory(
      Long maxCacheCapacityBytes,
      Long maxFetchCapacityBytes,
```

### NonProtectedConstructorInAbstractClass
Constructor `SQLMetadataStorageActionHandlerFactory()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandlerFactory.java`
#### Snippet
```java

  @Inject
  public SQLMetadataStorageActionHandlerFactory(
      SQLMetadataConnector connector,
      MetadataStorageTablesConfig config,
```

### NonProtectedConstructorInAbstractClass
Constructor `SQLMetadataConnector()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataConnector.java`
#### Snippet
```java
  private final Predicate<Throwable> shouldRetry;

  public SQLMetadataConnector(
      Supplier<MetadataStorageConnectorConfig> config,
      Supplier<MetadataStorageTablesConfig> tablesConfigSupplier
```

### NonProtectedConstructorInAbstractClass
Constructor `SQLMetadataStorageActionHandler()` of an abstract class should not be declared 'public'
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java

  @SuppressWarnings("PMD.UnnecessaryFullyQualifiedName")
  public SQLMetadataStorageActionHandler(
      final SQLMetadataConnector connector,
      final ObjectMapper jsonMapper,
```

### NonProtectedConstructorInAbstractClass
Constructor `GuiceRunnable()` of an abstract class should not be declared 'public'
in `services/src/main/java/org/apache/druid/cli/GuiceRunnable.java`
#### Snippet
```java
  private Injector baseInjector;

  public GuiceRunnable(Logger log)
  {
    this.log = log;
```

### NonProtectedConstructorInAbstractClass
Constructor `ServerRunnable()` of an abstract class should not be declared 'public'
in `services/src/main/java/org/apache/druid/cli/ServerRunnable.java`
#### Snippet
```java
  private static final EmittingLogger log = new EmittingLogger(ServerRunnable.class);

  public ServerRunnable(Logger log)
  {
    super(log);
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractPrioritizedCallable()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/AbstractPrioritizedCallable.java`
#### Snippet
```java
  private final int priority;

  public AbstractPrioritizedCallable(int priority)
  {
    this.priority = priority;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractPrioritizedQueryRunnerCallable()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/AbstractPrioritizedQueryRunnerCallable.java`
#### Snippet
```java
  private final int priority;

  public AbstractPrioritizedQueryRunnerCallable(int priority, QueryRunner<V> runner)
  {
    this.priority = priority;
```

### NonProtectedConstructorInAbstractClass
Constructor `BySegmentSkippingQueryRunner()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/BySegmentSkippingQueryRunner.java`
#### Snippet
```java
  private final QueryRunner<T> baseRunner;

  public BySegmentSkippingQueryRunner(
      QueryRunner<T> baseRunner
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseQuery()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/BaseQuery.java`
#### Snippet
```java
  }

  public BaseQuery(
      DataSource dataSource,
      QuerySegmentSpec querySegmentSpec,
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseQuery()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/BaseQuery.java`
#### Snippet
```java
  private final Granularity granularity;

  public BaseQuery(
      DataSource dataSource,
      QuerySegmentSpec querySegmentSpec,
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseArrayProvider()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/topn/BaseTopNAlgorithm.java`
#### Snippet
```java
    private final StorageAdapter storageAdapter;

    public BaseArrayProvider(
        DimensionSelector dimSelector,
        TopNQuery query,
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseVectorValueMatcher()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/filter/vector/BaseVectorValueMatcher.java`
#### Snippet
```java
  private final VectorSizeInspector selector;

  public BaseVectorValueMatcher(final VectorSizeInspector selector)
  {
    this.selector = selector;
```

### NonProtectedConstructorInAbstractClass
Constructor `SearchQueryExecutor()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryExecutor.java`
#### Snippet
```java
  protected final List<DimensionSpec> dimsToSearch;

  public SearchQueryExecutor(SearchQuery query, Segment segment, List<DimensionSpec> dimensionSpecs)
  {
    this.query = query;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractBufferHashGrouper()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/AbstractBufferHashGrouper.java`
#### Snippet
```java
  protected ByteBuffer hashTableBuffer; // buffer for the entire hash table (total space, not individual growth)

  public AbstractBufferHashGrouper(
      // the buffer returned from the below supplier can have dirty bits and should be cleared during initialization
      final Supplier<ByteBuffer> bufferSupplier,
```

### NonProtectedConstructorInAbstractClass
Constructor `GroupByEngineIterator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java
    protected final long maxSelectorFootprint;

    public GroupByEngineIterator(
        final GroupByQuery query,
        final GroupByQueryConfig querySpecificConfig,
```

### NonProtectedConstructorInAbstractClass
Constructor `ArrayNumericGroupByColumnSelectorStrategy()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/column/ArrayNumericGroupByColumnSelectorStrategy.java`
#### Snippet
```java
  private final int valueFootprint;

  public ArrayNumericGroupByColumnSelectorStrategy(final int valueFootprint)
  {
    this.dictionary = DictionaryBuilding.createDictionary();
```

### NonProtectedConstructorInAbstractClass
Constructor `WindowValueProcessorBase()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/operator/window/value/WindowValueProcessorBase.java`
#### Snippet
```java
  private final String outputColumn;

  public WindowValueProcessorBase(
      String inputColumn,
      String outputColumn
```

### NonProtectedConstructorInAbstractClass
Constructor `ShiftedColumnAccessorBase()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/operator/window/value/ShiftedColumnAccessorBase.java`
#### Snippet
```java
  private final ColumnAccessor accessor;

  public ShiftedColumnAccessorBase(ColumnAccessor accessor)
  {
    this.accessor = accessor;
```

### NonProtectedConstructorInAbstractClass
Constructor `WindowRankingProcessorBase()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/operator/window/ranking/WindowRankingProcessorBase.java`
#### Snippet
```java
  private final String outputColumn;

  public WindowRankingProcessorBase(
      List<String> groupingCols,
      String outputColumn
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseFilteredDimensionSpec()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/dimension/BaseFilteredDimensionSpec.java`
#### Snippet
```java
  protected final DimensionSpec delegate;

  public BaseFilteredDimensionSpec(
      @JsonProperty("delegate") DimensionSpec delegate
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `TrimExprMacro()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
  private final TrimMode mode;

  public TrimExprMacro(final TrimMode mode)
  {
    this.mode = mode;
```

### NonProtectedConstructorInAbstractClass
Constructor `FunctionalExtraction()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/extraction/FunctionalExtraction.java`
#### Snippet
```java
   * @param injective               If this function always has 1:1 renames and the domain has the same cardinality of the input, this should be true and enables optimized query paths.
   */
  public FunctionalExtraction(
      final Function<String, String> extractionFunction,
      final boolean retainMissingValue,
```

### NonProtectedConstructorInAbstractClass
Constructor `SimpleFloatAggregatorFactory()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleFloatAggregatorFactory.java`
#### Snippet
```java
  protected final Supplier<Expr> fieldExpression;

  public SimpleFloatAggregatorFactory(
      ExprMacroTable macroTable,
      String name,
```

### NonProtectedConstructorInAbstractClass
Constructor `SimpleLongAggregatorFactory()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleLongAggregatorFactory.java`
#### Snippet
```java
  protected final Supplier<Expr> fieldExpression;

  public SimpleLongAggregatorFactory(
      ExprMacroTable macroTable,
      String name,
```

### NonProtectedConstructorInAbstractClass
Constructor `SimpleDoubleAggregatorFactory()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleDoubleAggregatorFactory.java`
#### Snippet
```java


  public SimpleDoubleAggregatorFactory(
      ExprMacroTable macroTable,
      String name,
```

### NonProtectedConstructorInAbstractClass
Constructor `SimpleDoubleBufferAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/SimpleDoubleBufferAggregator.java`
#### Snippet
```java
  final BaseDoubleColumnValueSelector selector;

  public SimpleDoubleBufferAggregator(BaseDoubleColumnValueSelector selector)
  {
    this.selector = selector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericAnyAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/any/NumericAnyAggregator.java`
#### Snippet
```java
  boolean isFound;

  public NumericAnyAggregator(TSelector valueSelector)
  {
    this.valueSelector = valueSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericAnyBufferAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/any/NumericAnyBufferAggregator.java`
#### Snippet
```java
  final TSelector valueSelector;

  public NumericAnyBufferAggregator(TSelector valueSelector)
  {
    this.valueSelector = valueSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericAnyVectorAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/any/NumericAnyVectorAggregator.java`
#### Snippet
```java
  protected final VectorValueSelector vectorValueSelector;

  public NumericAnyVectorAggregator(VectorValueSelector vectorValueSelector)
  {
    this.vectorValueSelector = vectorValueSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericLastAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/last/NumericLastAggregator.java`
#### Snippet
```java
  boolean rhsNull;

  public NumericLastAggregator(BaseLongColumnValueSelector timeSelector, TSelector valueSelector)
  {
    this.timeSelector = timeSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericLastBufferAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/last/NumericLastBufferAggregator.java`
#### Snippet
```java
  final TSelector valueSelector;

  public NumericLastBufferAggregator(BaseLongColumnValueSelector timeSelector, TSelector valueSelector)
  {
    this.timeSelector = timeSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericLastVectorAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/last/NumericLastVectorAggregator.java`
#### Snippet
```java
  private long lastTime;

  public NumericLastVectorAggregator(VectorValueSelector timeSelector, VectorValueSelector valueSelector)
  {
    this.timeSelector = timeSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericFirstAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/first/NumericFirstAggregator.java`
#### Snippet
```java
  boolean rhsNull;

  public NumericFirstAggregator(BaseLongColumnValueSelector timeSelector, TSelector valueSelector)
  {
    this.timeSelector = timeSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `NumericFirstBufferAggregator()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/query/aggregation/first/NumericFirstBufferAggregator.java`
#### Snippet
```java
  final TSelector valueSelector;

  public NumericFirstBufferAggregator(BaseLongColumnValueSelector timeSelector, TSelector valueSelector)
  {
    this.timeSelector = timeSelector;
```

### NonProtectedConstructorInAbstractClass
Constructor `DictionaryEncodedColumnMerger()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java


  public DictionaryEncodedColumnMerger(
      String dimensionName,
      IndexSpec indexSpec,
```

### NonProtectedConstructorInAbstractClass
Constructor `DictionaryEncodedColumnIndexer()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnIndexer.java`
#### Snippet
```java
   * @param dimLookup Dimension Dictionary to lookup dimension values.
   */
  public DictionaryEncodedColumnIndexer(@NotNull DimensionDictionary<ActualType> dimLookup)
  {
    this.dimLookup = Preconditions.checkNotNull(dimLookup);
```

### NonProtectedConstructorInAbstractClass
Constructor `DimensionDictionary()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/DimensionDictionary.java`
#### Snippet
```java
  private final ReentrantReadWriteLock lock;

  public DimensionDictionary(Class<T> cls)
  {
    this.cls = cls;
```

### NonProtectedConstructorInAbstractClass
Constructor `ReferenceCountingCloseableObject()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/ReferenceCountingCloseableObject.java`
#### Snippet
```java
  protected final BaseObject baseObject;

  public ReferenceCountingCloseableObject(BaseObject object)
  {
    this.baseObject = object;
```

### NonProtectedConstructorInAbstractClass
Constructor `SafeWritableBase()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableBase.java`
#### Snippet
```java
  final ByteBuffer buffer;

  public SafeWritableBase(ByteBuffer buffer)
  {
    this.buffer = buffer;
```

### NonProtectedConstructorInAbstractClass
Constructor `MultiValueStringVectorObjectSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
    private int id = ReadableVectorInspector.NULL_ID;

    public MultiValueStringVectorObjectSelector(
        ColumnarMultiInts multiValueColumn,
        ReadableVectorOffset offset
```

### NonProtectedConstructorInAbstractClass
Constructor `StringVectorObjectSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
    private int id = ReadableVectorInspector.NULL_ID;

    public StringVectorObjectSelector(
        ColumnarInts column,
        ReadableVectorOffset offset
```

### NonProtectedConstructorInAbstractClass
Constructor `StringMultiValueDimensionVectorSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
    private int id = ReadableVectorInspector.NULL_ID;

    public StringMultiValueDimensionVectorSelector(
        ColumnarMultiInts multiValueColumn,
        ReadableVectorOffset offset
```

### NonProtectedConstructorInAbstractClass
Constructor `StringSingleValueDimensionVectorSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
    private int id = ReadableVectorInspector.NULL_ID;

    public StringSingleValueDimensionVectorSelector(
        ColumnarInts column,
        ReadableVectorOffset offset
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseLongVectorValueSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/vector/BaseLongVectorValueSelector.java`
#### Snippet
```java
  private double[] doubleVector;

  public BaseLongVectorValueSelector(final ReadableVectorOffset offset)
  {
    this.offset = offset;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseFloatVectorValueSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/vector/BaseFloatVectorValueSelector.java`
#### Snippet
```java
  private double[] doubleVector;

  public BaseFloatVectorValueSelector(final ReadableVectorOffset offset)
  {
    this.offset = offset;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseDoubleVectorValueSelector()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/vector/BaseDoubleVectorValueSelector.java`
#### Snippet
```java
  private float[] floatVector;

  public BaseDoubleVectorValueSelector(final ReadableVectorOffset offset)
  {
    this.offset = offset;
```

### NonProtectedConstructorInAbstractClass
Constructor `CompressedNestedDataComplexColumn()` of an abstract class should not be declared 'public'
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
  private static final ObjectStrategy<Object> STRATEGY = NestedDataComplexTypeSerde.INSTANCE.getObjectStrategy();

  public CompressedNestedDataComplexColumn(
      NestedDataColumnMetadata metadata,
      @SuppressWarnings("unused") ColumnConfig columnConfig,
```

### NonProtectedConstructorInAbstractClass
Constructor `ApproximateHistogramPostAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramPostAggregator.java`
#### Snippet
```java
  protected final String fieldName;

  public ApproximateHistogramPostAggregator(
      String name,
      String fieldName
```

### NonProtectedConstructorInAbstractClass
Constructor `KllSketchMergeBufferAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchMergeBufferAggregator.java`
#### Snippet
```java
  protected final KllSketchMergeBufferAggregatorHelper<SketchType> helper;

  public KllSketchMergeBufferAggregator(
      final ColumnValueSelector<SketchType> selector,
      final KllSketchMergeBufferAggregatorHelper<SketchType> helper
```

### NonProtectedConstructorInAbstractClass
Constructor `KllSketchBuildBufferAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchBuildBufferAggregator.java`
#### Snippet
```java
  protected final KllSketchBuildBufferAggregatorHelper<SketchType> helper;

  public KllSketchBuildBufferAggregator(
      final ColumnValueSelector<ValueType> valueSelector,
      final KllSketchBuildBufferAggregatorHelper<SketchType> helper
```

### NonProtectedConstructorInAbstractClass
Constructor `KllSketchMergeAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchMergeAggregator.java`
#### Snippet
```java
  @Nullable protected SketchType union;

  public KllSketchMergeAggregator(final ColumnValueSelector selector, final SketchType sketch)
  {
    this.selector = selector;
```

### NonProtectedConstructorInAbstractClass
Constructor `KllSketchBuildBufferAggregatorHelper()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchBuildBufferAggregatorHelper.java`
#### Snippet
```java
  private final IdentityHashMap<ByteBuffer, Int2ObjectMap<SketchType>> sketches = new IdentityHashMap<>();

  public KllSketchBuildBufferAggregatorHelper(final int size, final int maxIntermediateSize)
  {
    this.size = size;
```

### NonProtectedConstructorInAbstractClass
Constructor `KllSketchMergeAggregatorFactory()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchMergeAggregatorFactory.java`
#### Snippet
```java
    extends KllSketchAggregatorFactory<SketchType, ValueType>
{
  public KllSketchMergeAggregatorFactory(
      final String name,
      final String fieldName,
```

### NonProtectedConstructorInAbstractClass
Constructor `SketchAggregatorFactory()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java
  private final byte cacheId;

  public SketchAggregatorFactory(String name, String fieldName, Integer size, byte cacheId)
  {
    this.name = Preconditions.checkNotNull(name, "Must have a valid, non-null aggregator name");
```

### NonProtectedConstructorInAbstractClass
Constructor `ThetaSketchSetBaseOperatorConversion()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/sql/ThetaSketchSetBaseOperatorConversion.java`
#### Snippet
```java
public abstract class ThetaSketchSetBaseOperatorConversion implements SqlOperatorConversion
{
  public ThetaSketchSetBaseOperatorConversion()
  {
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `ArrayOfDoublesSketchPostAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchPostAggregator.java`
#### Snippet
```java
  private final String name;

  public ArrayOfDoublesSketchPostAggregator(final String name)
  {
    this.name = Preconditions.checkNotNull(name, "name is null");
```

### NonProtectedConstructorInAbstractClass
Constructor `ArrayOfDoublesSketchUnaryPostAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchUnaryPostAggregator.java`
#### Snippet
```java

  @JsonCreator
  public ArrayOfDoublesSketchUnaryPostAggregator(
      final String name,
      final PostAggregator field
```

### NonProtectedConstructorInAbstractClass
Constructor `ArrayOfDoublesSketchMultiPostAggregator()` of an abstract class should not be declared 'public'
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMultiPostAggregator.java`
#### Snippet
```java

  @JsonCreator
  public ArrayOfDoublesSketchMultiPostAggregator(final String name, final List<PostAggregator> fields)
  {
    super(name);
```

### NonProtectedConstructorInAbstractClass
Constructor `InMemoryRepositoryMixIn()` of an abstract class should not be declared 'public'
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/AvroExtensionsModule.java`
#### Snippet
```java
{
  @JsonCreator
  public InMemoryRepositoryMixIn(@JsonProperty("validators") ValidatorFactory validators)
  {
  }
```

### NonProtectedConstructorInAbstractClass
Constructor `ExtraInfoHolder()` of an abstract class should not be declared 'public'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/ExtraInfoHolder.java`
#### Snippet
```java
  private final ExtraInfoType extra;

  public ExtraInfoHolder(@Nullable final ExtraInfoType extra)
  {
    this.extra = extra;
```

### NonProtectedConstructorInAbstractClass
Constructor `DescriptorBasedProtobufBytesDecoder()` of an abstract class should not be declared 'public'
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/DescriptorBasedProtobufBytesDecoder.java`
#### Snippet
```java
  private final String protoMessageType;

  public DescriptorBasedProtobufBytesDecoder(
      final String protoMessageType
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `NamespaceExtractionCacheManager()` of an abstract class should not be declared 'public'
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/NamespaceExtractionCacheManager.java`
#### Snippet
```java
  private final ScheduledThreadPoolExecutor scheduledExecutorService;

  public NamespaceExtractionCacheManager(
      final Lifecycle lifecycle,
      final ServiceEmitter serviceEmitter,
```

### NonProtectedConstructorInAbstractClass
Constructor `IndexTaskClient()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/IndexTaskClient.java`
#### Snippet
```java
  private final ListeningExecutorService executorService;

  public IndexTaskClient(
      HttpClient httpClient,
      ObjectMapper objectMapper,
```

### NonProtectedConstructorInAbstractClass
Constructor `SubTaskSpec()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/SubTaskSpec.java`
#### Snippet
```java

  @JsonCreator
  public SubTaskSpec(
      String id,
      String groupId,
```

### NonProtectedConstructorInAbstractClass
Constructor `TaskRunnerWorkItem()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerWorkItem.java`
#### Snippet
```java
  private final DateTime queueInsertionTime;

  public TaskRunnerWorkItem(String taskId, ListenableFuture<TaskStatus> result)
  {
    this(taskId, result, DateTimes.nowUtc());
```

### NonProtectedConstructorInAbstractClass
Constructor `TaskRunnerWorkItem()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerWorkItem.java`
#### Snippet
```java
  }

  public TaskRunnerWorkItem(
      String taskId,
      ListenableFuture<TaskStatus> result,
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseRestorableTaskRunner()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/BaseRestorableTaskRunner.java`
#### Snippet
```java
  protected final TaskConfig taskConfig;

  public BaseRestorableTaskRunner(
      ObjectMapper jsonMapper,
      TaskConfig taskConfig
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamIndexTaskIOConfig()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskIOConfig.java`
#### Snippet
```java
  private final InputFormat inputFormat;

  public SeekableStreamIndexTaskIOConfig(
      @Nullable final Integer taskGroupId, // can be null for backward compabitility
      final String baseSequenceName,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamSamplerSpec()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamSamplerSpec.java`
#### Snippet
```java
  protected final SamplerConfig samplerConfig;

  public SeekableStreamSamplerSpec(
      final SeekableStreamSupervisorSpec ingestionSpec,
      @Nullable final SamplerConfig samplerConfig,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamIndexTask()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTask.java`
#### Snippet
```java
  protected AuthorizerMapper authorizerMapper;

  public SeekableStreamIndexTask(
      final String id,
      @Nullable final TaskResource taskResource,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamIndexTaskClientSyncImpl()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientSyncImpl.java`
#### Snippet
```java
  private static final EmittingLogger log = new EmittingLogger(SeekableStreamIndexTaskClient.class);

  public SeekableStreamIndexTaskClientSyncImpl(
      HttpClient httpClient,
      ObjectMapper jsonMapper,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamDataSourceMetadata()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamDataSourceMetadata.java`
#### Snippet
```java
  private final SeekableStreamSequenceNumbers<PartitionIdType, SequenceOffsetType> seekableStreamSequenceNumbers;

  public SeekableStreamDataSourceMetadata(
      SeekableStreamSequenceNumbers<PartitionIdType, SequenceOffsetType> seekableStreamSequenceNumbers
  )
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamIndexTaskTuningConfig()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskTuningConfig.java`
#### Snippet
```java
  private final int maxSavedParseExceptions;

  public SeekableStreamIndexTaskTuningConfig(
      @Nullable AppendableIndexSpec appendableIndexSpec,
      @Nullable Integer maxRowsInMemory,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamSupervisorIOConfig()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorIOConfig.java`
#### Snippet
```java
  @Nullable private final IdleConfig idleConfig;

  public SeekableStreamSupervisorIOConfig(
      String stream,
      @Nullable InputFormat inputFormat,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamSupervisorIngestionSpec()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorIngestionSpec.java`
#### Snippet
```java

  @JsonCreator
  public SeekableStreamSupervisorIngestionSpec(
      @JsonProperty("dataSchema") DataSchema dataSchema,
      @JsonProperty("ioConfig") SeekableStreamSupervisorIOConfig ioConfig,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamSupervisorSpec()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorSpec.java`
#### Snippet
```java
  protected final SupervisorStateManagerConfig supervisorStateManagerConfig;

  public SeekableStreamSupervisorSpec(
      final SeekableStreamSupervisorIngestionSpec ingestionSchema,
      @Nullable Map<String, Object> context,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamSupervisorReportPayload()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisorReportPayload.java`
#### Snippet
```java
  private final List<SupervisorStateManager.ExceptionEvent> recentErrors;

  public SeekableStreamSupervisorReportPayload(
      String dataSource,
      String stream,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamIndexTaskClientAsyncImpl()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
  private final ScheduledExecutorService retryExec;

  public SeekableStreamIndexTaskClientAsyncImpl(
      final String dataSource,
      final ServiceClientFactory serviceClientFactory,
```

### NonProtectedConstructorInAbstractClass
Constructor `SyntheticStreamGenerator()` of an abstract class should not be declared 'public'
in `integration-tests/src/main/java/org/apache/druid/testing/utils/SyntheticStreamGenerator.java`
#### Snippet
```java
  private final long cyclePaddingMs;

  public SyntheticStreamGenerator(EventSerializer serializer, int eventsPerSecond, long cyclePaddingMs)
  {
    this.serializer = serializer;
```

### NonProtectedConstructorInAbstractClass
Constructor `ComparableAveragerFactory()` of an abstract class should not be declared 'public'
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/ComparableAveragerFactory.java`
#### Snippet
```java
   * @param cycleSize  Cycle group size. Used to calculate day-of-week option. Default=1 (single element in group).
   */
  public ComparableAveragerFactory(String name, int numBuckets, String fieldName, Integer cycleSize)
  {
    super(name, numBuckets, fieldName, cycleSize);
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseAverager()` of an abstract class should not be declared 'public'
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/BaseAverager.java`
#### Snippet
```java
   * @param cycleSize      Cycle group size. Used to calculate day-of-week option. Default=1 (single element in group).
   */
  public BaseAverager(Class<I> storageType, int numBuckets, String name, String fieldName, int cycleSize)
  {
    this.numBuckets = numBuckets;
```

### NonProtectedConstructorInAbstractClass
Constructor `BaseAveragerFactory()` of an abstract class should not be declared 'public'
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/BaseAveragerFactory.java`
#### Snippet
```java
   * @param cycleSize  Cycle group size. Used to calculate day-of-week option. Default=1 (single element in group).
   */
  public BaseAveragerFactory(String name, int numBuckets, String fieldName, Integer cycleSize)
  {
    this.name = name;
```

### NonProtectedConstructorInAbstractClass
Constructor `CompressedBigDecimalBufferAggregatorBase()` of an abstract class should not be declared 'public'
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalBufferAggregatorBase.java`
#### Snippet
```java
   * @param headerSizeBytes     size of a header, if it exists
   */
  public CompressedBigDecimalBufferAggregatorBase(
      int size,
      int scale,
```

### NonProtectedConstructorInAbstractClass
Constructor `K8sTaskAdapter()` of an abstract class should not be declared 'public'
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/K8sTaskAdapter.java`
#### Snippet
```java
  protected final ObjectMapper mapper;

  public K8sTaskAdapter(
      KubernetesClientApi client,
      KubernetesTaskRunnerConfig config,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamSupervisor()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private final IdleConfig idleConfig;

  public SeekableStreamSupervisor(
      final String supervisorId,
      final TaskStorage taskStorage,
```

### NonProtectedConstructorInAbstractClass
Constructor `SeekableStreamIndexTaskRunner()` of an abstract class should not be declared 'public'
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
  private volatile Throwable backgroundThreadException;

  public SeekableStreamIndexTaskRunner(
      final SeekableStreamIndexTask<PartitionIdType, SequenceOffsetType, RecordType> task,
      @Nullable final InputRowParser<ByteBuffer> parser,
```

## RuleId[ruleID=AssignmentToMethodParameter]
### AssignmentToMethodParameter
Assignment to method parameter `other`
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogCollector.java`
#### Snippet
```java
      }

      other = HyperLogLogCollector.makeCollector(tmpBuffer);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `e`
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogCollector.java`
#### Snippet
```java
  public static double applyCorrection(double e, int zeroCount)
  {
    e = CORRECTION_PARAMETER / e;

    if (e <= LOW_CORRECTION_THRESHOLD) {
```

### AssignmentToMethodParameter
Assignment to method parameter `queryPlus`
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcStatement.java`
#### Snippet
```java
  {
    closeResultSet();
    queryPlus = queryPlus.withContext(queryContext);
    DirectStatement stmt = lifecycleFactory.directStatement(queryPlus);
    resultSet = new DruidJdbcResultSet(this, stmt, Long.MAX_VALUE, fetcherFactory);
```

### AssignmentToMethodParameter
Assignment to method parameter `ex`
in `sql/src/main/java/org/apache/druid/sql/http/SqlResource.java`
#### Snippet
```java
    {
      if (ex instanceof SanitizableException) {
        ex = serverConfig.getErrorResponseTransformStrategy().transformIfNeeded((SanitizableException) ex);
      }
      out.write(jsonMapper.writeValueAsBytes(ex));
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
      final String queryId = UUID.randomUUID().toString();
      plannerContext.addNativeQueryId(queryId);
      query = query.withId(queryId);
    } else {
      plannerContext.addNativeQueryId(query.getId());
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
    }

    query = query.withSqlQueryId(plannerContext.getSqlQueryId());

    final AuthenticationResult authenticationResult = plannerContext.getAuthenticationResult();
```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `sql/src/main/java/org/apache/druid/sql/calcite/parser/DruidSqlParserUtils.java`
#### Snippet
```java
      // For a sqlOrderBy.query like "SELECT dim1, sum(dim2) FROM foo OFFSET 10 FETCH 30 ORDER BY dim1 GROUP
      // BY dim1 this would represent the "SELECT dim1, sum(dim2) from foo GROUP BY dim1
      query = sqlOrderBy.query;
      offset = sqlOrderBy.offset;
      fetch = sqlOrderBy.fetch;
```

### AssignmentToMethodParameter
Assignment to method parameter `schema`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/CalcitePlanner.java`
#### Snippet
```java
        return schema;
      }
      schema = schema.getParentSchema();
    }
  }
```

### AssignmentToMethodParameter
Assignment to method parameter `virtualColumnRegistry`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java
    final RelDataType outputRowType = partialQuery.leafRel().getRowType();
    if (virtualColumnRegistry == null) {
      virtualColumnRegistry = VirtualColumnRegistry.create(
          sourceRowSignature,
          plannerContext.getExprMacroTable(),
```

### AssignmentToMethodParameter
Assignment to method parameter `sort`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/RelParameterizerShuttle.java`
#### Snippet
```java
    RexNode newFetch = bind(sort.fetch, builder, typeFactory);
    RexNode newOffset = bind(sort.offset, builder, typeFactory);
    sort = (LogicalSort) sort.copy(sort.getTraitSet(), sort.getInput(), sort.getCollation(), newOffset, newFetch);
    return bindRel(sort, builder, typeFactory);
  }
```

### AssignmentToMethodParameter
Assignment to method parameter `node`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/RelParameterizerShuttle.java`
#### Snippet
```java
      }
    };
    node = node.accept(binder);
    node.childrenAccept(new RelVisitor()
    {
```

### AssignmentToMethodParameter
Assignment to method parameter `len`
in `core/src/main/java/org/apache/druid/io/ByteBufferInputStream.java`
#### Snippet
```java
    }

    len = Math.min(len, buffer.remaining());
    buffer.get(bytes, off, len);
    return len;
```

### AssignmentToMethodParameter
Assignment to method parameter `metricValueString`
in `core/src/main/java/org/apache/druid/data/input/Rows.java`
#### Snippet
```java
      char secondChar = metricValueString.charAt(1);
      if (secondChar >= '0' && secondChar <= '9') {
        metricValueString = metricValueString.substring(1);
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `number`
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java
    }

    number = number.trim();
    if (number.length() == 0) {
      throw new IAE("Invalid format of number: number is blank");
```

### AssignmentToMethodParameter
Assignment to method parameter `number`
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java
    }

    number = number.trim();
    if (number.length() == 0) {
      return nullValue;
```

### AssignmentToMethodParameter
Assignment to method parameter `bytes`
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java
      int unitIndex = 0;
      while (bytes <= -1000_000 || bytes >= 1000_000) {
        bytes /= 1000;
        unitIndex++;
      }
```

### AssignmentToMethodParameter
Assignment to method parameter `initValue`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ConcatSequence.java`
#### Snippet
```java
      }

      initValue = yielder.get();
      try {
        yielder.close();
```

### AssignmentToMethodParameter
Assignment to method parameter `yielderYielder`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ConcatSequence.java`
#### Snippet
```java
      }

      yielderYielder = yielderYielder.next(null);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `input`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/ParserUtils.java`
#### Snippet
```java
  public static String stripQuotes(String input)
  {
    input = input.trim();
    if (input.charAt(0) == '\"' && input.charAt(input.length() - 1) == '\"') {
      input = input.substring(1, input.length() - 1).trim();
```

### AssignmentToMethodParameter
Assignment to method parameter `input`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/ParserUtils.java`
#### Snippet
```java
    input = input.trim();
    if (input.charAt(0) == '\"' && input.charAt(input.length() - 1) == '\"') {
      input = input.substring(1, input.length() - 1).trim();
    }
    return input;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.years().add(tt, -years);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.years().add(tt, -years);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.months().add(tt, -months);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.months().add(tt, -months);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.weeks().add(tt, -weeks);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.weeks().add(tt, -weeks);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        return t;
      } else {
        t = chronology.dayOfWeek().roundFloor(t);
        // default to Monday as beginning of the week
        return chronology.dayOfWeek().set(t, 1);
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.days().add(tt, -days);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.days().add(tt, -days);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt && origin > 0) {
          t = chronology.hours().add(tt, -hours);
        } else if (t > tt && origin < 0) {
          t = chronology.minuteOfHour().roundFloor(tt);
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.hours().add(tt, -hours);
        } else if (t > tt && origin < 0) {
          t = chronology.minuteOfHour().roundFloor(tt);
          t = chronology.minuteOfHour().set(t, 0);
        } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        } else if (t > tt && origin < 0) {
          t = chronology.minuteOfHour().roundFloor(tt);
          t = chronology.minuteOfHour().set(t, 0);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.minuteOfHour().set(t, 0);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.minutes().add(tt, -minutes);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.minutes().add(tt, -minutes);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.seconds().add(tt, -seconds);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.seconds().add(tt, -seconds);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
        // always round down to the previous period (for timestamps prior to origin)
        if (t < tt) {
          t = chronology.millis().add(tt, -millis);
        } else {
          t = tt;
```

### AssignmentToMethodParameter
Assignment to method parameter `t`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
          t = chronology.millis().add(tt, -millis);
        } else {
          t = tt;
        }
        return t;
```

### AssignmentToMethodParameter
Assignment to method parameter `state`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/Batch.java`
#### Snippet
```java
        return bufferWatermark;
      }
      state = getState();
      if (isSealed(state)) {
        return -1;
```

### AssignmentToMethodParameter
Assignment to method parameter `text`
in `core/src/main/java/org/apache/druid/math/expr/ExprListenerImpl.java`
#### Snippet
```java
  {
    if (text.charAt(0) == '"' && text.charAt(text.length() - 1) == '"') {
      text = StringEscapeUtils.unescapeJava(text.substring(1, text.length() - 1));
    }
    return text;
```

### AssignmentToMethodParameter
Assignment to method parameter `accumulator`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      for (int i = 0; i < bindings.getLength(); i++) {
        ExprEval evaluated = lambdaExpr.eval(bindings.accumulateWithIndex(i, accumulator));
        accumulator = evaluated.value();
      }
      if (accumulator instanceof Boolean) {
```

### AssignmentToMethodParameter
Assignment to method parameter `arrayType`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

        ExprEval evaluated = expr.eval(bindings.withIndex(i));
        arrayType = Function.ArrayConstructorFunction.setArrayOutput(arrayType, out, i, evaluated);
      }
      return ExprEval.ofArray(arrayType, out);
```

### AssignmentToMethodParameter
Assignment to method parameter `expectedSize`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
  {
    // Gracefully handle negative paramaters.
    expectedSize = Math.max(0, expectedSize);
    if (expectedSize < 3) {
      return new LinkedHashMap<>(expectedSize + 1);
```

### AssignmentToMethodParameter
Assignment to method parameter `location`
in `core/src/main/java/org/apache/druid/indexer/TaskStatus.java`
#### Snippet
```java
  {
    if (location == null) {
      location = TaskLocation.unknown();
    }
    return new TaskStatus(
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategies.java`
#### Snippet
```java
  public static int writeNotNullNullableDouble(ByteBuffer buffer, int offset, double value)
  {
    buffer.put(offset++, NullHandling.IS_NOT_NULL_BYTE);
    buffer.putDouble(offset, value);
    return NULLABLE_DOUBLE_SIZE;
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategies.java`
#### Snippet
```java
  public static int writeNotNullNullableLong(ByteBuffer buffer, int offset, long value)
  {
    buffer.put(offset++, NullHandling.IS_NOT_NULL_BYTE);
    buffer.putLong(offset, value);
    return NULLABLE_LONG_SIZE;
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategies.java`
#### Snippet
```java
  public static int writeNotNullNullableFloat(ByteBuffer buffer, int offset, float value)
  {
    buffer.put(offset++, NullHandling.IS_NOT_NULL_BYTE);
    buffer.putFloat(offset, value);
    return NULLABLE_FLOAT_SIZE;
```

### AssignmentToMethodParameter
Assignment to method parameter `arrayType`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    {
      if (arrayType == null) {
        arrayType = ExpressionTypeFactory.getInstance().ofArray(evaluated.type());
      }
      ExpressionType.checkNestedArrayAllowed(arrayType);
```

### AssignmentToMethodParameter
Assignment to method parameter `eval`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        // if the types don't match, cast it so things don't get weird
        if (type.equals(eval.type())) {
          eval = eval.castTo(type);
        }
        int written = strategy.write(buffer, offset, eval.value(), maxSizeBytes);
```

### AssignmentToMethodParameter
Assignment to method parameter `context`
in `server/src/main/java/org/apache/druid/client/indexing/HttpIndexingServiceClient.java`
#### Snippet
```java
    );

    context = context == null ? new HashMap<>() : context;
    context.put("priority", compactionTaskPriority);

```

### AssignmentToMethodParameter
Assignment to method parameter `host`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    if (host != null) {
      hostAndPort = HostAndPort.fromString(host);
      host = hostAndPort.getHostText();
      portFromHostConfig = hostAndPort.hasPort() ? hostAndPort.getPort() : null;
      if (plainTextPort != null && portFromHostConfig != null && !plainTextPort.equals(portFromHostConfig)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `plainTextPort`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      }
      if (portFromHostConfig != null) {
        plainTextPort = portFromHostConfig;
      }
    } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `host`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      }
    } else {
      host = getDefaultHost();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `plainTextPort`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      // to preserve backwards compatible behaviour
      if (nullHost && plainTextPort == null) {
        plainTextPort = -1;
      } else {
        if (plainTextPort == null) {
```

### AssignmentToMethodParameter
Assignment to method parameter `plainTextPort`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      } else {
        if (plainTextPort == null) {
          plainTextPort = SocketUtil.findOpenPort(8080);
        }
      }
```

### AssignmentToMethodParameter
Assignment to method parameter `currentDataSource`
in `server/src/main/java/org/apache/druid/server/ClientQuerySegmentWalker.java`
#### Snippet
```java
      }

      currentDataSource = new QueryDataSource(query);
    }
    return currentDataSource.withChildren(currentDataSource.getChildren()
```

### AssignmentToMethodParameter
Assignment to method parameter `percentOfSegmentsToConsider`
in `server/src/main/java/org/apache/druid/server/coordinator/ReservoirSegmentSampler.java`
#### Snippet
```java
      log.warn("Resetting percentOfSegmentsToConsider to 100 because only values from 1 to 100 are allowed."
                + " You Provided [%f]", percentOfSegmentsToConsider);
      percentOfSegmentsToConsider = 100;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `x1`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
      // swap X and Y
      double tmp = x1;
      x1 = y1 - y0;
      y1 = tmp - y0;
      y0 = -y0;
```

### AssignmentToMethodParameter
Assignment to method parameter `y1`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
      double tmp = x1;
      x1 = y1 - y0;
      y1 = tmp - y0;
      y0 = -y0;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `y0`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
      x1 = y1 - y0;
      y1 = tmp - y0;
      y0 = -y0;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `numToDrop`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
        );
        holder.getPeon().dropSegment(segment, null);
        numToDrop--;
      } else {
        log.warn(
```

### AssignmentToMethodParameter
Assignment to method parameter `result`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
  {
    if (result == null) {
      result = Status.failed("Unknown reason. Check server logs.");
    }
    synchronized (requestStatusesLock) {
```

### AssignmentToMethodParameter
Assignment to method parameter `percentOfSegmentsToConsiderPerMove`
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
          Builder.DEFAULT_PERCENT_OF_SEGMENTS_TO_CONSIDER_PER_MOVE
      );
      percentOfSegmentsToConsiderPerMove = Builder.DEFAULT_PERCENT_OF_SEGMENTS_TO_CONSIDER_PER_MOVE;
    }
    Preconditions.checkArgument(
```

### AssignmentToMethodParameter
Assignment to method parameter `maxNonPrimaryReplicantsToLoad`
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
          Builder.DEFAULT_MAX_NON_PRIMARY_REPLICANTS_TO_LOAD
      );
      maxNonPrimaryReplicantsToLoad = Builder.DEFAULT_MAX_NON_PRIMARY_REPLICANTS_TO_LOAD;
    }
    Preconditions.checkArgument(
```

### AssignmentToMethodParameter
Assignment to method parameter `segment`
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPusher.java`
#### Snippet
```java

    // Add binary version to the DataSegment object.
    segment = segment.withBinaryVersion(SegmentUtils.getVersionFromDir(dataSegmentFile));

    if (dataSegmentFile.equals(outDir)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `request`
in `server/src/main/java/org/apache/druid/discovery/DruidLeaderClient.java`
#### Snippet
```java
        try {
          if (request.getUrl().getQuery() == null) {
            request = withUrl(
                request,
                new URL(StringUtils.format("%s%s", getCurrentKnownLeader(false), request.getUrl().getPath()))
```

### AssignmentToMethodParameter
Assignment to method parameter `request`
in `server/src/main/java/org/apache/druid/discovery/DruidLeaderClient.java`
#### Snippet
```java
            );
          } else {
            request = withUrl(
                request,
                new URL(StringUtils.format(
```

### AssignmentToMethodParameter
Assignment to method parameter `request`
in `server/src/main/java/org/apache/druid/discovery/DruidLeaderClient.java`
#### Snippet
```java
        ));

        request = withUrl(request, redirectUrl);
      } else {
        return fullResponseHolder;
```

### AssignmentToMethodParameter
Assignment to method parameter `bytes`
in `processing/src/main/java/org/apache/druid/frame/write/columnar/ComplexFrameMaker.java`
#### Snippet
```java
    if (bytes == null) {
      isNull = true;
      bytes = ByteArrays.EMPTY_ARRAY;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `currentPosition`
in `processing/src/main/java/org/apache/druid/query/topn/PooledTopNAlgorithm.java`
#### Snippet
```java
    if (INIT_POSITION_VALUE == positions[dimIndex]) {
      positions[dimIndex] = currentPosition * numBytesPerRecord;
      currentPosition++;
      final int pos = positions[dimIndex];
      for (int j = 0; j < aggSize; ++j) {
```

### AssignmentToMethodParameter
Assignment to method parameter `fields`
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
  )
  {
    fields = DimFilters.filterNulls(fields);
    Preconditions.checkArgument(fields.size() > 0, "AND operator requires at least one field");
    this.fields = fields;
```

### AssignmentToMethodParameter
Assignment to method parameter `input`
in `processing/src/main/java/org/apache/druid/query/filter/JavaScriptDimFilter.java`
#### Snippet
```java
    {
      if (extractionFn != null) {
        input = extractionFn.apply(input);
      }
      Object fnResult = fnApply.call(cx, scope, scope, new Object[]{input});
```

### AssignmentToMethodParameter
Assignment to method parameter `fields`
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
  public OrDimFilter(@JsonProperty("fields") List<DimFilter> fields)
  {
    fields = DimFilters.filterNulls(fields);
    Preconditions.checkArgument(fields.size() > 0, "OR operator requires at least one field");
    this.fields = fields;
```

### AssignmentToMethodParameter
Assignment to method parameter `metricValueObj`
in `processing/src/main/java/org/apache/druid/query/groupby/having/HavingSpecMetricComparator.java`
#### Snippet
```java
    if (metricValueObj != null) {
      if (aggregators != null && aggregators.containsKey(aggregationName)) {
        metricValueObj = aggregators.get(aggregationName).finalizeComputation(metricValueObj);
      }

```

### AssignmentToMethodParameter
Assignment to method parameter `pos`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
          minChild = findMinChild(comparator, minIndex);
        }
        pos = minIndex;
      } else {
        int offset = buf.getInt(pos * Integer.BYTES);
```

### AssignmentToMethodParameter
Assignment to method parameter `pos`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
        }
      }
      pos = grandparent;
      grandparent = getGrandparentIndex(pos);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `arg1`
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentMetadataQueryQueryToolChest.java`
#### Snippet
```java
      if (id1 != null && id2 != null && id2.getIntervalEnd().isAfter(id1.getIntervalEnd())) {
        final SegmentAnalysis tmp = arg1;
        arg1 = arg2;
        arg2 = tmp;
      }
```

### AssignmentToMethodParameter
Assignment to method parameter `arg2`
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentMetadataQueryQueryToolChest.java`
#### Snippet
```java
        final SegmentAnalysis tmp = arg1;
        arg1 = arg2;
        arg2 = tmp;
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `processing/src/main/java/org/apache/druid/query/extraction/StringFormatExtractionFn.java`
#### Snippet
```java
      }
      if (nullHandling == NullHandling.EMPTYSTRING) {
        value = "";
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `yielder`
in `processing/src/main/java/org/apache/druid/jackson/DruidDefaultSerializersModule.java`
#### Snippet
```java
                }

                yielder = yielder.next(null);
              }
              jgen.writeEndArray();
```

### AssignmentToMethodParameter
Assignment to method parameter `i`
in `processing/src/main/java/org/apache/druid/segment/MergingRowIterator.java`
#### Snippet
```java
      equalToChild[i] = childrenDiff == 0 || equalToChild[child];
      pQueue[i] = childIterator;
      i = child;
    }
    equalToChild[i] = false; // Since we exited from the above loop, there are no more children
```

### AssignmentToMethodParameter
Assignment to method parameter `multiValueHandling`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
    }

    multiValueHandling = multiValueHandling == null ? MultiValueHandling.ofDefault() : multiValueHandling;

    if (capabilities.is(ValueType.STRING)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `capabilities`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  {
    if (capabilities == null) {
      capabilities = DEFAULT_STRING_CAPABILITIES;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `capabilities`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
    // Complex dimension type is not supported
    if (capabilities.is(ValueType.COMPLEX)) {
      capabilities = DEFAULT_STRING_CAPABILITIES;
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `capabilities`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
    if (dimSpec.getExtractionFn() != null) {
      ExtractionFn fn = dimSpec.getExtractionFn();
      capabilities = ColumnCapabilitiesImpl.copyOf(capabilities)
                                           .setType(ColumnType.STRING)
                                           .setDictionaryValuesUnique(
```

### AssignmentToMethodParameter
Assignment to method parameter `capabilities`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
    if (capabilities.isNumeric()) {
      if (dimSpec.mustDecorate()) {
        capabilities = DEFAULT_STRING_CAPABILITIES;
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `capabilities`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  )
  {
    capabilities = getEffectiveCapabilities(dimSpec, capabilities);
    return strategyFactory.makeColumnSelectorStrategy(capabilities, selector);
  }
```

### AssignmentToMethodParameter
Assignment to method parameter `numBytesToPutInFile`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
      if (bytesRead != -1) {
        smooshChannel.write((ByteBuffer) holderBuffer.clear().limit(bytesRead));
        numBytesToPutInFile -= bytesRead;
      } else {
        throw new ISE("Could not write [%d] bytes into smooshChannel.", numBytesToPutInFile);
```

### AssignmentToMethodParameter
Assignment to method parameter `allowReverseLookup`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexed.java`
#### Snippet
```java
        T next = objects.next();
        if (allowReverseLookup && prevVal != null && !(strategy.compare(prevVal, next) < 0)) {
          allowReverseLookup = false;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `blockNumber`
in `processing/src/main/java/org/apache/druid/segment/serde/cell/BlockCompressedPayloadReader.java`
#### Snippet
```java
      currentUncompressedBlock.get(payload, bytesRead, readSizeBytes);
      bytesRead += readSizeBytes;
      blockNumber++;
      blockOffset = 0;
    } while (bytesRead < size);
```

### AssignmentToMethodParameter
Assignment to method parameter `blockOffset`
in `processing/src/main/java/org/apache/druid/segment/serde/cell/BlockCompressedPayloadReader.java`
#### Snippet
```java
      bytesRead += readSizeBytes;
      blockNumber++;
      blockOffset = 0;
    } while (bytesRead < size);

```

### AssignmentToMethodParameter
Assignment to method parameter `current`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
    // Push down NOT filters to leaves if possible to remove NOT on NOT filters and reduce hierarchy.
    // ex) ~(a OR ~b) => ~a AND b
    current = HiveCnfHelper.pushDownNot(current);
    // Flatten nested AND and OR filters if possible.
    // ex) a AND (b AND c) => a AND b AND c
```

### AssignmentToMethodParameter
Assignment to method parameter `current`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
    // Flatten nested AND and OR filters if possible.
    // ex) a AND (b AND c) => a AND b AND c
    current = HiveCnfHelper.flatten(current);
    // Pull up AND filters first to convert the filter into a conjunctive form.
    // It is important to pull before CNF conversion to not create a huge CNF.
```

### AssignmentToMethodParameter
Assignment to method parameter `current`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
    // It is important to pull before CNF conversion to not create a huge CNF.
    // ex) (a AND b) OR (a AND c AND d) => a AND (b OR (c AND d))
    current = CalciteCnfHelper.pull(current);
    // Convert filter to CNF.
    // a AND (b OR (c AND d)) => a AND (b OR c) AND (b OR d)
```

### AssignmentToMethodParameter
Assignment to method parameter `current`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
    // Convert filter to CNF.
    // a AND (b OR (c AND d)) => a AND (b OR c) AND (b OR d)
    current = HiveCnfHelper.convertToCnf(current);
    // Flatten again to remove any flattenable nested AND or OR filters created during CNF conversion.
    current = HiveCnfHelper.flatten(current);
```

### AssignmentToMethodParameter
Assignment to method parameter `current`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
    current = HiveCnfHelper.convertToCnf(current);
    // Flatten again to remove any flattenable nested AND or OR filters created during CNF conversion.
    current = HiveCnfHelper.flatten(current);
    return current;
  }
```

### AssignmentToMethodParameter
Assignment to method parameter `maxCNFFilterLimit`
in `processing/src/main/java/org/apache/druid/segment/filter/cnf/HiveCnfHelper.java`
#### Snippet
```java
        NonnullPair<Filter, Integer> result = convertToCnfWithLimit(child, maxCNFFilterLimit);
        children.add(result.lhs);
        maxCNFFilterLimit = result.rhs;
        if (maxCNFFilterLimit < 0) {
          throw new CNFFilterExplosionException("Exceeded maximum allowed filters for CNF (conjunctive normal form) conversion");
```

### AssignmentToMethodParameter
Assignment to method parameter `raw`
in `processing/src/main/java/org/apache/druid/segment/nested/StructuredDataProcessor.java`
#### Snippet
```java
  {
    Queue<Field> toProcess = new ArrayDeque<>();
    raw = StructuredData.unwrap(raw);
    ArrayList<NestedPathPart> newPath = new ArrayList<>();
    if (raw instanceof Map) {
```

### AssignmentToMethodParameter
Assignment to method parameter `off`
in `processing/src/main/java/org/apache/druid/segment/writeout/ByteBufferWriteOutBytes.java`
#### Snippet
```java
      headBuffer.put(b, off, headRemaining);
      int bytesLeft = len - headRemaining;
      off += headRemaining;
      for (; bytesLeft > 0; bytesLeft -= BUFFER_SIZE, off += BUFFER_SIZE) {
        nextHead();
```

### AssignmentToMethodParameter
Assignment to method parameter `off`
in `processing/src/main/java/org/apache/druid/segment/writeout/ByteBufferWriteOutBytes.java`
#### Snippet
```java
      int bytesLeft = len - headRemaining;
      off += headRemaining;
      for (; bytesLeft > 0; bytesLeft -= BUFFER_SIZE, off += BUFFER_SIZE) {
        nextHead();
        headBuffer.put(b, off, Math.min(BUFFER_SIZE, bytesLeft));
```

### AssignmentToMethodParameter
Assignment to method parameter `oneFillCurrent`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
  private int oneFillDoAdvance(int oneFillCurrent)
  {
    oneFillCurrent++;
    if (oneFillCurrent == oneFillException) {
      oneFillCurrent++;
```

### AssignmentToMethodParameter
Assignment to method parameter `oneFillCurrent`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
    oneFillCurrent++;
    if (oneFillCurrent == oneFillException) {
      oneFillCurrent++;
    }
    this.oneFillCurrent = oneFillCurrent;
```

### AssignmentToMethodParameter
Assignment to method parameter `a`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    ConciseSet res = empty();
    if (a != null) {
      a = Arrays.copyOf(a, a.length);
      Arrays.sort(a);
      for (int i : a) {
```

### AssignmentToMethodParameter
Assignment to method parameter `fillType`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    assert lastWordIndex >= -1;

    fillType &= ConciseSetUtils.SEQUENCE_BIT;

    // it is actually a literal...
```

### AssignmentToMethodParameter
Assignment to method parameter `row`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
  {
    for (Function<InputRow, InputRow> rowTransformer : rowTransformers) {
      row = rowTransformer.apply(row);
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `row`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
  IncrementalIndexRowResult toIncrementalIndexRow(InputRow row)
  {
    row = formatRow(row);
    if (row.getTimestampFromEpoch() < minTimestamp) {
      throw new IAE("Cannot add row[%s] because it is below the minTimestamp[%s]", row, DateTimes.utc(minTimestamp));
```

### AssignmentToMethodParameter
Assignment to method parameter `mergedPositions`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    // use preallocated arrays if passed
    if (mergedPositions == null) {
      mergedPositions = new float[this.size];
      mergedBins = new long[this.size];
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `mergedBins`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    if (mergedPositions == null) {
      mergedPositions = new float[this.size];
      mergedBins = new long[this.size];
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `mergedPositions`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    // use preallocated arrays if passed
    if (mergedPositions == null || mergedBins == null || deltas == null) {
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
      deltas = new float[maxSize];
```

### AssignmentToMethodParameter
Assignment to method parameter `mergedBins`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    if (mergedPositions == null || mergedBins == null || deltas == null) {
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
      deltas = new float[maxSize];
    } else {
```

### AssignmentToMethodParameter
Assignment to method parameter `deltas`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
      deltas = new float[maxSize];
    } else {
      Preconditions.checkArgument(
```

### AssignmentToMethodParameter
Assignment to method parameter `insertAt`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
      } else {
        shiftLeft(unusedIndex, insertAt - 1);
        insertAt--;
      }
      positions[insertAt] = v;
```

### AssignmentToMethodParameter
Assignment to method parameter `format`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/CatalogResource.java`
#### Snippet
```java
    try {
      SchemaSpec schema = validateSchema(schemaName, false);
      format = Strings.isNullOrEmpty(format) ? NAME_FORMAT : StringUtils.toLowerCase(format);
      switch (format) {
        case NAME_FORMAT:
```

### AssignmentToMethodParameter
Assignment to method parameter `format`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/CatalogResource.java`
#### Snippet
```java
  {
    try {
      format = Strings.isNullOrEmpty(format) ? NAME_FORMAT : StringUtils.toLowerCase(format);
      switch (format) {
        case NAME_FORMAT:
```

### AssignmentToMethodParameter
Assignment to method parameter `uri`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
  {
    if (uri.getScheme().equalsIgnoreCase(S3StorageDruidModule.SCHEME_S3_ZIP)) {
      uri = URI.create(SCHEME + uri.toString().substring(S3StorageDruidModule.SCHEME_S3_ZIP.length()));
    }
    return CloudObjectLocation.validateUriScheme(SCHEME, uri);
```

### AssignmentToMethodParameter
Assignment to method parameter `inputPath`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Utils.java`
#### Snippet
```java
      Class<? extends CompressionCodec> codecClass = FileOutputFormat.getOutputCompressorClass(job, GzipCodec.class);
      CompressionCodec codec = ReflectionUtils.newInstance(codecClass, job.getConfiguration());
      inputPath = new Path(inputPath + codec.getDefaultExtension());

      return codec.createInputStream(fileSystem.open(inputPath));
```

### AssignmentToMethodParameter
Assignment to method parameter `outputPath`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Utils.java`
#### Snippet
```java
      codecClass = FileOutputFormat.getOutputCompressorClass(job, GzipCodec.class);
      codec = ReflectionUtils.newInstance(codecClass, job.getConfiguration());
      outputPath = new Path(outputPath + codec.getDefaultExtension());
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `path`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  {
    if (path.toUri().getScheme() == null) {
      path = fs.makeQualified(path);
    }
    return path;
```

### AssignmentToMethodParameter
Assignment to method parameter `ret`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
  {
    if (ret == null) {
      ret = getDefault.get();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `queryGranularity`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
    {
      if (queryGranularity == null && current != null) {
        queryGranularity = current;
      } else if (queryGranularity != null
                 && current != null
```

### AssignmentToMethodParameter
Assignment to method parameter `queryGranularity`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
                 && current != null
                 && Granularity.IS_FINER_THAN.compare(current, queryGranularity) < 0) {
        queryGranularity = current;
      }
      // we never propagate nulls when there is at least one non-null granularity thus
```

### AssignmentToMethodParameter
Assignment to method parameter `operation`
in `extensions-contrib/gce-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/gce/GceAutoScaler.java`
#### Snippet
```java
          opId
      );
      operation = get.execute();
      if (operation != null) {
        status = operation.getStatus();
```

### AssignmentToMethodParameter
Assignment to method parameter `segment`
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentPusher.java`
#### Snippet
```java
    }

    segment = segment.withSize(indexSize)
                     .withLoadSpec(ImmutableMap.of("type", "c*", "key", key))
                     .withBinaryVersion(version);
```

### AssignmentToMethodParameter
Assignment to method parameter `timestamp`
in `extensions-contrib/influx-extensions/src/main/java/org/apache/druid/data/input/influx/InfluxParser.java`
#### Snippet
```java
      dest.put(TIMESTAMP_KEY, 0L);
    } else {
      timestamp = timestamp.substring(0, timestamp.length() - 6);
      final long timestampMillis = Long.valueOf(timestamp);
      dest.put(TIMESTAMP_KEY, timestampMillis);
```

### AssignmentToMethodParameter
Assignment to method parameter `flushPeriod`
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitterConfig.java`
#### Snippet
```java
        Preconditions.checkArgument(flushPeriod > 0, "flushPeriod must be greater than 0.");
      } else {
        flushPeriod = 15;
      }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `accumulated`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/BucketingAccumulator.java`
#### Snippet
```java
      // first row, initializing
      rows = new ArrayList<>();
      accumulated = new RowBucket(in.getTimestamp(), rows);
    } else if (accumulated.getNextBucket() != null) {
      accumulated = accumulated.getNextBucket();
```

### AssignmentToMethodParameter
Assignment to method parameter `accumulated`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/BucketingAccumulator.java`
#### Snippet
```java
      accumulated = new RowBucket(in.getTimestamp(), rows);
    } else if (accumulated.getNextBucket() != null) {
      accumulated = accumulated.getNextBucket();
    }

```

### AssignmentToMethodParameter
Assignment to method parameter `basePath`
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesUtils.java`
#### Snippet
```java
      int lastSlashIndex = basePath.lastIndexOf('/');
      if (lastSlashIndex != -1) {
        basePath = basePath.substring(0, lastSlashIndex);
      }
      path = basePath + "/" + fileName;
```

### AssignmentToMethodParameter
Assignment to method parameter `uri`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssUtils.java`
#### Snippet
```java
  {
    if (uri.getScheme().equalsIgnoreCase(OssStorageDruidModule.SCHEME_ZIP)) {
      uri = URI.create(SCHEME + uri.toString().substring(OssStorageDruidModule.SCHEME_ZIP.length()));
    }
    return CloudObjectLocation.validateUriScheme(SCHEME, uri);
```

## RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `druidConnection`
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidMeta.java`
#### Snippet
```java
      // This method is called directly from the Avatica server: it does not go
      // through the connection first. We must lock the connection here to prevent race conditions.
      synchronized (druidConnection) {
        final AuthenticationResult authenticationResult = doAuthenticate(druidConnection);
        final SqlQueryPlus sqlRequest = SqlQueryPlus.builder(sql)
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `holder`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            final InventoryClass addedInventory = strategy.deserializeInventory(data);

            synchronized (holder) {
              holder.setContainer(strategy.addInventory(holder.getContainer(), inventoryKey, addedInventory));
            }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `holder`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            final InventoryClass updatedInventory = strategy.deserializeInventory(data);

            synchronized (holder) {
              holder.setContainer(strategy.updateInventory(holder.getContainer(), inventoryKey, updatedInventory));
            }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `holder`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            log.debug("CHILD_REMOVED[%s] with version[%s]", child.getPath(), event.getData().getStat().getVersion());

            synchronized (holder) {
              holder.setContainer(strategy.removeInventory(holder.getContainer(), inventoryKey));
            }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `holder`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            // make sure to acquire locks in (lock -> holder) order
            synchronized (lock) {
              synchronized (holder) {
                markInventoryInitialized(holder);
              }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `removed`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java

            // also remove node from uninitilized, in case a nodes gets removed while we are starting up
            synchronized (removed) {
              markInventoryInitialized(removed);
            }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `holder`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
              log.error("Container update[%s], but the old container didn't exist!?  Ignoring.", child.getPath());
            } else {
              synchronized (holder) {
                holder.setContainer(strategy.updateContainer(holder.getContainer(), container));
              }
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `holder`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            // must await initialized of all container holders
            for (ContainerHolder holder : containers.values()) {
              synchronized (holder) {
                if (!holder.initialized) {
                  uninitializedInventory.add(holder);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `lock`
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLocalCacheManager.java`
#### Snippet
```java
  {
    final ReferenceCountingLock lock = createOrGetLock(segment);
    synchronized (lock) {
      try {
        File segmentDir = findStoragePathIfCached(segment);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `lock`
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLocalCacheManager.java`
#### Snippet
```java

    final ReferenceCountingLock lock = createOrGetLock(segment);
    synchronized (lock) {
      try {
        File loc = findStoragePathIfCached(segment);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `lock`
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLocalCacheManager.java`
#### Snippet
```java
  {
    final ReferenceCountingLock lock = createOrGetLock(segment);
    synchronized (lock) {
      try {
        String storageDir = getSegmentDir(segment);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `lock`
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLocalCacheManager.java`
#### Snippet
```java
  {
    final ReferenceCountingLock lock = createOrGetLock(segment);
    synchronized (lock) {
      try {
        // May be the segment was already loaded [This check is required to account for restart scenarios]
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `lock`
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLocalCacheManager.java`
#### Snippet
```java
        () -> {
          final ReferenceCountingLock lock = createOrGetLock(segment);
          synchronized (lock) {
            try {
              for (StorageLocation location : locations) {
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `indexToPersist`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  )
  {
    synchronized (indexToPersist) {
      if (indexToPersist.hasSwapped()) {
        log.info(
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `hydrant`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
             */
              for (FireHydrant hydrant : sink) {
                synchronized (hydrant) {
                  if (!hydrant.hasSwapped()) {
                    log.info("Hydrant[%s] hasn't swapped yet, swapping. Sink[%s]", hydrant, sink);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `hydrant`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
      }

      synchronized (hydrant) {
        if (!hydrant.hasSwapped()) {
          throw new ISE("Expected sink to be fully persisted before mergeAndPush for segment[%s].", identifier);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `indexToPersist`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
  private int persistHydrant(FireHydrant indexToPersist, SegmentIdWithShardSpec identifier)
  {
    synchronized (indexToPersist) {
      if (indexToPersist.hasSwapped()) {
        log.info(
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `hydrant`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
      }

      synchronized (hydrant) {
        if (!hydrant.hasSwapped()) {
          throw new ISE("Expected sink to be fully persisted before mergeAndPush for segment[%s].", identifier);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `indexToPersist`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
  private int persistHydrant(FireHydrant indexToPersist, SegmentIdWithShardSpec identifier)
  {
    synchronized (indexToPersist) {
      if (indexToPersist.hasSwapped()) {
        log.info(
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `tlGrouper`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
    } else if (spilling) {
      // Switch to thread-local grouping after spilling starts. No thread contention.
      synchronized (tlGrouper) {
        tlGrouper.setSpillingAllowed(true);
        return tlGrouper.aggregate(key, keyHash);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `subGrouper`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
      final SpillingGrouper<KeyType> subGrouper = groupers.get(grouperNumberForKeyHash(keyHash));

      synchronized (subGrouper) {
        if (subGrouper.isSpillingAllowed() && subGrouper != tlGrouper) {
          // Another thread already started treating this grouper as its thread-local grouper. So, switch to ours.
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `tlGrouper`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
      }

      synchronized (tlGrouper) {
        assert spilling;
        tlGrouper.setSpillingAllowed(true);
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `agg`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
        agg = aggs[i];
      }
      synchronized (agg) {
        try {
          if (useMaxMemoryEstimates) {
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `key`
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OffHeapLoadingCache.java`
#### Snippet
```java
  public V get(K key, final Callable<? extends V> valueLoader)
  {
    synchronized (key) {
      V value = cache.get(key);
      if (value != null) {
```

## RuleId[ruleID=ReturnNull]
### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/http/SqlQuery.java`
#### Snippet
```java
                     // we pass them to the planner, so that it can generate a proper error message.
                     // see SqlParameterizerShuttle and RelParameterizerShuttle.
                     .map(p -> p == null ? null : p.getTypedValue())
                     .collect(Collectors.toList());
  }
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidJdbcResultSet.java`
#### Snippet
```java
              theYielder.close();
              // makes this a Callable instead of Runnable so we don't need to catch exceptions inside the lambda
              return null;
            }
        ).get();
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidMeta.java`
#### Snippet
```java
  {
    // Avatica calls this but ignores the return value.
    return null;
  }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java
      if (project == null) {
        // We need some kind of projection to support filtered aggregations.
        return null;
      }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java
      );
      if (nonOptimizedFilter == null) {
        return null;
      } else {
        filter = Filtration.create(nonOptimizedFilter)
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java

    if (sqlAggregator == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java

    if (retVal == null) {
      return null;
    } else {
      // Check if this refers to the existingAggregationsWithSameFilter. If so, no need to apply the filter.
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
      return ((ComparableList) value).getDelegate();
    } else if (mustCoerce) {
      return null;
    }
    return value;
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/AbstractTableSchema.java`
#### Snippet
```java
  public RelProtoDataType getType(String name)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/AbstractTableSchema.java`
#### Snippet
```java
  public Schema getSubSchema(String name)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/AbstractTableSchema.java`
#### Snippet
```java
  public Expression getExpression(SchemaPlus parentSchema, String name)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/DruidSchema.java`
#### Snippet
```java
    } else {
      DatasourceTable.PhysicalDatasourceMetadata dsMetadata = segmentCache.getDatasource(name);
      return dsMetadata == null ? null : new DatasourceTable(dsMetadata);
    }
  }
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/external/ExternalDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerFactory.java`
#### Snippet
```java
              };
            } else {
              return null;
            }
          }
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/ExtractionFns.java`
#### Snippet
```java
  {
    if (queryGranularity == null) {
      return null;
    } else {
      return new TimeFormatExtractionFn(null, null, null, queryGranularity, true);
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/ExtractionFns.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/QueryLookupOperatorConversion.java`
#### Snippet
```java
            );
          } else {
            return null;
          }
        }
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/TimeArithmeticOperatorConversion.java`
#### Snippet
```java
              leftExpr,
              rightExpr.map(
                  simpleExtraction -> null,
                  expression ->
                    rightRexNode.isA(SqlKind.LITERAL) ?
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/Expressions.java`
#### Snippet
```java
    if (conversion == null) {
      plannerContext.setPlanningError("SQL query requires '%s' operator that is not supported.", operator.getName());
      return null;
    } else {

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/RegexpExtractOperatorConversion.java`
#### Snippet
```java
            );
          } else {
            return null;
          }
        }
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/Aggregations.java`
#### Snippet
```java
    final DruidExpression druidExpression = Expressions.toDruidExpression(plannerContext, rowSignature, rexNode);
    if (druidExpression == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/Aggregations.java`
#### Snippet
```java
      // Aggregators are unable to implicitly cast strings to numbers.
      // So remove the simple extraction, which forces the expression to be used instead of the direct column access.
      return druidExpression.map(simpleExtraction -> null, Function.identity());
    } else {
      return druidExpression;
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/MaxSqlAggregator.java`
#### Snippet
```java
    final ColumnType valueType = Calcites.getColumnTypeForRelDataType(aggregateCall.getType());
    if (valueType == null) {
      return null;
    }
    return Aggregation.create(createMaxAggregatorFactory(valueType.getType(), name, fieldName, macroTable));
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java
  {
    if (bound.getUpper() != null && bound.getLower() != null) {
      return null;
    } else if (bound.getUpper() != null) {
      return new BoundDimFilter(
```

### ReturnNull
Return of `null`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/SumSqlAggregator.java`
#### Snippet
```java
    final ColumnType valueType = Calcites.getColumnTypeForRelDataType(aggregateCall.getType());
    if (valueType == null) {
      return null;
    }
    return Aggregation.create(createSumAggregatorFactory(valueType.getType(), name, fieldName, macroTable));
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/data/input/StringTuple.java`
#### Snippet
```java
  public static String firstOrNull(StringTuple tuple)
  {
    return tuple == null || tuple.size() < 1 ? null : tuple.get(0);
  }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/data/input/impl/TimestampSpec.java`
#### Snippet
```java
  {
    if (toMerge == null || toMerge.size() == 0) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/data/input/impl/TimestampSpec.java`
#### Snippet
```java
      }
      if (!Objects.equals(result, toMerge.get(i))) {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/data/input/impl/ParseSpec.java`
#### Snippet
```java
  public Parser<String, Object> makeParser()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/data/input/impl/FastJacksonJsonNodeJsonProvider.java`
#### Snippet
```java
  {
    if (obj == null) {
      return null;
    } else {
      ObjectNode jsonObject = (ObjectNode) obj;
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/data/input/impl/FastJacksonJsonNodeJsonProvider.java`
#### Snippet
```java
      Object o = jsonObject.get(key);
      if (!jsonObject.has(key)) {
        return null;
      } else {
        return unwrap(o);
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/JodaUtils.java`
#### Snippet
```java
  {
    if (times == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/JodaUtils.java`
#### Snippet
```java
    switch (times.length) {
      case 0:
        return null;
      case 1:
        return times[0];
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/JodaUtils.java`
#### Snippet
```java
  {
    if (times == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/JodaUtils.java`
#### Snippet
```java
    switch (times.length) {
      case 0:
        return null;
      case 1:
        return times[0];
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
    final Metadata metadata = internalFiles.get(name);
    if (metadata == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/guava/Yielders.java`
#### Snippet
```java
      public Yielder<T> next(T initValue)
      {
        return null;
      }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/guava/Sequence.java`
#### Snippet
```java
        (accumulated, in) -> {
          action.accept(in);
          return null;
        }
    );
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/config/DurationCoercible.java`
#### Snippet
```java
  {
    if (Duration.class != clazz) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/JSONPathParser.java`
#### Snippet
```java
  public List<String> getFieldNames()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/JSONFlattenerMaker.java`
#### Snippet
```java
      for (String keyName : keyNames) {
        if (targetNode == null) {
          return null;
        }
        targetNode = targetNode.get(keyName);
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/GranularityType.java`
#### Snippet
```java
    if (dateValuePositions == 0) {
      // All or None granularity
      return null;
    }
    for (int i = 1; i <= dateValuePositions; i++) {
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/GranularityType.java`
#### Snippet
```java
    for (int i = 1; i <= dateValuePositions; i++) {
      if (vals[i] == null) {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
    }

    return null;
  }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularity.java`
#### Snippet
```java
  {
    if (toMerge == null || toMerge.size() == 0) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularity.java`
#### Snippet
```java
    for (int i = 1; i < toMerge.size(); i++) {
      if (!Objects.equals(result, toMerge.get(i))) {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
    Batch result = buffersToEmit.pollFirst();
    if (result == null) {
      return null;
    }
    approximateBuffersToEmitCount.decrementAndGet();
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/java/util/metrics/KeyedDiff.java`
#### Snippet
```java
    } else {
      log.debug("No previous data for key[%s]", key);
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
  public static Supplier<Expr> lazyParse(@Nullable String in, ExprMacroTable macroTable)
  {
    return Suppliers.memoize(() -> in == null ? null : Parser.parse(in, macroTable));
  }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/guice/LifecycleScope.java`
#### Snippet
```java
              catch (Exception e) {
                log.warn(e, "Caught exception when trying to create a[%s]", key);
                return null;
              }
            }
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/guice/GuiceAnnotationIntrospector.java`
#### Snippet
```java
  {
    if (m.getAnnotation(JacksonInject.class) == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/guice/GuiceInjectableValues.java`
#### Snippet
```java
    // great care
    if (nullables.get().contains((Key) valueId)) {
      return null;
    } else if (valueId instanceof Key) {
      try {
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/guice/GuiceInjectableValues.java`
#### Snippet
```java
          encounteredNullables.add((Key) valueId);
          nullables.set(encounteredNullables);
          return null;
        }
        throw ce;
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/common/exception/AllowedRegexErrorResponseTransformStrategy.java`
#### Snippet
```java
        return errorMessage;
      } else {
        return null;
      }
    };
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageTablesConfig.java`
#### Snippet
```java
    if (explicitTableName == null) {
      if (base == null) {
        return null;
      }
      return StringUtils.format("%s_%s", base, defaultSuffix);
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageConnectorConfig.java`
#### Snippet
```java
  public String getPassword()
  {
    return passwordProvider == null ? null : passwordProvider.getPassword();
  }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/concurrent/TaskThreadPriority.java`
#### Snippet
```java
  {
    if (taskPriority == 0) {
      return null;
    }
    int finalPriority = taskPriority + Thread.NORM_PRIORITY;
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
    public V get(short key)
    {
      return this.key == key ? val : null;
    }

```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
        this.key = key;
        this.val = value;
        return null;
      } else {
        if (this.key == key) {
```

### ReturnNull
Return of `null`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
        return val;
      } else {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/guice/http/DruidHttpClientConfig.java`
#### Snippet
```java
  public Duration getReadTimeout()
  {
    return readTimeout == null ? null : readTimeout.toStandardDuration();
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/guice/http/DruidHttpClientConfig.java`
#### Snippet
```java
      );
    }
    return unusedConnectionTimeout == null ? null : unusedConnectionTimeout.toStandardDuration();
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/query/ResultLevelCachingQueryRunner.java`
#### Snippet
```java
  {
    if (cachedResult == null) {
      return null;
    }
    log.debug("Fetching result level cache identifier for query: %s", query.getId());
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/query/ResultLevelCachingQueryRunner.java`
#### Snippet
```java
      catch (IOException ioe) {
        log.error(ioe, "Failed to write cached values for query %s", query.getId());
        return null;
      }
      return resultLevelCachePopulator;
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/query/ResultLevelCachingQueryRunner.java`
#### Snippet
```java
      return resultLevelCachePopulator;
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/client/DruidServer.java`
#### Snippet
```java
    DruidDataSource dataSource = dataSources.get(segmentId.getDataSource());
    if (dataSource == null) {
      return null;
    }
    return dataSource.getSegment(segmentId);
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
              );
            }
            return null;
          },
          e -> true,
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
      if (queryableDruidServer == null) {
        log.error("No QueryableDruidServer found for %s", server.getName());
        return null;
      }
      return queryableDruidServer.getQueryRunner();
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/client/cache/LZ4Transcoder.java`
#### Snippet
```java
      decompressor.decompress(in, Integer.BYTES, out, 0, out.length);
    }
    return out == null ? null : out;
  }
}
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/client/cache/CaffeineCache.java`
#### Snippet
```java
  {
    if (bytes == null) {
      return null;
    }
    final int decompressedLen = ByteBuffer.wrap(bytes).getInt();
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/NoopQuerySegmentWalker.java`
#### Snippet
```java
  public <T> QueryRunner<T> getQueryRunnerForSegments(Query<T> query, Iterable<SegmentDescriptor> specs)
  {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/NoopQuerySegmentWalker.java`
#### Snippet
```java
  public <T> QueryRunner<T> getQueryRunnerForIntervals(Query<T> query, Iterable<Interval> intervals)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      return HostAndPort.fromParts(host, tlsPort).toString();
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/http/CoordinatorRedirectInfo.java`
#### Snippet
```java
      final String leader = coordinator.getCurrentLeader();
      if (leader == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/http/security/AbstractResourceFilter.java`
#### Snippet
```java
  public ContainerResponseFilter getResponseFilter()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
  {
    if (nodeIds.isEmpty()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/router/ConsistentHashAvaticaConnectionBalancer.java`
#### Snippet
```java
    synchronized (hasher) {
      if (servers.isEmpty()) {
        return null;
      }
      Map<String, Server> serverMap = new HashMap<>();
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/router/RendezvousHashAvaticaConnectionBalancer.java`
#### Snippet
```java
  {
    if (servers.isEmpty()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  {
    if (nodeKeySlots.size() == 0) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/emitter/EmitterModule.java`
#### Snippet
```java
        }
      }
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/AllowAllAuthenticator.java`
#### Snippet
```java
  public Map<String, String> getInitParameters()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/AllowAllAuthenticator.java`
#### Snippet
```java
  public Class<? extends Filter> getFilterClass()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/AnonymousAuthenticator.java`
#### Snippet
```java
  public Map<String, String> getInitParameters()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/AnonymousAuthenticator.java`
#### Snippet
```java
  public Class<? extends Filter> getFilterClass()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/Action.java`
#### Snippet
```java
  {
    if (name == null) {
      return null;
    }
    return valueOf(StringUtils.toUpperCase(name));
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/TLSCertificateCheckerModule.java`
#### Snippet
```java
        }
      }
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/TrustedDomainAuthenticator.java`
#### Snippet
```java
  public Class<? extends Filter> getFilterClass()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/security/TrustedDomainAuthenticator.java`
#### Snippet
```java
  public Map<String, String> getInitParameters()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/coordinator/RoundRobinServerSelector.java`
#### Snippet
```java
      }

      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
                    catch (InterruptedException ex) {
                      LOG.warn(ex, "lookup management on node [%s:%s:%s] interrupted.", node.getScheme(), node.getHostText(), node.getPort());
                      return null;
                    }
                    catch (Exception ex) {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
                          node.getPort()
                      ).emit();
                      return null;
                    }
                  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/coordinator/ReservoirSegmentSampler.java`
#### Snippet
```java
      return new BalancerSegmentHolder(fromServerHolder.getServer(), proposalSegment);
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillUnusedSegments.java`
#### Snippet
```java

    if (CollectionUtils.isNullOrEmpty(unusedSegmentIntervals)) {
      return null;
    } else if (unusedSegmentIntervals.size() == 1) {
      return unusedSegmentIntervals.get(0);
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
    if (params.getRoundRobinServerSelector() == null
        || !params.getCoordinatorDynamicConfig().isUseRoundRobinSegmentAssignment()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyBindings.java`
#### Snippet
```java
    public String getPath()
    {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
  {
    if (value == null) {
      return null;
    }
    return Arrays.asList(value.split(",\\s*"));
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
  {
    if (value == null) {
      return null;
    }
    try {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/Columns.java`
#### Snippet
```java
  {
    if (sqlType == null) {
      return null;
    }
    return SQL_TO_DRUID_TYPES.get(StringUtils.toUpperCase(sqlType));
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/table/HttpTableDefn.java`
#### Snippet
```java
  {
    if (value == null) {
      return null;
    }
    List<String> list;
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/facade/DatasourceFacade.java`
#### Snippet
```java
  {
    String value = stringProperty(AbstractDatasourceDefn.SEGMENT_GRANULARITY_PROPERTY);
    return value == null ? null : CatalogUtils.asDruidGranularity(value);
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
  protected InputFormat convertFormat(ResolvedTable table)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/facade/ColumnFacade.java`
#### Snippet
```java
  {
    String sqlType = column.spec().sqlType();
    return sqlType == null ? null : Columns.druidType(sqlType);
  }
}
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
    {
      if (value == null) {
        return null;
      }
      try {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
    {
      if (value == null) {
        return null;
      }
      try {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/catalog/model/ModelProperties.java`
#### Snippet
```java
    {
      if (value == null) {
        return null;
      }
      try {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoveryFactory.java`
#### Snippet
```java
    public Collection<ServiceInstance<T>> getAllInstances()
    {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoveryFactory.java`
#### Snippet
```java
    public ServiceInstance<T> getInstance()
    {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
      public CountDownLatch startImmediate()
      {
        return null;
      }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
    public ServiceInstance<T> queryForInstance(String name, String id)
    {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
    public ServiceInstance<T> getInstance()
    {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/loading/LocalFileTimestampVersionFinder.java`
#### Snippet
```java
    catch (Exception e) {
      if (e instanceof FileNotFoundException) {
        return null;
      }
      throw new RuntimeException(e);
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    File baseDir = computeBaseDir(schema);
    if (baseDir == null || !baseDir.exists()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    File[] files = baseDir.listFiles();
    if (files == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  {
    if (!rejectionPolicy.accept(timestamp)) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  {
    if (!rejectionPolicy.accept(timestamp)) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
            log.info("Persist is done.");
          }
          return null;
        }
    );
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    lockBasePersistDirectory();
    initializeExecutors();
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorSpec.java`
#### Snippet
```java
  default SupervisorTaskAutoScaler createAutoscaler(Supervisor supervisor)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
      return objectMapper.readValue(commitFile, Committed.class);
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    final File baseDir = tuningConfig.getBasePersistDirectory();
    if (!baseDir.exists()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    final File[] files = baseDir.listFiles();
    if (files == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
                commitLock.unlock();
              }
              return null;
            }
        );
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/NoopSupervisorSpec.java`
#### Snippet
```java
      public SupervisorReport getStatus()
      {
        return null;
      }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
                commitLock.unlock();
              }
              return null;
            }
        );
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    final File baseDir = tuningConfig.getBasePersistDirectory();
    if (!baseDir.exists()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    final File[] files = baseDir.listFiles();
    if (files == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
      return objectMapper.readValue(commitFile, Committed.class);
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java

      if (segmentsForSequence == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
        if (segmentsOfInterval.interval.contains(timestamp)) {
          return segmentsOfInterval.appendingSegment == null ?
                 null :
                 segmentsOfInterval.appendingSegment.getSegmentIdentifier();
        } else {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
                 segmentsOfInterval.appendingSegment.getSegmentIdentifier();
        } else {
          return null;
        }
      } else {
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
        }
      } else {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/metadata/input/SqlEntity.java`
#### Snippet
```java
            jg.writeEndArray();
            jg.close();
            return null;
          },
          (exception) -> sqlFirehoseDatabaseConnector.isTransientException(exception)
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
                          // If one entry in database is corrupted doPoll() should continue to work overall. See
                          // filter by `Objects::nonNull` below in this method.
                          return null;
                        }
                      }
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
                      } else {
                        // We emit nulls for used segments. They are filtered out below in this method.
                        return null;
                      }
                    }
```

### ReturnNull
Return of `null`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
  private static <T> void evaluateSequenceForSideEffects(final Sequence<T> sequence)
  {
    sequence.accumulate(null, (accumulated, in) -> null);
  }
}
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
              if (!segmentResultIterator.hasNext()) {
                unknownSegmentIds.add(segmentId);
                return null;
              } else {
                @Nullable DataSegment segment = segmentResultIterator.next();
```

### ReturnNull
Return of `null`
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java

      if (currNodes.size() == 0) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/frame/read/FrameReaderUtils.java`
#### Snippet
```java
            return (MemoryRange<Memory>) memorySelector.getObject();
          } else {
            return null;
          }
        }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
      if (canReadError()) {
        // This map will be a no-op since we're guaranteed that the next chunk is an error.
        final Throwable t = chunks.remove(0).map(bytes -> null).error();
        Throwables.propagateIfPossible(t);
        throw new RuntimeException(t);
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/InlineDataSource.java`
#### Snippet
```java
        return row -> row[columnNumber];
      } else {
        return row -> null;
      }
    };
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/InlineDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/UnnestDataSource.java`
#### Snippet
```java
    // Future development should use the table name and column came to
    // create an appropriate cac
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/MetricValueExtractor.java`
#### Snippet
```java
  {
    final Object retVal = value.get(name);
    return retVal == null ? null : ((Number) retVal).doubleValue();
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/MetricValueExtractor.java`
#### Snippet
```java
  {
    final Object retVal = value.get(name);
    return retVal == null ? null : ((Number) retVal).longValue();
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/MetricValueExtractor.java`
#### Snippet
```java
  {
    final Object retVal = value.get(name);
    return retVal == null ? null : ((Number) retVal).floatValue();
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/LookupDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/QueryDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/QueryContext.java`
#### Snippet
```java
    final String granularityString = getString(key);
    if (granularityString == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/UnionDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/QueryContexts.java`
#### Snippet
```java
  {
    if (value == null) {
      return null;
    } else if (value instanceof Number) {
      return ((Number) value).floatValue();
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/lookup/LookupSegment.java`
#### Snippet
```java
              return Map.Entry::getValue;
            } else {
              return row -> null;
            }
          }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/lookup/LookupSnapshotTaker.java`
#### Snippet
```java
          out -> {
            objectMapper.writeValue(out, lookups);
            return null;
          }
      );
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
    final OrderByColumnSpec orderBy = OrderByColumnSpec.getOrderByForDimName(limitSpec.getColumns(), dimName);
    if (orderBy == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/metadata/metadata/ColumnAnalysis.java`
#### Snippet
```java
  {
    if (obj1 == null) {
      return max ? obj2 : null;
    }
    if (obj2 == null) {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/metadata/metadata/ColumnAnalysis.java`
#### Snippet
```java
    }
    if (obj2 == null) {
      return max ? obj1 : null;
    }
    int compare = max ? obj1.compareTo(obj2) : obj2.compareTo(obj1);
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/operator/LimitedRowsAndColumns.java`
#### Snippet
```java
      public <T> T as(Class<? extends T> clazz)
      {
        return null;
      }
    };
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/metadata/metadata/SegmentMetadataQuery.java`
#### Snippet
```java
  public DimFilter getFilter()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/dimension/PrefixFilteredDimensionSpec.java`
#### Snippet
```java
  {
    if (selector == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/dimension/RegexFilteredDimensionSpec.java`
#### Snippet
```java
  {
    if (selector == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
  {
    if (input == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/dimension/ListFilteredDimensionSpec.java`
#### Snippet
```java
  {
    if (selector == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/extraction/SubstringDimExtractionFn.java`
#### Snippet
```java
  public Integer getLength()
  {
    return end > -1 ? end - index : null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/extraction/TimeFormatExtractionFn.java`
#### Snippet
```java
      return locale.toLanguageTag();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/extraction/CascadeExtractionFn.java`
#### Snippet
```java
        public String apply(long value)
        {
          return null;
        }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryEngine.java`
#### Snippet
```java
                    if (emptyBucket && skipEmptyBuckets) {
                      // Return null, will get filtered out later by the Objects::nonNull filter.
                      return null;
                    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
            final int columnIndex = signature.indexOf(columnName);
            if (columnIndex < 0) {
              return row -> null;
            } else {
              return row -> row.get(columnIndex);
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        case LONG:
          return (InputRawSupplierColumnSelectorStrategy<BaseLongColumnValueSelector>)
              columnSelector -> () -> columnSelector.isNull() ? null : columnSelector.getLong();
        case FLOAT:
          return (InputRawSupplierColumnSelectorStrategy<BaseFloatColumnValueSelector>)
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        case FLOAT:
          return (InputRawSupplierColumnSelectorStrategy<BaseFloatColumnValueSelector>)
              columnSelector -> () -> columnSelector.isNull() ? null : columnSelector.getFloat();
        case DOUBLE:
          return (InputRawSupplierColumnSelectorStrategy<BaseDoubleColumnValueSelector>)
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        case DOUBLE:
          return (InputRawSupplierColumnSelectorStrategy<BaseDoubleColumnValueSelector>)
              columnSelector -> () -> columnSelector.isNull() ? null : columnSelector.getDouble();
        case ARRAY:
          switch (capabilities.getElementType().getType()) {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        IndexedInts index = selector.getRow();
        return index.size() == 0
               ? null
               : selector.lookupName(index.get(0));
      };
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstLastUtils.java`
#### Snippet
```java
    } else {
      // Don't aggregate nulls.
      return null;
    }

```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
          overallMaxId
      );
      return null;
    } else if (committedMaxId != null
               && committedMaxId.getShardSpec().getNumCorePartitions()
```

### ReturnNull
Return of `null`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
          committedMaxId.getShardSpec()
      );
      return null;
    } else {
      // The number of core partitions must always be chosen from the set of used segments in the SegmentTimeline.
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/column/ObjectArrayColumn.java`
#### Snippet
```java
  public <T> T as(Class<? extends T> clazz)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/column/ConstantObjectColumn.java`
#### Snippet
```java
  public <T> T as(Class<? extends T> clazz)
  {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/column/DoubleArrayColumn.java`
#### Snippet
```java
  public <T> T as(Class<? extends T> clazz)
  {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/column/IntArrayColumn.java`
#### Snippet
```java
  public <T> T as(Class<? extends T> clazz)
  {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/column/ColumnAccessorBasedColumn.java`
#### Snippet
```java
  public <T> T as(Class<? extends T> clazz)
  {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/ArrayListRowsAndColumns.java`
#### Snippet
```java
      public <T> T as(Class<? extends T> clazz)
      {
        return null;
      }
    };
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/ConcatRowsAndColumns.java`
#### Snippet
```java
    public <T> T as(Class<? extends T> clazz)
    {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultNaiveSortMaker.java`
#### Snippet
```java
    {
      racBuffer.add(rac);
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/timeboundary/TimeBoundaryQueryRunnerFactory.java`
#### Snippet
```java
      }

      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/query/datasourcemetadata/DataSourceMetadataQuery.java`
#### Snippet
```java
  public DimFilter getFilter()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/jackson/JodaStuff.java`
#### Snippet
```java
        String str = jp.getText().trim();
        if (str.length() == 0) { // [JACKSON-360]
          return null;
        }
        // make sure to preserve time zone information when parsing timestamps
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/jackson/DruidDefaultSerializersModule.java`
#### Snippet
```java
                      throw new RuntimeException(e);
                    }
                    return null;
                  }
                }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/RowCombiningTimeAndDimsIterator.java`
#### Snippet
```java
        originalIteratorIndex -> {
          TransformableRowIterator originalIterator = mergingIterator.getOriginalIterator(originalIteratorIndex);
          return originalIterator != null ? originalIterator.getMarkedPointer() : null;
        }
    );
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/RowCombiningTimeAndDimsIterator.java`
#### Snippet
```java
            );
          } else {
            return null;
          }
        }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  {
    if (obj == null) {
      return null;
    }
    if (obj instanceof List) {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexed.java`
#### Snippet
```java
        if (hasNull && currIndex == 0) {
          currIndex++;
          return null;
        }
        if (!hasNext()) {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableMemory.java`
#### Snippet
```java
  public Object getArray()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
        if (pos == 0 && hasNulls) {
          pos++;
          return null;
        }
        if (pos == startPos || iteratorBuffer.position() >= iteratorBuffer.limit()) {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableBuffer.java`
#### Snippet
```java
  public Object getArray()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java

    this.keyColumnsIndexes = indexBuilders.stream()
                                          .map(builder -> builder != null ? builder.build() : null)
                                          .collect(Collectors.toList());

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupColumnSelectorFactory.java`
#### Snippet
```java
      supplierToUse = () -> {
        final Pair<String, String> entry = currentEntry.get();
        return entry != null ? entry.lhs : null;
      };
    } else if (VALUE_COLUMN.equals(dimensionSpec.getDimension())) {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupColumnSelectorFactory.java`
#### Snippet
```java
      supplierToUse = () -> {
        final Pair<String, String> entry = currentEntry.get();
        return entry != null ? entry.rhs : null;
      };
    } else {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
              return selector.lookupName(row.get(0));
            } else if (row.size() == 0) {
              return null;
            } else {
              // Multi-valued rows are not handled by the join system right now
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
            return () -> DimensionHandlerUtils.convertObjectToString(selector.getFloat());
          } else {
            return () -> selector.isNull() ? null : DimensionHandlerUtils.convertObjectToString(selector.getFloat());
          }
        }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
        public Supplier<String> makeComplexProcessor(BaseObjectColumnValueSelector<?> selector)
        {
          return () -> null;
        }
      };
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
            return () -> DimensionHandlerUtils.convertObjectToString(selector.getLong());
          } else {
            return () -> selector.isNull() ? null : DimensionHandlerUtils.convertObjectToString(selector.getLong());
          }
        }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
            return () -> DimensionHandlerUtils.convertObjectToString(selector.getDouble());
          } else {
            return () -> selector.isNull() ? null : DimensionHandlerUtils.convertObjectToString(selector.getDouble());
          }
        }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/filter/AndFilter.java`
#### Snippet
```java
      if (index == null) {
        // all or nothing
        return null;
      }
      merged = merged.merge(index.getIndexCapabilities());
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
          NonnullPair<ExpressionType, Object[]> coerced = ExprEval.coerceListToArray((List) val, homogenizeMultiValue);
          if (coerced == null) {
            return null;
          }
          return coerced.rhs;
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
          NonnullPair<ExpressionType, Object[]> coerced = ExprEval.coerceListToArray((List) val, homogenizeMultiValue);
          if (coerced == null) {
            return null;
          }
          return coerced.rhs;
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
          return coerced.rhs;
        }
        return null;
      };
    } else {
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
      return () -> {
        if (selector.isNull()) {
          return null;
        }
        return supplier.get();
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
            return new Object[]{null};
          } else {
            return null;
          }
        }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
    try {
      if (fields.indexOf(field) < 0) {
        return null;
      }
      final int fieldIndex = fields.indexOf(field);
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
      dataBuffer.position(dataBuffer.position() + Integer.BYTES + Integer.BYTES);
      int pos = dataBuffer.position();
      final Supplier<ColumnarLongs> longs = longsLength > 0 ? CompressedColumnarLongsSupplier.fromByteBuffer(dataBuffer, metadata.getByteOrder()) : () -> null;
      dataBuffer.position(pos + longsLength);
      pos = dataBuffer.position();
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
      dataBuffer.position(pos + longsLength);
      pos = dataBuffer.position();
      final Supplier<ColumnarDoubles> doubles = doublesLength > 0 ? CompressedColumnarDoublesSuppliers.fromByteBuffer(dataBuffer, metadata.getByteOrder()) : () -> null;
      dataBuffer.position(pos + doublesLength);
      final WritableSupplier<ColumnarInts> ints;
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/generator/ColumnValueGenerator.java`
#### Snippet
```java
      double randDouble = simpleRng.nextDouble();
      if (randDouble <= nullProbability) {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/generator/ColumnValueGenerator.java`
#### Snippet
```java
  {
    if (input == null) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/segment/transform/ExpressionTransform.java`
#### Snippet
```java
        NonnullPair<ExpressionType, Object[]> coerced = ExprEval.coerceListToArray((List) raw, true);
        if (coerced == null) {
          return null;
        }
        return coerced.rhs;
```

### ReturnNull
Return of `null`
in `processing/src/main/java/org/apache/druid/collections/bitmap/BitSetBitmapFactory.java`
#### Snippet
```java
  public ImmutableBitmap complement(ImmutableBitmap b, int length)
  {
    return null;
  }
}
```

### ReturnNull
Return of `null`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          return op2.clone();
        }
        return null;
      }

```

### ReturnNull
Return of `null`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          // op2 must be complemented, then op1 must be appended
          // it is better to perform it normally...
          return null;
        }
        // check whether the second operator starts with a sequence that
```

### ReturnNull
Return of `null`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          return op1.empty();
        }
        return null;
      }
    };
```

### ReturnNull
Return of `null`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          return res;
        }
        return null;
      }

```

### ReturnNull
Return of `null`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          // op2 must be complemented, then op1 must be appended
          // it is better to perform it normally...
          return null;
        }
        return null;
```

### ReturnNull
Return of `null`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          return null;
        }
        return null;
      }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jFilter.java`
#### Snippet
```java
  private static final Logger LOGGER = new Logger(Pac4jFilter.class);

  private static final HttpActionAdapter<String, J2EContext> NOOP_HTTP_ACTION_ADAPTER = (int code, J2EContext ctx) -> null;

  private final Config pac4jConfig;
```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jFilter.java`
#### Snippet
```java
            if (profiles.isEmpty()) {
              LOGGER.warn("No profiles found after OIDC auth.");
              return null;
            } else {
              return profiles.iterator().next().getId();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jAuthenticator.java`
#### Snippet
```java
  public Class<? extends Filter> getFilterClass()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jAuthenticator.java`
#### Snippet
```java
  public Map<String, String> getInitParameters()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jSessionStore.java`
#### Snippet
```java
  public Object getTrackableSession(WebContext arg0)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jSessionStore.java`
#### Snippet
```java
  public SessionStore buildFromTrackableSession(WebContext arg0, Object arg1)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/Pac4jSessionStore.java`
#### Snippet
```java
  public String getOrCreateSessionId(WebContext context)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/HdfsFileTimestampVersionFinder.java`
#### Snippet
```java
            final FileSystem fs = path.getFileSystem(config);
            if (!fs.exists(path)) {
              return null;
            }
            return mostRecentInDir(fs.isDirectory(path) ? path : path.getParent(), pattern);
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CatalogClient.java`
#### Snippet
```java
      // Treat as a not-found: the only way this exception should occur
      // is during shutdown.
      return null;
    }
    if (responseHolder.getStatus().getCode() == HttpResponseStatus.NOT_FOUND.getCode()) {
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CatalogClient.java`
#### Snippet
```java
    if (responseHolder.getStatus().getCode() == HttpResponseStatus.NOT_FOUND.getCode()) {
      // Not found means the item disappeared. Returning null means "not found".
      return null;
    }
    if (responseHolder.getStatus().getCode() != HttpResponseStatus.OK.getCode()) {
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CatalogClient.java`
#### Snippet
```java
  {
    TableMetadata table = table(id);
    return table == null ? null : tableRegistry.resolve(table.spec());
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CachedMetadataCatalog.java`
#### Snippet
```java
  {
    SchemaEntry schemaEntry = entryFor(schemaName);
    return schemaEntry == null ? null : schemaEntry.tables();
  }

```

### ReturnNull
Return of `null`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogs.java`
#### Snippet
```java
          () -> {
            S3Utils.uploadFileIfPossible(service, config.getDisableAcl(), config.getS3Bucket(), taskKey, logFile);
            return null;
          }
      );
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
    TableSpec spec = table.spec();
    if (columns.isEmpty()) {
      return null;
    }
    Map<String, Object> props = spec.properties();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
    if (revised.size() == hiddenColumns.size()) {
      // Nothing changed
      return null;
    }
    Map<String, Object> revisedProps = new HashMap<>(props);
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
    List<String> hiddenColumns = (List<String>) props.get(AbstractDatasourceDefn.HIDDEN_COLUMNS_PROPERTY);
    if (hiddenColumns == null || columns.isEmpty()) {
      return null;
    }
    Set<String> removals = new HashSet<>(columns);
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
    if (revisedHiddenCols.size() == hiddenColumns.size() && !hiddenColumns.isEmpty()) {
      // Nothing changed
      return null;
    }
    final Map<String, Object> revisedProps = new HashMap<>(props);
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
    List<ColumnSpec> existingColumns = existingSpec.columns();
    if (CollectionUtils.isNullOrEmpty(existingColumns)) {
      return null;
    }
    Set<String> drop = new HashSet<>(toDrop);
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
    if (revised.size() == existingColumns.size()) {
      // Nothing changed
      return null;
    }
    return existingSpec.withColumns(revised);
```

### ReturnNull
Return of `null`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentMover.java`
#### Snippet
```java
          try {
            s3ClientSupplier.get().deleteObject(s3Bucket, s3Path);
            return null;
          }
          catch (Exception e) {
```

### ReturnNull
Return of `null`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentMover.java`
#### Snippet
```java
            try {
              selfCheckingMove(s3Bucket, targetS3Bucket, s3Path, targetS3Path, copyMsg);
              return null;
            }
            catch (AmazonServiceException | IOException | SegmentLoadingException e) {
```

### ReturnNull
Return of `null`
in `extensions-core/testing-tools/src/main/java/org/apache/druid/query/expressions/SleepExprMacro.java`
#### Snippet
```java
      public ExpressionType getOutputType(InputBindingInspector inspector)
      {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
              () -> {
                s3.cancelMultiPartUpload(new AbortMultipartUploadRequest(config.getBucket(), s3Key, uploadId));
                return null;
              },
              S3Utils.S3RETRY,
```

### ReturnNull
Return of `null`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosAuthenticationHandler.java`
#### Snippet
```java
    if (authorization == null ||
        !authorization.startsWith(org.apache.hadoop.security.authentication.client.KerberosAuthenticator.NEGOTIATE)) {
      return null;
    } else {
      authorization = authorization
```

### ReturnNull
Return of `null`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
  {
    if (cookieStore == null) {
      return null;
    }
    boolean isSSL = "https".equals(uri.getScheme());
```

### ReturnNull
Return of `null`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
    S3Utils.retryS3Operation(() -> {
      s3Client.deleteObjects(deleteRequest);
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosAuthenticator.java`
#### Snippet
```java
  public Class<? extends Filter> getFilterClass()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosAuthenticator.java`
#### Snippet
```java
                public Principal getUserPrincipal()
                {
                  return (authToken != AuthenticationToken.ANONYMOUS) ? authToken : null;
                }
              };
```

### ReturnNull
Return of `null`
in `extensions-core/orc-extensions/src/main/java/org/apache/druid/data/input/orc/OrcStructJsonProvider.java`
#### Snippet
```java
  {
    if (o == null) {
      return null;
    } else if (o instanceof OrcMap) {
      OrcMap map = (OrcMap) o;
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/storage/sql/SQLCatalogManager.java`
#### Snippet
```java
                if (revised == null) {
                  handle.rollback();
                  return null;
                }
                final long updateTime = System.currentTimeMillis();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/storage/sql/SQLCatalogManager.java`
#### Snippet
```java
                if (revised == null) {
                  handle.rollback();
                  return null;
                }
                final long updateTime = System.currentTimeMillis();
```

### ReturnNull
Return of `null`
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogs.java`
#### Snippet
```java
          () -> {
            azureStorage.uploadBlob(logFile, config.getContainer(), taskKey);
            return null;
          },
          config.getMaxTries()
```

### ReturnNull
Return of `null`
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureUtils.java`
#### Snippet
```java
    AzureUtils.retryAzureOperation(() -> {
      storage.emptyCloudBlobDirectory(bucket, prefix);
      return null;
    }, maxTries);
  }
```

### ReturnNull
Return of `null`
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleUtils.java`
#### Snippet
```java
        retryGoogleCloudStorageOperation(() -> {
          storage.delete(nextObject.getBucket(), nextObject.getName());
          return null;
        });
      }
```

### ReturnNull
Return of `null`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/SequenceUtils.java`
#### Snippet
```java
        (accumulated, in) -> {
          action.accept(in);
          return null;
        }
    );
```

### ReturnNull
Return of `null`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/InputNumberDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupJsonProvider.java`
#### Snippet
```java
  {
    if (o == null) {
      return null;
    } else if (o instanceof Map) {
      return ((Map) o).get(s);
```

### ReturnNull
Return of `null`
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/ProtobufJsonProvider.java`
#### Snippet
```java
  {
    if (o == null) {
      return null;
    } else if (o instanceof Map) {
      return ((Map<?, ?>) o).get(s);
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/cache/CoordinatorPollingBasicAuthorizerCacheManager.java`
#### Snippet
```java
    if (HttpResponseStatus.NOT_FOUND.equals(status)) {
      LOG.warn("cachedSerializedGroupMappingMap is not available from the coordinator, skipping fetch of group mappings for now.");
      return null;
    }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/cache/CoordinatorPollingBasicAuthorizerCacheManager.java`
#### Snippet
```java
        out -> {
          out.write(groupMappingBytes);
          return null;
        }
    );
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/cache/CoordinatorPollingBasicAuthorizerCacheManager.java`
#### Snippet
```java
        out -> {
          out.write(userMapBytes);
          return null;
        }
    );
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/LDAPRoleProvider.java`
#### Snippet
```java
                                                   return (SearchResult) p;
                                                 } else {
                                                   return null;
                                                 }
                                               })
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/BasicHTTPAuthenticator.java`
#### Snippet
```java
  public Map<String, String> getInitParameters()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/cache/CoordinatorPollingBasicAuthenticatorCacheManager.java`
#### Snippet
```java
        out -> {
          out.write(userMapBytes);
          return null;
        }
    );
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/CoordinatorBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
    BasicAuthenticatorUserMapBundle bundle = cachedUserMaps.get(prefix);
    if (bundle == null) {
      return null;
    } else {
      return bundle.getUserMap();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/CoordinatorBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
    BasicAuthenticatorUserMapBundle bundle = cachedUserMaps.get(prefix);
    if (bundle == null) {
      return null;
    } else {
      return bundle.getSerializedUserMap();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
  {
    if (input == null) {
      return null;
    }
    StringBuilder sb = new StringBuilder();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
          if (userResult == null) {
            LOG.debug("User not found: %s", username);
            return null;
          }
          userDn = new LdapName(userResult.getNameInNamespace());
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
      catch (NamingException e) {
        LOG.error(e, "Exception during user lookup");
        return null;
      }
      finally {
```

### ReturnNull
Return of `null`
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/DefaultK8sApiClient.java`
#### Snippet
```java
      if (ex.getCode() == 410) {
        // k8s no longer has history that we need
        return null;
      }

```

### ReturnNull
Return of `null`
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/PollingLookup.java`
#### Snippet
```java
      synchronized (refCounts) {
        if (refCounts.get() < 0) {
          return null;
        }
        refCounts.incrementAndGet();
```

### ReturnNull
Return of `null`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/updater/CoordinatorBasicAuthorizerMetadataStorageUpdater.java`
#### Snippet
```java
  {
    BasicAuthorizerGroupMappingMapBundle groupMapBundle = cachedGroupMappingMaps.get(prefix);
    return groupMapBundle == null ? null : groupMapBundle.getGroupMappingMap();
  }

```

### ReturnNull
Return of `null`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheScheduler.java`
#### Snippet
```java
        return ((VersionedCache) currentCacheState).version;
      } else {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputFormat.java`
#### Snippet
```java
            record ->
                (record.getRecord().key() == null) ?
                    null :
                    keyFormat.createReader(
                        newInputRowSchema,
```

### ReturnNull
Return of `null`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/UriCacheGenerator.java`
#### Snippet
```java
                  version
              );
              return null;
            }
          }
```

### ReturnNull
Return of `null`
in `extensions-core/mysql-metadata-storage/src/main/java/org/apache/druid/metadata/storage/mysql/MySQLConnectorSslConfig.java`
#### Snippet
```java
  public String getClientCertificateKeyStorePassword()
  {
    return clientCertificateKeyStorePasswordProvider == null ? null : clientCertificateKeyStorePasswordProvider.getPassword();
  }

```

### ReturnNull
Return of `null`
in `extensions-core/mysql-metadata-storage/src/main/java/org/apache/druid/metadata/storage/mysql/MySQLConnectorSslConfig.java`
#### Snippet
```java
  public String getTrustCertificateKeyStorePassword()
  {
    return trustCertificateKeyStorePasswordProvider == null ? null : trustCertificateKeyStorePasswordProvider.getPassword();
  }

```

### ReturnNull
Return of `null`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisorSpec.java`
#### Snippet
```java
  public String getSource()
  {
    return getIoConfig() != null ? getIoConfig().getTopic() : null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisor.java`
#### Snippet
```java
  protected Map<Integer, Long> getTimeLagPerPartition(Map<Integer, Long> currentOffsets)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java
    wrapExceptions(() -> {
      runnable.run();
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/supervisor/KinesisSupervisorSpec.java`
#### Snippet
```java
  public String getSource()
  {
    return getIoConfig() != null ? getIoConfig().getStream() : null;
  }

```

### ReturnNull
Return of `null`
in `extensions-core/postgresql-metadata-storage/src/main/java/org/apache/druid/metadata/storage/postgresql/PostgreSQLConnectorConfig.java`
#### Snippet
```java
  public String getPassword()
  {
    return sslPasswordProvider == null ? null : sslPasswordProvider.getPassword();
  }

```

### ReturnNull
Return of `null`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Utils.java`
#### Snippet
```java
          () -> {
            checkAppSuccessFromYarnRMOnce(httpClient, job, succeeded);
            return null;
          },
          ex -> {
```

### ReturnNull
Return of `null`
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java
      if (closed) {
        log.info("KinesisRecordSupplier closed while fetching sequenceNumber");
        return null;
      }
      final GetRecordsRequest request = new GetRecordsRequest().withShardIterator(shardIterator)
```

### ReturnNull
Return of `null`
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java

      log.warn("Could not fetch sequence number for Partition[%s]", partition.getPartitionId());
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/updater/MetadataStorageUpdaterJobSpec.java`
#### Snippet
```java
      public String getPassword()
      {
        return passwordProvider == null ? null : passwordProvider.getPassword();
      }
    };
```

### ReturnNull
Return of `null`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceRecordReader.java`
#### Snippet
```java
  public InputRow getCurrentValue()
  {
    return currRow == null ? null : new SegmentInputRow(currRow, spec.getDimensions());
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/GeneratorInputSource.java`
#### Snippet
```java
  public List<GeneratorColumnSchema> getSchema()
  {
    return schemaName == null ? schema : null;
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidSegmentReader.java`
#### Snippet
```java
    public Supplier<Object> makeLongProcessor(BaseLongColumnValueSelector selector)
    {
      return () -> selector.isNull() ? null : selector.getLong();
    }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidSegmentReader.java`
#### Snippet
```java
        }

        return null;
      };
    }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidSegmentReader.java`
#### Snippet
```java
    public Supplier<Object> makeDoubleProcessor(BaseDoubleColumnValueSelector selector)
    {
      return () -> selector.isNull() ? null : selector.getDouble();
    }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidSegmentReader.java`
#### Snippet
```java
    public Supplier<Object> makeFloatProcessor(BaseFloatColumnValueSelector selector)
    {
      return () -> selector.isNull() ? null : selector.getFloat();
    }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/RetryPolicy.java`
#### Snippet
```java
  {
    if (hasExceededRetryThreshold()) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopTask.java`
#### Snippet
```java
  public List<String> getHadoopDependencyCoordinates()
  {
    return hadoopDependencyCoordinates == null ? null : ImmutableList.copyOf(hadoopDependencyCoordinates);
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
    {
      if (job == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
    {
      if (job == null) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractTask.java`
#### Snippet
```java
  public String getClasspathPrefix()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractTask.java`
#### Snippet
```java
    {
      if (name == null) {
        return null;
      }
      return valueOf(StringUtils.toUpperCase(name));
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractTask.java`
#### Snippet
```java
  public <T> QueryRunner<T> getQueryRunner(Query<T> query)
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractTask.java`
#### Snippet
```java
  public String getNodeType()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
    } else {
      // Return null, one locking group per task.
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentNukeAction.java`
#### Snippet
```java
                            () -> {
                              toolbox.getIndexerMetadataStorageCoordinator().deleteSegments(segments);
                              return null;
                            }
                        )
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentMetadataUpdateAction.java`
#### Snippet
```java
                            () -> {
                              toolbox.getIndexerMetadataStorageCoordinator().updateSegmentMetadata(segments);
                              return null;
                            }
                        )
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
              attempt
          );
          return null;
        }
      } else {
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
        }
      } else {
        return null;
      }
    }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
          log.debug(msg);
        }
        return null;
      }
    } else {
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
        log.debug(msg);
      }
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
          rowInterval
      );
      return null;
    } else {
      // If segment allocation failed here, it is highly likely an unrecoverable error. We log here for easier
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
            os -> {
              jsonMapper.writeValue(os, taskAnnouncement);
              return null;
            }
        );
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
            os -> {
              jsonMapper.writeValue(os, task);
              return null;
            }
        );
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/WorkerTaskRunnerQueryAdapter.java`
#### Snippet
```java
      return (WorkerTaskRunner) taskRunnerOpt.get();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskMaster.java`
#### Snippet
```java
      return taskQueue.get().getSuccessfulTaskCount();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskMaster.java`
#### Snippet
```java
      return taskQueue.get().getPendingTaskCount();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskMaster.java`
#### Snippet
```java
      return taskQueue.get().getWaitingTaskCount();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskMaster.java`
#### Snippet
```java
      return taskQueue.get().getRunningTaskCount();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskMaster.java`
#### Snippet
```java
      return taskQueue.get().getFailedTaskCount();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ZkWorker.java`
#### Snippet
```java
          }
        }
        return null;
      }
      catch (IOException e) {
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
    public TaskLocation getLocation()
    {
      return null;
    }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunnerResource.java`
#### Snippet
```java
      return (HttpRemoteTaskRunner) taskRunnerOpt.get();
    } else {
      return null;
    }
  }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordRedirectInfo.java`
#### Snippet
```java
      final Optional<String> redirectLocation = taskMaster.getRedirectLocation();
      if (!redirectLocation.isPresent()) {
        return null;
      }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java
                    response.getContent()
                );
                return null;
              } else {
                throw new RE("Attempt to shutdown task[%s] on worker[%s] failed.", taskId, worker.getHost());
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
                    conflictPosses
                );
                return null;
              }
            }
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      }
    }
    return null;
  }

```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/NoopProvisioningStrategy.java`
#### Snippet
```java
      public ScalingStats getStats()
      {
        return null;
      }
    };
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
              } else if (r.getStatus().equals(HttpResponseStatus.ACCEPTED)) {
                // Return null, which triggers a loop later to wait for the task to enter PAUSED state.
                return null;
              } else {
                throw new ISE(
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
          if (isNullOrEmpty(r.getContent())) {
            log.warn("Got empty response when calling getMovingAverages, id[%s]", id);
            return null;
          } else {
            return JacksonUtils.readValue(jsonMapper, r.getContent(), JacksonUtils.TYPE_REFERENCE_MAP_STRING_OBJECT);
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
          if (isNullOrEmpty(r.getContent())) {
            log.warn("Got empty response when calling getParseErrors, id[%s]", id);
            return null;
          } else {
            return JacksonUtils.readValue(
```

### ReturnNull
Return of `null`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
        .onSuccess(r -> {
          if (isNullOrEmpty(r.getContent())) {
            return null;
          } else {
            return JacksonUtils.readValue(jsonMapper, r.getContent(), DateTime.class);
```

### ReturnNull
Return of `null`
in `integration-tests/src/main/java/org/apache/druid/testing/DockerConfigProvider.java`
#### Snippet
```java
      public String getUsername()
      {
        return null;
      }

```

### ReturnNull
Return of `null`
in `integration-tests/src/main/java/org/apache/druid/testing/DockerConfigProvider.java`
#### Snippet
```java
      public String getPassword()
      {
        return null;
      }

```

### ReturnNull
Return of `null`
in `integration-tests/src/main/java/org/apache/druid/testing/ConfigFileConfigProvider.java`
#### Snippet
```java
      {
        // no way to configure this since the config was stolen by the overlord
        return null;
      }

```

### ReturnNull
Return of `null`
in `integration-tests/src/main/java/org/apache/druid/testing/ConfigFileConfigProvider.java`
#### Snippet
```java
      {
        // no way to configure this since the config was stolen by the overlord
        return null;
      }

```

### ReturnNull
Return of `null`
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CompactionResourceTestClient.java`
#### Snippet
```java
    ).get();
    if (response.getStatus().equals(HttpResponseStatus.NOT_FOUND)) {
      return null;
    } else if (!response.getStatus().equals(HttpResponseStatus.OK)) {
      throw new ISE(
```

### ReturnNull
Return of `null`
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java

      if (response.getStatus().getCode() == HttpResponseStatus.NO_CONTENT.getCode()) {
        return null;
      }
      if (response.getStatus().getCode() != HttpResponseStatus.OK.getCode()) {
```

### ReturnNull
Return of `null`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
  {
    if (!this.isInWhiteList(serviceMetricEvent)) {
      return null;
    }
    final ImmutableList.Builder<String> metricPathBuilder = new ImmutableList.Builder<>();
```

### ReturnNull
Return of `null`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
    String prefixKey = getPrefixKey(event.getMetric(), whiteListDimsMapper);
    if (prefixKey == null) {
      return null;
    }
    ImmutableList.Builder<String> outputList = new ImmutableList.Builder<>();
```

### ReturnNull
Return of `null`
in `extensions-contrib/opentsdb-emitter/src/main/java/org/apache/druid/emitter/opentsdb/EventConverter.java`
#### Snippet
```java
    String metric = serviceMetricEvent.getMetric();
    if (!metricMap.containsKey(metric)) {
      return null;
    }

```

### ReturnNull
Return of `null`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/BaseAverager.java`
#### Snippet
```java
  {
    if (!hasData()) {
      return null;
    }
    return computeResult();
```

### ReturnNull
Return of `null`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogs.java`
#### Snippet
```java
          () -> {
            OssUtils.uploadFileIfPossible(client, config.getBucket(), taskKey, logFile);
            return null;
          }
      );
```

### ReturnNull
Return of `null`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentMover.java`
#### Snippet
```java
          try {
            clientSupplier.get().deleteObject(bucket, path);
            return null;
          }
          catch (Exception e) {
```

### ReturnNull
Return of `null`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentMover.java`
#### Snippet
```java
            try {
              selfCheckingMove(srcBucket, targetBucket, srcPath, targetPath, copyMsg);
              return null;
            }
            catch (OSSException | IOException | SegmentLoadingException e) {
```

### ReturnNull
Return of `null`
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java
  public String getPathForHadoop()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssUtils.java`
#### Snippet
```java
    OssUtils.retry(() -> {
      client.deleteObjects(deleteRequest);
      return null;
    });
  }
```

### ReturnNull
Return of `null`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
          // we should never get here. For some reason, there is
          // no more work to do, so continuing to iterate will infinite loop
          return null;
        }
      }
```

### ReturnNull
Return of `null`
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitter.java`
#### Snippet
```java
  {
    //Ignoring Zk Fallback.
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
  {
    if (!this.isInWhiteList(serviceMetricEvent)) {
      return null;
    }
    final ImmutableList.Builder<String> metricNameBuilder = new ImmutableList.Builder<>();
```

### ReturnNull
Return of `null`
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
    String prefixKey = getPrefixKey(event.getMetric(), whiteListDimsMapper);
    if (prefixKey == null) {
      return null;
    }
    ImmutableList.Builder<String> outputList = new ImmutableList.Builder<>();
```

### ReturnNull
Return of `null`
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/MaterializedViewQueryQueryToolChest.java`
#### Snippet
```java
  public TypeReference getResultTypeReference()
  {
    return null;
  }

```

### ReturnNull
Return of `null`
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
                          JacksonUtils.readValue(objectMapper, r.getBytes("payload"), DataSegment.class);
                      totalSize += segment.getSize();
                      return null;
                    }
                )
```

### ReturnNull
Return of `null`
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
                    DataSourceMetadata.class);
                if (!(payload instanceof DerivativeDataSourceMetadata)) {
                  return null;
                }
                DerivativeDataSourceMetadata metadata = (DerivativeDataSourceMetadata) payload;
```

### ReturnNull
Return of `null`
in `integration-tests-ex/tools/src/main/java/org/apache/druid/testing/tools/SleepExprMacro.java`
#### Snippet
```java
      public ExpressionType getOutputType(InputBindingInspector inspector)
      {
        return null;
      }
    }
```

## RuleId[ruleID=AssignmentToLambdaParameter]
### AssignmentToLambdaParameter
Assignment to lambda parameter `segmentsMap`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
            (datasource, segmentsMap) -> {
              if (segmentsMap == null) {
                segmentsMap = new ConcurrentSkipListMap<>(SEGMENT_ORDER);
              }
              segmentsMap.compute(
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `segmentMetadata`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
                      // segmentReplicatable is used to determine if segments are served by historical or realtime servers
                      long isRealtime = server.isSegmentReplicationTarget() ? 0 : 1;
                      segmentMetadata = AvailableSegmentMetadata
                          .builder(segment, isRealtime, ImmutableSet.of(server), null, DEFAULT_NUM_ROWS) // Added without needing a refresh
                          .build();
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `segmentMetadata`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
                          .add(server)
                          .build();
                      segmentMetadata = AvailableSegmentMetadata
                          .from(segmentMetadata)
                          .withReplicas(servers)
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `input`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/TimestampParser.java`
#### Snippet
```java
        for (int i = 0; i < input.length(); i++) {
          if (input.charAt(i) < '0' || input.charAt(i) > '9') {
            input = ParserUtils.stripQuotes(input);
            int lastIndex = input.lastIndexOf(' ');
            DateTimeZone timeZone = DateTimeZone.UTC;
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `input`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/TimestampParser.java`
#### Snippet
```java
              if (timeZoneFromString != null) {
                timeZone = timeZoneFromString;
                input = input.substring(0, lastIndex);
              }
            }
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `dataSource`
in `server/src/main/java/org/apache/druid/client/DruidServer.java`
#### Snippet
```java
        (dataSourceName, dataSource) -> {
          if (dataSource == null) {
            dataSource = new DruidDataSource(dataSourceName, ImmutableMap.of("client", "side"));
          }
          if (dataSource.addSegmentIfAbsent(segment)) {
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `timeline`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/NewestSegmentFirstIterator.java`
#### Snippet
```java
          // to get the original ShardSpec and original version back (when converting the segment back to return from this iterator).
          originalTimeline = timeline;
          timeline = timelineWithConfiguredSegmentGranularity;
        }
        final List<Interval> searchIntervals =
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `accumulated`
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java
    );

    Integer totalRows = sequence.accumulate(0, (accumulated, in) -> accumulated += in);

    this.keyColumnsIndexes = indexBuilders.stream()
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `ignoreCounter`
in `integration-tests/src/main/java/org/apache/druid/server/coordination/ServerManagerForQueryErrorTest.java`
#### Snippet
```java
          (queryId, ignoreCounter) -> {
            if (ignoreCounter == null) {
              ignoreCounter = 0;
            }
            if (ignoreCounter < MAX_NUM_FALSE_MISSING_SEGMENTS_REPORTS) {
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `ignoreCounter`
in `integration-tests/src/main/java/org/apache/druid/server/coordination/ServerManagerForQueryErrorTest.java`
#### Snippet
```java
            }
            if (ignoreCounter < MAX_NUM_FALSE_MISSING_SEGMENTS_REPORTS) {
              ignoreCounter++;
              isIgnoreSegment.setTrue();
            }
```

### AssignmentToLambdaParameter
Assignment to lambda parameter `ignoredSegments`
in `integration-tests-ex/tools/src/main/java/org/apache/druid/testing/tools/ServerManagerForQueryErrorTest.java`
#### Snippet
```java
          (queryId, ignoredSegments) -> {
            if (ignoredSegments == null) {
              ignoredSegments = new HashSet<>();
            }
            if (ignoredSegments.size() < MAX_NUM_FALSE_MISSING_SEGMENTS_REPORTS) {
```

## RuleId[ruleID=UnnecessaryLocalVariable]
### UnnecessaryLocalVariable
Local variable `dataType` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/Calcites.java`
#### Snippet
```java
  )
  {
    final RelDataType dataType = typeFactory.createArrayType(
        createSqlTypeWithNullability(typeFactory, elementTypeName, nullable),
        -1
```

### UnnecessaryLocalVariable
Local variable `expression` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/Expressions.java`
#### Snippet
```java
      }

      DruidExpression expression = conversion.toDruidExpressionWithPostAggOperands(
          plannerContext,
          rowSignature,
```

### UnnecessaryLocalVariable
Local variable `virtualColumn` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/GroupingSqlAggregator.java`
#### Snippet
```java
    }

    String virtualColumn = virtualColumnRegistry.getOrCreateVirtualColumnForExpression(
        expression,
        node.getType()
```

### UnnecessaryLocalVariable
Local variable `sleepMillis` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/RetryUtils.java`
#### Snippet
```java
  {
    final double fuzzyMultiplier = Math.min(Math.max(1 + 0.2 * ThreadLocalRandom.current().nextGaussian(), 0), 2);
    final long sleepMillis = (long) (Math.min(MAX_SLEEP_MILLIS, BASE_SLEEP_MILLIS * Math.pow(2, nTry - 1))
                                     * fuzzyMultiplier);
    return sleepMillis;
```

### UnnecessaryLocalVariable
Local variable `unmapper` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/ByteBufferUtils.java`
#### Snippet
```java
        null
    ).asType(MethodType.methodType(void.class)), 0, cleanerClass);
    MethodHandle unmapper = MethodHandles.filterReturnValue(
        directBufferCleanerMethod,
        MethodHandles.guardWithTest(nonNullTest, cleanMethod, noop)
```

### UnnecessaryLocalVariable
Local variable `nextYielder` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
      if (resultBatch == null || resultBatch.isDrained()) {
        resultBatch = new ResultBatch<>(batcher.batchSize);
        final Yielder<ResultBatch<E>> nextYielder = yielder.next(resultBatch);
        yielder = nextYielder;
      }
```

### UnnecessaryLocalVariable
Local variable `magic` is redundant
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
    }

    final Expr magic = new ApplyFunctionExpr(fn, fn.name(), lambdaExpr, ImmutableList.copyOf(lambdaArgs));
    return magic;
  }
```

### UnnecessaryLocalVariable
Local variable `newFnExpr` is redundant
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
            }

            FunctionExpr newFnExpr = new FunctionExpr(fnExpr.function, fnExpr.function.name(), newArgs);
            return newFnExpr;
          }
```

### UnnecessaryLocalVariable
Local variable `magic` is redundant
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
    }

    final Expr magic = new ApplyFunctionExpr(fn, fn.name(), lambdaExpr, ImmutableList.copyOf(lambdaArgs));
    return magic;
  }
```

### UnnecessaryLocalVariable
Local variable `processor` is redundant
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorStringProcessors.java`
#### Snippet
```java
      );
    }
    final ExprVectorProcessor processor = new ObjectOutMultiObjectInVectorProcessor(
        inputProcessors,
        inspector.getMaxVectorSize(),
```

### UnnecessaryLocalVariable
Local variable `value` is redundant
in `core/src/main/java/org/apache/druid/segment/column/NullableTypeStrategy.java`
#### Snippet
```java
    try {
      buffer.position(offset);
      T value = read(buffer);
      return value;
    }
```

### UnnecessaryLocalVariable
Local variable `currEtag` is redundant
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      }
      hasher.putBytes(queryCacheKeyFinal);
      String currEtag = StringUtils.encodeBase64String(hasher.hash().asBytes());
      return currEtag;
    }
```

### UnnecessaryLocalVariable
Local variable `offset` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
  public static void serialize(ByteBuffer buffer, int position, ExpressionType type, ExprEval<?> eval, int maxSizeBytes)
  {
    int offset = position;
    switch (type.getType()) {
      case LONG:
```

### UnnecessaryLocalVariable
Local variable `filteredInventory` is redundant
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java

    // make a copy of the set and not just a filtered view, in order to not keep all the segment data in memory
    Set<DataSegment> filteredInventory = Sets.newHashSet(
        Iterables.transform(
            Iterables.filter(
```

### UnnecessaryLocalVariable
Local variable `filteredResources` is redundant
in `server/src/main/java/org/apache/druid/server/security/AuthorizationUtils.java`
#### Snippet
```java

    final Map<ResourceAction, Access> resultCache = new HashMap<>();
    final Iterable<ResType> filteredResources = Iterables.filter(
        resources,
        resource -> {
```

### UnnecessaryLocalVariable
Local variable `total` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    // Memory footprint includes count integer in FireHydrant, shorts in ReferenceCountingSegment,
    // Objects in SimpleQueryableIndex (such as SmooshedFileMapper, each ColumnHolder in column map, etc.)
    int total = Integer.BYTES + (4 * Short.BYTES) + ROUGH_OVERHEAD_PER_HYDRANT +
                (hydrant.getSegmentNumDimensionColumns() * ROUGH_OVERHEAD_PER_DIMENSION_COLUMN_HOLDER) +
                (hydrant.getSegmentNumMetricColumns() * ROUGH_OVERHEAD_PER_METRIC_COLUMN_HOLDER) +
```

### UnnecessaryLocalVariable
Local variable `jsonIterator` is redundant
in `server/src/main/java/org/apache/druid/metadata/input/SqlReader.java`
#### Snippet
```java
    final InputEntity.CleanableFile resultFile = closer.register(source.fetch(temporaryDirectory, null));
    FileInputStream inputStream = new FileInputStream(resultFile.file());
    JsonIterator<Map<String, Object>> jsonIterator = new JsonIterator<>(new TypeReference<Map<String, Object>>()
    {
    }, inputStream, closer, objectMapper);
```

### UnnecessaryLocalVariable
Local variable `sleepMillis` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableInputStreamFrameChannel.java`
#### Snippet
```java
  {
    final double fuzzyMultiplier = Math.min(Math.max(1 + 0.2 * ThreadLocalRandom.current().nextGaussian(), 0), 2);
    final long sleepMillis = (long) (Math.min(MAX_SLEEP_MILLIS, BASE_SLEEP_MILLIS * Math.pow(2, nTry - 1))
                                     * fuzzyMultiplier);
    return sleepMillis;
```

### UnnecessaryLocalVariable
Local variable `segmentMapFn` is redundant
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
  )
  {
    final Function<SegmentReference, SegmentReference> segmentMapFn = createSegmentMapFn(
        analysis.getJoinBaseTableFilter().map(Filters::toFilter).orElse(null),
        analysis.getPreJoinableClauses(),
```

### UnnecessaryLocalVariable
Local variable `belowMax` is redundant
in `processing/src/main/java/org/apache/druid/query/topn/TopNNumericResultBuilder.java`
#### Snippet
```java
  {
    final boolean belowThreshold = pQueue.size() < this.threshold;
    final boolean belowMax = belowThreshold
                             || this.metricComparator.compare(pQueue.peek().getTopNMetricVal(), topNMetricVal) < 0;
    return belowMax;
```

### UnnecessaryLocalVariable
Local variable `cmp` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GrouperBufferComparatorUtils.java`
#### Snippet
```java
            }

            int cmp = compareDimsInBuffersForNullFudgeTimestampForPushDown(
                adjustedSerdeHelperComparators,
                needsReverses,
```

### UnnecessaryLocalVariable
Local variable `parts` is redundant
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
      );
    }
    final List<NestedPathPart> parts = NestedPathFinder.parseJsonPath(
        (String) arg.getLiteralValue()
    );
```

### UnnecessaryLocalVariable
Local variable `windowSize` is redundant
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultFramedOnHeapAggregatable.java`
#### Snippet
```java
  {
    int numRows = rac.numRows();
    int windowSize = numRows;

    // We store the results in an Object array for convenience.  This is definitely sub-par from a memory management
```

### UnnecessaryLocalVariable
Local variable `correlatedValues` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
              Pair.of(rhsRewriteCandidate.getRhsColumn(), rhsRewriteCandidate.getValueForRewrite()),
              (rhsVal) -> {
                Optional<Set<String>> correlatedValues = getCorrelatedValuesForPushDown(
                    rhsRewriteCandidate.getRhsColumn(),
                    rhsRewriteCandidate.getValueForRewrite(),
```

### UnnecessaryLocalVariable
Local variable `payloadWriter` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/cell/BlockCompressedPayloadWriter.java`
#### Snippet
```java
      );
      BlockCompressedPayloadBuffer payloadBuffer = bufferFactory.create();
      BlockCompressedPayloadWriter payloadWriter = new BlockCompressedPayloadWriter(payloadBuffer);

      return payloadWriter;
```

### UnnecessaryLocalVariable
Local variable `payload` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/cell/CellReader.java`
#### Snippet
```java
  {
    PayloadEntrySpan payloadEntrySpan = cellIndexReader.getEntrySpan(rowNumber);
    ByteBuffer payload = dataReader.read(payloadEntrySpan.getStart(), payloadEntrySpan.getSize());

    return payload;
```

### UnnecessaryLocalVariable
Local variable `cellReader` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/cell/CellReader.java`
#### Snippet
```java
      closer.register(dataReader);

      CellReader cellReader = new CellReader(cellIndexReader, dataReader, closer);

      return cellReader;
```

### UnnecessaryLocalVariable
Local variable `builder` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnCapabilitiesImpl.java`
#### Snippet
```java
  public static ColumnCapabilitiesImpl createSimpleArrayColumnCapabilities(TypeSignature<ValueType> valueType)
  {
    ColumnCapabilitiesImpl builder = new ColumnCapabilitiesImpl().setType(valueType)
                                                                 .setHasMultipleValues(false)
                                                                 .setHasBitmapIndexes(false)
```

### UnnecessaryLocalVariable
Local variable `segmentObject` is redundant
in `processing/src/main/java/org/apache/druid/segment/loading/TombstoneSegmentizerFactory.java`
#### Snippet
```java
    final QueryableIndexStorageAdapter storageAdapter = new QueryableIndexStorageAdapter(queryableIndex);

    Segment segmentObject = new Segment()
    {
      @Override
```

### UnnecessaryLocalVariable
Local variable `unwrappedOtherBitmap` is redundant
in `processing/src/main/java/org/apache/druid/collections/bitmap/WrappedImmutableConciseBitmap.java`
#### Snippet
```java
  {
    WrappedImmutableConciseBitmap other = (WrappedImmutableConciseBitmap) otherBitmap;
    ImmutableConciseSet unwrappedOtherBitmap = other.bitmap;
    return new WrappedImmutableConciseBitmap(ImmutableConciseSet.intersection(bitmap, unwrappedOtherBitmap));
  }
```

### UnnecessaryLocalVariable
Local variable `unwrappedOtherBitmap` is redundant
in `processing/src/main/java/org/apache/druid/collections/bitmap/WrappedImmutableRoaringBitmap.java`
#### Snippet
```java
  {
    WrappedImmutableRoaringBitmap other = (WrappedImmutableRoaringBitmap) otherBitmap;
    ImmutableRoaringBitmap unwrappedOtherBitmap = other.bitmap;
    return new WrappedImmutableRoaringBitmap(ImmutableRoaringBitmap.and(bitmap, unwrappedOtherBitmap));
  }
```

### UnnecessaryLocalVariable
Local variable `dependentFields` is redundant
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/teststats/PvaluefromZscorePostAggregator.java`
#### Snippet
```java
  public Set<String> getDependentFields()
  {
    Set<String> dependentFields = new HashSet<>(zScore.getDependentFields());

    return dependentFields;
```

### UnnecessaryLocalVariable
Local variable `fbh` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
          }
          catch (ParseException pe) {
            FixedBucketsHistogram fbh = FixedBucketsHistogram.fromBase64((String) rawValue);
            return fbh;
          }
```

### UnnecessaryLocalVariable
Local variable `fbh` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
      {
        buffer.limit(buffer.position() + numBytes);
        FixedBucketsHistogram fbh = FixedBucketsHistogram.fromByteBuffer(buffer);
        return fbh;
      }
```

### UnnecessaryLocalVariable
Local variable `x` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/QuantilePostAggregator.java`
#### Snippet
```java
    } else {
      final FixedBucketsHistogram fbh = (FixedBucketsHistogram) value;
      float x = fbh.percentilesFloat(new double[]{probability * 100.0})[0];
      return x;
    }
```

### UnnecessaryLocalVariable
Local variable `fbh` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramAggregatorFactory.java`
#### Snippet
```java
    if (object instanceof String) {
      byte[] bytes = StringUtils.decodeBase64(StringUtils.toUtf8((String) object));
      final FixedBucketsHistogram fbh = FixedBucketsHistogram.fromBytes(bytes);
      return fbh;
    } else {
```

### UnnecessaryLocalVariable
Local variable `result` is redundant
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
  {
    Sketch sketch = getSketch();
    SketchEstimateWithErrorBounds result = new SketchEstimateWithErrorBounds(
        getEstimate(),
        sketch.getUpperBound(errorBoundsStdDev),
```

### UnnecessaryLocalVariable
Local variable `fileName` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/shuffle/DurableStorageUtils.java`
#### Snippet
```java
        workerNumber
    );
    String fileName = StringUtils.format("%s/%s", folderName, SUCCESS_MARKER_FILENAME);
    return fileName;
  }
```

### UnnecessaryLocalVariable
Local variable `i` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessorFactory.java`
#### Snippet
```java
    for (int inputNumber = 0; inputNumber < inputSlices.size(); inputNumber++) {
      if (!stageDef.getBroadcastInputNumbers().contains(inputNumber)) {
        final int i = inputNumber;
        final Sequence<ReadableInput> sequence =
            Sequences.simple(inputSliceReader.attach(i, inputSlices.get(i), counters, warningPublisher));
```

### UnnecessaryLocalVariable
Local variable `ts` is redundant
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
        switch (ot) {
          case DATE:
            long ts = g.getInteger(fieldIndex, index) * MILLIS_IN_DAY;
            return ts;
          case TIME_MICROS:
```

### UnnecessaryLocalVariable
Local variable `d` is redundant
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
            if (periodBuilder.length() > 1) {
              Period p = Period.parse(periodBuilder.toString());
              Duration d = p.toStandardDuration().plus(millis);
              return d;
            } else {
```

### UnnecessaryLocalVariable
Local variable `ts` is redundant
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
    int julianDay = Ints.fromBytes(bytes[11], bytes[10], bytes[9], bytes[8]);

    long ts = ((julianDay - JULIAN_EPOCH_OFFSET_DAYS) * MILLIS_IN_DAY) + (timeOfDayNanos / NANOS_PER_MILLISECOND);
    return ts;
  }
```

### UnnecessaryLocalVariable
Local variable `message` is redundant
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/DescriptorBasedProtobufBytesDecoder.java`
#### Snippet
```java
  {
    try {
      DynamicMessage message = DynamicMessage.parseFrom(descriptor, ByteString.copyFrom(bytes));
      return message;
    }
```

### UnnecessaryLocalVariable
Local variable `message` is redundant
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/SchemaRegistryBasedProtobufBytesDecoder.java`
#### Snippet
```java
      byte[] rawMessage = new byte[length];
      bytes.get(rawMessage, 0, length);
      DynamicMessage message = DynamicMessage.parseFrom(descriptor, rawMessage);
      return message;
    }
```

### UnnecessaryLocalVariable
Local variable `authToken` is redundant
in `extensions-core/druid-aws-rds-extensions/src/main/java/org/apache/druid/aws/rds/AWSRDSTokenPasswordProvider.java`
#### Snippet
```java
          .build();

      String authToken = generator.getAuthToken(
          GetIamAuthTokenRequest
              .builder()
```

### UnnecessaryLocalVariable
Local variable `metrics` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      Counters jobCounters = groupByJob.getCounters();

      Map<String, Object> metrics = TaskMetricsUtils.makeIngestionRowMetrics(
          jobCounters.findCounter(HadoopDruidIndexerConfig.IndexJobCounters.ROWS_PROCESSED_COUNTER).getValue(),
          jobCounters.findCounter(HadoopDruidIndexerConfig.IndexJobCounters.ROWS_PROCESSED_WITH_ERRORS_COUNTER)
```

### UnnecessaryLocalVariable
Local variable `recordsResult` is redundant
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java
    ).getShardIterator();

    GetRecordsResult recordsResult = kinesis.getRecords(
            new GetRecordsRequest().withShardIterator(shardIterator).withLimit(1)
    );
```

### UnnecessaryLocalVariable
Local variable `retVal` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/SortableBytes.java`
#### Snippet
```java
      int b2Length = ByteBuffer.wrap(b2, s2 + 4, l2 - 4).getInt();

      final int retVal = compareBytes(b1, s1 + 8, b1Length, b2, s2 + 8, b2Length);

      return retVal;
```

### UnnecessaryLocalVariable
Local variable `succeeded` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  public static boolean runSingleJob(Jobby job)
  {
    boolean succeeded = job.run();
    return succeeded;
  }
```

### UnnecessaryLocalVariable
Local variable `metrics` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
      Counters jobCounters = job.getCounters();

      Map<String, Object> metrics = TaskMetricsUtils.makeIngestionRowMetrics(
          jobCounters.findCounter(HadoopDruidIndexerConfig.IndexJobCounters.ROWS_PROCESSED_COUNTER).getValue(),
          jobCounters.findCounter(HadoopDruidIndexerConfig.IndexJobCounters.ROWS_PROCESSED_WITH_ERRORS_COUNTER)
```

### UnnecessaryLocalVariable
Local variable `publishedSegmentAndIndexZipFilePaths` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
      throw new RuntimeException(e);
    }
    List<DataSegmentAndIndexZipFilePath> publishedSegmentAndIndexZipFilePaths = publishedSegmentAndIndexZipFilePathsBuilder.build();

    return publishedSegmentAndIndexZipFilePaths;
```

### UnnecessaryLocalVariable
Local variable `timelineSegments` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
        segmentProvider.findSegments(toolbox.getTaskActionClient());
    segmentProvider.checkSegments(lockGranularityInUse, usedSegments);
    final List<TimelineObjectHolder<String, DataSegment>> timelineSegments = SegmentTimeline
        .forSegments(usedSegments)
        .lookup(segmentProvider.interval);
```

### UnnecessaryLocalVariable
Local variable `numMarked` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/MarkSegmentsAsUnusedAction.java`
#### Snippet
```java
  public Integer perform(Task task, TaskActionToolbox toolbox)
  {
    int numMarked = toolbox.getIndexerMetadataStorageCoordinator()
                           .markSegmentsAsUnusedWithinInterval(dataSource, interval);
    return numMarked;
```

### UnnecessaryLocalVariable
Local variable `results2` is redundant
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java
    }

    Map<String, Object> results2 = jsonMapper.readValue(
        response.getContent(),
        new TypeReference<Map<String, Object>>()
```

### UnnecessaryLocalVariable
Local variable `ms` is redundant
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/MomentSketchWrapper.java`
#### Snippet
```java
  public MomentSolver getSolver()
  {
    MomentSolver ms = new MomentSolver(data);
    return ms;
  }
```

### UnnecessaryLocalVariable
Local variable `responseData` is redundant
in `integration-tests/src/main/java/org/apache/druid/testing/clients/OverlordResourceTestClient.java`
#### Snippet
```java
        );
      }
      List<Object> responseData = jsonMapper.readValue(
          response.getContent(), new TypeReference<List<Object>>()
          {
```

### UnnecessaryLocalVariable
Local variable `quantiles` is redundant
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchQuantilePostAggregator.java`
#### Snippet
```java
  {
    final MomentSketchWrapper sketch = (MomentSketchWrapper) field.compute(combinedAggregators);
    double[] quantiles = sketch.getQuantiles(fractions);
    return quantiles;
  }
```

### UnnecessaryLocalVariable
Local variable `doubleValue` is redundant
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchComplexMetricSerde.java`
#### Snippet
```java
            // string that starts with a digit, we assume it is a number.
            try {
              Double doubleValue = Double.parseDouble(objectString);
              return doubleValue;
            }
```

### UnnecessaryLocalVariable
Local variable `row` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQueryRunner.java`
#### Snippet
```java
    {
      Map<String, Object> event = lookbackResult.getValue().getBaseObject();
      MapBasedRow row = new MapBasedRow(lookbackResult.getTimestamp(), event);
      return row;
    }
```

### UnnecessaryLocalVariable
Local variable `outSegment` is redundant
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java
            objectApi.put(descriptorData);

            final DataSegment outSegment = inSegment
                .withSize(indexSize)
                .withLoadSpec(makeLoadSpec(new URI(segmentData.getPath())))
```

### UnnecessaryLocalVariable
Local variable `heapCompressedBigDecimal` is redundant
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalBufferAggregatorBase.java`
#### Snippet
```java
    );

    CompressedBigDecimal heapCompressedBigDecimal = byteBufferCompressedBigDecimal.toHeap();

    return heapCompressedBigDecimal;
```

### UnnecessaryLocalVariable
Local variable `task` is redundant
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisorSpec.java`
#### Snippet
```java

    // generate HadoopIndexTask
    HadoopIndexTask task = new HadoopIndexTask(
        taskId,
        spec,
```

## RuleId[ruleID=BusyWait]
### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
    while (!uninitializedServers.isEmpty() && ((System.currentTimeMillis() - start) < serverSyncWaitTimeout)) {
      try {
        Thread.sleep(5000);
      }
      catch (InterruptedException ex) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `server/src/main/java/org/apache/druid/metadata/storage/derby/DerbyMetadataStorage.java`
#### Snippet
```java
        log.info("Derby server not yet ready, still trying...");
        try {
          Thread.sleep(100);
        }
        catch (InterruptedException e1) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java

      try {
        Thread.sleep(1000);
      }
      catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/IndexerWorkerContext.java`
#### Snippet
```java

      try {
        Thread.sleep(sleepTimeMillis);
      }
      catch (InterruptedException ignored) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java
          LOG.info("Will try again in [%s].", new Duration(sleepTime).toString());
          try {
            Thread.sleep(sleepTime);
          }
          catch (InterruptedException e2) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `indexing-service/src/main/java/org/apache/druid/indexing/common/IndexTaskClient.java`
#### Snippet
```java
            );

            Thread.sleep(sleepTime);
          }
          catch (InterruptedException e2) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocateAction.java`
#### Snippet
```java
          );
          try {
            Thread.sleep(shortRandomSleep);
          }
          catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java
              taskLockFileLock = taskLockChannel.tryLock();
              if (taskLockFileLock == null) {
                Thread.sleep(100);
              }
            }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
                  log.makeAlert(e, "Failed to manage").addData("restartDelay", restartDelay).emit();
                  try {
                    Thread.sleep(restartDelay);
                  }
                  catch (InterruptedException e2) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientSyncImpl.java`
#### Snippet
```java
                new Duration(sleepTime).toString()
            );
            Thread.sleep(sleepTime);
          }
        }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ITRetryUtil.java`
#### Snippet
```java
      );
      try {
        Thread.sleep(delayInMillis);
      }
      catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `integration-tests/src/main/java/org/apache/druid/testing/utils/HttpUtil.java`
#### Snippet
```java
            LOG.error("retrying in 3000ms, retryCount: " + retryCount);
            retryCount++;
            Thread.sleep(DELAY_FOR_RETRIES_MS);
          }
        } else {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `integration-tests/src/main/java/org/apache/druid/testing/utils/SyntheticStreamGenerator.java`
#### Snippet
```java
        if (sleepMillis > 0) {
          LOG.info("Waiting %s ms for next run cycle (at %s)", sleepMillis, nowCeilingToSecond);
          Thread.sleep(sleepMillis);
          continue;
        }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `integration-tests/src/main/java/org/apache/druid/testing/utils/SyntheticStreamGenerator.java`
#### Snippet
```java

          if (sleepTime > 0) {
            Thread.sleep(sleepTime);
          }
        }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `integration-tests/src/main/java/org/apache/druid/testing/clients/EventReceiverFirehoseTestClient.java`
#### Snippet
```java
          LOG.info(e, "received exception, sleeping and retrying");
          retryCount++;
          Thread.sleep(DELAY_FOR_RETRIES_MS);
        }
      }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `extensions-contrib/gce-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/gce/GceAutoScaler.java`
#### Snippet
```java
    while (cachedComputeService == null && retries < maxRetries) {
      if (retries > 0) {
        Thread.sleep(POLL_INTERVAL_MS);
      }

```

## RuleId[ruleID=UseCompareMethod]
### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularity.java`
#### Snippet
```java
      long leftDuration = left.bucket(DateTimes.EPOCH).toDurationMillis();
      long rightDuration = right.bucket(DateTimes.EPOCH).toDurationMillis();
      if (leftDuration < rightDuration) {
        return -1;
      } else if (leftDuration == rightDuration) {
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `processing/src/main/java/org/apache/druid/segment/data/ComparableIntArray.java`
#### Snippet
```java
        return cmp;
      }
      if (this.getDelegate().length == rhs.getDelegate().length) {
        return 0;
      } else if (this.getDelegate().length < rhs.getDelegate().length) {
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
        return cmp;
      }
      if (this.getDelegate().length == rhs.getDelegate().length) {
        return 0;
      } else if (this.getDelegate().length < rhs.getDelegate().length) {
```

### UseCompareMethod
Expression can be replaced with 'Integer.compare'
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
        return cmp;
      }
      if (this.getDelegate().size() == rhs.getDelegate().size()) {
        return 0;
      } else if (this.getDelegate().size() < rhs.getDelegate().size()) {
```

### UseCompareMethod
Expression can be replaced with 'Long.compare'
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSource.java`
#### Snippet
```java
  public int compareTo(DerivativeDataSource o)
  {
    if (this.avgSizeBasedGranularity > o.getAvgSizeBasedGranularity()) {
      return 1;
    } else if (this.avgSizeBasedGranularity == o.getAvgSizeBasedGranularity()) {
```

## RuleId[ruleID=RedundantFileCreation]
### RedundantFileCreation
`new File` is redundant
in `extensions-contrib/statsd-emitter/src/main/java/org/apache/druid/emitter/statsd/DimensionConverter.java`
#### Snippet
```java
      } else {
        log.info("Using metric dimensions at types at [%s]", dimensionMapPath);
        is = new FileInputStream(new File(dimensionMapPath));
      }
      return mapper.readerFor(new TypeReference<Map<String, StatsDMetric>>()
```

### RedundantFileCreation
`new File` is redundant
in `extensions-contrib/opentsdb-emitter/src/main/java/org/apache/druid/emitter/opentsdb/EventConverter.java`
#### Snippet
```java
      } else {
        log.info("Using default metric map located at [%s]", metricMapPath);
        is = new FileInputStream(new File(metricMapPath));
      }
      return mapper.readerFor(new TypeReference<Map<String, Set<String>>>()
```

### RedundantFileCreation
`new File` is redundant
in `extensions-contrib/influxdb-emitter/src/main/java/org/apache/druid/emitter/influxdb/InfluxdbEmitter.java`
#### Snippet
```java
      }

      try (FileInputStream in = new FileInputStream(new File(influxdbEmitterConfig.getTrustStorePath()))) {
        KeyStore store = KeyStore.getInstance(influxdbEmitterConfig.getTrustStoreType());
        store.load(in, influxdbEmitterConfig.getTrustStorePassword().toCharArray());
```

### RedundantFileCreation
`new File` is redundant
in `extensions-contrib/dropwizard-emitter/src/main/java/org/apache/druid/emitter/dropwizard/DropwizardConverter.java`
#### Snippet
```java
      } else {
        log.info("Using metric dimensions at types at [%s]", dimensionMapPath);
        is = new FileInputStream(new File(dimensionMapPath));
      }
      return mapper.readerFor(new TypeReference<Map<String, DropwizardMetricSpec>>()
```

### RedundantFileCreation
`new File` is redundant
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/Metrics.java`
#### Snippet
```java
      } else {
        log.info("Using metric configuration at [%s]", path);
        is = new FileInputStream(new File(path));
      }
      return mapper.readerFor(new TypeReference<Map<String, Metric>>()
```

## RuleId[ruleID=WaitNotInLoop]
### WaitNotInLoop
Call to `wait()` is not in loop
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/MSQWorkerTaskLauncher.java`
#### Snippet
```java
          // it acknowledges a new target. If these are not equal, do another run immediately and launch more tasks.
          if (acknowledgedDesiredTaskCount == desiredTaskCount) {
            taskIds.wait(sleepMillis);
          }
        }
```

## RuleId[ruleID=PointlessBooleanExpression]
### PointlessBooleanExpression
`this.isLowerStrict() == false` can be simplified to '!this.isLowerStrict()'
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    }

    byte lowerStrictByte = (this.isLowerStrict() == false) ? 0x0 : (byte) 1;
    byte upperStrictByte = (this.isUpperStrict() == false) ? 0x0 : (byte) 1;

```

### PointlessBooleanExpression
`this.isUpperStrict() == false` can be simplified to '!this.isUpperStrict()'
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    byte lowerStrictByte = (this.isLowerStrict() == false) ? 0x0 : (byte) 1;
    byte upperStrictByte = (this.isUpperStrict() == false) ? 0x0 : (byte) 1;

    byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();
```

### PointlessBooleanExpression
`NullHandling.replaceWithDefault() == false` can be simplified to '!NullHandling.replaceWithDefault()'
in `processing/src/main/java/org/apache/druid/query/aggregation/mean/DoubleMeanAggregator.java`
#### Snippet
```java
    Object update = selector.getObject();

    if (update == null && NullHandling.replaceWithDefault() == false) {
      return;
    }
```

### PointlessBooleanExpression
`NullHandling.replaceWithDefault() == false` can be simplified to '!NullHandling.replaceWithDefault()'
in `processing/src/main/java/org/apache/druid/query/aggregation/mean/DoubleMeanBufferAggregator.java`
#### Snippet
```java
    Object update = selector.getObject();

    if (update == null && NullHandling.replaceWithDefault() == false) {
      return;
    }
```

### PointlessBooleanExpression
`UserGroupInformation.getCurrentUser().hasKerberosCredentials() == false` can be simplified to '!UserGroupInformation.getCurrentUser().hasKerberosCredentials()'
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/HdfsStorageAuthentication.java`
#### Snippet
```java
      if (UserGroupInformation.isSecurityEnabled()) {
        try {
          if (UserGroupInformation.getCurrentUser().hasKerberosCredentials() == false
              || !UserGroupInformation.getCurrentUser().getUserName().equals(principal)) {
            log.info("Trying to authenticate user [%s] with keytab [%s]..", principal, keytab);
```

### PointlessBooleanExpression
`UserGroupInformation.getCurrentUser().hasKerberosCredentials() == false` can be simplified to '!UserGroupInformation.getCurrentUser().hasKerberosCredentials()'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
      try {
        //login for the first time.
        if (UserGroupInformation.getCurrentUser().hasKerberosCredentials() == false
            || !UserGroupInformation.getCurrentUser().getUserName().equals(internalClientPrincipal)) {
          log.info("trying to authenticate user [%s] with keytab [%s]", internalClientPrincipal, internalClientKeytab);
```

### PointlessBooleanExpression
`UserGroupInformation.getCurrentUser().hasKerberosCredentials() == false` can be simplified to '!UserGroupInformation.getCurrentUser().hasKerberosCredentials()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
      if (UserGroupInformation.isSecurityEnabled()) {
        try {
          if (UserGroupInformation.getCurrentUser().hasKerberosCredentials() == false
              || !UserGroupInformation.getCurrentUser().getUserName().equals(principal)) {
            log.info("trying to authenticate user [%s] with keytab [%s]", principal, keytab);
```

### PointlessBooleanExpression
`ingestionSchema.getIOConfig().isAppendToExisting() != true` can be simplified to '!ingestionSchema.getIOConfig().isAppendToExisting()'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/SinglePhaseSubTask.java`
#### Snippet
```java
    this.ingestionSchema = ingestionSchema;
    this.supervisorTaskId = supervisorTaskId;
    this.missingIntervalsInOverwriteMode = ingestionSchema.getIOConfig().isAppendToExisting() != true
                                           && ingestionSchema.getDataSchema()
                                                             .getGranularitySpec()
```

## RuleId[ruleID=UseBulkOperation]
### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `core/src/main/java/org/apache/druid/utils/DynamicConfigProviderUtils.java`
#### Snippet
```java
      Map<String, String> dynamicConfig = extraConfigFromProvider(config.get(dynamicConfigProviderKey), mapper);
      for (Map.Entry<String, String> entry : dynamicConfig.entrySet()) {
        newConfig.put(entry.getKey(), entry.getValue());
      }
    }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `core/src/main/java/org/apache/druid/utils/DynamicConfigProviderUtils.java`
#### Snippet
```java
      Map<String, String> dynamicConfig = extraConfigFromProvider(config.get(dynamicConfigProviderKey), mapper);
      for (Map.Entry<String, String> entry : dynamicConfig.entrySet()) {
        newConfig.put(entry.getKey(), entry.getValue());
      }
    }
```

### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java

            // Convert key to a full dummy event (key + dummy metrics).
            dims.forEach((dim, value) -> emptyEventsCopy.put(dim, value));

            r = computeMovingAverage(new MapBasedRow(cache.getDateTime(), emptyEventsCopy), true);
```

### UseBulkOperation
Iteration can be replaced with bulk 'Map.putAll()' call
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        if (!endOffsetsAreInvalid) {
          for (Entry<PartitionIdType, SequenceOffsetType> entry : endOffsets.entrySet()) {
            partitionOffsets.put(entry.getKey(), entry.getValue());
          }
        } else {
```

## RuleId[ruleID=UnstableApiUsage]
### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
public class HyperLogLogHash
{
  private static final HyperLogLogHash DEFAULT = new HyperLogLogHash(Hashing.murmur3_128());

  public static HyperLogLogHash getDefault()
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
public class HyperLogLogHash
{
  private static final HyperLogLogHash DEFAULT = new HyperLogLogHash(Hashing.murmur3_128());

  public static HyperLogLogHash getDefault()
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
  public byte[] hash(byte[] rawValue)
  {
    return hashFunction.hashBytes(rawValue).asBytes();
  }

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
  public byte[] hash(byte[] rawValue)
  {
    return hashFunction.hashBytes(rawValue).asBytes();
  }

```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
  private final HashFunction hashFunction;

  public HyperLogLogHash(HashFunction hashFunction)
  {
    this.hashFunction = hashFunction;
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogHash.java`
#### Snippet
```java
  }

  private final HashFunction hashFunction;

  public HyperLogLogHash(HashFunction hashFunction)
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
    } else if (sqlType == SqlTypeName.INTEGER) {
      if (value instanceof String) {
        coercedValue = Ints.tryParse((String) value);
      } else if (value instanceof Number) {
        coercedValue = ((Number) value).intValue();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Uninterruptibles' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/MetadataSegmentView.java`
#### Snippet
```java
  {
    if (isCacheEnabled) {
      Uninterruptibles.awaitUninterruptibly(cachePopulated);
      return publishedSegments.iterator();
    } else {
```

### UnstableApiUsage
'awaitUninterruptibly(java.util.concurrent.CountDownLatch)' is declared in unstable class 'com.google.common.util.concurrent.Uninterruptibles' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/MetadataSegmentView.java`
#### Snippet
```java
  {
    if (isCacheEnabled) {
      Uninterruptibles.awaitUninterruptibly(cachePopulated);
      return publishedSegments.iterator();
    } else {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
                }

                hostAndPort = HostAndPort.fromParts(host, port).toString();
              }
              return new Object[]{
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
                }

                hostAndPort = HostAndPort.fromParts(host, port).toString();
              }
              return new Object[]{
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
                }

                hostAndPort = HostAndPort.fromParts(host, port).toString();
              }
              return new Object[]{
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
    return new JsonParserIterator<>(
        javaType,
        Futures.immediateFuture(responseHolder.getContent()),
        request.getUrl().toString(),
        null,
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
    return new JsonParserIterator<>(
        javaType,
        Futures.immediateFuture(responseHolder.getContent()),
        request.getUrl().toString(),
        null,
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/Calcites.java`
#### Snippet
```java
        }
      } else {
        builder.append("\\").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
        isPlainAscii = false;
      }
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/Calcites.java`
#### Snippet
```java
        }
      } else {
        builder.append("\\").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
        isPlainAscii = false;
      }
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/Calcites.java`
#### Snippet
```java
        }
      } else {
        builder.append("\\").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
        isPlainAscii = false;
      }
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
  private final ConcurrentMap<String, DatasourceTable.PhysicalDatasourceMetadata> tables = new ConcurrentHashMap<>();

  private static final Interner<RowSignature> ROW_SIGNATURE_INTERNER = Interners.newWeakInterner();

  /**
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
  private final ConcurrentMap<String, DatasourceTable.PhysicalDatasourceMetadata> tables = new ConcurrentHashMap<>();

  private static final Interner<RowSignature> ROW_SIGNATURE_INTERNER = Interners.newWeakInterner();

  /**
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
  private final ConcurrentMap<String, DatasourceTable.PhysicalDatasourceMetadata> tables = new ConcurrentHashMap<>();

  private static final Interner<RowSignature> ROW_SIGNATURE_INTERNER = Interners.newWeakInterner();

  /**
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
      rowSignatureBuilder.add(entry.getKey(), valueType);
    }
    return ROW_SIGNATURE_INTERNER.intern(rowSignatureBuilder.build());
  }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Unions a set of ranges, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> unionRanges(final Iterable<Range<T>> ranges)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static <T extends Comparable<T>> RangeSet<T> unionRanges(final Iterable<Range<T>> ranges)
  {
    RangeSet<T> rangeSet = null;
    for (Range<T> range : ranges) {
      if (rangeSet == null) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    for (Range<T> range : ranges) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
      }
      rangeSet.add(range);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    for (Range<T> range : ranges) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
      }
      rangeSet.add(range);
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
        rangeSet = TreeRangeSet.create();
      }
      rangeSet.add(range);
    }
    return rangeSet;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
public class RangeSets
{
  public static <T extends Comparable<T>> RangeSet<T> of(final Range<T> range)
  {
    return unionRanges(ImmutableList.of(range));
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  }

  public static List<Interval> toIntervals(final RangeSet<Long> rangeSet)
  {
    final List<Interval> retVal = new ArrayList<>();
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    final List<Interval> retVal = new ArrayList<>();

    for (Range<Long> range : rangeSet.asRanges()) {
      final long start;
      final long end;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Intersects a set of ranges, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> intersectRanges(final Iterable<Range<T>> ranges)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static <T extends Comparable<T>> RangeSet<T> intersectRanges(final Iterable<Range<T>> ranges)
  {
    RangeSet<T> rangeSet = null;
    for (final Range<T> range : ranges) {
      if (rangeSet == null) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    for (final Range<T> range : ranges) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
        rangeSet.add(range);
      } else {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    for (final Range<T> range : ranges) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
        rangeSet.add(range);
      } else {
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
        rangeSet.add(range);
      } else {
        rangeSet = TreeRangeSet.create(rangeSet.subRangeSet(range));
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
        rangeSet.add(range);
      } else {
        rangeSet = TreeRangeSet.create(rangeSet.subRangeSet(range));
      }
    }
```

### UnstableApiUsage
'create(com.google.common.collect.RangeSet)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
        rangeSet.add(range);
      } else {
        rangeSet = TreeRangeSet.create(rangeSet.subRangeSet(range));
      }
    }
```

### UnstableApiUsage
'subRangeSet(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
        rangeSet.add(range);
      } else {
        rangeSet = TreeRangeSet.create(rangeSet.subRangeSet(range));
      }
    }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Unions a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Unions a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
    for (RangeSet<T> set : rangeSets) {
      rangeSet.addAll(set);
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
    for (RangeSet<T> set : rangeSets) {
      rangeSet.addAll(set);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
    for (RangeSet<T> set : rangeSets) {
      rangeSet.addAll(set);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
    for (RangeSet<T> set : rangeSets) {
      rangeSet.addAll(set);
    }
```

### UnstableApiUsage
'addAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    final RangeSet<T> rangeSet = TreeRangeSet.create();
    for (RangeSet<T> set : rangeSets) {
      rangeSet.addAll(set);
    }
    return rangeSet;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  }

  public static RangeSet<Long> fromIntervals(final Iterable<Interval> intervals)
  {
    final RangeSet<Long> retVal = TreeRangeSet.create();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static RangeSet<Long> fromIntervals(final Iterable<Interval> intervals)
  {
    final RangeSet<Long> retVal = TreeRangeSet.create();
    for (Interval interval : intervals) {
      retVal.add(Range.closedOpen(interval.getStartMillis(), interval.getEndMillis()));
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static RangeSet<Long> fromIntervals(final Iterable<Interval> intervals)
  {
    final RangeSet<Long> retVal = TreeRangeSet.create();
    for (Interval interval : intervals) {
      retVal.add(Range.closedOpen(interval.getStartMillis(), interval.getEndMillis()));
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static RangeSet<Long> fromIntervals(final Iterable<Interval> intervals)
  {
    final RangeSet<Long> retVal = TreeRangeSet.create();
    for (Interval interval : intervals) {
      retVal.add(Range.closedOpen(interval.getStartMillis(), interval.getEndMillis()));
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    final RangeSet<Long> retVal = TreeRangeSet.create();
    for (Interval interval : intervals) {
      retVal.add(Range.closedOpen(interval.getStartMillis(), interval.getEndMillis()));
    }
    return retVal;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Intersects a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> intersectRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Intersects a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> intersectRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    RangeSet<T> rangeSet = null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  public static <T extends Comparable<T>> RangeSet<T> intersectRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    RangeSet<T> rangeSet = null;
    for (final RangeSet<T> set : rangeSets) {
      if (rangeSet == null) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
  {
    RangeSet<T> rangeSet = null;
    for (final RangeSet<T> set : rangeSets) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    for (final RangeSet<T> set : rangeSets) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
        rangeSet.addAll(set);
      } else {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
    for (final RangeSet<T> set : rangeSets) {
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
        rangeSet.addAll(set);
      } else {
```

### UnstableApiUsage
'addAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
      if (rangeSet == null) {
        rangeSet = TreeRangeSet.create();
        rangeSet.addAll(set);
      } else {
        rangeSet.removeAll(set.complement());
```

### UnstableApiUsage
'removeAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
        rangeSet.addAll(set);
      } else {
        rangeSet.removeAll(set.complement());
      }
    }
```

### UnstableApiUsage
'complement()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
        rangeSet.addAll(set);
      } else {
        rangeSet.removeAll(set.complement());
      }
    }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
   * @return pair of new dimFilter + RangeSet of __time that should be ANDed together. Either can be null but not both.
   */
  private static Pair<DimFilter, RangeSet<Long>> extractConvertibleTimeBounds(final DimFilter filter)
  {
    if (filter instanceof AndDimFilter) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
      final List<DimFilter> children = ((AndDimFilter) filter).getFields();
      final List<DimFilter> newChildren = new ArrayList<>();
      final List<RangeSet<Long>> rangeSets = new ArrayList<>();

      for (DimFilter child : children) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

      for (DimFilter child : children) {
        final Pair<DimFilter, RangeSet<Long>> pair = extractConvertibleTimeBounds(child);
        if (pair.lhs != null) {
          newChildren.add(pair.lhs);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
    } else if (filter instanceof OrDimFilter) {
      final List<DimFilter> children = ((OrDimFilter) filter).getFields();
      final List<RangeSet<Long>> rangeSets = new ArrayList<>();

      boolean allCompletelyConverted = true;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
      boolean allHadIntervals = true;
      for (DimFilter child : children) {
        final Pair<DimFilter, RangeSet<Long>> pair = extractConvertibleTimeBounds(child);
        if (pair.lhs != null) {
          allCompletelyConverted = false;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
    } else if (filter instanceof NotDimFilter) {
      final DimFilter child = ((NotDimFilter) filter).getField();
      final Pair<DimFilter, RangeSet<Long>> pair = extractConvertibleTimeBounds(child);
      if (pair.rhs != null && pair.lhs == null) {
        return Pair.of(null, pair.rhs.complement());
```

### UnstableApiUsage
'complement()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
      final Pair<DimFilter, RangeSet<Long>> pair = extractConvertibleTimeBounds(child);
      if (pair.rhs != null && pair.lhs == null) {
        return Pair.of(null, pair.rhs.complement());
      } else {
        return Pair.of(filter, null);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

    // Convert existing filtration intervals to a RangeSet.
    final RangeSet<Long> rangeSet = RangeSets.fromIntervals(filtration.getIntervals());

    // Remove anything outside eternity.
```

### UnstableApiUsage
'removeAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

    // Remove anything outside eternity.
    rangeSet.removeAll(RangeSets.fromIntervals(ImmutableList.of(Filtration.eternity())).complement());

    // Extract time bounds from the dimFilter.
```

### UnstableApiUsage
'complement()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

    // Remove anything outside eternity.
    rangeSet.removeAll(RangeSets.fromIntervals(ImmutableList.of(Filtration.eternity())).complement());

    // Extract time bounds from the dimFilter.
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

    // Extract time bounds from the dimFilter.
    final Pair<DimFilter, RangeSet<Long>> pair = extractConvertibleTimeBounds(filtration.getDimFilter());

    if (pair.rhs != null) {
```

### UnstableApiUsage
'removeAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

    if (pair.rhs != null) {
      rangeSet.removeAll(pair.rhs.complement());
    }

```

### UnstableApiUsage
'complement()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java

    if (pair.rhs != null) {
      rangeSet.removeAll(pair.rhs.complement());
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java

      // Create a RangeSet for this group.
      final RangeSet<BoundValue> rangeSet = disjunction
                                            ? RangeSets.unionRanges(Bounds.toRanges(filterList))
                                            : RangeSets.intersectRanges(Bounds.toRanges(filterList));
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java
                                            : RangeSets.intersectRanges(Bounds.toRanges(filterList));

      if (rangeSet.asRanges().size() < filterList.size()) {
        // We found a simplification. Remove the old filters and add new ones.
        for (final BoundDimFilter bound : filterList) {
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java
        }

        if (rangeSet.asRanges().isEmpty()) {
          // range set matches nothing, equivalent to FALSE
          newChildren.add(Filtration.matchNothing());
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java
        }

        for (final Range<BoundValue> range : rangeSet.asRanges()) {
          if (!range.hasLowerBound() && !range.hasUpperBound()) {
            // range matches all, equivalent to TRUE
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/BytesCountingInputEntity.java`
#### Snippet
```java
   * Wraps an input stream, and counts the number of bytes read.
   * <p>
   * Similar to {@link CountingInputStream} but does not reset count on call to
   * {@link CountingInputStream#reset()}.
   */
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/BytesCountingInputEntity.java`
#### Snippet
```java
   * <p>
   * Similar to {@link CountingInputStream} but does not reset count on call to
   * {@link CountingInputStream#reset()}.
   */
  private static class BytesCountingInputStream extends FilterInputStream
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/Rows.java`
#### Snippet
```java
        // Longs.tryParse() doesn't support leading '+', so we need to trim it ourselves
        metricValueString = trimLeadingPlusOfLongString(metricValueString);
        Long v = Longs.tryParse(metricValueString);
        // Do NOT use ternary operator here, because it makes Java to convert Long to Double
        if (v != null) {
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java
        escaped.append(c);
      } else {
        escaped.append("\\u").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
      }
    }
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java
        escaped.append(c);
      } else {
        escaped.append("\\u").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
      }
    }
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java
        escaped.append(c);
      } else {
        escaped.append("\\u").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
      }
    }
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
  private final int maxTries;

  private CountingInputStream delegate;
  private long startOffset;

```

### UnstableApiUsage
'read(byte\[\], int, int)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
    for (int nTry = 0; nTry < maxTries; nTry++) {
      try {
        return delegate.read(b, off, len);
      }
      catch (Throwable t) {
```

### UnstableApiUsage
'read()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
    for (int nTry = 0; nTry < maxTries; nTry++) {
      try {
        return delegate.read();
      }
      catch (Throwable t) {
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
    this.retryCondition = Preconditions.checkNotNull(retryCondition, "retryCondition");
    this.maxTries = maxTries == null ? RetryUtils.DEFAULT_MAX_TRIES : maxTries;
    this.delegate = new CountingInputStream(objectOpenFunction.open(object));
    this.doWait = true;

```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
    this.retryCondition = Preconditions.checkNotNull(retryCondition, "retryCondition");
    this.maxTries = maxTries == null ? RetryUtils.DEFAULT_MAX_TRIES : maxTries;
    this.delegate = new CountingInputStream(objectOpenFunction.open(object));
    this.doWait = true;

```

### UnstableApiUsage
'skip(long)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
    for (int nTry = 0; nTry < maxTries; nTry++) {
      try {
        return delegate.skip(n);
      }
      catch (Throwable t) {
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
  {
    // Update startOffset first, since we're about to close and null out the delegate.
    startOffset += delegate.getCount();

    try {
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
        }

        delegate = new CountingInputStream(objectOpenFunction.open(object, startOffset));
      }
      catch (InterruptedException | IOException e) {
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
        }

        delegate = new CountingInputStream(objectOpenFunction.open(object, startOffset));
      }
      catch (InterruptedException | IOException e) {
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
  {
    if (delegate == null) {
      delegate = new CountingInputStream(objectOpenFunction.open(object, startOffset));
    }
  }
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/RetryingInputStream.java`
#### Snippet
```java
  {
    if (delegate == null) {
      delegate = new CountingInputStream(objectOpenFunction.open(object, startOffset));
    }
  }
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/data/input/impl/DelimitedInputFormat.java`
#### Snippet
```java

  /**
   * Copied from Guava's {@link Splitter#splitToList(CharSequence)}.
   * This is to avoid the error of the missing method signature when using an old Guava library.
   * For example, it may happen when running Druid Hadoop indexing jobs, since we may inherit the version provided by
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
  {
    try {
      final long retval = ByteStreams.copy(is, os);
      // Workarround for http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/759aa847dcaf
      os.flush();
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
  {
    try {
      final long retval = ByteStreams.copy(is, os);
      // Workarround for http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/759aa847dcaf
      os.flush();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
    FileUtils.mkdirp(file.getParentFile());
    try (OutputStream os = new BufferedOutputStream(new FileOutputStream(file))) {
      final long result = ByteStreams.copy(is, os);
      // Workarround for http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/759aa847dcaf
      os.flush();
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
    FileUtils.mkdirp(file.getParentFile());
    try (OutputStream os = new BufferedOutputStream(new FileOutputStream(file))) {
      final long result = ByteStreams.copy(is, os);
      // Workarround for http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/759aa847dcaf
      os.flush();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
            try (InputStream inputStream = byteSource.openStream()) {
              try (OutputStream outputStream = byteSink.openStream()) {
                final long retval = ByteStreams.copy(inputStream, outputStream);
                // Workarround for http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/759aa847dcaf
                outputStream.flush();
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
            try (InputStream inputStream = byteSource.openStream()) {
              try (OutputStream outputStream = byteSink.openStream()) {
                final long retval = ByteStreams.copy(inputStream, outputStream);
                // Workarround for http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/759aa847dcaf
                outputStream.flush();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java
    if (!channelFuture.isSuccess()) {
      channelResourceContainer.returnResource(); // Some other poor sap will have to deal with it...
      return Futures.immediateFailedFuture(
          new ChannelException(
              "Faulty channel in resource pool",
```

### UnstableApiUsage
'immediateFailedFuture(java.lang.Throwable)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java
    if (!channelFuture.isSuccess()) {
      channelResourceContainer.returnResource(); // Some other poor sap will have to deal with it...
      return Futures.immediateFailedFuture(
          new ChannelException(
              "Faulty channel in resource pool",
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
      return null;
    }
    Double d = Doubles.tryParse(val);
    if (d != null) {
      return d;
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
      return ((Number) val).doubleValue();
    } else if (val instanceof String) {
      Double d = Doubles.tryParse((String) val);
      return d == null ? nullValue : d.doubleValue();
    } else {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
      return ((Number) val).floatValue();
    } else if (val instanceof String) {
      Float f = Floats.tryParse((String) val);
      return f == null ? nullValue : f.floatValue();
    } else {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
      return null;
    }
    Long lobj = Longs.tryParse(val);
    if (lobj != null) {
      return lobj;
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
    }
    // try as a double, for "ddd.dd" , Longs.tryParse(..) returns null
    Double dobj = Doubles.tryParse((String) val);
    if (dobj != null) {
      return dobj.longValue();
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
    } else if (val instanceof String) {
      long l = nullValue;
      Long lobj = Longs.tryParse((String) val);
      if (lobj == null) {  // for "ddd.dd" , Longs.tryParse(..) returns null
        Double dobj = Doubles.tryParse((String) val);
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/Numbers.java`
#### Snippet
```java
      Long lobj = Longs.tryParse((String) val);
      if (lobj == null) {  // for "ddd.dd" , Longs.tryParse(..) returns null
        Double dobj = Doubles.tryParse((String) val);
        if (dobj != null) {
          l = dobj.longValue();
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java

/**
 * A resource pool based on {@link LoadingCache}. When a resource is first requested for a new key,
 * If the flag: eagerInitialization is true: use {@link EagerCreationResourceHolder}
 *    {@link ResourcePoolConfig#getMaxPerKey()} resources are initialized and cached in the {@link #pool}.
```

### UnstableApiUsage
'get(K)' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
    final ResourceHolderPerKey<K, V> holder;
    try {
      holder = pool.get(key);
    }
    catch (ExecutionException e) {
```

### UnstableApiUsage
'asMap()' is declared in unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
  {
    closed.set(true);
    final ConcurrentMap<K, ResourceHolderPerKey<K, V>> mapView = pool.asMap();
    Closer closer = Closer.create();
    for (Iterator<Map.Entry<K, ResourceHolderPerKey<K, V>>> iterator =
```

### UnstableApiUsage
'build(com.google.common.cache.CacheLoader)' is unstable because its signature references unstable interface 'com.google.common.cache.LoadingCache' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
                      final boolean eagerInitialization)
  {
    this.pool = CacheBuilder.newBuilder().build(
        new CacheLoader<K, ResourceHolderPerKey<K, V>>()
        {
```

### UnstableApiUsage
'com.google.common.cache.LoadingCache' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
{
  private static final Logger log = new Logger(ResourcePool.class);
  private final LoadingCache<K, ResourceHolderPerKey<K, V>> pool;
  private final AtomicBoolean closed = new AtomicBoolean(false);

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
    MappedByteBuffer mappedBuffer = buffersList.get(fileNum);
    if (mappedBuffer == null) {
      mappedBuffer = Files.map(outFiles.get(fileNum));
      buffersList.set(fileNum, mappedBuffer);
    }
```

### UnstableApiUsage
'map(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
    MappedByteBuffer mappedBuffer = buffersList.get(fileNum);
    if (mappedBuffer == null) {
      mappedBuffer = Files.map(outFiles.get(fileNum));
      buffersList.set(fileNum, mappedBuffer);
    }
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
        }
        internalFiles.put(
            STRING_INTERNER.intern(splits[0]),
            new Metadata(Integer.parseInt(splits[1]), Integer.parseInt(splits[2]), Integer.parseInt(splits[3]))
        );
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
    }
    finally {
      Closeables.close(in, false);
    }
  }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
    }
    finally {
      Closeables.close(in, false);
    }
  }
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
public class SmooshedFileMapper implements Closeable
{
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();

  public static SmooshedFileMapper load(File baseDir) throws IOException
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
public class SmooshedFileMapper implements Closeable
{
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();

  public static SmooshedFileMapper load(File baseDir) throws IOException
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
public class SmooshedFileMapper implements Closeable
{
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();

  public static SmooshedFileMapper load(File baseDir) throws IOException
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
   * <p>This only works for files <= {@link Integer#MAX_VALUE} bytes.
   *
   * <p>Similar to {@link com.google.common.io.Files#map(File)}, but returns {@link MappedByteBufferHandler}, that
   * makes it easier to unmap the buffer within try-with-resources pattern:
   * <pre>{@code
```

### UnstableApiUsage
'map(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
   * <p>This only works for files <= {@link Integer#MAX_VALUE} bytes.
   *
   * <p>Similar to {@link com.google.common.io.Files#map(File)}, but returns {@link MappedByteBufferHandler}, that
   * makes it easier to unmap the buffer within try-with-resources pattern:
   * <pre>{@code
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
      StreamUtils.retryCopy(
          byteSource,
          com.google.common.io.Files.asByteSink(outFile),
          shouldRetry,
          maxAttempts
```

### UnstableApiUsage
'asByteSink(java.io.File, com.google.common.io.FileWriteMode...)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
      StreamUtils.retryCopy(
          byteSource,
          com.google.common.io.Files.asByteSink(outFile),
          shouldRetry,
          maxAttempts
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
  /**
   * Creates a temporary directory inside the configured temporary space (java.io.tmpdir). Similar to the method
   * {@link com.google.common.io.Files#createTempDir()} from Guava, but has nicer error messages.
   *
   * @throws IllegalStateException if the directory could not be created
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
  /**
   * Creates a temporary directory inside the configured temporary space (java.io.tmpdir). Similar to the method
   * {@link com.google.common.io.Files#createTempDir()} from Guava, but has nicer error messages.
   *
   * @throws IllegalStateException if the directory could not be created
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
  /**
   * Creates a temporary directory inside the configured temporary space (java.io.tmpdir). Similar to the method
   * {@link com.google.common.io.Files#createTempDir()} from Guava, but has nicer error messages.
   *
   * @param prefix base directory name; if null/empty then this method will use "druid"
```

### UnstableApiUsage
'createTempDir()' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
  /**
   * Creates a temporary directory inside the configured temporary space (java.io.tmpdir). Similar to the method
   * {@link com.google.common.io.Files#createTempDir()} from Guava, but has nicer error messages.
   *
   * @param prefix base directory name; if null/empty then this method will use "druid"
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/collect/Utils.java`
#### Snippet
```java

  /**
   * Like Guava's {@link com.google.common.collect.Iterators#mergeSorted(Iterable, Comparator)}, but avoids
   * calling next() on any iterator prior to returning the value returned by the previous call to next(). This is
   * important when merging iterators that reuse container objects across calls to next().
```

### UnstableApiUsage
'AbstractListeningExecutorService()' is declared in unstable class 'com.google.common.util.concurrent.AbstractListeningExecutorService' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/DirectExecutorService.java`
#### Snippet
```java
 * already have been executed.
 */
public class DirectExecutorService extends AbstractListeningExecutorService
{

```

### UnstableApiUsage
'com.google.common.util.concurrent.AbstractListeningExecutorService' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/DirectExecutorService.java`
#### Snippet
```java
 * already have been executed.
 */
public class DirectExecutorService extends AbstractListeningExecutorService
{

```

### UnstableApiUsage
'com.google.common.primitives.UnsignedInts' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ConcurrentTimeCounter.java`
#### Snippet
```java
        return;
      }
    } while (!this.min.compareAndSet(min, UnsignedInts.toLong(time)));
  }

```

### UnstableApiUsage
'toLong(int)' is declared in unstable class 'com.google.common.primitives.UnsignedInts' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ConcurrentTimeCounter.java`
#### Snippet
```java
        return;
      }
    } while (!this.min.compareAndSet(min, UnsignedInts.toLong(time)));
  }

```

### UnstableApiUsage
'com.google.common.primitives.UnsignedInts' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ConcurrentTimeCounter.java`
#### Snippet
```java
        return;
      }
    } while (!this.max.compareAndSet(max, UnsignedInts.toLong(time)));
  }

```

### UnstableApiUsage
'toLong(int)' is declared in unstable class 'com.google.common.primitives.UnsignedInts' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ConcurrentTimeCounter.java`
#### Snippet
```java
        return;
      }
    } while (!this.max.compareAndSet(max, UnsignedInts.toLong(time)));
  }

```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/Cpu.java`
#### Snippet
```java
    try {
      List<String> lines = Files.readAllLines(Paths.get(cgroupDiscoverer.discover(CGROUP).toString(), fileName));
      return lines.stream().map(Longs::tryParse).filter(Objects::nonNull).findFirst().orElse(defaultValeue);
    }
    catch (RuntimeException | IOException ex) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuSet.java`
#### Snippet
```java
         String[] bits = cpuPart.split("-");
         if (bits.length == 2) {
           Integer low = Ints.tryParse(bits[0]);
           Integer high = Ints.tryParse(bits[1]);
           if (low != null && high != null) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuSet.java`
#### Snippet
```java
         if (bits.length == 2) {
           Integer low = Ints.tryParse(bits[0]);
           Integer high = Ints.tryParse(bits[1]);
           if (low != null && high != null) {
             return IntStream.rangeClosed(low, high);
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuSet.java`
#### Snippet
```java
           }
         } else if (bits.length == 1) {
           Integer bit = Ints.tryParse(bits[0]);
           if (bit != null) {
             return IntStream.of(bit);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/ProcCgroupDiscoverer.java`
#### Snippet
```java
    final List<String> lines;
    try {
      lines = Files.readLines(procMounts, StandardCharsets.UTF_8);
    }
    catch (IOException e) {
```

### UnstableApiUsage
'readLines(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/ProcCgroupDiscoverer.java`
#### Snippet
```java
    final List<String> lines;
    try {
      lines = Files.readLines(procMounts, StandardCharsets.UTF_8);
    }
    catch (IOException e) {
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/ProcCgroupDiscoverer.java`
#### Snippet
```java
    final List<String> lines;
    try {
      lines = Files.readLines(procCgroup, StandardCharsets.UTF_8);
    }
    catch (IOException e) {
```

### UnstableApiUsage
'readLines(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/ProcCgroupDiscoverer.java`
#### Snippet
```java
    final List<String> lines;
    try {
      lines = Files.readLines(procCgroup, StandardCharsets.UTF_8);
    }
    catch (IOException e) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/Memory.java`
#### Snippet
```java
          break;
        }
        final Long val = Longs.tryParse(parts[1]);
        if (val == null) {
          // Ignore
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
  public ExpressionType ofComplex(@Nullable String complexTypeName)
  {
    return INTERNER.intern(new ExpressionType(ExprType.COMPLEX, complexTypeName, null));
  }

```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
{
  private static final ExpressionTypeFactory INSTANCE = new ExpressionTypeFactory();
  private static final Interner<ExpressionType> INTERNER = Interners.newWeakInterner();

  public static ExpressionTypeFactory getInstance()
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
{
  private static final ExpressionTypeFactory INSTANCE = new ExpressionTypeFactory();
  private static final Interner<ExpressionType> INTERNER = Interners.newWeakInterner();

  public static ExpressionTypeFactory getInstance()
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
{
  private static final ExpressionTypeFactory INSTANCE = new ExpressionTypeFactory();
  private static final Interner<ExpressionType> INTERNER = Interners.newWeakInterner();

  public static ExpressionTypeFactory getInstance()
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
      }
    }
    return INTERNER.intern(new ExpressionType(ExprType.ARRAY, null, elementType));
  }

```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/JvmUtils.java`
#### Snippet
```java

    final String majorVersionString = st.nextToken();
    final Integer majorVersion = Ints.tryParse(majorVersionString);
    return majorVersion == null ? UNKNOWN_VERSION : majorVersion;
  }
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/GuavaUtils.java`
#### Snippet
```java
    return Strings.isNullOrEmpty(string)
           ? null
           : Longs.tryParse(string.charAt(0) == '+' ? string.substring(1) : string);
  }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
    final SettableFuture<T> retVal = SettableFuture.create();

    Futures.addCallback(
        future,
        new FutureCallback<T>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
    final SettableFuture<T> retVal = SettableFuture.create();

    Futures.addCallback(
        future,
        new FutureCallback<T>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java

  /**
   * Like {@link Futures#transform(ListenableFuture, AsyncFunction)}, but works better with lambdas due to not having
   * overloads.
   *
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java

  /**
   * Like {@link Futures#transform(ListenableFuture, AsyncFunction)}, but works better with lambdas due to not having
   * overloads.
   *
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
  public static <T, R> ListenableFuture<R> transformAsync(final ListenableFuture<T> future, final AsyncFunction<T, R> fn)
  {
    return Futures.transform(future, fn);
  }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
  public static <T, R> ListenableFuture<R> transformAsync(final ListenableFuture<T> future, final AsyncFunction<T, R> fn)
  {
    return Futures.transform(future, fn);
  }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java

  /**
   * Like {@link Futures#transform}, but works better with lambdas due to not having overloads.
   *
   * One can write {@code FutureUtils.transform(future, v -> ...)} instead of
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
  public static <T, R> ListenableFuture<R> transform(final ListenableFuture<T> future, final Function<T, R> fn)
  {
    return Futures.transform(future, fn::apply);
  }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
  public static <T, R> ListenableFuture<R> transform(final ListenableFuture<T> future, final Function<T, R> fn)
  {
    return Futures.transform(future, fn::apply);
  }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java

  /**
   * Like {@link Futures#successfulAsList}, but returns {@link Either} instead of using {@code null} in case of error.
   */
  public static <T> ListenableFuture<List<Either<Throwable, T>>> coalesce(final List<ListenableFuture<T>> futures)
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
  {
    return transform(
        Futures.successfulAsList(futures),
        values -> {
          final List<Either<Throwable, T>> eithers = new ArrayList<>();
```

### UnstableApiUsage
'successfulAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
  {
    return transform(
        Futures.successfulAsList(futures),
        values -> {
          final List<Either<Throwable, T>> eithers = new ArrayList<>();
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/utils/SerializerUtils.java`
#### Snippet
```java
    byte[] intBytes = new byte[Integer.BYTES];

    ByteStreams.readFully(in, intBytes);

    return Ints.fromByteArray(intBytes);
```

### UnstableApiUsage
'readFully(java.io.InputStream, byte\[\])' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/common/utils/SerializerUtils.java`
#### Snippet
```java
    byte[] intBytes = new byte[Integer.BYTES];

    ByteStreams.readFully(in, intBytes);

    return Ints.fromByteArray(intBytes);
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/utils/SerializerUtils.java`
#### Snippet
```java
    byte[] longBytes = new byte[Long.BYTES];

    ByteStreams.readFully(in, longBytes);

    return Longs.fromByteArray(longBytes);
```

### UnstableApiUsage
'readFully(java.io.InputStream, byte\[\])' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/common/utils/SerializerUtils.java`
#### Snippet
```java
    byte[] longBytes = new byte[Long.BYTES];

    ByteStreams.readFully(in, longBytes);

    return Longs.fromByteArray(longBytes);
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/common/utils/SerializerUtils.java`
#### Snippet
```java
    final int length = readInt(in);
    byte[] stringBytes = new byte[length];
    ByteStreams.readFully(in, stringBytes);
    return StringUtils.fromUtf8(stringBytes);
  }
```

### UnstableApiUsage
'readFully(java.io.InputStream, byte\[\])' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/common/utils/SerializerUtils.java`
#### Snippet
```java
    final int length = readInt(in);
    byte[] stringBytes = new byte[length];
    ByteStreams.readFully(in, stringBytes);
    return StringUtils.fromUtf8(stringBytes);
  }
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  {
    try (GZIPOutputStream outputStream = new GZIPOutputStream(out)) {
      final long result = ByteStreams.copy(inputStream, outputStream);
      out.flush();
      return result;
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  {
    try (GZIPOutputStream outputStream = new GZIPOutputStream(out)) {
      final long result = ByteStreams.copy(inputStream, outputStream);
      out.flush();
      return result;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static FileUtils.FileCopyResult gzip(final File inFile, final File outFile, Predicate<Throwable> shouldRetry)
  {
    gzip(Files.asByteSource(inFile), Files.asByteSink(outFile), shouldRetry);
    return new FileUtils.FileCopyResult(outFile);
  }
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static FileUtils.FileCopyResult gzip(final File inFile, final File outFile, Predicate<Throwable> shouldRetry)
  {
    gzip(Files.asByteSource(inFile), Files.asByteSink(outFile), shouldRetry);
    return new FileUtils.FileCopyResult(outFile);
  }
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static FileUtils.FileCopyResult gzip(final File inFile, final File outFile, Predicate<Throwable> shouldRetry)
  {
    gzip(Files.asByteSource(inFile), Files.asByteSink(outFile), shouldRetry);
    return new FileUtils.FileCopyResult(outFile);
  }
```

### UnstableApiUsage
'asByteSink(java.io.File, com.google.common.io.FileWriteMode...)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static FileUtils.FileCopyResult gzip(final File inFile, final File outFile, Predicate<Throwable> shouldRetry)
  {
    gzip(Files.asByteSource(inFile), Files.asByteSink(outFile), shouldRetry);
    return new FileUtils.FileCopyResult(outFile);
  }
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
      }
      zipOut.putNextEntry(new ZipEntry(file.getName()));
      totalSize += Files.asByteSource(file).copyTo(zipOut);
    }
    zipOut.closeEntry();
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
      }
      zipOut.putNextEntry(new ZipEntry(file.getName()));
      totalSize += Files.asByteSource(file).copyTo(zipOut);
    }
    zipOut.closeEntry();
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static String getGzBaseName(String fname)
  {
    final String reducedFname = Files.getNameWithoutExtension(fname);
    if (isGz(fname) && !reducedFname.isEmpty()) {
      return reducedFname;
```

### UnstableApiUsage
'getNameWithoutExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static String getGzBaseName(String fname)
  {
    final String reducedFname = Files.getNameWithoutExtension(fname);
    if (isGz(fname) && !reducedFname.isEmpty()) {
      return reducedFname;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static FileUtils.FileCopyResult gunzip(final File pulledFile, File outFile)
  {
    return gunzip(Files.asByteSource(pulledFile), outFile);
  }

```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  public static FileUtils.FileCopyResult gunzip(final File pulledFile, File outFile)
  {
    return gunzip(Files.asByteSource(pulledFile), outFile);
  }

```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  {
    try (GZIPInputStream gzipInputStream = gzipInputStream(in)) {
      final long result = ByteStreams.copy(gzipInputStream, out);
      out.flush();
      return result;
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java
  {
    try (GZIPInputStream gzipInputStream = gzipInputStream(in)) {
      final long result = ByteStreams.copy(gzipInputStream, out);
      out.flush();
      return result;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
  }

  public HostAndPort toHostAndPort()
  {
    if (tlsPort >= 0) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
  {
    if (tlsPort >= 0) {
      return HostAndPort.fromParts(host, tlsPort);
    }
    return HostAndPort.fromParts(host, port);
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
  {
    if (tlsPort >= 0) {
      return HostAndPort.fromParts(host, tlsPort);
    }
    return HostAndPort.fromParts(host, port);
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
      return HostAndPort.fromParts(host, tlsPort);
    }
    return HostAndPort.fromParts(host, port);
  }
}
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
      return HostAndPort.fromParts(host, tlsPort);
    }
    return HostAndPort.fromParts(host, port);
  }
}
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
    File versionFile = new File(inDir, "version.bin");
    if (versionFile.exists()) {
      return Ints.fromByteArray(Files.toByteArray(versionFile));
    }

```

### UnstableApiUsage
'toByteArray(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
    File versionFile = new File(inDir, "version.bin");
    if (versionFile.exists()) {
      return Ints.fromByteArray(Files.toByteArray(versionFile));
    }

```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
  {
    Collections.sort(segments);
    final Hasher hasher = HASH_FUNCTION.newHasher();
    segments.forEach(segment -> hasher.putString(segment.getId().toString(), StandardCharsets.UTF_8));
    return StringUtils.fromUtf8(hasher.hash().asBytes());
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
  {
    Collections.sort(segments);
    final Hasher hasher = HASH_FUNCTION.newHasher();
    segments.forEach(segment -> hasher.putString(segment.getId().toString(), StandardCharsets.UTF_8));
    return StringUtils.fromUtf8(hasher.hash().asBytes());
```

### UnstableApiUsage
'putString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
    Collections.sort(segments);
    final Hasher hasher = HASH_FUNCTION.newHasher();
    segments.forEach(segment -> hasher.putString(segment.getId().toString(), StandardCharsets.UTF_8));
    return StringUtils.fromUtf8(hasher.hash().asBytes());
  }
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
    final Hasher hasher = HASH_FUNCTION.newHasher();
    segments.forEach(segment -> hasher.putString(segment.getId().toString(), StandardCharsets.UTF_8));
    return StringUtils.fromUtf8(hasher.hash().asBytes());
  }

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
    final Hasher hasher = HASH_FUNCTION.newHasher();
    segments.forEach(segment -> hasher.putString(segment.getId().toString(), StandardCharsets.UTF_8));
    return StringUtils.fromUtf8(hasher.hash().asBytes());
  }

```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
public class SegmentUtils
{
  private static final HashFunction HASH_FUNCTION = Hashing.sha256();

  /**
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
public class SegmentUtils
{
  private static final HashFunction HASH_FUNCTION = Hashing.sha256();

  /**
```

### UnstableApiUsage
'sha256()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
public class SegmentUtils
{
  private static final HashFunction HASH_FUNCTION = Hashing.sha256();

  /**
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
    }
    // i guess this is potentially unbounded if we ever support arbitrarily deep nested arrays
    return INTERNER.intern(new ColumnType(ValueType.ARRAY, null, elementType));
  }

```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
      return ColumnType.UNKNOWN_COMPLEX;
    }
    return INTERNER.intern(new ColumnType(ValueType.COMPLEX, complexTypeName, null));
  }
}
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
        }
      case COMPLEX:
        return INTERNER.intern(new ColumnType(ValueType.COMPLEX, type.getComplexTypeName(), null));
      default:
        throw new ISE("Unsupported column type[%s]", type.asTypeString());
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
  private static final ColumnTypeFactory INSTANCE = new ColumnTypeFactory();

  private static final Interner<ColumnType> INTERNER = Interners.newWeakInterner();

  public static TypeFactory<ColumnType> getInstance()
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
  private static final ColumnTypeFactory INSTANCE = new ColumnTypeFactory();

  private static final Interner<ColumnType> INTERNER = Interners.newWeakInterner();

  public static TypeFactory<ColumnType> getInstance()
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
  private static final ColumnTypeFactory INSTANCE = new ColumnTypeFactory();

  private static final Interner<ColumnType> INTERNER = Interners.newWeakInterner();

  public static TypeFactory<ColumnType> getInstance()
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/segment/loading/TombstoneLoadSpec.java`
#### Snippet
```java
    final File factoryJson = new File(destDir, "factory.json");
    factoryJson.createNewFile();
    Files.write(factoryJSONString.getBytes(StandardCharsets.UTF_8), factoryJson);
    return factoryJSONString.length();
  }
```

### UnstableApiUsage
'write(byte\[\], java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `core/src/main/java/org/apache/druid/segment/loading/TombstoneLoadSpec.java`
#### Snippet
```java
    final File factoryJson = new File(destDir, "factory.json");
    factoryJson.createNewFile();
    Files.write(factoryJSONString.getBytes(StandardCharsets.UTF_8), factoryJson);
    return factoryJSONString.length();
  }
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
   * To decrease the memory required for storing intervals, intern them, since the number of distinct values is "low"
   */
  private static final Interner<Interval> INTERVAL_INTERNER = Interners.newWeakInterner();

  private static final char DELIMITER = '_';
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
   * To decrease the memory required for storing intervals, intern them, since the number of distinct values is "low"
   */
  private static final Interner<Interval> INTERVAL_INTERNER = Interners.newWeakInterner();

  private static final char DELIMITER = '_';
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
   * To decrease the memory required for storing intervals, intern them, since the number of distinct values is "low"
   */
  private static final Interner<Interval> INTERVAL_INTERNER = Interners.newWeakInterner();

  private static final char DELIMITER = '_';
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
   * segment identifiers.
   */
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();

  /**
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
   * segment identifiers.
   */
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();

  /**
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
   * segment identifiers.
   */
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();

  /**
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
  public static Iterable<SegmentId> iterateAllPossibleParsings(String segmentId)
  {
    List<String> splits = DELIMITER_SPLITTER.splitToList(segmentId);
    String probableDataSource = tryExtractMostProbableDataSource(segmentId);
    // Iterate parsings with the most probably data source first to allow the users of iterateAllPossibleParsings() to
```

### UnstableApiUsage
'splitToList(java.lang.CharSequence)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java

    String remaining = segmentId.substring(dataSource.length() + 1);
    List<String> splits = DELIMITER_SPLITTER.splitToList(remaining);
    if (splits.size() < 3) {
      return Collections.emptyList();
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
    String trail = splits.size() > 3 ? splits.get(splits.size() - 1) : null;
    if (trail != null) {
      Integer possiblePartitionNum = Ints.tryParse(trail);
      if (possiblePartitionNum != null && possiblePartitionNum > 0) {
        possibleParsings.add(of(dataSource, new Interval(start, end), version, possiblePartitionNum));
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
  private SegmentId(String dataSource, Interval interval, String version, int partitionNum)
  {
    this.dataSource = STRING_INTERNER.intern(Objects.requireNonNull(dataSource));
    this.interval = INTERVAL_INTERNER.intern(Objects.requireNonNull(interval));
    // Versions are timestamp-based Strings, interning of them doesn't make sense. If this is not the case, interning
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/SegmentId.java`
#### Snippet
```java
  {
    this.dataSource = STRING_INTERNER.intern(Objects.requireNonNull(dataSource));
    this.interval = INTERVAL_INTERNER.intern(Objects.requireNonNull(interval));
    // Versions are timestamp-based Strings, interning of them doesn't make sense. If this is not the case, interning
    // could be conditionally allowed via a system property.
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/TombstoneShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/BuildingShardSpec.java`
#### Snippet
```java

  @Override
  default boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    throw new UnsupportedOperationException();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/BucketNumberedShardSpec.java`
#### Snippet
```java

  @Override
  default boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    throw new UnsupportedOperationException();
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashPartitionFunction.java`
#### Snippet
```java
    {
      return Math.abs(
          Hashing.murmur3_32().hashBytes(serializedRow).asInt() % numBuckets
      );
    }
```

### UnstableApiUsage
'murmur3_32()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashPartitionFunction.java`
#### Snippet
```java
    {
      return Math.abs(
          Hashing.murmur3_32().hashBytes(serializedRow).asInt() % numBuckets
      );
    }
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashPartitionFunction.java`
#### Snippet
```java
    {
      return Math.abs(
          Hashing.murmur3_32().hashBytes(serializedRow).asInt() % numBuckets
      );
    }
```

### UnstableApiUsage
'asInt()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashPartitionFunction.java`
#### Snippet
```java
    {
      return Math.abs(
          Hashing.murmur3_32().hashBytes(serializedRow).asInt() % numBuckets
      );
    }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/LinearShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    // partitionFunction should be used instead of HashPartitioner at query time.
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java
    Map<String, Set<String>> domainSet = new HashMap<>();
    for (String p : partitionDimensions) {
      RangeSet<String> domainRangeSet = domain.get(p);
      if (domainRangeSet == null || domainRangeSet.isEmpty()) {
        return true;
```

### UnstableApiUsage
'isEmpty()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java
    for (String p : partitionDimensions) {
      RangeSet<String> domainRangeSet = domain.get(p);
      if (domainRangeSet == null || domainRangeSet.isEmpty()) {
        return true;
      }
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java
      }

      for (Range<String> v : domainRangeSet.asRanges()) {
        // If there are range values, simply bypass, because we can't hash range values
        if (v.isEmpty() || !v.hasLowerBound() || !v.hasUpperBound() ||
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/NoneShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/NumberedOverwriteShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
   */
  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    final StringTuple segmentStart = start == null ? new StringTuple(new String[dimensions.size()]) : start;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
    for (int i = 0; i < dimensions.size(); i++) {
      String dimension = dimensions.get(i);
      RangeSet<String> queryDomainForDimension = domain.get(dimension);
      if (queryDomainForDimension == null) {
        queryDomainForDimension = TreeRangeSet.create();
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
      RangeSet<String> queryDomainForDimension = domain.get(dimension);
      if (queryDomainForDimension == null) {
        queryDomainForDimension = TreeRangeSet.create();
        queryDomainForDimension.add(Range.all());
      }
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
      RangeSet<String> queryDomainForDimension = domain.get(dimension);
      if (queryDomainForDimension == null) {
        queryDomainForDimension = TreeRangeSet.create();
        queryDomainForDimension.add(Range.all());
      }
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
      if (queryDomainForDimension == null) {
        queryDomainForDimension = TreeRangeSet.create();
        queryDomainForDimension.add(Range.all());
      }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java

      // EffectiveDomain[i] = QueryDomain[i] INTERSECTION SegmentRange[i]
      RangeSet<String> effectiveDomainForDimension = queryDomainForDimension.subRangeSet(rangeTillSegmentBoundary);

      // Create an iterator to use for checking if the RangeSet is empty or is a singleton. This is significantly
```

### UnstableApiUsage
'subRangeSet(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java

      // EffectiveDomain[i] = QueryDomain[i] INTERSECTION SegmentRange[i]
      RangeSet<String> effectiveDomainForDimension = queryDomainForDimension.subRangeSet(rangeTillSegmentBoundary);

      // Create an iterator to use for checking if the RangeSet is empty or is a singleton. This is significantly
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
      // faster than using isEmpty() and equals(), because those methods call size() internally, which iterates
      // the entire RangeSet.
      final Iterator<Range<String>> effectiveDomainRangeIterator = effectiveDomainForDimension.asRanges().iterator();

      // Prune segment because query domain is out of segment range
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/SingleDimensionShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    RangeSet<String> rangeSet = domain.get(dimension);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/SingleDimensionShardSpec.java`
#### Snippet
```java
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    RangeSet<String> rangeSet = domain.get(dimension);
    if (rangeSet == null) {
      return true;
```

### UnstableApiUsage
'subRangeSet(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/SingleDimensionShardSpec.java`
#### Snippet
```java
      return true;
    }
    return !rangeSet.subRangeSet(getRange()).isEmpty();
  }

```

### UnstableApiUsage
'isEmpty()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/SingleDimensionShardSpec.java`
#### Snippet
```java
      return true;
    }
    return !rangeSet.subRangeSet(getRange()).isEmpty();
  }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/NumberedShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    return true;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/partition/ShardSpec.java`
#### Snippet
```java
   */
  @JsonIgnore
  boolean possibleInDomain(Map<String, RangeSet<String>> domain);

  /**
```

### UnstableApiUsage
'com.google.common.collect.MinMaxPriorityQueue' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
  {
    this.limit = limit;
    this.queue = MinMaxPriorityQueue
        .orderedBy(
            Ordering.from(
```

### UnstableApiUsage
'orderedBy(java.util.Comparator**)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta**
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
    this.limit = limit;
    this.queue = MinMaxPriorityQueue
        .orderedBy(
            Ordering.from(
                Comparator.<NumberedElement<T>, T>comparing(NumberedElement::getElement, comparator)
```

### UnstableApiUsage
'maximumSize(int)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue.Builder' marked with @Beta
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
            )
        )
        .maximumSize(limit)
        .create();
  }
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue.Builder' marked with @Beta
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
        )
        .maximumSize(limit)
        .create();
  }

```

### UnstableApiUsage
'offer(E)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
  public void add(T element)
  {
    queue.offer(new NumberedElement<>(element, size++));
  }

```

### UnstableApiUsage
'com.google.common.collect.MinMaxPriorityQueue' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
public class StableLimitingSorter<T>
{
  private final MinMaxPriorityQueue<NumberedElement<T>> queue;
  private final int limit;

```

### UnstableApiUsage
'poll()' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
      public T next()
      {
        return queue.poll().getElement();
      }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
    synchronized (this) {
      if (closed) {
        return Futures.immediateFuture(ServiceLocations.closed());
      } else if (initialized) {
        return Futures.immediateFuture(ServiceLocations.forLocations(ImmutableSet.copyOf(locations)));
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
    synchronized (this) {
      if (closed) {
        return Futures.immediateFuture(ServiceLocations.closed());
      } else if (initialized) {
        return Futures.immediateFuture(ServiceLocations.forLocations(ImmutableSet.copyOf(locations)));
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
        return Futures.immediateFuture(ServiceLocations.closed());
      } else if (initialized) {
        return Futures.immediateFuture(ServiceLocations.forLocations(ImmutableSet.copyOf(locations)));
      } else {
        if (pendingFuture == null) {
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
        return Futures.immediateFuture(ServiceLocations.closed());
      } else if (initialized) {
        return Futures.immediateFuture(ServiceLocations.forLocations(ImmutableSet.copyOf(locations)));
      } else {
        if (pendingFuture == null) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
        }

        return Futures.nonCancellationPropagating(pendingFuture);
      }
    }
```

### UnstableApiUsage
'nonCancellationPropagating(com.google.common.util.concurrent.ListenableFuture)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
        }

        return Futures.nonCancellationPropagating(pendingFuture);
      }
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
    synchronized (lock) {
      if (pendingFuture != null) {
        return Futures.nonCancellationPropagating(pendingFuture);
      } else if (closed || lastKnownState != TaskState.RUNNING) {
        return Futures.immediateFuture(ServiceLocations.closed());
```

### UnstableApiUsage
'nonCancellationPropagating(com.google.common.util.concurrent.ListenableFuture)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
    synchronized (lock) {
      if (pendingFuture != null) {
        return Futures.nonCancellationPropagating(pendingFuture);
      } else if (closed || lastKnownState != TaskState.RUNNING) {
        return Futures.immediateFuture(ServiceLocations.closed());
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        return Futures.nonCancellationPropagating(pendingFuture);
      } else if (closed || lastKnownState != TaskState.RUNNING) {
        return Futures.immediateFuture(ServiceLocations.closed());
      } else if (lastKnownLocation == null || lastUpdateTime + LOCATION_CACHE_MS < System.currentTimeMillis()) {
        final ListenableFuture<TaskStatusResponse> taskStatusFuture;
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        return Futures.nonCancellationPropagating(pendingFuture);
      } else if (closed || lastKnownState != TaskState.RUNNING) {
        return Futures.immediateFuture(ServiceLocations.closed());
      } else if (lastKnownLocation == null || lastUpdateTime + LOCATION_CACHE_MS < System.currentTimeMillis()) {
        final ListenableFuture<TaskStatusResponse> taskStatusFuture;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        );

        Futures.addCallback(
            taskStatusFuture,
            new FutureCallback<TaskStatusResponse>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        );

        Futures.addCallback(
            taskStatusFuture,
            new FutureCallback<TaskStatusResponse>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        );

        return Futures.nonCancellationPropagating(retVal);
      } else {
        return Futures.immediateFuture(ServiceLocations.forLocation(lastKnownLocation));
```

### UnstableApiUsage
'nonCancellationPropagating(com.google.common.util.concurrent.ListenableFuture)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        );

        return Futures.nonCancellationPropagating(retVal);
      } else {
        return Futures.immediateFuture(ServiceLocations.forLocation(lastKnownLocation));
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        return Futures.nonCancellationPropagating(retVal);
      } else {
        return Futures.immediateFuture(ServiceLocations.forLocation(lastKnownLocation));
      }
    }
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java
        return Futures.nonCancellationPropagating(retVal);
      } else {
        return Futures.immediateFuture(ServiceLocations.forLocation(lastKnownLocation));
      }
    }
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
    Map<String, Object> result = new Object2ObjectArrayMap<>(loadSpec.size());
    for (Map.Entry<String, Object> e : loadSpec.entrySet()) {
      result.put(STRING_INTERNER.intern(e.getKey()), e.getValue());
    }
    return result;
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
  private static final Map<String, Object> PRUNED_LOAD_SPEC = ImmutableMap.of(
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
  private static final Map<String, Object> PRUNED_LOAD_SPEC = ImmutableMap.of(
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
  private static final Map<String, Object> PRUNED_LOAD_SPEC = ImmutableMap.of(
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
      return null;
    }
    return COMPACTION_STATE_INTERNER.intern(lastCompactionState);
  }

```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
  private static final Map<String, Object> PRUNED_LOAD_SPEC = ImmutableMap.of(
      "load spec is pruned, because it's not needed on Brokers, but eats a lot of heap space",
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
  private static final Map<String, Object> PRUNED_LOAD_SPEC = ImmutableMap.of(
      "load spec is pruned, because it's not needed on Brokers, but eats a lot of heap space",
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
  private static final Map<String, Object> PRUNED_LOAD_SPEC = ImmutableMap.of(
      "load spec is pruned, because it's not needed on Brokers, but eats a lot of heap space",
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  }

  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  }

  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  }

  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java

  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java

  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java

  private static final Interner<String> STRING_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> DIMENSIONS_INTERNER = Interners.newWeakInterner();
  private static final Interner<List<String>> METRICS_INTERNER = Interners.newWeakInterner();
  private static final Interner<CompactionState> COMPACTION_STATE_INTERNER = Interners.newWeakInterner();
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
  }

  private List<String> prepareDimensionsOrMetrics(@Nullable List<String> list, Interner<List<String>> interner)
  {
    if (list == null) {
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
          // dimensions & metrics are stored as canonical string values to decrease memory required for storing
          // large numbers of segments.
          .map(STRING_INTERNER::intern)
          // TODO replace with ImmutableList.toImmutableList() when updated to Guava 21+
          .collect(Collectors.collectingAndThen(Collectors.toList(), ImmutableList::copyOf));
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
          // TODO replace with ImmutableList.toImmutableList() when updated to Guava 21+
          .collect(Collectors.collectingAndThen(Collectors.toList(), ImmutableList::copyOf));
      return interner.intern(result);
    }
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/ServiceClientImpl.java`
#### Snippet
```java
  private <T> void whenServiceReady(final Consumer<ServiceLocations> callback, final SettableFuture<T> retVal)
  {
    Futures.addCallback(
        serviceLocator.locate(),
        new FutureCallback<ServiceLocations>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/ServiceClientImpl.java`
#### Snippet
```java
  private <T> void whenServiceReady(final Consumer<ServiceLocations> callback, final SettableFuture<T> retVal)
  {
    Futures.addCallback(
        serviceLocator.locate(),
        new FutureCallback<ServiceLocations>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/rpc/ServiceClientImpl.java`
#### Snippet
```java
          );

          Futures.addCallback(
              responseFuture,
              new FutureCallback<Either<StringFullResponseHolder, FinalType>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/rpc/ServiceClientImpl.java`
#### Snippet
```java
          );

          Futures.addCallback(
              responseFuture,
              new FutureCallback<Either<StringFullResponseHolder, FinalType>>()
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
{
  private static final Interner<DataSegment> REALTIME_INTERNER = Interners.newWeakInterner();
  private static final Interner<DataSegment> HISTORICAL_INTERNER = Interners.newWeakInterner();

  private DataSegmentInterner()
```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
{
  private static final Interner<DataSegment> REALTIME_INTERNER = Interners.newWeakInterner();
  private static final Interner<DataSegment> HISTORICAL_INTERNER = Interners.newWeakInterner();

  private DataSegmentInterner()
```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
{
  private static final Interner<DataSegment> REALTIME_INTERNER = Interners.newWeakInterner();
  private static final Interner<DataSegment> HISTORICAL_INTERNER = Interners.newWeakInterner();

  private DataSegmentInterner()
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
public class DataSegmentInterner
{
  private static final Interner<DataSegment> REALTIME_INTERNER = Interners.newWeakInterner();
  private static final Interner<DataSegment> HISTORICAL_INTERNER = Interners.newWeakInterner();

```

### UnstableApiUsage
'com.google.common.collect.Interners' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
public class DataSegmentInterner
{
  private static final Interner<DataSegment> REALTIME_INTERNER = Interners.newWeakInterner();
  private static final Interner<DataSegment> HISTORICAL_INTERNER = Interners.newWeakInterner();

```

### UnstableApiUsage
'newWeakInterner()' is declared in unstable class 'com.google.common.collect.Interners' marked with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
public class DataSegmentInterner
{
  private static final Interner<DataSegment> REALTIME_INTERNER = Interners.newWeakInterner();
  private static final Interner<DataSegment> HISTORICAL_INTERNER = Interners.newWeakInterner();

```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
    // for that reason, we are using it's size as the indicator to decide whether to use REALTIME or
    // HISTORICAL interner.
    return segment.getSize() > 0 ? HISTORICAL_INTERNER.intern(segment) : REALTIME_INTERNER.intern(segment);
  }
}
```

### UnstableApiUsage
'intern(E)' is declared in unstable interface 'com.google.common.collect.Interner' marked with @Beta
in `server/src/main/java/org/apache/druid/client/DataSegmentInterner.java`
#### Snippet
```java
    // for that reason, we are using it's size as the indicator to decide whether to use REALTIME or
    // HISTORICAL interner.
    return segment.getSize() > 0 ? HISTORICAL_INTERNER.intern(segment) : REALTIME_INTERNER.intern(segment);
  }
}
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/DirectDruidClient.java`
#### Snippet
```java

      openConnections.getAndIncrement();
      Futures.addCallback(
          future,
          new FutureCallback<InputStream>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/client/DirectDruidClient.java`
#### Snippet
```java

      openConnections.getAndIncrement();
      Futures.addCallback(
          future,
          new FutureCallback<InputStream>()
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java

      final Set<SegmentServerSelector> segments = new LinkedHashSet<>();
      final Map<String, Optional<RangeSet<String>>> dimensionRangeCache = new HashMap<>();
      // Filter unneeded chunks based on partition dimension
      for (TimelineObjectHolder<String, ServerSelector> holder : serversLookup) {
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    )
    {
      Hasher hasher = Hashing.sha1().newHasher();
      boolean hasOnlyHistoricalSegments = true;
      for (SegmentServerSelector p : segments) {
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    )
    {
      Hasher hasher = Hashing.sha1().newHasher();
      boolean hasOnlyHistoricalSegments = true;
      for (SegmentServerSelector p : segments) {
```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    )
    {
      Hasher hasher = Hashing.sha1().newHasher();
      boolean hasOnlyHistoricalSegments = true;
      for (SegmentServerSelector p : segments) {
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    )
    {
      Hasher hasher = Hashing.sha1().newHasher();
      boolean hasOnlyHistoricalSegments = true;
      for (SegmentServerSelector p : segments) {
```

### UnstableApiUsage
'putString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
          break;
        }
        hasher.putString(p.getServer().getSegment().getId().toString(), StandardCharsets.UTF_8);
        // it is important to add the "query interval" as part ETag calculation
        // to have result level cache work correctly for queries with different
```

### UnstableApiUsage
'putString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
        // to have result level cache work correctly for queries with different
        // intervals covering the same set of segments
        hasher.putString(p.rhs.getInterval().toString(), StandardCharsets.UTF_8);
      }

```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
        return null;
      }
      hasher.putBytes(queryCacheKeyFinal);
      String currEtag = StringUtils.encodeBase64String(hasher.hash().asBytes());
      return currEtag;
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      }
      hasher.putBytes(queryCacheKeyFinal);
      String currEtag = StringUtils.encodeBase64String(hasher.hash().asBytes());
      return currEtag;
    }
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      }
      hasher.putBytes(queryCacheKeyFinal);
      String currEtag = StringUtils.encodeBase64String(hasher.hash().asBytes());
      return currEtag;
    }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

      try {
        HostAndPort hostAndPort = HostAndPort.fromString(druidServer.getHost());
        this.syncer = new ChangeRequestHttpSyncer<>(
            smileMapper,
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

      try {
        HostAndPort hostAndPort = HostAndPort.fromString(druidServer.getHost());
        this.syncer = new ChangeRequestHttpSyncer<>(
            smileMapper,
```

### UnstableApiUsage
'fromString(java.lang.String)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

      try {
        HostAndPort hostAndPort = HostAndPort.fromString(druidServer.getHost());
        this.syncer = new ChangeRequestHttpSyncer<>(
            smileMapper,
```

### UnstableApiUsage
'getHostText()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
            httpClient,
            executor,
            new URL(druidServer.getScheme(), hostAndPort.getHostText(), hostAndPort.getPort(), "/"),
            "/druid-internal/v1/segments",
            SEGMENT_LIST_RESP_TYPE_REF,
```

### UnstableApiUsage
'getPort()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
            httpClient,
            executor,
            new URL(druidServer.getScheme(), hostAndPort.getHostText(), hostAndPort.getPort(), "/"),
            "/druid-internal/v1/segments",
            SEGMENT_LIST_RESP_TYPE_REF,
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      rv = v;
    } else {
      rv = Doubles.tryParse(value);
    }
    return rv;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
        wrappedSequence,
        () -> {
          Futures.addCallback(
              Futures.allAsList(cacheFutures),
              new FutureCallback<List<CacheType>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
        wrappedSequence,
        () -> {
          Futures.addCallback(
              Futures.allAsList(cacheFutures),
              new FutureCallback<List<CacheType>>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
        () -> {
          Futures.addCallback(
              Futures.allAsList(cacheFutures),
              new FutureCallback<List<CacheType>>()
              {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
        () -> {
          Futures.addCallback(
              Futures.allAsList(cacheFutures),
              new FutureCallback<List<CacheType>>()
              {
```

### UnstableApiUsage
'hashString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java
    public long hash(String k)
    {
      return fn.hashString(k, StandardCharsets.UTF_8).asLong();
    }

```

### UnstableApiUsage
'asLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java
    public long hash(String k)
    {
      return fn.hashString(k, StandardCharsets.UTF_8).asLong();
    }

```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java
  static final HashAlgorithm MURMUR3_128 = new HashAlgorithm()
  {
    final HashFunction fn = Hashing.murmur3_128();

    @Override
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java
  static final HashAlgorithm MURMUR3_128 = new HashAlgorithm()
  {
    final HashFunction fn = Hashing.murmur3_128();

    @Override
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java
  static final HashAlgorithm MURMUR3_128 = new HashAlgorithm()
  {
    final HashFunction fn = Hashing.murmur3_128();

    @Override
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java

    final boolean nullHost = host == null;
    HostAndPort hostAndPort;
    Integer portFromHostConfig;
    if (host != null) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    Integer portFromHostConfig;
    if (host != null) {
      hostAndPort = HostAndPort.fromString(host);
      host = hostAndPort.getHostText();
      portFromHostConfig = hostAndPort.hasPort() ? hostAndPort.getPort() : null;
```

### UnstableApiUsage
'fromString(java.lang.String)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    Integer portFromHostConfig;
    if (host != null) {
      hostAndPort = HostAndPort.fromString(host);
      host = hostAndPort.getHostText();
      portFromHostConfig = hostAndPort.hasPort() ? hostAndPort.getPort() : null;
```

### UnstableApiUsage
'getHostText()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    if (host != null) {
      hostAndPort = HostAndPort.fromString(host);
      host = hostAndPort.getHostText();
      portFromHostConfig = hostAndPort.hasPort() ? hostAndPort.getPort() : null;
      if (plainTextPort != null && portFromHostConfig != null && !plainTextPort.equals(portFromHostConfig)) {
```

### UnstableApiUsage
'hasPort()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      hostAndPort = HostAndPort.fromString(host);
      host = hostAndPort.getHostText();
      portFromHostConfig = hostAndPort.hasPort() ? hostAndPort.getPort() : null;
      if (plainTextPort != null && portFromHostConfig != null && !plainTextPort.equals(portFromHostConfig)) {
        throw new IAE("Conflicting host:port [%s] and port [%d] settings", host, plainTextPort);
```

### UnstableApiUsage
'getPort()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
      hostAndPort = HostAndPort.fromString(host);
      host = hostAndPort.getHostText();
      portFromHostConfig = hostAndPort.hasPort() ? hostAndPort.getPort() : null;
      if (plainTextPort != null && portFromHostConfig != null && !plainTextPort.equals(portFromHostConfig)) {
        throw new IAE("Conflicting host:port [%s] and port [%d] settings", host, plainTextPort);
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
  {
    if (enableTlsPort) {
      return HostAndPort.fromParts(host, tlsPort).toString();
    }
    return null;
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
  {
    if (enableTlsPort) {
      return HostAndPort.fromParts(host, tlsPort).toString();
    }
    return null;
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
  {
    if (enableTlsPort) {
      return HostAndPort.fromParts(host, tlsPort).toString();
    }
    return null;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    if (enablePlaintextPort) {
      if (plaintextPort < 0) {
        return HostAndPort.fromString(host).toString();
      } else {
        return HostAndPort.fromParts(host, plaintextPort).toString();
```

### UnstableApiUsage
'fromString(java.lang.String)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    if (enablePlaintextPort) {
      if (plaintextPort < 0) {
        return HostAndPort.fromString(host).toString();
      } else {
        return HostAndPort.fromParts(host, plaintextPort).toString();
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
    if (enablePlaintextPort) {
      if (plaintextPort < 0) {
        return HostAndPort.fromString(host).toString();
      } else {
        return HostAndPort.fromParts(host, plaintextPort).toString();
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
        return HostAndPort.fromString(host).toString();
      } else {
        return HostAndPort.fromParts(host, plaintextPort).toString();
      }
    }
```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
        return HostAndPort.fromString(host).toString();
      } else {
        return HostAndPort.fromParts(host, plaintextPort).toString();
      }
    }
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
        return HostAndPort.fromString(host).toString();
      } else {
        return HostAndPort.fromParts(host, plaintextPort).toString();
      }
    }
```

### UnstableApiUsage
'CountingOutputStream(java.io.OutputStream)' is declared in unstable class 'com.google.common.io.CountingOutputStream' marked with @Beta
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java

        try {
          out = new CountingOutputStream(response.getOutputStream());
          writer = resultsWriter.makeWriter(out);
        }
```

### UnstableApiUsage
'com.google.common.io.CountingOutputStream' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java

        try {
          out = new CountingOutputStream(response.getOutputStream());
          writer = resultsWriter.makeWriter(out);
        }
```

### UnstableApiUsage
'com.google.common.io.CountingOutputStream' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
    private boolean closed = false;
    private boolean initialized = false;
    private CountingOutputStream out = null;
    private Writer writer = null;

```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingOutputStream' marked with @Beta
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
    public long getNumBytesSent()
    {
      return out == null ? 0 : out.getCount();
    }

```

### UnstableApiUsage
'getPortOrDefault(int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public int getPortOrDefault(int defaultPort)
  {
    return hostAndPort.getPortOrDefault(defaultPort);
  }

```

### UnstableApiUsage
'getPort()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public int getPort()
  {
    return hostAndPort.getPort();
  }

```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public String toString()
  {
    return StringUtils.format("%s:%s", scheme, hostAndPort.toString());
  }

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  }

  public HostAndPort getHostAndPort()
  {
    return hostAndPort;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
{
  private String scheme;
  private HostAndPort hostAndPort;

  public HostAndPortWithScheme(String scheme, HostAndPort hostAndPort)
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  private HostAndPort hostAndPort;

  public HostAndPortWithScheme(String scheme, HostAndPort hostAndPort)
  {
    this.scheme = scheme;
```

### UnstableApiUsage
'getHostText()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public String getHostText()
  {
    return hostAndPort.getHostText();
  }

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public static HostAndPortWithScheme fromString(String scheme, String hostPortString)
  {
    return new HostAndPortWithScheme(checkAndGetScheme(scheme), HostAndPort.fromString(hostPortString));
  }

```

### UnstableApiUsage
'fromString(java.lang.String)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public static HostAndPortWithScheme fromString(String scheme, String hostPortString)
  {
    return new HostAndPortWithScheme(checkAndGetScheme(scheme), HostAndPort.fromString(hostPortString));
  }

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public static HostAndPortWithScheme fromParts(String scheme, String host, int port)
  {
    return new HostAndPortWithScheme(scheme, HostAndPort.fromParts(host, port));
  }

```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  public static HostAndPortWithScheme fromParts(String scheme, String host, int port)
  {
    return new HostAndPortWithScheme(scheme, HostAndPort.fromParts(host, port));
  }

```

### UnstableApiUsage
'equals(java.lang.Object)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
      return false;
    }
    return hostAndPort.equals(that.hostAndPort);
  }

```

### UnstableApiUsage
'hashCode()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/HostAndPortWithScheme.java`
#### Snippet
```java
  {
    int result = scheme.hashCode();
    result = 31 * result + hostAndPort.hashCode();
    return result;
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/SegmentListerResource.java`
#### Snippet
```java
    );

    Futures.addCallback(
        future,
        new FutureCallback<List<SegmentLoadDropHandler.DataSegmentChangeRequestAndStatus>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/SegmentListerResource.java`
#### Snippet
```java
    );

    Futures.addCallback(
        future,
        new FutureCallback<List<SegmentLoadDropHandler.DataSegmentChangeRequestAndStatus>>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/SegmentListerResource.java`
#### Snippet
```java
    );

    Futures.addCallback(
        future,
        new FutureCallback<ChangeRequestsSnapshot<DataSegmentChangeRequest>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/server/http/SegmentListerResource.java`
#### Snippet
```java
    );

    Futures.addCallback(
        future,
        new FutureCallback<ChangeRequestsSnapshot<DataSegmentChangeRequest>>()
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java

    for (String nodeId : nodeIds) {
      long combinedHash = HASH_FN.newHasher()
                                 .putString(nodeId, StandardCharsets.UTF_8)
                                 .putBytes(key)
```

### UnstableApiUsage
'putString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
    for (String nodeId : nodeIds) {
      long combinedHash = HASH_FN.newHasher()
                                 .putString(nodeId, StandardCharsets.UTF_8)
                                 .putBytes(key)
                                 .hash().asLong();
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
      long combinedHash = HASH_FN.newHasher()
                                 .putString(nodeId, StandardCharsets.UTF_8)
                                 .putBytes(key)
                                 .hash().asLong();
      if (maxNode == null) {
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
                                 .putString(nodeId, StandardCharsets.UTF_8)
                                 .putBytes(key)
                                 .hash().asLong();
      if (maxNode == null) {
        maxHash = combinedHash;
```

### UnstableApiUsage
'asLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
                                 .putString(nodeId, StandardCharsets.UTF_8)
                                 .putBytes(key)
                                 .hash().asLong();
      if (maxNode == null) {
        maxHash = combinedHash;
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
public class RendezvousHasher
{
  private static final HashFunction HASH_FN = Hashing.murmur3_128();

  public String chooseNode(Set<String> nodeIds, byte[] key)
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
public class RendezvousHasher
{
  private static final HashFunction HASH_FN = Hashing.murmur3_128();

  public String chooseNode(Set<String> nodeIds, byte[] key)
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/RendezvousHasher.java`
#### Snippet
```java
public class RendezvousHasher
{
  private static final HashFunction HASH_FN = Hashing.murmur3_128();

  public String chooseNode(Set<String> nodeIds, byte[] key)
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
    }

    long objHash = hashFn.hashBytes(obj).asLong();

    Long2ObjectSortedMap<String> subMap = nodeKeySlots.tailMap(objHash);
```

### UnstableApiUsage
'asLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
    }

    long objHash = hashFn.hashBytes(obj).asLong();

    Long2ObjectSortedMap<String> subMap = nodeKeySlots.tailMap(objHash);
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  // Determined through tests to provide reasonably equal balancing on a test set of 5-10 brokers
  private static final int REPLICATION_FACTOR = 128;
  private static final HashFunction DEFAULT_HASH_FN = Hashing.murmur3_128();

  private final Long2ObjectRBTreeMap<String> nodeKeySlots = new Long2ObjectRBTreeMap<>();
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  // Determined through tests to provide reasonably equal balancing on a test set of 5-10 brokers
  private static final int REPLICATION_FACTOR = 128;
  private static final HashFunction DEFAULT_HASH_FN = Hashing.murmur3_128();

  private final Long2ObjectRBTreeMap<String> nodeKeySlots = new Long2ObjectRBTreeMap<>();
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  // Determined through tests to provide reasonably equal balancing on a test set of 5-10 brokers
  private static final int REPLICATION_FACTOR = 128;
  private static final HashFunction DEFAULT_HASH_FN = Hashing.murmur3_128();

  private final Long2ObjectRBTreeMap<String> nodeKeySlots = new Long2ObjectRBTreeMap<>();
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  }

  private final HashFunction hashFn;
  private final Map<String, long[]> nodeKeyHashes = new HashMap<>();
  private Set<String> previousKeys = new HashSet<>();
```

### UnstableApiUsage
'hashString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
    for (int i = 0; i < REPLICATION_FACTOR; i++) {
      String vnode = key + "-" + i;
      hashes[i] = hashFn.hashString(vnode, StandardCharsets.UTF_8).asLong();
    }

```

### UnstableApiUsage
'asLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
    for (int i = 0; i < REPLICATION_FACTOR; i++) {
      String vnode = key + "-" + i;
      hashes[i] = hashFn.hashString(vnode, StandardCharsets.UTF_8).asLong();
    }

```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/router/ConsistentHasher.java`
#### Snippet
```java
  private Set<String> previousKeys = new HashSet<>();

  public ConsistentHasher(final HashFunction hashFunction)
  {
    this.hashFn = hashFunction == null ? DEFAULT_HASH_FN : hashFunction;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
   * complete {@link LookupExtractorFactoryMapContainer} information.
   */
  private Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> getDetailedAllNodeStatus(
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts,
      Collection<String> tiers
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
   */
  private Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> getDetailedAllNodeStatus(
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts,
      Collection<String> tiers
  )
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  )
  {
    Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> result = new HashMap<>();
    for (String tier : tiers) {
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> tierNodesStatus = new HashMap<>();
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
    Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> result = new HashMap<>();
    for (String tier : tiers) {
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> tierNodesStatus = new HashMap<>();
      result.put(tier, tierNodesStatus);

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      result.put(tier, tierNodesStatus);

      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);

      for (HostAndPort node : nodes) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);

      for (HostAndPort node : nodes) {
        LookupsState<LookupExtractorFactoryMapContainer> lookupsState = lookupsStateOnHosts.get(node);
        if (lookupsState == null) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
   * the lookup name and version ({@link LookupExtractorFactoryMapContainer#version})
   */
  private Map<String, Map<HostAndPort, LookupsState<String>>> getSimpleAllNodeStatus(
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts,
      Collection<String> tiers
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
   */
  private Map<String, Map<HostAndPort, LookupsState<String>>> getSimpleAllNodeStatus(
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts,
      Collection<String> tiers
  )
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  )
  {
    Map<String, Map<HostAndPort, LookupsState<String>>> results = new HashMap<>();
    for (String tier : tiers) {
      Map<HostAndPort, LookupsState<String>> tierNodesStatus = new HashMap<>();
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
    Map<String, Map<HostAndPort, LookupsState<String>>> results = new HashMap<>();
    for (String tier : tiers) {
      Map<HostAndPort, LookupsState<String>> tierNodesStatus = new HashMap<>();
      results.put(tier, tierNodesStatus);

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      results.put(tier, tierNodesStatus);

      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);

      for (HostAndPort node : nodes) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);

      for (HostAndPort node : nodes) {
        LookupsState<LookupExtractorFactoryMapContainer> lookupsState = lookupsStateOnHosts.get(node);
        if (lookupsState == null) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java

      Map<String, LookupStatus> lookupStatusMap = new HashMap<>();
      Collection<HostAndPort> hosts = lookupCoordinatorManager.discoverNodesInTier(tier);

      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnNodes = lookupCoordinatorManager
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      Collection<HostAndPort> hosts = lookupCoordinatorManager.discoverNodesInTier(tier);

      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnNodes = lookupCoordinatorManager
          .getLastKnownLookupsStateOnNodes();

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
    @JsonProperty
    @JsonInclude(JsonInclude.Include.NON_NULL)
    private List<HostAndPort> pendingNodes;

    public LookupStatus(boolean loaded, List<HostAndPort> pendingHosts)
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  {
    try {
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts = lookupCoordinatorManager
          .getLastKnownLookupsStateOnNodes();

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
          .getLastKnownLookupsStateOnNodes();

      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> tierNodesStatus = new HashMap<>();

      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> tierNodesStatus = new HashMap<>();

      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);

      for (HostAndPort node : nodes) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      Collection<HostAndPort> nodes = lookupCoordinatorManager.discoverNodesInTier(tier);

      for (HostAndPort node : nodes) {
        LookupsState<LookupExtractorFactoryMapContainer> lookupsState = lookupsStateOnHosts.get(node);
        if (lookupsState == null) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      String lookupName,
      LookupExtractorFactoryMapContainer lookupDef,
      Collection<HostAndPort> nodes,
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lastKnownLookupsState,
      boolean detailed
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      LookupExtractorFactoryMapContainer lookupDef,
      Collection<HostAndPort> nodes,
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lastKnownLookupsState,
      boolean detailed
  )
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  {
    boolean isReady = true;
    List<HostAndPort> pendingHosts = detailed ? new ArrayList<>() : null;

    for (HostAndPort node : nodes) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
    List<HostAndPort> pendingHosts = detailed ? new ArrayList<>() : null;

    for (HostAndPort node : nodes) {
      LookupsState<LookupExtractorFactoryMapContainer> hostState = lastKnownLookupsState.get(node);
      LookupExtractorFactoryMapContainer loadedOnHost = hostState != null
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      }

      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts =
          lookupCoordinatorManager.getLastKnownLookupsStateOnNodes();

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  public Response getSpecificNodeStatus(
      @PathParam("tier") String tier,
      @PathParam("hostAndPort") HostAndPort hostAndPort
  )
  {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  {
    try {
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts = lookupCoordinatorManager
          .getLastKnownLookupsStateOnNodes();

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
    private List<HostAndPort> pendingNodes;

    public LookupStatus(boolean loaded, List<HostAndPort> pendingHosts)
    {
      this.loaded = loaded;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      }

      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnNodes = lookupCoordinatorManager
          .getLastKnownLookupsStateOnNodes();

```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
        Map<String, LookupStatus> lookupStatusMap = new HashMap<>();
        result.put(tier, lookupStatusMap);
        Collection<HostAndPort> hosts = lookupCoordinatorManager.discoverNodesInTier(tier);

        for (Map.Entry<String, LookupExtractorFactoryMapContainer> lookupsEntry : tierEntry.getValue().entrySet()) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  }

  public Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> getLastKnownLookupsStateOnNodes()
  {
    Preconditions.checkState(lifecycleLock.awaitStarted(5, TimeUnit.SECONDS), "not started");
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
        {
          @Override
          public HostAndPort apply(HostAndPortWithScheme input)
          {
            return input.getHostAndPort();
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListenableScheduledFuture' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java

  private ListeningScheduledExecutorService executorService;
  private ListenableScheduledFuture<?> backgroundManagerFuture;
  private CountDownLatch backgroundManagerExitedLatch;

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
      }

      final ListenableFuture<List<Map.Entry>> allFuture = Futures.allAsList(futures);
      try {
        ImmutableMap.Builder<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> stateBuilder = ImmutableMap.builder();
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
      }

      final ListenableFuture<List<Map.Entry>> allFuture = Futures.allAsList(futures);
      try {
        ImmutableMap.Builder<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> stateBuilder = ImmutableMap.builder();
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
      final ListenableFuture<List<Map.Entry>> allFuture = Futures.allAsList(futures);
      try {
        ImmutableMap.Builder<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> stateBuilder = ImmutableMap.builder();
        allFuture.get(lookupCoordinatorManagerConfig.getAllHostTimeout().getMillis(), TimeUnit.MILLISECONDS)
                 .stream()
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  }

  public Collection<HostAndPort> discoverNodesInTier(String tier)
  {
    Preconditions.checkState(lifecycleLock.awaitStarted(5, TimeUnit.SECONDS), "not started");
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    return Collections2.transform(
        lookupNodeDiscovery.getNodesInTier(tier),
        new Function<HostAndPortWithScheme, HostAndPort>()
        {
          @Override
```

### UnstableApiUsage
'listeningDecorator(java.util.concurrent.ScheduledExecutorService)' is unstable because its signature references unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
        }

        executorService = MoreExecutors.listeningDecorator(
            Executors.newScheduledThreadPool(
                lookupCoordinatorManagerConfig.getThreadPoolSize(),
```

### UnstableApiUsage
'scheduleWithFixedDelay(java.lang.Runnable, long, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java

        this.backgroundManagerExitedLatch = new CountDownLatch(1);
        this.backgroundManagerFuture = executorService.scheduleWithFixedDelay(
            this::lookupManagementLoop,
            lookupCoordinatorManagerConfig.getInitialDelay(),
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
            TimeUnit.MILLISECONDS
        );
        Futures.addCallback(
            backgroundManagerFuture,
            new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
            TimeUnit.MILLISECONDS
        );
        Futures.addCallback(
            backgroundManagerFuture,
            new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListenableScheduledFuture' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  boolean backgroundManagerIsRunning()
  {
    ListenableScheduledFuture backgroundManagerFuture = this.backgroundManagerFuture;
    return backgroundManagerFuture != null && !backgroundManagerFuture.isDone();
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListeningScheduledExecutorService' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  private final LifecycleLock lifecycleLock = new LifecycleLock();

  private ListeningScheduledExecutorService executorService;
  private ListenableScheduledFuture<?> backgroundManagerFuture;
  private CountDownLatch backgroundManagerExitedLatch;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  // management loop, then they get discarded automatically.
  @VisibleForTesting
  final AtomicReference<Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> knownOldState =
      new AtomicReference<>(ImmutableMap.of());

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordinator/HttpLoadQueuePeon.java`
#### Snippet
```java
      );

      Futures.addCallback(
          future,
          new FutureCallback<InputStream>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordinator/HttpLoadQueuePeon.java`
#### Snippet
```java
      );

      Futures.addCallback(
          future,
          new FutureCallback<InputStream>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    }

    final ListenableFuture<List<Pair<Double, ServerHolder>>> resultsFuture = Futures.allAsList(futures);
    final List<Pair<Double, ServerHolder>> bestServers = new ArrayList<>();
    bestServers.add(bestServer);
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    }

    final ListenableFuture<List<Pair<Double, ServerHolder>>> resultsFuture = Futures.allAsList(futures);
    final List<Pair<Double, ServerHolder>> bestServers = new ArrayList<>();
    bestServers.add(bestServer);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    }

    final ListenableFuture<List<Pair<Double, ServerHolder>>> resultsFuture = Futures.allAsList(futures);

    try {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    }

    final ListenableFuture<List<Pair<Double, ServerHolder>>> resultsFuture = Futures.allAsList(futures);

    try {
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
  {
    synchronized (requestStatusesLock) {
      AtomicReference<Status> status = requestStatuses.getIfPresent(changeRequest);

      // If last load/drop request status is failed, here can try that again
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
        // SUCCESS case, we'll clear up the cached success while serving it to this client
        // Not doing this can lead to an incorrect response to upcoming clients for a reload
        requestStatuses.invalidate(changeRequest);
        return status;
      }
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
        return status;
      }
      return requestStatuses.getIfPresent(changeRequest);
    }
  }
```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java

    this.segmentsToDelete = new ConcurrentSkipListSet<>();
    requestStatuses = CacheBuilder.newBuilder().maximumSize(config.getStatusQueueMaxSize()).initialCapacity(8).build();
  }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
  // again and to return status of a completed request. Maximum size of this cache must be significantly greater
  // than number of pending load/drop requests. so that history is not lost too quickly.
  private final Cache<DataSegmentChangeRequest, AtomicReference<Status>> requestStatuses;
  private final Object requestStatusesLock = new Object();

```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    }
    synchronized (requestStatusesLock) {
      AtomicReference<Status> statusRef = requestStatuses.getIfPresent(changeRequest);
      if (statusRef != null) {
        statusRef.set(result);
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
              public void addSegment(DataSegment segment, DataSegmentChangeCallback callback)
              {
                requestStatuses.put(changeRequest, new AtomicReference<>(Status.PENDING));
                exec.submit(
                    () -> SegmentLoadDropHandler.this.addSegment(
```

### UnstableApiUsage
'put(K, V)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
              public void removeSegment(DataSegment segment, DataSegmentChangeCallback callback)
              {
                requestStatuses.put(changeRequest, new AtomicReference<>(Status.PENDING));
                SegmentLoadDropHandler.this.removeSegment(
                    ((SegmentChangeRequestDrop) changeRequest).getSegment(),
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
      log.debug("Sent sync request to [%s]", logIdentity);

      Futures.addCallback(
          syncRequestFuture,
          new FutureCallback<InputStream>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
      log.debug("Sent sync request to [%s]", logIdentity);

      Futures.addCallback(
          syncRequestFuture,
          new FutureCallback<InputStream>()
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoverySelector.java`
#### Snippet
```java
        public String getHost()
        {
          return HostAndPort.fromParts(getAddress(), getPort()).toString();
        }

```

### UnstableApiUsage
'fromParts(java.lang.String, int)' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoverySelector.java`
#### Snippet
```java
        public String getHost()
        {
          return HostAndPort.fromParts(getAddress(), getPort()).toString();
        }

```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.net.HostAndPort' marked with @Beta
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoverySelector.java`
#### Snippet
```java
        public String getHost()
        {
          return HostAndPort.fromParts(getAddress(), getPort()).toString();
        }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      public Reader openReader(boolean ignoreEncodingErrors) throws IOException
      {
        return Files.newReader(file, Charset.defaultCharset());
      }

```

### UnstableApiUsage
'newReader(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      public Reader openReader(boolean ignoreEncodingErrors) throws IOException
      {
        return Files.newReader(file, Charset.defaultCharset());
      }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      try {
        final FileUtils.FileCopyResult result = CompressionUtils.unzip(
            Files.asByteSource(sourceFile),
            dir,
            shouldRetryPredicate(),
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      try {
        final FileUtils.FileCopyResult result = CompressionUtils.unzip(
            Files.asByteSource(sourceFile),
            dir,
            shouldRetryPredicate(),
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      final File outFile = new File(dir, CompressionUtils.getGzBaseName(sourceFile.getName()));
      final FileUtils.FileCopyResult result = CompressionUtils.gunzip(
          Files.asByteSource(sourceFile),
          outFile,
          shouldRetryPredicate()
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      final File outFile = new File(dir, CompressionUtils.getGzBaseName(sourceFile.getName()));
      final FileUtils.FileCopyResult result = CompressionUtils.gunzip(
          Files.asByteSource(sourceFile),
          outFile,
          shouldRetryPredicate()
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      public Writer openWriter() throws IOException
      {
        return Files.newWriter(file, Charset.defaultCharset());
      }

```

### UnstableApiUsage
'newWriter(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPuller.java`
#### Snippet
```java
      public Writer openWriter() throws IOException
      {
        return Files.newWriter(file, Charset.defaultCharset());
      }

```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
        // Just a doubly-check added to skip "merged" dir. from being added to hydrants
        // If 100% sure that this is not needed, this check can be removed.
        if (Ints.tryParse(segmentDir.getName()) == null) {
          continue;
        }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
              metrics.incrementPersistCpuTime(JvmUtils.safeGetThreadCpuTime() - persistThreadCpuTime);
              metrics.incrementNumPersists();
              metrics.incrementPersistTimeMillis(persistStopwatch.elapsed(TimeUnit.MILLISECONDS));
              persistStopwatch.stop();
            }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
              metrics.incrementNumPersists();
              metrics.incrementPersistTimeMillis(persistStopwatch.elapsed(TimeUnit.MILLISECONDS));
              persistStopwatch.stop();
            }
          }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    log.info("Submitting persist runnable for dataSource[%s]", schema.getDataSource());

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    log.info("Submitting persist runnable for dataSource[%s]", schema.getDataSource());

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    log.info("Submitting persist runnable for dataSource[%s]", schema.getDataSource());

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();

    final Map<String, Object> metadataElems = committer.getMetadata() == null ? null :
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();

    final Map<String, Object> metadataElems = committer.getMetadata() == null ? null :
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();

    final Map<String, Object> metadataElems = committer.getMetadata() == null ? null :
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    );

    final long startDelay = runExecStopwatch.elapsed(TimeUnit.MILLISECONDS);
    metrics.incrementPersistBackPressureMillis(startDelay);
    if (startDelay > WARN_DELAY) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
      log.warn("Ingestion was throttled for [%,d] millis because persists were pending.", startDelay);
    }
    runExecStopwatch.stop();
    resetNextFlush();
  }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
        {
          final Interval interval = sink.getInterval();
          Stopwatch mergeStopwatch = null;

          @Override
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
              }
              final long mergeThreadCpuTime = JvmUtils.safeGetThreadCpuTime();
              mergeStopwatch = Stopwatch.createStarted();

              final File mergedFile;
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
              }
              final long mergeThreadCpuTime = JvmUtils.safeGetThreadCpuTime();
              mergeStopwatch = Stopwatch.createStarted();

              final File mergedFile;
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
              // emit merge metrics before publishing segment
              metrics.incrementMergeCpuTime(JvmUtils.safeGetThreadCpuTime() - mergeThreadCpuTime);
              metrics.incrementMergeTimeMillis(mergeStopwatch.elapsed(TimeUnit.MILLISECONDS));

              log.info("Pushing [%s] to deep storage", sink.getSegment().getId());
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
            finally {
              if (mergeStopwatch != null) {
                mergeStopwatch.stop();
              }
            }
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
            public boolean accept(File dir, String fileName)
            {
              return !(Ints.tryParse(fileName) == null);
            }
          }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Uninterruptibles' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

      // Critical to add the poison pill to the queue, don't allow interruption.
      Uninterruptibles.putUninterruptibly(buffer, FIREHOSE_CLOSED);

      eventReceiverFirehoseRegister.unregister(serviceName);
```

### UnstableApiUsage
'putUninterruptibly(java.util.concurrent.BlockingQueue, E)' is declared in unstable class 'com.google.common.util.concurrent.Uninterruptibles' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

      // Critical to add the poison pill to the queue, don't allow interruption.
      Uninterruptibles.putUninterruptibly(buffer, FIREHOSE_CLOSED);

      eventReceiverFirehoseRegister.unregister(serviceName);
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
      }

      CountingInputStream countingInputStream = new CountingInputStream(in);
      Collection<Map<String, Object>> events;
      try {
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
      }

      CountingInputStream countingInputStream = new CountingInputStream(in);
      Collection<Map<String, Object>> events;
      try {
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
      }

      CountingInputStream countingInputStream = new CountingInputStream(in);
      Collection<Map<String, Object>> events;
      try {
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
      }
      finally {
        bytesReceived.addAndGet(countingInputStream.getCount());
      }
      log.debug("Adding %,d events to firehose: %s", events.size(), serviceName);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  public void persist(final Committer committer)
  {
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    appenderator.persistAll(committer);

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  public void persist(final Committer committer)
  {
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    appenderator.persistAll(committer);

```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  public void persist(final Committer committer)
  {
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    appenderator.persistAll(committer);

```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
    appenderator.persistAll(committer);

    final long startDelay = runExecStopwatch.elapsed(TimeUnit.MILLISECONDS);
    metrics.incrementPersistBackPressureMillis(startDelay);
    if (startDelay > WARN_DELAY) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
      log.warn("Ingestion was throttled for [%,d] millis because persists were pending.", startDelay);
    }
    runExecStopwatch.stop();
  }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
    segments.remove(identifier.getInterval().getStartMillis());

    Futures.addCallback(
        appenderator.drop(identifier),
        new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
    segments.remove(identifier.getInterval().getStartMillis());

    Futures.addCallback(
        appenderator.drop(identifier),
        new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java

    // WARNING: Committers.nil() here means that on-disk data can get out of sync with committing.
    Futures.addCallback(
        appenderator.push(segmentsToPush, Committers.nil(), false),
        new FutureCallback<SegmentsAndCommitMetadata>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java

    // WARNING: Committers.nil() here means that on-disk data can get out of sync with committing.
    Futures.addCallback(
        appenderator.push(segmentsToPush, Committers.nil(), false),
        new FutureCallback<SegmentsAndCommitMetadata>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
  {
    if (segmentsAndCommitMetadata == null) {
      return Futures.immediateFuture(null);

    } else {
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
  {
    if (segmentsAndCommitMetadata == null) {
      return Futures.immediateFuture(null);

    } else {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java

      if (waitingSegmentIdList.isEmpty()) {
        return Futures.immediateFuture(
            new SegmentsAndCommitMetadata(
                segmentsAndCommitMetadata.getSegments(),
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java

      if (waitingSegmentIdList.isEmpty()) {
        return Futures.immediateFuture(
            new SegmentsAndCommitMetadata(
                segmentsAndCommitMetadata.getSegments(),
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java

              final ListenableFuture<?> dropFuture = appenderator.drop(segmentIdentifier);
              Futures.addCallback(
                  dropFuture,
                  new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java

              final ListenableFuture<?> dropFuture = appenderator.drop(segmentIdentifier);
              Futures.addCallback(
                  dropFuture,
                  new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
    final List<SegmentIdWithShardSpec> theSegments = getSegmentIdsWithShardSpecs(sequenceNames);

    final ListenableFuture<SegmentsAndCommitMetadata> publishFuture = Futures.transform(
        // useUniquePath=true prevents inconsistencies in segment data when task failures or replicas leads to a second
        // version of a segment with the same identifier containing different data; see DataSegmentPusher.push() docs
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
    final List<SegmentIdWithShardSpec> theSegments = getSegmentIdsWithShardSpecs(sequenceNames);

    final ListenableFuture<SegmentsAndCommitMetadata> publishFuture = Futures.transform(
        // useUniquePath=true prevents inconsistencies in segment data when task failures or replicas leads to a second
        // version of a segment with the same identifier containing different data; see DataSegmentPusher.push() docs
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
        )
    );
    return Futures.transform(
        publishFuture,
        (Function<? super SegmentsAndCommitMetadata, ? extends SegmentsAndCommitMetadata>) sam -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
        )
    );
    return Futures.transform(
        publishFuture,
        (Function<? super SegmentsAndCommitMetadata, ? extends SegmentsAndCommitMetadata>) sam -> {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
  )
  {
    return Futures.transform(
        publish(publisher, committer, sequenceNames),
        (AsyncFunction<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) this::registerHandoff
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderatorDriver.java`
#### Snippet
```java
  )
  {
    return Futures.transform(
        publish(publisher, committer, sequenceNames),
        (AsyncFunction<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) this::registerHandoff
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    final List<DataSegment> dataSegments = new ArrayList<>();

    return Futures.transform(
        persistAll(null), // make sure persists is done before push...
        (Function<Object, SegmentsAndCommitMetadata>) commitMetadata -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    final List<DataSegment> dataSegments = new ArrayList<>();

    return Futures.transform(
        persistAll(null), // make sure persists is done before push...
        (Function<Object, SegmentsAndCommitMetadata>) commitMetadata -> {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    final Map<SegmentIdWithShardSpec, Sink> sinksToPersist = swapSinks();

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    ListenableFuture<Object> future = persistExecutor.submit(
        () -> {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    final Map<SegmentIdWithShardSpec, Sink> sinksToPersist = swapSinks();

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    ListenableFuture<Object> future = persistExecutor.submit(
        () -> {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    final Map<SegmentIdWithShardSpec, Sink> sinksToPersist = swapSinks();

    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    ListenableFuture<Object> future = persistExecutor.submit(
        () -> {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
            log.info("No indexes will be persisted");
          }
          final Stopwatch persistStopwatch = Stopwatch.createStarted();
          try {
            for (Pair<FireHydrant, SegmentIdWithShardSpec> pair : indexesToPersist) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
            log.info("No indexes will be persisted");
          }
          final Stopwatch persistStopwatch = Stopwatch.createStarted();
          try {
            for (Pair<FireHydrant, SegmentIdWithShardSpec> pair : indexesToPersist) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
            log.info("No indexes will be persisted");
          }
          final Stopwatch persistStopwatch = Stopwatch.createStarted();
          try {
            for (Pair<FireHydrant, SegmentIdWithShardSpec> pair : indexesToPersist) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
          finally {
            metrics.incrementNumPersists();
            long persistMillis = persistStopwatch.elapsed(TimeUnit.MILLISECONDS);
            metrics.incrementPersistTimeMillis(persistMillis);
            persistStopwatch.stop();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
            long persistMillis = persistStopwatch.elapsed(TimeUnit.MILLISECONDS);
            metrics.incrementPersistTimeMillis(persistMillis);
            persistStopwatch.stop();
            // make sure no push can start while persisting:
            log.info("Persisted rows[%,d] and bytes[%,d] and removed all sinks & hydrants from memory in[%d] millis",
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    );

    final long startDelay = runExecStopwatch.elapsed(TimeUnit.MILLISECONDS);
    metrics.incrementPersistBackPressureMillis(startDelay);
    if (startDelay > PERSIST_WARN_DELAY) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
      log.warn("Ingestion was throttled for [%,d] millis because persists were pending.", startDelay);
    }
    runExecStopwatch.stop();
    return future;
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
      }
    }
    return Futures.immediateFuture(null);
  }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
      }
    }
    return Futures.immediateFuture(null);
  }

```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
    // To avoid reading and listing of "merged" dir and other special files
    final File[] sinkFiles = identifierPath.listFiles(
        (dir, fileName) -> !(Ints.tryParse(fileName) == null)
    );
    if (sinkFiles == null) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
      }

      Futures.addCallback(
          persistAll(null),
          new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
      }

      Futures.addCallback(
          persistAll(null),
          new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    }

    return Futures.transform(
        // We should always persist all segments regardless of the input because metadata should be committed for all
        // segments.
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    }

    return Futures.transform(
        // We should always persist all segments regardless of the input because metadata should be committed for all
        // segments.
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
        // To avoid reading and listing of "merged" dir and other special files
        final File[] sinkFiles = sinkDir.listFiles(
            (dir, fileName) -> !(Ints.tryParse(fileName) == null)
        );

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
        }

        Futures.addCallback(
            persistAll(committerSupplier == null ? null : committerSupplier.get()),
            new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
        }

        Futures.addCallback(
            persistAll(committerSupplier == null ? null : committerSupplier.get()),
            new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    );

    final long startDelay = runExecStopwatch.elapsed(TimeUnit.MILLISECONDS);
    metrics.incrementPersistBackPressureMillis(startDelay);
    if (startDelay > WARN_DELAY) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
      log.warn("Ingestion was throttled for [%,d] millis because persists were pending.", startDelay);
    }
    runExecStopwatch.stop();
    resetNextFlush();

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
      return abandonSegment(identifier, sink, true);
    } else {
      return Futures.immediateFuture(null);
    }
  }
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
      return abandonSegment(identifier, sink, true);
    } else {
      return Futures.immediateFuture(null);
    }
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    try {
      Futures.allAsList(futures).get();
    }
    catch (InterruptedException e) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    try {
      Futures.allAsList(futures).get();
    }
    catch (InterruptedException e) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    // Wait for any outstanding pushes to finish, then abandon the segment inside the persist thread.
    return Futures.transform(
        pushBarrier(),
        new Function<Object, Void>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

    // Wait for any outstanding pushes to finish, then abandon the segment inside the persist thread.
    return Futures.transform(
        pushBarrier(),
        new Function<Object, Void>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

        // Await dropping.
        Futures.allAsList(futures).get();
      }
    }
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

        // Await dropping.
        Futures.allAsList(futures).get();
      }
    }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
            finally {
              metrics.incrementNumPersists();
              metrics.incrementPersistTimeMillis(persistStopwatch.elapsed(TimeUnit.MILLISECONDS));
              persistStopwatch.stop();
            }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
              metrics.incrementNumPersists();
              metrics.incrementPersistTimeMillis(persistStopwatch.elapsed(TimeUnit.MILLISECONDS));
              persistStopwatch.stop();
            }
          }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderatorDriver.java`
#### Snippet
```java
    final Set<SegmentIdWithShardSpec> requestedSegmentIdsForSequences = getAppendingSegments(sequenceNames);

    final ListenableFuture<SegmentsAndCommitMetadata> future = Futures.transform(
        pushInBackground(null, requestedSegmentIdsForSequences, false),
        (AsyncFunction<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) this::dropInBackground
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderatorDriver.java`
#### Snippet
```java
    final Set<SegmentIdWithShardSpec> requestedSegmentIdsForSequences = getAppendingSegments(sequenceNames);

    final ListenableFuture<SegmentsAndCommitMetadata> future = Futures.transform(
        pushInBackground(null, requestedSegmentIdsForSequences, false),
        (AsyncFunction<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) this::dropInBackground
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
      return abandonSegment(identifier, sink, true);
    } else {
      return Futures.immediateFuture(null);
    }
  }
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
      return abandonSegment(identifier, sink, true);
    } else {
      return Futures.immediateFuture(null);
    }
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

        // Await dropping.
        Futures.allAsList(futures).get();
      }
    }
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

        // Await dropping.
        Futures.allAsList(futures).get();
      }
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    final Object commitMetadata = committer == null ? null : committer.getMetadata();
    final Stopwatch runExecStopwatch = Stopwatch.createStarted();
    final Stopwatch persistStopwatch = Stopwatch.createStarted();
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    );

    final long startDelay = runExecStopwatch.elapsed(TimeUnit.MILLISECONDS);
    metrics.incrementPersistBackPressureMillis(startDelay);
    if (startDelay > WARN_DELAY) {
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
      log.warn("Ingestion was throttled for [%,d] millis because persists were pending.", startDelay);
    }
    runExecStopwatch.stop();
    resetNextFlush();

```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
        // To avoid reading and listing of "merged" dir and other special files
        final File[] sinkFiles = sinkDir.listFiles(
            (dir, fileName) -> !(Ints.tryParse(fileName) == null)
        );

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    try {
      Futures.allAsList(futures).get();
    }
    catch (InterruptedException e) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    try {
      Futures.allAsList(futures).get();
    }
    catch (InterruptedException e) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    }

    return Futures.transform(
        // We should always persist all segments regardless of the input because metadata should be committed for all
        // segments.
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    }

    return Futures.transform(
        // We should always persist all segments regardless of the input because metadata should be committed for all
        // segments.
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
        }

        Futures.addCallback(
            persistAll(committerSupplier == null ? null : committerSupplier.get()),
            new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
        }

        Futures.addCallback(
            persistAll(committerSupplier == null ? null : committerSupplier.get()),
            new FutureCallback<Object>()
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
            finally {
              metrics.incrementNumPersists();
              metrics.incrementPersistTimeMillis(persistStopwatch.elapsed(TimeUnit.MILLISECONDS));
              persistStopwatch.stop();
            }
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
              metrics.incrementNumPersists();
              metrics.incrementPersistTimeMillis(persistStopwatch.elapsed(TimeUnit.MILLISECONDS));
              persistStopwatch.stop();
            }
          }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    // Wait for any outstanding pushes to finish, then abandon the segment inside the persist thread.
    return Futures.transform(
        pushBarrier(),
        new Function<Object, Void>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

    // Wait for any outstanding pushes to finish, then abandon the segment inside the persist thread.
    return Futures.transform(
        pushBarrier(),
        new Function<Object, Void>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    );

    return Futures.transform(
        appenderator.push(segmentIdentifiers, wrappedCommitter, useUniquePath),
        (Function<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) segmentsAndMetadata -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    );

    return Futures.transform(
        appenderator.push(segmentIdentifiers, wrappedCommitter, useUniquePath),
        (Function<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) segmentsAndMetadata -> {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    log.debugSegments(segmentsAndCommitMetadata.getSegments(), "Dropping segments");

    final ListenableFuture<?> dropFuture = Futures.allAsList(
        segmentsAndCommitMetadata
            .getSegments()
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    log.debugSegments(segmentsAndCommitMetadata.getSegments(), "Dropping segments");

    final ListenableFuture<?> dropFuture = Futures.allAsList(
        segmentsAndCommitMetadata
            .getSegments()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    );

    return Futures.transform(
        dropFuture,
        (Function<Object, SegmentsAndCommitMetadata>) x -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    );

    return Futures.transform(
        dropFuture,
        (Function<Object, SegmentsAndCommitMetadata>) x -> {
```

### UnstableApiUsage
'com.google.common.collect.Interner' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
   * existing segments each time, and then replace them in {@link #dataSourcesSnapshot}. This method allows to use
   * already existing (old) segments when possible, effectively interning them a-la {@link String#intern} or {@link
   * com.google.common.collect.Interner}, aiming to make the majority of {@link DataSegment} objects garbage soon after
   * they are deserialized and to die in young generation. It allows to avoid fragmentation of the old generation and
   * full GCs.
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
    DatabasePoll latestDatabasePoll = this.latestDatabasePoll;
    if (latestDatabasePoll instanceof PeriodicDatabasePoll) {
      Futures.getUnchecked(((PeriodicDatabasePoll) latestDatabasePoll).firstPollCompletionFuture);
      return true;
    }
```

### UnstableApiUsage
'getUnchecked(java.util.concurrent.Future)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
    DatabasePoll latestDatabasePoll = this.latestDatabasePoll;
    if (latestDatabasePoll instanceof PeriodicDatabasePoll) {
      Futures.getUnchecked(((PeriodicDatabasePoll) latestDatabasePoll).firstPollCompletionFuture);
      return true;
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
      boolean latestDatabasePollIsFresh = latestOnDemandPoll.nanosElapsedFromInitiation() < periodicPollDelayNanos;
      if (latestDatabasePollIsFresh) {
        Futures.getUnchecked(latestOnDemandPoll.pollCompletionFuture);
        return true;
      }
```

### UnstableApiUsage
'getUnchecked(java.util.concurrent.Future)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
      boolean latestDatabasePollIsFresh = latestOnDemandPoll.nanosElapsedFromInitiation() < periodicPollDelayNanos;
      if (latestDatabasePollIsFresh) {
        Futures.getUnchecked(latestOnDemandPoll.pollCompletionFuture);
        return true;
      }
```

### UnstableApiUsage
Overridden method 'getResult()' is declared in unstable interface 'com.google.common.io.LineProcessor' marked with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java

          @Override
          public Void getResult()
          {
            return null;
```

### UnstableApiUsage
'com.google.common.io.LineProcessor' is marked unstable with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
  {
    return source.readLines(
        new LineProcessor<Void>()
        {
          private final StringBuilder builder = new StringBuilder();
```

### UnstableApiUsage
'com.google.common.io.Resources' is marked unstable with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
          if (new File(resource).isFile()) {
            logWriter.write("loading data from file '" + resource + "'");
            source = Resources.asByteSource(new File(resource).toURI().toURL()).asCharSource(
                Charset.forName(
                    parser.getEncoding()
```

### UnstableApiUsage
'asByteSource(java.net.URL)' is declared in unstable class 'com.google.common.io.Resources' marked with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
          if (new File(resource).isFile()) {
            logWriter.write("loading data from file '" + resource + "'");
            source = Resources.asByteSource(new File(resource).toURI().toURL()).asCharSource(
                Charset.forName(
                    parser.getEncoding()
```

### UnstableApiUsage
'com.google.common.io.Resources' is marked unstable with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
          } else if (loader.getResource(resource) != null) {
            logWriter.write("loading data from resource '" + resource + "'");
            source = Resources.asByteSource(loader.getResource(resource)).asCharSource(
                Charset.forName(
                    parser.getEncoding()
```

### UnstableApiUsage
'asByteSource(java.net.URL)' is declared in unstable class 'com.google.common.io.Resources' marked with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
          } else if (loader.getResource(resource) != null) {
            logWriter.write("loading data from resource '" + resource + "'");
            source = Resources.asByteSource(loader.getResource(resource)).asCharSource(
                Charset.forName(
                    parser.getEncoding()
```

### UnstableApiUsage
'readLines(com.google.common.io.LineProcessor)' is marked unstable with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
      throws IOException
  {
    return source.readLines(
        new LineProcessor<Void>()
        {
```

### UnstableApiUsage
Overridden method 'processLine(java.lang.String)' is declared in unstable interface 'com.google.common.io.LineProcessor' marked with @Beta
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java

          @Override
          public boolean processLine(String line) throws IOException
          {
            InputRow parsed = parser.parse(line);
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/key/RowKey.java`
#### Snippet
```java
    if (!hashCodeComputed) {
      // Use murmur3_128 for dispersion properties needed by DistinctKeyCollector#isKeySelected.
      hashCode = Hashing.murmur3_128().hashBytes(key).asLong();
      hashCodeComputed = true;
    }
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/key/RowKey.java`
#### Snippet
```java
    if (!hashCodeComputed) {
      // Use murmur3_128 for dispersion properties needed by DistinctKeyCollector#isKeySelected.
      hashCode = Hashing.murmur3_128().hashBytes(key).asLong();
      hashCodeComputed = true;
    }
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/key/RowKey.java`
#### Snippet
```java
    if (!hashCodeComputed) {
      // Use murmur3_128 for dispersion properties needed by DistinctKeyCollector#isKeySelected.
      hashCode = Hashing.murmur3_128().hashBytes(key).asLong();
      hashCodeComputed = true;
    }
```

### UnstableApiUsage
'asLong()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/key/RowKey.java`
#### Snippet
```java
    if (!hashCodeComputed) {
      // Use murmur3_128 for dispersion properties needed by DistinctKeyCollector#isKeySelected.
      hashCode = Hashing.murmur3_128().hashBytes(key).asLong();
      hashCodeComputed = true;
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/file/FrameFilePartialFetch.java`
#### Snippet
```java
      return future;
    } else {
      return Futures.immediateFuture(null);
    }
  }
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/file/FrameFilePartialFetch.java`
#### Snippet
```java
      return future;
    } else {
      return Futures.immediateFuture(null);
    }
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableFileFrameChannel.java`
#### Snippet
```java
  public ListenableFuture<?> readabilityFuture()
  {
    return Futures.immediateFuture(true);
  }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableFileFrameChannel.java`
#### Snippet
```java
  public ListenableFuture<?> readabilityFuture()
  {
    return Futures.immediateFuture(true);
  }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/WritableFrameFileChannel.java`
#### Snippet
```java
  public ListenableFuture<?> writabilityFuture()
  {
    return Futures.immediateFuture(true);
  }
}
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/WritableFrameFileChannel.java`
#### Snippet
```java
  public ListenableFuture<?> writabilityFuture()
  {
    return Futures.immediateFuture(true);
  }
}
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableNilFrameChannel.java`
#### Snippet
```java
  public ListenableFuture<?> readabilityFuture()
  {
    return Futures.immediateFuture(null);
  }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableNilFrameChannel.java`
#### Snippet
```java
  public ListenableFuture<?> readabilityFuture()
  {
    return Futures.immediateFuture(null);
  }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
    synchronized (lock) {
      if (canRead() || isFinished()) {
        return Futures.immediateFuture(null);
      } else if (readyForReadingFuture != null) {
        return readyForReadingFuture;
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
    synchronized (lock) {
      if (canRead() || isFinished()) {
        return Futures.immediateFuture(null);
      } else if (readyForReadingFuture != null) {
        return readyForReadingFuture;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableConcatFrameChannel.java`
#### Snippet
```java

    if (currentChannel == null) {
      return Futures.immediateFuture(null);
    } else {
      return currentChannel.readabilityFuture();
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableConcatFrameChannel.java`
#### Snippet
```java

    if (currentChannel == null) {
      return Futures.immediateFuture(null);
    } else {
      return currentChannel.readabilityFuture();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
      synchronized (lock) {
        if (queue.size() < maxQueuedFrames) {
          return Futures.immediateFuture(null);
        } else if (readyForWritingFuture != null) {
          return readyForWritingFuture;
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
      synchronized (lock) {
        if (queue.size() < maxQueuedFrames) {
          return Futures.immediateFuture(null);
        } else if (readyForWritingFuture != null) {
          return readyForWritingFuture;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
      synchronized (lock) {
        if (!queue.isEmpty()) {
          return Futures.immediateFuture(null);
        } else if (readyForReadingFuture != null) {
          return readyForReadingFuture;
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
      synchronized (lock) {
        if (!queue.isEmpty()) {
          return Futures.immediateFuture(null);
        } else if (readyForReadingFuture != null) {
          return readyForReadingFuture;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
        final ListenableFuture<V> cancelableFuture = registerCancelableFuture(future, false, cancellationId);

        Futures.addCallback(
            cancelableFuture,
            new FutureCallback<V>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
        final ListenableFuture<V> cancelableFuture = registerCancelableFuture(future, false, cancellationId);

        Futures.addCallback(
            cancelableFuture,
            new FutureCallback<V>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java

          if (!writabilityFuturesToWaitFor.isEmpty()) {
            runProcessorAfterFutureResolves(Futures.allAsList(writabilityFuturesToWaitFor));
            return;
          }
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java

          if (!writabilityFuturesToWaitFor.isEmpty()) {
            runProcessorAfterFutureResolves(Futures.allAsList(writabilityFuturesToWaitFor));
            return;
          }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
                exec.submit(ExecutorRunnable.this);
              } else {
                runProcessorAfterFutureResolves(Futures.allAsList(readabilityFutures));
              }
            } else {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
                exec.submit(ExecutorRunnable.this);
              } else {
                runProcessorAfterFutureResolves(Futures.allAsList(readabilityFutures));
              }
            } else {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java
        outstandingFutures.add(future);

        Futures.addCallback(
            future,
            new FutureCallback<T>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java
        outstandingFutures.add(future);

        Futures.addCallback(
            future,
            new FutureCallback<T>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java
    }
    catch (Throwable e) {
      return Futures.immediateFailedFuture(e);
    }

```

### UnstableApiUsage
'immediateFailedFuture(java.lang.Throwable)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java
    }
    catch (Throwable e) {
      return Futures.immediateFailedFuture(e);
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java

    if (processorYielder.isDone()) {
      return Futures.immediateFuture(initialResult);
    }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java

    if (processorYielder.isDone()) {
      return Futures.immediateFuture(initialResult);
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
  private <T> void runWorker(final FrameProcessor<T> worker, final Consumer<T> outConsumer)
  {
    Futures.addCallback(
        exec.runFully(worker, cancellationId),
        new FutureCallback<T>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
  private <T> void runWorker(final FrameProcessor<T> worker, final Consumer<T> outConsumer)
  {
    Futures.addCallback(
        exec.runFully(worker, cancellationId),
        new FutureCallback<T>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
  )
  {
    ListenableFuture<List<Void>> future = Futures.allAsList(futures);
    try {
      queryWatcher.registerQueryFuture(query, future);
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
  )
  {
    ListenableFuture<List<Void>> future = Futures.allAsList(futures);
    try {
      queryWatcher.registerQueryFuture(query, future);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/ChainedExecutionQueryRunner.java`
#### Snippet
```java
                );

            ListenableFuture<List<Iterable<T>>> future = Futures.allAsList(futures);
            queryWatcher.registerQueryFuture(query, future);

```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/ChainedExecutionQueryRunner.java`
#### Snippet
```java
                );

            ListenableFuture<List<Iterable<T>>> future = Futures.allAsList(futures);
            queryWatcher.registerQueryFuture(query, future);

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/ExtractionDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/FalseDimFilter.java`
#### Snippet
```java
  @Nullable
  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return ImmutableRangeSet.of();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/FalseDimFilter.java`
#### Snippet
```java
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return ImmutableRangeSet.of();
  }

```

### UnstableApiUsage
'of()' is declared in unstable class 'com.google.common.collect.ImmutableRangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/FalseDimFilter.java`
#### Snippet
```java
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return ImmutableRangeSet.of();
  }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/ColumnComparisonDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SearchQueryDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return convertedFilter.getDimensionRangeSet(dimension);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/TrueDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/ExpressionDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(final String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
   */
  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (field instanceof AndDimFilter) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
      return ((NotDimFilter) field).getField().getDimensionRangeSet(dimension);
    }
    RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
    return rangeSet == null ? null : rangeSet.complement();
  }
```

### UnstableApiUsage
'complement()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
    }
    RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
    return rangeSet == null ? null : rangeSet.complement();
  }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/DimFilter.java`
#### Snippet
```java
   */
  @Nullable
  RangeSet<String> getDimensionRangeSet(String dimension);

  /**
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasLowerBound()) {
      final Float lowerFloat = Floats.tryParse(lower);
      if (lowerFloat == null) {
        // Unparseable values fall before all actual numbers, so all numbers
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasUpperBound()) {
      Float upperFloat = Floats.tryParse(upper);
      if (upperFloat == null) {
        // Unparseable values fall before all actual numbers, so no numbers
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (!(Objects.equals(getDimension(), dimension)
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    }

    RangeSet<String> retSet = TreeRangeSet.create();
    Range<String> range;
    if (getLower() == null) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    }

    RangeSet<String> retSet = TreeRangeSet.create();
    Range<String> range;
    if (getLower() == null) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    }

    RangeSet<String> retSet = TreeRangeSet.create();
    Range<String> range;
    if (getLower() == null) {
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
          getUpper(), isUpperStrict() ? BoundType.OPEN : BoundType.CLOSED);
    }
    retSet.add(range);
    return retSet;
  }
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasLowerBound()) {
      final Double lowerDouble = Doubles.tryParse(lower);
      if (lowerDouble == null) {
        // Unparseable values fall before all actual numbers, so all numbers
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasUpperBound()) {
      Double upperDouble = Doubles.tryParse(upper);
      if (upperDouble == null) {
        // Unparseable values fall before all actual numbers, so no numbers can
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/RegexDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = null;
    for (DimFilter field : fields) {
      RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
    RangeSet<String> retSet = null;
    for (DimFilter field : fields) {
      RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
      if (rangeSet != null) {
        if (retSet == null) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
      if (rangeSet != null) {
        if (retSet == null) {
          retSet = TreeRangeSet.create(rangeSet);
        } else {
          retSet.removeAll(rangeSet.complement());
```

### UnstableApiUsage
'create(com.google.common.collect.RangeSet)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
      if (rangeSet != null) {
        if (retSet == null) {
          retSet = TreeRangeSet.create(rangeSet);
        } else {
          retSet.removeAll(rangeSet.complement());
```

### UnstableApiUsage
'removeAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
          retSet = TreeRangeSet.create(rangeSet);
        } else {
          retSet.removeAll(rangeSet.complement());
        }
      }
```

### UnstableApiUsage
'complement()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
          retSet = TreeRangeSet.create(rangeSet);
        } else {
          retSet.removeAll(rangeSet.complement());
        }
      }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SpatialDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (!Objects.equals(getDimension(), dimension) || getExtractionFn() != null) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
      return null;
    }
    RangeSet<String> retSet = TreeRangeSet.create();
    String valueEquivalent = NullHandling.nullToEmptyIfNeeded(value);
    if (valueEquivalent == null) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
      return null;
    }
    RangeSet<String> retSet = TreeRangeSet.create();
    String valueEquivalent = NullHandling.nullToEmptyIfNeeded(value);
    if (valueEquivalent == null) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
      return null;
    }
    RangeSet<String> retSet = TreeRangeSet.create();
    String valueEquivalent = NullHandling.nullToEmptyIfNeeded(value);
    if (valueEquivalent == null) {
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
      // Case when SQL compatible null handling is enabled
      // Nulls are less than empty String in segments
      retSet.add(Range.lessThan(""));
    } else {
      retSet.add(Range.singleton(valueEquivalent));
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
      retSet.add(Range.lessThan(""));
    } else {
      retSet.add(Range.singleton(valueEquivalent));
    }
    return retSet;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
      final Iterable<T> input,
      final Function<T, ShardSpec> converter,
      final Map<String, Optional<RangeSet<String>>> dimensionRangeCache
  )
  {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java

      if (dimFilter != null && shard != null) {
        Map<String, RangeSet<String>> filterDomain = new HashMap<>();
        List<String> dimensions = shard.getDomainDimensions();
        for (String dimension : dimensions) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
        List<String> dimensions = shard.getDomainDimensions();
        for (String dimension : dimensions) {
          Optional<RangeSet<String>> optFilterRangeSet = dimensionRangeCache
              .computeIfAbsent(dimension, d -> Optional.ofNullable(dimFilter.getDimensionRangeSet(d)));

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/JavaScriptDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = TreeRangeSet.create();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = TreeRangeSet.create();
    for (DimFilter field : fields) {
      RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = TreeRangeSet.create();
    for (DimFilter field : fields) {
      RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    RangeSet<String> retSet = TreeRangeSet.create();
    for (DimFilter field : fields) {
      RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
    RangeSet<String> retSet = TreeRangeSet.create();
    for (DimFilter field : fields) {
      RangeSet<String> rangeSet = field.getDimensionRangeSet(dimension);
      if (rangeSet == null) {
        return null;
```

### UnstableApiUsage
'addAll(com.google.common.collect.RangeSet)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
        return null;
      } else {
        retSet.addAll(rangeSet);
      }
    }
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
        patternBuilder.append(c);
      } else {
        patternBuilder.append("\\u").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
      }
    }
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
        patternBuilder.append(c);
      } else {
        patternBuilder.append("\\u").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
      }
    }
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
        patternBuilder.append(c);
      } else {
        patternBuilder.append("\\u").append(BaseEncoding.base16().encode(Chars.toByteArray(c)));
      }
    }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
  @Nullable
  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    if (!Objects.equals(getDimension(), dimension) || getExtractionFn() != null) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
      return null;
    }
    RangeSet<String> retSet = TreeRangeSet.create();
    for (String value : values) {
      String valueEquivalent = NullHandling.nullToEmptyIfNeeded(value);
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
      return null;
    }
    RangeSet<String> retSet = TreeRangeSet.create();
    for (String value : values) {
      String valueEquivalent = NullHandling.nullToEmptyIfNeeded(value);
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
      return null;
    }
    RangeSet<String> retSet = TreeRangeSet.create();
    for (String value : values) {
      String valueEquivalent = NullHandling.nullToEmptyIfNeeded(value);
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        // Range.singleton(null) is invalid, so use the fact that
        // only null values are less than empty string.
        retSet.add(Range.lessThan(""));
      } else {
        retSet.add(Range.singleton(valueEquivalent));
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        retSet.add(Range.lessThan(""));
      } else {
        retSet.add(Range.singleton(valueEquivalent));
      }
    }
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
  {
    // Hash all values, in sorted order, as their length followed by their content.
    final Hasher hasher = Hashing.sha256().newHasher();
    for (String v : values) {
      if (v == null) {
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
  {
    // Hash all values, in sorted order, as their length followed by their content.
    final Hasher hasher = Hashing.sha256().newHasher();
    for (String v : values) {
      if (v == null) {
```

### UnstableApiUsage
'sha256()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
  {
    // Hash all values, in sorted order, as their length followed by their content.
    final Hasher hasher = Hashing.sha256().newHasher();
    for (String v : values) {
      if (v == null) {
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
  {
    // Hash all values, in sorted order, as their length followed by their content.
    final Hasher hasher = Hashing.sha256().newHasher();
    for (String v : values) {
      if (v == null) {
```

### UnstableApiUsage
'putInt(int)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
      if (v == null) {
        // Encode null as length -1, no content.
        hasher.putInt(-1);
      } else {
        hasher.putInt(v.length());
```

### UnstableApiUsage
'putInt(int)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        hasher.putInt(-1);
      } else {
        hasher.putInt(v.length());
        hasher.putString(v, StandardCharsets.UTF_8);
      }
```

### UnstableApiUsage
'putString(java.lang.CharSequence, java.nio.charset.Charset)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
      } else {
        hasher.putInt(v.length());
        hasher.putString(v, StandardCharsets.UTF_8);
      }
    }
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(hasher.hash().asBytes())
        .build();
  }
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(hasher.hash().asBytes())
        .build();
  }
```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/search/SearchBinaryFn.java`
#### Snippet
```java
    SearchResultValue arg2Vals = arg2.getValue();

    Iterable<SearchHit> merged = Iterables.mergeSorted(
        Arrays.asList(arg1Vals, arg2Vals),
        searchSortSpec.getComparator()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
    );

    ListenableFuture<List<CloseableIterator<Entry<KeyType>>>> future = Futures.allAsList(futures);
    try {
      if (!hasQueryTimeout) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
    );

    ListenableFuture<List<CloseableIterator<Entry<KeyType>>>> future = Futures.allAsList(futures);
    try {
      if (!hasQueryTimeout) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
  )
  {
    ListenableFuture<List<AggregateResult>> future = Futures.allAsList(futures);
    try {
      if (queryWatcher != null) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
  )
  {
    ListenableFuture<List<AggregateResult>> future = Futures.allAsList(futures);
    try {
      if (queryWatcher != null) {
```

### UnstableApiUsage
'hashUnencodedChars(java.lang.CharSequence)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
                if (NullHandling.replaceWithDefault()) {
                  collector.add(
                      CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(
                          StringCardinalityAggregatorColumnSelectorStrategy.CARDINALITY_AGG_NULL_STRING
                      ).asBytes()
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
                      CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(
                          StringCardinalityAggregatorColumnSelectorStrategy.CARDINALITY_AGG_NULL_STRING
                      ).asBytes()
                  );
                }
```

### UnstableApiUsage
'hashUnencodedChars(java.lang.CharSequence)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
                }
              } else {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(input.asString()).asBytes());
              }
              break;
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
                }
              } else {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(input.asString()).asBytes());
              }
              break;
```

### UnstableApiUsage
'hashLong(long)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
            case DOUBLE:
              if (NullHandling.replaceWithDefault() || !input.isNumericNull()) {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(Double.doubleToLongBits(input.asDouble())).asBytes());
              }
              break;
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
            case DOUBLE:
              if (NullHandling.replaceWithDefault() || !input.isNumericNull()) {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(Double.doubleToLongBits(input.asDouble())).asBytes());
              }
              break;
```

### UnstableApiUsage
'hashLong(long)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
            case LONG:
              if (NullHandling.replaceWithDefault() || !input.isNumericNull()) {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(input.asLong()).asBytes());
              }
              break;
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
            case LONG:
              if (NullHandling.replaceWithDefault() || !input.isNumericNull()) {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(input.asLong()).asBytes());
              }
              break;
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/DoubleCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(BaseDoubleColumnValueSelector selector, Hasher hasher)
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
```

### UnstableApiUsage
'putDouble(double)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/DoubleCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
      hasher.putDouble(selector.getDouble());
    }
  }
```

### UnstableApiUsage
'hashLong(long)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/DoubleCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  public static void addDoubleToCollector(final HyperLogLogCollector collector, final double n)
  {
    collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(Double.doubleToLongBits(n)).asBytes());
  }

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/DoubleCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  public static void addDoubleToCollector(final HyperLogLogCollector collector, final double n)
  {
    collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(Double.doubleToLongBits(n)).asBytes());
  }

```

### UnstableApiUsage
'hashUnencodedChars(java.lang.CharSequence)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
    // check if nulls are to be ignored
    if ((NullHandling.replaceWithDefault() && !NullHandling.ignoreNullsForStringCardinality()) || s != null) {
      collector.add(CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(nullToSpecial(s)).asBytes());
    }
  }
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
    // check if nulls are to be ignored
    if ((NullHandling.replaceWithDefault() && !NullHandling.ignoreNullsForStringCardinality()) || s != null) {
      collector.add(CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(nullToSpecial(s)).asBytes());
    }
  }
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(DimensionSelector dimSelector, Hasher hasher)
  {
    final IndexedInts row = dimSelector.getRow();
```

### UnstableApiUsage
'putUnencodedChars(java.lang.CharSequence)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
      final String value = dimSelector.lookupName(row.get(0));
      if (NullHandling.replaceWithDefault() || value != null) {
        hasher.putUnencodedChars(nullToSpecial(value));
      }
    } else if (size != 0) {
```

### UnstableApiUsage
'putChar(char)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
        for (int i = 0; i < size; ++i) {
          if (i != 0) {
            hasher.putChar(CARDINALITY_AGG_SEPARATOR);
          }
          hasher.putUnencodedChars(values[i]);
```

### UnstableApiUsage
'putUnencodedChars(java.lang.CharSequence)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/StringCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
            hasher.putChar(CARDINALITY_AGG_SEPARATOR);
          }
          hasher.putUnencodedChars(values[i]);
        }
      }
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
  )
  {
    final Hasher hasher = HASH_FUNCTION.newHasher();
    for (int k = 0; k < selectorPluses.length; ++k) {
      if (k != 0) {
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
  )
  {
    final Hasher hasher = HASH_FUNCTION.newHasher();
    for (int k = 0; k < selectorPluses.length; ++k) {
      if (k != 0) {
```

### UnstableApiUsage
'putByte(byte)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
    for (int k = 0; k < selectorPluses.length; ++k) {
      if (k != 0) {
        hasher.putByte((byte) 0);
      }

```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
      selectorPlus.getColumnSelectorStrategy().hashRow(selectorPlus.getSelector(), hasher);
    }
    collector.add(hasher.hash().asBytes());
  }

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
      selectorPlus.getColumnSelectorStrategy().hashRow(selectorPlus.getSelector(), hasher);
    }
    collector.add(hasher.hash().asBytes());
  }

```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
public class CardinalityAggregator implements Aggregator
{
  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  static void hashRow(
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
public class CardinalityAggregator implements Aggregator
{
  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  static void hashRow(
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
public class CardinalityAggregator implements Aggregator
{
  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  static void hashRow(
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/CardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
   * @param hasher Hasher used for cardinality aggregator calculations
   */
  void hashRow(ValueSelectorType dimSelector, Hasher hasher);


```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/FloatCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(BaseFloatColumnValueSelector selector, Hasher hasher)
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
```

### UnstableApiUsage
'putFloat(float)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/FloatCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
      hasher.putFloat(selector.getFloat());
    }
  }
```

### UnstableApiUsage
'hashInt(int)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/FloatCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  public static void addFloatToCollector(final HyperLogLogCollector collector, final float n)
  {
    collector.add(CardinalityAggregator.HASH_FUNCTION.hashInt(Float.floatToIntBits(n)).asBytes());
  }

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/FloatCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  public static void addFloatToCollector(final HyperLogLogCollector collector, final float n)
  {
    collector.add(CardinalityAggregator.HASH_FUNCTION.hashInt(Float.floatToIntBits(n)).asBytes());
  }

```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/LongCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java

  @Override
  public void hashRow(BaseLongColumnValueSelector selector, Hasher hasher)
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
```

### UnstableApiUsage
'putLong(long)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/LongCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  {
    if (NullHandling.replaceWithDefault() || !selector.isNull()) {
      hasher.putLong(selector.getLong());
    }
  }
```

### UnstableApiUsage
'hashLong(long)' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/LongCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  public static void addLongToCollector(final HyperLogLogCollector collector, final long n)
  {
    collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(n).asBytes());
  }

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/types/LongCardinalityAggregatorColumnSelectorStrategy.java`
#### Snippet
```java
  public static void addLongToCollector(final HyperLogLogCollector collector, final long n)
  {
    collector.add(CardinalityAggregator.HASH_FUNCTION.hashLong(n).asBytes());
  }

```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("created_date", DateTimes.nowUtc().toString())
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("created_date", DateTimes.nowUtc().toString())
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("created_date", DateTimes.nowUtc().toString())
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
    );
```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
    );
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
    );
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
            .bind("commit_metadata_payload", jsonMapper.writeValueAsBytes(metadata))
            .bind("commit_metadata_sha1", BaseEncoding.base16().encode(
                Hashing.sha1().hashBytes(jsonMapper.writeValueAsBytes(metadata)).asBytes()))
            .execute()
    );
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      oldCommitMetadataFromDb = null;
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      oldCommitMetadataFromDb = null;
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      oldCommitMetadataFromDb = null;
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
      oldCommitMetadataFromDb = jsonMapper.readValue(oldCommitMetadataBytesFromDb, DataSourceMetadata.class);
```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
      oldCommitMetadataFromDb = jsonMapper.readValue(oldCommitMetadataBytesFromDb, DataSourceMetadata.class);
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
      oldCommitMetadataFromDb = jsonMapper.readValue(oldCommitMetadataBytesFromDb, DataSourceMetadata.class);
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    } else {
      oldCommitMetadataSha1FromDb = BaseEncoding.base16().encode(
          Hashing.sha1().hashBytes(oldCommitMetadataBytesFromDb).asBytes()
      );
      oldCommitMetadataFromDb = jsonMapper.readValue(oldCommitMetadataBytesFromDb, DataSourceMetadata.class);
```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
                                                 : oldCommitMetadataFromDb.plus(endMetadata);
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
                                                 : oldCommitMetadataFromDb.plus(endMetadata);
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
                                                 : oldCommitMetadataFromDb.plus(endMetadata);
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(newCommitMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // Using a single column instead of (sequence_name, sequence_prev_id) as some MySQL storage engines
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // Using a single column instead of (sequence_name, sequence_prev_id) as some MySQL storage engines
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // Using a single column instead of (sequence_name, sequence_prev_id) as some MySQL storage engines
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
               .putLong(interval.getStartMillis())
```

### UnstableApiUsage
'putByte(byte)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
               .putLong(interval.getStartMillis())
               .putLong(interval.getEndMillis())
```

### UnstableApiUsage
'putLong(long)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
               .putLong(interval.getStartMillis())
               .putLong(interval.getEndMillis())
               .hash()
```

### UnstableApiUsage
'putLong(long)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putByte((byte) 0xff)
               .putLong(interval.getStartMillis())
               .putLong(interval.getEndMillis())
               .hash()
               .asBytes()
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putLong(interval.getStartMillis())
               .putLong(interval.getEndMillis())
               .hash()
               .asBytes()
    );
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putLong(interval.getEndMillis())
               .hash()
               .asBytes()
    );

```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // Using a single column instead of (sequence_name, sequence_prev_id) as some MySQL storage engines
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // Using a single column instead of (sequence_name, sequence_prev_id) as some MySQL storage engines
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // Using a single column instead of (sequence_name, sequence_prev_id) as some MySQL storage engines
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    // have difficulty with large unique keys (see https://github.com/apache/druid/issues/2319)
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
```

### UnstableApiUsage
'newHasher()' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final String sequenceNamePrevIdSha1 = BaseEncoding.base16().encode(
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
        Hashing.sha1()
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
               .putBytes(StringUtils.toUtf8(previousSegmentIdNotNull))
```

### UnstableApiUsage
'putByte(byte)' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .newHasher()
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
               .putBytes(StringUtils.toUtf8(previousSegmentIdNotNull))
               .hash()
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putBytes(StringUtils.toUtf8(sequenceName))
               .putByte((byte) 0xff)
               .putBytes(StringUtils.toUtf8(previousSegmentIdNotNull))
               .hash()
               .asBytes()
```

### UnstableApiUsage
'hash()' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putByte((byte) 0xff)
               .putBytes(StringUtils.toUtf8(previousSegmentIdNotNull))
               .hash()
               .asBytes()
    );
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
               .putBytes(StringUtils.toUtf8(previousSegmentIdNotNull))
               .hash()
               .asBytes()
    );

```

### UnstableApiUsage
'com.google.common.io.BaseEncoding' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
  {
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );
```

### UnstableApiUsage
'base16()' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
  {
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );
```

### UnstableApiUsage
'encode(byte\[\])' is declared in unstable class 'com.google.common.io.BaseEncoding' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
  {
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'sha1()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
    final byte[] newCommitMetadataBytes = jsonMapper.writeValueAsBytes(dataSourceMetadata);
    final String newCommitMetadataSha1 = BaseEncoding.base16().encode(
        Hashing.sha1().hashBytes(newCommitMetadataBytes).asBytes()
    );

```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/query/monomorphicprocessing/SpecializationService.java`
#### Snippet
```java
        try (InputStream prototypeClassBytecodeStream =
                 cl.getResourceAsStream(prototypeClassBytecodeName + ".class")) {
          prototypeClassBytecode = ByteStreams.toByteArray(prototypeClassBytecodeStream);
        }
      }
```

### UnstableApiUsage
'toByteArray(java.io.InputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `processing/src/main/java/org/apache/druid/query/monomorphicprocessing/SpecializationService.java`
#### Snippet
```java
        try (InputStream prototypeClassBytecodeStream =
                 cl.getResourceAsStream(prototypeClassBytecodeName + ".class")) {
          prototypeClassBytecode = ByteStreams.toByteArray(prototypeClassBytecodeStream);
        }
      }
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
      return ((Number) valObj).floatValue();
    } else if (valObj instanceof String) {
      Float ret = Floats.tryParse((String) valObj);
      if (reportParseExceptions && ret == null) {
        throw new ParseException((String) valObj, "could not convert value [%s] to float", valObj);
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
      return ((Number) valObj).doubleValue();
    } else if (valObj instanceof String) {
      Double ret = Doubles.tryParse((String) valObj);
      if (reportParseExceptions && ret == null) {
        throw new ParseException((String) valObj, "could not convert value [%s] to double", valObj);
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
      }
      finally {
        Closeables.close(indexIn, false);
      }

```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
      }
      finally {
        Closeables.close(indexIn, false);
      }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
      long startTime = System.currentTimeMillis();

      final int theVersion = Ints.fromByteArray(Files.toByteArray(new File(inDir, "version.bin")));
      if (theVersion != V9_VERSION) {
        throw new IAE("Expected version[9], got[%d]", theVersion);
```

### UnstableApiUsage
'toByteArray(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
      long startTime = System.currentTimeMillis();

      final int theVersion = Ints.fromByteArray(Files.toByteArray(new File(inDir, "version.bin")));
      if (theVersion != V9_VERSION) {
        throw new IAE("Expected version[9], got[%d]", theVersion);
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      closer.register(segmentWriteOutMedium);
      long startTime = System.currentTimeMillis();
      Files.asByteSink(new File(outDir, "version.bin")).write(Ints.toByteArray(IndexIO.V9_VERSION));
      log.debug("Completed version.bin in %,d millis.", System.currentTimeMillis() - startTime);

```

### UnstableApiUsage
'asByteSink(java.io.File, com.google.common.io.FileWriteMode...)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      closer.register(segmentWriteOutMedium);
      long startTime = System.currentTimeMillis();
      Files.asByteSink(new File(outDir, "version.bin")).write(Ints.toByteArray(IndexIO.V9_VERSION));
      log.debug("Completed version.bin in %,d millis.", System.currentTimeMillis() - startTime);

```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          } else if (globalId < adjustLongId) {
            // try to convert string to float
            Float f = Floats.tryParse(StringUtils.fromUtf8(globalDictionary.get(globalId)));
            return f == null ? 0f : f;
          } else if (globalId < adjustDoubleId) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          } else if (globalId < adjustLongId) {
            // try to convert string to double
            Double d = Doubles.tryParse(StringUtils.fromUtf8(globalDictionary.get(globalId)));
            return d == null ? 0.0 : d;
          } else if (globalId < adjustDoubleId) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
        } else if (globalId < adjustLongId) {
          // try to convert string to float
          Float f = Floats.tryParse(StringUtils.fromUtf8(globalDictionary.get(globalId)));
          return f == null ? 0f : f;
        } else if (globalId < adjustDoubleId) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return globalLong + adjustLongId;
        case DOUBLE:
          final int globalDouble = globalDoubleDictionary.indexOf(Doubles.tryParse(val));
          if (globalDouble < 0) {
            return -1;
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
      }
      if (candidate < 0) {
        candidate = globalDoubleDictionary.indexOf(Doubles.tryParse(val));
        if (candidate >= 0) {
          candidate += adjustDoubleId;
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
        } else if (globalId < adjustLongId) {
          // try to convert string to double
          Double d = Doubles.tryParse(StringUtils.fromUtf8(globalDictionary.get(globalId)));
          return d == null ? 0.0 : d;
        } else if (globalId < adjustDoubleId) {
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/writeout/FileWriteOutBytes.java`
#### Snippet
```java
    ch.position(0);
    try {
      ByteStreams.copy(ch, channel);
    }
    finally {
```

### UnstableApiUsage
'copy(java.nio.channels.ReadableByteChannel, java.nio.channels.WritableByteChannel)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `processing/src/main/java/org/apache/druid/segment/writeout/FileWriteOutBytes.java`
#### Snippet
```java
    ch.position(0);
    try {
      ByteStreams.copy(ch, channel);
    }
    finally {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
              needNullCheck = true;
            } else {
              Double theValue = Doubles.tryParse(value);
              if (theValue != null) {
                doubles.add(theValue.doubleValue());
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      }

      Double someDouble = Doubles.tryParse(value);
      if (someDouble != null) {
        globalId = doubleDictionary.indexOf(someDouble);
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
    {
      final boolean inputNull = value == null;
      final Double doubleValue = Strings.isNullOrEmpty(value) ? null : Doubles.tryParse(value);
      return new SimpleBitmapColumnIndex()
      {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java
                d = ((Number) v).doubleValue();
              } else {
                d = Doubles.tryParse(String.valueOf(v));
              }
              if (d != null) {
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchComplexMetricSerde.java`
#### Snippet
```java
          if (objectString.isEmpty()) {
            return KllDoublesSketchOperations.EMPTY_SKETCH;
          } else if ((doubleValue = Doubles.tryParse(objectString)) != null) {
            final KllDoublesSketch sketch = KllDoublesSketch.newHeapInstance(MIN_K);
            sketch.update(doubleValue);
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchComplexMetricSerde.java`
#### Snippet
```java
          if (objectString.isEmpty()) {
            return KllFloatsSketchOperations.EMPTY_SKETCH;
          } else if ((floatValue = Floats.tryParse(objectString)) != null) {
            final KllFloatsSketch sketch = KllFloatsSketch.newHeapInstance(MIN_K);
            sketch.update(floatValue);
```

### UnstableApiUsage
'tryParse(java.lang.String)' is marked unstable with @Beta
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchComplexMetricSerde.java`
#### Snippet
```java
          if (objectString.isEmpty()) {
            return DoublesSketchOperations.EMPTY_SKETCH;
          } else if ((doubleValue = Doubles.tryParse(objectString)) != null) {
            UpdateDoublesSketch sketch = DoublesSketch.builder().setK(MIN_K).build();
            sketch.update(doubleValue);
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/tasklog/HdfsTaskLogs.java`
#### Snippet
```java
        final OutputStream out = fs.create(path, true)
    ) {
      ByteStreams.copy(in, out);
    }
  }
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/tasklog/HdfsTaskLogs.java`
#### Snippet
```java
        final OutputStream out = fs.create(path, true)
    ) {
      ByteStreams.copy(in, out);
    }
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/RestUpdateSender.java`
#### Snippet
```java
  ) throws InterruptedException, ExecutionException, TimeoutException
  {
    return Futures.successfulAsList(futures)
                  .get(
                      cacheNotificationsTimeoutMs,
```

### UnstableApiUsage
'successfulAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/RestUpdateSender.java`
#### Snippet
```java
  ) throws InterruptedException, ExecutionException, TimeoutException
  {
    return Futures.successfulAsList(futures)
                  .get(
                      cacheNotificationsTimeoutMs,
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
      }
      if (CompressionUtils.isGz(s3Coords.getPath())) {
        final String fname = Files.getNameWithoutExtension(uri.getPath());
        final File outFile = new File(outDir, fname);

```

### UnstableApiUsage
'getNameWithoutExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
      }
      if (CompressionUtils.isGz(s3Coords.getPath())) {
        final String fname = Files.getNameWithoutExtension(uri.getPath());
        final File outFile = new File(outDir, fname);

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
      public String getName()
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }
```

### UnstableApiUsage
'getFileExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
      public String getName()
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }

```

### UnstableApiUsage
'getNameWithoutExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java

  // metric
  private final Stopwatch pushStopwatch;

  private Chunk currentChunk;
```

### UnstableApiUsage
'write(byte\[\], int, int)' is declared in unstable class 'com.google.common.io.CountingOutputStream' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
  {
    final int lenToWrite = Math.min(len, Math.toIntExact(chunkSize - currentChunk.length()));
    currentChunk.outputStream.write(b, off, lenToWrite);
    return lenToWrite;
  }
```

### UnstableApiUsage
'com.google.common.io.CountingOutputStream' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
    private final int id;
    private final File file;
    private final CountingOutputStream outputStream;
    private boolean closed;

```

### UnstableApiUsage
'start()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
        }

        pushStopwatch.start();
        pushResults.add(push(chunk));
        pushStopwatch.stop();
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
        pushStopwatch.start();
        pushResults.add(push(chunk));
        pushStopwatch.stop();
        numChunksPushed++;
      }
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
    closer.register(() -> {
      // This should be emitted as a metric
      LOG.info("Total push time: [%d] ms", pushStopwatch.elapsed(TimeUnit.MILLISECONDS));
    });

```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingOutputStream' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
    private long length()
    {
      return outputStream.getCount();
    }

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
    FileUtils.mkdirp(this.chunkStorePath);
    this.chunkSize = config.getChunkSize();
    this.pushStopwatch = Stopwatch.createUnstarted();
    this.pushStopwatch.reset();

```

### UnstableApiUsage
'createUnstarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
    FileUtils.mkdirp(this.chunkStorePath);
    this.chunkSize = config.getChunkSize();
    this.pushStopwatch = Stopwatch.createUnstarted();
    this.pushStopwatch.reset();

```

### UnstableApiUsage
'reset()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
    this.chunkSize = config.getChunkSize();
    this.pushStopwatch = Stopwatch.createUnstarted();
    this.pushStopwatch.reset();

    this.currentChunk = new Chunk(nextChunkId, new File(chunkStorePath, String.valueOf(nextChunkId++)));
```

### UnstableApiUsage
'CountingOutputStream(java.io.OutputStream)' is declared in unstable class 'com.google.common.io.CountingOutputStream' marked with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
      this.id = id;
      this.file = file;
      this.outputStream = new CountingOutputStream(new FastBufferedOutputStream(new FileOutputStream(file)));
    }

```

### UnstableApiUsage
'com.google.common.io.CountingOutputStream' is marked unstable with @Beta
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/output/RetryableS3OutputStream.java`
#### Snippet
```java
      this.id = id;
      this.file = file;
      this.outputStream = new CountingOutputStream(new FastBufferedOutputStream(new FileOutputStream(file)));
    }

```

### UnstableApiUsage
'asMap(java.util.Set, com.google.common.base.Function)' is marked unstable with @Beta
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/ResponseCookieHandler.java`
#### Snippet
```java
    try {
      final HttpHeaders headers = httpResponse.headers();
      manager.put(uri, Maps.asMap(headers.names(), new Function<String, List<String>>()
      {
        @Override
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosHttpClient.java`
#### Snippet
```java
      );

      Futures.addCallback(internalFuture, new FutureCallback<RetryResponseHolder<Final>>()
      {
        @Override
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosHttpClient.java`
#### Snippet
```java
      );

      Futures.addCallback(internalFuture, new FutureCallback<RetryResponseHolder<Final>>()
      {
        @Override
```

### UnstableApiUsage
'com.google.common.io.CountingOutputStream' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/SqlTaskResource.java`
#### Snippet
```java
          .ok(
              (StreamingOutput) outputStream -> {
                CountingOutputStream os = new CountingOutputStream(outputStream);
                Yielder<Object[]> yielder = yielder0;

```

### UnstableApiUsage
'CountingOutputStream(java.io.OutputStream)' is declared in unstable class 'com.google.common.io.CountingOutputStream' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/SqlTaskResource.java`
#### Snippet
```java
          .ok(
              (StreamingOutput) outputStream -> {
                CountingOutputStream os = new CountingOutputStream(outputStream);
                Yielder<Object[]> yielder = yielder0;

```

### UnstableApiUsage
'com.google.common.io.CountingOutputStream' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/SqlTaskResource.java`
#### Snippet
```java
          .ok(
              (StreamingOutput) outputStream -> {
                CountingOutputStream os = new CountingOutputStream(outputStream);
                Yielder<Object[]> yielder = yielder0;

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ExceptionWrappingWorkerClient.java`
#### Snippet
```java
    }

    Futures.addCallback(
        clientFuture,
        new FutureCallback<T>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ExceptionWrappingWorkerClient.java`
#### Snippet
```java
    }

    Futures.addCallback(
        clientFuture,
        new FutureCallback<T>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQFutureUtils.java`
#### Snippet
```java
{
  /**
   * Similar to {@link Futures#allAsList}, but provides a "cancelOnErrorOrInterrupt" option that cancels all input
   * futures if the returned future is canceled or fails.
   */
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQFutureUtils.java`
#### Snippet
```java
  )
  {
    final ListenableFuture<List<T>> retVal = Futures.allAsList(futures);

    if (cancelOnErrorOrInterrupt) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQFutureUtils.java`
#### Snippet
```java
  )
  {
    final ListenableFuture<List<T>> retVal = Futures.allAsList(futures);

    if (cancelOnErrorOrInterrupt) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQFutureUtils.java`
#### Snippet
```java

    if (cancelOnErrorOrInterrupt) {
      Futures.addCallback(
          retVal,
          new FutureCallback<List<T>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQFutureUtils.java`
#### Snippet
```java

    if (cancelOnErrorOrInterrupt) {
      Futures.addCallback(
          retVal,
          new FutureCallback<List<T>>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/shuffle/WorkerInputChannelFactory.java`
#### Snippet
```java
        workerClient.fetchChannelData(taskId, stageId, partitionNumber, offset, channel);

    Futures.addCallback(
        fetchFuture,
        new FutureCallback<Boolean>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/shuffle/WorkerInputChannelFactory.java`
#### Snippet
```java
        workerClient.fetchChannelData(taskId, stageId, partitionNumber, offset, channel);

    Futures.addCallback(
        fetchFuture,
        new FutureCallback<Boolean>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
        );

    Futures.addCallback(
        clusterByStatisticsCollectorFuture,
        new FutureCallback<ClusterByStatisticsCollector>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
        );

    Futures.addCallback(
        clusterByStatisticsCollectorFuture,
        new FutureCallback<ClusterByStatisticsCollector>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
          stagePartitionBoundariesFuture = SettableFuture.create();
        } else {
          stagePartitionBoundariesFuture = Futures.immediateFuture(kernel.getResultPartitionBoundaries());
        }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
          stagePartitionBoundariesFuture = SettableFuture.create();
        } else {
          stagePartitionBoundariesFuture = Futures.immediateFuture(kernel.getResultPartitionBoundaries());
        }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

        //noinspection unchecked, rawtypes
        outputChannelsFuture = Futures.transform(
            exec.runFully(muxer, cancellationId),
            (Function) ignored -> OutputChannels.wrap(Collections.singletonList(outputChannel.readOnly()))
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

        //noinspection unchecked, rawtypes
        outputChannelsFuture = Futures.transform(
            exec.runFully(muxer, cancellationId),
            (Function) ignored -> OutputChannels.wrap(Collections.singletonList(outputChannel.readOnly()))
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

      // Retain read-only versions to reduce memory footprint.
      outputChannelsFuture = Futures.immediateFuture(workerResultAndOutputChannels.getOutputChannels().readOnly());
    }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

      // Retain read-only versions to reduce memory footprint.
      outputChannelsFuture = Futures.immediateFuture(workerResultAndOutputChannels.getOutputChannels().readOnly());
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

    // Output channels and future are all constructed. Sanity check, record them, and set up callbacks.
    Futures.addCallback(
        Futures.allAsList(
            Arrays.asList(
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

    // Output channels and future are all constructed. Sanity check, record them, and set up callbacks.
    Futures.addCallback(
        Futures.allAsList(
            Arrays.asList(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
    // Output channels and future are all constructed. Sanity check, record them, and set up callbacks.
    Futures.addCallback(
        Futures.allAsList(
            Arrays.asList(
                workerResultAndOutputChannels.getResultFuture(),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
    // Output channels and future are all constructed. Sanity check, record them, and set up callbacks.
    Futures.addCallback(
        Futures.allAsList(
            Arrays.asList(
                workerResultAndOutputChannels.getResultFuture(),
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
            Arrays.asList(
                workerResultAndOutputChannels.getResultFuture(),
                Futures.transform(
                    outputChannelsFuture,
                    new Function<OutputChannels, OutputChannels>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
            Arrays.asList(
                workerResultAndOutputChannels.getResultFuture(),
                Futures.transform(
                    outputChannelsFuture,
                    new Function<OutputChannels, OutputChannels>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/IndexerWorkerClient.java`
#### Snippet
```java
        );

    Futures.addCallback(
        clientFuture,
        new FutureCallback<FrameFilePartialFetch>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/IndexerWorkerClient.java`
#### Snippet
```java
        );

    Futures.addCallback(
        clientFuture,
        new FutureCallback<FrameFilePartialFetch>()
```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
{
  private final BloomKFilter filter;
  private final HashCode hash;

  public BloomKFilterHolder(BloomKFilter filter, HashCode hash)
```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
  private final HashCode hash;

  public BloomKFilterHolder(BloomKFilter filter, HashCode hash)
  {
    this.filter = filter;
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
    byte[] bytes = BloomFilterSerializersModule.bloomKFilterToBytes(filter);

    return new BloomKFilterHolder(filter, Hashing.sha512().hashBytes(bytes));
  }

```

### UnstableApiUsage
'sha512()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
    byte[] bytes = BloomFilterSerializersModule.bloomKFilterToBytes(filter);

    return new BloomKFilterHolder(filter, Hashing.sha512().hashBytes(bytes));
  }

```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
    byte[] bytes = BloomFilterSerializersModule.bloomKFilterToBytes(filter);

    return new BloomKFilterHolder(filter, Hashing.sha512().hashBytes(bytes));
  }

```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
    return new BloomKFilterHolder(
        BloomFilterSerializersModule.bloomKFilterFromBytes(bytes),
        Hashing.sha512().hashBytes(bytes)
    );
  }
```

### UnstableApiUsage
'sha512()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
    return new BloomKFilterHolder(
        BloomFilterSerializersModule.bloomKFilterFromBytes(bytes),
        Hashing.sha512().hashBytes(bytes)
    );
  }
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
    return new BloomKFilterHolder(
        BloomFilterSerializersModule.bloomKFilterFromBytes(bytes),
        Hashing.sha512().hashBytes(bytes)
    );
  }
```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilterHolder.java`
#### Snippet
```java
  }

  HashCode getFilterHash()
  {
    return hash;
```

### UnstableApiUsage
'equals(java.lang.Object)' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java
    BloomDimFilter that = (BloomDimFilter) o;
    return dimension.equals(that.dimension) &&
           hash.equals(that.hash) &&
           Objects.equals(extractionFn, that.extractionFn) &&
           Objects.equals(filterTuning, that.filterTuning);
```

### UnstableApiUsage
'com.google.common.hash.HashCode' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java
  private final String dimension;
  private final BloomKFilter bloomKFilter;
  private final HashCode hash;
  @Nullable
  private final ExtractionFn extractionFn;
```

### UnstableApiUsage
'toString()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java
  {
    return new DimFilterToStringBuilder().appendDimension(dimension, extractionFn)
                                         .appendEquals(hash.toString())
                                         .appendFilterTuning(filterTuning)
                                         .build();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java

  @Override
  public RangeSet<String> getDimensionRangeSet(String dimension)
  {
    return null;
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(hash.asBytes())
        .build();
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/CommonCacheNotifier.java`
#### Snippet
```java

              try {
                List<StatusResponseHolder> responses = Futures.allAsList(futures)
                                                              .get(
                                                                  authorizerConfig.getCacheNotificationTimeout(),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/CommonCacheNotifier.java`
#### Snippet
```java

              try {
                List<StatusResponseHolder> responses = Futures.allAsList(futures)
                                                              .get(
                                                                  authorizerConfig.getCacheNotificationTimeout(),
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListeningScheduledExecutorService' is marked unstable with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/PollingLookup.java`
#### Snippet
```java


  private final ListeningScheduledExecutorService scheduledExecutorService;

  private final AtomicBoolean isOpen = new AtomicBoolean(false);
```

### UnstableApiUsage
'listeningDecorator(java.util.concurrent.ScheduledExecutorService)' is unstable because its signature references unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/PollingLookup.java`
#### Snippet
```java
    refOfCacheKeeper.set(new CacheRefKeeper(this.cacheFactory.makeOf(dataFetcher.fetchAll())));
    if (pollPeriodMs > 0) {
      scheduledExecutorService = MoreExecutors.listeningDecorator(Executors.newSingleThreadScheduledExecutor(
          Execs.makeThreadFactory("PollingLookup-" + StringUtils.encodeForFormat(id), Thread.MIN_PRIORITY)
      ));
```

### UnstableApiUsage
'scheduleWithFixedDelay(java.lang.Runnable, long, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/PollingLookup.java`
#### Snippet
```java
          Execs.makeThreadFactory("PollingLookup-" + StringUtils.encodeForFormat(id), Thread.MIN_PRIORITY)
      ));
      pollFuture = scheduledExecutorService.scheduleWithFixedDelay(
          pollAndSwap(),
          pollPeriodMs,
```

### UnstableApiUsage
'invalidate(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public void invalidate(K key)
  {
    cache.invalidate(key);
  }

```

### UnstableApiUsage
'putAll(java.util.Map)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public void putAll(Map<? extends K, ? extends V> m)
  {
    cache.putAll(m);
  }

```

### UnstableApiUsage
'getAllPresent(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public Map<K, V> getAllPresent(Iterable<K> keys)
  {
    return cache.getAllPresent(keys);
  }

```

### UnstableApiUsage
'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  {
    return new LookupCacheStats(
        cache.stats().hitCount(),
        cache.stats().missCount(),
        cache.stats().evictionCount()
```

### UnstableApiUsage
'hitCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  {
    return new LookupCacheStats(
        cache.stats().hitCount(),
        cache.stats().missCount(),
        cache.stats().evictionCount()
```

### UnstableApiUsage
'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
    return new LookupCacheStats(
        cache.stats().hitCount(),
        cache.stats().missCount(),
        cache.stats().evictionCount()
    );
```

### UnstableApiUsage
'missCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
    return new LookupCacheStats(
        cache.stats().hitCount(),
        cache.stats().missCount(),
        cache.stats().evictionCount()
    );
```

### UnstableApiUsage
'stats()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
        cache.stats().hitCount(),
        cache.stats().missCount(),
        cache.stats().evictionCount()
    );
  }
```

### UnstableApiUsage
'evictionCount()' is declared in unstable class 'com.google.common.cache.CacheStats' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
        cache.stats().hitCount(),
        cache.stats().missCount(),
        cache.stats().evictionCount()
    );
  }
```

### UnstableApiUsage
'cleanUp()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  {
    if (!isClosed.getAndSet(true)) {
      cache.cleanUp();
    }
  }
```

### UnstableApiUsage
'invalidateAll(java.lang.Iterable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public void invalidateAll(Iterable<K> keys)
  {
    cache.invalidateAll(keys);
  }

```

### UnstableApiUsage
'build()' is unstable because its signature references unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
    }

    this.cache = builder.build();

    if (isClosed.getAndSet(false)) {
```

### UnstableApiUsage
'invalidateAll()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public void invalidateAll()
  {
    cache.invalidateAll();
    cache.cleanUp();
  }
```

### UnstableApiUsage
'cleanUp()' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  {
    cache.invalidateAll();
    cache.cleanUp();
  }

```

### UnstableApiUsage
'get(K, java.util.concurrent.Callable)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public V get(K key, Callable<? extends V> valueLoader) throws ExecutionException
  {
    return cache.get(key, valueLoader);
  }

```

### UnstableApiUsage
'com.google.common.cache.Cache' is marked unstable with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  private static final int DEFAULT_CONCURRENCY_LEVEL = 4;

  private final Cache<K, V> cache;
  private final AtomicBoolean isClosed = new AtomicBoolean(false);
  @JsonProperty
```

### UnstableApiUsage
'getIfPresent(java.lang.Object)' is declared in unstable interface 'com.google.common.cache.Cache' marked with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OnHeapLoadingCache.java`
#### Snippet
```java
  public V getIfPresent(K key)
  {
    return cache.getIfPresent(key);
  }

```

### UnstableApiUsage
'asMap(java.util.Set, com.google.common.base.Function)' is marked unstable with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/polling/OnHeapPollingCache.java`
#### Snippet
```java
      immutableMap = mapBuilder.build();
      immutableReverseMap = ImmutableMap.copyOf(
          Maps.asMap(
              setOfValues,
              val -> immutableMap
```

### UnstableApiUsage
'asMap(java.util.Set, com.google.common.base.Function)' is marked unstable with @Beta
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/polling/OffHeapPollingCache.java`
#### Snippet
```java

      final Set<V> setOfValues = setOfValuesBuilder.build();
      reverseCache.putAll(Maps.asMap(
          setOfValues,
          new Function<V, List<K>>()
```

### UnstableApiUsage
Overridden method 'processLine(java.lang.String)' is declared in unstable interface 'com.google.common.io.LineProcessor' marked with @Beta
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java

          @Override
          public boolean processLine(String line)
          {
            if (lines == Integer.MAX_VALUE) {
```

### UnstableApiUsage
'com.google.common.io.LineProcessor' is marked unstable with @Beta
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
  {
    return source.asCharSource(StandardCharsets.UTF_8).readLines(
        new LineProcessor<PopulateResult>()
        {
          private int lines = 0;
```

### UnstableApiUsage
Overridden method 'getResult()' is declared in unstable interface 'com.google.common.io.LineProcessor' marked with @Beta
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java

          @Override
          public PopulateResult getResult()
          {
            return new PopulateResult(lines, entries, bytes);
```

### UnstableApiUsage
'readLines(com.google.common.io.LineProcessor)' is marked unstable with @Beta
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
  ) throws IOException
  {
    return source.asCharSource(StandardCharsets.UTF_8).readLines(
        new LineProcessor<PopulateResult>()
        {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
        }
      });
      Futures.addCallback(
          future,
          new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
        }
      });
      Futures.addCallback(
          future,
          new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
      );
      this.future = future;
      final Stopwatch stopwatch = Stopwatch.createStarted();
      try {
        while (!startingReads.await(100, TimeUnit.MILLISECONDS) && connectTimeout > 0L) {
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
      );
      this.future = future;
      final Stopwatch stopwatch = Stopwatch.createStarted();
      try {
        while (!startingReads.await(100, TimeUnit.MILLISECONDS) && connectTimeout > 0L) {
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
      );
      this.future = future;
      final Stopwatch stopwatch = Stopwatch.createStarted();
      try {
        while (!startingReads.await(100, TimeUnit.MILLISECONDS) && connectTimeout > 0L) {
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
            future.get();
          } else {
            if (stopwatch.elapsed(TimeUnit.MILLISECONDS) > connectTimeout) {
              throw new TimeoutException("Failed to connect to kafka in sufficient time");
            }
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      }
      finally {
        Closeables.close(out, false);
      }
    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      }
      finally {
        Closeables.close(out, false);
      }
    }
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
  public static class DetermineCardinalityMapper extends HadoopDruidIndexerMapper<LongWritable, BytesWritable>
  {
    private static HashFunction hashFunction = Hashing.murmur3_128();
    @Nullable
    private Granularity rollupGranularity = null;
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
  public static class DetermineCardinalityMapper extends HadoopDruidIndexerMapper<LongWritable, BytesWritable>
  {
    private static HashFunction hashFunction = Hashing.murmur3_128();
    @Nullable
    private Granularity rollupGranularity = null;
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
  public static class DetermineCardinalityMapper extends HadoopDruidIndexerMapper<LongWritable, BytesWritable>
  {
    private static HashFunction hashFunction = Hashing.murmur3_128();
    @Nullable
    private Granularity rollupGranularity = null;
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
        }
        finally {
          Closeables.close(out, false);
        }
      }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
        }
        finally {
          Closeables.close(out, false);
        }
      }
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      hyperLogLogs
          .get(interval)
          .add(hashFunction.hashBytes(HadoopDruidIndexerConfig.JSON_MAPPER.writeValueAsBytes(groupKey)).asBytes());

      context.getCounter(HadoopDruidIndexerConfig.IndexJobCounters.ROWS_PROCESSED_COUNTER).increment(1);
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      hyperLogLogs
          .get(interval)
          .add(hashFunction.hashBytes(HadoopDruidIndexerConfig.JSON_MAPPER.writeValueAsBytes(groupKey)).asBytes());

      context.getCounter(HadoopDruidIndexerConfig.IndexJobCounters.ROWS_PROCESSED_COUNTER).increment(1);
```

### UnstableApiUsage
'drain(java.util.concurrent.BlockingQueue, java.util.Collection, int, long, java.util.concurrent.TimeUnit)' is marked unstable with @Beta
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java
      List<OrderedPartitionableRecord<String, String, ByteEntity>> polledRecords = new ArrayList<>(expectedSize);

      Queues.drain(
          records,
          polledRecords,
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      }
      finally {
        Closeables.close(out, false);
      }
    }
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      }
      finally {
        Closeables.close(out, false);
      }
    }
```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
                                                     .bucketStart(inputRow.getTimestamp())
                                                     .getMillis();
      final byte[] hashedDimensions = HASH_FUNCTION.hashBytes(
          HadoopDruidIndexerConfig.JSON_MAPPER.writeValueAsBytes(
              Rows.toGroupKey(
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
              )
          )
      ).asBytes();

      // type SegmentInputRow serves as a marker that these InputRow instances have already been combined
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorMapper extends HadoopDruidIndexerMapper<BytesWritable, BytesWritable>
  {
    private static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

    private AggregatorFactory[] aggregators;
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorMapper extends HadoopDruidIndexerMapper<BytesWritable, BytesWritable>
  {
    private static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

    private AggregatorFactory[] aggregators;
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorMapper extends HadoopDruidIndexerMapper<BytesWritable, BytesWritable>
  {
    private static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

    private AggregatorFactory[] aggregators;
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
          }

          Futures.allAsList(persistFutures).get(1, TimeUnit.HOURS);
          persistExecutor.shutdown();

```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
          }

          Futures.allAsList(persistFutures).get(1, TimeUnit.HOURS);
          persistExecutor.shutdown();

```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceRecordReader.java`
#### Snippet
```java
  public void close() throws IOException
  {
    Closeables.close(firehose, true);
    for (QueryableIndex qi : indexes) {
      Closeables.close(qi, true);
```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceRecordReader.java`
#### Snippet
```java
  public void close() throws IOException
  {
    Closeables.close(firehose, true);
    for (QueryableIndex qi : indexes) {
      Closeables.close(qi, true);
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceRecordReader.java`
#### Snippet
```java
    Closeables.close(firehose, true);
    for (QueryableIndex qi : indexes) {
      Closeables.close(qi, true);
    }

```

### UnstableApiUsage
'close(java.io.Closeable, boolean)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceRecordReader.java`
#### Snippet
```java
    Closeables.close(firehose, true);
    for (QueryableIndex qi : indexes) {
      Closeables.close(qi, true);
    }

```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
  {
    try {
      ByteArrayDataInput in = ByteStreams.newDataInput(data);

      //Read timestamp
```

### UnstableApiUsage
'newDataInput(byte\[\])' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
  {
    try {
      ByteArrayDataInput in = ByteStreams.newDataInput(data);

      //Read timestamp
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
    try {
      List<String> parseExceptionMessages = new ArrayList<>();
      ByteArrayDataOutput out = ByteStreams.newDataOutput();

      //write timestamp
```

### UnstableApiUsage
'newDataOutput()' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
    try {
      List<String> parseExceptionMessages = new ArrayList<>();
      ByteArrayDataOutput out = ByteStreams.newDataOutput();

      //write timestamp
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
        Collections.singletonList(sequenceName)
    );
    pendingHandoffs.add(Futures.transform(
        publishFuture,
        (AsyncFunction<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) driver::registerHandoff
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
        Collections.singletonList(sequenceName)
    );
    pendingHandoffs.add(Futures.transform(
        publishFuture,
        (AsyncFunction<SegmentsAndCommitMetadata, SegmentsAndCommitMetadata>) driver::registerHandoff
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
  {
    if (!pendingHandoffs.isEmpty()) {
      ListenableFuture<?> allHandoffs = Futures.allAsList(pendingHandoffs);
      log.info("Waiting for handoffs");

```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
  {
    if (!pendingHandoffs.isEmpty()) {
      ListenableFuture<?> allHandoffs = Futures.allAsList(pendingHandoffs);
      log.info("Waiting for handoffs");

```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialSegmentMergeTask.java`
#### Snippet
```java
    });

    final Stopwatch fetchStopwatch = Stopwatch.createStarted();
    final Map<Interval, Int2ObjectMap<List<File>>> intervalToUnzippedFiles = fetchSegmentFiles(
        toolbox,
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialSegmentMergeTask.java`
#### Snippet
```java
    });

    final Stopwatch fetchStopwatch = Stopwatch.createStarted();
    final Map<Interval, Int2ObjectMap<List<File>>> intervalToUnzippedFiles = fetchSegmentFiles(
        toolbox,
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialSegmentMergeTask.java`
#### Snippet
```java
    });

    final Stopwatch fetchStopwatch = Stopwatch.createStarted();
    final Map<Interval, Int2ObjectMap<List<File>>> intervalToUnzippedFiles = fetchSegmentFiles(
        toolbox,
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialSegmentMergeTask.java`
#### Snippet
```java
        intervalToBuckets
    );
    final long fetchTime = fetchStopwatch.elapsed(TimeUnit.SECONDS);
    fetchStopwatch.stop();
    LOG.info("Fetch took [%s] seconds", fetchTime);
```

### UnstableApiUsage
'stop()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialSegmentMergeTask.java`
#### Snippet
```java
    );
    final long fetchTime = fetchStopwatch.elapsed(TimeUnit.SECONDS);
    fetchStopwatch.stop();
    LOG.info("Fetch took [%s] seconds", fetchTime);

```

### UnstableApiUsage
'hashBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.HashFunction' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
          );
          hllCollectors.get(interval).get()
                       .add(HASH_FUNCTION.hashBytes(jsonMapper.writeValueAsBytes(groupKey)).asBytes());
        } else {
          // we don't need to determine partitions but we still need to determine intervals, so add an Optional.absent()
```

### UnstableApiUsage
'asBytes()' is declared in unstable class 'com.google.common.hash.HashCode' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
          );
          hllCollectors.get(interval).get()
                       .add(HASH_FUNCTION.hashBytes(jsonMapper.writeValueAsBytes(groupKey)).asBytes());
        } else {
          // we don't need to determine partitions but we still need to determine intervals, so add an Optional.absent()
```

### UnstableApiUsage
'com.google.common.hash.HashFunction' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java


  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  private static final Logger log = new Logger(IndexTask.class);
```

### UnstableApiUsage
'com.google.common.hash.Hashing' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java


  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  private static final Logger log = new Logger(IndexTask.class);
```

### UnstableApiUsage
'murmur3_128()' is declared in unstable class 'com.google.common.hash.Hashing' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java


  public static final HashFunction HASH_FUNCTION = Hashing.murmur3_128();

  private static final Logger log = new Logger(IndexTask.class);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskMonitor.java`
#### Snippet
```java
    synchronized (startStopLock) {
      if (!running) {
        return Futures.immediateFailedFuture(new ISE("TaskMonitor is not running"));
      }
      final T task = submitTask(spec, 0);
```

### UnstableApiUsage
'immediateFailedFuture(java.lang.Throwable)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskMonitor.java`
#### Snippet
```java
    synchronized (startStopLock) {
      if (!running) {
        return Futures.immediateFailedFuture(new ISE("TaskMonitor is not running"));
      }
      final T task = submitTask(spec, 0);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexPhaseRunner.java`
#### Snippet
```java
    LOG.info("Submit a new task for spec[%s]", spec.getId());
    final ListenableFuture<SubTaskCompleteEvent<SubTaskType>> future = taskMonitor.submit(spec);
    Futures.addCallback(
        future,
        new FutureCallback<SubTaskCompleteEvent<SubTaskType>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexPhaseRunner.java`
#### Snippet
```java
    LOG.info("Submit a new task for spec[%s]", spec.getId());
    final ListenableFuture<SubTaskCompleteEvent<SubTaskType>> future = taskMonitor.submit(spec);
    Futures.addCallback(
        future,
        new FutureCallback<SubTaskCompleteEvent<SubTaskType>>()
```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
    private final PassthroughInputRowFilter delegate;
    private final Granularity queryGranularity;
    private final BloomFilter<CharSequence> groupingBloomFilter;

    DedupInputRowFilter(Granularity queryGranularity)
```

### UnstableApiUsage
'mightContain(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
      List<Object> groupKey = Rows.toGroupKey(bucketTimestamp, inputRow);
      String serializedGroupKey = groupKey.toString();
      if (groupingBloomFilter.mightContain(serializedGroupKey)) {
        return false;
      } else {
```

### UnstableApiUsage
'put(T)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
        return false;
      } else {
        groupingBloomFilter.put(serializedGroupKey);
        return true;
      }
```

### UnstableApiUsage
'com.google.common.hash.BloomFilter' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
      delegate = new PassthroughInputRowFilter();
      this.queryGranularity = queryGranularity;
      groupingBloomFilter = BloomFilter.create(
          Funnels.unencodedCharsFunnel(),
          bloomFilterExpectedInsertions,
```

### UnstableApiUsage
'create(com.google.common.hash.Funnel, int, double)' is declared in unstable class 'com.google.common.hash.BloomFilter' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
      delegate = new PassthroughInputRowFilter();
      this.queryGranularity = queryGranularity;
      groupingBloomFilter = BloomFilter.create(
          Funnels.unencodedCharsFunnel(),
          bloomFilterExpectedInsertions,
```

### UnstableApiUsage
'com.google.common.hash.Funnels' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
      this.queryGranularity = queryGranularity;
      groupingBloomFilter = BloomFilter.create(
          Funnels.unencodedCharsFunnel(),
          bloomFilterExpectedInsertions,
          bloomFilterFalsePositiveProbability
```

### UnstableApiUsage
'unencodedCharsFunnel()' is declared in unstable class 'com.google.common.hash.Funnels' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
      this.queryGranularity = queryGranularity;
      groupingBloomFilter = BloomFilter.create(
          Funnels.unencodedCharsFunnel(),
          bloomFilterExpectedInsertions,
          bloomFilterFalsePositiveProbability
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/FileTaskLogs.java`
#### Snippet
```java
    FileUtils.mkdirp(config.getDirectory());
    final File outputFile = fileForTask(taskid, file.getName());
    Files.copy(file, outputFile);
    log.info("Wrote task log to: %s", outputFile);
  }
```

### UnstableApiUsage
'copy(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/FileTaskLogs.java`
#### Snippet
```java
    FileUtils.mkdirp(config.getDirectory());
    final File outputFile = fileForTask(taskid, file.getName());
    Files.copy(file, outputFile);
    log.info("Wrote task log to: %s", outputFile);
  }
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/FileTaskLogs.java`
#### Snippet
```java
    FileUtils.mkdirp(config.getDirectory());
    final File outputFile = fileForTask(taskid, reportFile.getName());
    Files.copy(reportFile, outputFile);
    log.info("Wrote task report to: %s", outputFile);
  }
```

### UnstableApiUsage
'copy(java.io.File, java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/FileTaskLogs.java`
#### Snippet
```java
    FileUtils.mkdirp(config.getDirectory());
    final File outputFile = fileForTask(taskid, reportFile.getName());
    Files.copy(reportFile, outputFile);
    log.info("Wrote task report to: %s", outputFile);
  }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/http/TaskManagementResource.java`
#### Snippet
```java
    );

    Futures.addCallback(
        future,
        new FutureCallback<ChangeRequestsSnapshot>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/http/TaskManagementResource.java`
#### Snippet
```java
    );

    Futures.addCallback(
        future,
        new FutureCallback<ChangeRequestsSnapshot>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java
    }

    statusFuture = Futures.transform(
        taskRunner.run(task),
        new Function<TaskStatus, TaskStatus>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java
    }

    statusFuture = Futures.transform(
        taskRunner.run(task),
        new Function<TaskStatus, TaskStatus>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
  {
    runningTasks.put(task.getId(), new TaskDetails(task));
    Futures.addCallback(
        future,
        new FutureCallback<TaskStatus>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
  {
    runningTasks.put(task.getId(), new TaskDetails(task));
    Futures.addCallback(
        future,
        new FutureCallback<TaskStatus>()
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/LocalIntermediaryDataManager.java`
#### Snippet
```java
        final File segmentFile = new File(partitionDir, subTaskId);
        if (segmentFile.exists()) {
          return Optional.of(Files.asByteSource(segmentFile));
        } else {
          return Optional.empty();
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/LocalIntermediaryDataManager.java`
#### Snippet
```java
        final File segmentFile = new File(partitionDir, subTaskId);
        if (segmentFile.exists()) {
          return Optional.of(Files.asByteSource(segmentFile));
        } else {
          return Optional.empty();
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/LocalIntermediaryDataManager.java`
#### Snippet
```java
            FileUtils.writeAtomically(
                destFile,
                out -> Files.asByteSource(tempZippedFile).copyTo(out)
            );
            LOG.info(
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/LocalIntermediaryDataManager.java`
#### Snippet
```java
            FileUtils.writeAtomically(
                destFile,
                out -> Files.asByteSource(tempZippedFile).copyTo(out)
            );
            LOG.info(
```

### UnstableApiUsage
Overridden method 'matches(char)' is declared in unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java

          @Override
          public boolean matches(char c)
          {
            if ('"' == c) {
```

### UnstableApiUsage
'com.google.common.base.CharMatcher' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
              return false;
            }
            return CharMatcher.BREAKING_WHITESPACE.matches(c);
          }
        }
```

### UnstableApiUsage
'BREAKING_WHITESPACE' is declared in unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
              return false;
            }
            return CharMatcher.BREAKING_WHITESPACE.matches(c);
          }
        }
```

### UnstableApiUsage
'matches(char)' is declared in unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
              return false;
            }
            return CharMatcher.BREAKING_WHITESPACE.matches(c);
          }
        }
```

### UnstableApiUsage
'on(com.google.common.base.CharMatcher)' is unstable because its signature references unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
  public Iterator<String> iterator()
  {
    return Splitter.on(
        new CharMatcher()
        {
```

### UnstableApiUsage
'CharMatcher()' is declared in unstable class 'com.google.common.base.CharMatcher' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
  {
    return Splitter.on(
        new CharMatcher()
        {
          private boolean inQuotes = false;
```

### UnstableApiUsage
'com.google.common.base.CharMatcher' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
  {
    return Splitter.on(
        new CharMatcher()
        {
          private boolean inQuotes = false;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/BaseRestorableTaskRunner.java`
#### Snippet
```java

    try {
      Files.createParentDirs(restoreFile);
      jsonMapper.writeValue(restoreFile, new TaskRestoreInfo(theTasks));
    }
```

### UnstableApiUsage
'createParentDirs(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/BaseRestorableTaskRunner.java`
#### Snippet
```java

    try {
      Files.createParentDirs(restoreFile);
      jsonMapper.writeValue(restoreFile, new TaskRestoreInfo(theTasks));
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
    controlThreadExecutor.shutdown();
    try {
      ListenableFuture<List<Void>> shutdownFuture = Futures.successfulAsList(shutdownFutures);
      shutdownFuture.get();
    }
```

### UnstableApiUsage
'successfulAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
    controlThreadExecutor.shutdown();
    try {
      ListenableFuture<List<Void>> shutdownFuture = Futures.successfulAsList(shutdownFutures);
      shutdownFuture.get();
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
    IndexTaskUtils.setTaskDimensions(metricBuilder, task);

    Futures.addCallback(
        statusFuture,
        new FutureCallback<TaskStatus>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
    IndexTaskUtils.setTaskDimensions(metricBuilder, task);

    Futures.addCallback(
        statusFuture,
        new FutureCallback<TaskStatus>()
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
      throws IOException, InterruptedException
  {
    final ByteSink logSink = Files.asByteSink(logFile, FileWriteMode.APPEND);

    // This will block for a while. So we append the thread information with more details
```

### UnstableApiUsage
'asByteSink(java.io.File, com.google.common.io.FileWriteMode...)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
      throws IOException, InterruptedException
  {
    final ByteSink logSink = Files.asByteSink(logFile, FileWriteMode.APPEND);

    // This will block for a while. So we append the thread information with more details
```

### UnstableApiUsage
'com.google.common.io.ByteStreams' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java

    try (final OutputStream toLogfile = logSink.openStream()) {
      ByteStreams.copy(processHolder.process.getInputStream(), toLogfile);
      return processHolder.process.waitFor();
    }
```

### UnstableApiUsage
'copy(java.io.InputStream, java.io.OutputStream)' is declared in unstable class 'com.google.common.io.ByteStreams' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java

    try (final OutputStream toLogfile = logSink.openStream()) {
      ByteStreams.copy(processHolder.process.getInputStream(), toLogfile);
      return processHolder.process.waitFor();
    }
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      // Syncing state with Zookeeper - don't assign new tasks until the task we just assigned is actually running
      // on a worker - this avoids overflowing a worker with tasks
      Stopwatch timeoutStopwatch = Stopwatch.createStarted();
      while (!isWorkerRunningTask(theZkWorker, task.getId())) {
        final long waitMs = config.getTaskAssignmentTimeout().toStandardDuration().getMillis();
```

### UnstableApiUsage
'com.google.common.base.Stopwatch' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      // Syncing state with Zookeeper - don't assign new tasks until the task we just assigned is actually running
      // on a worker - this avoids overflowing a worker with tasks
      Stopwatch timeoutStopwatch = Stopwatch.createStarted();
      while (!isWorkerRunningTask(theZkWorker, task.getId())) {
        final long waitMs = config.getTaskAssignmentTimeout().toStandardDuration().getMillis();
```

### UnstableApiUsage
'createStarted()' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      // Syncing state with Zookeeper - don't assign new tasks until the task we just assigned is actually running
      // on a worker - this avoids overflowing a worker with tasks
      Stopwatch timeoutStopwatch = Stopwatch.createStarted();
      while (!isWorkerRunningTask(theZkWorker, task.getId())) {
        final long waitMs = config.getTaskAssignmentTimeout().toStandardDuration().getMillis();
```

### UnstableApiUsage
'elapsed(java.util.concurrent.TimeUnit)' is declared in unstable class 'com.google.common.base.Stopwatch' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
        final long waitMs = config.getTaskAssignmentTimeout().toStandardDuration().getMillis();
        statusLock.wait(waitMs);
        long elapsed = timeoutStopwatch.elapsed(TimeUnit.MILLISECONDS);
        if (elapsed >= waitMs) {
          log.makeAlert(
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListenableScheduledFuture' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
    cancelWorkerCleanup(worker);

    final ListenableScheduledFuture<?> cleanupTask = cleanupExec.schedule(
        () -> {
          log.info("Running scheduled cleanup for Worker[%s]", worker);
```

### UnstableApiUsage
'schedule(java.lang.Runnable, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
    cancelWorkerCleanup(worker);

    final ListenableScheduledFuture<?> cleanupTask = cleanupExec.schedule(
        () -> {
          log.info("Running scheduled cleanup for Worker[%s]", worker);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java

    // Remove this entry from removedWorkerCleanups when done, if it's actually the one in there.
    Futures.addCallback(
        cleanupTask,
        new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java

    // Remove this entry from removedWorkerCleanups when done, if it's actually the one in there.
    Futures.addCallback(
        cleanupTask,
        new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListeningScheduledExecutorService' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
  private final LifecycleLock lifecycleLock = new LifecycleLock();

  private final ListeningScheduledExecutorService cleanupExec;

  private final ConcurrentMap<String, ScheduledFuture> removedWorkerCleanups = new ConcurrentHashMap<>();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
                  waitingFor.increment();
                }
                Futures.addCallback(
                    addWorker(worker),
                    new FutureCallback<ZkWorker>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
                  waitingFor.increment();
                }
                Futures.addCallback(
                    addWorker(worker),
                    new FutureCallback<ZkWorker>()
```

### UnstableApiUsage
'listeningDecorator(java.util.concurrent.ScheduledExecutorService)' is unstable because its signature references unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
    this.httpClient = httpClient;
    this.workerConfigRef = workerConfigRef;
    this.cleanupExec = MoreExecutors.listeningDecorator(
        ScheduledExecutors.fixed(1, "RemoteTaskRunner-Scheduled-Cleanup--%d")
    );
```

### UnstableApiUsage
'add(E)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  {
    synchronized (lock) {
      recentEvents.add(new ScalingEvent(data, DateTimes.nowUtc(), EVENT.PROVISION));
    }
  }
```

### UnstableApiUsage
'com.google.common.collect.MinMaxPriorityQueue' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  {
    if (capacity == 0) {
      this.recentEvents = MinMaxPriorityQueue.orderedBy(COMPARATOR).create();
    } else {
      this.recentEvents = MinMaxPriorityQueue
```

### UnstableApiUsage
'orderedBy(java.util.Comparator**)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta**
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  {
    if (capacity == 0) {
      this.recentEvents = MinMaxPriorityQueue.orderedBy(COMPARATOR).create();
    } else {
      this.recentEvents = MinMaxPriorityQueue
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue.Builder' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  {
    if (capacity == 0) {
      this.recentEvents = MinMaxPriorityQueue.orderedBy(COMPARATOR).create();
    } else {
      this.recentEvents = MinMaxPriorityQueue
```

### UnstableApiUsage
'com.google.common.collect.MinMaxPriorityQueue' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
      this.recentEvents = MinMaxPriorityQueue.orderedBy(COMPARATOR).create();
    } else {
      this.recentEvents = MinMaxPriorityQueue
          .orderedBy(COMPARATOR)
          .maximumSize(capacity)
```

### UnstableApiUsage
'orderedBy(java.util.Comparator**)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta**
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
    } else {
      this.recentEvents = MinMaxPriorityQueue
          .orderedBy(COMPARATOR)
          .maximumSize(capacity)
          .create();
```

### UnstableApiUsage
'maximumSize(int)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue.Builder' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
      this.recentEvents = MinMaxPriorityQueue
          .orderedBy(COMPARATOR)
          .maximumSize(capacity)
          .create();
    }
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue.Builder' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
          .orderedBy(COMPARATOR)
          .maximumSize(capacity)
          .create();
    }
  }
```

### UnstableApiUsage
'add(E)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  {
    synchronized (lock) {
      recentEvents.add(new ScalingEvent(data, DateTimes.nowUtc(), EVENT.TERMINATE));
    }
  }
```

### UnstableApiUsage
'com.google.common.collect.MinMaxPriorityQueue' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  private final Object lock = new Object();

  private final MinMaxPriorityQueue<ScalingEvent> recentEvents;

  public ScalingStats(int capacity)
```

### UnstableApiUsage
'addAll(java.util.Collection)' is declared in unstable class 'com.google.common.collect.MinMaxPriorityQueue' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
    synchronized (lock) {
      synchronized (stats.lock) {
        recentEvents.addAll(stats.recentEvents);
      }
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListenableScheduledFuture' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
    cancelWorkerCleanup(workerHostAndPort);

    final ListenableScheduledFuture<?> cleanupTask = cleanupExec.schedule(
        () -> {
          log.info("Running scheduled cleanup for Worker[%s]", workerHostAndPort);
```

### UnstableApiUsage
'schedule(java.lang.Runnable, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
    cancelWorkerCleanup(workerHostAndPort);

    final ListenableScheduledFuture<?> cleanupTask = cleanupExec.schedule(
        () -> {
          log.info("Running scheduled cleanup for Worker[%s]", workerHostAndPort);
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java

    // Remove this entry from removedWorkerCleanups when done, if it's actually the one in there.
    Futures.addCallback(
        cleanupTask,
        new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java

    // Remove this entry from removedWorkerCleanups when done, if it's actually the one in there.
    Futures.addCallback(
        cleanupTask,
        new FutureCallback<Object>()
```

### UnstableApiUsage
'listeningDecorator(java.util.concurrent.ScheduledExecutorService)' is unstable because its signature references unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
    );

    this.cleanupExec = MoreExecutors.listeningDecorator(
        ScheduledExecutors.fixed(1, "HttpRemoteTaskRunner-Worker-Cleanup-%d")
    );
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListeningScheduledExecutorService' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java

  // Executor to complete cleanup of workers which have disappeared.
  private final ListeningScheduledExecutorService cleanupExec;
  private final ConcurrentMap<String, ScheduledFuture> removedWorkerCleanups = new ConcurrentHashMap<>();

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
        result -> {
          if (result != null) {
            return Futures.immediateFuture(result);
          } else {
            return getOffsetsWhenPaused(id, IndexTaskClient.makeRetryPolicyFactory(httpRetries).makeRetryPolicy());
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
        result -> {
          if (result != null) {
            return Futures.immediateFuture(result);
          } else {
            return getOffsetsWhenPaused(id, IndexTaskClient.makeRetryPolicyFactory(httpRetries).makeRetryPolicy());
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java

            if (delay == null) {
              return Futures.immediateFailedFuture(
                  new ISE(
                      "Task [%s] failed to change its status from [%s] to [%s], aborting",
```

### UnstableApiUsage
'immediateFailedFuture(java.lang.Throwable)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java

            if (delay == null) {
              return Futures.immediateFailedFuture(
                  new ISE(
                      "Task [%s] failed to change its status from [%s] to [%s], aborting",
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
              retryExec.schedule(
                  () ->
                      Futures.addCallback(
                          getOffsetsWhenPaused(taskId, retryPolicy),
                          new FutureCallback<Map<PartitionIdType, SequenceOffsetType>>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
              retryExec.schedule(
                  () ->
                      Futures.addCallback(
                          getOffsetsWhenPaused(taskId, retryPolicy),
                          new FutureCallback<Map<PartitionIdType, SequenceOffsetType>>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java

        if (location.getHost() == null) {
          return Futures.immediateFuture(ServiceLocations.forLocations(Collections.emptySet()));
        } else {
          return Futures.immediateFuture(
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java

        if (location.getHost() == null) {
          return Futures.immediateFuture(ServiceLocations.forLocations(Collections.emptySet()));
        } else {
          return Futures.immediateFuture(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
          return Futures.immediateFuture(ServiceLocations.forLocations(Collections.emptySet()));
        } else {
          return Futures.immediateFuture(
              ServiceLocations.forLocation(
                  new ServiceLocation(
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
          return Futures.immediateFuture(ServiceLocations.forLocations(Collections.emptySet()));
        } else {
          return Futures.immediateFuture(
              ServiceLocations.forLocation(
                  new ServiceLocation(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
        }
      } else {
        return Futures.immediateFuture(ServiceLocations.closed());
      }
    }
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
        }
      } else {
        return Futures.immediateFuture(ServiceLocations.closed());
      }
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
      final SettableFuture<T> retVal = SettableFuture.create();

      Futures.addCallback(
          FutureUtils.transform(
              client.asyncRequest(requestBuilder.timeout(httpTimeout), responseHandler),
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
      final SettableFuture<T> retVal = SettableFuture.create();

      Futures.addCallback(
          FutureUtils.transform(
              client.asyncRequest(requestBuilder.timeout(httpTimeout), responseHandler),
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java
  public boolean areLookupsLoaded(String lookup)
  {
    final Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> status = getLookupLoadStatus();

    if (status == null) {
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java
    }

    final Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> defaultTier = status.get("__default");

    boolean isLoaded = true;
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java

    boolean isLoaded = true;
    for (Map.Entry<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> host : defaultTier.entrySet()) {
      isLoaded &= host.getValue().getCurrent().containsKey(lookup);
    }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java

      status = jsonMapper.readValue(
          response.getContent(), new TypeReference<Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>>>()
          {
          }
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java

  @Nullable
  private Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> getLookupLoadStatus()
  {
    String url = StringUtils.format("%slookups/nodeStatus", getCoordinatorURL());
```

### UnstableApiUsage
'com.google.common.net.HostAndPort' is marked unstable with @Beta
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java
    String url = StringUtils.format("%slookups/nodeStatus", getCoordinatorURL());

    Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> status;
    try {
      StatusResponseHolder response = httpClient.go(
```

### UnstableApiUsage
'com.google.common.io.Resources' is marked unstable with @Beta
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
        actualPath = resource.getFile();
        LOGGER.info("using default whiteList map located at [%s]", actualPath);
        fileContent = Resources.toString(resource, Charset.defaultCharset());
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
```

### UnstableApiUsage
'toString(java.net.URL, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Resources' marked with @Beta
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
        actualPath = resource.getFile();
        LOGGER.info("using default whiteList map located at [%s]", actualPath);
        fileContent = Resources.toString(resource, Charset.defaultCharset());
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
        fileContent = Resources.toString(resource, Charset.defaultCharset());
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
      }
      return mapper.readerFor(new TypeReference<ImmutableSortedMap<String, ImmutableSet<String>>>()
```

### UnstableApiUsage
'asCharSource(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
        fileContent = Resources.toString(resource, Charset.defaultCharset());
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
      }
      return mapper.readerFor(new TypeReference<ImmutableSortedMap<String, ImmutableSet<String>>>()
```

### UnstableApiUsage
'com.google.common.net.InetAddresses' is marked unstable with @Beta
in `extensions-contrib/gce-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/gce/GceAutoScaler.java`
#### Snippet
```java
    // return them as they are. This check is here because Druid does not check if IPs are
    // actually IPs and can send IDs to this function instead
    if (!InetAddresses.isInetAddress(ips.get(0))) {
      log.debug("Not IPs, doing nothing");
      return ips;
```

### UnstableApiUsage
'isInetAddress(java.lang.String)' is declared in unstable class 'com.google.common.net.InetAddresses' marked with @Beta
in `extensions-contrib/gce-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/gce/GceAutoScaler.java`
#### Snippet
```java
    // return them as they are. This check is here because Druid does not check if IPs are
    // actually IPs and can send IDs to this function instead
    if (!InetAddresses.isInetAddress(ips.get(0))) {
      log.debug("Not IPs, doing nothing");
      return ips;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
      public String getName()
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }
```

### UnstableApiUsage
'getFileExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
      public String getName()
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }

```

### UnstableApiUsage
'getNameWithoutExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
      {
        final String ext = Files.getFileExtension(path);
        return Files.getNameWithoutExtension(path) + (Strings.isNullOrEmpty(ext) ? "" : ("." + ext));
      }

```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
      }
      if (CompressionUtils.isGz(ossCoords.getPath())) {
        final String fname = Files.getNameWithoutExtension(uri.getPath());
        final File outFile = new File(outDir, fname);

```

### UnstableApiUsage
'getNameWithoutExtension(java.lang.String)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
      }
      if (CompressionUtils.isGz(ossCoords.getPath())) {
        final String fname = Files.getNameWithoutExtension(uri.getPath());
        final File outFile = new File(outDir, fname);

```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPuller.java`
#### Snippet
```java

  private static final Logger log = new Logger(CloudFilesDataSegmentPuller.class);
  private final CloudFilesApi cloudFilesApi;

  @Inject
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPuller.java`
#### Snippet
```java

  @Inject
  public CloudFilesDataSegmentPuller(final CloudFilesApi cloudFilesApi)
  {
    this.cloudFilesApi = cloudFilesApi;
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesDataSegmentPusher.java`
#### Snippet
```java
  @Inject
  public CloudFilesDataSegmentPusher(
      final CloudFilesApi cloudFilesApi,
      final CloudFilesDataSegmentPusherConfig config, final ObjectMapper jsonMapper
  )
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
  private final String container;

  public CloudFilesObjectApiProxy(final CloudFilesApi cloudFilesApi, final String region, final String container)
  {
    this.region = region;
```

### UnstableApiUsage
'getObjectApi(java.lang.String, java.lang.String)' is declared in unstable interface 'org.jclouds.openstack.swift.v1.SwiftApi' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
    this.region = region;
    this.container = container;
    this.objectApi = cloudFilesApi.getObjectApi(region, container);
  }

```

### UnstableApiUsage
'org.jclouds.openstack.swift.v1.features.ObjectApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
public class CloudFilesObjectApiProxy
{
  private final ObjectApi objectApi;
  private final String region;
  private final String container;
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObject.java`
#### Snippet
```java
  {
    this(region, container);
    ByteSource byteSource = Files.asByteSource(file);
    this.payload = Payloads.newByteSourcePayload(byteSource);
    this.path = CloudFilesUtils.buildCloudFilesPath(basePath, file.getName());
```

### UnstableApiUsage
'get(java.lang.String)' is declared in unstable interface 'org.jclouds.openstack.swift.v1.features.ObjectApi' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
    final SwiftObject swiftObject;
    if (start == 0) {
      swiftObject = objectApi.get(path);
    } else {
      swiftObject = objectApi.get(path, new GetOptions().startAt(start));
```

### UnstableApiUsage
'asByteSource(java.io.File)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObject.java`
#### Snippet
```java
  {
    this(region, container);
    ByteSource byteSource = Files.asByteSource(file);
    this.payload = Payloads.newByteSourcePayload(byteSource);
    this.path = CloudFilesUtils.buildCloudFilesPath(basePath, file.getName());
```

### UnstableApiUsage
'get(java.lang.String, org.jclouds.http.options.GetOptions)' is declared in unstable interface 'org.jclouds.openstack.swift.v1.features.ObjectApi' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
      swiftObject = objectApi.get(path);
    } else {
      swiftObject = objectApi.get(path, new GetOptions().startAt(start));
    }
    Payload payload = swiftObject.getPayload();
```

### UnstableApiUsage
'getWithoutBody(java.lang.String)' is declared in unstable interface 'org.jclouds.openstack.swift.v1.features.ObjectApi' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
  public boolean exists(String path)
  {
    return objectApi.getWithoutBody(path) != null;
  }
}
```

### UnstableApiUsage
'put(java.lang.String, org.jclouds.io.Payload)' is declared in unstable interface 'org.jclouds.openstack.swift.v1.features.ObjectApi' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesObjectApiProxy.java`
#### Snippet
```java
  public String put(final CloudFilesObject cloudFilesObject)
  {
    return objectApi.put(cloudFilesObject.getPath(), cloudFilesObject.getPayload());
  }

```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java
  @Provides
  @LazySingleton
  public CloudFilesApi getCloudFilesApi(final CloudFilesAccountConfig config)
  {
    log.info("Building Cloud Files Api...");
```

### UnstableApiUsage
'org.jclouds.osgi.ProviderRegistry' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java
    }

    ProviderRegistry.registerProvider(CloudFilesUSProviderMetadata.builder().build());
    ProviderRegistry.registerProvider(CloudFilesUKProviderMetadata.builder().build());
    ContextBuilder cb = ContextBuilder.newBuilder(config.getProvider())
```

### UnstableApiUsage
'registerProvider(org.jclouds.providers.ProviderMetadata)' is declared in unstable class 'org.jclouds.osgi.ProviderRegistry' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java
    }

    ProviderRegistry.registerProvider(CloudFilesUSProviderMetadata.builder().build());
    ProviderRegistry.registerProvider(CloudFilesUKProviderMetadata.builder().build());
    ContextBuilder cb = ContextBuilder.newBuilder(config.getProvider())
```

### UnstableApiUsage
'org.jclouds.osgi.ProviderRegistry' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java

    ProviderRegistry.registerProvider(CloudFilesUSProviderMetadata.builder().build());
    ProviderRegistry.registerProvider(CloudFilesUKProviderMetadata.builder().build());
    ContextBuilder cb = ContextBuilder.newBuilder(config.getProvider())
                                      .credentials(config.getUserName(), config.getApiKey()).modules(modules);
```

### UnstableApiUsage
'registerProvider(org.jclouds.providers.ProviderMetadata)' is declared in unstable class 'org.jclouds.osgi.ProviderRegistry' marked with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java

    ProviderRegistry.registerProvider(CloudFilesUSProviderMetadata.builder().build());
    ProviderRegistry.registerProvider(CloudFilesUKProviderMetadata.builder().build());
    ContextBuilder cb = ContextBuilder.newBuilder(config.getProvider())
                                      .credentials(config.getUserName(), config.getApiKey()).modules(modules);
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java
    ContextBuilder cb = ContextBuilder.newBuilder(config.getProvider())
                                      .credentials(config.getUserName(), config.getApiKey()).modules(modules);
    CloudFilesApi cfa = cb.buildApi(CloudFilesApi.class);
    log.info("Cloud Files Api built.");
    return cfa;
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesStorageDruidModule.java`
#### Snippet
```java
    ContextBuilder cb = ContextBuilder.newBuilder(config.getProvider())
                                      .credentials(config.getUserName(), config.getApiKey()).modules(modules);
    CloudFilesApi cfa = cb.buildApi(CloudFilesApi.class);
    log.info("Cloud Files Api built.");
    return cfa;
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/StaticCloudFilesFirehoseFactory.java`
#### Snippet
```java
  @JsonCreator
  public StaticCloudFilesFirehoseFactory(
      @JacksonInject CloudFilesApi cloudFilesApi,
      @JsonProperty("blobs") List<CloudFilesBlob> blobs,
      @JsonProperty("maxCacheCapacityBytes") Long maxCacheCapacityBytes,
```

### UnstableApiUsage
'org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi' is marked unstable with @Beta
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/StaticCloudFilesFirehoseFactory.java`
#### Snippet
```java
  private static final Logger log = new Logger(StaticCloudFilesFirehoseFactory.class);

  private final CloudFilesApi cloudFilesApi;
  private final List<CloudFilesBlob> blobs;

```

### UnstableApiUsage
'com.google.common.io.Resources' is marked unstable with @Beta
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
        actualPath = defaultWhiteListMapUrl.getFile();
        LOGGER.info("using default whiteList map located at [%s]", actualPath);
        fileContent = Resources.toString(defaultWhiteListMapUrl, StandardCharsets.UTF_8);
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
```

### UnstableApiUsage
'toString(java.net.URL, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Resources' marked with @Beta
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
        actualPath = defaultWhiteListMapUrl.getFile();
        LOGGER.info("using default whiteList map located at [%s]", actualPath);
        fileContent = Resources.toString(defaultWhiteListMapUrl, StandardCharsets.UTF_8);
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
```

### UnstableApiUsage
'com.google.common.io.Files' is marked unstable with @Beta
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
        fileContent = Resources.toString(defaultWhiteListMapUrl, StandardCharsets.UTF_8);
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
      }
      return mapper.readerFor(new TypeReference<ImmutableSortedMap<String, ImmutableList<String>>>()
```

### UnstableApiUsage
'asCharSource(java.io.File, java.nio.charset.Charset)' is declared in unstable class 'com.google.common.io.Files' marked with @Beta
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
        fileContent = Resources.toString(defaultWhiteListMapUrl, StandardCharsets.UTF_8);
      } else {
        fileContent = Files.asCharSource(new File(mapPath), StandardCharsets.UTF_8).read();
      }
      return mapper.readerFor(new TypeReference<ImmutableSortedMap<String, ImmutableList<String>>>()
```

### UnstableApiUsage
'listeningDecorator(java.util.concurrent.ScheduledExecutorService)' is unstable because its signature references unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
        return;
      }
      exec = MoreExecutors.listeningDecorator(Execs.scheduledSingleThreaded("DerivativeDataSourceManager-Exec-%d"));
      final Duration delay = config.getPollDuration().toStandardDuration();
      future = exec.scheduleWithFixedDelay(
```

### UnstableApiUsage
'scheduleWithFixedDelay(java.lang.Runnable, long, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
      exec = MoreExecutors.listeningDecorator(Execs.scheduledSingleThreaded("DerivativeDataSourceManager-Exec-%d"));
      final Duration delay = config.getPollDuration().toStandardDuration();
      future = exec.scheduleWithFixedDelay(
          new Runnable() {
            @Override
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListeningScheduledExecutorService' is marked unstable with @Beta
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
  
  private boolean started = false;
  private ListeningScheduledExecutorService exec = null;
  private ListenableFuture<?> future = null;
  
```

### UnstableApiUsage
'com.google.common.util.concurrent.ListeningScheduledExecutorService' is marked unstable with @Beta
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
  private boolean started = false;
  private ListenableFuture<?> future = null;
  private ListeningScheduledExecutorService exec = null;
  // In the missing intervals, baseDataSource has data but derivedDataSource does not, which means
  // data in these intervals of derivedDataSource needs to be rebuilt.
```

### UnstableApiUsage
'listeningDecorator(java.util.concurrent.ScheduledExecutorService)' is unstable because its signature references unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
        );
      }
      exec = MoreExecutors.listeningDecorator(Execs.scheduledSingleThreaded(StringUtils.encodeForFormat(supervisorId)));
      final Duration delay = config.getTaskCheckDuration().toStandardDuration();
      future = exec.scheduleWithFixedDelay(
```

### UnstableApiUsage
'scheduleWithFixedDelay(java.lang.Runnable, long, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.ListeningScheduledExecutorService' marked with @Beta
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      exec = MoreExecutors.listeningDecorator(Execs.scheduledSingleThreaded(StringUtils.encodeForFormat(supervisorId)));
      final Duration delay = config.getTaskCheckDuration().toStandardDuration();
      future = exec.scheduleWithFixedDelay(
          MaterializedViewSupervisor.this::run,
          0,
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
          futureTaskIds.add(taskId);
          futures.add(
              Futures.transform(
                  taskClient.getStartTimeAsync(taskId), new Function<DateTime, Boolean>()
                  {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
          futureTaskIds.add(taskId);
          futures.add(
              Futures.transform(
                  taskClient.getStartTimeAsync(taskId), new Function<DateTime, Boolean>()
                  {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private ListenableFuture<Void> stopTask(final String id, final boolean publish)
  {
    return Futures.transform(
        taskClient.stopAsync(id, publish), new Function<Boolean, Void>()
        {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private ListenableFuture<Void> stopTask(final String id, final boolean publish)
  {
    return Futures.transform(
        taskClient.stopAsync(id, publish), new Function<Boolean, Void>()
        {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      for (String taskId : group.taskIds()) {
        futures.add(
            Futures.transform(
                taskClient.getMovingAveragesAsync(taskId),
                (Function<Map<String, Object>, StatsFromTaskResult>) (currentStats) -> new StatsFromTaskResult(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      for (String taskId : group.taskIds()) {
        futures.add(
            Futures.transform(
                taskClient.getMovingAveragesAsync(taskId),
                (Function<Map<String, Object>, StatsFromTaskResult>) (currentStats) -> new StatsFromTaskResult(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        for (String taskId : pendingGroup.taskIds()) {
          futures.add(
              Futures.transform(
                  taskClient.getMovingAveragesAsync(taskId),
                  (Function<Map<String, Object>, StatsFromTaskResult>) (currentStats) -> new StatsFromTaskResult(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        for (String taskId : pendingGroup.taskIds()) {
          futures.add(
              Futures.transform(
                  taskClient.getMovingAveragesAsync(taskId),
                  (Function<Map<String, Object>, StatsFromTaskResult>) (currentStats) -> new StatsFromTaskResult(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  {
    if (taskGroup == null) {
      return Futures.immediateFuture(null);
    }

```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  {
    if (taskGroup == null) {
      return Futures.immediateFuture(null);
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
            // publishing failed and we need to re-ingest)
            stateManager.recordCompletedTaskState(TaskState.SUCCESS);
            return Futures.transform(
                stopTasksInGroup(taskGroup, "task[%s] succeeded in the taskGroup", task.status.getId()),
                new Function<Object, Map<PartitionIdType, SequenceOffsetType>>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
            // publishing failed and we need to re-ingest)
            stateManager.recordCompletedTaskState(TaskState.SUCCESS);
            return Futures.transform(
                stopTasksInGroup(taskGroup, "task[%s] succeeded in the taskGroup", task.status.getId()),
                new Function<Object, Map<PartitionIdType, SequenceOffsetType>>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    return Futures.transform(
        FutureUtils.coalesce(pauseFutures),
        new Function<List<Either<Throwable, Map<PartitionIdType, SequenceOffsetType>>>, Map<PartitionIdType, SequenceOffsetType>>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
    }

    return Futures.transform(
        FutureUtils.coalesce(pauseFutures),
        new Function<List<Either<Throwable, Map<PartitionIdType, SequenceOffsetType>>>, Map<PartitionIdType, SequenceOffsetType>>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
          futureTaskIds.add(taskId);
          futures.add(
              Futures.transform(
                  getStatusAndPossiblyEndOffsets(taskId),
                  new Function<Pair<SeekableStreamIndexTaskRunner.Status, Map<PartitionIdType, SequenceOffsetType>>, Boolean>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
          futureTaskIds.add(taskId);
          futures.add(
              Futures.transform(
                  getStatusAndPossiblyEndOffsets(taskId),
                  new Function<Pair<SeekableStreamIndexTaskRunner.Status, Map<PartitionIdType, SequenceOffsetType>>, Boolean>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                                   .flatMap(taskGroup -> taskGroup.tasks.entrySet().stream())
    ).map(
        task -> Futures.transform(
            taskClient.getCurrentOffsetsAsync(task.getKey(), false),
            (Function<Map<PartitionIdType, SequenceOffsetType>, Void>) (currentSequences) -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                                   .flatMap(taskGroup -> taskGroup.tasks.entrySet().stream())
    ).map(
        task -> Futures.transform(
            taskClient.getCurrentOffsetsAsync(task.getKey(), false),
            (Function<Map<PartitionIdType, SequenceOffsetType>, Void>) (currentSequences) -> {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
            );
          } else {
            return Futures.immediateFuture(Pair.of(status, null));
          }
        }
```

### UnstableApiUsage
'immediateFuture(V)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
            );
          } else {
            return Futures.immediateFuture(Pair.of(status, null));
          }
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      for (String taskId : group.taskIds()) {
        futures.add(
            Futures.transform(
                taskClient.getParseErrorsAsync(taskId),
                (Function<List<ParseExceptionReport>, ErrorsFromTaskResult>) (taskErrors) -> new ErrorsFromTaskResult(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      for (String taskId : group.taskIds()) {
        futures.add(
            Futures.transform(
                taskClient.getParseErrorsAsync(taskId),
                (Function<List<ParseExceptionReport>, ErrorsFromTaskResult>) (taskErrors) -> new ErrorsFromTaskResult(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        for (String taskId : pendingGroup.taskIds()) {
          futures.add(
              Futures.transform(
                  taskClient.getParseErrorsAsync(taskId),
                  (Function<List<ParseExceptionReport>, ErrorsFromTaskResult>) (taskErrors) -> new ErrorsFromTaskResult(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        for (String taskId : pendingGroup.taskIds()) {
          futures.add(
              Futures.transform(
                  taskClient.getParseErrorsAsync(taskId),
                  (Function<List<ParseExceptionReport>, ErrorsFromTaskResult>) (taskErrors) -> new ErrorsFromTaskResult(
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
              }
              if (isPersistRequired) {
                Futures.addCallback(
                    driver.persistAsync(committerSupplier.get()),
                    new FutureCallback<Object>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
              }
              if (isPersistRequired) {
                Futures.addCallback(
                    driver.persistAsync(committerSupplier.get()),
                    new FutureCallback<Object>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java

      // Wait for publish futures to complete.
      Futures.allAsList(publishWaitList).get();

      // Wait for handoff futures to complete.
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java

      // Wait for publish futures to complete.
      Futures.allAsList(publishWaitList).get();

      // Wait for handoff futures to complete.
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      List<SegmentsAndCommitMetadata> handedOffList = Collections.emptyList();
      if (tuningConfig.getHandoffConditionTimeout() == 0) {
        handedOffList = Futures.allAsList(handOffWaitList).get();
      } else {
        final long start = System.nanoTime();
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      List<SegmentsAndCommitMetadata> handedOffList = Collections.emptyList();
      if (tuningConfig.getHandoffConditionTimeout() == 0) {
        handedOffList = Futures.allAsList(handOffWaitList).get();
      } else {
        final long start = System.nanoTime();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
        final long start = System.nanoTime();
        try {
          handedOffList = Futures.allAsList(handOffWaitList)
                                 .get(tuningConfig.getHandoffConditionTimeout(), TimeUnit.MILLISECONDS);
        }
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
        final long start = System.nanoTime();
        try {
          handedOffList = Futures.allAsList(handOffWaitList)
                                 .get(tuningConfig.getHandoffConditionTimeout(), TimeUnit.MILLISECONDS);
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      caughtExceptionOuter = e;
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      caughtExceptionOuter = e;
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
          appenderator.closeNow();
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
          appenderator.closeNow();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      caughtExceptionOuter = e;
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      caughtExceptionOuter = e;
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
          appenderator.closeNow();
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
      try {
        Futures.allAsList(publishWaitList).cancel(true);
        Futures.allAsList(handOffWaitList).cancel(true);
        if (appenderator != null) {
          appenderator.closeNow();
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
    log.debug("Publishing segments for sequence [%s].", sequenceMetadata);

    final ListenableFuture<SegmentsAndCommitMetadata> publishFuture = Futures.transform(
        driver.publish(
            sequenceMetadata.createPublisher(this, toolbox, ioConfig.isUseTransaction()),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
    log.debug("Publishing segments for sequence [%s].", sequenceMetadata);

    final ListenableFuture<SegmentsAndCommitMetadata> publishFuture = Futures.transform(
        driver.publish(
            sequenceMetadata.createPublisher(this, toolbox, ioConfig.isUseTransaction()),
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
    handOffWaitList.add(handoffFuture);

    Futures.addCallback(
        publishFuture,
        new FutureCallback<SegmentsAndCommitMetadata>()
```

### UnstableApiUsage
'addCallback(com.google.common.util.concurrent.ListenableFuture, com.google.common.util.concurrent.FutureCallback)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
    handOffWaitList.add(handoffFuture);

    Futures.addCallback(
        publishFuture,
        new FutureCallback<SegmentsAndCommitMetadata>()
```

### UnstableApiUsage
'com.google.common.util.concurrent.Futures' is marked unstable with @Beta
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
            }

            Futures.transform(
                driver.registerHandoff(publishedSegmentsAndCommitMetadata),
                new Function<SegmentsAndCommitMetadata, Void>()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function)' is declared in unstable class 'com.google.common.util.concurrent.Futures' marked with @Beta*
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
            }

            Futures.transform(
                driver.registerHandoff(publishedSegmentsAndCommitMetadata),
                new Function<SegmentsAndCommitMetadata, Void>()
```

## RuleId[ruleID=EnumSwitchStatementWhichMissesCases]
### EnumSwitchStatementWhichMissesCases
`switch (elementType.getType()) { case STRING: return ExpressionType.STRING_ARRAY; ...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
  {
    if (elementType.isPrimitive()) {
      switch (elementType.getType()) {
        case STRING:
          return ExpressionType.STRING_ARRAY;
        case DOUBLE:
          return ExpressionType.DOUBLE_ARRAY;
        case LONG:
          return ExpressionType.LONG_ARRAY;
      }
    }
    return INTERNER.intern(new ExpressionType(ExprType.ARRAY, null, elementType));
```

### EnumSwitchStatementWhichMissesCases
`switch (elementType.getType()) { case STRING: return STRING_ARRAY; case LO...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
  {
    if (elementType != null && elementType.isPrimitive()) {
      switch (elementType.getType()) {
        case STRING:
          return STRING_ARRAY;
        case LONG:
          return LONG_ARRAY;
        case DOUBLE:
          return DOUBLE_ARRAY;
      }
    }
    return elementType;
```

### EnumSwitchStatementWhichMissesCases
`switch (valueType.getElementType().getType()) { case LONG: return LONG_ARRAY; ...` statement on enum type 'org.apache.druid.segment.column.ValueType' misses cases: 'COMPLEX', and 'ARRAY'
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
        return STRING;
      case ARRAY:
        switch (valueType.getElementType().getType()) {
          case LONG:
            return LONG_ARRAY;
          case FLOAT:
          case DOUBLE:
            return DOUBLE_ARRAY;
          case STRING:
            return STRING_ARRAY;
        }
        return ExpressionTypeFactory.getInstance().ofArray(fromColumnTypeStrict(valueType.getElementType()));
      case COMPLEX:
```

### EnumSwitchStatementWhichMissesCases
`switch (valueType.getElementType().getType()) { case LONG: return LONG_ARRAY; ...` statement on enum type 'org.apache.druid.segment.column.ValueType' misses cases: 'COMPLEX', and 'ARRAY'
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
        return STRING;
      case ARRAY:
        switch (valueType.getElementType().getType()) {
          case LONG:
            return LONG_ARRAY;
          case FLOAT:
          case DOUBLE:
            return DOUBLE_ARRAY;
          case STRING:
            return STRING_ARRAY;
        }
        return ExpressionTypeFactory.getInstance().ofArray(fromColumnType(valueType.getElementType()));
      case COMPLEX:
```

### EnumSwitchStatementWhichMissesCases
`switch (elementType.getType()) { case STRING: return ColumnType.STRING_ARRAY; ...` statement on enum type 'org.apache.druid.segment.column.ValueType' misses cases: 'FLOAT', 'COMPLEX', and 'ARRAY'
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
  {
    if (elementType.isPrimitive()) {
      switch (elementType.getType()) {
        case STRING:
          return ColumnType.STRING_ARRAY;
        case DOUBLE:
          return ColumnType.DOUBLE_ARRAY;
        case LONG:
          return ColumnType.LONG_ARRAY;
      }
    }
    // i guess this is potentially unbounded if we ever support arbitrarily deep nested arrays
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getType()) { case DOUBLE: return this; case LONG: ...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses case 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public final ExprEval castTo(ExpressionType castTo)
    {
      switch (castTo.getType()) {
        case DOUBLE:
          return this;
        case LONG:
          if (value == null) {
            return ExprEval.ofLong(null);
          } else {
            return ExprEval.of(asLong());
          }
        case STRING:
          return ExprEval.of(asString());
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(asArray());
            case LONG:
              return ExprEval.ofLongArray(value == null ? null : new Object[] {value.longValue()});
            case STRING:
              return ExprEval.ofStringArray(value == null ? null : new Object[] {value.toString()});
          }
      }
      throw new IAE("invalid type " + castTo);
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getElementType().getType()) { case DOUBLE: return ExprEval....` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          return ExprEval.of(asString());
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(asArray());
            case LONG:
              return ExprEval.ofLongArray(value == null ? null : new Object[] {value.longValue()});
            case STRING:
              return ExprEval.ofStringArray(value == null ? null : new Object[] {value.toString()});
          }
      }
      throw new IAE("invalid type " + castTo);
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getType()) { case DOUBLE: if (value == null) { return E...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses case 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public final ExprEval castTo(ExpressionType castTo)
    {
      switch (castTo.getType()) {
        case DOUBLE:
          if (value == null) {
            return ExprEval.ofDouble(null);
          } else {
            return ExprEval.of(asDouble());
          }
        case LONG:
          return this;
        case STRING:
          return ExprEval.of(asString());
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(value == null ? null : new Object[] {value.doubleValue()});
            case LONG:
              return ExprEval.ofLongArray(asArray());
            case STRING:
              return ExprEval.ofStringArray(value == null ? null : new Object[] {value.toString()});
          }
      }
      throw new IAE("invalid type " + castTo);
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getElementType().getType()) { case DOUBLE: return ExprEval....` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          return ExprEval.of(asString());
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(value == null ? null : new Object[] {value.doubleValue()});
            case LONG:
              return ExprEval.ofLongArray(asArray());
            case STRING:
              return ExprEval.ofStringArray(value == null ? null : new Object[] {value.toString()});
          }
      }
      throw new IAE("invalid type " + castTo);
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getType()) { case STRING: if (value.length == 1) { retu...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses case 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        return this;
      }
      switch (castTo.getType()) {
        case STRING:
          if (value.length == 1) {
            return ExprEval.of(asString());
          }
          break;
        case LONG:
          if (value.length == 1) {
            return isNumericNull() ? ExprEval.ofLong(null) : ExprEval.ofLong(asLong());
          }
          break;
        case DOUBLE:
          if (value.length == 1) {
            return isNumericNull() ? ExprEval.ofDouble(null) : ExprEval.ofDouble(asDouble());
          }
          break;
        case ARRAY:
          ExpressionType elementType = (ExpressionType) castTo.getElementType();
          Object[] cast = new Object[value.length];
          for (int i = 0; i < value.length; i++) {
            cast[i] = ExprEval.ofType(elementType(), value[i]).castTo(elementType).value();
          }
          return ExprEval.ofArray(castTo, cast);
      }

      throw new IAE("invalid type " + castTo);
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getType()) { case DOUBLE: return ExprEval.ofDouble(computeNumber())...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses case 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public final ExprEval castTo(ExpressionType castTo)
    {
      switch (castTo.getType()) {
        case DOUBLE:
          return ExprEval.ofDouble(computeNumber());
        case LONG:
          return ExprEval.ofLong(computeNumber());
        case STRING:
          return this;
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(value == null ? null : new Object[] {computeDouble()});
            case LONG:
              return ExprEval.ofLongArray(value == null ? null : new Object[] {computeLong()});
            case STRING:
              return ExprEval.ofStringArray(value == null ? null : new Object[] {value});
          }
      }
      throw new IAE("invalid type " + castTo);
    }
```

### EnumSwitchStatementWhichMissesCases
`switch (castTo.getElementType().getType()) { case DOUBLE: return ExprEval....` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          return this;
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(value == null ? null : new Object[] {computeDouble()});
            case LONG:
              return ExprEval.ofLongArray(value == null ? null : new Object[] {computeLong()});
            case STRING:
              return ExprEval.ofStringArray(value == null ? null : new Object[] {value});
          }
      }
      throw new IAE("invalid type " + castTo);
```

### EnumSwitchStatementWhichMissesCases
`switch (strategyType.getType()) { case LONG: return new LongTopNColumnAggregatesPr...` statement on enum type 'org.apache.druid.segment.column.ValueType' misses cases: 'STRING', 'COMPLEX', and 'ARRAY'
in `processing/src/main/java/org/apache/druid/query/topn/types/TopNColumnAggregatesProcessorFactory.java`
#### Snippet
```java
        strategyType = capabilities.toColumnType();
      }
      switch (strategyType.getType()) {
        case LONG:
          return new LongTopNColumnAggregatesProcessor(converter);
        case FLOAT:
          return new FloatTopNColumnAggregatesProcessor(converter);
        case DOUBLE:
          return new DoubleTopNColumnAggregatesProcessor(converter);
      }
    }

```

### EnumSwitchStatementWhichMissesCases
`switch (elementType) { case LONG: return convertToListWithObjectFunction(obj, Dimensio...` statement on enum type 'org.apache.druid.segment.column.ValueType' misses cases: 'STRING', 'COMPLEX', and 'ARRAY'
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  public static ComparableList convertToList(Object obj, ValueType elementType)
  {
    switch (elementType) {
      case LONG:
        return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToLong);
      case FLOAT:
        return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToFloat);
      case DOUBLE:
        return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToDouble);
    }
    throw new ISE(
        "Unable to convert object of type[%s] to [%s]",
```

### EnumSwitchStatementWhichMissesCases
`switch (type.getElementType().getType()) { case STRING: return convertToCompar...` statement on enum type 'org.apache.druid.segment.column.ValueType' misses cases: 'COMPLEX', and 'ARRAY'
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
        return convertObjectToString(obj);
      case ARRAY:
        switch (type.getElementType().getType()) {
          case STRING:
            return convertToComparableStringArray(obj);
          case LONG:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToLong);
          case FLOAT:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToFloat);
          case DOUBLE:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToDouble);
        }

      default:
```

### EnumSwitchStatementWhichMissesCases
`switch (eval.elementType().getType()) { case LONG: final Object[] lResult ...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java

        if (eval.type().isArray()) {
          switch (eval.elementType().getType()) {
            case LONG:
              final Object[] lResult = eval.asArray();
              if (lResult == null) {
                return false;
              }

              return Arrays.stream(lResult).filter(Objects::nonNull).anyMatch(o -> Evals.asBoolean((long) o));
            case STRING:
              final Object[] sResult = eval.asArray();
              if (sResult == null) {
                return false;
              }

              return Arrays.stream(sResult).anyMatch(o -> Evals.asBoolean((String) o));
            case DOUBLE:
              final Object[] dResult = eval.asArray();
              if (dResult == null) {
                return false;
              }

              return Arrays.stream(dResult).filter(Objects::nonNull).anyMatch(o -> Evals.asBoolean((double) o));
          }
        }
        return eval.asBoolean();
```

### EnumSwitchStatementWhichMissesCases
`switch (newPhase) { case MERGING_STATISTICS: case POST_READING: case FAILED: ...` statement on enum type 'org.apache.druid.msq.kernel.controller.ControllerStagePhase' misses cases: 'NEW', 'READING_INPUT', 'RESULTS_READY', ...
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/controller/ControllerQueryKernel.java`
#### Snippet
```java

    // If the kernel phase has transitioned, we need to account for that.
    switch (newPhase) {
      case MERGING_STATISTICS:
      case POST_READING:
      case FAILED:
        transitionStageKernel(stageId, newPhase);
        break;
    }
  }

```

### EnumSwitchStatementWhichMissesCases
`switch (input.type().getType()) { case STRING: String stringVal = (String)...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/expressions/BloomFilterExpressions.java`
#### Snippet
```java

          boolean matches = false;
          switch (input.type().getType()) {
            case STRING:
              String stringVal = (String) input.value();
              if (stringVal == null) {
                matches = nullMatch(filter);
              } else {
                matches = filter.testString(stringVal);
              }
              break;
            case DOUBLE:
              Double doubleVal = (Double) input.value();
              if (doubleVal == null) {
                matches = nullMatch(filter);
              } else {
                matches = filter.testDouble(doubleVal);
              }
              break;
            case LONG:
              Long longVal = (Long) input.value();
              if (longVal == null) {
                matches = nullMatch(filter);
              } else {
                matches = filter.testLong(longVal);
              }
              break;
          }

          return ExprEval.ofLongBoolean(matches);
```

### EnumSwitchStatementWhichMissesCases
`switch (evaluated.type().getType()) { case STRING: String stringVal = (Str...` statement on enum type 'org.apache.druid.math.expr.ExprType' misses cases: 'ARRAY', and 'COMPLEX'
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/expressions/BloomFilterExpressions.java`
#### Snippet
```java

          boolean matches = false;
          switch (evaluated.type().getType()) {
            case STRING:
              String stringVal = (String) evaluated.value();
              if (stringVal == null) {
                matches = nullMatch();
              } else {
                matches = filter.testString(stringVal);
              }
              break;
            case DOUBLE:
              Double doubleVal = (Double) evaluated.value();
              if (doubleVal == null) {
                matches = nullMatch();
              } else {
                matches = filter.testDouble(doubleVal);
              }
              break;
            case LONG:
              Long longVal = (Long) evaluated.value();
              if (longVal == null) {
                matches = nullMatch();
              } else {
                matches = filter.testLong(longVal);
              }
              break;
          }

          return ExprEval.ofLongBoolean(matches);
```

## RuleId[ruleID=LoopStatementsThatDontLoop]
### LoopStatementsThatDontLoop
`while` statement does not loop
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    // if there are values below the lower limit, fill in array position 1
    // else array position 0
    while (j != leftBinCount || k != rightBinCount) {
      if (j != leftBinCount && (k == rightBinCount || leftPositions[j] < rightPositions[k])) {
        mergedPositions[pos] = leftPositions[j];
```

## RuleId[ruleID=EmptyTryBlock]
### EmptyTryBlock
Empty `try` block
in `core/src/main/java/org/apache/druid/data/input/impl/FileIteratingFirehose.java`
#### Snippet
```java
  public void close() throws IOException
  {
    try (Closeable ignore = closer;
         Closeable ignore2 = lineIterator) {
      // close both via try-with-resources
```

## RuleId[ruleID=WaitWhileHoldingTwoLocks]
### WaitWhileHoldingTwoLocks
Call to `wait()` is made while holding two locks
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                break;
              }
              stopLock.wait(sleepTime);
            }
          }
```

## RuleId[ruleID=JavaLangInvokeHandleSignature]
### JavaLangInvokeHandleSignature
Cannot resolve method 'privateLookupIn'
in `core/src/main/java/org/apache/druid/java/util/common/DefineClassUtils.java`
#### Snippet
```java
    MethodHandle privateLookupIn = lookup.findStatic(
        MethodHandles.class,
        "privateLookupIn",
        MethodType.methodType(MethodHandles.Lookup.class, Class.class, MethodHandles.Lookup.class)
    );
```

## RuleId[ruleID=UnnecessaryStringEscape]
### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpEmitterConfig.java`
#### Snippet
```java
    return "HttpEmitterConfig{" +
           toStringBase() +
           ", recipientBaseUrl=\'" + recipientBaseUrl + '\'' +
           '}';
  }
```

## RuleId[ruleID=ManualArrayCopy]
### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final Object[] output = new Object[array.length + 1];
      output[0] = val;
      for (int i = 0; i < array.length; i++) {
        output[i + 1] = array[i];
      }
```

### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    {
      final Object[] output = new Object[array.length + 1];
      for (int i = 0; i < array.length; i++) {
        output[i] = array[i];
      }
```

### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    {
      final Object[] output = new Object[array1.length + array2.length];
      for (int i = 0; i < array1.length; i++) {
        output[i] = array1[i];
      }
```

### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          final String[] inputArray = (String[]) value;
          final Object[] array = new Object[inputArray.length];
          for (int i = 0; i < inputArray.length; i++) {
            array[i] = inputArray[i];
          }
```

### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      final Long[] inputArray = (Long[]) val;
      final Object[] array = new Object[inputArray.length];
      for (int i = 0; i < inputArray.length; i++) {
        array[i] = inputArray[i];
      }
```

### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      final Double[] inputArray = (Double[]) val;
      final Object[] array = new Object[inputArray.length];
      for (int i = 0; i < inputArray.length; i++) {
        array[i] = inputArray[i];
      }
```

### ManualArrayCopy
Manual array copy
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      final String[] inputArray = (String[]) val;
      final Object[] array = new Object[inputArray.length];
      for (int i = 0; i < inputArray.length; i++) {
        array[i] = inputArray[i];
      }
```

## RuleId[ruleID=ObsoleteCollection]
### ObsoleteCollection
Obsolete collection type `Stack` used
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
  {
    final List<RexNode> retVal = new ArrayList<>();
    final Stack<RexNode> stack = new Stack<>();

    stack.push(condition);
```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
  {
    final List<RexNode> retVal = new ArrayList<>();
    final Stack<RexNode> stack = new Stack<>();

    stack.push(condition);
```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `core/src/main/java/org/apache/druid/math/expr/Exprs.java`
#### Snippet
```java
  {
    final List<Expr> retVal = new ArrayList<>();
    final Stack<Expr> stack = new Stack<>();
    stack.push(expr);

```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `core/src/main/java/org/apache/druid/math/expr/Exprs.java`
#### Snippet
```java
  {
    final List<Expr> retVal = new ArrayList<>();
    final Stack<Expr> stack = new Stack<>();
    stack.push(expr);

```

### ObsoleteCollection
Obsolete collection type `Stack` used
in `server/src/main/java/org/apache/druid/server/ClientQuerySegmentWalker.java`
#### Snippet
```java
        // Strip outer queries that are handleable by the toolchest, and inline subqueries that may be underneath
        // them (e.g. subqueries nested under a join).
        final Stack<DataSource> stack = new Stack<>();

        DataSource current = dataSource;
```

### ObsoleteCollection
Obsolete collection type `Stack<>` used
in `server/src/main/java/org/apache/druid/server/ClientQuerySegmentWalker.java`
#### Snippet
```java
        // Strip outer queries that are handleable by the toolchest, and inline subqueries that may be underneath
        // them (e.g. subqueries nested under a join).
        final Stack<DataSource> stack = new Stack<>();

        DataSource current = dataSource;
```

## RuleId[ruleID=RefusedBequest]
### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `processing/src/main/java/org/apache/druid/segment/SimpleDescendingOffset.java`
#### Snippet
```java

  @Override
  public Offset clone()
  {
    return new SimpleDescendingOffset(currentOffset, rowCount);
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `processing/src/main/java/org/apache/druid/segment/SimpleAscendingOffset.java`
#### Snippet
```java

  @Override
  public Offset clone()
  {
    return new SimpleAscendingOffset(currentOffset, rowCount);
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `processing/src/main/java/org/apache/druid/collections/bitmap/WrappedImmutableBitSetBitmap.java`
#### Snippet
```java

    @Override
    public IntIterator clone()
    {
      BitSetIterator newIt = new BitSetIterator();
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `processing/src/main/java/org/apache/druid/collections/bitmap/BatchIteratorAdapter.java`
#### Snippet
```java

  @Override
  public BatchIterator clone()
  {
    // It's okay to make a "new BatchIteratorAdapter" instead of calling super.clone(), since this class is final.
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/EmptyIntIterator.java`
#### Snippet
```java

  @Override
  public IntSet.IntIterator clone()
  {
    return new EmptyIntIterator();
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java

  @Override
  public IntSet.IntIterator clone()
  {
    BitIterator clone = new BitIterator(
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java

    @Override
    public IntIterator clone()
    {
      BitIterator retVal = new BitIterator();
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java

    @Override
    public IntIterator clone()
    {
      ReverseBitIterator retVal = new ReverseBitIterator();
```

### RefusedBequest
Method `clone()` does not call 'super.clone()'
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchBuildAggregator.java`
#### Snippet
```java

  @Override
  public Aggregator clone()
  {
    return new MomentSketchBuildAggregator(valueSelector, k, compress);
```

## RuleId[ruleID=RedundantArrayCreation]
### RedundantArrayCreation
Redundant array creation for calling varargs method
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/NestedDataOperatorConversions.java`
#### Snippet
```java
    private static final SqlFunction SQL_FUNCTION = OperatorConversions
        .operatorBuilder(FUNCTION_NAME)
        .operandTypeChecker(OperandTypes.family(new SqlTypeFamily[]{SqlTypeFamily.ANY, SqlTypeFamily.CHARACTER, SqlTypeFamily.ANY, SqlTypeFamily.ANY, SqlTypeFamily.ANY}))
        .returnTypeInference(NESTED_RETURN_TYPE_INFERENCE)
        .functionCategory(SqlFunctionCategory.SYSTEM)
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `services/src/main/java/org/apache/druid/cli/Main.java`
#### Snippet
```java
      System.out.println(e.getMessage());
      System.out.println("===");
      cli.parse(new String[]{"help"}).run();
      System.exit(1);
    }
```

## RuleId[ruleID=StaticPseudoFunctionalStyleMethod]
### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/InformationSchema.java`
#### Snippet
```java

                  return Iterables.concat(
                      Iterables.filter(
                          Iterables.concat(
                              FluentIterable.from(authorizedTableNames).transform(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/InformationSchema.java`
#### Snippet
```java
                  );

                  return Iterables.filter(
                      Iterables.concat(
                          FluentIterable.from(authorizedTableNames).transform(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java
  {
    return ImmutableList.copyOf(
        Lists.transform(
            bounds,
            new Function<BoundDimFilter, Range<BoundValue>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/data/input/impl/DelimitedValueReader.java`
#### Snippet
```java
    return Utils.zipMapPartial(
        Preconditions.checkNotNull(columns, "columns"),
        Iterables.transform(parsed, multiValueFunction)
    );
  }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/data/input/impl/RegexReader.java`
#### Snippet
```java
      }

      return Utils.zipMapPartial(columns, Iterables.transform(values, multiValueFunction));
    }
    catch (Exception e) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  public <RetType> FunctionalIterable<RetType> transform(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.transform(delegate, fn));
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  public <RetType> FunctionalIterable<RetType> transformCat(Function<T, Iterable<RetType>> fn)
  {
    return new FunctionalIterable<>(Iterables.concat(Iterables.transform(delegate, fn)));
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  public <RetType> FunctionalIterable<RetType> keep(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.filter(Iterables.transform(delegate, fn), Predicates.notNull()));
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  public <RetType> FunctionalIterable<RetType> keep(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.filter(Iterables.transform(delegate, fn), Predicates.notNull()));
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  public FunctionalIterable<T> filter(Predicate<T> pred)
  {
    return new FunctionalIterable<>(Iterables.filter(delegate, pred));
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/parsers/JSONToLowerParser.java`
#### Snippet
```java
    }
    this.exclude = exclude != null
                   ? Sets.newHashSet(Iterables.transform(exclude, StringUtils::toLowerCase))
                   : new HashSet<>();
  }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/parsers/RegexParser.java`
#### Snippet
```java
      }

      return Utils.zipMapPartial(fieldNames, Iterables.transform(values, valueFunction));
    }
    catch (Exception e) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/common/parsers/AbstractFlatTextFormatParser.java`
#### Snippet
```java
      }

      return Utils.zipMapPartial(fieldNames, Iterables.transform(values, valueFunction));
    }
    catch (Exception e) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/java/util/metrics/CompoundMonitor.java`
#### Snippet
```java
  public boolean monitor(final ServiceEmitter emitter)
  {
    return shouldReschedule(Lists.transform(monitors, monitor -> monitor.monitor(emitter)));
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/guice/JsonConfigurator.java`
#### Snippet
```java

      throw new ProvisionException(
          Iterables.transform(
              messages,
              new Function<String, Message>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java
  {
    assert !partitionDimensions.isEmpty();
    List<Object> groupKey = Lists.transform(
        partitionDimensions,
        o -> Collections.singletonList(partitionDimensionsValues.get(o))
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/timeline/partition/HashPartitioner.java`
#### Snippet
```java
      return Rows.toGroupKey(timestamp, inputRow);
    } else {
      return Lists.transform(partitionDimensions, inputRow::getDimension);
    }
  }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java
    // make a copy of the set and not just a filtered view, in order to not keep all the segment data in memory
    Set<DataSegment> filteredInventory = Sets.newHashSet(
        Iterables.transform(
            Iterables.filter(
                Iterables.transform(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java
    Set<DataSegment> filteredInventory = Sets.newHashSet(
        Iterables.transform(
            Iterables.filter(
                Iterables.transform(
                    inventory,
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java
        Iterables.transform(
            Iterables.filter(
                Iterables.transform(
                    inventory,
                    new Function<DataSegment, Pair<DruidServerMetadata, DataSegment>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
  public List<String> getDimensionNames()
  {
    return Lists.transform(
        dimensions,
        new Function<DimensionSchema, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
  public List<SpatialDimensionSchema> getSpatialDimensions()
  {
    Iterable<NewSpatialDimensionSchema> filteredList = Iterables.filter(dimensions, NewSpatialDimensionSchema.class);

    Iterable<SpatialDimensionSchema> transformedList = Iterables.transform(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
    Iterable<NewSpatialDimensionSchema> filteredList = Iterables.filter(dimensions, NewSpatialDimensionSchema.class);

    Iterable<SpatialDimensionSchema> transformedList = Iterables.transform(
        filteredList,
        new Function<NewSpatialDimensionSchema, SpatialDimensionSchema>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
    );

    List<String> spatialDimNames = Lists.transform(
        spatialDimensions,
        new Function<SpatialDimensionSchema, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/QueryLifecycle.java`
#### Snippet
```java
    transition(State.INITIALIZED, State.AUTHORIZING);
    final Iterable<ResourceAction> resourcesToAuthorize = Iterables.concat(
        Iterables.transform(
            baseQuery.getDataSource().getTableNames(),
            AuthorizationUtils.DATASOURCE_READ_RA_GENERATOR
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/QueryLifecycle.java`
#### Snippet
```java
            AuthorizationUtils.DATASOURCE_READ_RA_GENERATOR
        ),
        Iterables.transform(
            authConfig.contextKeysToAuthorize(userContextKeys),
            contextParam -> new ResourceAction(new Resource(contextParam, ResourceType.QUERY_CONTEXT), Action.WRITE)
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/QueryResource.java`
#### Snippet
```java
    Access authResult = AuthorizationUtils.authorizeAllResourceActions(
        req,
        Iterables.transform(datasources, AuthorizationUtils.DATASOURCE_WRITE_RA_GENERATOR),
        authorizerMapper
    );
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/emitter/ComposingEmitterModule.java`
#### Snippet
```java
    log.info("Creating Composing Emitter with %s", config.getEmitters());

    List<Emitter> emitters = Lists.transform(
        config.getEmitters(),
        new Function<String, Emitter>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
        .transformCat(
            (TimelineObjectHolder<String, SegmentLoadInfo> input) ->
                Iterables.transform(
                    input.getObject(),
                    (PartitionChunk<SegmentLoadInfo> chunk) -> chunk.getObject().toImmutableSegmentLoadInfo()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
          && segmentLoadInfo.getSegment().getShardSpec().getPartitionNum() == descriptor.getPartitionNumber()
          && segmentLoadInfo.getSegment().getVersion().compareTo(descriptor.getVersion()) >= 0
          && Iterables.any(
          segmentLoadInfo.getServers(), DruidServerMetadata::isSegmentReplicationTarget
      )) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/security/AuthorizationUtils.java`
#### Snippet
```java

    final Map<ResourceAction, Access> resultCache = new HashMap<>();
    final Iterable<ResType> filteredResources = Iterables.filter(
        resources,
        resource -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    cost += computeJointSegmentsCost(
        proposalSegment,
        Iterables.filter(server.getServer().iterateAllSegments(), segment -> !proposalSegment.equals(segment))
    );

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/IngestSegmentFirehose.java`
#### Snippet
```java

    Sequence<InputRow> rows = Sequences.concat(
        Iterables.transform(
            adapters,
            new Function<WindowedStorageAdapter, Sequence<InputRow>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SinkQuerySegmentWalker.java`
#### Snippet
```java
    final Optional<byte[]> cacheKeyPrefix = Optional.ofNullable(query.getDataSource().getCacheKey());

    Iterable<QueryRunner<T>> perSegmentRunners = Iterables.transform(
        specs,
        descriptor -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SinkQuerySegmentWalker.java`
#### Snippet
```java

          Iterable<QueryRunner<T>> perHydrantRunners = new SinkQueryRunners<>(
              Iterables.transform(
                  theSink,
                  hydrant -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
    this.queryProcessingPool = queryProcessingPool;
    this.queryWatcher = queryWatcher;
    this.queryables = Iterables.unmodifiableIterable(Iterables.filter(queryables, Predicates.notNull()));
    this.configSupplier = configSupplier;
  }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
    final List<ListenableFuture<Void>> futures =
        Lists.newArrayList(
            Iterables.transform(
                queryables,
                new Function<QueryRunner<T>, ListenableFuture<Void>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
    return Sequences.withBaggage(
        Sequences.simple(
            Iterables.transform(
                indexAccumulatorPair.lhs.iterableWithPostAggregations(null, query.isDescending()),
                new Function<Row, T>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/ChainedExecutionQueryRunner.java`
#### Snippet
```java
            List<ListenableFuture<Iterable<T>>> futures =
                Lists.newArrayList(
                    Iterables.transform(
                        queryables,
                        input -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/UnionQueryRunner.java`
#### Snippet
```java
            query.getResultOrdering(),
            Sequences.simple(
                Lists.transform(
                    IntStream.range(0, unionDataSource.getDataSources().size())
                             .mapToObj(i -> new Pair<>(unionDataSource.getDataSources().get(i), i + 1))
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/FinalizeResultsQueryRunner.java`
#### Snippet
```java
              result.getTimestamp(),
              new BySegmentResultValueClass<>(
                  Lists.transform(resultsClass.getResults(), baseFinalizer),
                  resultsClass.getSegmentId(),
                  resultsClass.getInterval()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/spec/MultipleSpecificSegmentSpec.java`
#### Snippet
```java

    intervals = JodaUtils.condenseIntervals(
        Iterables.transform(
            descriptors,
            input -> input.getInterval()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/topn/TopNResultValue.java`
#### Snippet
```java
  public TopNResultValue(List<?> value)
  {
    this.value = (value == null) ? new ArrayList<>() : Lists.transform(
        value,
        new Function<Object, DimensionAndMetricValueExtractor>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/filter/DimFilters.java`
#### Snippet
```java
  public static List<DimFilter> filterNulls(List<DimFilter> optimized)
  {
    return Lists.newArrayList(Iterables.filter(optimized, Predicates.notNull()));
  }
}
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
    if (field instanceof AndDimFilter) {
      List<DimFilter> fields = ((AndDimFilter) field).getFields();
      return new OrDimFilter(Lists.transform(fields, NotDimFilter::new)).getDimensionRangeSet(dimension);
    }
    if (field instanceof OrDimFilter) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
    if (field instanceof OrDimFilter) {
      List<DimFilter> fields = ((OrDimFilter) field).getFields();
      return new AndDimFilter(Lists.transform(fields, NotDimFilter::new)).getDimensionRangeSet(dimension);
    }
    if (field instanceof NotDimFilter) {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
                    input.getTimestamp(),
                    new BySegmentTopNResultValue(
                        Lists.transform(
                            value.getResults(),
                            new Function<Result<TopNResultValue>, Result<TopNResultValue>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java

          return Sequences.simple(
              Iterables.transform(
                  rows,
                  row -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
      {
        List<Map<String, Object>> serializedValues = Lists.newArrayList(
            Iterables.transform(
                result.getValue(),
                new Function<DimensionAndMetricValueExtractor, Map<String, Object>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
      {
        List<Map<String, Object>> serializedValues = Lists.newArrayList(
            Iterables.transform(
                result.getValue(),
                new Function<DimensionAndMetricValueExtractor, Map<String, Object>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
                      input.getTimestamp(),
                      new TopNResultValue(
                          Lists.transform(
                              resultValue.getValue(),
                              new Function<DimensionAndMetricValueExtractor, DimensionAndMetricValueExtractor>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/Druids.java`
#### Snippet
```java
    public SearchQueryBuilder dimensions(Iterable<String> d)
    {
      dimensions = ImmutableList.copyOf(Iterables.transform(d, DIMENSION_IDENTITY));
      return this;
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
    return builder.appendDimension(dimension, extractionFn)
                  .append(" IN (")
                  .append(Joiner.on(", ").join(Iterables.transform(values, StringUtils::nullToEmptyNonDruidDataString)))
                  .append(")")
                  .appendFilterTuning(filterTuning)
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryRunner.java`
#### Snippet
```java
  )
  {
    Iterable<SearchHit> source = Iterables.transform(
        retVal.object2IntEntrySet(),
        input -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/search/SearchStrategy.java`
#### Snippet
```java
  {
    if (dimensions == null || dimensions.isEmpty()) {
      return ImmutableList.copyOf(Iterables.transform(availableDimensions, Druids.DIMENSION_IDENTITY));
    } else {
      return dimensions;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
                    input.getTimestamp(),
                    new BySegmentSearchResultValue(
                        Lists.transform(
                            value.getResults(),
                            new Function<Result<SearchResultValue>, Result<SearchResultValue>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
    final List<AggregatorFactory> aggs;
    if (combine) {
      aggs = Lists.transform(
          query.getAggregatorSpecs(),
          new Function<AggregatorFactory, AggregatorFactory>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
    }

    final List<String> dimensions = Lists.transform(
        query.getDimensions(),
        new Function<DimensionSpec, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
  public static List<OrderByColumnSpec> ascending(String... dimension)
  {
    return Lists.transform(
        Arrays.asList(dimension),
        new Function<String, OrderByColumnSpec>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
  public static List<OrderByColumnSpec> descending(String... dimension)
  {
    return Lists.transform(
        Arrays.asList(dimension),
        new Function<String, OrderByColumnSpec>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
  GroupByQuery rewriteNestedQueryForPushDown(GroupByQuery query)
  {
    return query.withAggregatorSpecs(Lists.transform(query.getAggregatorSpecs(), (agg) -> agg.getCombiningFactory()))
                .withDimensionSpecs(Lists.transform(
                    query.getDimensions(),
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
  {
    return query.withAggregatorSpecs(Lists.transform(query.getAggregatorSpecs(), (agg) -> agg.getCombiningFactory()))
                .withDimensionSpecs(Lists.transform(
                    query.getDimensions(),
                    (dim) -> new DefaultDimensionSpec(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV1.java`
#### Snippet
```java
          continue;
        }
        if (Iterables.any(aggs, new Predicate<AggregatorFactory>()
        {
          @Override
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java

              List<ListenableFuture<AggregateResult>> futures = Lists.newArrayList(
                      Iterables.transform(
                          queryables,
                          new Function<QueryRunner<ResultRow>, ListenableFuture<AggregateResult>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
    this.queryProcessingPool = queryProcessingPool;
    this.queryWatcher = queryWatcher;
    this.queryables = Iterables.unmodifiableIterable(Iterables.filter(queryables, Predicates.notNull()));
    this.concurrencyHint = concurrencyHint;
    this.mergeBufferPool = mergeBufferPool;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentMetadataQueryQueryToolChest.java`
#### Snippet
```java

    return Lists.newArrayList(
        Iterables.filter(
            segments,
            input -> (input.getInterval().overlaps(targetInterval))
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptAggregatorFactory.java`
#### Snippet
```java
  {
    return ImmutableList.copyOf(
        Lists.transform(
            fieldNames,
            new com.google.common.base.Function<String, AggregatorFactory>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregatorFactory.java`
#### Snippet
```java
  {
    return ImmutableList.copyOf(
        Lists.transform(
            fieldNames,
            new Function<String, DimensionSpec>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregatorFactory.java`
#### Snippet
```java
  {
    return ImmutableList.copyOf(
        Lists.transform(
            fields,
            new Function<DimensionSpec, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  {
    return mergeIndexed(
        Lists.transform(
            indexes,
            new Function<IndexableAdapter, Iterable<String>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/RowBasedStorageAdapter.java`
#### Snippet
```java

    return Sequences.simple(
        Iterables.transform(
            descending ? reverse(bucketIntervals) : bucketIntervals,
            bucketInterval ->
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/column/IndexedUtf8ValueSetIndex.java`
#### Snippet
```java
  {
    return getBitmapColumnIndexForSortedIterableUtf8(
        Iterables.transform(
            values,
            input -> input != null ? ByteBuffer.wrap(StringUtils.toUtf8(input)) : null
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/generator/DataGenerator.java`
#### Snippet
```java
    columnGenerators = new ArrayList<>();
    columnGenerators.addAll(
        Lists.transform(
            columnSchemas,
            new Function<GeneratorColumnSchema, ColumnValueGenerator>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
    this.spatialPartialDimNames = Sets.newHashSet(
        Iterables.concat(
            Lists.transform(
                spatialDimensions,
                new Function<SpatialDimensionSchema, List<String>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
    // remove all spatial dimensions
    final List<String> finalDims = Lists.newArrayList(
        Iterables.filter(
            row.getDimensions(),
            new Predicate<String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexRow.java`
#### Snippet
```java
    return "IncrementalIndexRow{" +
           "timestamp=" + DateTimes.utc(timestamp) +
           ", dims=" + Lists.transform(
        Arrays.asList(dims), new Function<Object, Object>()
        {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/RadiusBound.java`
#### Snippet
```java
  public Iterable<ImmutablePoint> filter(Iterable<ImmutablePoint> points)
  {
    return Iterables.filter(
        points,
        new Predicate<ImmutablePoint>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/RectangularBound.java`
#### Snippet
```java
  public Iterable<ImmutablePoint> filter(Iterable<ImmutablePoint> points)
  {
    return Iterables.filter(
        points,
        new Predicate<ImmutablePoint>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/PolygonBound.java`
#### Snippet
```java
  public Iterable<ImmutablePoint> filter(Iterable<ImmutablePoint> points)
  {
    return Iterables.filter(
        points,
        new Predicate<ImmutablePoint>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
              public Iterable<ImmutableNode> apply(ImmutableNode immutableNode)
              {
                return Iterables.filter(
                    immutableNode.getChildren(),
                    new Predicate<ImmutableNode>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
  {
    if (bound.getLimit() > 0) {
      return Iterables.transform(
          breadthFirstSearch(node, bound),
          new Function<ImmutableNode, ImmutableBitmap>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
    }

    return Iterables.transform(
        depthFirstSearch(node, bound),
        new Function<ImmutablePoint, ImmutableBitmap>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
    if (node.isLeaf()) {
      return bound.filter(
          Iterables.transform(
              node.getChildren(),
              new Function<ImmutableNode, ImmutablePoint>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
    } else {
      return Iterables.concat(
          Iterables.transform(
              Iterables.filter(
                  node.getChildren(),
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
      return Iterables.concat(
          Iterables.transform(
              Iterables.filter(
                  node.getChildren(),
                  new Predicate<ImmutableNode>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
  {
    Iterable<ImmutableNode> points = Iterables.concat(
        Iterables.transform(
            Iterables.filter(
                nodes,
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
    Iterable<ImmutableNode> points = Iterables.concat(
        Iterables.transform(
            Iterables.filter(
                nodes,
                new Predicate<ImmutableNode>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
    );

    Iterable<ImmutableNode> overlappingNodes = Iterables.filter(
        nodes,
        new Predicate<ImmutableNode>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
          breadthFirstSearch(
              Iterables.concat(
                  Iterables.transform(
                      overlappingNodes,
                      new Function<ImmutableNode, Iterable<ImmutableNode>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
  {
    if (node.isLeaf()) {
      return Iterables.filter(
          node.getChildren(),
          new Predicate<ImmutableNode>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
      final RunInstancesResult result = amazonEC2Client.runInstances(request);

      final List<String> instanceIds = Lists.transform(
          result.getReservation().getInstances(),
          new Function<Instance, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java

      return new AutoScalingData(
          Lists.transform(
              result.getReservation().getInstances(),
              new Function<Instance, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
    try {
      return terminateWithIds(
          Lists.transform(
              instances,
              new Function<Instance, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessorFactory.java`
#### Snippet
```java
    final InputSlice slice = Iterables.getOnlyElement(inputSlices);
    final Sequence<Pair<Integer, ReadableInput>> inputSequence =
        Sequences.simple(Iterables.transform(
            inputSliceReader.attach(0, slice, counters, warningPublisher),
            new Function<ReadableInput, Pair<Integer, ReadableInput>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerRoleSimplifiedPermissions.java`
#### Snippet
```java
  )
  {
    return Lists.transform(
        permissions,
        (permission) -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
    {
      return new CombiningIterable<>(
          Iterables.transform(
              input,
              DimValueCount::fromText
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
                                             : minDistancePartitions;

      final List<ShardSpec> chosenShardSpecs = Lists.transform(
          chosenPartitions.partitions,
          dimPartition -> dimPartition.shardSpec
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/path/HadoopGlobPathSplitter.java`
#### Snippet
```java
  public static Iterable<String> splitGlob(String path)
  {
    return Iterables.transform(splitGlob(new CharStream(path)), Functions.toStringFunction());
  }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceRecordReader.java`
#### Snippet
```java
    logger.info("load schema [%s]", spec);

    List<WindowedStorageAdapter> adapters = Lists.transform(
        segments,
        new Function<WindowedDataSegment, WindowedStorageAdapter>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/path/DatasourcePathSpec.java`
#### Snippet
```java
        Set<String> dimSet = Sets.newHashSet(
            Iterables.concat(
                Iterables.transform(
                    segments,
                    new Function<WindowedDataSegment, Iterable<String>>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
  )
  {
    return Iterables.transform(
        Iterables.filter(dataSegments, dataSegment -> !dataSegment.isTombstone()),
        dataSegment ->
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
  {
    return Iterables.transform(
        Iterables.filter(dataSegments, dataSegment -> !dataSegment.isTombstone()),
        dataSegment ->
            Pair.of(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ZkWorker.java`
#### Snippet
```java
  {
    Map<String, TaskAnnouncement> retVal = new HashMap<>();
    for (TaskAnnouncement taskAnnouncement : Lists.transform(
        statusCache.getCurrentData(),
        cacheConverter
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/MetadataTaskStorage.java`
#### Snippet
```java
  {
    return ImmutableList.copyOf(
        Iterables.transform(
            getLocksWithIds(taskid).entrySet(), new Function<Map.Entry<Long, TaskLock>, TaskLock>()
            {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/security/SupervisorResourceFilter.java`
#### Snippet
```java
    Access authResult = AuthorizationUtils.authorizeAllResourceActions(
        getReq(),
        Iterables.transform(spec.getDataSources(), resourceActionFunction),
        getAuthorizerMapper()
    );
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
          return new ArrayList<>();
        }
        return Iterables.transform(
            supervisorSpec.getSpec().getDataSources(),
            AuthorizationUtils.DATASOURCE_READ_RA_GENERATOR
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
      Optional<SupervisorSpec> supervisorSpecOptional = manager.getSupervisorSpec(supervisorId);
      if (supervisorSpecOptional.isPresent()) {
        return Iterables.transform(
            supervisorSpecOptional.get().getDataSources(),
            AuthorizationUtils.DATASOURCE_WRITE_RA_GENERATOR
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
          Access authResult = AuthorizationUtils.authorizeAllResourceActions(
              req,
              Iterables.transform(spec.getDataSources(), AuthorizationUtils.DATASOURCE_WRITE_RA_GENERATOR),
              authorizerMapper
          );
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningStrategy.java`
#### Snippet
```java
                                      && validWorkers.size() == targetWorkerCount
                                      && targetWorkerCount > minWorkerCount
                                      && Iterables.any(validWorkers, isLazyWorker);
      if (shouldScaleUp) {
        targetWorkerCount = Math.max(targetWorkerCount + 1, minWorkerCount);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningStrategy.java`
#### Snippet
```java
      final List<String> workerNodeIds = workerConfig.getAutoScaler().ipToIdLookup(
          Lists.newArrayList(
              Iterables.transform(
                  workers,
                  new Function<ImmutableWorkerInfo, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningStrategy.java`
#### Snippet
```java
          workerConfig.getAutoScaler().ipToIdLookup(
              Lists.newArrayList(
                  Iterables.transform(
                      runner.getLazyWorkers(),
                      new Function<Worker, String>()
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/firehose/IngestSegmentFirehoseFactory.java`
#### Snippet
```java
    final List<WindowedStorageAdapter> adapters = Lists.newArrayList(
        Iterables.concat(
        Iterables.transform(
          timeLineSegments,
          new Function<TimelineObjectHolder<String, DataSegment>, Iterable<WindowedStorageAdapter>>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `indexing-service/src/main/java/org/apache/druid/indexing/firehose/IngestSegmentFirehoseFactory.java`
#### Snippet
```java
            {
              return
                Iterables.transform(
                  holder.getObject(),
                  new Function<PartitionChunk<DataSegment>, WindowedStorageAdapter>() {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitterModule.java`
#### Snippet
```java
  {
    List<Emitter> emitters = ImmutableList.copyOf(
        Lists.transform(
            graphiteEmitterConfig.getAlertEmitters(),
            alertEmitterName -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitterModule.java`
#### Snippet
```java

    List<Emitter> requestLogEmitters = ImmutableList.copyOf(
        Lists.transform(
            graphiteEmitterConfig.getRequestLogEmitters(),
            requestLogEmitterName -> {
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/MaterializedViewQueryRunner.java`
#### Snippet
```java
        query.getResultOrdering(),
        Sequences.simple(
            Lists.transform(
                optimizer.optimize(query),
                new Function<Query, Sequence<T>>()
```

## RuleId[ruleID=DuplicateBranchesInSwitch]
### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCluster.java`
#### Snippet
```java
        break;
      case BRIDGE:
        addHistorical(serverHolder);
        break;
      case INDEXER_EXECUTOR:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCluster.java`
#### Snippet
```java
        break;
      case INDEXER_EXECUTOR:
        addRealtime(serverHolder);
        break;
      case BROKER:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `processing/src/main/java/org/apache/druid/query/expression/TimestampExtractExprMacro.java`
#### Snippet
```java
            return ExprEval.of(dateTime.dayOfWeek().get());
          case ISODOW:
            return ExprEval.of(dateTime.dayOfWeek().get());
          case DOY:
            return ExprEval.of(dateTime.dayOfYear().get());
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `processing/src/main/java/org/apache/druid/query/expression/TimestampExtractExprMacro.java`
#### Snippet
```java
            return ExprEval.of(dateTime.year().get());
          case ISOYEAR:
            return ExprEval.of(dateTime.year().get());
          case DECADE:
            // The year field divided by 10, See https://www.postgresql.org/docs/10/functions-datetime.html
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
            return TimeUnit.MILLISECONDS.convert(g.getLong(fieldIndex, index), TimeUnit.MICROSECONDS);
          case TIMESTAMP_MILLIS:
            return g.getLong(fieldIndex, index);
          case INTERVAL:
          /*
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
          case INT_16:
          case INT_32:
            return g.getInteger(fieldIndex, index);
          case INT_64:
            return g.getLong(fieldIndex, index);
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
            return g.getInteger(fieldIndex, index);
          case INT_64:
            return g.getLong(fieldIndex, index);
          // todo: idk wtd about unsigned
          case UINT_8:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
          case UINT_8:
          case UINT_16:
            return g.getInteger(fieldIndex, index);
          case UINT_32:
          case UINT_64:
```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
          case UINT_32:
          case UINT_64:
            return g.getLong(fieldIndex, index);
          case DECIMAL:
          /*
```

## RuleId[ruleID=RegExpSimplifiable]
### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
  private final LinkedBlockingQueue<GraphiteEvent> eventsQueue;
  private static final long FLUSH_TIMEOUT_MILLIS = TimeUnit.MINUTES.toMillis(1); // default flush wait 1 min
  private static final Pattern DOT_OR_WHITESPACE_PATTERN = Pattern.compile("[\\s]+|[.]+");
  private final ScheduledExecutorService exec = Executors.newScheduledThreadPool(2, new ThreadFactoryBuilder()
      .setDaemon(true)
```

### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `extensions-contrib/opentsdb-emitter/src/main/java/org/apache/druid/emitter/opentsdb/EventConverter.java`
#### Snippet
```java
{
  private static final Logger log = new Logger(EventConverter.class);
  private static final Pattern WHITESPACE = Pattern.compile("[\\s]+");

  private final Map<String, Set<String>> metricMap;
```

### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `extensions-contrib/influxdb-emitter/src/main/java/org/apache/druid/emitter/influxdb/InfluxdbEmitter.java`
#### Snippet
```java
  private final ImmutableSet dimensionWhiteList;
  private final LinkedBlockingQueue<ServiceMetricEvent> eventsQueue;
  private static final Pattern DOT_OR_WHITESPACE = Pattern.compile("[\\s]+|[.]+");

  public InfluxdbEmitter(InfluxdbEmitterConfig influxdbEmitterConfig)
```

### RegExpSimplifiable
`[^a-zA-Z0-9_][^a-zA-Z0-9_]*` can be simplified to '\[\^a-zA-Z0-9_\]+'
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitter.java`
#### Snippet
```java
  private final PrometheusEmitterConfig config;
  private final PrometheusEmitterConfig.Strategy strategy;
  private static final Pattern PATTERN = Pattern.compile("[^a-zA-Z0-9_][^a-zA-Z0-9_]*");

  private static final String TAG_HOSTNAME = "host_name";
```

### RegExpSimplifiable
`[\\s]` can be simplified to '\\s'
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitter.java`
#### Snippet
```java
  private final String collectorURI;
  private static final long DEFAULT_FLUSH_TIMEOUT_MILLIS = 60000; // default flush wait 1 min
  private static final Pattern DOT_OR_WHITESPACE_PATTERN = Pattern.compile("[\\s]+|[.]+");
  private final ScheduledExecutorService exec = Executors.newScheduledThreadPool(
      2, // Thread pool of two in order to schedule flush runnable
```

## RuleId[ruleID=DuplicateExpressions]
### DuplicateExpressions
Multiple occurrences of `Paths.get(path)`
in `server/src/main/java/org/apache/druid/segment/loading/LocalLoadSpec.java`
#### Snippet
```java
  {
    Preconditions.checkNotNull(path);
    this.path = Paths.get(path);
    Preconditions.checkArgument(Files.exists(Paths.get(path)), "[%s] does not exist", path);
    this.puller = puller;
```

### DuplicateExpressions
Multiple occurrences of `Paths.get(path)`
in `server/src/main/java/org/apache/druid/segment/loading/LocalLoadSpec.java`
#### Snippet
```java
    Preconditions.checkNotNull(path);
    this.path = Paths.get(path);
    Preconditions.checkArgument(Files.exists(Paths.get(path)), "[%s] does not exist", path);
    this.puller = puller;
  }
```

## RuleId[ruleID=UnnecessaryReturn]
### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `core/src/main/java/org/apache/druid/java/util/common/io/NativeIO.java`
#### Snippet
```java
        log.warn("failed on syncing fd [%d], offset [%d], bytes [%d], ret_code [%d], errno [%d]",
            fd, offset, nbytes, ret_code, Native.getLastError());
        return;
      }
    }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
      }
      catch (InterruptedException ignored) {
        return;
      }
    }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
          log.info("Re-Login from key tab [%s] with principal [%s]", internalClientKeytab, internalClientPrincipal);
          UserGroupInformation.getLoginUser().checkTGTAndReloginFromKeytab();
          return;
        } else if (UserGroupInformation.isLoginTicketBased()) {
          log.info("Re-Login from Ticket cache");
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
          log.info("Re-Login from Ticket cache");
          UserGroupInformation.getLoginUser().reloginFromTicketCache();
          return;
        }
      }
```

## RuleId[ruleID=NonShortCircuitBoolean]
### NonShortCircuitBoolean
Non-short-circuit boolean expression `allFalse &= child instanceof FalseDimFilter`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java
        allFalse = false;
      } else {
        allFalse &= child instanceof FalseDimFilter;
      }
    }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `canVectorize &= arg.canVectorize(this)`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
      boolean canVectorize = true;
      for (Expr arg : args) {
        canVectorize &= arg.canVectorize(this);
      }
      return canVectorize;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `numeric &= argType.isNumeric()`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
          continue;
        }
        numeric &= argType.isNumeric();
      }
      return numeric;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `scalar &= argType.isPrimitive()`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
          continue;
        }
        scalar &= argType.isPrimitive();
      }
      return scalar;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `allSame &= Objects.equals(argType, currentType)`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
          currentType = argType;
        }
        allSame &= Objects.equals(argType, currentType);
      }
      return allSame;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `any |= array2.contains(check)`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      boolean any = false;
      for (Object check : array1) {
        any |= array2.contains(check);
      }
      return ExprEval.ofLongBoolean(any);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `overThreshold |= getTotalNumRowsInAppenderator() >= maxTotalRows`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorDriverAddResult.java`
#### Snippet
```java
    }
    if (maxTotalRows != null) {
      overThreshold |= getTotalNumRowsInAppenderator() >= maxTotalRows;
    }
    return overThreshold;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `atLeastOneSuccessfulRun |= currentRunSuccessful`
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  public void markRunFinished()
  {
    atLeastOneSuccessfulRun |= currentRunSuccessful;

    consecutiveSuccessfulRuns = currentRunSuccessful ? consecutiveSuccessfulRuns + 1 : 0;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `changedSinceMark |= !headUsedToBeEqualToChild`
in `processing/src/main/java/org/apache/druid/segment/MergingRowIterator.java`
#### Snippet
```java
        // If the head iterator changed, the changedSinceMark property could still be "unchanged", if there were several
        // iterators pointing to equal "time and dims", that is what the following line checks:
        changedSinceMark |= !headUsedToBeEqualToChild;
      }
      return true;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `changedSinceMark |= !headUsedToBeEqualToChild`
in `processing/src/main/java/org/apache/druid/segment/MergingRowIterator.java`
#### Snippet
```java
        // The head iterator is going to change, so the changedSinceMark property could still be "unchanged", if there
        // were several iterators pointing to equal "time and dims", that is what the following line checks:
        changedSinceMark |= !headUsedToBeEqualToChild;

        int parentOfLast = (pQueueSize - 1) >> 1;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `anySelectorChanged |= convertedDimensionSelector != sourceDimensionSelector`
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
      // encoding. E. g. it's always true for subclasses of NumericDimensionMergerV9.
      //noinspection ObjectEquality
      anySelectorChanged |= convertedDimensionSelector != sourceDimensionSelector;

      convertedMarkedDimensionSelectors[i] = mergers.get(i).convertSortedSegmentRowValuesToMergedRowValues(
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `acquireFailed |= joinClause.acquireReferences().map(closeable -> { closer.register(closeab...`
in `processing/src/main/java/org/apache/druid/segment/join/HashJoinSegment.java`
#### Snippet
```java
          break;
        }
        acquireFailed |= joinClause.acquireReferences().map(closeable -> {
          closer.register(closeable);
          return false;
        }).orElse(true);
      }
      if (acquireFailed) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `isSingleInputScalar &= capabilities.isDictionaryEncoded().isTrue()`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionPlanner.java`
#### Snippet
```java
        boolean isSingleInputScalar = capabilities.hasMultipleValues().isFalse();
        if (capabilities.is(ValueType.STRING)) {
          isSingleInputScalar &= capabilities.isDictionaryEncoded().isTrue();
          isSingleInputMappable = capabilities.isDictionaryEncoded().isTrue() &&
                                  !capabilities.hasMultipleValues().isUnknown();
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `invalidLast |= otherItr.flush(res)`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
        res.last = Math.max(this.last, other.last);
        invalidLast = thisItr.flush(res);
        invalidLast |= otherItr.flush(res);
        break;
      case XOR:
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `invalidLast |= thisItr.flush(res)`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          invalidLast = false;
        }
        invalidLast |= thisItr.flush(res);
        invalidLast |= otherItr.flush(res);
        break;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `invalidLast |= otherItr.flush(res)`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
        }
        invalidLast |= thisItr.flush(res);
        invalidLast |= otherItr.flush(res);
        break;
      case ANDNOT:
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `invalidLast |= thisItr.flush(res)`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          invalidLast = false;
        }
        invalidLast |= thisItr.flush(res);
        break;
    }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `ret &= recordOffset.compareTo(partitionEndOffset) < 0`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java

      if (runner.isEndOffsetExclusive()) {
        ret &= recordOffset.compareTo(partitionEndOffset) < 0;
      } else {
        ret &= recordOffset.compareTo(partitionEndOffset) <= 0;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `ret &= recordOffset.compareTo(partitionEndOffset) <= 0`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java
        ret &= recordOffset.compareTo(partitionEndOffset) < 0;
      } else {
        ret &= recordOffset.compareTo(partitionEndOffset) <= 0;
      }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `isLoaded &= host.getValue().getCurrent().containsKey(lookup)`
in `integration-tests/src/main/java/org/apache/druid/testing/clients/CoordinatorResourceTestClient.java`
#### Snippet
```java
    boolean isLoaded = true;
    for (Map.Entry<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> host : defaultTier.entrySet()) {
      isLoaded &= host.getValue().getCurrent().containsKey(lookup);
    }

```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `isPersistRequired |= addResult.isPersistRequired()`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
                    sequenceToCheckpoint = sequenceToUse;
                  }
                  isPersistRequired |= addResult.isPersistRequired();
                } else {
                  // Failure to allocate segment puts determinism at risk, bail out to be safe.
```

## RuleId[ruleID=ManualMinMaxCalculation]
### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `core/src/main/java/org/apache/druid/concurrent/TaskThreadPriority.java`
#### Snippet
```java
      return Thread.MAX_PRIORITY;
    }
    if (finalPriority < Thread.MIN_PRIORITY) {
      return Thread.MIN_PRIORITY;
    }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `processing/src/main/java/org/apache/druid/segment/generator/DataGenerator.java`
#### Snippet
```java
    }
    long newMillis = Math.round(currentTime);
    if (newMillis > endTime) {
      return endTime;
    } else {
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java

    // find common min / max
    float mergedMin = this.min < h.min ? this.min : h.min;
    float mergedMax = this.max > h.max ? this.max : h.max;
    long mergedCount = this.count + h.count;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    // find common min / max
    float mergedMin = this.min < h.min ? this.min : h.min;
    float mergedMax = this.max > h.max ? this.max : h.max;
    long mergedCount = this.count + h.count;
    this.min = mergedMin;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
        // [min] (p0, 0) < uj < (p, m) or
        //                      (p, m) < uj < (pB+1, 0) [max]
        quantiles[j] = ((float) uj < this.max()) ? (float) uj : this.max();
      }
    }
```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
  {
    // find common min / max
    float mergedMin = this.min < h.min ? this.min : h.min;
    float mergedMax = this.max > h.max ? this.max : h.max;
    long mergedCount = this.count + h.count;
```

### ManualMinMaxCalculation
Can be replaced with 'Math.max()' call
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    // find common min / max
    float mergedMin = this.min < h.min ? this.min : h.min;
    float mergedMax = this.max > h.max ? this.max : h.max;
    long mergedCount = this.count + h.count;

```

### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    // Distribute the remainder across the first few partitions. For example total=8 and splits=5, will give partitions
    // of sizes (starting from i=0): 2, 2, 2, 1, 1
    int start = index * chunk + (index < remainder ? index : remainder);
    int stop = start + chunk + (index < remainder ? 1 : 0);

```

## RuleId[ruleID=AbstractClassNeverImplemented]
### AbstractClassNeverImplemented
Abstract class `MultiColumnSqlAggregator` has no concrete subclass
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/MultiColumnSqlAggregator.java`
#### Snippet
```java
 * Abstraction for simple multi-column post aggregators like greatest, least
 */
public abstract class MultiColumnSqlAggregator implements SqlAggregator
{
  /**
```

### AbstractClassNeverImplemented
Abstract class `DbSegmentPublisherConfig` has no concrete subclass
in `server/src/main/java/org/apache/druid/segment/realtime/DbSegmentPublisherConfig.java`
#### Snippet
```java
import org.skife.config.Config;

public abstract class DbSegmentPublisherConfig
{
  @Config("druid.metadata.storage.tables.segments")
```

### AbstractClassNeverImplemented
Abstract class `AbstractSegment` has no concrete subclass
in `processing/src/main/java/org/apache/druid/segment/AbstractSegment.java`
#### Snippet
```java
 */
@Deprecated
public abstract class AbstractSegment implements Segment
{
  // i used to have a purpose
```

### AbstractClassNeverImplemented
Abstract class `KllSketchMergeAggregatorFactory` has no concrete subclass
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchMergeAggregatorFactory.java`
#### Snippet
```java
import javax.annotation.Nullable;

abstract class KllSketchMergeAggregatorFactory<SketchType extends KllSketch, ValueType>
    extends KllSketchAggregatorFactory<SketchType, ValueType>
{
```

### AbstractClassNeverImplemented
Abstract class `InMemoryRepositoryMixIn` has no concrete subclass
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/AvroExtensionsModule.java`
#### Snippet
```java
}

abstract class InMemoryRepositoryMixIn
{
  @JsonCreator
```

### AbstractClassNeverImplemented
Abstract class `RepositoryMixIn` has no concrete subclass
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/AvroExtensionsModule.java`
#### Snippet
```java
    @JsonSubTypes.Type(name = "in_memory_for_unit_test", value = InMemoryRepository.class)
})
abstract class RepositoryMixIn
{
}
```

### AbstractClassNeverImplemented
Abstract class `JsonUtilMixIn` has no concrete subclass
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/AvroExtensionsModule.java`
#### Snippet
```java
    @JsonSubTypes.Type(name = "gson", value = GsonJsonUtil.class)
})
abstract class JsonUtilMixIn
{
}
```

## RuleId[ruleID=BoundedWildcard]
### BoundedWildcard
Can generalize to `? extends DefaultQueryConfig`
in `sql/src/main/java/org/apache/druid/sql/guice/SqlModule.java`
#### Snippet
```java
        final QueryScheduler queryScheduler,
        final AuthConfig authConfig,
        final Supplier<DefaultQueryConfig> defaultQueryConfig,
        final SqlLifecycleManager sqlLifecycleManager
    )
```

### BoundedWildcard
Can generalize to `? extends SqlParameter`
in `sql/src/main/java/org/apache/druid/sql/http/SqlQuery.java`
#### Snippet
```java
public class SqlQuery
{
  public static List<TypedValue> getParameterList(List<SqlParameter> parameters)
  {
    return parameters.stream()
```

### BoundedWildcard
Can generalize to `? extends RelNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidUnionRel.java`
#### Snippet
```java
      final PlannerContext plannerContext,
      final RelDataType rowType,
      final List<RelNode> rels,
      final int limit
  )
```

### BoundedWildcard
Can generalize to `? extends RexLiteral`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/Windowing.java`
#### Snippet
```java
        PlannerContext context,
        Project project,
        List<RexLiteral> constants,
        WindowGroup group
    )
```

### BoundedWildcard
Can generalize to `? super String`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/Projection.java`
#### Snippet
```java
      final RowSignature inputRowSignature,
      final RexNode postAggregatorRexNode,
      final List<String> rowOrder,
      final PostAggregatorVisitor postAggregatorVisitor,
      final DruidExpression postAggregatorExpression
```

### BoundedWildcard
Can generalize to `? extends Authenticator`
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidMeta.java`
#### Snippet
```java
      final ErrorHandler errorHandler,
      final ScheduledExecutorService exec,
      final List<Authenticator> authenticators,
      final ResultFetcherFactory fetcherFactory
  )
```

### BoundedWildcard
Can generalize to `? super ExpressionAndTypeHint`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/VirtualColumnRegistry.java`
#### Snippet
```java
      String virtualColumnPrefix,
      boolean forceExpressionVirtualColumns,
      Map<ExpressionAndTypeHint, String> virtualColumnsByExpression,
      Map<String, ExpressionAndTypeHint> virtualColumnsByName
  )
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java
  private static boolean isUsingExistingAggregation(
      final Aggregation aggregation,
      final List<Aggregation> existingAggregations
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java
      final RexBuilder rexBuilder,
      final Project project,
      final List<Aggregation> existingAggregations,
      final String name,
      final AggregateCall call,
```

### BoundedWildcard
Can generalize to `? super Query`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
  private <T> QueryResponse<Object[]> mapResultSequence(
      final QueryResponse<T> results,
      final QueryToolChest<T, Query<T>> toolChest,
      final Query<T> query,
      final List<String> newFields,
```

### BoundedWildcard
Can generalize to `? extends T`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
  }

  private static <T> List<T> mapColumnList(final List<T> in, final List<Pair<Integer, String>> fieldMapping)
  {
    final List<T> out = new ArrayList<>(fieldMapping.size());
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java
  }

  private static <T> List<T> mapColumnList(final List<T> in, final List<Pair<Integer, String>> fieldMapping)
  {
    final List<T> out = new ArrayList<>(fieldMapping.size());
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
    ConditionAnalysis(
        int numLeftFields,
        List<Pair<RexNode, RexInputRef>> equalitySubConditions,
        List<RexLiteral> literalSubConditions
    )
```

### BoundedWildcard
Can generalize to `? super PartialDruidQuery`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final Class<RelType> relClass,
        final PartialDruidQuery.Stage stage,
        final BiFunction<PartialDruidQuery, RelType, PartialDruidQuery> f
    )
    {
```

### BoundedWildcard
Can generalize to `? super RelType`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final Class<RelType> relClass,
        final PartialDruidQuery.Stage stage,
        final BiFunction<PartialDruidQuery, RelType, PartialDruidQuery> f
    )
    {
```

### BoundedWildcard
Can generalize to `? extends PartialDruidQuery`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final Class<RelType> relClass,
        final PartialDruidQuery.Stage stage,
        final BiFunction<PartialDruidQuery, RelType, PartialDruidQuery> f
    )
    {
```

### BoundedWildcard
Can generalize to `? extends RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/FilterJoinExcludePushToChildRule.java`
#### Snippet
```java
   * @param isSqlCompatible
   */
  static void removeRedundantIsNotNullFilters(List<RexNode> joinFilters, JoinRelType joinType, boolean isSqlCompatible)
  {
    if (joinType != JoinRelType.INNER || !isSqlCompatible) {
```

### BoundedWildcard
Can generalize to `? extends RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/FilterJoinExcludePushToChildRule.java`
#### Snippet
```java
   * from above the join).
   */
  private static boolean classifyFilters(List<RexNode> filters,
                                        JoinRelType joinType,
                                        boolean pushInto,
```

### BoundedWildcard
Can generalize to `? super RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/FilterJoinExcludePushToChildRule.java`
#### Snippet
```java
                                        JoinRelType joinType,
                                        boolean pushInto,
                                        List<RexNode> joinFilters)
  {
    final List<RexNode> filtersToRemove = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends NamedSchema`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/RootSchemaProvider.java`
#### Snippet
```java

  @Inject
  RootSchemaProvider(Set<NamedSchema> namedSchemas)
  {
    this.namedSchemas = namedSchemas;
```

### BoundedWildcard
Can generalize to `? extends QueryResponse`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerResult.java`
#### Snippet
```java

  public PlannerResult(
      final Supplier<QueryResponse<Object[]>> resultsSupplier,
      final RelDataType rowType
  )
```

### BoundedWildcard
Can generalize to `? super Set`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/DruidPlanner.java`
#### Snippet
```java
   */
  public AuthResult authorize(
      final Function<Set<ResourceAction>, Access> authorizer,
      final Set<ResourceAction> extraActions
  )
```

### BoundedWildcard
Can generalize to `? extends Access`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/DruidPlanner.java`
#### Snippet
```java
   */
  public AuthResult authorize(
      final Function<Set<ResourceAction>, Access> authorizer,
      final Set<ResourceAction> extraActions
  )
```

### BoundedWildcard
Can generalize to `? extends ResourceAction`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/DruidPlanner.java`
#### Snippet
```java
  public AuthResult authorize(
      final Function<Set<ResourceAction>, Access> authorizer,
      final Set<ResourceAction> extraActions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
  }

  private static <T> CloseableIterator<T> wrap(Iterator<T> iterator, JsonParserIterator<T> it)
  {
    return new CloseableIterator<T>()
```

### BoundedWildcard
Can generalize to `? extends TypedValue`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerContext.java`
#### Snippet
```java
  }

  public DataContext createDataContext(final JavaTypeFactory typeFactory, List<TypedValue> parameters)
  {
    class DruidDataContext implements DataContext
```

### BoundedWildcard
Can generalize to `? extends T`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/QueryHandler.java`
#### Snippet
```java
    private final Iterator<T> it;

    EnumeratorIterator(Iterator<T> it)
    {
      this.it = it;
```

### BoundedWildcard
Can generalize to `? super DruidRel`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/QueryHandler.java`
#### Snippet
```java
   * @param flattendListAccumulator Accumulator list which needs to be appended by this method
   */
  private void flattenOutermostRel(DruidRel<?> druidRel, List<DruidRel<?>> flattendListAccumulator)
  {
    if (druidRel instanceof DruidUnionRel) {
```

### BoundedWildcard
Can generalize to `? extends ExtensionCalciteRuleProvider`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/CalciteRulesManager.java`
#### Snippet
```java
   */
  @Inject
  public CalciteRulesManager(final Set<ExtensionCalciteRuleProvider> extensionCalciteRuleProviderSet)
  {
    this.extensionCalciteRuleProviderSet = extensionCalciteRuleProviderSet;
```

### BoundedWildcard
Can generalize to `? extends FunctionParameter`
in `sql/src/main/java/org/apache/druid/sql/calcite/external/Externals.java`
#### Snippet
```java
   * Extract the data types (only) from a list of SQL parameters.
   */
  public static List<RelDataType> dataTypes(List<FunctionParameter> parameters)
  {
    return parameters
```

### BoundedWildcard
Can generalize to `? extends FunctionParameter`
in `sql/src/main/java/org/apache/druid/sql/calcite/external/Externals.java`
#### Snippet
```java
   * where we also catch invalid values, incompatible values, and so on.
   */
  public static SqlOperandTypeChecker variadic(List<FunctionParameter> params)
  {
    int min = 0;
```

### BoundedWildcard
Can generalize to `? extends FunctionParameter`
in `sql/src/main/java/org/apache/druid/sql/calcite/external/Externals.java`
#### Snippet
```java
  public static ExternalTableSpec convertArguments(
      final ExternalTableDefn tableDefn,
      final List<FunctionParameter> parameters,
      final List<Object> arguments,
      final SqlNodeList schema,
```

### BoundedWildcard
Can generalize to `? extends RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/Expressions.java`
#### Snippet
```java
      final PlannerContext plannerContext,
      final RowSignature rowSignature,
      final List<RexNode> rexNodes
  )
  {
```

### BoundedWildcard
Can generalize to `? extends RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/Expressions.java`
#### Snippet
```java
      final PlannerContext plannerContext,
      final RowSignature rowSignature,
      final List<RexNode> rexNodes,
      final PostAggregatorVisitor postAggregatorVisitor
  )
```

### BoundedWildcard
Can generalize to `? extends Function`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Filtration.java`
#### Snippet
```java
  }

  private static Filtration transform(final Filtration filtration, final List<Function<Filtration, Filtration>> fns)
  {
    Filtration retVal = filtration;
```

### BoundedWildcard
Can generalize to `? super T`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
public class RangeSets
{
  public static <T extends Comparable<T>> RangeSet<T> of(final Range<T> range)
  {
    return unionRanges(ImmutableList.of(range));
```

### BoundedWildcard
Can generalize to `? extends RangeSet`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Unions a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> unionRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    final RangeSet<T> rangeSet = TreeRangeSet.create();
```

### BoundedWildcard
Can generalize to `? extends RangeSet`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
   * Intersects a set of rangeSets, or returns null if the set is empty.
   */
  public static <T extends Comparable<T>> RangeSet<T> intersectRangeSets(final Iterable<RangeSet<T>> rangeSets)
  {
    RangeSet<T> rangeSet = null;
```

### BoundedWildcard
Can generalize to `? extends BoundValue`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
  }

  private static Range<Long> toLongRange(final Range<BoundValue> range)
  {
    if (!range.hasUpperBound() && !range.hasLowerBound()) {
```

### BoundedWildcard
Can generalize to `? super List`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final RexNode rexNode,
      final String functionName,
      final Function<List<DruidExpression>, SimpleExtraction> simpleExtractionFunction
  )
  {
```

### BoundedWildcard
Can generalize to `? extends SimpleExtraction`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final RexNode rexNode,
      final String functionName,
      final Function<List<DruidExpression>, SimpleExtraction> simpleExtractionFunction
  )
  {
```

### BoundedWildcard
Can generalize to `? super SqlCallBinding`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final boolean throwOnFailure,
      final SqlCallBinding callBinding,
      final Function<SqlCallBinding, CalciteException> exceptionMapper
  )
  {
```

### BoundedWildcard
Can generalize to `? extends CalciteException`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final boolean throwOnFailure,
      final SqlCallBinding callBinding,
      final Function<SqlCallBinding, CalciteException> exceptionMapper
  )
  {
```

### BoundedWildcard
Can generalize to `? extends RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
   */
  public static <T> T getOperandWithDefault(
      final List<RexNode> operands,
      final int i,
      final Function<RexNode, T> f,
```

### BoundedWildcard
Can generalize to `? super RexNode`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final List<RexNode> operands,
      final int i,
      final Function<RexNode, T> f,
      final T defaultReturnValue
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final List<RexNode> operands,
      final int i,
      final Function<RexNode, T> f,
      final T defaultReturnValue
  )
```

### BoundedWildcard
Can generalize to `? extends BoundValue`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java
  }

  public static BoundDimFilter toFilter(final BoundRefKey boundRefKey, final Range<BoundValue> range)
  {
    return new BoundDimFilter(
```

### BoundedWildcard
Can generalize to `? extends BoundDimFilter`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java
  }

  public static List<Range<BoundValue>> toRanges(final List<BoundDimFilter> bounds)
  {
    return ImmutableList.copyOf(
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/GroupingSqlAggregator.java`
#### Snippet
```java
      AggregateCall aggregateCall,
      Project project,
      List<Aggregation> existingAggregations,
      boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? extends DimFilter`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java
  }

  private static List<DimFilter> negateAll(final List<DimFilter> children)
  {
    final List<DimFilter> newChildren = Lists.newArrayListWithCapacity(children.size());
```

### BoundedWildcard
Can generalize to `? extends DimFilter`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/CombineAndSimplifyBounds.java`
#### Snippet
```java
   * @return simplified filters
   */
  private static DimFilter doSimplify(final List<DimFilter> children, boolean disjunction)
  {
    // Copy the list of child filters. We'll modify the copy and eventually return it.
```

### BoundedWildcard
Can generalize to `? extends FieldInfo`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/MultiColumnSqlAggregator.java`
#### Snippet
```java
      AggregateCall aggregateCall,
      ExprMacroTable macroTable,
      List<FieldInfo> fieldInfoList
  )
  {
```

### BoundedWildcard
Can generalize to `? extends InputRow`
in `core/src/main/java/org/apache/druid/data/input/HandlingInputRowIterator.java`
#### Snippet
```java
   */
  public HandlingInputRowIterator(
      CloseableIterator<InputRow> inputRowIterator,
      List<InputRowHandler> inputRowHandlers
  )
```

### BoundedWildcard
Can generalize to `? extends InputRowHandler`
in `core/src/main/java/org/apache/druid/data/input/HandlingInputRowIterator.java`
#### Snippet
```java
  public HandlingInputRowIterator(
      CloseableIterator<InputRow> inputRowIterator,
      List<InputRowHandler> inputRowHandlers
  )
  {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/data/input/MaxSizeSplitHintSpec.java`
#### Snippet
```java

  @Override
  public <T> Iterator<List<T>> split(Iterator<T> inputIterator, Function<T, InputFileAttribute> inputAttributeExtractor)
  {
    final Iterator<T> nonEmptyFileOnlyIterator = Iterators.filter(
```

### BoundedWildcard
Can generalize to `? extends InputFileAttribute`
in `core/src/main/java/org/apache/druid/data/input/MaxSizeSplitHintSpec.java`
#### Snippet
```java

  @Override
  public <T> Iterator<List<T>> split(Iterator<T> inputIterator, Function<T, InputFileAttribute> inputAttributeExtractor)
  {
    final Iterator<T> nonEmptyFileOnlyIterator = Iterators.filter(
```

### BoundedWildcard
Can generalize to `? extends DruidExpression`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java
    DruidExpression visit(DruidExpression expression);

    default List<DruidExpression> visitAll(List<DruidExpression> expressions)
    {
      List<DruidExpression> list = new ArrayList<>(expressions.size());
```

### BoundedWildcard
Can generalize to `? super SimpleExtraction`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java

  public DruidExpression map(
      final Function<SimpleExtraction, SimpleExtraction> extractionMap,
      final Function<String, String> expressionMap
  )
```

### BoundedWildcard
Can generalize to `? extends SimpleExtraction`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java

  public DruidExpression map(
      final Function<SimpleExtraction, SimpleExtraction> extractionMap,
      final Function<String, String> expressionMap
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java
  public DruidExpression map(
      final Function<SimpleExtraction, SimpleExtraction> extractionMap,
      final Function<String, String> expressionMap
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/data/input/impl/TimedShutoffInputSourceReader.java`
#### Snippet
```java
  private <T> CloseableIterator<T> decorateShutdownTimeout(
      ScheduledExecutorService exec,
      CloseableIterator<T> delegateIterator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LineIterator`
in `core/src/main/java/org/apache/druid/data/input/impl/FileIteratingFirehose.java`
#### Snippet
```java

  public FileIteratingFirehose(
      Iterator<LineIterator> lineIterators,
      StringInputRowParser parser,
      Closeable closer
```

### BoundedWildcard
Can generalize to `? extends List`
in `core/src/main/java/org/apache/druid/data/input/impl/LocalInputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<File>> withSplit(InputSplit<List<File>> split)
  {
    return new LocalInputSource(null, null, split.get());
```

### BoundedWildcard
Can generalize to `? extends TimestampSpec`
in `core/src/main/java/org/apache/druid/data/input/impl/TimestampSpec.java`
#### Snippet
```java
  //simple merge strategy on timestampSpec that checks if all are equal or else
  //returns null. this can be improved in future but is good enough for most use-cases.
  public static TimestampSpec mergeTimestampSpec(List<TimestampSpec> toMerge)
  {
    if (toMerge == null || toMerge.size() == 0) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/OpenObject.java`
#### Snippet
```java
  private final Closeable resourceCloser;

  public OpenObject(FetchedFile<T> fetchedFile) throws IOException
  {
    this(fetchedFile.getObject(), FileUtils.openInputStream(fetchedFile.getFile()), fetchedFile.getResourceCloser());
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/JsonIterator.java`
#### Snippet
```java
   */
  public JsonIterator(
      TypeReference<T> typeRef,
      InputStream inputStream,
      Closeable resourceCloser,
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/FileFetcher.java`
#### Snippet
```java
      @Nullable File temporaryDirectory,
      FetchConfig fetchConfig,
      ObjectOpenFunction<T> openObjectFunction,
      Predicate<Throwable> retryCondition
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/data/input/impl/prefetch/Fetcher.java`
#### Snippet
```java
  public Fetcher(
      CacheManager<T> cacheManager,
      List<T> objects,
      ExecutorService fetchExecutor,
      @Nullable File temporaryDirectory,
```

### BoundedWildcard
Can generalize to `? extends StringFullResponseHolder`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/StringFullResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<StringFullResponseHolder> done(ClientResponse<StringFullResponseHolder> response)
  {
    return ClientResponse.finished(response.getObj());
```

### BoundedWildcard
Can generalize to `? extends AppendableByteArrayInputStream`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<InputStream> done(ClientResponse<AppendableByteArrayInputStream> clientResponse)
  {
    final AppendableByteArrayInputStream obj = clientResponse.getObj();
```

### BoundedWildcard
Can generalize to `? extends AppendableByteArrayInputStream`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamResponseHandler.java`
#### Snippet
```java
  @Override
  public void exceptionCaught(
      ClientResponse<AppendableByteArrayInputStream> clientResponse,
      Throwable e
  )
```

### BoundedWildcard
Can generalize to `? extends StatusResponseHolder`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/StatusResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<StatusResponseHolder> done(ClientResponse<StatusResponseHolder> response)
  {
    return ClientResponse.finished(response.getObj());
```

### BoundedWildcard
Can generalize to `? extends InputStreamFullResponseHolder`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamFullResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<InputStreamFullResponseHolder> done(ClientResponse<InputStreamFullResponseHolder> clientResponse)
  {
    InputStreamFullResponseHolder holder = clientResponse.getObj();
```

### BoundedWildcard
Can generalize to `? extends InputStreamFullResponseHolder`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamFullResponseHandler.java`
#### Snippet
```java
  @Override
  public void exceptionCaught(
      ClientResponse<InputStreamFullResponseHolder> clientResponse,
      Throwable e
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/java/util/common/ISE.java`
#### Snippet
```java

  @Override
  public Exception sanitize(Function<String, String> errorMessageTransformFunction)
  {
    String transformedErrorMessage = errorMessageTransformFunction.apply(getMessage());
```

### BoundedWildcard
Can generalize to `? extends BytesFullResponseHolder`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/BytesFullResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<BytesFullResponseHolder> done(ClientResponse<BytesFullResponseHolder> response)
  {
    return ClientResponse.finished(response.getObj());
```

### BoundedWildcard
Can generalize to `? extends InputStream`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/SequenceInputStreamResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<InputStream> done(ClientResponse<InputStream> clientResponse)
  {
    synchronized (done) {
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/java/util/common/UOE.java`
#### Snippet
```java

  @Override
  public Exception sanitize(Function<String, String> errorMessageTransformFunction)
  {
    String transformedErrorMessage = errorMessageTransformFunction.apply(getMessage());
```

### BoundedWildcard
Can generalize to `? extends Either`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/ObjectOrErrorResponseHandler.java`
#### Snippet
```java
  @Override
  public void exceptionCaught(
      final ClientResponse<Either<StringFullResponseHolder, IntermediateType>> clientResponse,
      final Throwable e
  )
```

### BoundedWildcard
Can generalize to `? extends Either`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/ObjectOrErrorResponseHandler.java`
#### Snippet
```java
  @Override
  public ClientResponse<Either<StringFullResponseHolder, FinalType>> done(
      final ClientResponse<Either<StringFullResponseHolder, IntermediateType>> clientResponse
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Either`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/ObjectOrErrorResponseHandler.java`
#### Snippet
```java
  @Override
  public ClientResponse<Either<StringFullResponseHolder, IntermediateType>> handleChunk(
      final ClientResponse<Either<StringFullResponseHolder, IntermediateType>> clientResponse,
      final HttpChunk chunk,
      final long chunkNum
```

### BoundedWildcard
Can generalize to `? super K`
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
        long unusedResourceTimeoutMillis,
        K key,
        ResourceFactory<K, V> factory
    )
    {
```

### BoundedWildcard
Can generalize to `? super R`
in `core/src/main/java/org/apache/druid/java/util/common/Either.java`
#### Snippet
```java
   * @throws NullPointerException if the mapping function returns null
   */
  public <T> Either<L, T> map(final Function<R, T> fn)
  {
    if (isValue()) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/java/util/common/Either.java`
#### Snippet
```java
   * @throws NullPointerException if the mapping function returns null
   */
  public <T> Either<L, T> map(final Function<R, T> fn)
  {
    if (isValue()) {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/CloseableIterators.java`
#### Snippet
```java
  public static <T> CloseableIterator<T> mergeSorted(
      List<? extends CloseableIterator<? extends T>> iterators,
      Comparator<T> comparator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/java/util/common/CloseableIterators.java`
#### Snippet
```java
  }

  public static <T> CloseableIterator<T> wrap(Iterator<T> innerIterator, @Nullable Closeable closeable)
  {
    return new CloseableIterator<T>()
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `core/src/main/java/org/apache/druid/java/util/common/RetryUtils.java`
#### Snippet
```java
  static <T> T retry(
      final Task<T> f,
      final Predicate<Throwable> shouldRetry,
      final int quietTries,
      final int maxTries,
```

### BoundedWildcard
Can generalize to `? extends File`
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java

  private SmooshedFileMapper(
      List<File> outFiles,
      Map<String, Metadata> internalFiles
  )
```

### BoundedWildcard
Can generalize to `? extends Metadata`
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedFileMapper.java`
#### Snippet
```java
  private SmooshedFileMapper(
      List<File> outFiles,
      Map<String, Metadata> internalFiles
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/DroppingIterator.java`
#### Snippet
```java

  public DroppingIterator(
      Iterator<T> delegate,
      int numToDrop
  )
```

### BoundedWildcard
Can generalize to `? super InType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/YieldingAccumulators.java`
#### Snippet
```java
{
  public static <AccumulatedType, InType> YieldingAccumulator<AccumulatedType, InType> fromAccumulator(
      final Accumulator<AccumulatedType, InType> accumulator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/FileSmoosher.java`
#### Snippet
```java
  }

  public void add(String name, List<ByteBuffer> bufferToAdd) throws IOException
  {
    if (name.contains(",")) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MappedSequence.java`
#### Snippet
```java

  public MappedSequence(
      Sequence<T> baseSequence,
      Function<? super T, ? extends Out> fn
  )
```

### BoundedWildcard
Can generalize to `? super Out`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MappedSequence.java`
#### Snippet
```java

  @Override
  public <OutType> OutType accumulate(OutType initValue, Accumulator<OutType, Out> accumulator)
  {
    return baseSequence.accumulate(initValue, new MappingAccumulator<>(fn, accumulator));
```

### BoundedWildcard
Can generalize to `? super OutType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MappedSequence.java`
#### Snippet
```java

  @Override
  public <OutType> Yielder<OutType> toYielder(OutType initValue, YieldingAccumulator<OutType, Out> accumulator)
  {
    return baseSequence.toYielder(initValue, new MappingYieldingAccumulator<>(fn, accumulator));
```

### BoundedWildcard
Can generalize to `? super Out`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MappedSequence.java`
#### Snippet
```java

  @Override
  public <OutType> Yielder<OutType> toYielder(OutType initValue, YieldingAccumulator<OutType, Out> accumulator)
  {
    return baseSequence.toYielder(initValue, new MappingYieldingAccumulator<>(fn, accumulator));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterable<RetType> transform(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.transform(delegate, fn));
```

### BoundedWildcard
Can generalize to `? extends RetType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterable<RetType> transform(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.transform(delegate, fn));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterable<RetType> transformCat(Function<T, Iterable<RetType>> fn)
  {
    return new FunctionalIterable<>(Iterables.concat(Iterables.transform(delegate, fn)));
```

### BoundedWildcard
Can generalize to `? extends Iterable`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterable<RetType> transformCat(Function<T, Iterable<RetType>> fn)
  {
    return new FunctionalIterable<>(Iterables.concat(Iterables.transform(delegate, fn)));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterable<RetType> keep(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.filter(Iterables.transform(delegate, fn), Predicates.notNull()));
```

### BoundedWildcard
Can generalize to `? extends RetType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterable<RetType> keep(Function<T, RetType> fn)
  {
    return new FunctionalIterable<>(Iterables.filter(Iterables.transform(delegate, fn), Predicates.notNull()));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterable.java`
#### Snippet
```java
  }

  public FunctionalIterable<T> filter(Predicate<T> pred)
  {
    return new FunctionalIterable<>(Iterables.filter(delegate, pred));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FilteringAccumulator.java`
#### Snippet
```java
  private final Accumulator<OutType, T> accumulator;

  public FilteringAccumulator(Predicate<? super T> pred, Accumulator<OutType, T> accumulator)
  {
    this.pred = pred;
```

### BoundedWildcard
Can generalize to `? extends File`
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
    }

    protected void addSizedFiles(Collection<File> files)
    {
      if (files == null || files.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? super MappedType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MappingYieldingAccumulator.java`
#### Snippet
```java
  public MappingYieldingAccumulator(
      Function<? super InType, ? extends MappedType> fn,
      YieldingAccumulator<OutType, MappedType> baseAccumulator
  )
  {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterator<RetType> keep(Function<T, RetType> fn)
  {
    return new FunctionalIterator<>(Iterators.filter(Iterators.transform(delegate, fn), Predicates.notNull()));
```

### BoundedWildcard
Can generalize to `? extends RetType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterator<RetType> keep(Function<T, RetType> fn)
  {
    return new FunctionalIterator<>(Iterators.filter(Iterators.transform(delegate, fn), Predicates.notNull()));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterator<RetType> transform(Function<T, RetType> fn)
  {
    return new FunctionalIterator<>(Iterators.transform(delegate, fn));
```

### BoundedWildcard
Can generalize to `? extends RetType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterator<RetType> transform(Function<T, RetType> fn)
  {
    return new FunctionalIterator<>(Iterators.transform(delegate, fn));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public FunctionalIterator<T> filter(Predicate<T> pred)
  {
    return new FunctionalIterator<>(Iterators.filter(delegate, pred));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterator<RetType> transformCat(Function<T, Iterator<RetType>> fn)
  {
    return new FunctionalIterator<>(Iterators.concat(Iterators.transform(delegate, fn)));
```

### BoundedWildcard
Can generalize to `? extends Iterator`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FunctionalIterator.java`
#### Snippet
```java
  }

  public <RetType> FunctionalIterator<RetType> transformCat(Function<T, Iterator<RetType>> fn)
  {
    return new FunctionalIterator<>(Iterators.concat(Iterators.transform(delegate, fn)));
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/FilteringYieldingAccumulator.java`
#### Snippet
```java
  private volatile boolean didSomething = false;

  public FilteringYieldingAccumulator(Predicate<? super T> pred, YieldingAccumulator<OutType, T> accumulator)
  {
    this.pred = pred;
```

### BoundedWildcard
Can generalize to `? super MappedType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MappingAccumulator.java`
#### Snippet
```java
  private final Accumulator<OutType, MappedType> accumulator;

  MappingAccumulator(Function<? super InType, ? extends MappedType> fn, Accumulator<OutType, MappedType> accumulator)
  {
    this.fn = fn;
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/DelegatingYieldingAccumulator.java`
#### Snippet
```java

  public DelegatingYieldingAccumulator(
      YieldingAccumulator<OutType, T> delegate
  )
  {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/Sequences.java`
#### Snippet
```java
   * The sort is stable, meaning that equal elements (as determined by the comparator) will not be reordered.
   */
  public static <T> Sequence<T> sort(final Sequence<T> sequence, final Comparator<T> comparator)
  {
    List<T> seqList = sequence.toList();
```

### BoundedWildcard
Can generalize to `? extends Sequence`
in `core/src/main/java/org/apache/druid/java/util/common/guava/Sequences.java`
#### Snippet
```java
  }

  public static <T> Sequence<T> concat(Iterable<Sequence<T>> sequences)
  {
    return concat(Sequences.simple(sequences));
```

### BoundedWildcard
Can generalize to `? super OutType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/LazySequence.java`
#### Snippet
```java

  @Override
  public <OutType> Yielder<OutType> toYielder(OutType initValue, YieldingAccumulator<OutType, T> accumulator)
  {
    return provider.get().toYielder(initValue, accumulator);
```

### BoundedWildcard
Can generalize to `? extends Sequence`
in `core/src/main/java/org/apache/druid/java/util/common/guava/LazySequence.java`
#### Snippet
```java

  public LazySequence(
      Supplier<Sequence<T>> provider
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/TopNSequence.java`
#### Snippet
```java
{
  public TopNSequence(
      final Sequence<T> input,
      final Comparator<T> ordering,
      final int limit
```

### BoundedWildcard
Can generalize to `? extends Yielder`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MergeSequence.java`
#### Snippet
```java
  }

  private static <T> void closeAll(final PriorityQueue<Yielder<T>> pQueue) throws IOException
  {
    Closer closer = Closer.create();
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MergeSequence.java`
#### Snippet
```java
      final PriorityQueue<Yielder<T>> pQueue,
      OutType initVal,
      final YieldingAccumulator<OutType, T> accumulator
  )
  {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/BaseSequence.java`
#### Snippet
```java
  private <OutType> Yielder<OutType> makeYielder(
      final OutType retValue,
      final YieldingAccumulator<OutType, T> accumulator,
      final IterType iter
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/guava/BaseSequence.java`
#### Snippet
```java

  @Override
  public <OutType> OutType accumulate(final OutType initValue, final Accumulator<OutType, T> fn)
  {
    IterType iterator = maker.make();
```

### BoundedWildcard
Can generalize to `? extends Type1`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java

  public TrinaryTransformIterator(
      Iterator<Type1> iterator1,
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
```

### BoundedWildcard
Can generalize to `? extends Type2`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java
  public TrinaryTransformIterator(
      Iterator<Type1> iterator1,
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
      TrinaryFn<Type1, Type2, Type3, RetType> trinaryFn
```

### BoundedWildcard
Can generalize to `? extends Type3`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java
      Iterator<Type1> iterator1,
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
      TrinaryFn<Type1, Type2, Type3, RetType> trinaryFn
  )
```

### BoundedWildcard
Can generalize to `? super Type1`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
      TrinaryFn<Type1, Type2, Type3, RetType> trinaryFn
  )
  {
```

### BoundedWildcard
Can generalize to `? super Type2`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
      TrinaryFn<Type1, Type2, Type3, RetType> trinaryFn
  )
  {
```

### BoundedWildcard
Can generalize to `? super Type3`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
      TrinaryFn<Type1, Type2, Type3, RetType> trinaryFn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends RetType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/nary/TrinaryTransformIterator.java`
#### Snippet
```java
      Iterator<Type2> iterator2,
      Iterator<Type3> iterator3,
      TrinaryFn<Type1, Type2, Type3, RetType> trinaryFn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/CloseableIteratorWithMetadata.java`
#### Snippet
```java
   * for the instance is guaranteed to return an empty map
   */
  static <T> CloseableIteratorWithMetadata<T> withEmptyMetadata(CloseableIterator<T> delegate)
  {
    return new CloseableIteratorWithMetadata<T>()
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/java/util/common/logger/Logger.java`
#### Snippet
```java
  }

  private void logException(BiConsumer<String, Throwable> fn, Throwable t, String message)
  {
    if (stackTraces || log.isDebugEnabled()) {
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `core/src/main/java/org/apache/druid/java/util/common/logger/Logger.java`
#### Snippet
```java
  }

  private void logException(BiConsumer<String, Throwable> fn, Throwable t, String message)
  {
    if (stackTraces || log.isDebugEnabled()) {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `core/src/main/java/org/apache/druid/java/util/common/logger/Logger.java`
#### Snippet
```java
  static void logSegments(
      Logger.LogFunction logger,
      @Nullable final Collection<DataSegment> segments,
      @Nullable String preamble
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/CloseableIterator.java`
#### Snippet
```java
  }

  default <R> CloseableIterator<R> flatMap(Function<T, CloseableIterator<R>> function)
  {
    final CloseableIterator<T> delegate = this;
```

### BoundedWildcard
Can generalize to `? extends CloseableIterator`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/CloseableIterator.java`
#### Snippet
```java
  }

  default <R> CloseableIterator<R> flatMap(Function<T, CloseableIterator<R>> function)
  {
    final CloseableIterator<T> delegate = this;
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/CloseableIterator.java`
#### Snippet
```java
public interface CloseableIterator<T> extends Iterator<T>, Closeable
{
  default <R> CloseableIterator<R> map(Function<T, R> mapFunction)
  {
    final CloseableIterator<T> delegate = this;
```

### BoundedWildcard
Can generalize to `? extends R`
in `core/src/main/java/org/apache/druid/java/util/common/parsers/CloseableIterator.java`
#### Snippet
```java
public interface CloseableIterator<T> extends Iterator<T>, Closeable
{
  default <R> CloseableIterator<R> map(Function<T, R> mapFunction)
  {
    final CloseableIterator<T> delegate = this;
```

### BoundedWildcard
Can generalize to `? extends Granularity`
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularity.java`
#### Snippet
```java
   * returns null. this can be improved in future but is good enough for most use-cases.
   */
  public static Granularity mergeGranularities(List<Granularity> toMerge)
  {
    if (toMerge == null || toMerge.size() == 0) {
```

### BoundedWildcard
Can generalize to `? super URI`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitter.java`
#### Snippet
```java
  }

  public void forEachEmitter(BiConsumer<URI, HttpPostEmitter> action)
  {
    emitters.forEach(action);
```

### BoundedWildcard
Can generalize to `? super HttpPostEmitter`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitter.java`
#### Snippet
```java
  }

  public void forEachEmitter(BiConsumer<URI, HttpPostEmitter> action)
  {
    emitters.forEach(action);
```

### BoundedWildcard
Can generalize to `? extends Monitor`
in `core/src/main/java/org/apache/druid/java/util/metrics/CompoundMonitor.java`
#### Snippet
```java
  private final List<Monitor> monitors;
  
  public CompoundMonitor(List<Monitor> monitors)
  {
    this.monitors = monitors;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeConversion.java`
#### Snippet
```java
   * output expression if the corresponding case matching expression evaluates to true)
   */
  public static ExpressionType conditional(Expr.InputBindingInspector inspector, List<Expr> args)
  {
    ExpressionType type = null;
```

### BoundedWildcard
Can generalize to `? extends List`
in `core/src/main/java/org/apache/druid/math/expr/CartesianList.java`
#### Snippet
```java
  }

  CartesianList(List<List<? extends E>> axes)
  {
    this.axes = axes;
```

### BoundedWildcard
Can generalize to `? extends ResultBatch`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
   */
  static <T> Sequence<T> makeOutputSequenceForQueue(
      BlockingQueue<ResultBatch<T>> queue,
      boolean hasTimeout,
      long timeoutAtNanos,
```

### BoundedWildcard
Can generalize to `? extends MergeCombineActionMetricsAccumulator`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    }

    void setPartitions(List<MergeCombineActionMetricsAccumulator> partitionMetrics)
    {
      this.partitionMetrics = partitionMetrics;
```

### BoundedWildcard
Can generalize to `? super E`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    volatile E item = null;

    QueuePusher(BlockingQueue<E> q, boolean hasTimeout, long timeoutAtNanos)
    {
      this.queue = q;
```

### BoundedWildcard
Can generalize to `? super MergeCombineMetrics`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
      int batchSize,
      int targetTimeMillis,
      Consumer<MergeCombineMetrics> reporter
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ResultBatch`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java

    BlockingQueueuBatchedResultsCursor(
        BlockingQueue<ResultBatch<E>> blockingQueue,
        Ordering<E> ordering,
        boolean hasTimeout,
```

### BoundedWildcard
Can generalize to `? super E`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    volatile ResultBatch<E> resultBatch;

    BatchedResultsCursor(Ordering<E> ordering)
    {
      this.ordering = ordering;
```

### BoundedWildcard
Can generalize to `? extends BatchedResultsCursor`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
  }

  private static <T> void closeAllCursors(final Collection<BatchedResultsCursor<T>> cursors)
  {
    Closer closer = Closer.create();
```

### BoundedWildcard
Can generalize to `? super OutType`
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java

  @Override
  public <OutType> Yielder<OutType> toYielder(OutType initValue, YieldingAccumulator<OutType, T> accumulator)
  {
    if (inputSequences.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
  }

  public static Expr.ObjectBinding forFunction(final Function<String, ?> valueFn)
  {
    return new Expr.ObjectBinding()
```

### BoundedWildcard
Can generalize to `? extends ExpressionType`
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
   * Create an {@link Expr.InputBindingInspector} backed by a map of binding identifiers to their {@link ExprType}
   */
  public static Expr.InputBindingInspector inspectorFromTypeMap(final Map<String, ExpressionType> types)
  {
    return new Expr.InputBindingInspector()
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
  }

  public static Expr.ObjectBinding singleProvider(ExpressionType type, final Function<String, ?> valueFn)
  {
    return new Expr.ObjectBinding()
```

### BoundedWildcard
Can generalize to `? extends Pair`>
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
   * {@link Expr}
   */
  public static Expr.ObjectBinding withTypedSuppliers(final Map<String, Pair<ExpressionType, Supplier<Object>>> bindings)
  {
    return new Expr.ObjectBinding()
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Evals.java`
#### Snippet
```java
  }

  public static boolean isAllConstants(List<Expr> exprs)
  {
    for (Expr expr : exprs) {
```

### BoundedWildcard
Can generalize to `? extends IdentifierExpr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
    // Use this instead of streams for better performance
    private static Set<String> map(
        Set<IdentifierExpr> variables,
        java.util.function.Function<IdentifierExpr, String> mapper
    )
```

### BoundedWildcard
Can generalize to `? super IdentifierExpr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
    private static Set<String> map(
        Set<IdentifierExpr> variables,
        java.util.function.Function<IdentifierExpr, String> mapper
    )
    {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     * Check if every provided {@link Expr} computes {@link Expr#canVectorize(InputBindingInspector)} to a value of true
     */
    default boolean canVectorize(List<Expr> args)
    {
      boolean canVectorize = true;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     * @see #getOutputType(InputBindingInspector)
     */
    default boolean areNumeric(List<Expr> args)
    {
      boolean numeric = true;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     * else they are ignored.
     */
    BindingAnalysis withArrayArguments(Set<Expr> arrayArguments)
    {
      Set<IdentifierExpr> arrayIdentifiers = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     * @see #getOutputType(InputBindingInspector)
     */
    default boolean areScalar(List<Expr> args)
    {
      boolean scalar = true;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
    Expr visit(Expr expr);

    default List<Expr> visitAll(List<Expr> exprs)
    {
      final List<Expr> newExprs = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     * @see #getOutputType(InputBindingInspector)
     */
    default boolean areSameTypes(List<Expr> args)
    {
      ExpressionType currentType = null;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Expr.java`
#### Snippet
```java
     * else they are ignored.
     */
    public BindingAnalysis withScalarArguments(Set<Expr> scalarArguments)
    {
      Set<IdentifierExpr> moreScalars = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorStringProcessors.java`
#### Snippet
```java
  }

  public static <T> ExprVectorProcessor<T> concat(Expr.VectorInputBindingInspector inspector, List<Expr> inputs)
  {
    final ExprVectorProcessor<Object[]>[] inputProcessors = new ExprVectorProcessor[inputs.size()];
```

### BoundedWildcard
Can generalize to `? extends ExprVectorProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorProcessors.java`
#### Snippet
```java
      Expr left,
      Expr right,
      Supplier<ExprVectorProcessor<?>> longProcessor,
      Supplier<ExprVectorProcessor<?>> doubleProcessor,
      Supplier<ExprVectorProcessor<?>> stringProcessor
```

### BoundedWildcard
Can generalize to `? extends ExprVectorProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorProcessors.java`
#### Snippet
```java
      Expr right,
      Supplier<ExprVectorProcessor<?>> longProcessor,
      Supplier<ExprVectorProcessor<?>> doubleProcessor,
      Supplier<ExprVectorProcessor<?>> stringProcessor
  )
```

### BoundedWildcard
Can generalize to `? extends ExprVectorProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorProcessors.java`
#### Snippet
```java
      Supplier<ExprVectorProcessor<?>> longProcessor,
      Supplier<ExprVectorProcessor<?>> doubleProcessor,
      Supplier<ExprVectorProcessor<?>> stringProcessor
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    private final List<Expr> args;

    public LambdaInputBindingInspector(Expr.InputBindingInspector inspector, LambdaExpr expr, List<Expr> args)
    {
      this.inspector = inspector;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public ExprEval apply(LambdaExpr lambdaExpr, List<Expr> argsExpr, Expr.ObjectBinding bindings)
    {
      List<List<Object>> arrayInputs = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends List`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    CartesianFoldLambdaBinding(
        @Nullable ExpressionType arrayElementType,
        List<List<Object>> inputs,
        ExpressionType accumulatorType,
        Object accumulatorValue,
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, LambdaExpr expr, List<Expr> args)
    {
      // output type is accumulator type, which is last argument
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      if (args.size() == 1) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      // accumulator argument cannot be inferred, so ignore it until we think of something better to do
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.of(args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      // accumulator argument cannot currently be inferred, so ignore it until we think of something better to do
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, LambdaExpr expr, List<Expr> args)
    {
      // output type is input array type
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public ExprEval apply(LambdaExpr lambdaExpr, List<Expr> argsExpr, Expr.ObjectBinding bindings)
    {
      Expr arrayExpr = argsExpr.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public ExprEval apply(LambdaExpr lambdaExpr, List<Expr> argsExpr, Expr.ObjectBinding bindings)
    {
      Expr arrayExpr = argsExpr.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.of(args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
  {
    @Override
    public ExprEval apply(LambdaExpr lambdaExpr, List<Expr> argsExpr, Expr.ObjectBinding bindings)
    {
      Expr arrayExpr = argsExpr.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public ExprEval apply(LambdaExpr lambdaExpr, List<Expr> argsExpr, Expr.ObjectBinding bindings)
    {
      List<List<Object>> arrayInputs = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

    @Override
    public ExprEval apply(LambdaExpr lambdaExpr, List<Expr> argsExpr, Expr.ObjectBinding bindings)
    {
      Expr arrayExpr = argsExpr.get(0);
```

### BoundedWildcard
Can generalize to `? extends List`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    private int index = 0;

    CartesianMapLambdaBinding(ExpressionType arrayElementType, List<List<Object>> inputs, LambdaExpr expr, Expr.ObjectBinding bindings)
    {
      this.lambdaInputs = inputs;
```

### BoundedWildcard
Can generalize to `? extends LongOutObjectsInFunctionVectorProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
      Expr left,
      Expr right,
      Supplier<LongOutObjectsInFunctionVectorProcessor> longOutStringsInFunctionVectorProcessor,
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<LongOutLongDoubleInFunctionVectorValueProcessor> longOutLongDoubleInProcessor,
```

### BoundedWildcard
Can generalize to `? extends LongOutObjectsInFunctionVectorProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
      Expr left,
      Expr right,
      Supplier<LongOutObjectsInFunctionVectorProcessor> longOutStringsInFunctionVectorProcessor,
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/guice/JsonConfigurator.java`
#### Snippet
```java
      String property,
      Object value,
      Map<String, Object> targetMap
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/guice/JacksonConfigProvider.java`
#### Snippet
```java
  private JacksonConfigManager configManager;

  JacksonConfigProvider(String key, Class<T> clazz, TypeReference<T> typeRef, T defaultVal)
  {
    this.key = key;
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/query/QueryException.java`
#### Snippet
```java

  @Override
  public QueryException sanitize(@NotNull Function<String, String> errorMessageTransformFunction)
  {
    return new QueryException(errorCode, errorMessageTransformFunction.apply(getMessage()), null, null);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/utils/Streams.java`
#### Snippet
```java
public final class Streams
{
  public static <T> Stream<T> sequentialStreamFrom(Iterator<T> iterator)
  {
    final Spliterator<T> spliterator = Spliterators.spliteratorUnknownSize(iterator, Spliterator.DISTINCT);
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `core/src/main/java/org/apache/druid/utils/CloseableUtils.java`
#### Snippet
```java
  public static void closeAndSuppressExceptions(
      @Nullable final Closeable closeable,
      final Consumer<Throwable> chomper
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * Subtract one set from another: {@code C = A - B}.
   */
  public static <T> Set<T> subtract(Set<T> left, Set<T> right)
  {
    Set<T> result = new HashSet<>(left);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * Intersection of two sets: {@code C = A ∩ B}.
   */
  public static <T> Set<T> intersect(Set<T> left, Set<T> right)
  {
    Set<T> result = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends K`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * @throws ISE if key collisions occur while applying specified keyMapper
   */
  public static <K, V, K2> Map<K2, V> mapKeys(Map<K, V> map, Function<K, K2> keyMapper)
  {
    final Map<K2, V> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? extends V`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * @throws ISE if key collisions occur while applying specified keyMapper
   */
  public static <K, V, K2> Map<K2, V> mapKeys(Map<K, V> map, Function<K, K2> keyMapper)
  {
    final Map<K2, V> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? super K`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * @throws ISE if key collisions occur while applying specified keyMapper
   */
  public static <K, V, K2> Map<K2, V> mapKeys(Map<K, V> map, Function<K, K2> keyMapper)
  {
    final Map<K2, V> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? extends K2`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * @throws ISE if key collisions occur while applying specified keyMapper
   */
  public static <K, V, K2> Map<K2, V> mapKeys(Map<K, V> map, Function<K, K2> keyMapper)
  {
    final Map<K2, V> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? extends K`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * in the source map and returns a new {@link HashMap}, while {@link Maps#transformValues} returns a lazy map view.
   */
  public static <K, V, V2> Map<K, V2> mapValues(Map<K, V> map, Function<V, V2> valueMapper)
  {
    final Map<K, V2> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? extends V`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * in the source map and returns a new {@link HashMap}, while {@link Maps#transformValues} returns a lazy map view.
   */
  public static <K, V, V2> Map<K, V2> mapValues(Map<K, V> map, Function<V, V2> valueMapper)
  {
    final Map<K, V2> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? super V`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * in the source map and returns a new {@link HashMap}, while {@link Maps#transformValues} returns a lazy map view.
   */
  public static <K, V, V2> Map<K, V2> mapValues(Map<K, V> map, Function<V, V2> valueMapper)
  {
    final Map<K, V2> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? extends V2`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * in the source map and returns a new {@link HashMap}, while {@link Maps#transformValues} returns a lazy map view.
   */
  public static <K, V, V2> Map<K, V2> mapValues(Map<K, V> map, Function<V, V2> valueMapper)
  {
    final Map<K, V2> result = Maps.newHashMapWithExpectedSize(map.size());
```

### BoundedWildcard
Can generalize to `? extends E`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
  }

  public static <E> TreeSet<E> newTreeSet(Comparator<? super E> comparator, Iterable<E> elements)
  {
    TreeSet<E> set = new TreeSet<>(comparator);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * Intersection of two sets: {@code C = A ∪ B}.
   */
  public static <T> Set<T> union(Set<T> left, Set<T> right)
  {
    Set<T> result = new HashSet<>(left);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * Intersection of two sets: {@code C = A ∪ B}.
   */
  public static <T> Set<T> union(Set<T> left, Set<T> right)
  {
    Set<T> result = new HashSet<>(left);
```

### BoundedWildcard
Can generalize to `? extends Stream`
in `core/src/main/java/org/apache/druid/utils/CollectionUtils.java`
#### Snippet
```java
   * collection delegates to {@link Stream#iterator()} on the stream returned from the supplier.
   */
  public static <E> Collection<E> createLazyCollectionFromStream(Supplier<Stream<E>> sequentialStreamSupplier, int size)
  {
    return new AbstractCollection<E>()
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/guice/ConditionalMultibind.java`
#### Snippet
```java
  }

  public boolean matchCondition(String property, @Nullable String defaultValue, Predicate<String> condition)
  {
    final String value = properties.getProperty(property, defaultValue);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/guice/ConditionalMultibind.java`
#### Snippet
```java
      String property,
      Predicate<String> condition,
      TypeLiteral<T> target
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/guice/ConditionalMultibind.java`
#### Snippet
```java
   * @return self to support a continuous syntax for adding more conditional bindings.
   */
  public ConditionalMultibind<T> addBinding(TypeLiteral<T> target)
  {
    multibinder.addBinding().to(target);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/common/guava/DSuppliers.java`
#### Snippet
```java
public class DSuppliers
{
  public static <T> Supplier<T> of(final AtomicReference<T> ref)
  {
    return new Supplier<T>()
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * baggage is not closed successfully, the returned future will resolve to an exception.
   */
  public static <T> ListenableFuture<T> futureWithBaggage(final ListenableFuture<T> future, final Closeable baggage)
  {
    final SettableFuture<T> retVal = SettableFuture.create();
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * {@code Futures.transform(future, (Function<? super T, ?>) v -> ...)}
   */
  public static <T, R> ListenableFuture<R> transformAsync(final ListenableFuture<T> future, final AsyncFunction<T, R> fn)
  {
    return Futures.transform(future, fn);
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * {@code Futures.transform(future, (Function<? super T, ?>) v -> ...)}
   */
  public static <T, R> ListenableFuture<R> transformAsync(final ListenableFuture<T> future, final AsyncFunction<T, R> fn)
  {
    return Futures.transform(future, fn);
```

### BoundedWildcard
Can generalize to `? extends R`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * {@code Futures.transform(future, (Function<? super T, ?>) v -> ...)}
   */
  public static <T, R> ListenableFuture<R> transformAsync(final ListenableFuture<T> future, final AsyncFunction<T, R> fn)
  {
    return Futures.transform(future, fn);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * {@code Futures.transform(future, (Function<? super T, ?>) v -> ...)}
   */
  public static <T, R> ListenableFuture<R> transform(final ListenableFuture<T> future, final Function<T, R> fn)
  {
    return Futures.transform(future, fn::apply);
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * {@code Futures.transform(future, (Function<? super T, ?>) v -> ...)}
   */
  public static <T, R> ListenableFuture<R> transform(final ListenableFuture<T> future, final Function<T, R> fn)
  {
    return Futures.transform(future, fn::apply);
```

### BoundedWildcard
Can generalize to `? extends R`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * {@code Futures.transform(future, (Function<? super T, ?>) v -> ...)}
   */
  public static <T, R> ListenableFuture<R> transform(final ListenableFuture<T> future, final Function<T, R> fn)
  {
    return Futures.transform(future, fn::apply);
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
   * Like {@link Futures#successfulAsList}, but returns {@link Either} instead of using {@code null} in case of error.
   */
  public static <T> ListenableFuture<List<Either<Throwable, T>>> coalesce(final List<ListenableFuture<T>> futures)
  {
    return transform(
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/common/guava/CombiningSequence.java`
#### Snippet
```java

    CombiningYieldingAccumulator(
        Comparator<T> ordering,
        BinaryOperator<T> mergeFn,
        YieldingAccumulator<OutType, T> accumulator
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/common/guava/CombiningSequence.java`
#### Snippet
```java
        Comparator<T> ordering,
        BinaryOperator<T> mergeFn,
        YieldingAccumulator<OutType, T> accumulator
    )
    {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/common/guava/CombiningSequence.java`
#### Snippet
```java
    private volatile boolean accumulatedSomething = false;

    CombiningAccumulator(OutType retVal, Accumulator<OutType, T> accumulator)
    {
      this.retVal = retVal;
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/common/config/JacksonConfigManager.java`
#### Snippet
```java
  }

  public <T> AtomicReference<T> watch(String key, TypeReference<T> clazz, T defaultVal)
  {
    return configManager.watchConfig(key, create(clazz, defaultVal));
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/guice/ConfigProvider.java`
#### Snippet
```java

  public ConfigProvider(
      Class<T> clazz,
      Map<String, String> replacements
  )
```

### BoundedWildcard
Can generalize to `? extends Property`
in `core/src/main/java/org/apache/druid/indexer/Checks.java`
#### Snippet
```java
public final class Checks
{
  public static <T> Property<T> checkOneNotNullOrEmpty(List<Property<T>> properties)
  {
    Property<T> nonNullProperty = null;
```

### BoundedWildcard
Can generalize to `? extends TaskIdentifier`
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
   * @return corresponding TaskStatusPlus
   */
  public static TaskStatusPlus fromTaskIdentifierInfo(TaskInfo<TaskIdentifier, TaskStatus> taskIdentifierInfo)
  {
    TaskStatus status = taskIdentifierInfo.getStatus();
```

### BoundedWildcard
Can generalize to `? extends TaskStatus`
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
   * @return corresponding TaskStatusPlus
   */
  public static TaskStatusPlus fromTaskIdentifierInfo(TaskInfo<TaskIdentifier, TaskStatus> taskIdentifierInfo)
  {
    TaskStatus status = taskIdentifierInfo.getStatus();
```

### BoundedWildcard
Can generalize to `? extends ConfigManagerConfig`
in `core/src/main/java/org/apache/druid/common/config/ConfigManager.java`
#### Snippet
```java

  @Inject
  public ConfigManager(MetadataStorageConnector dbConnector, Supplier<MetadataStorageTablesConfig> dbTables, Supplier<ConfigManagerConfig> config)
  {
    this.dbConnector = dbConnector;
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/common/config/ConfigManager.java`
#### Snippet
```java
    ConfigHolder(
        byte[] rawBytes,
        ConfigSerde<T> serde
    )
    {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
  }

  public static Map<Interval, List<DataSegment>> groupSegmentsByInterval(Collection<DataSegment> segments)
  {
    final Map<Interval, List<DataSegment>> intervalToSegments = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
   */
  @Nullable
  public static Object commaSeparatedIdentifiers(@Nullable final Collection<DataSegment> segments)
  {
    if (segments == null || segments.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `core/src/main/java/org/apache/druid/segment/SegmentUtils.java`
#### Snippet
```java
   * Hash the IDs of the given segments based on SHA-256 algorithm.
   */
  public static String hashIds(List<DataSegment> segments)
  {
    Collections.sort(segments);
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/guice/JsonConfigProvider.java`
#### Snippet
```java
      Class<T> clazz,
      Class<? extends T> defaultClass,
      Key<T> instanceKey,
      Key<Supplier<T>> supplierKey
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/guice/JsonConfigProvider.java`
#### Snippet
```java
      String propertyBase,
      Class<T> clazz,
      Key<T> instanceKey,
      Key<Supplier<T>> supplierKey
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/segment/column/Types.java`
#### Snippet
```java
   */
  public static <T extends TypeDescriptor> boolean isNullOrAnyOf(
      @Nullable TypeSignature<T> typeSignature,
      T... typeDescriptors
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/segment/column/Types.java`
#### Snippet
```java
   */
  public static <T extends TypeDescriptor> boolean either(
      @Nullable TypeSignature<T> typeSignature1,
      @Nullable TypeSignature<T> typeSignature2,
      T typeDescriptor
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/segment/column/Types.java`
#### Snippet
```java
  public static <T extends TypeDescriptor> boolean either(
      @Nullable TypeSignature<T> typeSignature1,
      @Nullable TypeSignature<T> typeSignature2,
      T typeDescriptor
  )
```

### BoundedWildcard
Can generalize to `? extends LongOutLongsInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr left,
      Expr right,
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
```

### BoundedWildcard
Can generalize to `? extends DoubleOutLongDoubleInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr right,
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
      Supplier<DoubleOutDoublesInFunctionVectorValueProcessor> doubleOutDoublesInProcessor
```

### BoundedWildcard
Can generalize to `? extends DoubleOutDoubleLongInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
      Supplier<DoubleOutDoublesInFunctionVectorValueProcessor> doubleOutDoublesInProcessor
  )
```

### BoundedWildcard
Can generalize to `? extends DoubleOutDoublesInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
      Supplier<DoubleOutDoublesInFunctionVectorValueProcessor> doubleOutDoublesInProcessor
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DoubleOutLongInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr.VectorInputBindingInspector inspector,
      Expr arg,
      Supplier<DoubleOutLongInFunctionVectorValueProcessor> doubleOutLongInSupplier,
      Supplier<DoubleOutDoubleInFunctionVectorValueProcessor> doubleOutDoubleInSupplier
  )
```

### BoundedWildcard
Can generalize to `? extends DoubleOutDoubleInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr arg,
      Supplier<DoubleOutLongInFunctionVectorValueProcessor> doubleOutLongInSupplier,
      Supplier<DoubleOutDoubleInFunctionVectorValueProcessor> doubleOutDoubleInSupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LongOutLongInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr.VectorInputBindingInspector inspector,
      Expr arg,
      Supplier<LongOutLongInFunctionVectorValueProcessor> longOutLongInSupplier,
      Supplier<LongOutDoubleInFunctionVectorValueProcessor> longOutDoubleInSupplier
  )
```

### BoundedWildcard
Can generalize to `? extends LongOutDoubleInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr arg,
      Supplier<LongOutLongInFunctionVectorValueProcessor> longOutLongInSupplier,
      Supplier<LongOutDoubleInFunctionVectorValueProcessor> longOutDoubleInSupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LongOutLongsInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr left,
      Expr right,
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<LongOutLongDoubleInFunctionVectorValueProcessor> longOutLongDoubleInProcessor,
      Supplier<LongOutDoubleLongInFunctionVectorValueProcessor> longOutDoubleLongInProcessor,
```

### BoundedWildcard
Can generalize to `? extends LongOutLongDoubleInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr right,
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<LongOutLongDoubleInFunctionVectorValueProcessor> longOutLongDoubleInProcessor,
      Supplier<LongOutDoubleLongInFunctionVectorValueProcessor> longOutDoubleLongInProcessor,
      Supplier<LongOutDoublesInFunctionVectorValueProcessor> longOutDoublesInProcessor
```

### BoundedWildcard
Can generalize to `? extends LongOutDoubleLongInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Supplier<LongOutLongsInFunctionVectorValueProcessor> longOutLongsInProcessor,
      Supplier<LongOutLongDoubleInFunctionVectorValueProcessor> longOutLongDoubleInProcessor,
      Supplier<LongOutDoubleLongInFunctionVectorValueProcessor> longOutDoubleLongInProcessor,
      Supplier<LongOutDoublesInFunctionVectorValueProcessor> longOutDoublesInProcessor
  )
```

### BoundedWildcard
Can generalize to `? extends LongOutDoublesInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Supplier<LongOutLongDoubleInFunctionVectorValueProcessor> longOutLongDoubleInProcessor,
      Supplier<LongOutDoubleLongInFunctionVectorValueProcessor> longOutDoubleLongInProcessor,
      Supplier<LongOutDoublesInFunctionVectorValueProcessor> longOutDoublesInProcessor
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LongOutLongInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr.VectorInputBindingInspector inspector,
      Expr arg,
      Supplier<LongOutLongInFunctionVectorValueProcessor> longOutLongInSupplier,
      Supplier<DoubleOutDoubleInFunctionVectorValueProcessor> doubleOutDoubleInSupplier
  )
```

### BoundedWildcard
Can generalize to `? extends DoubleOutDoubleInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr arg,
      Supplier<LongOutLongInFunctionVectorValueProcessor> longOutLongInSupplier,
      Supplier<DoubleOutDoubleInFunctionVectorValueProcessor> doubleOutDoubleInSupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DoubleOutLongsInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr left,
      Expr right,
      Supplier<DoubleOutLongsInFunctionVectorValueProcessor> doubleOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
```

### BoundedWildcard
Can generalize to `? extends DoubleOutLongDoubleInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Expr right,
      Supplier<DoubleOutLongsInFunctionVectorValueProcessor> doubleOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
      Supplier<DoubleOutDoublesInFunctionVectorValueProcessor> doubleOutDoublesInProcessor
```

### BoundedWildcard
Can generalize to `? extends DoubleOutDoubleLongInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Supplier<DoubleOutLongsInFunctionVectorValueProcessor> doubleOutLongsInProcessor,
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
      Supplier<DoubleOutDoublesInFunctionVectorValueProcessor> doubleOutDoublesInProcessor
  )
```

### BoundedWildcard
Can generalize to `? extends DoubleOutDoublesInFunctionVectorValueProcessor`
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java`
#### Snippet
```java
      Supplier<DoubleOutLongDoubleInFunctionVectorValueProcessor> doubleOutLongDoubleInProcessor,
      Supplier<DoubleOutDoubleLongInFunctionVectorValueProcessor> doubleOutDoubleLongInProcessor,
      Supplier<DoubleOutDoublesInFunctionVectorValueProcessor> doubleOutDoublesInProcessor
  )
  {
```

### BoundedWildcard
Can generalize to `? extends RangeSet`
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    // partitionFunction should be used instead of HashPartitioner at query time.
```

### BoundedWildcard
Can generalize to `? extends Set`
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java
  private boolean chunkPossibleInDomain(
      HashPartitionFunction hashPartitionFunction,
      Map<String, Set<String>> domainSet,
      Map<String, String> partitionDimensionsValues
  )
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.copySign(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.atan2(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.sinh(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.abs(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    }

    Expr getScalarArgument(List<Expr> args)
    {
      return args.get(1);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      ExprEval x = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseConvertDoubleToLongBits(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.cos(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.asin(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval expr = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.of(args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(final List<Expr> args, final Expr.ObjectBinding bindings)
    {
      for (int i = 0; i < args.size(); i += 2) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseConvertLongBitsToDouble(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.log10(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return ExpressionTypeConversion.function(
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.hypot(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval arrayExpr1 = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.log(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      ExpressionType arrayType = args.get(0).getOutputType(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String arg = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.cot(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.getExponent(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorProcessors.nvl(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      Expr expr1 = args.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getScalarInputs(List<Expr> args)
    {
      if (args.get(1).isLiteral()) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.nextAfter(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String arg = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      // can only know cast output type if cast to argument is constant
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.log1p(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseShiftRight(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.tan(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.doublePower(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getScalarInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      ExprEval value = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.nextUp(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return ExpressionTypeConversion.integerMathFunction(
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return ExpressionType.elementType(args.get(0).getOutputType(inspector));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval valueParam = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseXor(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      // this is copied from 'BaseMapFunction.applyMap', need to find a better way to consolidate, or construct arrays,
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.ceil(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.max(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseComplement(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getScalarInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      if (args.size() == 1 || args.get(1).isLiteral()) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(final List<Expr> args, final Expr.ObjectBinding bindings)
    {
      for (int i = 1; i < args.size(); i += 2) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.min(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.exp(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String arg = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String formatString = NullHandling.nullToEmptyIfNeeded(args.get(0).eval(bindings).asString());
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.rint(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    }

    Expr getArrayArgument(List<Expr> args)
    {
      return args.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      ExpressionType arrayType = args.get(0).getOutputType(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.tanh(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.floor(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.sqrt(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.acos(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      ExpressionType type = ExpressionType.LONG;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.sin(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.scalb(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.expm1(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval expr = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      ExpressionType type = args.get(0).getOutputType(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval expr = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public boolean canVectorize(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return args.get(0).canVectorize(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      ExpressionType type = args.get(0).getOutputType(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.signum(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseShiftLeft(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseAnd(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public boolean canVectorize(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return args.get(0).canVectorize(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      List<Expr> results = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      Expr expr = args.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval expr = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      if (args.get(1).isLiteral()) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.atan(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      if (args.size() == 0) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.remainder(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      ExprEval value1 = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval expr = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public boolean canVectorize(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return args.get(0).canVectorize(inspector) && args.get(1).isLiteral();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return args.get(0).getOutputType(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorProcessors.isNotNull(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      String base = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
  {
    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      String base = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.toRadians(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return args.get(0).getOutputType(inspector);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final ExprEval eval = args.get(0).eval(bindings);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.bitwiseOr(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.longDivide(inspector, args.get(0), args.get(1));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.cosh(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.ulp(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      if (args.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    Expr getArrayArgument(List<Expr> args)
    {
      return args.get(1);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String haystack = NullHandling.nullToEmptyIfNeeded(args.get(0).eval(bindings).asString());
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      return args.get(0).eval(bindings).castTo(ExpressionType.STRING_ARRAY);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getArrayInputs(List<Expr> args)
    {
      return ImmutableSet.of(args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final int radix = args.size() == 1 ? 10 : args.get(1).eval(bindings).asInt();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    Expr getScalarArgument(List<Expr> args)
    {
      return args.get(0);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorProcessors.isNull(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public Set<Expr> getScalarInputs(List<Expr> args)
    {
      if (args.size() == 3) {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String arg = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      final String arg = args.get(0).eval(bindings).asString();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      List<Expr> results = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public ExprEval apply(List<Expr> args, Expr.ObjectBinding bindings)
    {
      Long left = args.get(0).eval(bindings).asLong();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return ExpressionTypeConversion.function(
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      return ExpressionType.elementType(args.get(0).getOutputType(inspector));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    @Nullable
    @Override
    public ExpressionType getOutputType(Expr.InputBindingInspector inspector, List<Expr> args)
    {
      ExpressionType outputType = ExpressionType.LONG;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.toDegrees(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return CastToTypeVectorProcessor.cast(
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java

    @Override
    public <T> ExprVectorProcessor<T> asVectorProcessor(Expr.VectorInputBindingInspector inspector, List<Expr> args)
    {
      return VectorMathProcessors.cbrt(inspector, args.get(0));
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
   * Given a list of arguments to this {@link Function}, get the set of arguments that must evaluate to a scalar value
   */
  default Set<Expr> getScalarInputs(List<Expr> args)
  {
    return ImmutableSet.copyOf(args);
```

### BoundedWildcard
Can generalize to `? extends RangeSet`
in `core/src/main/java/org/apache/druid/timeline/partition/DimensionRangeShardSpec.java`
#### Snippet
```java
   */
  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    final StringTuple segmentStart = start == null ? new StringTuple(new String[dimensions.size()]) : start;
```

### BoundedWildcard
Can generalize to `? extends RangeSet`
in `core/src/main/java/org/apache/druid/timeline/partition/SingleDimensionShardSpec.java`
#### Snippet
```java

  @Override
  public boolean possibleInDomain(Map<String, RangeSet<String>> domain)
  {
    RangeSet<String> rangeSet = domain.get(dimension);
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/timeline/partition/AtomicUpdateGroup.java`
#### Snippet
```java

  private static <T extends Overshadowable<T>> boolean isSameAtomicUpdateGroup(
      PartitionChunk<T> c1,
      PartitionChunk<T> c2
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/timeline/partition/AtomicUpdateGroup.java`
#### Snippet
```java
  private static <T extends Overshadowable<T>> boolean isSameAtomicUpdateGroup(
      PartitionChunk<T> c1,
      PartitionChunk<T> c2
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `core/src/main/java/org/apache/druid/timeline/partition/AtomicUpdateGroup.java`
#### Snippet
```java
  private final List<PartitionChunk<T>> chunks = new ArrayList<>();

  static <T extends Overshadowable<T>> AtomicUpdateGroup<T> copy(AtomicUpdateGroup<T> group)
  {
    return new AtomicUpdateGroup<>(group.chunks);
```

### BoundedWildcard
Can generalize to `? super T2`
in `core/src/main/java/org/apache/druid/collections/SerializablePair.java`
#### Snippet
```java

  public static <T1, T2> Comparator<SerializablePair<T1, T2>> createNullHandlingComparator(
      Comparator<T2> delegate,
      boolean nullsFirst
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/collections/CombiningIterator.java`
#### Snippet
```java
  public CombiningIterator(
      Iterator<T> it,
      Comparator<T> comparator,
      BinaryOperator<T> fn
  )
```

### BoundedWildcard
Can generalize to `? extends TimelineObjectHolder`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java

  public static <VersionType, ObjectType extends Overshadowable<ObjectType>> Iterable<ObjectType> getAllObjects(
      final List<TimelineObjectHolder<VersionType, ObjectType>> holders
  )
  {
```

### BoundedWildcard
Can generalize to `? extends PartitionChunkEntry`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java

  public void addAll(
      final Iterator<PartitionChunkEntry<VersionType, ObjectType>> objects
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java

  public static void addSegments(
      VersionedIntervalTimeline<String, DataSegment> timeline,
      Iterator<DataSegment> segments
  )
```

### BoundedWildcard
Can generalize to `? super DataSegment`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java

  public static void addSegments(
      VersionedIntervalTimeline<String, DataSegment> timeline,
      Iterator<DataSegment> segments
  )
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java
  public static void addSegments(
      VersionedIntervalTimeline<String, DataSegment> timeline,
      Iterator<DataSegment> segments
  )
  {
```

### BoundedWildcard
Can generalize to `? super Interval`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java
      Interval interval,
      TimelineEntry entry,
      NavigableMap<Interval, TimelineEntry> timeline
  )
  {
```

### BoundedWildcard
Can generalize to `? super TimelineEntry`
in `core/src/main/java/org/apache/druid/timeline/VersionedIntervalTimeline.java`
#### Snippet
```java
      Interval interval,
      TimelineEntry entry,
      NavigableMap<Interval, TimelineEntry> timeline
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java
  {
    @Override
    public void nodesAdded(final Collection<DiscoveryDruidNode> nodes)
    {
      synchronized (DiscoveryServiceLocator.this) {
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java

    @Override
    public void nodesRemoved(final Collection<DiscoveryDruidNode> nodes)
    {
      synchronized (DiscoveryServiceLocator.this) {
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
  }

  private void removeFrom(AtomicUpdateGroup<T> aug, State state)
  {
    final RootPartitionRange rangeKey = RootPartitionRange.of(aug);
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java

  private List<AtomicUpdateGroup<T>> findOvershadowedBy(
      AtomicUpdateGroup<T> aug,
      State fromState
  )
```

### BoundedWildcard
Can generalize to `? extends AtomicUpdateGroup`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
   * available one in the standby groups at any time.
   */
  private List<AtomicUpdateGroup<T>> findLatestNonFullyAvailableAtomicUpdateGroups(List<AtomicUpdateGroup<T>> groups)
  {
    if (groups.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends AtomicUpdateGroup`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
   */
  private boolean doGroupsFullyCoverPartitionRange(
      List<AtomicUpdateGroup<T>> groups,
      int startRootPartitionId,
      int endRootPartitionId
```

### BoundedWildcard
Can generalize to `? super T`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
  }

  private List<AtomicUpdateGroup<T>> findOvershadows(AtomicUpdateGroup<T> aug, State fromState)
  {
    return findOvershadows(RootPartitionRange.of(aug), aug.getMinorVersion(), fromState);
```

### BoundedWildcard
Can generalize to `? extends Short2ObjectSortedMap`>
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java

  private static <T extends Overshadowable<T>> List<PartitionChunk<T>> getAllChunks(
      TreeMap<RootPartitionRange, Short2ObjectSortedMap<AtomicUpdateGroup<T>>> stateMap
  )
  {
```

### BoundedWildcard
Can generalize to `? extends AtomicUpdateGroup`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
   */
  private void replaceVisibleWith(
      Collection<AtomicUpdateGroup<T>> oldVisibleGroups,
      State newStateOfOldVisibleGroup,
      Collection<AtomicUpdateGroup<T>> newVisibleGroups,
```

### BoundedWildcard
Can generalize to `? extends AtomicUpdateGroup`
in `core/src/main/java/org/apache/druid/timeline/partition/OvershadowableManager.java`
#### Snippet
```java
      Collection<AtomicUpdateGroup<T>> oldVisibleGroups,
      State newStateOfOldVisibleGroup,
      Collection<AtomicUpdateGroup<T>> newVisibleGroups,
      State oldStateOfNewVisibleGroups
  )
```

### BoundedWildcard
Can generalize to `? super ServiceLocations`
in `server/src/main/java/org/apache/druid/rpc/ServiceClientImpl.java`
#### Snippet
```java
  }

  private <T> void whenServiceReady(final Consumer<ServiceLocations> callback, final SettableFuture<T> retVal)
  {
    Futures.addCallback(
```

### BoundedWildcard
Can generalize to `? super FinalType`
in `server/src/main/java/org/apache/druid/rpc/ServiceClientImpl.java`
#### Snippet
```java
      final RequestBuilder requestBuilder,
      final HttpResponseHandler<IntermediateType, FinalType> handler,
      final SettableFuture<FinalType> retVal,
      final long attemptNumber,
      final ImmutableSet<String> redirectLocations
```

### BoundedWildcard
Can generalize to `? super T`
in `server/src/main/java/org/apache/druid/query/ResultLevelCachingQueryRunner.java`
#### Snippet
```java
    private void cacheResultEntry(
        T resultEntry,
        Function<T, Object> cacheFn
    )
    {
```

### BoundedWildcard
Can generalize to `? super Query`
in `server/src/main/java/org/apache/druid/query/RetryQueryRunner.java`
#### Snippet
```java
  RetryQueryRunner(
      QueryRunner<T> baseRunner,
      BiFunction<Query<T>, List<SegmentDescriptor>, QueryRunner<T>> retryRunnerCreateFn,
      RetryQueryRunnerConfig config,
      ObjectMapper jsonMapper,
```

### BoundedWildcard
Can generalize to `? super List`
in `server/src/main/java/org/apache/druid/query/RetryQueryRunner.java`
#### Snippet
```java
  RetryQueryRunner(
      QueryRunner<T> baseRunner,
      BiFunction<Query<T>, List<SegmentDescriptor>, QueryRunner<T>> retryRunnerCreateFn,
      RetryQueryRunnerConfig config,
      ObjectMapper jsonMapper,
```

### BoundedWildcard
Can generalize to `? extends QueryRunner`
in `server/src/main/java/org/apache/druid/query/RetryQueryRunner.java`
#### Snippet
```java
  RetryQueryRunner(
      QueryRunner<T> baseRunner,
      BiFunction<Query<T>, List<SegmentDescriptor>, QueryRunner<T>> retryRunnerCreateFn,
      RetryQueryRunnerConfig config,
      ObjectMapper jsonMapper,
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/client/DataSourcesSnapshot.java`
#### Snippet
```java
{
  public static DataSourcesSnapshot fromUsedSegments(
      Iterable<DataSegment> segments,
      ImmutableMap<String, String> dataSourceProperties
  )
```

### BoundedWildcard
Can generalize to `? super LookupUpdateState`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
  }

  private LookupUpdateState atomicallyUpdateStateRef(Function<LookupUpdateState, LookupUpdateState> fn)
  {
    while (true) {
```

### BoundedWildcard
Can generalize to `? extends LookupUpdateState`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
  }

  private LookupUpdateState atomicallyUpdateStateRef(Function<LookupUpdateState, LookupUpdateState> fn)
  {
    while (true) {
```

### BoundedWildcard
Can generalize to `? extends LookupBean`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
  }

  private void startLookups(final List<LookupBean> lookupBeanList)
  {
    final ImmutableMap.Builder<String, LookupExtractorFactoryContainer> builder = ImmutableMap.builder();
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java

    @Override
    public void handle(Map<String, LookupExtractorFactoryContainer> lookupMap) throws Exception
    {
      LookupExtractorFactoryContainer old = lookupMap.get(lookupName);
```

### BoundedWildcard
Can generalize to `? extends LookupBean`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
   */
  private Map<String, LookupExtractorFactoryContainer> startLookups(
      List<LookupBean> lookupBeans,
      CompletionService<Map.Entry<String, LookupExtractorFactoryContainer>> completionService
  ) throws InterruptedException
```

### BoundedWildcard
Can generalize to `? extends Notice`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java

  private void updateToLoadAndDrop(
      List<Notice> notices,
      Map<String, LookupExtractorFactoryContainer> lookupsToLoad,
      Set<String> lookupsToDrop
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
  private void updateToLoadAndDrop(
      List<Notice> notices,
      Map<String, LookupExtractorFactoryContainer> lookupsToLoad,
      Set<String> lookupsToDrop
  )
```

### BoundedWildcard
Can generalize to `? super LookupExtractorFactoryContainer`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
  private void updateToLoadAndDrop(
      List<Notice> notices,
      Map<String, LookupExtractorFactoryContainer> lookupsToLoad,
      Set<String> lookupsToDrop
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java
      List<Notice> notices,
      Map<String, LookupExtractorFactoryContainer> lookupsToLoad,
      Set<String> lookupsToDrop
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LookupExtractorFactoryContainer`
in `server/src/main/java/org/apache/druid/query/lookup/LookupReferencesManager.java`
#### Snippet
```java

    @Override
    public void handle(Map<String, LookupExtractorFactoryContainer> lookupMap)
    {
      final LookupExtractorFactoryContainer lookupExtractorFactoryContainer = lookupMap.remove(lookupName);
```

### BoundedWildcard
Can generalize to `? super TimelineCallback`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
  }

  private void runTimelineCallbacks(final Function<TimelineCallback, CallbackAction> function)
  {
    for (Map.Entry<TimelineCallback, Executor> entry : timelineCallbacks.entrySet()) {
```

### BoundedWildcard
Can generalize to `? super DataSegment`
in `server/src/main/java/org/apache/druid/client/DruidDataSource.java`
#### Snippet
```java
   * Removes segments for which the given filter returns true.
   */
  public void removeSegmentsIf(Predicate<DataSegment> filter)
  {
    idToSegmentMap.values().removeIf(filter);
```

### BoundedWildcard
Can generalize to `? extends InputStream`
in `server/src/main/java/org/apache/druid/client/DirectDruidClient.java`
#### Snippet
```java
        @Override
        public ClientResponse<InputStream> handleChunk(
            ClientResponse<InputStream> clientResponse,
            HttpChunk chunk,
            long chunkNum
```

### BoundedWildcard
Can generalize to `? extends InputStream`
in `server/src/main/java/org/apache/druid/client/DirectDruidClient.java`
#### Snippet
```java

        @Override
        public ClientResponse<InputStream> done(ClientResponse<InputStream> clientResponse)
        {
          long stopTimeNs = System.nanoTime();
```

### BoundedWildcard
Can generalize to `? super Pair`
in `server/src/main/java/org/apache/druid/client/FilteringSegmentCallback.java`
#### Snippet
```java
  private final Predicate<Pair<DruidServerMetadata, DataSegment>> filter;

  public FilteringSegmentCallback(SegmentCallback callback, Predicate<Pair<DruidServerMetadata, DataSegment>> filter)
  {
    this.callback = callback;
```

### BoundedWildcard
Can generalize to `? super Sequence`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java

    private void addSequencesFromCache(
        final List<Sequence<T>> listOfSequences,
        final List<Pair<Interval, byte[]>> cachedResults
    )
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    private void addSequencesFromCache(
        final List<Sequence<T>> listOfSequences,
        final List<Pair<Interval, byte[]>> cachedResults
    )
    {
```

### BoundedWildcard
Can generalize to `? super Sequence`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
     */
    private void addSequencesFromServer(
        final List<Sequence<T>> listOfSequences,
        final SortedMap<DruidServer, List<SegmentDescriptor>> segmentsByServer
    )
```

### BoundedWildcard
Can generalize to `? extends DruidServer`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    private void addSequencesFromServer(
        final List<Sequence<T>> listOfSequences,
        final SortedMap<DruidServer, List<SegmentDescriptor>> segmentsByServer
    )
    {
```

### BoundedWildcard
Can generalize to `? extends List`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    private void addSequencesFromServer(
        final List<Sequence<T>> listOfSequences,
        final SortedMap<DruidServer, List<SegmentDescriptor>> segmentsByServer
    )
    {
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    @Nullable
    private PartitionChunkEntry<String, ServerSelector> toChunkEntry(
        TimelineLookup<String, ServerSelector> timeline,
        SegmentDescriptor spec
    )
```

### BoundedWildcard
Can generalize to `? extends SegmentServerSelector`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    @Nullable
    String computeResultLevelCachingEtag(
        final Set<SegmentServerSelector> segments,
        @Nullable byte[] queryCacheKey
    )
```

### BoundedWildcard
Can generalize to `? extends SegmentDescriptor`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    private final Iterable<SegmentDescriptor> specs;

    TimelineConverter(final Iterable<SegmentDescriptor> specs)
    {
      this.specs = specs;
```

### BoundedWildcard
Can generalize to `? extends SegmentServerSelector`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java

    private Map<SegmentServerSelector, Cache.NamedKey> computePerSegmentCacheKeys(
        Set<SegmentServerSelector> segments,
        byte[] queryCacheKey
    )
```

### BoundedWildcard
Can generalize to `? super Query`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    CacheKeyManager(
        final Query<T> query,
        final CacheStrategy<T, Object, Query<T>> strategy,
        final boolean useCache,
        final boolean populateCache
```

### BoundedWildcard
Can generalize to `? extends SegmentServerSelector`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
    }

    private SortedMap<DruidServer, List<SegmentDescriptor>> groupSegmentsByServer(Set<SegmentServerSelector> segments)
    {
      final SortedMap<DruidServer, List<SegmentDescriptor>> serverSegments = new TreeMap<>();
```

### BoundedWildcard
Can generalize to `? super Query`
in `server/src/main/java/org/apache/druid/client/CacheUtil.java`
#### Snippet
```java
  static <T> boolean isQueryCacheable(
      final Query<T> query,
      @Nullable final CacheStrategy<T, Object, Query<T>> cacheStrategy,
      final CacheConfig cacheConfig,
      final ServerType serverType
```

### BoundedWildcard
Can generalize to `? extends DataSegmentChangeRequest`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

        @Override
        public void deltaSync(List<DataSegmentChangeRequest> changes)
        {
          for (DataSegmentChangeRequest request : changes) {
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

              @Override
              public void nodesRemoved(Collection<DiscoveryDruidNode> nodes)
              {
                nodes.forEach(node -> serverRemoved(toDruidServer(node)));
```

### BoundedWildcard
Can generalize to `? super SegmentCallback`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

  private void runSegmentCallbacks(
      final Function<SegmentCallback, CallbackAction> fn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegmentChangeRequest`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
      {
        @Override
        public void fullSync(List<DataSegmentChangeRequest> changes)
        {
          Map<SegmentId, DataSegment> toRemove = Maps.newHashMapWithExpectedSize(druidServer.getTotalSegments());
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

              @Override
              public void nodesAdded(Collection<DiscoveryDruidNode> nodes)
              {
                nodes.forEach(node -> serverAdded(toDruidServer(node)));
```

### BoundedWildcard
Can generalize to `? extends InputStream`
in `server/src/main/java/org/apache/druid/client/JsonParserIterator.java`
#### Snippet
```java
  public JsonParserIterator(
      JavaType typeRef,
      Future<InputStream> future,
      String url,
      @Nullable Query<T> query,
```

### BoundedWildcard
Can generalize to `? extends E`
in `server/src/main/java/org/apache/druid/client/cache/BytesBoundedLinkedQueue.java`
#### Snippet
```java
    private E lastReturned;

    Itr(Iterator<E> delegate)
    {
      this.delegate = delegate;
```

### BoundedWildcard
Can generalize to `? super SegmentCallback`
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java

  protected void runSegmentCallbacks(
      final Function<SegmentCallback, CallbackAction> fn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java
  }

  private Set<DataSegment> filterInventory(final DruidServer container, Set<DataSegment> inventory)
  {
    Predicate<Pair<DruidServerMetadata, DataSegment>> predicate = Predicates.or(
```

### BoundedWildcard
Can generalize to `? extends SpatialDimensionSchema`
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
  }

  private void verify(List<SpatialDimensionSchema> spatialDimensions)
  {
    List<String> dimNames = getDimensionNames();
```

### BoundedWildcard
Can generalize to `? extends NamedKey`
in `server/src/main/java/org/apache/druid/client/cache/HybridCache.java`
#### Snippet
```java

  @Override
  public Map<NamedKey, byte[]> getBulk(Iterable<NamedKey> keys)
  {
    Set<NamedKey> remaining = Sets.newHashSet(keys);
```

### BoundedWildcard
Can generalize to `? extends NamedKey`
in `server/src/main/java/org/apache/druid/client/cache/MapCache.java`
#### Snippet
```java

  @Override
  public Map<NamedKey, byte[]> getBulk(Iterable<NamedKey> keys)
  {
    Map<NamedKey, byte[]> retVal = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends T`
in `server/src/main/java/org/apache/druid/client/cache/ForegroundCachePopulator.java`
#### Snippet
```java
  @Override
  public <T, CacheType> Sequence<T> wrap(
      final Sequence<T> sequence,
      final Function<T, CacheType> cacheFn,
      final Cache cache,
```

### BoundedWildcard
Can generalize to `? super T`
in `server/src/main/java/org/apache/druid/client/cache/ForegroundCachePopulator.java`
#### Snippet
```java
  public <T, CacheType> Sequence<T> wrap(
      final Sequence<T> sequence,
      final Function<T, CacheType> cacheFn,
      final Cache cache,
      final Cache.NamedKey cacheKey
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/client/indexing/ClientCompactionIntervalSpec.java`
#### Snippet
```java
  private final String sha256OfSortedSegmentIds;

  public static ClientCompactionIntervalSpec fromSegments(List<DataSegment> segments, @Nullable Granularity segmentGranularity)
  {
    Interval interval = JodaUtils.umbrellaInterval(segments.stream().map(DataSegment::getInterval).collect(Collectors.toList()));
```

### BoundedWildcard
Can generalize to `? extends T`
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
  @Override
  public <T, CacheType> Sequence<T> wrap(
      final Sequence<T> sequence,
      final Function<T, CacheType> cacheFn,
      final Cache cache,
```

### BoundedWildcard
Can generalize to `? super T`
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
  public <T, CacheType> Sequence<T> wrap(
      final Sequence<T> sequence,
      final Function<T, CacheType> cacheFn,
      final Cache cache,
      final Cache.NamedKey cacheKey
```

### BoundedWildcard
Can generalize to `? extends QueryableDruidServer`
in `server/src/main/java/org/apache/druid/client/selector/ConnectionCountServerSelectorStrategy.java`
#### Snippet
```java
  @Nullable
  @Override
  public QueryableDruidServer pick(Set<QueryableDruidServer> servers, DataSegment segment)
  {
    return Collections.min(servers, COMPARATOR);
```

### BoundedWildcard
Can generalize to `? extends QueryableDruidServer`
in `server/src/main/java/org/apache/druid/client/selector/RandomServerSelectorStrategy.java`
#### Snippet
```java

  @Override
  public List<QueryableDruidServer> pick(Set<QueryableDruidServer> servers, DataSegment segment, int numServersToPick)
  {
    if (servers.size() <= numServersToPick) {
```

### BoundedWildcard
Can generalize to `? extends QueryableDruidServer`
in `server/src/main/java/org/apache/druid/client/selector/RandomServerSelectorStrategy.java`
#### Snippet
```java
  @Nullable
  @Override
  public QueryableDruidServer pick(Set<QueryableDruidServer> servers, DataSegment segment)
  {
    return Iterators.get(servers.iterator(), ThreadLocalRandom.current().nextInt(servers.size()));
```

### BoundedWildcard
Can generalize to `? extends Set`
in `server/src/main/java/org/apache/druid/client/selector/AbstractTierSelectorStrategy.java`
#### Snippet
```java
  public <T> List<QueryableDruidServer> pick(
      Query<T> query,
      Int2ObjectRBTreeMap<Set<QueryableDruidServer>> prioritizedServers,
      DataSegment segment,
      int numServersToPick
```

### BoundedWildcard
Can generalize to `? extends ResourceHolder`
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java

  MemcachedCache(
      Supplier<ResourceHolder<MemcachedClientIF>> client,
      MemcachedCacheConfig config,
      AbstractMonitor monitor
```

### BoundedWildcard
Can generalize to `? extends HttpClient`
in `server/src/main/java/org/apache/druid/server/AsyncManagementForwardingServlet.java`
#### Snippet
```java
  public AsyncManagementForwardingServlet(
      @Json ObjectMapper jsonMapper,
      @Global Provider<HttpClient> httpClientProvider,
      @Global DruidHttpClientConfig httpClientConfig,
      @Coordinator DruidLeaderSelector coordLeaderSelector,
```

### BoundedWildcard
Can generalize to `? extends DruidModule`
in `server/src/main/java/org/apache/druid/server/StatusResource.java`
#### Snippet
```java
     * @return map of extensions loaded with their respective implementation versions.
     */
    private List<ModuleVersion> getExtensionVersions(Collection<DruidModule> druidModules)
    {
      List<ModuleVersion> moduleVersions = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? super Query`
in `server/src/main/java/org/apache/druid/server/QueryResource.java`
#### Snippet
```java

    ObjectWriter newOutputWriter(
        @Nullable QueryToolChest<?, Query<?>> toolChest,
        @Nullable Query<?> query,
        boolean serializeDateTimeAsLong
```

### BoundedWildcard
Can generalize to `? extends RequestLogger`
in `server/src/main/java/org/apache/druid/server/log/ComposingRequestLoggerProvider.java`
#### Snippet
```java
    private final List<RequestLogger> loggers;

    public ComposingRequestLogger(List<RequestLogger> loggers)
    {
      this.loggers = loggers;
```

### BoundedWildcard
Can generalize to `? extends Bulkhead`
in `server/src/main/java/org/apache/druid/server/QueryScheduler.java`
#### Snippet
```java
   */
  @VisibleForTesting
  void releaseLanes(List<Bulkhead> bulkheads)
  {
    bulkheads.forEach(Bulkhead::releasePermission);
```

### BoundedWildcard
Can generalize to `? extends Bulkhead`
in `server/src/main/java/org/apache/druid/server/QueryScheduler.java`
#### Snippet
```java

  @VisibleForTesting
  void finishLanes(List<Bulkhead> bulkheads)
  {
    bulkheads.forEach(Bulkhead::onComplete);
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `server/src/main/java/org/apache/druid/server/ClientQuerySegmentWalker.java`
#### Snippet
```java
  private DataSource insertSubqueryIds(
      DataSource currentDataSource,
      Map<QueryDataSource, Pair<Integer, Integer>> queryDataSourceToSubqueryIds,
      @Nullable final String parentQueryId,
      @Nullable final String parentSqlQueryId
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `server/src/main/java/org/apache/druid/server/http/IntervalsResource.java`
#### Snippet
```java

  private void setProperties(
      final Map<Interval, Map<String, Map<String, Object>>> retVal,
      ImmutableDruidDataSource dataSource, DataSegment dataSegment
  )
```

### BoundedWildcard
Can generalize to `? extends HttpClient`
in `server/src/main/java/org/apache/druid/server/http/OverlordProxyServlet.java`
#### Snippet
```java
  OverlordProxyServlet(
      @IndexingService DruidLeaderClient druidLeaderClient,
      @Global Provider<HttpClient> httpClientProvider,
      @Global DruidHttpClientConfig httpClientConfig
  )
```

### BoundedWildcard
Can generalize to `? extends SetResult`
in `server/src/main/java/org/apache/druid/server/http/CoordinatorCompactionConfigsResource.java`
#### Snippet
```java

  @VisibleForTesting
  Response updateConfigHelper(Callable<SetResult> updateMethod)
  {
    int attemps = 0;
```

### BoundedWildcard
Can generalize to `? extends Server`
in `server/src/main/java/org/apache/druid/server/router/ConsistentHashAvaticaConnectionBalancer.java`
#### Snippet
```java

  @Override
  public Server pickServer(Collection<Server> servers, String connectionId)
  {
    synchronized (hasher) {
```

### BoundedWildcard
Can generalize to `? extends Server`
in `server/src/main/java/org/apache/druid/server/router/RendezvousHashAvaticaConnectionBalancer.java`
#### Snippet
```java

  @Override
  public Server pickServer(Collection<Server> servers, String connectionId)
  {
    if (servers.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends ImmutableSegmentLoadInfo`
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
  }

  static boolean isSegmentLoaded(Iterable<ImmutableSegmentLoadInfo> servedSegments, SegmentDescriptor descriptor)
  {
    for (ImmutableSegmentLoadInfo segmentLoadInfo : servedSegments) {
```

### BoundedWildcard
Can generalize to `? super Interval`
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
      String dataSourceName,
      boolean full,
      Predicate<Interval> intervalFilter
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
  }

  private SegmentsLoadStatistics computeSegmentLoadStatistics(Iterable<DataSegment> segments)
  {
    Map<SegmentId, SegmentLoadInfo> segmentLoadInfos = serverInventoryView.getSegmentLoadInfos();
```

### BoundedWildcard
Can generalize to `? extends LoggingEmitterConfig`
in `server/src/main/java/org/apache/druid/server/emitter/LogEmitterModule.java`
#### Snippet
```java

  @Provides @ManageLifecycle @Named(EMITTER_TYPE)
  public Emitter makeEmitter(Supplier<LoggingEmitterConfig> config, ObjectMapper jsonMapper)
  {
    return new LoggingEmitter(config.get(), jsonMapper);
```

### BoundedWildcard
Can generalize to `? extends MetadataStorageTablesConfig`
in `server/src/main/java/org/apache/druid/server/audit/SQLAuditManager.java`
#### Snippet
```java
  public SQLAuditManager(
      SQLMetadataConnector connector,
      Supplier<MetadataStorageTablesConfig> dbTables,
      ServiceEmitter emitter,
      @Json ObjectMapper jsonMapper,
```

### BoundedWildcard
Can generalize to `? extends HttpEmitterConfig`
in `server/src/main/java/org/apache/druid/server/emitter/HttpEmitterModule.java`
#### Snippet
```java
  @Named("http")
  public Emitter getEmitter(
      Supplier<HttpEmitterConfig> config,
      Supplier<HttpEmitterSSLClientConfig> sslConfig,
      @Nullable SSLContext sslContext,
```

### BoundedWildcard
Can generalize to `? extends HttpEmitterSSLClientConfig`
in `server/src/main/java/org/apache/druid/server/emitter/HttpEmitterModule.java`
#### Snippet
```java
  public Emitter getEmitter(
      Supplier<HttpEmitterConfig> config,
      Supplier<HttpEmitterSSLClientConfig> sslConfig,
      @Nullable SSLContext sslContext,
      Lifecycle lifecycle,
```

### BoundedWildcard
Can generalize to `? extends ParametrizedUriEmitterConfig`
in `server/src/main/java/org/apache/druid/server/emitter/ParametrizedUriEmitterModule.java`
#### Snippet
```java
  @Named("parametrized")
  public Emitter getEmitter(
      Supplier<ParametrizedUriEmitterConfig> config,
      Supplier<ParametrizedUriEmitterSSLClientConfig> parametrizedSSLClientConfig,
      @Nullable SSLContext sslContext,
```

### BoundedWildcard
Can generalize to `? extends ParametrizedUriEmitterSSLClientConfig`
in `server/src/main/java/org/apache/druid/server/emitter/ParametrizedUriEmitterModule.java`
#### Snippet
```java
  public Emitter getEmitter(
      Supplier<ParametrizedUriEmitterConfig> config,
      Supplier<ParametrizedUriEmitterSSLClientConfig> parametrizedSSLClientConfig,
      @Nullable SSLContext sslContext,
      Lifecycle lifecycle,
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/metrics/SegmentRowCountDistribution.java`
#### Snippet
```java
   * @param consumer
   */
  public void forEachDimension(final ObjIntConsumer<String> consumer)
  {
    for (int ii = 0; ii < buckets.length; ii++) {
```

### BoundedWildcard
Can generalize to `? extends DruidNode`
in `server/src/main/java/org/apache/druid/server/emitter/EmitterModule.java`
#### Snippet
```java
  @ManageLifecycle
  public ServiceEmitter getServiceEmitter(
      @Self Supplier<DruidNode> configSupplier,
      Emitter emitter,
      @ExtraServiceDimensions Map<String, String> extraServiceDimensions
```

### BoundedWildcard
Can generalize to `? extends Binding`
in `server/src/main/java/org/apache/druid/server/emitter/EmitterModule.java`
#### Snippet
```java
    }

    private Emitter findEmitter(String emitterType, List<Binding<Emitter>> emitterBindings)
    {
      for (Binding<Emitter> binding : emitterBindings) {
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/security/ForbiddenException.java`
#### Snippet
```java

  @Override
  public ForbiddenException sanitize(Function<String, String> errorMessageTransformFunction)
  {
    String transformedErrorMessage = errorMessageTransformFunction.apply(getMessage());
```

### BoundedWildcard
Can generalize to `? extends DruidMonitorSchedulerConfig`
in `server/src/main/java/org/apache/druid/server/metrics/MetricsModule.java`
#### Snippet
```java
  @ManageLifecycle
  public MonitorScheduler getMonitorScheduler(
      Supplier<DruidMonitorSchedulerConfig> config,
      MonitorsConfig monitorsConfig,
      Set<Class<? extends Monitor>> monitorSet,
```

### BoundedWildcard
Can generalize to `? extends ObjType`
in `server/src/main/java/org/apache/druid/server/listener/resource/AbstractListenerHandler.java`
#### Snippet
```java
   * @param inObjTypeRef The TypeReference for the input object type
   */
  public AbstractListenerHandler(TypeReference<ObjType> inObjTypeRef)
  {
    this.inObjTypeRef = inObjTypeRef;
```

### BoundedWildcard
Can generalize to `? extends Binding`
in `server/src/main/java/org/apache/druid/server/security/TLSCertificateCheckerModule.java`
#### Snippet
```java
    private TLSCertificateChecker findChecker(
        String checkerType,
        List<Binding<TLSCertificateChecker>> checkerBindings
    )
    {
```

### BoundedWildcard
Can generalize to `? extends Authenticator`
in `server/src/main/java/org/apache/druid/server/security/PreResponseAuthorizationCheckFilter.java`
#### Snippet
```java

  public PreResponseAuthorizationCheckFilter(
      List<Authenticator> authenticators,
      ObjectMapper jsonMapper
  )
```

### BoundedWildcard
Can generalize to `? extends Authenticator`
in `server/src/main/java/org/apache/druid/server/security/AuthenticationUtils.java`
#### Snippet
```java
  public static void addAuthenticationFilterChain(
      ServletContextHandler root,
      List<Authenticator> authenticators
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LookupsState`
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
   */
  private Map<String, Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>>> getDetailedAllNodeStatus(
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts,
      Collection<String> tiers
  )
```

### BoundedWildcard
Can generalize to `? extends LookupsState`
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
   */
  private Map<String, Map<HostAndPort, LookupsState<String>>> getSimpleAllNodeStatus(
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lookupsStateOnHosts,
      Collection<String> tiers
  )
```

### BoundedWildcard
Can generalize to `? extends LookupsState`
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      LookupExtractorFactoryMapContainer lookupDef,
      Collection<HostAndPort> nodes,
      Map<HostAndPort, LookupsState<LookupExtractorFactoryMapContainer>> lastKnownLookupsState,
      boolean detailed
  )
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/RoundRobinServerSelector.java`
#### Snippet
```java
    int currentPosition;

    CircularServerList(Set<ServerHolder> servers)
    {
      this.servers.addAll(servers);
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/ReplicationThrottler.java`
#### Snippet
```java
  }

  private void update(String tier, ReplicatorSegmentHolder holder, Map<String, Boolean> lookup, String type)
  {
    int size = holder.getNumProcessing(tier);
```

### BoundedWildcard
Can generalize to `? super Boolean`
in `server/src/main/java/org/apache/druid/server/coordinator/ReplicationThrottler.java`
#### Snippet
```java
  }

  private void update(String tier, ReplicatorSegmentHolder holder, Map<String, Boolean> lookup, String type)
  {
    int size = holder.getNumProcessing(tier);
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    HttpResponseHandler<InputStream, InputStream> makeResponseHandler(
        final AtomicInteger returnCode,
        final AtomicReference<String> reasonString
    )
    {
```

### BoundedWildcard
Can generalize to `? extends LookupExtractorFactoryMapContainer`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  @VisibleForTesting
  Map<String, LookupExtractorFactoryMapContainer> getToBeLoadedOnNode(
      LookupsState<LookupExtractorFactoryMapContainer> currLookupsStateOnNode,
      Map<String, LookupExtractorFactoryMapContainer> nodeTierLookupsToBe
  )
```

### BoundedWildcard
Can generalize to `? extends Map`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java

  private Map<String, LookupExtractorFactoryMapContainer> convertTierLookups(
      Map<String, Map<String, Object>> oldTierLookups
  )
  {
```

### BoundedWildcard
Can generalize to `? extends CuratorFramework`
in `server/src/main/java/org/apache/druid/server/coordinator/LoadQueueTaskMaster.java`
#### Snippet
```java

  public LoadQueueTaskMaster(
      Provider<CuratorFramework> curatorFrameworkProvider,
      ObjectMapper jsonMapper,
      ScheduledExecutorService peonExec,
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/RandomBalancerStrategy.java`
#### Snippet
```java

  @Override
  public Iterator<ServerHolder> pickServersToDrop(DataSegment toDropSegment, NavigableSet<ServerHolder> serverHolders)
  {
    List<ServerHolder> serverList = new ArrayList<>(serverHolders);
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/RandomBalancerStrategy.java`
#### Snippet
```java
{
  @Override
  public ServerHolder findNewSegmentHomeReplicator(DataSegment proposalSegment, List<ServerHolder> serverHolders)
  {
    // filter out servers whose avaialable size is less than required for this segment and those already serving this segment
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/ReservoirSegmentSampler.java`
#### Snippet
```java
  @Deprecated
  static BalancerSegmentHolder getRandomBalancerSegmentHolder(
      final List<ServerHolder> serverHolders,
      Set<String> broadcastDatasources,
      double percentOfSegmentsToConsider
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/ReservoirSegmentSampler.java`
#### Snippet
```java

  static List<BalancerSegmentHolder> getRandomBalancerSegmentHolders(
      final List<ServerHolder> serverHolders,
      Set<String> broadcastDatasources,
      int k
```

### BoundedWildcard
Can generalize to `? extends ResourceAction`
in `server/src/main/java/org/apache/druid/server/security/AuthorizationUtils.java`
#### Snippet
```java
  public static Access authorizeAllResourceActions(
      final AuthenticationResult authenticationResult,
      final Iterable<ResourceAction> resourceActions,
      final AuthorizerMapper authorizerMapper
  )
```

### BoundedWildcard
Can generalize to `? extends Iterable`
in `server/src/main/java/org/apache/druid/server/security/AuthorizationUtils.java`
#### Snippet
```java
      final AuthenticationResult authenticationResult,
      final Iterable<ResType> resources,
      final Function<? super ResType, Iterable<ResourceAction>> resourceActionGenerator,
      final AuthorizerMapper authorizerMapper
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorStats.java`
#### Snippet
```java
  }

  public void forEachDataSourceStat(String statName, ObjLongConsumer<String> consumer)
  {
    final Object2LongOpenHashMap<String> stat = perDataSourceStats.get(statName);
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorStats.java`
#### Snippet
```java
  }

  public void forEachTieredStat(final String statName, final ObjLongConsumer<String> consumer)
  {
    final Object2LongOpenHashMap<String> theStat = perTierStats.get(statName);
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorStats.java`
#### Snippet
```java
  }

  public void forEachDutyStat(String statName, ObjLongConsumer<String> consumer)
  {
    final Object2LongOpenHashMap<String> stat = perDutyStats.get(statName);
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
  }

  static double computeJointSegmentsCost(final DataSegment segment, final Iterable<DataSegment> segmentSet)
  {
    double totalCost = 0;
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
  protected Pair<Double, ServerHolder> chooseBestServer(
      final DataSegment proposalSegment,
      final Iterable<ServerHolder> serverHolders,
      final boolean includeCurrentServer
  )
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java

  @Override
  public Iterator<ServerHolder> pickServersToDrop(DataSegment toDrop, NavigableSet<ServerHolder> serverHolders)
  {
    List<ListenableFuture<Pair<Double, ServerHolder>>> futures = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
   * @return The initial cost of the Druid tier.
   */
  public double calculateInitialTotalCost(final List<ServerHolder> serverHolders)
  {
    double cost = 0;
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
   * segment were to get its own historical node.
   */
  public double calculateNormalization(final List<ServerHolder> serverHolders)
  {
    double cost = 0;
```

### BoundedWildcard
Can generalize to `? super SegmentId`
in `server/src/main/java/org/apache/druid/server/coordinator/SegmentReplicantLookup.java`
#### Snippet
```java

  private SegmentReplicantLookup(
      Table<SegmentId, String, Integer> segmentsInCluster,
      Table<SegmentId, String, Integer> loadingSegments,
      DruidCluster cluster
```

### BoundedWildcard
Can generalize to `? super SegmentId`
in `server/src/main/java/org/apache/druid/server/coordinator/SegmentReplicantLookup.java`
#### Snippet
```java
  private SegmentReplicantLookup(
      Table<SegmentId, String, Integer> segmentsInCluster,
      Table<SegmentId, String, Integer> loadingSegments,
      DruidCluster cluster
  )
```

### BoundedWildcard
Can generalize to `? extends Set`
in `server/src/main/java/org/apache/druid/server/coordinator/cost/ClusterCostCache.java`
#### Snippet
```java
  }

  public static Builder builder(Map<String, Set<DataSegment>> segmentsByServerName)
  {
    Builder builder = builder();
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/MarkAsUnusedOvershadowedSegments.java`
#### Snippet
```java
  private void addSegmentsFromServer(
      ServerHolder serverHolder,
      Map<String, SegmentTimeline> timelines
  )
  {
```

### BoundedWildcard
Can generalize to `? extends LoadQueuePeon`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
    }

    public Builder withLoadManagementPeons(Map<String, LoadQueuePeon> loadManagementPeonsCollection)
    {
      loadManagementPeons.putAll(loadManagementPeonsCollection);
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
   * duplicate segments are encountered in the iterable.
   */
  private static TreeSet<DataSegment> createUsedSegmentsSet(Iterable<DataSegment> usedSegments)
  {
    TreeSet<DataSegment> segmentsSet = new TreeSet<>(DruidCoordinator.SEGMENT_COMPARATOR_RECENT_FIRST);
```

### BoundedWildcard
Can generalize to `? extends DataSourceCompactionConfig`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/CompactSegments.java`
#### Snippet
```java
   */
  private Map<String, List<Interval>> getLockedIntervalsToSkip(
      List<DataSourceCompactionConfig> compactionConfigs
  )
  {
```

### BoundedWildcard
Can generalize to `? extends TaskStatusPlus`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/CompactSegments.java`
#### Snippet
```java
  }

  private static List<TaskStatusPlus> filterNonCompactionTasks(List<TaskStatusPlus> taskStatuses)
  {
    return taskStatuses
```

### BoundedWildcard
Can generalize to `? extends DataSourceCompactionConfig`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/CompactSegments.java`
#### Snippet
```java

  private CoordinatorStats doRun(
      Map<String, DataSourceCompactionConfig> compactionConfigs,
      Map<String, AutoCompactionSnapshot.Builder> currentRunAutoCompactionSnapshotBuilders,
      int numAvailableCompactionTaskSlots,
```

### BoundedWildcard
Can generalize to `? extends ImmutableDruidServer`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
    }

    void stopPeonsForDisappearedServers(List<ImmutableDruidServer> servers)
    {
      final Set<String> disappeared = Sets.newHashSet(loadManagementPeons.keySet());
```

### BoundedWildcard
Can generalize to `? extends ImmutableDruidServer`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
    }

    DruidCluster prepareCluster(DruidCoordinatorRuntimeParams params, List<ImmutableDruidServer> currentServers)
    {
      Set<String> decommissioningServers = params.getCoordinatorDynamicConfig().getDecommissioningNodes();
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java

  private Map<String, Object2LongMap<String>> computeUnderReplicationCountsPerDataSourcePerTierForSegmentsInternal(
      Iterable<DataSegment> dataSegments,
      boolean computeUsingClusterView
  )
```

### BoundedWildcard
Can generalize to `? extends CoordinatorDuty`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
      DruidNode self,
      ConcurrentMap<String, LoadQueuePeon> loadQueuePeonMap,
      Set<CoordinatorDuty> indexingServiceDuties,
      Set<CoordinatorDuty> metadataStoreManagementDuties,
      CoordinatorCustomDutyGroups customDutyGroups,
```

### BoundedWildcard
Can generalize to `? extends CoordinatorDuty`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
      ConcurrentMap<String, LoadQueuePeon> loadQueuePeonMap,
      Set<CoordinatorDuty> indexingServiceDuties,
      Set<CoordinatorDuty> metadataStoreManagementDuties,
      CoordinatorCustomDutyGroups customDutyGroups,
      BalancerStrategyFactory factory,
```

### BoundedWildcard
Can generalize to `? extends ImmutableDruidServer`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
    }

    void startPeonsForNewServers(List<ImmutableDruidServer> currentServers)
    {
      for (ImmutableDruidServer server : currentServers) {
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/UnloadUnusedSegments.java`
#### Snippet
```java
      CoordinatorStats stats,
      boolean dropBroadcastOnly,
      Map<String, Boolean> broadcastStatusByDatasource
  )
  {
```

### BoundedWildcard
Can generalize to `? extends List`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/RuleMap.java`
#### Snippet
```java
  private final List<Rule> defaultRules;

  public RuleMap(Map<String, List<Rule>> rules, List<Rule> defaultRules)
  {
    this.rules = rules;
```

### BoundedWildcard
Can generalize to `? extends Rule`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/RuleMap.java`
#### Snippet
```java
  private final List<Rule> defaultRules;

  public RuleMap(Map<String, List<Rule>> rules, List<Rule> defaultRules)
  {
    this.rules = rules;
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java
      DruidCoordinatorRuntimeParams params,
      String tier,
      SortedSet<ServerHolder> servers,
      CoordinatorStats stats
  )
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java
      DruidCoordinatorRuntimeParams params,
      List<ServerHolder> toMoveFrom,
      List<ServerHolder> toMoveTo,
      int maxSegmentsToMove
  )
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/BroadcastDistributionRule.java`
#### Snippet
```java

  private CoordinatorStats drop(
      final Set<ServerHolder> serverHolders,
      final DataSegment segment
  )
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/BroadcastDistributionRule.java`
#### Snippet
```java

  private CoordinatorStats assign(
      final Set<ServerHolder> serverHolders,
      final DataSegment segment
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/BroadcastDistributionRule.java`
#### Snippet
```java
  @Override
  public void updateUnderReplicated(
      Map<String, Object2LongMap<String>> underReplicatedPerTier,
      SegmentReplicantLookup segmentReplicantLookup,
      DataSegment segment
```

### BoundedWildcard
Can generalize to `? super ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
      final String tier,
      final DruidCluster druidCluster,
      final Predicate<ServerHolder> predicate
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ServerHolder`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
  private static int dropForTier(
      final int numToDrop,
      final NavigableSet<ServerHolder> holdersInTier,
      final DataSegment segment,
      final BalancerStrategy balancerStrategy,
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
  @Override
  public void updateUnderReplicatedWithClusterView(
      Map<String, Object2LongMap<String>> underReplicatedPerTier,
      SegmentReplicantLookup segmentReplicantLookup,
      DruidCluster cluster,
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
  @Override
  public void updateUnderReplicated(
      Map<String, Object2LongMap<String>> underReplicatedPerTier,
      SegmentReplicantLookup segmentReplicantLookup,
      DataSegment segment
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/NewestSegmentFirstIterator.java`
#### Snippet
```java
        List<Interval> totalIntervalsToSearch,
        // originalTimeline can be nullable if timeline was not modified
        @Nullable VersionedIntervalTimeline<String, DataSegment> originalTimeline
    )
    {
```

### BoundedWildcard
Can generalize to `? extends DataSourceCompactionConfig`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/NewestSegmentFirstIterator.java`
#### Snippet
```java
  NewestSegmentFirstIterator(
      ObjectMapper objectMapper,
      Map<String, DataSourceCompactionConfig> compactionConfigs,
      Map<String, SegmentTimeline> dataSources,
      Map<String, List<Interval>> skipIntervals
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/NewestSegmentFirstIterator.java`
#### Snippet
```java
    private final List<DataSegment> segments;

    private QueueEntry(List<DataSegment> segments)
    {
      Preconditions.checkArgument(segments != null && !segments.isEmpty());
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/NewestSegmentFirstIterator.java`
#### Snippet
```java

  private void collectSegmentStatistics(
      Map<String, CompactionStatistics> statisticsMap,
      String dataSourceName,
      SegmentsToCompact segments)
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java

  @Override
  public void unannounceSegments(Iterable<DataSegment> segments)
  {
    for (DataSegment segment : segments) {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java

  @Override
  public void announceSegments(Iterable<DataSegment> segments) throws IOException
  {
    SegmentZNode segmentZNode = new SegmentZNode(makeServedSegmentPath());
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
    }

    public void addSegments(Set<DataSegment> segments)
    {
      Set<DataSegment> zkSegments = getSegments();
```

### BoundedWildcard
Can generalize to `? extends T`
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHistory.java`
#### Snippet
```java
   * Add batch of segment changes update.
   */
  public synchronized void addChangeRequests(List<T> requests)
  {
    if (singleThreadedExecutor.isShutdown()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryRunnerFactory<T, Query<T>> factory,
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
```

### BoundedWildcard
Can generalize to `? super SegmentReference`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
```

### BoundedWildcard
Can generalize to `? extends SegmentReference`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
      final QueryToolChest<T, Query<T>> toolChest,
      final VersionedIntervalTimeline<String, ReferenceCountingSegment> timeline,
      final Function<SegmentReference, SegmentReference> segmentMapFn,
      final AtomicLong cpuTimeAccumulator,
      Optional<byte[]> cacheKeyPrefix
```

### BoundedWildcard
Can generalize to `? extends SegmentDescriptor`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java

  @Override
  public <T> QueryRunner<T> getQueryRunnerForSegments(Query<T> query, Iterable<SegmentDescriptor> specs)
  {
    final DataSource dataSourceFromQuery = query.getDataSource();
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
   * @param callback Segment loading callback
   */
  private void addSegments(Collection<DataSegment> segments, final DataSegmentChangeCallback callback)
  {
    // Start a temporary thread pool to load segments into page cache during bootstrap
```

### BoundedWildcard
Can generalize to `? extends DataSegmentChangeRequest`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    private CustomSettableFuture(
        LinkedHashSet<CustomSettableFuture> waitingFutures,
        Map<DataSegmentChangeRequest, AtomicReference<Status>> statusRefs
    )
    {
```

### BoundedWildcard
Can generalize to `? extends AtomicReference`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    private CustomSettableFuture(
        LinkedHashSet<CustomSettableFuture> waitingFutures,
        Map<DataSegmentChangeRequest, AtomicReference<Status>> statusRefs
    )
    {
```

### BoundedWildcard
Can generalize to `? extends DataSegmentChangeRequest`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
  }

  public ListenableFuture<List<DataSegmentChangeRequestAndStatus>> processBatch(List<DataSegmentChangeRequest> changeRequests)
  {
    boolean isAnyRequestDone = false;
```

### BoundedWildcard
Can generalize to `? extends ColumnSpec`
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
public class CatalogUtils
{
  public static List<String> columnNames(List<ColumnSpec> columns)
  {
    return columns
```

### BoundedWildcard
Can generalize to `? extends T`
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java

  public static <T> List<T> concatLists(
      @Nullable final List<T> base,
      @Nullable final List<T> additions
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
  public static <T> List<T> concatLists(
      @Nullable final List<T> base,
      @Nullable final List<T> additions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ColumnDefn`
in `server/src/main/java/org/apache/druid/catalog/model/TableDefn.java`
#### Snippet
```java
  }

  public static Map<String, ColumnDefn> toColumnMap(final List<ColumnDefn> colTypes)
  {
    ImmutableMap.Builder<String, ColumnDefn> builder = ImmutableMap.builder();
```

### BoundedWildcard
Can generalize to `? extends ColumnSpec`
in `server/src/main/java/org/apache/druid/catalog/model/TableDefn.java`
#### Snippet
```java
   * list. This merge operation cannot remove columns or change order.
   */
  public List<ColumnSpec> mergeColumns(List<ColumnSpec> columns, List<ColumnSpec> update)
  {
    if (update == null || update.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends ColumnSpec`
in `server/src/main/java/org/apache/druid/catalog/model/TableDefn.java`
#### Snippet
```java
  }

  public void validateColumns(List<ColumnSpec> columns, ObjectMapper jsonMapper)
  {
    if (columns == null) {
```

### BoundedWildcard
Can generalize to `? extends PropertyDefn`
in `server/src/main/java/org/apache/druid/catalog/model/ObjectDefn.java`
#### Snippet
```java
  }

  protected static Map<String, PropertyDefn<?>> toPropertyMap(final List<PropertyDefn<?>> props)
  {
    ImmutableMap.Builder<String, PropertyDefn<?>> builder = ImmutableMap.builder();
```

### BoundedWildcard
Can generalize to `? extends SslContextFactory.Server`
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerModule.java`
#### Snippet
```java
      ServerConfig config,
      TLSServerConfig tlsServerConfig,
      Binding<SslContextFactory.Server> sslContextFactoryBinding,
      TLSCertificateChecker certificateChecker
  )
```

### BoundedWildcard
Can generalize to `? extends PropertyDefn`
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
      final String name,
      final String typeValue,
      final List<PropertyDefn<?>> fields,
      final List<ColumnDefn> columnDefns
  )
```

### BoundedWildcard
Can generalize to `? extends InputFormatDefn`
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
    private static List<PropertyDefn<?>> addFormatProperties(
        final List<PropertyDefn<?>> properties,
        final List<InputFormatDefn> formats
    )
    {
```

### BoundedWildcard
Can generalize to `? extends KeyHolder`
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
      final CuratorServiceAnnouncer announcer,
      final Injector injector,
      final Set<KeyHolder<DruidNode>> nodesToAnnounce,
      final Lifecycle lifecycle
  ) throws Exception
```

### BoundedWildcard
Can generalize to `? extends DruidNode`
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
   * @param key The key to use in finding the DruidNode instance
   */
  public static void registerKey(Binder binder, Key<DruidNode> key)
  {
    DruidBinders.discoveryAnnouncementBinder(binder).addBinding().toInstance(new KeyHolder<>(key));
```

### BoundedWildcard
Can generalize to `? super ZkPathsConfig`
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
    private final Function<ZkPathsConfig, String> latchPathFn;

    DruidLeaderSelectorProvider(Function<ZkPathsConfig, String> latchPathFn)
    {
      this.latchPathFn = latchPathFn;
```

### BoundedWildcard
Can generalize to `? extends SegmentWrangler`
in `server/src/main/java/org/apache/druid/segment/MapSegmentWrangler.java`
#### Snippet
```java

  @Inject
  public MapSegmentWrangler(final Map<Class<? extends DataSource>, SegmentWrangler> wranglers)
  {
    this.wranglers = wranglers;
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/indexer/SQLMetadataStorageUpdaterJobHandler.java`
#### Snippet
```java

  @Override
  public void publishSegments(final String tableName, final List<DataSegment> segments, final ObjectMapper mapper)
  {
    dbi.withHandle(
```

### BoundedWildcard
Can generalize to `? extends StorageLocationConfig`
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java
  }

  public SegmentLoaderConfig withLocations(List<StorageLocationConfig> locations)
  {
    SegmentLoaderConfig retVal = new SegmentLoaderConfig();
```

### BoundedWildcard
Can generalize to `? extends ImmutableSegmentLoadInfo`
in `server/src/main/java/org/apache/druid/segment/handoff/CoordinatorBasedSegmentHandoffNotifier.java`
#### Snippet
```java
  }

  static boolean isHandOffComplete(List<ImmutableSegmentLoadInfo> serverView, SegmentDescriptor descriptor)
  {
    for (ImmutableSegmentLoadInfo segmentLoadInfo : serverView) {
```

### BoundedWildcard
Can generalize to `? extends StorageLocation`
in `server/src/main/java/org/apache/druid/segment/loading/RoundRobinStorageLocationSelectorStrategy.java`
#### Snippet
```java

  @JsonCreator
  public RoundRobinStorageLocationSelectorStrategy(@JacksonInject List<StorageLocation> storageLocations)
  {
    this.storageLocations = storageLocations;
```

### BoundedWildcard
Can generalize to `? extends StorageLocation`
in `server/src/main/java/org/apache/druid/segment/loading/RandomStorageLocationSelectorStrategy.java`
#### Snippet
```java

  @JsonCreator
  public RandomStorageLocationSelectorStrategy(@JacksonInject final List<StorageLocation> storageLocations)
  {
    this.storageLocations = storageLocations;
```

### BoundedWildcard
Can generalize to `? super SegmentReference`
in `server/src/main/java/org/apache/druid/segment/realtime/FireHydrant.java`
#### Snippet
```java
   */
  public Optional<Pair<SegmentReference, Closeable>> getSegmentForQuery(
      Function<SegmentReference, SegmentReference> segmentMapFn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends SegmentReference`
in `server/src/main/java/org/apache/druid/segment/realtime/FireHydrant.java`
#### Snippet
```java
   */
  public Optional<Pair<SegmentReference, Closeable>> getSegmentForQuery(
      Function<SegmentReference, SegmentReference> segmentMapFn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends FireDepartment`
in `server/src/main/java/org/apache/druid/segment/realtime/RealtimeMetricsMonitor.java`
#### Snippet
```java
  }

  public RealtimeMetricsMonitor(List<FireDepartment> fireDepartments, Map<String, String[]> dimensions)
  {
    this.fireDepartments = fireDepartments;
```

### BoundedWildcard
Can generalize to `? extends File`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/LocalFirehoseFactory.java`
#### Snippet
```java

  @Override
  public FiniteFirehoseFactory<StringInputRowParser, File> withSplit(InputSplit<File> split)
  {
    final File newFile = split.get();
```

### BoundedWildcard
Can generalize to `? super InputRow`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PredicateFirehose.java`
#### Snippet
```java
  private InputRow savedInputRow = null;

  public PredicateFirehose(Firehose firehose, Predicate<InputRow> predicate)
  {
    this.firehose = firehose;
```

### BoundedWildcard
Can generalize to `? extends List`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/CombiningFirehoseFactory.java`
#### Snippet
```java

  @Override
  public FiniteFirehoseFactory<InputRowParser, List<FirehoseFactory>> withSplit(InputSplit<List<FirehoseFactory>> split)
  {
    return new CombiningFirehoseFactory(split.get());
```

### BoundedWildcard
Can generalize to `? extends JsonIterator`>
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/SqlFirehose.java`
#### Snippet
```java

  public SqlFirehose(
      Iterator<JsonIterator<Map<String, Object>>> lineIterators,
      InputRowParser<?> parser,
      Closeable closer
```

### BoundedWildcard
Can generalize to `? super T`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/SqlFetcher.java`
#### Snippet
```java
      @Nullable File temporaryDirectory,
      FetchConfig fetchConfig,
      ObjectOpenFunction<T> openObjectFunction
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SegmentPublisherHelper.java`
#### Snippet
```java
   *   See {@link #annotateAtomicUpdateGroupFn}.
   */
  static Set<DataSegment> annotateShardSpec(Set<DataSegment> segments)
  {
    final Map<Interval, List<DataSegment>> intervalToSegments = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends Committer`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java

  @Override
  public IncrementalIndexAddResult add(InputRow row, Supplier<Committer> committerSupplier)
      throws IndexSizeExceededException
  {
```

### BoundedWildcard
Can generalize to `? extends InputRow`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

    @VisibleForTesting
    void addRows(Iterable<InputRow> rows) throws InterruptedException
    {
      for (final InputRow row : rows) {
```

### BoundedWildcard
Can generalize to `? super Map`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
    private volatile Long requestedShutdownTimeNs = null;

    EventReceiverFirehose(InputRowParser<Map<String, Object>> parser)
    {
      this.buffer = new ArrayBlockingQueue<>(bufferSize);
```

### BoundedWildcard
Can generalize to `? extends QueryRunnerFactoryConglomerate`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/UnifiedIndexerAppenderatorsManager.java`
#### Snippet
```java
      ObjectMapper objectMapper,
      ServiceEmitter serviceEmitter,
      Provider<QueryRunnerFactoryConglomerate> queryRunnerFactoryConglomerateProvider
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/TransactionalSegmentPublisher.java`
#### Snippet
```java
      @Nullable Set<DataSegment> segmentsToDrop,
      Set<DataSegment> segmentsToPublish,
      Function<Set<DataSegment>, Set<DataSegment>> outputSegmentsAnnotateFunction,
      @Nullable Object commitMetadata
  ) throws IOException
```

### BoundedWildcard
Can generalize to `? extends SegmentDescriptor`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SinkQuerySegmentWalker.java`
#### Snippet
```java

  @Override
  public <T> QueryRunner<T> getQueryRunnerForSegments(final Query<T> query, final Iterable<SegmentDescriptor> specs)
  {
    // We only handle one particular dataSource. Make sure that's what we have, then ignore from here on out.
```

### BoundedWildcard
Can generalize to `? extends Committer`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
      final SegmentIdWithShardSpec identifier,
      final InputRow row,
      @Nullable final Supplier<Committer> committerSupplier,
      final boolean allowIncrementalPersists
  ) throws IndexSizeExceededException, SegmentNotWritableException
```

### BoundedWildcard
Can generalize to `? extends Committer`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
      final SegmentIdWithShardSpec identifier,
      final InputRow row,
      @Nullable final Supplier<Committer> committerSupplier,
      final boolean allowIncrementalPersists
  ) throws IndexSizeExceededException, SegmentNotWritableException
```

### BoundedWildcard
Can generalize to `? extends Committer`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
  }

  private Supplier<Committer> wrapCommitterSupplier(final Supplier<Committer> committerSupplier)
  {
    return () -> wrapCommitter(committerSupplier.get());
```

### BoundedWildcard
Can generalize to `? super SegmentWithState`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
    }

    void finishAppendingToCurrentActiveSegment(Consumer<SegmentWithState> stateTransitionFn)
    {
      Preconditions.checkNotNull(appendingSegment, "appendingSegment");
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BaseAppenderatorDriver.java`
#### Snippet
```java
      @Nullable Set<DataSegment> segmentsToBeOverwritten,
      @Nullable Set<DataSegment> segmentsToBeDropped,
      @Nullable Set<DataSegment> tombstones,
      SegmentsAndCommitMetadata segmentsAndCommitMetadata,
      TransactionalSegmentPublisher publisher,
```

### BoundedWildcard
Can generalize to `? extends MetadataStorageTablesConfig`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSupervisorManager.java`
#### Snippet
```java
      @Json ObjectMapper jsonMapper,
      SQLMetadataConnector connector,
      Supplier<MetadataStorageTablesConfig> dbTables
  )
  {
```

### BoundedWildcard
Can generalize to `? extends MetadataCASUpdate`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataConnector.java`
#### Snippet
```java
  @Override
  public boolean compareAndSwap(
      List<MetadataCASUpdate> updates
  )
  {
```

### BoundedWildcard
Can generalize to `? extends MetadataStorageConnectorConfig`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataConnector.java`
#### Snippet
```java

  public SQLMetadataConnector(
      Supplier<MetadataStorageConnectorConfig> config,
      Supplier<MetadataStorageTablesConfig> tablesConfigSupplier
  )
```

### BoundedWildcard
Can generalize to `? extends MetadataStorageTablesConfig`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataConnector.java`
#### Snippet
```java
  public SQLMetadataConnector(
      Supplier<MetadataStorageConnectorConfig> config,
      Supplier<MetadataStorageTablesConfig> tablesConfigSupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? extends NonnullPair`
in `server/src/main/java/org/apache/druid/discovery/DiscoveryDruidNode.java`
#### Snippet
```java
   */
  @Deprecated
  private static Map<String, Object> toMap(List<NonnullPair<String, Object>> pairs)
  {
    final Map<String, Object> map = Maps.newHashMapWithExpectedSize(pairs.size());
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `server/src/main/java/org/apache/druid/discovery/DruidNodeDiscoveryProvider.java`
#### Snippet
```java

      @Override
      public void nodesRemoved(Collection<DiscoveryDruidNode> nodesDisappeared)
      {
        synchronized (lock) {
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `server/src/main/java/org/apache/druid/discovery/DruidNodeDiscoveryProvider.java`
#### Snippet
```java
    {
      @Override
      public void nodesAdded(Collection<DiscoveryDruidNode> nodesDiscovered)
      {
        synchronized (lock) {
```

### BoundedWildcard
Can generalize to `? extends NodeRole`
in `server/src/main/java/org/apache/druid/initialization/ServerInjectorBuilder.java`
#### Snippet
```java
  }

  public static Module registerNodeRoleModule(Set<NodeRole> nodeRoles)
  {
    return binder -> {
```

### BoundedWildcard
Can generalize to `? extends TaskIdentifier`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java
  }

  private void updateTaskMetadatas(String tasksTable, List<TaskIdentifier> taskIdentifiers)
  {
    connector.retryWithHandle(
```

### BoundedWildcard
Can generalize to `? extends EntryType`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java
    private final TypeReference<StatusType> statusType;

    TaskInfoMapper(ObjectMapper objectMapper, TypeReference<EntryType> entryType, TypeReference<StatusType> statusType)
    {
      this.objectMapper = objectMapper;
```

### BoundedWildcard
Can generalize to `? extends StatusType`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java
    private final TypeReference<StatusType> statusType;

    TaskInfoMapper(ObjectMapper objectMapper, TypeReference<EntryType> entryType, TypeReference<StatusType> statusType)
    {
      this.objectMapper = objectMapper;
```

### BoundedWildcard
Can generalize to `? extends Repository`
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
  }

  private DefaultTeslaAether createTeslaAether(List<Repository> remoteRepositories)
  {
    if (!useProxy) {
```

### BoundedWildcard
Can generalize to `? super OutputStream`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java

  @SuppressForbidden(reason = "System#out")
  private static <T> T withOutputStream(Function<OutputStream, T> f, String outputFileName) throws IOException
  {
    if (outputFileName == null) {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java

  private int markNonOvershadowedSegmentsAsUsed(
      List<DataSegment> unusedSegments,
      SegmentTimeline timeline
  )
```

### BoundedWildcard
Can generalize to `? extends MetadataStorageTablesConfig`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
      ObjectMapper jsonMapper,
      Supplier<SegmentsMetadataManagerConfig> config,
      Supplier<MetadataStorageTablesConfig> dbTables,
      SQLMetadataConnector connector
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `services/src/main/java/org/apache/druid/cli/convert/DatabasePropertiesConverter.java`
#### Snippet
```java
      Properties properties,
      String tablePrefix,
      Map<String, String> retVal,
      String property,
      String tablename
```

### BoundedWildcard
Can generalize to `? super String`
in `services/src/main/java/org/apache/druid/cli/convert/DatabasePropertiesConverter.java`
#### Snippet
```java
      Properties properties,
      String tablePrefix,
      Map<String, String> retVal,
      String property,
      String tablename
```

### BoundedWildcard
Can generalize to `? extends DruidModule`
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
  }

  private void registerModules(ObjectMapper jsonMapper, Iterable<DruidModule> fromExtensions)
  {
    for (DruidModule druidModule : fromExtensions) {
```

### BoundedWildcard
Can generalize to `? extends Server`
in `services/src/main/java/org/apache/druid/server/router/QueryHostFinder.java`
#### Snippet
```java
  }

  private Server findServerInner(final Pair<String, Server> selected)
  {
    if (selected == null) {
```

### BoundedWildcard
Can generalize to `? extends TieredBrokerConfig`
in `services/src/main/java/org/apache/druid/server/router/CoordinatorRuleManager.java`
#### Snippet
```java
  public CoordinatorRuleManager(
      @Json ObjectMapper jsonMapper,
      Supplier<TieredBrokerConfig> config,
      @Coordinator DruidLeaderClient druidLeaderClient
  )
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
          {
            @Override
            public void nodesAdded(Collection<DiscoveryDruidNode> nodes)
            {
              nodes.forEach(
```

### BoundedWildcard
Can generalize to `? extends TieredBrokerSelectorStrategy`
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
      TieredBrokerConfig tierConfig,
      DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
      List<TieredBrokerSelectorStrategy> strategies
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java

            @Override
            public void nodesRemoved(Collection<DiscoveryDruidNode> nodes)
            {
              nodes.forEach(
```

### BoundedWildcard
Can generalize to `? extends SortColumn`
in `processing/src/main/java/org/apache/druid/frame/key/ByteRowKeyComparator.java`
#### Snippet
```java
   * Public so {@link FrameComparisonWidgetImpl} can use it.
   */
  public static int[] computeAscDescRunLengths(final List<SortColumn> sortColumns)
  {
    final IntList ascDescRunLengths = new IntArrayList(4);
```

### BoundedWildcard
Can generalize to `? extends FrameFilePartialFetch`
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileHttpResponseHandler.java`
#### Snippet
```java

  private ClientResponse<FrameFilePartialFetch> response(
      final ClientResponse<FrameFilePartialFetch> clientResponse,
      final ChannelBuffer content
  )
```

### BoundedWildcard
Can generalize to `? extends FrameFilePartialFetch`
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileHttpResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<FrameFilePartialFetch> done(final ClientResponse<FrameFilePartialFetch> clientResponse)
  {
    return ClientResponse.finished(clientResponse.getObj());
```

### BoundedWildcard
Can generalize to `? extends FrameFilePartialFetch`
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileHttpResponseHandler.java`
#### Snippet
```java
  @Override
  public void exceptionCaught(
      final ClientResponse<FrameFilePartialFetch> clientResponse,
      final Throwable e
  )
```

### BoundedWildcard
Can generalize to `? extends HttpClient`
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
      @Smile ObjectMapper smileMapper,
      QueryHostFinder hostFinder,
      @Router Provider<HttpClient> httpClientProvider,
      @Router DruidHttpClientConfig httpClientConfig,
      ServiceEmitter emitter,
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/frame/field/StringFieldWriter.java`
#### Snippet
```java
      final long position,
      final long maxSize,
      final List<ByteBuffer> byteBuffers
  )
  {
```

### BoundedWildcard
Can generalize to `? extends FieldReader`
in `processing/src/main/java/org/apache/druid/frame/field/RowReader.java`
#### Snippet
```java
  private final List<FieldReader> fieldReaders;

  public RowReader(List<FieldReader> fieldReaders)
  {
    this.fieldReaders = fieldReaders;
```

### BoundedWildcard
Can generalize to `? extends SortColumn`
in `processing/src/main/java/org/apache/druid/frame/write/FrameWriters.java`
#### Snippet
```java
  public static RowSignature sortableSignature(
      final RowSignature signature,
      final List<SortColumn> sortColumns
  )
  {
```

### BoundedWildcard
Can generalize to `? extends SortColumn`
in `processing/src/main/java/org/apache/druid/frame/write/FrameWriterUtils.java`
#### Snippet
```java
   */
  private static boolean areSortColumnsPrefixOfSignature(
      final List<SortColumn> sortColumns,
      final RowSignature signature
  )
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/frame/write/columnar/StringFrameColumnWriter.java`
#### Snippet
```java
   * Returns the sum of remaining bytes in the provided list of byte buffers.
   */
  private static int countBytes(final List<ByteBuffer> buffers)
  {
    long count = 0;
```

### BoundedWildcard
Can generalize to `? extends ReadableFrameChannel`
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableConcatFrameChannel.java`
#### Snippet
```java
  private ReadableFrameChannel currentChannel;

  private ReadableConcatFrameChannel(Iterator<ReadableFrameChannel> channelIterator)
  {
    this.channelIterator = channelIterator;
```

### BoundedWildcard
Can generalize to `? extends FrameColumnWriter`
in `processing/src/main/java/org/apache/druid/frame/write/columnar/ColumnarFrameWriter.java`
#### Snippet
```java
      final List<SortColumn> sortColumns,
      @Nullable final AppendableMemory rowOrderMemory,
      final List<FrameColumnWriter> columnWriters
  )
  {
```

### BoundedWildcard
Can generalize to `? extends FieldWriter`
in `processing/src/main/java/org/apache/druid/frame/write/RowBasedFrameWriter.java`
#### Snippet
```java
      final RowSignature signature,
      final List<SortColumn> sortColumns,
      final List<FieldWriter> fieldWriters,
      @Nullable final Supplier<MemoryRange<Memory>> rowMemorySupplier,
      @Nullable final AppendableMemory rowOrderMemory,
```

### BoundedWildcard
Can generalize to `? extends MemoryRange`
in `processing/src/main/java/org/apache/druid/frame/write/RowBasedFrameWriter.java`
#### Snippet
```java
      final List<SortColumn> sortColumns,
      final List<FieldWriter> fieldWriters,
      @Nullable final Supplier<MemoryRange<Memory>> rowMemorySupplier,
      @Nullable final AppendableMemory rowOrderMemory,
      final AppendableMemory rowOffsetMemory,
```

### BoundedWildcard
Can generalize to `? extends FrameColumnReader`
in `processing/src/main/java/org/apache/druid/frame/segment/columnar/FrameQueryableIndex.java`
#### Snippet
```java
      final Frame frame,
      final RowSignature signature,
      final List<FrameColumnReader> columnReaders
  )
  {
```

### BoundedWildcard
Can generalize to `? extends FieldReader`
in `processing/src/main/java/org/apache/druid/frame/segment/row/FrameColumnSelectorFactory.java`
#### Snippet
```java
      final Frame frame,
      final RowSignature frameSignature,
      final List<FieldReader> fieldReaders,
      final ReadableFrameRowPointer rowPointer
  )
```

### BoundedWildcard
Can generalize to `? extends ReadableFrameChannel`
in `processing/src/main/java/org/apache/druid/frame/processor/AwaitAnyWidget.java`
#### Snippet
```java
  private final List<ChannelListener> listeners;

  public AwaitAnyWidget(final List<ReadableFrameChannel> channels)
  {
    this.channels = channels;
```

### BoundedWildcard
Can generalize to `? extends OutputChannel`
in `processing/src/main/java/org/apache/druid/frame/processor/OutputChannels.java`
#### Snippet
```java
   * provided channels.
   */
  public static OutputChannels wrapReadOnly(final List<OutputChannel> outputChannels)
  {
    return new OutputChannels(outputChannels.stream().map(OutputChannel::readOnly).collect(Collectors.toList()));
```

### BoundedWildcard
Can generalize to `? extends ReadableFrameChannel`
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessors.java`
#### Snippet
```java
   */
  public static void closeAll(
      final List<ReadableFrameChannel> readableFrameChannels,
      final List<WritableFrameChannel> writableFrameChannels,
      final Closeable... otherCloseables
```

### BoundedWildcard
Can generalize to `? extends WritableFrameChannel`
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessors.java`
#### Snippet
```java
  public static void closeAll(
      final List<ReadableFrameChannel> readableFrameChannels,
      final List<WritableFrameChannel> writableFrameChannels,
      final Closeable... otherCloseables
  ) throws IOException
```

### BoundedWildcard
Can generalize to `? super WritableFrameChannel`
in `processing/src/main/java/org/apache/druid/frame/processor/OutputChannel.java`
#### Snippet
```java
  }

  public OutputChannel mapWritableChannel(final Function<WritableFrameChannel, WritableFrameChannel> mapFn)
  {
    if (writableChannel == null) {
```

### BoundedWildcard
Can generalize to `? extends WritableFrameChannel`
in `processing/src/main/java/org/apache/druid/frame/processor/OutputChannel.java`
#### Snippet
```java
  }

  public OutputChannel mapWritableChannel(final Function<WritableFrameChannel, WritableFrameChannel> mapFn)
  {
    if (writableChannel == null) {
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
      final FrameProcessor<T> processor,
      final ListenableFuture<?> finishedFuture,
      @Nullable final List<ListenableFuture<?>> writabilityFutures
  )
  {
```

### BoundedWildcard
Can generalize to `? extends FrameProcessor`
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
   * Logs (but does not throw) exceptions encountered while running {@link FrameProcessor#cleanup()}.
   */
  private void cancel(final Set<FrameProcessor<?>> processorsToCancel)
      throws InterruptedException
  {
```

### BoundedWildcard
Can generalize to `? extends Supplier`
in `processing/src/main/java/org/apache/druid/frame/processor/MultiColumnSelectorFactory.java`
#### Snippet
```java

  public MultiColumnSelectorFactory(
      final List<Supplier<ColumnSelectorFactory>> factorySuppliers,
      final ColumnInspector columnInspector
  )
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/DruidMetrics.java`
#### Snippet
```java
  public static final String PARTITION = "partition";

  public static int findNumComplexAggs(List<AggregatorFactory> aggs)
  {
    int retVal = 0;
```

### BoundedWildcard
Can generalize to `? super Query`
in `processing/src/main/java/org/apache/druid/query/DruidMetrics.java`
#### Snippet
```java
  public static <T> QueryMetrics<?> makeRequestMetrics(
      final GenericQueryMetricsFactory queryMetricsFactory,
      final QueryToolChest<T, Query<T>> toolChest,
      final Query<T> query,
      final String remoteAddr
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/guice/ExtensionsLoader.java`
#### Snippet
```java
    private final Set<String> implClassNamesToLoad = new HashSet<>();

    private ServiceLoadingFromExtensions(Class<T> serviceClass)
    {
      this.serviceClass = serviceClass;
```

### BoundedWildcard
Can generalize to `? extends ColumnType`
in `processing/src/main/java/org/apache/druid/query/InlineDataSource.java`
#### Snippet
```java
  private static InlineDataSource fromJson(
      @JsonProperty("columnNames") List<String> columnNames,
      @JsonProperty("columnTypes") List<ColumnType> columnTypes,
      @JsonProperty("rows") ArrayList<Object[]> rows
  )
```

### BoundedWildcard
Can generalize to `? extends DataSource`
in `processing/src/main/java/org/apache/druid/query/UnnestDataSource.java`
#### Snippet
```java

  @Override
  public DataSource withChildren(List<DataSource> children)
  {
    if (children.size() != 1) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
  }

  private <T> void runWorker(final FrameProcessor<T> worker, final Consumer<T> outConsumer)
  {
    Futures.addCallback(
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
  }

  private <T> void runWorker(final FrameProcessor<T> worker, final Consumer<T> outConsumer)
  {
    Futures.addCallback(
```

### BoundedWildcard
Can generalize to `? extends ClusterByPartitions`
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
      final FrameReader frameReader,
      final ClusterBy clusterBy,
      final ListenableFuture<ClusterByPartitions> outputPartitionsFuture,
      final FrameProcessorExecutor exec,
      final File temporaryDirectory,
```

### BoundedWildcard
Can generalize to `? extends MemoryAllocator`
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
      final File temporaryDirectory,
      final OutputChannelFactory outputChannelFactory,
      final Supplier<MemoryAllocator> innerFrameAllocatorMaker,
      final int maxActiveProcessors,
      final int maxChannelsPerProcessor,
```

### BoundedWildcard
Can generalize to `? super Query`
in `processing/src/main/java/org/apache/druid/query/ResultMergeQueryRunner.java`
#### Snippet
```java
  public ResultMergeQueryRunner(
      QueryRunner<T> baseRunner,
      Function<Query<T>, Comparator<T>> comparatorGenerator,
      Function<Query<T>, BinaryOperator<T>> mergeFnGenerator
  )
```

### BoundedWildcard
Can generalize to `? extends Comparator`
in `processing/src/main/java/org/apache/druid/query/ResultMergeQueryRunner.java`
#### Snippet
```java
  public ResultMergeQueryRunner(
      QueryRunner<T> baseRunner,
      Function<Query<T>, Comparator<T>> comparatorGenerator,
      Function<Query<T>, BinaryOperator<T>> mergeFnGenerator
  )
```

### BoundedWildcard
Can generalize to `? super Query`
in `processing/src/main/java/org/apache/druid/query/ResultMergeQueryRunner.java`
#### Snippet
```java
      QueryRunner<T> baseRunner,
      Function<Query<T>, Comparator<T>> comparatorGenerator,
      Function<Query<T>, BinaryOperator<T>> mergeFnGenerator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends BinaryOperator`
in `processing/src/main/java/org/apache/druid/query/ResultMergeQueryRunner.java`
#### Snippet
```java
      QueryRunner<T> baseRunner,
      Function<Query<T>, Comparator<T>> comparatorGenerator,
      Function<Query<T>, BinaryOperator<T>> mergeFnGenerator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
  private void waitForFutureCompletion(
      GroupByQuery query,
      List<ListenableFuture<Void>> futures,
      IncrementalIndex closeOnFailure
  )
```

### BoundedWildcard
Can generalize to `? extends GroupByQueryConfig`
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
  public GroupByMergedQueryRunner(
      QueryProcessingPool queryProcessingPool,
      Supplier<GroupByQueryConfig> configSupplier,
      QueryWatcher queryWatcher,
      Iterable<QueryRunner<T>> queryables
```

### BoundedWildcard
Can generalize to `? super Cursor`
in `processing/src/main/java/org/apache/druid/query/QueryRunnerHelper.java`
#### Snippet
```java
      final boolean descending,
      final Granularity granularity,
      final Function<Cursor, Result<T>> mapFn,
      @Nullable final QueryMetrics<?> queryMetrics
  )
```

### BoundedWildcard
Can generalize to `? extends Result`
in `processing/src/main/java/org/apache/druid/query/QueryRunnerHelper.java`
#### Snippet
```java
      final boolean descending,
      final Granularity granularity,
      final Function<Cursor, Result<T>> mapFn,
      @Nullable final QueryMetrics<?> queryMetrics
  )
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/CacheStrategy.java`
#### Snippet
```java
   */
  static void fetchAggregatorsFromCache(
      List<AggregatorFactory> aggregators,
      Iterator<Object> resultIter,
      boolean isResultLevelCache,
```

### BoundedWildcard
Can generalize to `? extends DataSource`
in `processing/src/main/java/org/apache/druid/query/QueryDataSource.java`
#### Snippet
```java

  @Override
  public DataSource withChildren(List<DataSource> children)
  {
    if (children.size() != 1) {
```

### BoundedWildcard
Can generalize to `? super QueryRunner`
in `processing/src/main/java/org/apache/druid/query/FluentQueryRunnerBuilder.java`
#### Snippet
```java
    }

    public FluentQueryRunner map(final Function<QueryRunner<T>, QueryRunner<T>> mapFn)
    {
      return from(mapFn.apply(baseRunner));
```

### BoundedWildcard
Can generalize to `? extends QueryRunner`
in `processing/src/main/java/org/apache/druid/query/FluentQueryRunnerBuilder.java`
#### Snippet
```java
    }

    public FluentQueryRunner map(final Function<QueryRunner<T>, QueryRunner<T>> mapFn)
    {
      return from(mapFn.apply(baseRunner));
```

### BoundedWildcard
Can generalize to `? extends QueryRunner`
in `processing/src/main/java/org/apache/druid/query/ConcatQueryRunner.java`
#### Snippet
```java
  private final Sequence<QueryRunner<T>> queryRunners;

  public ConcatQueryRunner(Sequence<QueryRunner<T>> queryRunners)
  {
    this.queryRunners = queryRunners;
```

### BoundedWildcard
Can generalize to `? super Query`
in `processing/src/main/java/org/apache/druid/query/FinalizeResultsQueryRunner.java`
#### Snippet
```java
  public FinalizeResultsQueryRunner(
      QueryRunner<T> baseRunner,
      QueryToolChest<T, Query<T>> toolChest
  )
  {
```

### BoundedWildcard
Can generalize to `? extends V`
in `processing/src/main/java/org/apache/druid/query/PrioritizedExecutorService.java`
#### Snippet
```java
  private final long insertionPlace;

  PrioritizedListenableFutureTask(ListenableFutureTask<V> delegate, int priority, long position)
  {
    this.delegate = delegate;
```

### BoundedWildcard
Can generalize to `? extends DataSource`
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java

  @Override
  public DataSource withChildren(List<DataSource> children)
  {
    if (children.size() != 2) {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/Queries.java`
#### Snippet
```java
  public static List<PostAggregator> prepareAggregations(
      List<String> otherOutputNames,
      List<AggregatorFactory> aggFactories,
      List<PostAggregator> postAggs
  )
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/Queries.java`
#### Snippet
```java
{
  public static List<PostAggregator> decoratePostAggregators(
      List<PostAggregator> postAggs,
      Map<String, AggregatorFactory> aggFactories
  )
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/Queries.java`
#### Snippet
```java
      final VirtualColumns virtualColumns,
      @Nullable final DimFilter filter,
      final List<DimensionSpec> dimensions,
      final List<AggregatorFactory> aggregators,
      final List<String> additionalColumns
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/Queries.java`
#### Snippet
```java
      @Nullable final DimFilter filter,
      final List<DimensionSpec> dimensions,
      final List<AggregatorFactory> aggregators,
      final List<String> additionalColumns
  )
```

### BoundedWildcard
Can generalize to `? extends ScanResultValue`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryQueryToolChest.java`
#### Snippet
```java

  @Override
  public Sequence<Object[]> resultsAsArrays(final ScanQuery query, final Sequence<ScanResultValue> resultSequence)
  {
    final List<String> fields = resultArraySignature(query).getColumnNames();
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/query/QueryContexts.java`
#### Snippet
```java
  }

  public static void addDefaults(Map<String, Object> context, Map<String, Object> defaults)
  {
    for (Entry<String, Object> entry : defaults.entrySet()) {
```

### BoundedWildcard
Can generalize to `? extends OrderBy`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQuery.java`
#### Snippet
```java
   */
  @Nullable
  private static Order computeTimeOrderFromOrderBys(final List<OrderBy> orderBys)
  {
    if (orderBys.size() == 1) {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/topn/BaseTopNAlgorithm.java`
#### Snippet
```java
  }

  protected static BufferAggregator[] makeBufferAggregators(Cursor cursor, List<AggregatorFactory> aggregatorSpecs)
  {
    BufferAggregator[] aggregators = new BufferAggregator[aggregatorSpecs.size()];
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/topn/BaseTopNAlgorithm.java`
#### Snippet
```java
    implements TopNAlgorithm<DimValSelector, Parameters>
{
  public static Aggregator[] makeAggregators(Cursor cursor, List<AggregatorFactory> aggregatorSpecs)
  {
    Aggregator[] aggregators = new Aggregator[aggregatorSpecs.size()];
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryBuilder.java`
#### Snippet
```java
  }

  public TopNQueryBuilder postAggregators(Collection<PostAggregator> p)
  {
    postAggregatorSpecs = new ArrayList<>(p); // defensive copy
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java

  @Override
  public void verifyPreconditions(List<AggregatorFactory> aggregatorSpecs, List<PostAggregator> postAggregatorSpecs)
  {
    Preconditions.checkNotNull(metric, "metric can't be null");
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java

  @Override
  public void verifyPreconditions(List<AggregatorFactory> aggregatorSpecs, List<PostAggregator> postAggregatorSpecs)
  {
    Preconditions.checkNotNull(metric, "metric can't be null");
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java

  @Override
  public Comparator getComparator(List<AggregatorFactory> aggregatorSpecs, List<PostAggregator> postAggregatorSpecs)
  {
    Comparator comp = null;
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java

  @Override
  public Comparator getComparator(List<AggregatorFactory> aggregatorSpecs, List<PostAggregator> postAggregatorSpecs)
  {
    Comparator comp = null;
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQuery.java`
#### Snippet
```java
  }

  public TopNQuery withAggregatorSpecs(List<AggregatorFactory> aggregatorSpecs)
  {
    return new TopNQueryBuilder(this).aggregators(aggregatorSpecs).build();
```

### BoundedWildcard
Can generalize to `? extends DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/DimFilters.java`
#### Snippet
```java
  }

  public static List<DimFilter> optimize(List<DimFilter> filters)
  {
    return filterNulls(Lists.transform(filters, DimFilter::optimize));
```

### BoundedWildcard
Can generalize to `? extends DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/DimFilters.java`
#### Snippet
```java
  }

  public static List<DimFilter> filterNulls(List<DimFilter> optimized)
  {
    return Lists.newArrayList(Iterables.filter(optimized, Predicates.notNull()));
```

### BoundedWildcard
Can generalize to `? extends Result`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java

  @Override
  public Sequence<Object[]> resultsAsArrays(TopNQuery query, Sequence<Result<TopNResultValue>> resultSequence)
  {
    final List<String> fields = resultArraySignature(query).getColumnNames();
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
  }

  protected static String[] extractFactoryName(final List<AggregatorFactory> aggregatorFactories)
  {
    return aggregatorFactories.stream().map(AggregatorFactory::getName).toArray(String[]::new);
```

### BoundedWildcard
Can generalize to `? extends DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
  public static final byte STRING_SEPARATOR = (byte) 0xFF;

  static byte[] computeCacheKey(byte cacheIdKey, List<DimFilter> filters)
  {
    if (filters.size() == 1) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
  public static <T> Set<T> filterShards(
      final DimFilter dimFilter,
      final Iterable<T> input,
      final Function<T, ShardSpec> converter,
      final Map<String, Optional<RangeSet<String>>> dimensionRangeCache
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
      final DimFilter dimFilter,
      final Iterable<T> input,
      final Function<T, ShardSpec> converter,
      final Map<String, Optional<RangeSet<String>>> dimensionRangeCache
  )
```

### BoundedWildcard
Can generalize to `? extends ShardSpec`
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
      final DimFilter dimFilter,
      final Iterable<T> input,
      final Function<T, ShardSpec> converter,
      final Map<String, Optional<RangeSet<String>>> dimensionRangeCache
  )
```

### BoundedWildcard
Can generalize to `? extends QueryRunner`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryRunnerFactory.java`
#### Snippet
```java
  public QueryRunner<ScanResultValue> mergeRunners(
      final QueryProcessingPool queryProcessingPool,
      final Iterable<QueryRunner<ScanResultValue>> queryRunners
  )
  {
```

### BoundedWildcard
Can generalize to `? extends List`>
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryRunnerFactory.java`
#### Snippet
```java
  @VisibleForTesting
  Sequence<ScanResultValue> nWayMergeAndLimit(
      List<List<QueryRunner<ScanResultValue>>> groupedRunners,
      QueryPlus<ScanResultValue> queryPlus,
      ResponseContext responseContext
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/query/filter/vector/MultiValueStringVectorValueMatcher.java`
#### Snippet
```java
  }

  private VectorValueMatcher makeMatcher(final Predicate<String> predicate)
  {
    final boolean matchNull = predicate.apply(null);
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/search/AutoStrategy.java`
#### Snippet
```java
  }

  private static long computeTotalCard(final QueryableIndex index, final Iterable<DimensionSpec> dimensionSpecs)
  {
    long totalCard = 0;
```

### BoundedWildcard
Can generalize to `? super SearchHit`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryRunner.java`
#### Snippet
```java
        SearchQuerySpec searchQuerySpec,
        int limit,
        final Object2IntRBTreeMap<SearchHit> set
    )
    {
```

### BoundedWildcard
Can generalize to `? super SearchHit`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryRunner.java`
#### Snippet
```java
        SearchQuerySpec searchQuerySpec,
        int limit,
        Object2IntRBTreeMap<SearchHit> set
    )
    {
```

### BoundedWildcard
Can generalize to `? extends SearchHit`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryRunner.java`
#### Snippet
```java
      Segment segment,
      int limit,
      Object2IntRBTreeMap<SearchHit> retVal
  )
  {
```

### BoundedWildcard
Can generalize to `? super SearchHit`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryRunner.java`
#### Snippet
```java
        SearchQuerySpec searchQuerySpec,
        int limit,
        Object2IntRBTreeMap<SearchHit> set
    )
    {
```

### BoundedWildcard
Can generalize to `? super SearchHit`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryRunner.java`
#### Snippet
```java
        SearchQuerySpec searchQuerySpec,
        int limit,
        Object2IntRBTreeMap<SearchHit> set
    )
    {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/groupby/having/HavingSpecUtil.java`
#### Snippet
```java
  static final byte CACHE_TYPE_ID_COUNTING = 0xA;

  public static Map<String, AggregatorFactory> computeAggregatorsMap(List<AggregatorFactory> aggregatorSpecs)
  {
    Map<String, AggregatorFactory> map = Maps.newHashMapWithExpectedSize(aggregatorSpecs.size());
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/groupby/having/HavingSpecMetricComparator.java`
#### Snippet
```java
  static final Pattern LONG_PAT = Pattern.compile("[-|+]?\\d+");

  static int compare(String aggregationName, Number value, Map<String, AggregatorFactory> aggregators, Object metricValueObj)
  {
    if (metricValueObj != null) {
```

### BoundedWildcard
Can generalize to `? extends ReferenceCountingResourceHolder`
in `processing/src/main/java/org/apache/druid/query/groupby/resource/GroupByQueryResource.java`
#### Snippet
```java
  }

  public GroupByQueryResource(List<ReferenceCountingResourceHolder<ByteBuffer>> mergeBufferHolders)
  {
    this.mergeBufferHolders = mergeBufferHolders;
```

### BoundedWildcard
Can generalize to `? extends GroupByQueryConfig`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryEngine.java`
#### Snippet
```java
  @Inject
  public GroupByQueryEngine(
      Supplier<GroupByQueryConfig> config,
      @Global NonBlockingPool<ByteBuffer> intermediateResultsBufferPool
  )
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
  }

  public static int getPostAggIndexForOrderBy(OrderByColumnSpec orderSpec, List<PostAggregator> postAggs)
  {
    int i = 0;
```

### BoundedWildcard
Can generalize to `? extends DimensionSelector`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryEngine.java`
#### Snippet
```java

    @Nullable
    private List<ByteBuffer> updateValues(ByteBuffer key, List<DimensionSelector> dims)
    {
      if (dims.size() > 0) {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
  }

  public static int getDimIndexForOrderBy(OrderByColumnSpec orderSpec, List<DimensionSpec> dimensions)
  {
    int i = 0;
```

### BoundedWildcard
Can generalize to `? extends OrderByColumnSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
  }

  public static OrderByColumnSpec getOrderByForDimName(List<OrderByColumnSpec> orderBys, String dimName)
  {
    for (OrderByColumnSpec orderBy : orderBys) {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/OrderByColumnSpec.java`
#### Snippet
```java
  }

  public static int getAggIndexForOrderBy(OrderByColumnSpec orderSpec, List<AggregatorFactory> aggregatorFactories)
  {
    int i = 0;
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ReusableEntry.java`
#### Snippet
```java
   * Create a new instance based on a particular {@link Grouper.KeySerde} and a particular Object values size.
   */
  public static <T> ReusableEntry<T> create(final Grouper.KeySerde<T> keySerde, final int numValues)
  {
    return new ReusableEntry<>(keySerde.createKey(), new Object[numValues]);
```

### BoundedWildcard
Can generalize to `? extends Entry`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/CloseableGrouperIterator.java`
#### Snippet
```java

  public CloseableGrouperIterator(
      final CloseableIterator<Entry<KeyType>> iterator,
      final Function<Grouper.Entry<KeyType>, T> transformer,
      final Closeable closeable
```

### BoundedWildcard
Can generalize to `? super Grouper.Entry`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/CloseableGrouperIterator.java`
#### Snippet
```java
  public CloseableGrouperIterator(
      final CloseableIterator<Entry<KeyType>> iterator,
      final Function<Grouper.Entry<KeyType>, T> transformer,
      final Closeable closeable
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/CloseableGrouperIterator.java`
#### Snippet
```java
  public CloseableGrouperIterator(
      final CloseableIterator<Entry<KeyType>> iterator,
      final Function<Grouper.Entry<KeyType>, T> transformer,
      final Closeable closeable
  )
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
  }

  private ColumnType getOrderByType(final OrderByColumnSpec columnSpec, final List<DimensionSpec> dimensions)
  {
    for (DimensionSpec dimSpec : dimensions) {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
      boolean hasTimestamp,
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggs,
      List<PostAggregator> postAggs,
      boolean sortByDimsFirst
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggs,
      List<PostAggregator> postAggs,
      boolean sortByDimsFirst
  )
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java

  public HashVectorGrouper(
      final Supplier<ByteBuffer> bufferSupplier,
      final int keySize,
      final AggregatorAdapters aggregators,
```

### BoundedWildcard
Can generalize to `? extends GroupByQueryConfig`
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV2.java`
#### Snippet
```java
  public GroupByStrategyV2(
      DruidProcessingConfig processingConfig,
      Supplier<GroupByQueryConfig> configSupplier,
      @Global NonBlockingPool<ByteBuffer> bufferPool,
      @Merging BlockingPool<ByteBuffer> mergeBufferPool,
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java

  ConcurrentGrouper(
      final Supplier<ByteBuffer> bufferSupplier,
      @Nullable final ReferenceCountingResourceHolder<ByteBuffer> combineBufferHolder,
      final KeySerdeFactory<KeyType> keySerdeFactory,
```

### BoundedWildcard
Can generalize to `? super Integer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
      ByteBuffer buf,
      int limit,
      Comparator<Integer> minComparator,
      LimitedBufferHashGrouper.BufferGrouperOffsetHeapIndexUpdater heapIndexUpdater
  )
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/StreamingMergeSortedGrouper.java`
#### Snippet
```java

  StreamingMergeSortedGrouper(
      final Supplier<ByteBuffer> bufferSupplier,
      final KeySerde<KeyType> keySerde,
      final ColumnSelectorFactory columnSelectorFactory,
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java

  public ParallelCombiner(
      ReferenceCountingResourceHolder<ByteBuffer> combineBufferHolder,
      AggregatorFactory[] combiningFactories,
      KeySerdeFactory<KeyType> combineKeySerdeFactory,
```

### BoundedWildcard
Can generalize to `? extends Future`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
  }

  private static void checkCombineFutures(List<Future> combineFutures)
  {
    for (Future future : combineFutures) {
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
  private Pair<List<CloseableIterator<Entry<KeyType>>>, List<Future>> buildCombineTree(
      List<? extends CloseableIterator<Entry<KeyType>>> childIterators,
      Supplier<ByteBuffer> bufferSupplier,
      AggregatorFactory[] combiningFactories,
      int combineDegree,
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
  private void waitForFutureCompletion(
      GroupByQuery query,
      List<ListenableFuture<AggregateResult>> futures,
      boolean hasTimeout,
      long timeout
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java
  public static boolean hasNoExplodingDimensions(
      final ColumnInspector inspector,
      final List<DimensionSpec> dimensions
  )
  {
```

### BoundedWildcard
Can generalize to `? super ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

    @Override
    protected void aggregateMultiValueDims(Grouper<ByteBuffer> grouper)
    {
      if (!currentRowWasPartiallyAggregated) {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

  public static void convertRowTypesToOutputTypes(
      final List<DimensionSpec> dimensionSpecs,
      final ResultRow resultRow,
      final int resultRowDimensionStart
```

### BoundedWildcard
Can generalize to `? super ByteBuffer`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

    @Override
    protected void aggregateSingleValueDims(Grouper<ByteBuffer> grouper)
    {
      if (!currentRowWasPartiallyAggregated) {
```

### BoundedWildcard
Can generalize to `? extends QueryRunner`
in `processing/src/main/java/org/apache/druid/query/operator/WindowOperatorQueryQueryRunnerFactory.java`
#### Snippet
```java
  public QueryRunner<RowsAndColumns> mergeRunners(
      QueryProcessingPool queryProcessingPool,
      Iterable<QueryRunner<RowsAndColumns>> queryRunners
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java
  public static boolean canVectorizeDimensions(
      final ColumnInspector inspector,
      final List<DimensionSpec> dimensions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends GroupByVectorColumnSelector`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java
        final VectorCursor cursor,
        final Interval queryInterval,
        final List<GroupByVectorColumnSelector> selectors,
        final ByteBuffer processingBuffer,
        @Nullable final DateTime fudgeTimestamp
```

### BoundedWildcard
Can generalize to `? extends RowsAndColumns`
in `processing/src/main/java/org/apache/druid/query/operator/SequenceOperator.java`
#### Snippet
```java

  public SequenceOperator(
      Sequence<RowsAndColumns> child
  )
  {
```

### BoundedWildcard
Can generalize to `? extends QueryRunner`
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentMetadataQueryRunnerFactory.java`
#### Snippet
```java
  public QueryRunner<SegmentAnalysis> mergeRunners(
      QueryProcessingPool queryProcessingPool,
      Iterable<QueryRunner<SegmentAnalysis>> queryRunners
  )
  {
```

### BoundedWildcard
Can generalize to `? super RowsAndColumns`
in `processing/src/main/java/org/apache/druid/query/operator/OperatorSequence.java`
#### Snippet
```java
    private OutType retVal;

    public MyReceiver(OutType initValue, Accumulator<OutType, RowsAndColumns> accumulator)
    {
      this.accumulator = accumulator;
```

### BoundedWildcard
Can generalize to `? extends Operator`
in `processing/src/main/java/org/apache/druid/query/operator/OperatorSequence.java`
#### Snippet
```java

  public OperatorSequence(
      Supplier<Operator> opSupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? super Column`
in `processing/src/main/java/org/apache/druid/query/operator/window/value/WindowValueProcessorBase.java`
#### Snippet
```java
   * @return RowsAndColumns, as in Processor.process
   */
  public RowsAndColumns processInternal(RowsAndColumns input, Function<Column, Column> fn)
  {
    final AppendableRowsAndColumns retVal = RowsAndColumns.expectAppendable(input);
```

### BoundedWildcard
Can generalize to `? extends Column`
in `processing/src/main/java/org/apache/druid/query/operator/window/value/WindowValueProcessorBase.java`
#### Snippet
```java
   * @return RowsAndColumns, as in Processor.process
   */
  public RowsAndColumns processInternal(RowsAndColumns input, Function<Column, Column> fn)
  {
    final AppendableRowsAndColumns retVal = RowsAndColumns.expectAppendable(input);
```

### BoundedWildcard
Can generalize to `? extends Column`
in `processing/src/main/java/org/apache/druid/query/operator/window/ranking/WindowRankingProcessorBase.java`
#### Snippet
```java
  public RowsAndColumns processInternal(
      RowsAndColumns incomingPartition,
      Function<int[], Column> fn
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/query/dimension/PredicateFilteredDimensionSelector.java`
#### Snippet
```java
  private final ArrayBasedIndexedInts row = new ArrayBasedIndexedInts();

  PredicateFilteredDimensionSelector(DimensionSelector selector, Predicate<String> predicate)
  {
    this.selector = selector;
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/query/dimension/PredicateFilteredDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(final Predicate<String> matcherPredicate)
  {
    final boolean matchNull = matcherPredicate.apply(null);
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampCeilExprMacro.java`
#### Snippet
```java
  }

  private static PeriodGranularity getGranularity(final List<Expr> args, final Expr.ObjectBinding bindings)
  {
    return ExprUtils.toPeriodGranularity(
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/IPv4AddressMatchExprMacro.java`
#### Snippet
```java
  }

  private IPAddressString getSubnetInfo(List<Expr> args)
  {
    String subnetArgName = "subnet";
```

### BoundedWildcard
Can generalize to `? extends ExprMacro`
in `processing/src/main/java/org/apache/druid/query/expression/GuiceExprMacroTable.java`
#### Snippet
```java
{
  @Inject
  public GuiceExprMacroTable(final Set<ExprMacro> macros)
  {
    super(ImmutableList.copyOf(macros));
```

### BoundedWildcard
Can generalize to `? super Shuttle`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
        final char[] chars,
        final Expr charsExpr,
        final Function<Shuttle, Expr> visitFn
    )
    {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
        final char[] chars,
        final Expr charsExpr,
        final Function<Shuttle, Expr> visitFn
    )
    {
```

### BoundedWildcard
Can generalize to `? super Shuttle`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
        final Expr stringExpr,
        final Expr charsExpr,
        final Function<Shuttle, Expr> visitFn
    )
    {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
        final Expr stringExpr,
        final Expr charsExpr,
        final Function<Shuttle, Expr> visitFn
    )
    {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampShiftExprMacro.java`
#### Snippet
```java
  }

  private static Period getPeriod(final List<Expr> args, final Expr.ObjectBinding bindings)
  {
    return new Period(args.get(1).eval(bindings).asString());
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampShiftExprMacro.java`
#### Snippet
```java
  }

  private static ISOChronology getTimeZone(final List<Expr> args, final Expr.ObjectBinding bindings)
  {
    final Expr timeZoneArg = args.size() > 3 ? args.get(3) : null;
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampShiftExprMacro.java`
#### Snippet
```java
  }

  private static int getStep(final List<Expr> args, final Expr.ObjectBinding bindings)
  {
    return args.get(2).eval(bindings).asInt();
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/query/expression/ContainsExpr.java`
#### Snippet
```java
      final Expr arg,
      final Expr searchStrExpr,
      final Function<String, Boolean> searchFunction,
      final Function<Shuttle, Expr> visitFunction
  )
```

### BoundedWildcard
Can generalize to `? super Shuttle`
in `processing/src/main/java/org/apache/druid/query/expression/ContainsExpr.java`
#### Snippet
```java
      final Expr searchStrExpr,
      final Function<String, Boolean> searchFunction,
      final Function<Shuttle, Expr> visitFunction
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/ContainsExpr.java`
#### Snippet
```java
      final Expr searchStrExpr,
      final Function<String, Boolean> searchFunction,
      final Function<Shuttle, Expr> visitFunction
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampFloorExprMacro.java`
#### Snippet
```java
  }

  private static PeriodGranularity computeGranularity(final List<Expr> args, final Expr.ObjectBinding bindings)
  {
    return ExprUtils.toPeriodGranularity(
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesBinaryFn.java`
#### Snippet
```java
  public TimeseriesBinaryFn(
      Granularity granularity,
      List<AggregatorFactory> aggregations
  )
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericAggregateCombiner.java`
#### Snippet
```java
  private final AggregateCombiner<T> delegate;

  public NullableNumericAggregateCombiner(AggregateCombiner<T> delegate)
  {
    this.delegate = delegate;
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/query/aggregation/SerializedStorage.java`
#### Snippet
```java
    private int nextSize;

    public DeserializingIOIterator(InputStream inputStream, StagedSerde<T> serde)
    {
      this.inputStream = new BufferedInputStream(inputStream);
```

### BoundedWildcard
Can generalize to `? extends Result`
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryQueryToolChest.java`
#### Snippet
```java
  public Sequence<Object[]> resultsAsArrays(
      final TimeseriesQuery query,
      final Sequence<Result<TimeseriesResultValue>> resultSequence
  )
  {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorAdapters.java`
#### Snippet
```java
  public static AggregatorAdapters factorizeVector(
      final VectorColumnSelectorFactory columnSelectorFactory,
      final List<AggregatorFactory> aggregatorFactories
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Adapter`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorAdapters.java`
#### Snippet
```java
  private final int spaceNeeded;

  private AggregatorAdapters(final List<Adapter> adapters)
  {
    this.adapters = adapters;
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorAdapters.java`
#### Snippet
```java
  public static AggregatorAdapters factorizeBuffered(
      final ColumnSelectorFactory columnSelectorFactory,
      final List<AggregatorFactory> aggregatorFactories
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
  }

  private int compareDims(List<DimensionSpec> dimensions, ResultRow lhs, ResultRow rhs)
  {
    final int dimensionStart = getResultRowDimensionStart();
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
  private List<List<String>> verifySubtotalsSpec(
      @Nullable List<List<String>> subtotalsSpec,
      List<DimensionSpec> dimensions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends List`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
  {
    @Nullable
    private static List<List<String>> copySubtotalSpec(@Nullable List<List<String>> subtotalsSpec)
    {
      if (subtotalsSpec == null) {
```

### BoundedWildcard
Can generalize to `? extends ColumnType`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final IntList fields,
      final List<Boolean> needsReverseList,
      final List<ColumnType> dimensionTypes,
      final List<StringComparator> comparators,
      final ResultRow lhs,
```

### BoundedWildcard
Can generalize to `? extends StringComparator`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final List<Boolean> needsReverseList,
      final List<ColumnType> dimensionTypes,
      final List<StringComparator> comparators,
      final ResultRow lhs,
      final ResultRow rhs
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    }

    public Builder setPostAggregatorSpecs(List<PostAggregator> postAggregatorSpecs)
    {
      this.postAggregatorSpecs = Lists.newArrayList(postAggregatorSpecs);
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    }

    public Builder setAggregatorSpecs(List<AggregatorFactory> aggregatorSpecs)
    {
      this.aggregatorSpecs = Lists.newArrayList(aggregatorSpecs);
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java

  private static void verifyOutputNames(
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggregators,
      List<PostAggregator> postAggregators
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
  private static void verifyOutputNames(
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggregators,
      List<PostAggregator> postAggregators
  )
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggregators,
      List<PostAggregator> postAggregators
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    }

    public Builder setDimensions(List<DimensionSpec> dimensions)
    {
      this.dimensions = Lists.newArrayList(dimensions);
```

### BoundedWildcard
Can generalize to `? extends ColumnType`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        RowBasedKey key1,
        RowBasedKey key2,
        final List<ColumnType> fieldTypes,
        int dimStart
    )
```

### BoundedWildcard
Can generalize to `? extends ColumnType`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        final long maxDictionarySize,
        final DefaultLimitSpec limitSpec,
        final List<ColumnType> valueTypes,
        @Nullable final List<String> dictionary
    )
```

### BoundedWildcard
Can generalize to `? extends ColumnType`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
  @SuppressWarnings("unchecked")
  private static Function<Comparable, Comparable>[] makeValueConvertFunctions(
      final List<ColumnType> valueTypes
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
      final Grouper<RowBasedKey> grouper,
      final GroupByQuery query,
      @Nullable final List<DimensionSpec> dimsToInclude,
      final Closeable closeable
  )
```

### BoundedWildcard
Can generalize to `? extends RowBasedKey`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java

    private static int compareDimsInRowsWithAggs(
        Grouper.Entry<RowBasedKey> entry1,
        Grouper.Entry<RowBasedKey> entry2,
        int dimStart,
```

### BoundedWildcard
Can generalize to `? extends RowBasedKey`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
    private static int compareDimsInRowsWithAggs(
        Grouper.Entry<RowBasedKey> entry1,
        Grouper.Entry<RowBasedKey> entry2,
        int dimStart,
        final List<Boolean> needsReverses,
```

### BoundedWildcard
Can generalize to `? extends ColumnType`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        final List<Boolean> aggFlags,
        final List<Integer> fieldIndices,
        final List<ColumnType> fieldTypes,
        final List<StringComparator> comparators
    )
```

### BoundedWildcard
Can generalize to `? extends StringComparator`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        final List<Integer> fieldIndices,
        final List<ColumnType> fieldTypes,
        final List<StringComparator> comparators
    )
    {
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
   * @return the list of dependent postAggregators
   */
  public static List<PostAggregator> pruneDependentPostAgg(List<PostAggregator> postAggregatorList, String postAggName)
  {
    ArrayList<PostAggregator> rv = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
      @Nullable String fieldName,
      @Nullable String expression,
      Supplier<Expr> fieldExpression
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
      byte aggregatorType,
      String fieldName,
      Supplier<Expr> fieldExpression
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
      @Nullable String fieldName,
      @Nullable String expression,
      Supplier<Expr> fieldExpression
  )
  {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java

  public static Pair<List<AggregatorFactory>, List<PostAggregator>> condensedAggregators(
      List<AggregatorFactory> aggList,
      List<PostAggregator> postAggList,
      String metric
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/FieldAccessPostAggregator.java`
#### Snippet
```java

  @Override
  public FieldAccessPostAggregator decorate(Map<String, AggregatorFactory> aggregators)
  {
    final ColumnType type;
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/FinalizingFieldAccessPostAggregator.java`
#### Snippet
```java

  @Override
  public FinalizingFieldAccessPostAggregator decorate(final Map<String, AggregatorFactory> aggregators)
  {
    final Comparator<Object> theComparator;
```

### BoundedWildcard
Can generalize to `? extends CardinalityVectorProcessor`
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityVectorAggregator.java`
#### Snippet
```java
  private final List<CardinalityVectorProcessor> processors;

  CardinalityVectorAggregator(List<CardinalityVectorProcessor> processors)
  {
    this.processors = processors;
```

### BoundedWildcard
Can generalize to `? extends SegmentCreateRequest`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
  private void insertPendingSegmentsIntoMetastore(
      Handle handle,
      Map<SegmentCreateRequest, SegmentIdWithShardSpec> createdSegments,
      String dataSource,
      Interval interval,
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java

  @Override
  public void updateSegmentMetadata(final Set<DataSegment> segments)
  {
    connector.getDBI().inTransaction(
```

### BoundedWildcard
Can generalize to `? extends SegmentCreateRequest`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      String dataSource,
      Interval interval,
      List<SegmentCreateRequest> requests
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends SegmentCreateRequest`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      Interval interval,
      boolean skipSegmentLineageCheck,
      List<SegmentCreateRequest> requests
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
  }

  private Set<String> segmentExistsBatch(final Handle handle, final Set<DataSegment> segments)
  {
    Set<String> existedSegments = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
  protected DataStoreMetadataUpdateResult dropSegmentsWithHandle(
      final Handle handle,
      final Collection<DataSegment> segmentsToDrop,
      final String dataSource
  )
```

### BoundedWildcard
Can generalize to `? extends SegmentCreateRequest`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      String dataSource,
      Interval interval,
      List<SegmentCreateRequest> requests
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java

  @Override
  public HyperUniqueFinalizingPostAggregator decorate(Map<String, AggregatorFactory> aggregators)
  {
    final AggregatorFactory theAggregatorFactory = aggregators != null ? aggregators.get(fieldName) : null;
```

### BoundedWildcard
Can generalize to `? extends Column`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/MapOfColumnsRowsAndColumns.java`
#### Snippet
```java

  public MapOfColumnsRowsAndColumns(
      Map<String, Column> mapOfColumns,
      int numRows
  )
```

### BoundedWildcard
Can generalize to `? extends RowType`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/ArrayListRowsAndColumns.java`
#### Snippet
```java

  public ArrayListRowsAndColumns(
      ArrayList<RowType> rows,
      RowAdapter<RowType> rowAdapter,
      RowSignature rowSignature
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregatorFactory.java`
#### Snippet
```java
  public static final ColumnType TYPE = ColumnType.ofComplex("hyperUnique");

  private static List<String> makeRequiredFieldNamesFromFields(List<DimensionSpec> fields)
  {
    return ImmutableList.copyOf(
```

### BoundedWildcard
Can generalize to `? extends RowsAndColumns`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/ConcatRowsAndColumns.java`
#### Snippet
```java

  public ConcatRowsAndColumns(
      ArrayList<RowsAndColumns> racBuffer
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ColumnAccessor`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/ConcatRowsAndColumns.java`
#### Snippet
```java
        ColumnType type,
        Comparator<Object> comp,
        ArrayList<ColumnAccessor> accessors
    )
    {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultOnHeapAggregatable.java`
#### Snippet
```java

  @Override
  public ArrayList<Object[]> aggregateCumulative(List<AggregatorFactory> aggFactories)
  {
    Aggregator[] aggs = new Aggregator[aggFactories.size()];
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultOnHeapAggregatable.java`
#### Snippet
```java
  @Override
  public ArrayList<Object> aggregateAll(
      List<AggregatorFactory> aggFactories
  )
  {
```

### BoundedWildcard
Can generalize to `? super ColumnAccessor`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultColumnSelectorFactoryMaker.java`
#### Snippet
```java
    }

    private <T> T withColumnAccessor(String column, Function<ColumnAccessor, T> fn)
    {
      ColumnAccessor retVal = accessorCache.get(column);
```

### BoundedWildcard
Can generalize to `? extends ColumnWithDirection`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultNaiveSortMaker.java`
#### Snippet
```java
    private final ArrayList<ColumnWithDirection> ordering;

    public DefaultNaiveSorter(ArrayList<ColumnWithDirection> ordering)
    {
      this.ordering = ordering;
```

### BoundedWildcard
Can generalize to `? extends Result`
in `processing/src/main/java/org/apache/druid/query/timeboundary/TimeBoundaryQuery.java`
#### Snippet
```java
  }

  public Iterable<Result<TimeBoundaryResultValue>> mergeResults(List<Result<TimeBoundaryResultValue>> results)
  {
    if (results == null || results.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends Result`
in `processing/src/main/java/org/apache/druid/query/datasourcemetadata/DataSourceMetadataQuery.java`
#### Snippet
```java

  public Iterable<Result<DataSourceMetadataResultValue>> mergeResults(
      List<Result<DataSourceMetadataResultValue>> results
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Result`
in `processing/src/main/java/org/apache/druid/query/timeboundary/TimeBoundaryQueryQueryToolChest.java`
#### Snippet
```java
  public Sequence<Object[]> resultsAsArrays(
      TimeBoundaryQuery query,
      Sequence<Result<TimeBoundaryResultValue>> resultSequence
  )
  {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ExpressionPostAggregator.java`
#### Snippet
```java

  @Override
  public ExpressionPostAggregator decorate(final Map<String, AggregatorFactory> aggregators)
  {
    return new ExpressionPostAggregator(
```

### BoundedWildcard
Can generalize to `? extends Function`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ExpressionPostAggregator.java`
#### Snippet
```java
      @Nullable final String ordering,
      final ExprMacroTable macroTable,
      final Map<String, Function<Object, Object>> finalizers,
      final Supplier<Expr> parsed,
      final Supplier<Set<String>> dependentFields
```

### BoundedWildcard
Can generalize to `? extends VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/VirtualColumns.java`
#### Snippet
```java
  private VirtualColumns(
      List<VirtualColumn> virtualColumns,
      Map<String, VirtualColumn> withDotSupport,
      Map<String, VirtualColumn> withoutDotSupport
  )
```

### BoundedWildcard
Can generalize to `? extends VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/VirtualColumns.java`
#### Snippet
```java
      List<VirtualColumn> virtualColumns,
      Map<String, VirtualColumn> withDotSupport,
      Map<String, VirtualColumn> withoutDotSupport
  )
  {
```

### BoundedWildcard
Can generalize to `? extends VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/VirtualColumns.java`
#### Snippet
```java

  @JsonCreator
  public static VirtualColumns create(List<VirtualColumn> virtualColumns)
  {
    if (virtualColumns == null || virtualColumns.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends IntBuffer`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java

  protected MutableBitmap mergeBitmaps(
      @Nullable List<IntBuffer> segmentRowNumConversions,
      BitmapFactory bmpFactory,
      IndexSeeker[] dictIdSeeker,
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java

  protected IndexSeeker[] toIndexSeekers(
      List<IndexableAdapter> adapters,
      ArrayList<IntBuffer> dimConversions,
      String dimension
```

### BoundedWildcard
Can generalize to `? extends IntBuffer`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  protected IndexSeeker[] toIndexSeekers(
      List<IndexableAdapter> adapters,
      ArrayList<IntBuffer> dimConversions,
      String dimension
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  }

  protected void writeDictionary(Iterable<T> dictionaryValues) throws IOException
  {
    for (T value : dictionaryValues) {
```

### BoundedWildcard
Can generalize to `? extends QueryableIndex`
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  }

  static List<IndexableAdapter> toIndexableAdapters(List<QueryableIndex> indexes)
  {
    return indexes.stream().map(QueryableIndexIndexableAdapter::new).collect(Collectors.toList());
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  }

  static boolean isDimensionOrderingValid(List<IndexableAdapter> indexes, Iterable<String> orderingCandidate)
  {
    for (IndexableAdapter index : indexes) {
```

### BoundedWildcard
Can generalize to `? extends Iterable`
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
  }

  static <T extends Comparable<? super T>> ArrayList<T> mergeIndexed(List<Iterable<T>> indexedLists)
  {
    Set<T> retVal = new TreeSet<>(Comparators.naturalNullsFirst());
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnIndexer.java`
#### Snippet
```java


  public void mergeFields(SortedMap<String, NestedLiteralTypeInfo.MutableTypeSet> mergedFields)
  {
    for (Map.Entry<String, NestedDataColumnIndexer.LiteralFieldIndexer> entry : fieldIndexers.entrySet()) {
```

### BoundedWildcard
Can generalize to `? super NestedLiteralTypeInfo.MutableTypeSet`
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnIndexer.java`
#### Snippet
```java


  public void mergeFields(SortedMap<String, NestedLiteralTypeInfo.MutableTypeSet> mergedFields)
  {
    for (Map.Entry<String, NestedDataColumnIndexer.LiteralFieldIndexer> entry : fieldIndexers.entrySet()) {
```

### BoundedWildcard
Can generalize to `? extends MetricHolder`
in `processing/src/main/java/org/apache/druid/segment/MMappedIndex.java`
#### Snippet
```java
      Interval dataInterval,
      CompressedColumnarLongsSupplier timestamps,
      Map<String, MetricHolder> metrics,
      Map<String, GenericIndexed<String>> dimValueLookups,
      Map<String, GenericIndexed<ByteBuffer>> dimValueUtf8Lookups,
```

### BoundedWildcard
Can generalize to `? extends GenericIndexed`
in `processing/src/main/java/org/apache/druid/segment/MMappedIndex.java`
#### Snippet
```java
      CompressedColumnarLongsSupplier timestamps,
      Map<String, MetricHolder> metrics,
      Map<String, GenericIndexed<String>> dimValueLookups,
      Map<String, GenericIndexed<ByteBuffer>> dimValueUtf8Lookups,
      Map<String, VSizeColumnarMultiInts> dimColumns,
```

### BoundedWildcard
Can generalize to `? extends GenericIndexed`
in `processing/src/main/java/org/apache/druid/segment/MMappedIndex.java`
#### Snippet
```java
      Map<String, MetricHolder> metrics,
      Map<String, GenericIndexed<String>> dimValueLookups,
      Map<String, GenericIndexed<ByteBuffer>> dimValueUtf8Lookups,
      Map<String, VSizeColumnarMultiInts> dimColumns,
      Map<String, GenericIndexed<ImmutableBitmap>> invertedIndexes,
```

### BoundedWildcard
Can generalize to `? extends VSizeColumnarMultiInts`
in `processing/src/main/java/org/apache/druid/segment/MMappedIndex.java`
#### Snippet
```java
      Map<String, GenericIndexed<String>> dimValueLookups,
      Map<String, GenericIndexed<ByteBuffer>> dimValueUtf8Lookups,
      Map<String, VSizeColumnarMultiInts> dimColumns,
      Map<String, GenericIndexed<ImmutableBitmap>> invertedIndexes,
      Map<String, ImmutableRTree> spatialIndexes,
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
  }

  protected PeekingIterator<T> transformIndexedIterator(Indexed<T> indexed)
  {
    return Iterators.peekingIterator(
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/BaseSingleValueDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
  {
    return new ValueMatcher()
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/RowBasedStorageAdapter.java`
#### Snippet
```java
   * Reverse an Iterable. Will avoid materialization if possible, but, this is not always possible.
   */
  private static <T> Iterable<T> reverse(final Iterable<T> iterable)
  {
    if (iterable instanceof List) {
```

### BoundedWildcard
Can generalize to `? extends RowType`
in `processing/src/main/java/org/apache/druid/segment/RowBasedCursor.java`
#### Snippet
```java

  RowBasedCursor(
      final RowWalker<RowType> rowWalker,
      final RowAdapter<RowType> rowAdapter,
      @Nullable final Filter filter,
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/SingleScanTimeDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
  {
    return new ValueMatcher()
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java

  private GlobalDictionarySortedCollector getSortedIndexFromV1QueryableAdapter(
      SortedMap<String, NestedLiteralTypeInfo.MutableTypeSet> mergedFields,
      BaseColumn col
  )
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java

  @Override
  public void writeMergedValueDictionary(List<IndexableAdapter> adapters) throws IOException
  {

```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/RowBasedColumnSelectorFactory.java`
#### Snippet
```java
   */
  RowBasedColumnSelectorFactory(
      final Supplier<T> rowSupplier,
      @Nullable final RowIdSupplier rowIdSupplier,
      final RowAdapter<T> adapter,
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/RowBasedColumnSelectorFactory.java`
#### Snippet
```java

        @Override
        public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
        {
          final boolean matchNull = predicate.apply(null);
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/ConstantMultiValueDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(Predicate<String> predicate)
  {
    return BooleanValueMatcher.of(values.stream().anyMatch(predicate::apply));
```

### BoundedWildcard
Can generalize to `? extends Strategy`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
   */
  public static <Strategy extends ColumnSelectorStrategy> ColumnSelectorPlus<Strategy>[] createColumnSelectorPluses(
      ColumnSelectorStrategyFactory<Strategy> strategyFactory,
      List<DimensionSpec> dimensionSpecs,
      ColumnSelectorFactory columnSelectorFactory
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  public static <Strategy extends ColumnSelectorStrategy> ColumnSelectorPlus<Strategy>[] createColumnSelectorPluses(
      ColumnSelectorStrategyFactory<Strategy> strategyFactory,
      List<DimensionSpec> dimensionSpecs,
      ColumnSelectorFactory columnSelectorFactory
  )
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  }

  public static List<ColumnType> getValueTypesFromDimensionSpecs(List<DimensionSpec> dimSpecs)
  {
    List<ColumnType> types = new ArrayList<>(dimSpecs.size());
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/ConstantDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(Predicate<String> predicate)
  {
    return BooleanValueMatcher.of(predicate.apply(value));
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/DimensionSelectorUtils.java`
#### Snippet
```java
  private static ValueMatcher makeNonDictionaryEncodedValueMatcherGeneric(
      final DimensionSelector selector,
      final Predicate<String> predicate
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/DimensionSelectorUtils.java`
#### Snippet
```java
  }

  public static BitSet makePredicateMatchingSet(DimensionSelector selector, Predicate<String> predicate)
  {
    if (!selector.nameLookupPossibleInAdvance()) {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/DimensionSelectorUtils.java`
#### Snippet
```java
  private static ValueMatcher makeDictionaryEncodedValueMatcherGeneric(
      final DimensionSelector selector,
      Predicate<String> predicate
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
    private void registerColumnHolder(
        boolean lazy,
        Map<String, Supplier<ColumnHolder>> columns,
        String columnName,
        ObjectMapper mapper,
```

### BoundedWildcard
Can generalize to `? extends Metadata`
in `processing/src/main/java/org/apache/druid/segment/Metadata.java`
#### Snippet
```java
  @Nullable
  public static Metadata merge(
      @Nullable List<Metadata> toBeMerged,
      @Nullable AggregatorFactory[] overrideMergedAggregators
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java

      @Override
      public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
      {
        final BitSet checkedIds = new BitSet(maxId);
```

### BoundedWildcard
Can generalize to `? extends Map`
in `processing/src/main/java/org/apache/druid/segment/SimpleQueryableIndex.java`
#### Snippet
```java
      SmooshedFileMapper fileMapper,
      @Nullable Metadata metadata,
      Supplier<Map<String, DimensionHandler>> dimensionHandlers
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ColumnarFloats`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarFloatsSupplier.java`
#### Snippet
```java
      int sizePer,
      ByteBuffer buffer,
      Supplier<ColumnarFloats> supplier,
      CompressionStrategy compression
  )
```

### BoundedWildcard
Can generalize to `? extends ColumnarLongs`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarLongsSupplier.java`
#### Snippet
```java
      int sizePer,
      ByteBuffer buffer,
      Supplier<ColumnarLongs> supplier,
      CompressionStrategy compression,
      CompressionFactory.LongEncodingFormat encoding
```

### BoundedWildcard
Can generalize to `? super VectorColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
   */
  private static <T> T makeVectorProcessorInternal(
      final Function<VectorColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
```

### BoundedWildcard
Can generalize to `? extends ColumnCapabilities`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
   */
  private static <T> T makeVectorProcessorInternal(
      final Function<VectorColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
```

### BoundedWildcard
Can generalize to `? super VectorColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
  private static <T> T makeVectorProcessorInternal(
      final Function<VectorColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
```

### BoundedWildcard
Can generalize to `? extends SingleValueDimensionVectorSelector`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
  private static <T> T makeVectorProcessorInternal(
      final Function<VectorColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
```

### BoundedWildcard
Can generalize to `? super VectorColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<VectorColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorObjectSelector> objectSelectorFn,
```

### BoundedWildcard
Can generalize to `? extends MultiValueDimensionVectorSelector`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<VectorColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorObjectSelector> objectSelectorFn,
```

### BoundedWildcard
Can generalize to `? super VectorColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorObjectSelector> objectSelectorFn,
      final VectorColumnProcessorFactory<T> processorFactory,
```

### BoundedWildcard
Can generalize to `? extends VectorValueSelector`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<VectorColumnSelectorFactory, SingleValueDimensionVectorSelector> singleValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorObjectSelector> objectSelectorFn,
      final VectorColumnProcessorFactory<T> processorFactory,
```

### BoundedWildcard
Can generalize to `? super VectorColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorObjectSelector> objectSelectorFn,
      final VectorColumnProcessorFactory<T> processorFactory,
      final VectorColumnSelectorFactory selectorFactory
```

### BoundedWildcard
Can generalize to `? extends VectorObjectSelector`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<VectorColumnSelectorFactory, MultiValueDimensionVectorSelector> multiValueDimensionSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorValueSelector> valueSelectorFn,
      final Function<VectorColumnSelectorFactory, VectorObjectSelector> objectSelectorFn,
      final VectorColumnProcessorFactory<T> processorFactory,
      final VectorColumnSelectorFactory selectorFactory
```

### BoundedWildcard
Can generalize to `? super ColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
   */
  private static <T> T makeProcessorInternal(
      final Function<ColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<ColumnSelectorFactory, DimensionSelector> dimensionSelectorFn,
      final Function<ColumnSelectorFactory, ColumnValueSelector<?>> valueSelectorFunction,
```

### BoundedWildcard
Can generalize to `? extends ColumnCapabilities`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
   */
  private static <T> T makeProcessorInternal(
      final Function<ColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<ColumnSelectorFactory, DimensionSelector> dimensionSelectorFn,
      final Function<ColumnSelectorFactory, ColumnValueSelector<?>> valueSelectorFunction,
```

### BoundedWildcard
Can generalize to `? super ColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
  private static <T> T makeProcessorInternal(
      final Function<ColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<ColumnSelectorFactory, DimensionSelector> dimensionSelectorFn,
      final Function<ColumnSelectorFactory, ColumnValueSelector<?>> valueSelectorFunction,
      final ColumnProcessorFactory<T> processorFactory,
```

### BoundedWildcard
Can generalize to `? extends DimensionSelector`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
  private static <T> T makeProcessorInternal(
      final Function<ColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<ColumnSelectorFactory, DimensionSelector> dimensionSelectorFn,
      final Function<ColumnSelectorFactory, ColumnValueSelector<?>> valueSelectorFunction,
      final ColumnProcessorFactory<T> processorFactory,
```

### BoundedWildcard
Can generalize to `? super ColumnSelectorFactory`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<ColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<ColumnSelectorFactory, DimensionSelector> dimensionSelectorFn,
      final Function<ColumnSelectorFactory, ColumnValueSelector<?>> valueSelectorFunction,
      final ColumnProcessorFactory<T> processorFactory,
      final ColumnSelectorFactory selectorFactory
```

### BoundedWildcard
Can generalize to `? extends ColumnValueSelector`
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
      final Function<ColumnSelectorFactory, ColumnCapabilities> inputCapabilitiesFn,
      final Function<ColumnSelectorFactory, DimensionSelector> dimensionSelectorFn,
      final Function<ColumnSelectorFactory, ColumnValueSelector<?>> valueSelectorFunction,
      final ColumnProcessorFactory<T> processorFactory,
      final ColumnSelectorFactory selectorFactory
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  private WriteOutBytes valueOut = null;

  public ByteBufferWriter(SegmentWriteOutMedium segmentWriteOutMedium, ObjectStrategy<T> strategy)
  {
    this.segmentWriteOutMedium = segmentWriteOutMedium;
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/data/IndexedIterable.java`
#### Snippet
```java
  }

  public IndexedIterable(Indexed<T> indexed)
  {
    this.indexed = indexed;
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexed.java`
#### Snippet
```java
      ByteBuffer buffer,
      ByteOrder byteOrder,
      TypeStrategy<T> typeStrategy,
      boolean hasNull,
      boolean isSorted,
```

### BoundedWildcard
Can generalize to `? extends T`
in `processing/src/main/java/org/apache/druid/segment/join/PossiblyNullColumnValueSelector.java`
#### Snippet
```java
  private final T nullValue;

  PossiblyNullColumnValueSelector(final ColumnValueSelector<T> baseSelector, final BooleanSupplier beNull)
  {
    this.baseSelector = baseSelector;
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/data/CompressionFactory.java`
#### Snippet
```java

  static <T> MetaSerdeHelper.FieldWriter<T> longEncodingWriter(
      Function<T, LongEncodingWriter> getWriter,
      Function<T, CompressionStrategy> getCompressionStrategy
  )
```

### BoundedWildcard
Can generalize to `? extends LongEncodingWriter`
in `processing/src/main/java/org/apache/druid/segment/data/CompressionFactory.java`
#### Snippet
```java

  static <T> MetaSerdeHelper.FieldWriter<T> longEncodingWriter(
      Function<T, LongEncodingWriter> getWriter,
      Function<T, CompressionStrategy> getCompressionStrategy
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/data/CompressionFactory.java`
#### Snippet
```java
  static <T> MetaSerdeHelper.FieldWriter<T> longEncodingWriter(
      Function<T, LongEncodingWriter> getWriter,
      Function<T, CompressionStrategy> getCompressionStrategy
  )
  {
```

### BoundedWildcard
Can generalize to `? extends CompressionStrategy`
in `processing/src/main/java/org/apache/druid/segment/data/CompressionFactory.java`
#### Snippet
```java
  static <T> MetaSerdeHelper.FieldWriter<T> longEncodingWriter(
      Function<T, LongEncodingWriter> getWriter,
      Function<T, CompressionStrategy> getCompressionStrategy
  )
  {
```

### BoundedWildcard
Can generalize to `? super JoinableFactory`
in `processing/src/main/java/org/apache/druid/segment/join/MapJoinableFactory.java`
#### Snippet
```java
   *
   */
  private <T> Optional<T> getSingleResult(DataSource dataSource, Function<JoinableFactory, Optional<T>> function)
  {
    Set<JoinableFactory> factories = joinableFactories.get(dataSource.getClass());
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexed.java`
#### Snippet
```java
  private static <T, U> GenericIndexed<U> fromIterableVersionOne(
      Iterable<T> objectsIterable,
      ObjectStrategy<T> strategy,
      boolean allowReverseLookup,
      ObjectStrategy<U> resultObjectStrategy
```

### BoundedWildcard
Can generalize to `? extends Equality`
in `processing/src/main/java/org/apache/druid/segment/join/JoinConditionAnalysis.java`
#### Snippet
```java
  private static Set<String> computeRequiredColumns(
      final String rightPrefix,
      final List<Equality> equiConditions,
      final List<Expr> nonEquiConditions
  )
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/segment/join/JoinConditionAnalysis.java`
#### Snippet
```java
      final String rightPrefix,
      final List<Equality> equiConditions,
      final List<Expr> nonEquiConditions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends JoinableClause`
in `processing/src/main/java/org/apache/druid/segment/join/JoinableFactoryWrapper.java`
#### Snippet
```java
   */
  public static Pair<List<Filter>, List<JoinableClause>> convertJoinsToFilters(
      final List<JoinableClause> clauses,
      final Set<String> requiredColumns,
      final int maxNumFilterValues
```

### BoundedWildcard
Can generalize to `? super VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/join/HashJoinSegmentStorageAdapter.java`
#### Snippet
```java
  public Set<String> determineBaseColumnsWithPreAndPostJoinVirtualColumns(
      VirtualColumns virtualColumns,
      @Nullable List<VirtualColumn> preJoinVirtualColumns,
      @Nullable List<VirtualColumn> postJoinVirtualColumns
  )
```

### BoundedWildcard
Can generalize to `? super VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/join/HashJoinSegmentStorageAdapter.java`
#### Snippet
```java
      VirtualColumns virtualColumns,
      @Nullable List<VirtualColumn> preJoinVirtualColumns,
      @Nullable List<VirtualColumn> postJoinVirtualColumns
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `processing/src/main/java/org/apache/druid/segment/join/filter/Equiconditions.java`
#### Snippet
```java
  @Nonnull private final Map<String, Set<Expr>> equiconditions;

  public Equiconditions(Map<String, Set<Expr>> equiconditions)
  {
    this.equiconditions = equiconditions;
```

### BoundedWildcard
Can generalize to `? extends PreJoinableClause`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinableClauses.java`
#### Snippet
```java

  private static void checkPreJoinableClausesForDuplicatesAndShadowing(
      final List<PreJoinableClause> preJoinableClauses
  )
  {
```

### BoundedWildcard
Can generalize to `? super VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinableClauses.java`
#### Snippet
```java
  public void splitVirtualColumns(
      final VirtualColumns virtualColumns,
      final List<VirtualColumn> preJoinVirtualColumns,
      final List<VirtualColumn> postJoinVirtualColumns
  )
```

### BoundedWildcard
Can generalize to `? super VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinableClauses.java`
#### Snippet
```java
      final VirtualColumns virtualColumns,
      final List<VirtualColumn> preJoinVirtualColumns,
      final List<VirtualColumn> postJoinVirtualColumns
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/join/filter/rewrite/RhsRewriteCandidates.java`
#### Snippet
```java
   */
  public static RhsRewriteCandidates getRhsRewriteCandidates(
      List<Filter> normalizedJoinTableClauses,
      Equiconditions equiconditions,
      JoinableClauses joinableClauses)
```

### BoundedWildcard
Can generalize to `? super K`
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
    // Allowing use of LinkedHashMap constructor because implementation uses capacity() to properly size HashMap.
    @SuppressForbidden(reason = "java.util.LinkedHashMap#<init>(int)")
    LruLoadingHashMap(int maxSize, Function<K, V> loader)
    {
      super(capacity(maxSize));
```

### BoundedWildcard
Can generalize to `? extends V`
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
    // Allowing use of LinkedHashMap constructor because implementation uses capacity() to properly size HashMap.
    @SuppressForbidden(reason = "java.util.LinkedHashMap#<init>(int)")
    LruLoadingHashMap(int maxSize, Function<K, V> loader)
    {
      super(capacity(maxSize));
```

### BoundedWildcard
Can generalize to `? extends IntList`
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
    private final IntFunction<IntList> loader;

    Int2IntListLookupTable(int maxSize, IntFunction<IntList> loader)
    {
      this.loader = loader;
```

### BoundedWildcard
Can generalize to `? extends IntList`
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
    private final IntFunction<IntList> loader;

    Int2IntListLruCache(int maxSize, IntFunction<IntList> loader)
    {
      this.cache = new Int2ObjectLinkedOpenHashMap<>(maxSize);
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupColumnSelectorFactory.java`
#### Snippet
```java

  LookupColumnSelectorFactory(
      final Supplier<Pair<String, String>> currentEntry
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
      Equiconditions equiConditions,
      String rhsColumn,
      Set<String> correlatedBaseColumns,
      Set<Expr> correlatedBaseExpressions
  )
```

### BoundedWildcard
Can generalize to `? super Expr`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
      String rhsColumn,
      Set<String> correlatedBaseColumns,
      Set<Expr> correlatedBaseExpressions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends JoinFilterColumnCorrelationAnalysis`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
   */
  private static List<JoinFilterColumnCorrelationAnalysis> eliminateCorrelationDuplicates(
      List<JoinFilterColumnCorrelationAnalysis> originalList
  )
  {
```

### BoundedWildcard
Can generalize to `? super Expr`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterAnalyzer.java`
#### Snippet
```java
      SelectorFilter selectorFilter,
      JoinFilterPreAnalysis joinFilterPreAnalysis,
      Map<Expr, VirtualColumn> pushDownVirtualColumnsForLhsExprs
  )
  {
```

### BoundedWildcard
Can generalize to `? super Expr`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterAnalyzer.java`
#### Snippet
```java
      Filter filterClause,
      JoinFilterPreAnalysis joinFilterPreAnalysis,
      Map<Expr, VirtualColumn> pushDownVirtualColumnsForLhsExprs
  )
  {
```

### BoundedWildcard
Can generalize to `? extends VirtualColumn`
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterAnalyzer.java`
#### Snippet
```java

  private static boolean isColumnFromPostJoinVirtualColumns(
      List<VirtualColumn> postJoinVirtualColumns,
      String column
  )
```

### BoundedWildcard
Can generalize to `? extends Index`
in `processing/src/main/java/org/apache/druid/segment/join/table/RowBasedIndexedTable.java`
#### Snippet
```java
  }

  static Index getKeyColumnIndex(int column, List<Index> indexes)
  {
    final Index index = indexes.get(column);
```

### BoundedWildcard
Can generalize to `? extends RowType`
in `processing/src/main/java/org/apache/druid/segment/join/table/RowBasedIndexedTable.java`
#### Snippet
```java

  public RowBasedIndexedTable(
      final List<RowType> table,
      final RowAdapter<RowType> rowAdapter,
      final RowSignature rowSignature,
```

### BoundedWildcard
Can generalize to `? extends ColumnarDoubles`
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnSupplier.java`
#### Snippet
```java
  private final ImmutableBitmap nullValueBitmap;

  DoubleNumericColumnSupplier(Supplier<ColumnarDoubles> column, ImmutableBitmap nullValueBitmap)
  {
    this.column = column;
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/serde/MetaSerdeHelper.java`
#### Snippet
```java
  }

  public MetaSerdeHelper<T> maybeWriteByte(Predicate<T> condition, ByteFieldWriter<T> fieldWriter)
  {
    return writeSomething(
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/serde/MetaSerdeHelper.java`
#### Snippet
```java
  }

  public MetaSerdeHelper<T> maybeWriteByte(Predicate<T> condition, ByteFieldWriter<T> fieldWriter)
  {
    return writeSomething(
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/serde/MetaSerdeHelper.java`
#### Snippet
```java
  }

  public MetaSerdeHelper<T> writeByteArray(Function<T, byte[]> getByteArray)
  {
    return writeSomething(
```

### BoundedWildcard
Can generalize to `? extends ColumnarInts`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnSupplier.java`
#### Snippet
```java
      GenericIndexed<String> dictionary,
      GenericIndexed<ByteBuffer> dictionaryUtf8,
      @Nullable Supplier<ColumnarInts> singleValuedColumn,
      @Nullable Supplier<ColumnarMultiInts> multiValuedColumn,
      int lookupCacheSize
```

### BoundedWildcard
Can generalize to `? extends ColumnarMultiInts`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnSupplier.java`
#### Snippet
```java
      GenericIndexed<ByteBuffer> dictionaryUtf8,
      @Nullable Supplier<ColumnarInts> singleValuedColumn,
      @Nullable Supplier<ColumnarMultiInts> multiValuedColumn,
      int lookupCacheSize
  )
```

### BoundedWildcard
Can generalize to `? extends ColumnarInts`
in `processing/src/main/java/org/apache/druid/segment/serde/StringFrontCodedDictionaryEncodedColumnSupplier.java`
#### Snippet
```java
  public StringFrontCodedDictionaryEncodedColumnSupplier(
      Supplier<FrontCodedIndexed> utf8Dictionary,
      @Nullable Supplier<ColumnarInts> singleValuedColumn,
      @Nullable Supplier<ColumnarMultiInts> multiValuedColumn
  )
```

### BoundedWildcard
Can generalize to `? extends ColumnarMultiInts`
in `processing/src/main/java/org/apache/druid/segment/serde/StringFrontCodedDictionaryEncodedColumnSupplier.java`
#### Snippet
```java
      Supplier<FrontCodedIndexed> utf8Dictionary,
      @Nullable Supplier<ColumnarInts> singleValuedColumn,
      @Nullable Supplier<ColumnarMultiInts> multiValuedColumn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/segment/column/IndexedStringDictionaryEncodedStringValueIndex.java`
#### Snippet
```java
      BitmapFactory bitmapFactory,
      TDictionary dictionary,
      Indexed<ImmutableBitmap> bitmaps
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/segment/column/IndexedUtf8LexicographicalRangeIndex.java`
#### Snippet
```java
      BitmapFactory bitmapFactory,
      TDictionary dictionary,
      Indexed<ImmutableBitmap> bitmaps,
      boolean hasNull
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/column/IndexedUtf8LexicographicalRangeIndex.java`
#### Snippet
```java
      @Nullable String endValue,
      boolean endStrict,
      Predicate<String> matcher
  )
  {
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/segment/column/RowSignature.java`
#### Snippet
```java
     * to later ones.
     */
    public Builder addPostAggregators(final List<PostAggregator> postAggregators)
    {
      for (final PostAggregator postAggregator : postAggregators) {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `processing/src/main/java/org/apache/druid/segment/column/RowSignature.java`
#### Snippet
```java
    }

    public Builder addDimensions(final List<DimensionSpec> dimensions)
    {
      for (final DimensionSpec dimension : dimensions) {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `processing/src/main/java/org/apache/druid/segment/column/RowSignature.java`
#### Snippet
```java
     * @param finalization whether the aggregator results will be finalized
     */
    public Builder addAggregators(final List<AggregatorFactory> aggregators, final Finalization finalization)
    {
      for (final AggregatorFactory aggregator : aggregators) {
```

### BoundedWildcard
Can generalize to `? extends ColumnSignature`
in `processing/src/main/java/org/apache/druid/segment/column/RowSignature.java`
#### Snippet
```java

  @JsonCreator
  static RowSignature fromColumnSignatures(final List<ColumnSignature> columnSignatures)
  {
    final Builder builder = builder();
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/segment/column/IndexedStringDruidPredicateIndex.java`
#### Snippet
```java
      BitmapFactory bitmapFactory,
      TDictionary dictionary,
      Indexed<ImmutableBitmap> bitmaps
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/segment/column/IndexedUtf8ValueSetIndex.java`
#### Snippet
```java
      BitmapFactory bitmapFactory,
      TDictionary dictionary,
      Indexed<ImmutableBitmap> bitmaps
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java

        @Override
        public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
        {
          final BitSet checkedIds = new BitSet(getCardinality());
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/filter/ValueMatchers.java`
#### Snippet
```java
      final DimensionDictionarySelector selector,
      final boolean hasMultipleValues,
      final Predicate<String> predicate
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionHandler`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      List<String> reorderedDimensions,
      List<String> reorderedMetrics,
      Map<String, DimensionHandler> originalHandlers,
      IndexableAdapter originalAdapter,
      T originalRowPointer
```

### BoundedWildcard
Can generalize to `? extends GenericColumnSerializer`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final Map<String, ValueType> metricsValueTypes,
      final Map<String, String> metricTypeNames,
      final List<GenericColumnSerializer> metWriters,
      final IndexSpec indexSpec
  ) throws IOException
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java

  private void mergeCapabilities(
      final List<IndexableAdapter> adapters,
      final List<String> mergedDimensions,
      final Map<String, ValueType> metricsValueTypes,
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final List<IndexableAdapter> adapters,
      final List<String> mergedDimensions,
      final Map<String, ValueType> metricsValueTypes,
      final Map<String, String> metricTypeNames,
      final List<ColumnCapabilities> dimCapabilities
```

### BoundedWildcard
Can generalize to `? super ValueType`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final List<IndexableAdapter> adapters,
      final List<String> mergedDimensions,
      final Map<String, ValueType> metricsValueTypes,
      final Map<String, String> metricTypeNames,
      final List<ColumnCapabilities> dimCapabilities
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final List<String> mergedDimensions,
      final Map<String, ValueType> metricsValueTypes,
      final Map<String, String> metricTypeNames,
      final List<ColumnCapabilities> dimCapabilities
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final List<String> mergedDimensions,
      final Map<String, ValueType> metricsValueTypes,
      final Map<String, String> metricTypeNames,
      final List<ColumnCapabilities> dimCapabilities
  )
```

### BoundedWildcard
Can generalize to `? super ColumnCapabilities`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final Map<String, ValueType> metricsValueTypes,
      final Map<String, String> metricTypeNames,
      final List<ColumnCapabilities> dimCapabilities
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ColumnCapabilities`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
  private Map<String, DimensionHandler> makeDimensionHandlers(
      final List<String> mergedDimensions,
      final List<ColumnCapabilities> dimCapabilities
  )
  {
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
  private void makeIndexBinary(
      final FileSmoosher v9Smoosher,
      final List<IndexableAdapter> adapters,
      final File outDir,
      final List<String> mergedDimensions,
```

### BoundedWildcard
Can generalize to `? extends DimensionMergerV9`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final ProgressIndicator progress,
      final IndexSpec indexSpec,
      final List<DimensionMergerV9> mergers,
      final DimensionsSpecInspector dimensionsSpecInspector
  ) throws IOException
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
   */
  private IndexMergeResult mergeIndexesAndWriteColumns(
      final List<IndexableAdapter> adapters,
      final ProgressIndicator progress,
      final TimeAndDimsIterator timeAndDimsIterator,
```

### BoundedWildcard
Can generalize to `? extends GenericColumnSerializer`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final TimeAndDimsIterator timeAndDimsIterator,
      final GenericColumnSerializer timeWriter,
      final ArrayList<GenericColumnSerializer> metricWriters,
      final List<DimensionMergerV9> mergers,
      final boolean fillRowNumConversions
```

### BoundedWildcard
Can generalize to `? extends DimensionMergerV9`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final GenericColumnSerializer timeWriter,
      final ArrayList<GenericColumnSerializer> metricWriters,
      final List<DimensionMergerV9> mergers,
      final boolean fillRowNumConversions
  ) throws IOException
```

### BoundedWildcard
Can generalize to `? extends DimensionMergerV9`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final ProgressIndicator progress,
      final List<String> mergedDimensions,
      final List<DimensionMergerV9> mergers
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java

  private TimeAndDimsIterator makeMergedTimeAndDimsIterator(
      final List<IndexableAdapter> indexes,
      final List<String> mergedDimensions,
      final List<String> mergedMetrics,
```

### BoundedWildcard
Can generalize to `? super List`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final List<String> mergedDimensions,
      final List<String> mergedMetrics,
      final Function<List<TransformableRowIterator>, TimeAndDimsIterator> rowMergerFn,
      final Map<String, DimensionHandler> handlers,
      final List<DimensionMergerV9> mergers
```

### BoundedWildcard
Can generalize to `? extends TimeAndDimsIterator`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final List<String> mergedDimensions,
      final List<String> mergedMetrics,
      final Function<List<TransformableRowIterator>, TimeAndDimsIterator> rowMergerFn,
      final Map<String, DimensionHandler> handlers,
      final List<DimensionMergerV9> mergers
```

### BoundedWildcard
Can generalize to `? extends IndexableAdapter`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
  }

  private int getIndexColumnCount(List<IndexableAdapter> indexableAdapters)
  {
    int count = 0;
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/OrFilter.java`
#### Snippet
```java
  }

  public OrFilter(List<Filter> filters)
  {
    this(new LinkedHashSet<>(filters));
```

### BoundedWildcard
Can generalize to `? super Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/cnf/CalciteCnfHelper.java`
#### Snippet
```java
   * @param rexList      list of decomposed RexNodes
   */
  public static void decomposeConjunction(Filter rexPredicate, List<Filter> rexList)
  {
    if (rexPredicate == null || rexPredicate instanceof TrueFilter) {
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/cnf/CalciteCnfHelper.java`
#### Snippet
```java
  }

  private static Map<Filter, Filter> commonFactors(Collection<Filter> nodes)
  {
    final Map<Filter, Filter> map = new LinkedHashMap<>();
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/cnf/CalciteCnfHelper.java`
#### Snippet
```java
  }

  private static List<Filter> pullList(Collection<Filter> nodes)
  {
    final List<Filter> list = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Supplier`
in `processing/src/main/java/org/apache/druid/segment/filter/ColumnComparisonFilter.java`
#### Snippet
```java
  }

  public static ValueMatcher makeValueMatcher(final List<Supplier<String[]>> valueGetters)
  {
    if (valueGetters.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
      @Nullable ColumnarMultiInts multiValueColumn,
      CachingIndexed<String> dictionary,
      Indexed<ByteBuffer> dictionaryUtf8
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java

        @Override
        public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
        {
          final BitSet checkedIds = new BitSet(getCardinality());
```

### BoundedWildcard
Can generalize to `? extends DimFilter`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
   * @return list of Filters
   */
  public static List<Filter> toFilters(List<DimFilter> dimFilters)
  {
    return dimFilters.stream().map(Filters::toFilter).collect(Collectors.toList());
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
   * Flattens children of an AND, removes duplicates, and removes literally-true filters.
   */
  private static LinkedHashSet<Filter> flattenAndChildren(final Collection<Filter> filters)
  {
    final LinkedHashSet<Filter> retVal = new LinkedHashSet<>();
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
   * Flattens children of an OR, removes duplicates, and removes literally-false filters.
   */
  private static LinkedHashSet<Filter> flattenOrChildren(final Collection<Filter> filters)
  {
    final LinkedHashSet<Filter> retVal = new LinkedHashSet<>();
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java

  public static double estimateSelectivity(
      final Iterator<ImmutableBitmap> bitmaps,
      final long totalNumRows
  )
```

### BoundedWildcard
Can generalize to `? extends Expr`
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java
  private final FilterTuning filterTuning;

  public ExpressionFilter(final Supplier<Expr> expr, final FilterTuning filterTuning)
  {
    this.expr = expr;
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/cnf/HiveCnfHelper.java`
#### Snippet
```java
      List<Filter> result,
      List<Filter> andList,
      List<Filter> nonAndList,
      int maxAllowedFilters
  ) throws CNFFilterExplosionException
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/AndFilter.java`
#### Snippet
```java
  private static BitmapColumnIndex getBitmapIndex(
      ColumnIndexSelector selector,
      Collection<Filter> filters
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Filter`
in `processing/src/main/java/org/apache/druid/segment/filter/AndFilter.java`
#### Snippet
```java

  @VisibleForTesting
  public AndFilter(List<Filter> filters)
  {
    this(new LinkedHashSet<>(filters));
```

### BoundedWildcard
Can generalize to `? super Field`
in `processing/src/main/java/org/apache/druid/segment/nested/StructuredDataProcessor.java`
#### Snippet
```java
  }

  private ProcessResults processListField(Queue<Field> toProcess, ListField list)
  {
    // start with object reference, is probably a bit bigger than this...
```

### BoundedWildcard
Can generalize to `? super Field`
in `processing/src/main/java/org/apache/druid/segment/nested/StructuredDataProcessor.java`
#### Snippet
```java
  }

  private ProcessResults processMapField(Queue<Field> toProcess, MapField map)
  {
    // just guessing a size for a Map as some constant, it might be bigger than this...
```

### BoundedWildcard
Can generalize to `? extends NestedPathPart`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
   * {@link StructuredDataProcessor} constructs field path names
   */
  public static String toNormalizedJqPath(List<NestedPathPart> paths)
  {
    if (paths.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends NestedPathPart`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
public class NestedPathFinder
{
  public static String toNormalizedJsonPath(List<NestedPathPart> paths)
  {
    if (paths.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends NestedPathPart`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
   */
  @Nullable
  public static Object find(@Nullable Object data, List<NestedPathPart> path)
  {
    Object currentObject = data;
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java

      @Override
      public ValueMatcher makeValueMatcher(final Predicate<String> predicate)
      {
        final BitSet checkedIds = new BitSet(getCardinality());
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionMultiValueDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(Predicate<String> predicate)
  {
    return new ValueMatcher()
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/virtual/ListFilteredVirtualColumn.java`
#### Snippet
```java
    }

    Iterable<ImmutableBitmap> getBitmapsInRange(Predicate<String> matcher, int start, int end)
    {
      return () -> new Iterator<ImmutableBitmap>()
```

### BoundedWildcard
Can generalize to `? extends TStringDictionary`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
      GenericIndexed<String> fields,
      NestedLiteralTypeInfo fieldInfo,
      Supplier<TStringDictionary> stringDictionary,
      Supplier<FixedIndexed<Long>> longDictionarySupplier,
      Supplier<FixedIndexed<Double>> doubleDictionarySupplier,
```

### BoundedWildcard
Can generalize to `? extends FixedIndexed`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
      NestedLiteralTypeInfo fieldInfo,
      Supplier<TStringDictionary> stringDictionary,
      Supplier<FixedIndexed<Long>> longDictionarySupplier,
      Supplier<FixedIndexed<Double>> doubleDictionarySupplier,
      SmooshedFileMapper fileMapper
```

### BoundedWildcard
Can generalize to `? extends FixedIndexed`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
      Supplier<TStringDictionary> stringDictionary,
      Supplier<FixedIndexed<Long>> longDictionarySupplier,
      Supplier<FixedIndexed<Double>> doubleDictionarySupplier,
      SmooshedFileMapper fileMapper
  )
```

### BoundedWildcard
Can generalize to `? super Integer`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      @Nullable T endValue,
      boolean endStrict,
      Indexed<Integer> localDictionary,
      Indexed<T> globalDictionary,
      int adjust
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
        @Nullable String endValue,
        boolean endStrict,
        Predicate<String> matcher
    )
    {
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      NestedLiteralTypeInfo.TypeSet types,
      BitmapFactory bitmapFactory,
      GenericIndexed<ImmutableBitmap> bitmaps,
      Supplier<FixedIndexed<Integer>> localDictionarySupplier,
      Supplier<TStringDictionary> globalStringDictionarySupplier,
```

### BoundedWildcard
Can generalize to `? extends FixedIndexed`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      BitmapFactory bitmapFactory,
      GenericIndexed<ImmutableBitmap> bitmaps,
      Supplier<FixedIndexed<Integer>> localDictionarySupplier,
      Supplier<TStringDictionary> globalStringDictionarySupplier,
      Supplier<FixedIndexed<Long>> globalLongDictionarySupplier,
```

### BoundedWildcard
Can generalize to `? extends TStringDictionary`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      GenericIndexed<ImmutableBitmap> bitmaps,
      Supplier<FixedIndexed<Integer>> localDictionarySupplier,
      Supplier<TStringDictionary> globalStringDictionarySupplier,
      Supplier<FixedIndexed<Long>> globalLongDictionarySupplier,
      Supplier<FixedIndexed<Double>> globalDoubleDictionarySupplier
```

### BoundedWildcard
Can generalize to `? extends FixedIndexed`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      Supplier<FixedIndexed<Integer>> localDictionarySupplier,
      Supplier<TStringDictionary> globalStringDictionarySupplier,
      Supplier<FixedIndexed<Long>> globalLongDictionarySupplier,
      Supplier<FixedIndexed<Double>> globalDoubleDictionarySupplier
  )
```

### BoundedWildcard
Can generalize to `? extends FixedIndexed`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      Supplier<TStringDictionary> globalStringDictionarySupplier,
      Supplier<FixedIndexed<Long>> globalLongDictionarySupplier,
      Supplier<FixedIndexed<Double>> globalDoubleDictionarySupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? extends InputRow`
in `processing/src/main/java/org/apache/druid/segment/generator/DataGenerator.java`
#### Snippet
```java
   * @param index the index to add rows to
   */
  public static void addStreamToIndex(Stream<InputRow> stream, IncrementalIndex index)
  {
    stream.forEachOrdered(row -> {
```

### BoundedWildcard
Can generalize to `? super T`
in `processing/src/main/java/org/apache/druid/segment/transform/TransformingInputRowParser.java`
#### Snippet
```java
  private final Transformer transformer;

  public TransformingInputRowParser(final InputRowParser<T> parser, final TransformSpec transformSpec)
  {
    this.parser = parser;
```

### BoundedWildcard
Can generalize to `? extends RowFunction`
in `processing/src/main/java/org/apache/druid/segment/transform/Transformer.java`
#### Snippet
```java
    private final DateTime timestamp;

    public TransformedInputRow(final InputRow row, final Map<String, RowFunction> transforms)
    {
      this.row = row;
```

### BoundedWildcard
Can generalize to `? extends RowFunction`
in `processing/src/main/java/org/apache/druid/segment/transform/Transformer.java`
#### Snippet
```java
    }

    static DateTime readTimestampFromRow(final InputRow row, final Map<String, RowFunction> transforms)
    {
      final RowFunction transform = transforms.get(ColumnHolder.TIME_COLUMN_NAME);
```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/collections/bitmap/BitSetBitmapFactory.java`
#### Snippet
```java

  @Override
  public ImmutableBitmap intersection(Iterable<ImmutableBitmap> b)
  {

```

### BoundedWildcard
Can generalize to `? extends ImmutableBitmap`
in `processing/src/main/java/org/apache/druid/collections/bitmap/BitSetBitmapFactory.java`
#### Snippet
```java

  @Override
  public ImmutableBitmap union(Iterable<ImmutableBitmap> b)
  {
    WrappedBitSetBitmap newSet = null;
```

### BoundedWildcard
Can generalize to `? extends Node`
in `processing/src/main/java/org/apache/druid/collections/spatial/split/LinearGutmanSplitStrategy.java`
#### Snippet
```java
   */
  @Override
  public Node pickNext(List<Node> nodes)
  {
    return nodes.remove(0);
```

### BoundedWildcard
Can generalize to `? extends Node`
in `processing/src/main/java/org/apache/druid/collections/spatial/split/LinearGutmanSplitStrategy.java`
#### Snippet
```java
   */
  @Override
  public Node[] pickSeeds(List<Node> nodes)
  {
    int[] optimalIndices = new int[2];
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
  @Override
  public Iterable<Row> iterableWithPostAggregations(
      @Nullable final List<PostAggregator> postAggs,
      final boolean descending
  )
```

### BoundedWildcard
Can generalize to `? super InputRow`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
      AggregatorFactory[] metrics,
      Aggregator[] aggs,
      ThreadLocal<InputRow> rowContainer,
      InputRow row
  )
```

### BoundedWildcard
Can generalize to `? super Aggregator`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
   * for aggregating from input into output field and the aggregator for combining already aggregated field, as needed
   */
  private <T> Object getMetricHelper(AggregatorFactory[] metrics, Aggregator[] aggs, int aggOffset, Function<Aggregator, T> getMetricTypeFunction)
  {
    if (preserveExistingMetrics) {
```

### BoundedWildcard
Can generalize to `? super InputRow`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
      AggregatorFactory[] metrics,
      Aggregator[] aggs,
      ThreadLocal<InputRow> rowContainer,
      InputRow row,
      List<String> parseExceptionsHolder
```

### BoundedWildcard
Can generalize to `? super String`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
      ThreadLocal<InputRow> rowContainer,
      InputRow row,
      List<String> parseExceptionsHolder
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ApproximateHistogram`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingAggregator.java`
#### Snippet
```java

  public ApproximateHistogramFoldingAggregator(
      BaseObjectColumnValueSelector<ApproximateHistogram> selector,
      int resolution,
      float lowerLimit,
```

### BoundedWildcard
Can generalize to `? extends Deque`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java

    private Iterable<IncrementalIndexRow> timeOrderedConcat(
        final Iterable<Deque<IncrementalIndexRow>> iterable,
        final boolean descending
    )
```

### BoundedWildcard
Can generalize to `? super IncrementalIndexRow`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
    private final Comparator<IncrementalIndexRow> incrementalIndexRowComparator;

    public PlainFactsHolder(boolean sortFacts, Comparator<IncrementalIndexRow> incrementalIndexRowComparator)
    {
      this.sortFacts = sortFacts;
```

### BoundedWildcard
Can generalize to `? extends Deque`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java

    private Stream<IncrementalIndexRow> timeAndDimsOrderedConcat(
        final Collection<Deque<IncrementalIndexRow>> rowGroups
    )
    {
```

### BoundedWildcard
Can generalize to `? extends InputRow`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
      final VirtualColumns virtualColumns,
      final AggregatorFactory agg,
      final Supplier<InputRow> in,
      final boolean deserializeComplexMetrics
  )
```

### BoundedWildcard
Can generalize to `? extends ColumnCapabilities`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
  public void loadDimensionIterable(
      Iterable<String> oldDimensionOrder,
      Map<String, ColumnCapabilities> oldColumnCapabilities
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ApproximateHistogram`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingBufferAggregator.java`
#### Snippet
```java

  public ApproximateHistogramFoldingBufferAggregator(
      BaseObjectColumnValueSelector<ApproximateHistogram> selector,
      int resolution,
      float lowerLimit,
```

### BoundedWildcard
Can generalize to `? extends ImmutableConciseSet`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
  }

  private static ImmutableConciseSet doUnion(Iterator<ImmutableConciseSet> sets)
  {
    IntList retVal = new IntList();
```

### BoundedWildcard
Can generalize to `? super WordIterator`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
      final int maxChangedIndex,
      final int size,
      final Comparator<WordIterator> comp
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableConciseSet`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
  }

  public static ImmutableConciseSet doIntersection(Iterator<ImmutableConciseSet> sets)
  {
    IntList retVal = new IntList();
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/sql/FixedBucketsHistogramQuantileSqlAggregator.java`
#### Snippet
```java
      AggregateCall aggregateCall,
      Project project,
      List<Aggregation> existingAggregations,
      boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/sql/QuantileSqlAggregator.java`
#### Snippet
```java
      final AggregateCall aggregateCall,
      final Project project,
      final List<Aggregation> existingAggregations,
      final boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? extends HllSketch`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchMergeAggregator.java`
#### Snippet
```java

  public HllSketchMergeAggregator(
      final ColumnValueSelector<HllSketch> selector,
      final int lgK,
      final TgtHllType tgtHllType
```

### BoundedWildcard
Can generalize to `? extends HllSketch`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchMergeBufferAggregator.java`
#### Snippet
```java

  public HllSketchMergeBufferAggregator(
      final ColumnValueSelector<HllSketch> selector,
      final int lgK,
      final TgtHllType tgtHllType,
```

### BoundedWildcard
Can generalize to `? extends ArrayOfDoublesSketch`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMergeBufferAggregator.java`
#### Snippet
```java

  public ArrayOfDoublesSketchMergeBufferAggregator(
      final BaseObjectColumnValueSelector<ArrayOfDoublesSketch> selector,
      final int nominalEntries,
      final int numberOfValues,
```

### BoundedWildcard
Can generalize to `? extends ArrayOfDoublesSketch`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMergeAggregator.java`
#### Snippet
```java

  public ArrayOfDoublesSketchMergeAggregator(
      final BaseObjectColumnValueSelector<ArrayOfDoublesSketch> selector,
      final int nominalEntries,
      final int numberOfValues
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/sql/DoublesSketchApproxQuantileSqlAggregator.java`
#### Snippet
```java
      final AggregateCall aggregateCall,
      final Project project,
      final List<Aggregation> existingAggregations,
      final boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/inputsource/hdfs/HdfsInputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<Path>> withSplit(InputSplit<List<Path>> split)
  {
    List<String> paths = split.get().stream().map(path -> path.toString()).collect(Collectors.toList());
```

### BoundedWildcard
Can generalize to `? extends Iterable`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/RestUpdateSender.java`
#### Snippet
```java
  public RestUpdateSender(
      final String callerName,
      final Supplier<Iterable<DruidNode>> destinationSupplier,
      final RestSender sender,
      final String baseUrl,
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/RestUpdateSender.java`
#### Snippet
```java
  @VisibleForTesting
  List<StatusResponseHolder> getResponsesFromFutures(
      List<ListenableFuture<StatusResponseHolder>> futures
  ) throws InterruptedException, ExecutionException, TimeoutException
  {
```

### BoundedWildcard
Can generalize to `? extends NodeRole`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/ListeningNodeSupplier.java`
#### Snippet
```java

  public ListeningNodeSupplier(
      List<NodeRole> nodeTypes,
      DruidNodeDiscoveryProvider discoveryProvider
  )
```

### BoundedWildcard
Can generalize to `? extends ServerSideEncryptingAmazonS3`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentKiller.java`
#### Snippet
```java
  @Inject
  public S3DataSegmentKiller(
      Supplier<ServerSideEncryptingAmazonS3> s3Client,
      S3DataSegmentPusherConfig segmentPusherConfig,
      S3InputDataConfig inputDataConfig
```

### BoundedWildcard
Can generalize to `? extends ColumnSpec`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/TableEditor.java`
#### Snippet
```java
  }

  private static int findColumn(List<ColumnSpec> columns, String colName)
  {
    for (int i = 0; i < columns.size(); i++) {
```

### BoundedWildcard
Can generalize to `? extends ServerSideEncryptingAmazonS3`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentMover.java`
#### Snippet
```java
  @Inject
  public S3DataSegmentMover(
      Supplier<ServerSideEncryptingAmazonS3> s3ClientSupplier,
      S3DataSegmentPusherConfig config
  )
```

### BoundedWildcard
Can generalize to `? extends RetryResponseHolder`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
  }

  private <T> ClientResponse<T> unwrap(ClientResponse<RetryResponseHolder<T>> response)
  {
    if (response.isFinished()) {
```

### BoundedWildcard
Can generalize to `? extends RetryResponseHolder`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java

  @Override
  public ClientResponse<RetryResponseHolder<Final>> done(ClientResponse<RetryResponseHolder<Intermediate>> clientResponse)
  {
    if (clientResponse.getObj().shouldRetry()) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
  }

  private <T> ClientResponse<RetryResponseHolder<T>> wrap(ClientResponse<T> response)
  {
    if (response.isFinished()) {
```

### BoundedWildcard
Can generalize to `? super S3ObjectSummary`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
      String bucket,
      String prefix,
      Predicate<S3ObjectSummary> filter
  )
      throws Exception
```

### BoundedWildcard
Can generalize to `? super Final`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosHttpClient.java`
#### Snippet
```java
      final HttpResponseHandler<Intermediate, Final> httpResponseHandler,
      final Duration duration,
      final SettableFuture<Final> future
  )
  {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/InlineSchemasAvroBytesDecoder.java`
#### Snippet
```java
  @VisibleForTesting
  public InlineSchemasAvroBytesDecoder(
      Map<Integer, Schema> schemaObjs
  )
  {
```

### BoundedWildcard
Can generalize to `? super GenericRecord`
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/AvroParsers.java`
#### Snippet
```java
      GenericRecord record,
      MapInputRowParser mapParser,
      ObjectFlattener<GenericRecord> avroFlattener
  )
  {
```

### BoundedWildcard
Can generalize to `? super CloudBlobHolder`
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureUtils.java`
#### Snippet
```java
      String bucket,
      String prefix,
      Predicate<CloudBlobHolder> filter
  )
      throws Exception
```

### BoundedWildcard
Can generalize to `? super StorageObject`
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleUtils.java`
#### Snippet
```java
      String bucket,
      String prefix,
      Predicate<StorageObject> filter
  )
      throws Exception
```

### BoundedWildcard
Can generalize to `? extends AzureBlob`
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/StaticAzureBlobStoreFirehoseFactory.java`
#### Snippet
```java

  @Override
  public FiniteFirehoseFactory<StringInputRowParser, AzureBlob> withSplit(InputSplit<AzureBlob> split)
  {
    return new StaticAzureBlobStoreFirehoseFactory(
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/data/input/azure/AzureInputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<CloudObjectLocation>> withSplit(InputSplit<List<CloudObjectLocation>> split)
  {
    return new AzureInputSource(
```

### BoundedWildcard
Can generalize to `? extends Storage`
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleStorage.java`
#### Snippet
```java
  private final Supplier<Storage> storage;

  public GoogleStorage(Supplier<Storage> storage)
  {
    this.storage = storage;
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-core/google-extensions/src/main/java/org/apache/druid/data/input/google/GoogleCloudStorageInputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<CloudObjectLocation>> withSplit(InputSplit<List<CloudObjectLocation>> split)
  {
    return new GoogleCloudStorageInputSource(storage, inputDataConfig, null, null, split.get(), getObjectGlob());
```

### BoundedWildcard
Can generalize to `? extends GoogleBlob`
in `extensions-core/google-extensions/src/main/java/org/apache/druid/firehose/google/StaticGoogleBlobStoreFirehoseFactory.java`
#### Snippet
```java

  @Override
  public FiniteFirehoseFactory<StringInputRowParser, GoogleBlob> withSplit(InputSplit<GoogleBlob> split)
  {
    return new StaticGoogleBlobStoreFirehoseFactory(
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/MSQTaskSqlEngine.java`
#### Snippet
```java
   * SQL allows multiple output columns with the same name, but multi-stage queries doesn't.
   */
  private static void validateNoDuplicateAliases(final List<Pair<Integer, String>> fieldMappings)
      throws ValidationException
  {
```

### BoundedWildcard
Can generalize to `? extends InputSlice`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/InputSlices.java`
#### Snippet
```java

  public static int getNumNonBroadcastReadableInputs(
      final List<InputSlice> slices,
      final InputSliceReader reader,
      final IntSet broadcastInputs
```

### BoundedWildcard
Can generalize to `? extends InputSlice`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/InputSlices.java`
#### Snippet
```java
  }

  public static ReadablePartitions allReadablePartitions(final List<InputSlice> slices)
  {
    final List<ReadablePartitions> partitionsList = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends InputSpec`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/InputSpecs.java`
#### Snippet
```java
  }

  public static IntSet getStageNumbers(final List<InputSpec> specs)
  {
    final IntSet retVal = new IntRBTreeSet();
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/data/input/s3/S3InputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<CloudObjectLocation>> withSplit(InputSplit<List<CloudObjectLocation>> split)
  {
    return new S3InputSource(
```

### BoundedWildcard
Can generalize to `? extends ReadablePartitions`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/stage/StageInputSpecSlicer.java`
#### Snippet
```java
  private final Int2ObjectMap<ReadablePartitions> stagePartitionsMap;

  public StageInputSpecSlicer(final Int2ObjectMap<ReadablePartitions> stagePartitionsMap)
  {
    this.stagePartitionsMap = stagePartitionsMap;
```

### BoundedWildcard
Can generalize to `? extends T`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/SlicerUtils.java`
#### Snippet
```java
   */
  public static <T> List<List<T>> makeSlices(
      final Iterator<T> iterator,
      final ToLongFunction<T> weightFunction,
      final int numSlices
```

### BoundedWildcard
Can generalize to `? super T`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/SlicerUtils.java`
#### Snippet
```java
  public static <T> List<List<T>> makeSlices(
      final Iterator<T> iterator,
      final ToLongFunction<T> weightFunction,
      final int numSlices
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/SlicerUtils.java`
#### Snippet
```java
   * Items are assigned round-robin.
   */
  public static <T> List<List<T>> makeSlices(final Iterator<T> iterator, final int numSlices)
  {
    final List<List<T>> slicesList = new ArrayList<>(numSlices);
```

### BoundedWildcard
Can generalize to `? extends RichSegmentDescriptor`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/table/SegmentsInputSliceReader.java`
#### Snippet
```java
  private Iterator<SegmentWithDescriptor> dataSegmentIterator(
      final String dataSource,
      final List<RichSegmentDescriptor> descriptors,
      final ChannelCounters channelCounters
  )
```

### BoundedWildcard
Can generalize to `? extends T`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/external/ExternalInputSpecSlicer.java`
#### Snippet
```java
    @Override
    public <T> Iterator<List<T>> split(
        final Iterator<T> inputIterator,
        final Function<T, InputFileAttribute> inputAttributeExtractor
    )
```

### BoundedWildcard
Can generalize to `? extends InputSpec`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/StageDefinitionBuilder.java`
#### Snippet
```java
  }

  public StageDefinitionBuilder inputs(final List<InputSpec> inputSpecs)
  {
    this.inputSpecs.clear();
```

### BoundedWildcard
Can generalize to `? extends ClusterByPartitions`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerSketchFetcher.java`
#### Snippet
```java
   * (in the case of creating too many partitions), otherwise checks the size of the list.
   */
  private static long getPartitionCountFromEither(Either<Long, ClusterByPartitions> either)
  {
    if (either.isError()) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`>
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerSketchFetcher.java`
#### Snippet
```java
        StageDefinition stageDefinition,
        List<String> workerTaskIds,
        Iterator<Map.Entry<Long, Set<Integer>>> timeSegmentVsWorkerIdIterator
    )
    {
```

### BoundedWildcard
Can generalize to `? extends ClusterByPartition`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerSketchFetcher.java`
#### Snippet
```java
    private void abutAndAppendPartitionBoundries(
        List<ClusterByPartition> finalPartitionBoundries,
        List<ClusterByPartition> timeSketchPartitions
    )
    {
```

### BoundedWildcard
Can generalize to `? extends StageDefinition`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/QueryDefinition.java`
#### Snippet
```java

  private QueryDefinition(
      final Map<StageId, StageDefinition> stageDefinitions,
      final StageId finalStage
  )
```

### BoundedWildcard
Can generalize to `? extends StageDefinition`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/QueryDefinition.java`
#### Snippet
```java

  @JsonCreator
  static QueryDefinition create(@JsonProperty("stages") final List<StageDefinition> stageDefinitions)
  {
    final Map<StageId, StageDefinition> stageMap = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/controller/WorkerInputs.java`
#### Snippet
```java
  private final Int2ObjectMap<List<InputSlice>> assignmentsMap;

  private WorkerInputs(final Int2ObjectMap<List<InputSlice>> assignmentsMap)
  {
    this.assignmentsMap = assignmentsMap;
```

### BoundedWildcard
Can generalize to `? extends InputSource`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/external/ExternalInputSliceReader.java`
#### Snippet
```java

  private static Iterator<SegmentWithDescriptor> inputSourceSegmentIterator(
      final List<InputSource> inputSources,
      final InputFormat inputFormat,
      final RowSignature signature,
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/external/ExternalInputSliceReader.java`
#### Snippet
```java
      final ChannelCounters channelCounters,
      final WarningCounters warningCounters,
      final Consumer<Throwable> warningPublisher
  )
  {
```

### BoundedWildcard
Can generalize to `? extends WorkerStageKernel`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
   * Log (at DEBUG level) a string explaining the status of all work assigned to this worker.
   */
  private static void logKernelStatus(final Collection<WorkerStageKernel> kernels)
  {
    if (log.isDebugEnabled()) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
        {
          @Override
          public <T> Callable<T> decorateCallable(Callable<T> callable)
          {
            return new PrioritizedCallable<T>()
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
    private final WorkerInputChannelFactory workerInputChannelFactory;

    public WorkerOrLocalInputChannelFactory(final Supplier<List<String>> taskList)
    {
      this.workerInputChannelFactory = new WorkerInputChannelFactory(workerClient, taskList);
```

### BoundedWildcard
Can generalize to `? extends TaskMaster`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/DurableStorageCleaner.java`
#### Snippet
```java
      final DurableStorageCleanerConfig config,
      final @MultiStageQuery StorageConnector storageConnector,
      @JacksonInject final Provider<TaskMaster> taskMasterProvider
  )
  {
```

### BoundedWildcard
Can generalize to `? extends InputSlice`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessorFactory.java`
#### Snippet
```java
      StageDefinition stageDefinition,
      int workerNumber,
      List<InputSlice> inputSlices,
      InputSliceReader inputSliceReader,
      @Nullable List<SegmentIdWithShardSpec> extra,
```

### BoundedWildcard
Can generalize to `? extends MemoryAllocator`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/InputChannelsImpl.java`
#### Snippet
```java
      final ReadablePartitions readablePartitions,
      final InputChannelFactory channelFactory,
      final Supplier<MemoryAllocator> allocatorMaker,
      final FrameProcessorExecutor exec,
      final String cancellationId
```

### BoundedWildcard
Can generalize to `? extends MSQErrorReport`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
   */
  @Override
  public void workerWarning(List<MSQErrorReport> errorReports)
  {
    // This check safeguards that the controller doesn't run out of memory. Workers apply their own limiting to
```

### BoundedWildcard
Can generalize to `? extends ControllerStagePhase`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
  private static MSQStagesReport makeStageReport(
      final QueryDefinition queryDef,
      final Map<Integer, ControllerStagePhase> stagePhaseMap,
      final Map<Integer, Interval> stageRuntimeMap,
      final Map<Integer, Integer> stageWorkerCountMap,
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
   * containing data that should be dropped.
   */
  private List<Interval> findIntervalsToDrop(final Set<DataSegment> publishedSegments)
  {
    // Safe to cast because publishAllSegments is only called for dataSource destinations.
```

### BoundedWildcard
Can generalize to `? super DimensionSchema`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
   */
  private static void populateDimensionsAndAggregators(
      List<DimensionSchema> dimensions,
      List<AggregatorFactory> aggregators,
      Map<String, AggregatorFactory> outputColumnAggregatorFactories,
```

### BoundedWildcard
Can generalize to `? super AggregatorFactory`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
  private static void populateDimensionsAndAggregators(
      List<DimensionSchema> dimensions,
      List<AggregatorFactory> aggregators,
      Map<String, AggregatorFactory> outputColumnAggregatorFactories,
      String outputColumn,
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
      List<DimensionSchema> dimensions,
      List<AggregatorFactory> aggregators,
      Map<String, AggregatorFactory> outputColumnAggregatorFactories,
      String outputColumn,
      ColumnType type
```

### BoundedWildcard
Can generalize to `? extends ReadableFrameChannel`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BroadcastJoinHelper.java`
#### Snippet
```java
  public BroadcastJoinHelper(
      final Int2IntMap inputNumberToProcessorChannelMap,
      final List<ReadableFrameChannel> channels,
      final List<FrameReader> channelReaders,
      final JoinableFactoryWrapper joinableFactory,
```

### BoundedWildcard
Can generalize to `? extends FrameReader`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BroadcastJoinHelper.java`
#### Snippet
```java
      final Int2IntMap inputNumberToProcessorChannelMap,
      final List<ReadableFrameChannel> channels,
      final List<FrameReader> channelReaders,
      final JoinableFactoryWrapper joinableFactory,
      final long memoryReservedForBroadcastJoin
```

### BoundedWildcard
Can generalize to `? extends WritableFrameChannel`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessor.java`
#### Snippet
```java
      final Int2ObjectMap<ReadableInput> sideChannels,
      final JoinableFactoryWrapper joinableFactory,
      final ResourceHolder<WritableFrameChannel> outputChannel,
      final ResourceHolder<FrameWriterFactory> frameWriterFactoryHolder,
      final long memoryReservedForBroadcastJoin
```

### BoundedWildcard
Can generalize to `? extends FrameWriterFactory`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessor.java`
#### Snippet
```java
      final JoinableFactoryWrapper joinableFactory,
      final ResourceHolder<WritableFrameChannel> outputChannel,
      final ResourceHolder<FrameWriterFactory> frameWriterFactoryHolder,
      final long memoryReservedForBroadcastJoin
  )
```

### BoundedWildcard
Can generalize to `? extends ControllerStagePhase`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/report/MSQStagesReport.java`
#### Snippet
```java
  public static MSQStagesReport create(
      final QueryDefinition queryDef,
      final Map<Integer, ControllerStagePhase> stagePhaseMap,
      final Map<Integer, Interval> stageRuntimeMap,
      final Map<Integer, Integer> stageWorkerCountMap,
```

### BoundedWildcard
Can generalize to `? extends InputSlice`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/common/OffsetLimitFrameProcessorFactory.java`
#### Snippet
```java
      StageDefinition stageDefinition,
      int workerNumber,
      List<InputSlice> inputSlices,
      InputSliceReader inputSliceReader,
      @Nullable Object extra,
```

### BoundedWildcard
Can generalize to `? extends SortColumn`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/QueryKitUtils.java`
#### Snippet
```java
  public static RowSignature sortableSignature(
      final RowSignature signature,
      final List<SortColumn> clusterByColumns
  )
  {
```

### BoundedWildcard
Can generalize to `? super RowKey`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/statistics/DelegateOrMinKeyCollector.java`
#### Snippet
```java

  DelegateOrMinKeyCollector(
      final Comparator<RowKey> comparator,
      @Nullable final TDelegate delegate,
      @Nullable final RowKey minKey
```

### BoundedWildcard
Can generalize to `? extends MemoryAllocator`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/scan/ScanQueryFrameProcessorFactory.java`
#### Snippet
```java
      Int2ObjectMap<ReadableInput> sideChannels,
      ResourceHolder<WritableFrameChannel> outputChannelHolder,
      ResourceHolder<MemoryAllocator> allocatorHolder,
      RowSignature signature,
      ClusterBy clusterBy,
```

### BoundedWildcard
Can generalize to `? extends MemoryAllocator`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByPreShuffleFrameProcessorFactory.java`
#### Snippet
```java
      final Int2ObjectMap<ReadableInput> sideChannels,
      final ResourceHolder<WritableFrameChannel> outputChannelHolder,
      final ResourceHolder<MemoryAllocator> allocatorHolder,
      final RowSignature signature,
      final ClusterBy clusterBy,
```

### BoundedWildcard
Can generalize to `? extends InputSlice`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessorFactory.java`
#### Snippet
```java
  private static Sequence<ReadableInput> readBaseInputs(
      final StageDefinition stageDef,
      final List<InputSlice> inputSlices,
      final InputSliceReader inputSliceReader,
      final CounterTracker counters,
```

### BoundedWildcard
Can generalize to `? extends Queue`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessorFactory.java`
#### Snippet
```java

  private static <T> ResourceHolder<T> makeLazyResourceHolder(
      final AtomicReference<Queue<T>> queueRef,
      final Consumer<T> backupCloser
  )
```

### BoundedWildcard
Can generalize to `? super T`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BaseLeafFrameProcessorFactory.java`
#### Snippet
```java
  private static <T> ResourceHolder<T> makeLazyResourceHolder(
      final AtomicReference<Queue<T>> queueRef,
      final Consumer<T> backupCloser
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/aggregation/bloom/sql/BloomFilterSqlAggregator.java`
#### Snippet
```java
      AggregateCall aggregateCall,
      Project project,
      List<Aggregation> existingAggregations,
      boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? extends ResourceAction`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerPermission.java`
#### Snippet
```java
  }

  public static List<BasicAuthorizerPermission> makePermissionList(List<ResourceAction> resourceActions)
  {
    List<BasicAuthorizerPermission> permissions = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends StatusResponseHolder`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/CommonCacheNotifier.java`
#### Snippet
```java

    @Override
    public ClientResponse<StatusResponseHolder> done(ClientResponse<StatusResponseHolder> response)
    {
      return ClientResponse.finished(response.getObj());
```

### BoundedWildcard
Can generalize to `? extends BasicAuthDBConfig`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/CommonCacheNotifier.java`
#### Snippet
```java

  public CommonCacheNotifier(
      Map<String, BasicAuthDBConfig> itemConfigMap,
      DruidNodeDiscoveryProvider discoveryProvider,
      HttpClient httpClient,
```

### BoundedWildcard
Can generalize to `? extends LdapName`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/LDAPRoleProvider.java`
#### Snippet
```java

  @VisibleForTesting
  public Set<String> getRoles(Map<String, BasicAuthorizerGroupMapping> groupMappingMap, Set<LdapName> groupNamesFromLdap)
  {
    Set<String> roles = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends BasicAuthorizerRole`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerRoleSimplifiedPermissions.java`
#### Snippet
```java

  public static Set<BasicAuthorizerRoleSimplifiedPermissions> convertRoles(
      Set<BasicAuthorizerRole> roles
  )
  {
```

### BoundedWildcard
Can generalize to `? extends BasicAuthorizerPermission`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerRoleSimplifiedPermissions.java`
#### Snippet
```java

  public static List<ResourceAction> convertPermissions(
      List<BasicAuthorizerPermission> permissions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends BasicAuthenticatorCacheManager`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/MetadataStoreCredentialsValidator.java`
#### Snippet
```java
  @JsonCreator
  public MetadataStoreCredentialsValidator(
      @JacksonInject Provider<BasicAuthenticatorCacheManager> cacheManager
  )
  {
```

### BoundedWildcard
Can generalize to `? extends BasicAuthorizerRole`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/endpoint/CoordinatorBasicAuthorizerResourceHandler.java`
#### Snippet
```java
  private Set<BasicAuthorizerRole> getRolesForUser(
      BasicAuthorizerUser user,
      Map<String, BasicAuthorizerRole> roleMap
  )
  {
```

### BoundedWildcard
Can generalize to `? extends BasicAuthorizerRole`
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/endpoint/CoordinatorBasicAuthorizerResourceHandler.java`
#### Snippet
```java
  private Set<BasicAuthorizerRoleSimplifiedPermissions> getRolesForUserWithSimplifiedPermissions(
      BasicAuthorizerUser user,
      Map<String, BasicAuthorizerRole> roleMap
  )
  {
```

### BoundedWildcard
Can generalize to `? extends K`
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OffHeapLoadingCache.java`
#### Snippet
```java

  @Override
  public void invalidateAll(Iterable<K> keys)
  {
    for (K key : keys) {
```

### BoundedWildcard
Can generalize to `? extends K`
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/cache/loading/OffHeapLoadingCache.java`
#### Snippet
```java

  @Override
  public Map<K, V> getAllPresent(final Iterable<K> keys)
  {
    ImmutableMap.Builder builder = ImmutableMap.builder();
```

### BoundedWildcard
Can generalize to `? extends SearchableVersionedDataFinder`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/UriCacheGenerator.java`
#### Snippet
```java
  @Inject
  public UriCacheGenerator(
      Map<String, SearchableVersionedDataFinder> pullers
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
   */
  public static <K, V> PopulateResult populateAndWarnAtByteLimit(
      final Iterator<Pair<K, V>> iterator,
      final Map<K, V> map,
      final long byteLimit,
```

### BoundedWildcard
Can generalize to `? super K`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
  public static <K, V> PopulateResult populateAndWarnAtByteLimit(
      final Iterator<Pair<K, V>> iterator,
      final Map<K, V> map,
      final long byteLimit,
      final String name
```

### BoundedWildcard
Can generalize to `? super V`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
  public static <K, V> PopulateResult populateAndWarnAtByteLimit(
      final Iterator<Pair<K, V>> iterator,
      final Map<K, V> map,
      final long byteLimit,
      final String name
```

### BoundedWildcard
Can generalize to `? super K`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
  public PopulateResult populateAndWarnAtByteLimit(
      final ByteSource source,
      final Map<K, V> map,
      final long byteLimit,
      final String name
```

### BoundedWildcard
Can generalize to `? super V`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
  public PopulateResult populateAndWarnAtByteLimit(
      final ByteSource source,
      final Map<K, V> map,
      final long byteLimit,
      final String name
```

### BoundedWildcard
Can generalize to `? extends KafkaRecordEntity`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputReader.java`
#### Snippet
```java
  public KafkaInputReader(
      InputRowSchema inputRowSchema,
      SettableByteEntity<KafkaRecordEntity> source,
      @Nullable Function<KafkaRecordEntity, KafkaHeaderReader> headerParserSupplier,
      @Nullable Function<KafkaRecordEntity, InputEntityReader> keyParserSupplier,
```

### BoundedWildcard
Can generalize to `? super KafkaRecordEntity`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputReader.java`
#### Snippet
```java
      InputRowSchema inputRowSchema,
      SettableByteEntity<KafkaRecordEntity> source,
      @Nullable Function<KafkaRecordEntity, KafkaHeaderReader> headerParserSupplier,
      @Nullable Function<KafkaRecordEntity, InputEntityReader> keyParserSupplier,
      InputEntityReader valueParser,
```

### BoundedWildcard
Can generalize to `? extends KafkaHeaderReader`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputReader.java`
#### Snippet
```java
      InputRowSchema inputRowSchema,
      SettableByteEntity<KafkaRecordEntity> source,
      @Nullable Function<KafkaRecordEntity, KafkaHeaderReader> headerParserSupplier,
      @Nullable Function<KafkaRecordEntity, InputEntityReader> keyParserSupplier,
      InputEntityReader valueParser,
```

### BoundedWildcard
Can generalize to `? super KafkaRecordEntity`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputReader.java`
#### Snippet
```java
      SettableByteEntity<KafkaRecordEntity> source,
      @Nullable Function<KafkaRecordEntity, KafkaHeaderReader> headerParserSupplier,
      @Nullable Function<KafkaRecordEntity, InputEntityReader> keyParserSupplier,
      InputEntityReader valueParser,
      String keyColumnName,
```

### BoundedWildcard
Can generalize to `? extends InputEntityReader`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputReader.java`
#### Snippet
```java
      SettableByteEntity<KafkaRecordEntity> source,
      @Nullable Function<KafkaRecordEntity, KafkaHeaderReader> headerParserSupplier,
      @Nullable Function<KafkaRecordEntity, InputEntityReader> keyParserSupplier,
      InputEntityReader valueParser,
      String keyColumnName,
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java

  @Override
  public void seekToLatest(Set<StreamPartition<Integer>> partitions)
  {
    wrapExceptions(() -> consumer.seekToEnd(partitions
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java

  @Override
  public void seekToEarliest(Set<StreamPartition<Integer>> partitions)
  {
    wrapExceptions(() -> consumer.seekToBeginning(partitions
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java

  @Override
  public void assign(Set<StreamPartition<Integer>> streamPartitions)
  {
    wrapExceptions(() -> consumer.assign(streamPartitions
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisIndexTaskRunner.java`
#### Snippet
```java
      TaskToolbox toolbox,
      RecordSupplier<String, String, ByteEntity> recordSupplier,
      Set<StreamPartition<String>> assignment
  )
  {
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java

  @Override
  public void assign(Set<StreamPartition<String>> collection)
  {
    checkIfClosed();
```

### BoundedWildcard
Can generalize to `? extends Text`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
    ) throws IOException, InterruptedException;

    private static Iterable<DimValueCount> combineRows(Iterable<Text> input)
    {
      return new CombiningIterable<>(
```

### BoundedWildcard
Can generalize to `? extends DimValueCount`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java

    @Override
    protected void innerReduce(Context context, SortableBytes keyBytes, Iterable<DimValueCount> combinedIterable)
        throws IOException
    {
```

### BoundedWildcard
Can generalize to `? extends DimValueCount`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  {
    @Override
    protected void innerReduce(Context context, SortableBytes keyBytes, Iterable<DimValueCount> combinedIterable)
        throws IOException, InterruptedException
    {
```

### BoundedWildcard
Can generalize to `? super BytesWritable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java

  private static void write(
      TaskInputOutputContext<?, ?, BytesWritable, Text> context,
      final byte[] groupKey,
      DimValueCount dimValueCount
```

### BoundedWildcard
Can generalize to `? super Text`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java

  private static void write(
      TaskInputOutputContext<?, ?, BytesWritable, Text> context,
      final byte[] groupKey,
      DimValueCount dimValueCount
```

### BoundedWildcard
Can generalize to `? extends Jobby`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  }

  public static boolean runJobs(List<Jobby> jobs)
  {
    boolean succeeded = true;
```

### BoundedWildcard
Can generalize to `? extends DataSegmentAndIndexZipFilePath`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  public static void renameIndexFilesForSegments(
      HadoopIngestionSpec indexerSchema,
      List<DataSegmentAndIndexZipFilePath> segmentAndIndexZipFilePaths
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends T`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
      T ret,
      final ByteArrayDataOutput out,
      final Supplier<T> getDefault,
      final Consumer<T> write)
  {
```

### BoundedWildcard
Can generalize to `? super T`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
      final ByteArrayDataOutput out,
      final Supplier<T> getDefault,
      final Consumer<T> write)
  {
    if (ret == null) {
```

### BoundedWildcard
Can generalize to `? extends IndexSerdeTypeHelper`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

  public static InputRow fromBytes(
      final Map<String, IndexSerdeTypeHelper> typeHelperMap,
      byte[] data,
      AggregatorFactory[] aggs
```

### BoundedWildcard
Can generalize to `? extends IndexSerdeTypeHelper`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

  public static SerializeResult toBytes(
      final Map<String, IndexSerdeTypeHelper> typeHelperMap,
      final InputRow row,
      AggregatorFactory[] aggs
```

### BoundedWildcard
Can generalize to `? extends TaskReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/IngestionStatsAndErrorsTaskReportData.java`
#### Snippet
```java

  public static IngestionStatsAndErrorsTaskReportData getPayloadFromTaskReports(
      Map<String, TaskReport> taskReports
  )
  {
```

### BoundedWildcard
Can generalize to `? extends WindowedDataSegment`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
  @VisibleForTesting
  static Stream<String> getLocations(
      final List<WindowedDataSegment> segments,
      final org.apache.hadoop.mapred.InputFormat fio,
      final JobConf conf
```

### BoundedWildcard
Can generalize to `? extends org.apache.hadoop.mapred.InputFormat`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java

  @VisibleForTesting
  DatasourceInputFormat setSupplier(Supplier<org.apache.hadoop.mapred.InputFormat> supplier)
  {
    this.supplier = supplier;
```

### BoundedWildcard
Can generalize to `? extends InputRow`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/FilteringCloseableInputRowIterator.java`
#### Snippet
```java

  public FilteringCloseableInputRowIterator(
      CloseableIterator<InputRow> delegate,
      Predicate<InputRow> filter,
      RowIngestionMeters rowIngestionMeters,
```

### BoundedWildcard
Can generalize to `? super InputRow`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/FilteringCloseableInputRowIterator.java`
#### Snippet
```java
  public FilteringCloseableInputRowIterator(
      CloseableIterator<InputRow> delegate,
      Predicate<InputRow> filter,
      RowIngestionMeters rowIngestionMeters,
      ParseExceptionHandler parseExceptionHandler
```

### BoundedWildcard
Can generalize to `? extends TimelineObjectHolder`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/ReingestionTimelineUtils.java`
#### Snippet
```java
   * @return A list of all the unique metric column names present in the segments within timelineSegments
   */
  public static List<String> getUniqueMetrics(List<TimelineObjectHolder<String, DataSegment>> timelineSegments)
  {
    final BiMap<String, Integer> uniqueMetrics = HashBiMap.create();
```

### BoundedWildcard
Can generalize to `? extends TimelineObjectHolder`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/ReingestionTimelineUtils.java`
#### Snippet
```java
   */
  public static List<String> getUniqueDimensions(
      List<TimelineObjectHolder<String, DataSegment>> timelineSegments,
      @Nullable Set<String> excludeDimensions
  )
```

### BoundedWildcard
Can generalize to `? extends Task`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Task.java`
#### Snippet
```java
  }

  static TaskInfo<TaskIdentifier, TaskStatus> toTaskIdentifierInfo(TaskInfo<Task, TaskStatus> taskInfo)
  {
    return new TaskInfo<>(
```

### BoundedWildcard
Can generalize to `? extends TaskStatus`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Task.java`
#### Snippet
```java
  }

  static TaskInfo<TaskIdentifier, TaskStatus> toTaskIdentifierInfo(TaskInfo<Task, TaskStatus> taskInfo)
  {
    return new TaskInfo<>(
```

### BoundedWildcard
Can generalize to `? extends TimelineObjectHolder`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java
   */
  private static SortedMap<WindowedSegmentId, Long> createWindowedSegmentIdFromTimeline(
      List<TimelineObjectHolder<String, DataSegment>> timelineHolders
  )
  {
```

### BoundedWildcard
Can generalize to `? extends WindowedSegmentId`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java
      CoordinatorClient coordinatorClient,
      String dataSource,
      List<WindowedSegmentId> segmentIds
  )
  {
```

### BoundedWildcard
Can generalize to `? extends List`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<WindowedSegmentId>> withSplit(InputSplit<List<WindowedSegmentId>> split)
  {
    return new DruidInputSource(
```

### BoundedWildcard
Can generalize to `? extends List`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CachingLocalSegmentAllocator.java`
#### Snippet
```java
  static Function<Interval, String> createVersionFinder(
      TaskToolbox toolbox,
      TaskAction<List<TaskLock>> lockListAction
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/SpecificSegmentsSpec.java`
#### Snippet
```java

  @Override
  public boolean validateSegments(LockGranularity lockGranularityInUse, List<DataSegment> latestSegments)
  {
    final List<String> thoseSegments = latestSegments
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/SpecificSegmentsSpec.java`
#### Snippet
```java
  private final List<String> segments;

  public static SpecificSegmentsSpec fromSegments(List<DataSegment> segments)
  {
    Preconditions.checkArgument(!segments.isEmpty(), "Empty segment list");
```

### BoundedWildcard
Can generalize to `? extends ParseException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTaskUtils.java`
#### Snippet
```java
  @Nullable
  public static List<String> getMessagesFromSavedParseExceptions(
      CircularBuffer<ParseException> savedParseExceptions,
      boolean includeTimeOfException
  )
```

### BoundedWildcard
Can generalize to `? extends ParseExceptionReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTaskUtils.java`
#### Snippet
```java
  @Nullable
  public static List<ParseExceptionReport> getReportListFromSavedParseExceptions(
      CircularBuffer<ParseExceptionReport> savedParseExceptionReports
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Committer`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java
      StreamAppenderatorDriver driver,
      TransactionalSegmentPublisher publisher,
      Supplier<Committer> committerSupplier,
      String sequenceName
  )
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

      @Override
      public void announceSegments(Iterable<DataSegment> segments) throws IOException
      {
        // Side effect: Calling announceSegments causes locks to be acquired
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

      @Override
      public void unannounceSegments(Iterable<DataSegment> segments) throws IOException
      {
        try {
```

### BoundedWildcard
Can generalize to `? extends QueryRunnerFactoryConglomerate`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/TaskToolbox.java`
#### Snippet
```java
      DataSegmentServerAnnouncer serverAnnouncer,
      SegmentHandoffNotifierFactory handoffNotifierFactory,
      Provider<QueryRunnerFactoryConglomerate> queryRunnerFactoryConglomerateProvider,
      QueryProcessingPool queryProcessingPool,
      JoinableFactory joinableFactory,
```

### BoundedWildcard
Can generalize to `? extends MonitorScheduler`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/TaskToolbox.java`
#### Snippet
```java
      QueryProcessingPool queryProcessingPool,
      JoinableFactory joinableFactory,
      @Nullable Provider<MonitorScheduler> monitorSchedulerProvider,
      SegmentCacheManager segmentCacheManager,
      ObjectMapper jsonMapper,
```

### BoundedWildcard
Can generalize to `? super TaskConfig`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CurrentSubTaskHolder.java`
#### Snippet
```java
  private final BiConsumer<Object, TaskConfig> cleanFunction;

  public CurrentSubTaskHolder(BiConsumer<Object, TaskConfig> subTaskCleaner)
  {
    this.cleanFunction = subTaskCleaner;
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/TaskLockHelper.java`
#### Snippet
```java
  }

  boolean verifyAndLockExistingSegments(TaskActionClient actionClient, List<DataSegment> segments)
      throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/TaskLockHelper.java`
#### Snippet
```java
   * - All atomicUpdateGroups of inputSegments must be full. (See {@code AtomicUpdateGroup#isFull()}).
   */
  private void verifyAndFindRootPartitionRangeAndMinorVersion(List<DataSegment> inputSegments)
  {
    if (inputSegments.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/TaskLockHelper.java`
#### Snippet
```java
  }

  public static void verifyRootPartitionIsAdjacentAndAtomicUpdateGroupIsFull(List<DataSegment> sortedSegments)
  {
    if (sortedSegments.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends List`>
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/ShardSpecs.java`
#### Snippet
```java
  private final Granularity queryGranularity;

  ShardSpecs(final Map<Interval, List<BucketNumberedShardSpec<?>>> map, Granularity queryGranularity)
  {
    this.map = map;
```

### BoundedWildcard
Can generalize to `? extends InputRow`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionCardinalityTask.java`
#### Snippet
```java

  private Map<Interval, byte[]> determineCardinalities(
      CloseableIterator<InputRow> inputRowIterator,
      GranularitySpec granularitySpec
  )
```

### BoundedWildcard
Can generalize to `? extends PartitionLocation`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialGenericSegmentMergeTask.java`
#### Snippet
```java

  private static Table<Interval, Integer, BuildingShardSpec<?>> createIntervalAndIntegerToShardSpec(
      List<PartitionLocation> partitionLocations
  )
  {
```

### BoundedWildcard
Can generalize to `? super LockGranularity`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
      TaskActionClient client,
      List<DataSegment> segments,
      BiConsumer<LockGranularity, List<DataSegment>> segmentCheckFunction
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? super List`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
      TaskActionClient client,
      List<DataSegment> segments,
      BiConsumer<LockGranularity, List<DataSegment>> segmentCheckFunction
  ) throws IOException
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
  protected boolean waitForSegmentAvailability(
      TaskToolbox toolbox,
      List<DataSegment> segmentsToWaitFor,
      long waitTimeout
  )
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java

  @Nullable
  static Granularity findGranularityFromSegments(List<DataSegment> segments)
  {
    if (segments.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends PartialSegmentMergeIOConfig`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialGenericSegmentMergeParallelIndexTaskRunner.java`
#### Snippet
```java
      String baseSubtaskSpecName,
      DataSchema dataSchema,
      List<PartialSegmentMergeIOConfig> mergeIOConfigs,
      ParallelIndexTuningConfig tuningConfig,
      Map<String, Object> context
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
   */
  private static Iterable<Pair<DataSegment, Supplier<ResourceHolder<QueryableIndex>>>> lazyFetchSegments(
      Iterable<DataSegment> dataSegments,
      SegmentCacheManager segmentCacheManager,
      IndexIO indexIO
```

### BoundedWildcard
Can generalize to `? extends Pair`>>
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java

    ExistingSegmentAnalyzer(
        final Iterable<Pair<DataSegment, Supplier<ResourceHolder<QueryableIndex>>>> segmentsIterable,
        final boolean needRollup,
        final boolean needQueryGranularity,
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TombstoneHelper.java`
#### Snippet
```java

  public TombstoneHelper(
      Collection<DataSegment> pushedSegments,
      DataSchema dataSchema,
      TaskActionClient taskActionClient
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialHashSegmentGenerateTask.java`
#### Snippet
```java

  @Override
  GeneratedPartitionsMetadataReport createGeneratedPartitionsReport(TaskToolbox toolbox, List<DataSegment> segments, Map<String, TaskReport> taskReport)
  {
    List<PartitionStat> partitionStats = segments.stream()
```

### BoundedWildcard
Can generalize to `? extends SegmentsAndCommitMetadata`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java

  private static SegmentsAndCommitMetadata awaitPublish(
      ListenableFuture<SegmentsAndCommitMetadata> publishFuture,
      long publishTimeout
  ) throws ExecutionException, InterruptedException, TimeoutException
```

### BoundedWildcard
Can generalize to `? extends T`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskMonitor.java`
#### Snippet
```java
  }

  private T submitTask(SubTaskSpec<T> spec, int numAttempts)
  {
    T task = spec.newSubTask(numAttempts);
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialRangeSegmentGenerateTask.java`
#### Snippet
```java

  @Override
  GeneratedPartitionsMetadataReport createGeneratedPartitionsReport(TaskToolbox toolbox, List<DataSegment> segments, Map<String, TaskReport> taskReport)
  {
    List<PartitionStat> partitionStats = segments.stream()
```

### BoundedWildcard
Can generalize to `? super Interval`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/partition/HashPartitionAnalysis.java`
#### Snippet
```java
  }

  public void forEach(BiConsumer<Interval, Integer> consumer)
  {
    intervalToNumBuckets.forEach(consumer);
```

### BoundedWildcard
Can generalize to `? super Integer`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/partition/HashPartitionAnalysis.java`
#### Snippet
```java
  }

  public void forEach(BiConsumer<Interval, Integer> consumer)
  {
    intervalToNumBuckets.forEach(consumer);
```

### BoundedWildcard
Can generalize to `? extends SubTaskSpec`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexPhaseRunner.java`
#### Snippet
```java
    private int count;

    private CountingSubTaskSpecIterator(Iterator<SubTaskSpec<SubTaskType>> delegate)
    {
      this.delegate = delegate;
```

### BoundedWildcard
Can generalize to `? super Interval`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/partition/RangePartitionAnalysis.java`
#### Snippet
```java
  }

  private void forEach(BiConsumer<Interval, PartitionBoundaries> consumer)
  {
    intervalToPartitionBoundaries.forEach(consumer);
```

### BoundedWildcard
Can generalize to `? super PartitionBoundaries`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/partition/RangePartitionAnalysis.java`
#### Snippet
```java
  }

  private void forEach(BiConsumer<Interval, PartitionBoundaries> consumer)
  {
    intervalToPartitionBoundaries.forEach(consumer);
```

### BoundedWildcard
Can generalize to `? extends DedupInputRowFilter`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionTask.java`
#### Snippet
```java
      final ParallelIndexIngestionSpec ingestionSchema,
      final Map<String, Object> context,
      Supplier<DedupInputRowFilter> dedupRowDimValueFilterSupplier
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/TaskLocks.java`
#### Snippet
```java
  public static boolean isLockCoversSegments(
      NavigableMap<DateTime, List<TaskLock>> taskLockMap,
      Collection<DataSegment> segments
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/TaskLocks.java`
#### Snippet
```java
      final Task task,
      final TaskLockbox taskLockbox,
      final Collection<DataSegment> segments
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocationQueue.java`
#### Snippet
```java
  }

  private Interval[] getSortedIntervals(Set<DataSegment> usedSegments)
  {
    TreeSet<Interval> sortedSet = new TreeSet<>(Comparators.intervalsByStartThenEnd());
```

### BoundedWildcard
Can generalize to `? extends SegmentAllocateRequest`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocationQueue.java`
#### Snippet
```java

  private Map<Interval, List<SegmentAllocateRequest>> getRequestsByInterval(
      Set<SegmentAllocateRequest> requests,
      Granularity tryGranularity
  )
```

### BoundedWildcard
Can generalize to `? extends ShuffleMetrics`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/shuffle/ShuffleResource.java`
#### Snippet
```java

  @Inject
  public ShuffleResource(IntermediaryDataManager intermediaryDataManager, Optional<ShuffleMetrics> shuffleMetrics)
  {
    this.intermediaryDataManager = intermediaryDataManager;
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentTransactionalInsertAction.java`
#### Snippet
```java
  }

  private static Map<Interval, List<DataSegment>> groupSegmentsByIntervalAndSort(Set<DataSegment> segments)
  {
    final Map<Interval, List<DataSegment>> segmentsMap = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends TaskStatus`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
  }

  private void addRunningTask(final Task task, final ListenableFuture<TaskStatus> future)
  {
    runningTasks.put(task.getId(), new TaskDetails(task));
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java

  public static void notifyStatusChanged(
      final Iterable<Pair<TaskRunnerListener, Executor>> listeners,
      final String taskId,
      final TaskStatus status
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java

  public static void notifyLocationChanged(
      final Iterable<Pair<TaskRunnerListener, Executor>> listeners,
      final String taskId,
      final TaskLocation location
```

### BoundedWildcard
Can generalize to `? extends TaskAnnouncement`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ZkWorker.java`
#### Snippet
```java
  }

  private static int getCurrCapacityUsed(Map<String, TaskAnnouncement> tasks)
  {
    int currCapacity = 0;
```

### BoundedWildcard
Can generalize to `? extends TaskAnnouncement`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ZkWorker.java`
#### Snippet
```java
  }

  private static Set<String> getAvailabilityGroups(Map<String, TaskAnnouncement> tasks)
  {
    Set<String> retVal = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends TaskAnnouncement`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ZkWorker.java`
#### Snippet
```java
  }

  private int getCurrParallelIndexCapacityUsed(Map<String, TaskAnnouncement> tasks)
  {
    int currParallelIndexCapacityUsed = 0;
```

### BoundedWildcard
Can generalize to `? super TaskStuff`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/HeapMemoryTaskStorage.java`
#### Snippet
```java
      DateTime start,
      @Nullable Integer n,
      Ordering<TaskStuff> createdDateDesc
  )
  {
```

### BoundedWildcard
Can generalize to `? extends PushedSegmentsReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  private void publishSegments(
      TaskToolbox toolbox,
      Map<String, PushedSegmentsReport> reportsMap
  )
      throws IOException
```

### BoundedWildcard
Can generalize to `? super TaskToolbox`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  <T extends Task, R extends SubTaskReport> ParallelIndexTaskRunner<T, R> createRunner(
      TaskToolbox toolbox,
      Function<TaskToolbox, ParallelIndexTaskRunner<T, R>> runnerCreator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ParallelIndexTaskRunner`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  <T extends Task, R extends SubTaskReport> ParallelIndexTaskRunner<T, R> createRunner(
      TaskToolbox toolbox,
      Function<TaskToolbox, ParallelIndexTaskRunner<T, R>> runnerCreator
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Union`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  static Map<Interval, Integer> computeIntervalToNumShards(
      int maxRowsPerSegment,
      Map<Interval, Union> finalCollectors
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionCardinalityReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  }

  private static Map<Interval, Union> mergeCardinalityReports(Collection<DimensionCardinalityReport> reports)
  {
    Map<Interval, Union> finalCollectors = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super ParseExceptionReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  private RowIngestionMetersTotals getRowStatsAndUnparseableEventsForRunningTasks(
      Set<String> runningTaskIds,
      List<ParseExceptionReport> unparseableEvents,
      boolean includeUnparseable
  )
```

### BoundedWildcard
Can generalize to `? extends Partition`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  static <M extends PartialSegmentMergeIOConfig, L extends PartitionLocation> List<M> createMergeIOConfigs(
      int totalNumMergeTasks,
      Map<Partition, List<L>> partitionToLocations,
      Function<List<L>, M> createPartialSegmentMergeIOConfig
  )
```

### BoundedWildcard
Can generalize to `? extends List`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
  static <M extends PartialSegmentMergeIOConfig, L extends PartitionLocation> List<M> createMergeIOConfigs(
      int totalNumMergeTasks,
      Map<Partition, List<L>> partitionToLocations,
      Function<List<L>, M> createPartialSegmentMergeIOConfig
  )
```

### BoundedWildcard
Can generalize to `? super List`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      int totalNumMergeTasks,
      Map<Partition, List<L>> partitionToLocations,
      Function<List<L>, M> createPartialSegmentMergeIOConfig
  )
  {
```

### BoundedWildcard
Can generalize to `? extends M`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      int totalNumMergeTasks,
      Map<Partition, List<L>> partitionToLocations,
      Function<List<L>, M> createPartialSegmentMergeIOConfig
  )
  {
```

### BoundedWildcard
Can generalize to `? super ParseExceptionReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      Map<String, TaskReport> taskReport,
      boolean includeUnparseable,
      List<ParseExceptionReport> unparseableEvents)
  {
    IngestionStatsAndErrorsTaskReport ingestionStatsAndErrorsReport = (IngestionStatsAndErrorsTaskReport) taskReport.get(
```

### BoundedWildcard
Can generalize to `? extends GeneratedPartitionsReport`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
   */
  static Map<Partition, List<PartitionLocation>> getPartitionToLocations(
      Map<String, GeneratedPartitionsReport> subTaskIdToReport
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Task`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
  }

  private static Map<String, Task> toTaskIDMap(List<Task> taskList)
  {
    Map<String, Task> rv = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? super String`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
  @GuardedBy("giant")
  private void manageInternalCritical(
      final Set<String> knownTaskIds,
      final Map<String, ListenableFuture<TaskStatus>> runnerTaskFutures
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
  private void manageInternalCritical(
      final Set<String> knownTaskIds,
      final Map<String, ListenableFuture<TaskStatus>> runnerTaskFutures
  )
  {
```

### BoundedWildcard
Can generalize to `? extends WorkerHistoryItem`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java

      @Override
      public void deltaSync(List<WorkerHistoryItem> changes)
      {
        List<TaskAnnouncement> delta = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends TaskAnnouncement`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java
      }

      private void notifyListener(List<TaskAnnouncement> announcements, boolean isWorkerDisabled)
      {
        for (TaskAnnouncement announcement : announcements) {
```

### BoundedWildcard
Can generalize to `? extends WorkerHistoryItem`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java
    {
      @Override
      public void fullSync(List<WorkerHistoryItem> changes)
      {
        ConcurrentMap<String, TaskAnnouncement> newSnapshot = new ConcurrentHashMap<>();
```

### BoundedWildcard
Can generalize to `? extends TaskLockPosse`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
  }

  private static boolean isAllRevocable(List<TaskLockPosse> lockPosses, int tryLockPriority)
  {
    return lockPosses.stream().allMatch(taskLockPosse -> isRevocable(taskLockPosse, tryLockPriority));
```

### BoundedWildcard
Can generalize to `? extends TaskLockPosse`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
   * @param priority priority of the lock to be acquired
   */
  private void revokeAllLowerPriorityNonSharedLocks(List<TaskLockPosse> lockPosses, int priority)
  {
    lockPosses.stream()
```

### BoundedWildcard
Can generalize to `? extends TaskLockPosse`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
   * @return true if the condititons are met
   */
  private static boolean areAllEqualOrHigherPriorityLocksSharedOrRevoked(List<TaskLockPosse> lockPosses, int priority)
  {
    return lockPosses.stream()
```

### BoundedWildcard
Can generalize to `? extends SegmentAllocationHolder`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
      Interval interval,
      boolean skipSegmentLineageCheck,
      Collection<SegmentAllocationHolder> holders
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
    }

    void forEachTask(Consumer<String> action)
    {
      Preconditions.checkNotNull(action, "action");
```

### BoundedWildcard
Can generalize to `? extends SegmentAllocateRequest`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
    final Set<SegmentAllocationHolder> recentlyCompleted = new HashSet<>();

    AllocationHolderList(List<SegmentAllocateRequest> requests, Interval interval)
    {
      for (SegmentAllocateRequest request : requests) {
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/EqualDistributionWorkerSelectStrategy.java`
#### Snippet
```java
  }

  static ImmutableWorkerInfo selectFromEligibleWorkers(final Map<String, ImmutableWorkerInfo> eligibleWorkers)
  {
    return eligibleWorkers.values().stream().max(
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/FillCapacityWorkerSelectStrategy.java`
#### Snippet
```java
  }

  static ImmutableWorkerInfo selectFromEligibleWorkers(final Map<String, ImmutableWorkerInfo> eligibleWorkers)
  {
    return eligibleWorkers.values().stream().max(
```

### BoundedWildcard
Can generalize to `? extends T`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
  }

  private <T> Response asLeaderWith(Optional<T> x, Function<T, Response> f)
  {
    if (x.isPresent()) {
```

### BoundedWildcard
Can generalize to `? super T`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
  }

  private <T> Response asLeaderWith(Optional<T> x, Function<T, Response> f)
  {
    if (x.isPresent()) {
```

### BoundedWildcard
Can generalize to `? extends Response`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
  }

  private <T> Response asLeaderWith(Optional<T> x, Function<T, Response> f)
  {
    if (x.isPresent()) {
```

### BoundedWildcard
Can generalize to `? extends OverlordHelper`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/helpers/OverlordHelperManager.java`
#### Snippet
```java
  public OverlordHelperManager(
      ScheduledExecutorFactory scheduledExecutorFactory,
      Set<OverlordHelper> helpers)
  {
    this.execFactory = scheduledExecutorFactory;
```

### BoundedWildcard
Can generalize to `? super ZkWorker`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java

  @VisibleForTesting
  PathChildrenCacheListener getStatusListener(final Worker worker, final ZkWorker zkWorker, final SettableFuture<ZkWorker> retVal)
  {
    return (client, event) -> {
```

### BoundedWildcard
Can generalize to `? super ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java

  @Override
  public Collection<Worker> markWorkersLazy(Predicate<ImmutableWorkerInfo> isLazyWorker, int maxWorkers)
  {
    // skip the lock and bail early if we should not mark any workers lazy (e.g. number
```

### BoundedWildcard
Can generalize to `? extends ZkWorker`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
  }

  private static ImmutableList<Worker> getWorkerFromZK(Collection<ZkWorker> workers)
  {
    return ImmutableList.copyOf(Collections2.transform(workers, ZkWorker::getWorker));
```

### BoundedWildcard
Can generalize to `? extends ZkWorker`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
  }

  private static ImmutableList<ImmutableWorkerInfo> getImmutableWorkerFromZK(Collection<ZkWorker> workers)
  {
    return ImmutableList.copyOf(Collections2.transform(workers, ZkWorker::toImmutable));
```

### BoundedWildcard
Can generalize to `? extends WorkerBehaviorConfig`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
      PathChildrenCacheFactory.Builder pathChildrenCacheFactory,
      HttpClient httpClient,
      Supplier<WorkerBehaviorConfig> workerConfigRef,
      ProvisioningStrategy<WorkerTaskRunner> provisioningStrategy,
      ServiceEmitter emitter
```

### BoundedWildcard
Can generalize to `? extends RemoteTaskRunnerWorkItem`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java

  @VisibleForTesting
  static void sortByInsertionTime(List<RemoteTaskRunnerWorkItem> tasks)
  {
    Collections.sort(tasks, Comparator.comparing(RemoteTaskRunnerWorkItem::getQueueInsertionTime));
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
    {
      @Override
      public void nodesAdded(Collection<DiscoveryDruidNode> nodes)
      {
        nodes.forEach(node -> addWorker(toWorker(node)));
```

### BoundedWildcard
Can generalize to `? super ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java

  @Override
  public Collection<Worker> markWorkersLazy(Predicate<ImmutableWorkerInfo> isLazyWorker, int maxWorkers)
  {
    synchronized (statusLock) {
```

### BoundedWildcard
Can generalize to `? extends WorkerBehaviorConfig`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
      HttpRemoteTaskRunnerConfig config,
      HttpClient httpClient,
      Supplier<WorkerBehaviorConfig> workerConfigRef,
      ProvisioningStrategy<WorkerTaskRunner> provisioningStrategy,
      DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
```

### BoundedWildcard
Can generalize to `? super WorkerTaskRunner`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
      HttpClient httpClient,
      Supplier<WorkerBehaviorConfig> workerConfigRef,
      ProvisioningStrategy<WorkerTaskRunner> provisioningStrategy,
      DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
      TaskStorage taskStorage,
```

### BoundedWildcard
Can generalize to `? extends DiscoveryDruidNode`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java

      @Override
      public void nodesRemoved(Collection<DiscoveryDruidNode> nodes)
      {
        nodes.forEach(node -> removeWorker(toWorker(node)));
```

### BoundedWildcard
Can generalize to `? super SupervisorManager`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
  }

  private Response asLeaderWithSupervisorManager(Function<SupervisorManager, Response> f)
  {
    Optional<SupervisorManager> supervisorManager = taskMaster.getSupervisorManager();
```

### BoundedWildcard
Can generalize to `? extends Response`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
  }

  private Response asLeaderWithSupervisorManager(Function<SupervisorManager, Response> f)
  {
    Optional<SupervisorManager> supervisorManager = taskMaster.getSupervisorManager();
```

### BoundedWildcard
Can generalize to `? super ByteBuffer`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/StreamChunkParser.java`
#### Snippet
```java
  }

  private List<InputRow> parseWithParser(InputRowParser<ByteBuffer> parser, List<? extends ByteEntity> valueBytes)
  {
    final FluentIterable<InputRow> iterable = FluentIterable
```

### BoundedWildcard
Can generalize to `? extends RecordType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/StreamChunkParser.java`
#### Snippet
```java
  }

  List<InputRow> parse(@Nullable List<RecordType> streamChunk, boolean isEndOfShard) throws IOException
  {
    if (streamChunk == null || streamChunk.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `indexing-service/src/main/java/org/apache/druid/indexing/firehose/IngestSegmentFirehoseFactory.java`
#### Snippet
```java

  @Override
  public FiniteFirehoseFactory<InputRowParser, List<WindowedSegmentId>> withSplit(InputSplit<List<WindowedSegmentId>> split)
  {
    return new IngestSegmentFirehoseFactory(
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java

  @Override
  public int getExpectedWorkerCapacity(final Collection<ImmutableWorkerInfo> workers)
  {
    int size = workers.size();
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
  }

  private int getCurrValidWorkers(Collection<ImmutableWorkerInfo> workers)
  {
    final Predicate<ImmutableWorkerInfo> isValidWorker = ProvisioningUtil.createValidWorkerPredicate(config);
```

### BoundedWildcard
Can generalize to `? extends WorkerBehaviorConfig`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
  @Nullable
  public static DefaultWorkerBehaviorConfig getDefaultWorkerBehaviorConfig(
      Supplier<WorkerBehaviorConfig> workerConfigRef,
      SimpleWorkerProvisioningConfig config,
      String action,
```

### BoundedWildcard
Can generalize to `? extends Task`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
        final WorkerTaskRunnerConfig workerTaskRunnerConfig,
        final DefaultWorkerBehaviorConfig workerConfig,
        final Collection<Task> pendingTasks,
        final Collection<ImmutableWorkerInfo> workers
    )
```

### BoundedWildcard
Can generalize to `? extends Worker`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
    }

    private Collection<String> getWorkerNodeIDs(Collection<Worker> workers, DefaultWorkerBehaviorConfig workerConfig)
    {
      List<String> ips = new ArrayList<>(workers.size());
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
  private static ImmutableMap<String, ImmutableWorkerInfo> getNonAffinityWorkers(
      final AffinityConfig affinityConfig,
      final Map<String, ImmutableWorkerInfo> workerMap
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
  private static Map<String, ImmutableWorkerInfo> getRunnableWorkers(
      final Task task,
      final Map<String, ImmutableWorkerInfo> allWorkers,
      final WorkerTaskRunnerConfig workerTaskRunnerConfig
  )
```

### BoundedWildcard
Can generalize to `? super ImmutableMap`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
      final WorkerTaskRunnerConfig workerTaskRunnerConfig,
      @Nullable final AffinityConfig affinityConfig,
      final Function<ImmutableMap<String, ImmutableWorkerInfo>, ImmutableWorkerInfo> workerSelector
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
      final WorkerTaskRunnerConfig workerTaskRunnerConfig,
      @Nullable final AffinityConfig affinityConfig,
      final Function<ImmutableMap<String, ImmutableWorkerInfo>, ImmutableWorkerInfo> workerSelector
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
  private static ImmutableMap<String, ImmutableWorkerInfo> getCategoryWorkers(
      final String category,
      final Map<String, ImmutableWorkerInfo> workerMap
  )
  {
```

### BoundedWildcard
Can generalize to `? super ImmutableMap`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
      final WorkerTaskRunnerConfig workerTaskRunnerConfig,
      @Nullable final WorkerCategorySpec workerCategorySpec,
      final Function<ImmutableMap<String, ImmutableWorkerInfo>, ImmutableWorkerInfo> workerSelector
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ImmutableWorkerInfo`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/setup/WorkerSelectUtils.java`
#### Snippet
```java
      final WorkerTaskRunnerConfig workerTaskRunnerConfig,
      @Nullable final WorkerCategorySpec workerCategorySpec,
      final Function<ImmutableMap<String, ImmutableWorkerInfo>, ImmutableWorkerInfo> workerSelector
  )
  {
```

### BoundedWildcard
Can generalize to `? super ServiceNotAvailableException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
     * Error mapping for {@link ServiceNotAvailableException}, which occurs when a task is not available.
     */
    public SeekableStreamRequestBuilder<IntermediateType, FinalType, T> onNotAvailable(final Function<ServiceNotAvailableException, Either<Throwable, T>> fn)
    {
      return onException(e -> {
```

### BoundedWildcard
Can generalize to `? extends Either`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
     * Error mapping for {@link ServiceNotAvailableException}, which occurs when a task is not available.
     */
    public SeekableStreamRequestBuilder<IntermediateType, FinalType, T> onNotAvailable(final Function<ServiceNotAvailableException, Either<Throwable, T>> fn)
    {
      return onException(e -> {
```

### BoundedWildcard
Can generalize to `? super HttpResponseException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
     * Error mapping for {@link HttpResponseException}, which occurs when a task returns a non-2xx HTTP code.
     */
    public SeekableStreamRequestBuilder<IntermediateType, FinalType, T> onHttpError(final Function<HttpResponseException, Either<Throwable, T>> fn)
    {
      return onException(e -> {
```

### BoundedWildcard
Can generalize to `? extends Either`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
     * Error mapping for {@link HttpResponseException}, which occurs when a task returns a non-2xx HTTP code.
     */
    public SeekableStreamRequestBuilder<IntermediateType, FinalType, T> onHttpError(final Function<HttpResponseException, Either<Throwable, T>> fn)
    {
      return onException(e -> {
```

### BoundedWildcard
Can generalize to `? super ServiceClosedException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
     * Error mapping for {@link ServiceClosedException}, which occurs when a task is not running.
     */
    public SeekableStreamRequestBuilder<IntermediateType, FinalType, T> onClosed(final Function<ServiceClosedException, Either<Throwable, T>> fn)
    {
      return onException(e -> {
```

### BoundedWildcard
Can generalize to `? extends Either`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
     * Error mapping for {@link ServiceClosedException}, which occurs when a task is not running.
     */
    public SeekableStreamRequestBuilder<IntermediateType, FinalType, T> onClosed(final Function<ServiceClosedException, Either<Throwable, T>> fn)
    {
      return onException(e -> {
```

### BoundedWildcard
Can generalize to `? extends LoggingEmitterConfig`
in `integration-tests/src/main/java/org/apache/druid/testing/guice/DruidTestModule.java`
#### Snippet
```java
  @Provides
  @ManageLifecycle
  public ServiceEmitter getServiceEmitter(Supplier<LoggingEmitterConfig> config, ObjectMapper jsonMapper)
  {
    return new ServiceEmitter("", "", new LoggingEmitter(config.get(), jsonMapper));
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/DelimitedEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event)
  {
    //noinspection ConstantConditions
```

### BoundedWildcard
Can generalize to `? extends PartitionIdType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java

  void updateAssignments(
      Map<PartitionIdType, SequenceOffsetType> currOffsets,
      BiFunction<SequenceOffsetType, SequenceOffsetType, Boolean> moreToReadFn
  )
```

### BoundedWildcard
Can generalize to `? extends SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java

  void updateAssignments(
      Map<PartitionIdType, SequenceOffsetType> currOffsets,
      BiFunction<SequenceOffsetType, SequenceOffsetType, Boolean> moreToReadFn
  )
```

### BoundedWildcard
Can generalize to `? super SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java
  void updateAssignments(
      Map<PartitionIdType, SequenceOffsetType> currOffsets,
      BiFunction<SequenceOffsetType, SequenceOffsetType, Boolean> moreToReadFn
  )
  {
```

### BoundedWildcard
Can generalize to `? super SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java
  void updateAssignments(
      Map<PartitionIdType, SequenceOffsetType> currOffsets,
      BiFunction<SequenceOffsetType, SequenceOffsetType, Boolean> moreToReadFn
  )
  {
```

### BoundedWildcard
Can generalize to `? extends SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java
  boolean canHandle(
      SeekableStreamIndexTaskRunner<PartitionIdType, SequenceOffsetType, ?> runner,
      OrderedPartitionableRecord<PartitionIdType, SequenceOffsetType, ?> record
  )
  {
```

### BoundedWildcard
Can generalize to `? extends PartitionIdType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java
  }

  void setEndOffsets(Map<PartitionIdType, SequenceOffsetType> newEndOffsets)
  {
    lock.lock();
```

### BoundedWildcard
Can generalize to `? extends SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SequenceMetadata.java`
#### Snippet
```java
  }

  void setEndOffsets(Map<PartitionIdType, SequenceOffsetType> newEndOffsets)
  {
    lock.lock();
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ProtobufEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event)
  {
    DynamicMessage.Builder builder = SCHEMA.newMessageBuilder("Wikipedia");
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/CsvEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event) throws IOException
  {
    //noinspection ConstantConditions
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/JsonEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event) throws JsonProcessingException
  {
    Map<String, Object> map = Maps.newHashMapWithExpectedSize(event.size());
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/AvroEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event) throws IOException
  {
    final WikipediaRecord record = new WikipediaRecord(SCHEMA);
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/AvroSchemaRegistryEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event) throws IOException
  {
    final WikipediaRecord record = new WikipediaRecord(fromRegistry);
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ProtobufSchemaRegistryEventSerializer.java`
#### Snippet
```java

  @Override
  public byte[] serialize(List<Pair<String, Object>> event)
  {
    DynamicMessage.Builder builder = SCHEMA.newMessageBuilder("Wikipedia");
```

### BoundedWildcard
Can generalize to `? super String`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/AbstractTestQueryHelper.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public int countRows(String dataSource, Interval interval, Function<String, AggregatorFactory> countAggregator)
  {
    TimeseriesQuery query = Druids.newTimeseriesQueryBuilder()
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/AbstractTestQueryHelper.java`
#### Snippet
```java

  @SuppressWarnings("unchecked")
  public int countRows(String dataSource, Interval interval, Function<String, AggregatorFactory> countAggregator)
  {
    TimeseriesQuery query = Druids.newTimeseriesQueryBuilder()
```

### BoundedWildcard
Can generalize to `? extends QueryResultType`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/AbstractTestQueryHelper.java`
#### Snippet
```java
  }

  private void testQueries(String url, List<QueryResultType> queries) throws Exception
  {
    LOG.info("Running queries, url [%s]", url);
```

### BoundedWildcard
Can generalize to `? extends NamedKey`
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/RedisClusterCache.java`
#### Snippet
```java
   */
  @Override
  protected Pair<Integer, Map<NamedKey, byte[]>> mgetFromRedis(Iterable<NamedKey> keys)
  {
    int inputKeyCount = 0;
```

### BoundedWildcard
Can generalize to `? extends NamedKey`
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/RedisStandaloneCache.java`
#### Snippet
```java

  @Override
  protected Pair<Integer, Map<NamedKey, byte[]>> mgetFromRedis(Iterable<NamedKey> keys)
  {
    List<NamedKey> namedKeys = Lists.newArrayList(keys);
```

### BoundedWildcard
Can generalize to `? extends MomentSketchWrapper`
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchMergeAggregator.java`
#### Snippet
```java

  public MomentSketchMergeAggregator(
      ColumnValueSelector<MomentSketchWrapper> selector,
      final int k,
      final boolean compress
```

### BoundedWildcard
Can generalize to `? extends MomentSketchWrapper`
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchMergeBufferAggregator.java`
#### Snippet
```java

  public MomentSketchMergeBufferAggregator(
      ColumnValueSelector<MomentSketchWrapper> selector,
      int size,
      boolean compress
```

### BoundedWildcard
Can generalize to `? super Long`
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampBufferAggregator.java`
#### Snippet
```java
      BaseObjectColumnValueSelector selector,
      TimestampSpec timestampSpec,
      Comparator<Long> comparator,
      Long initValue)
  {
```

### BoundedWildcard
Can generalize to `? super Long`
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregator.java`
#### Snippet
```java
      BaseObjectColumnValueSelector selector,
      TimestampSpec timestampSpec,
      Comparator<Long> comparator,
      Long initValue
  )
```

### BoundedWildcard
Can generalize to `? super Long`
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregator.java`
#### Snippet
```java
  static final Comparator COMPARATOR = Comparator.comparingLong(n -> ((Number) n).longValue());

  static Object combineValues(Comparator<Long> comparator, Object lhs, Object rhs)
  {
    if (comparator.compare(((Number) lhs).longValue(), ((Number) rhs).longValue()) > 0) {
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/sql/TDigestGenerateSketchSqlAggregator.java`
#### Snippet
```java
      final AggregateCall aggregateCall,
      final Project project,
      final List<Aggregation> existingAggregations,
      final boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? extends Aggregation`
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/sql/TDigestSketchQuantileSqlAggregator.java`
#### Snippet
```java
      final AggregateCall aggregateCall,
      final Project project,
      final List<Aggregation> existingAggregations,
      final boolean finalizeAggregations
  )
```

### BoundedWildcard
Can generalize to `? super String`
in `extensions-contrib/statsd-emitter/src/main/java/org/apache/druid/emitter/statsd/DimensionConverter.java`
#### Snippet
```java
      String metric,
      Map<String, Object> userDims,
      ImmutableMap.Builder<String, String> builder
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `extensions-contrib/statsd-emitter/src/main/java/org/apache/druid/emitter/statsd/DimensionConverter.java`
#### Snippet
```java
      String metric,
      Map<String, Object> userDims,
      ImmutableMap.Builder<String, String> builder
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `extensions-contrib/virtual-columns/src/main/java/org/apache/druid/segment/StringTypeMapVirtualColumnDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(Predicate<String> predicate)
  {
    return new ValueMatcher()
```

### BoundedWildcard
Can generalize to `? extends Emitter`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
  public GraphiteEmitter(
      GraphiteEmitterConfig graphiteEmitterConfig,
      List<Emitter> alertEmitters,
      List<Emitter> requestLogEmitters
  )
```

### BoundedWildcard
Can generalize to `? extends Emitter`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
      GraphiteEmitterConfig graphiteEmitterConfig,
      List<Emitter> alertEmitters,
      List<Emitter> requestLogEmitters
  )
  {
```

### BoundedWildcard
Can generalize to `? extends ServiceMetricEvent`
in `extensions-contrib/influxdb-emitter/src/main/java/org/apache/druid/emitter/influxdb/InfluxdbEmitter.java`
#### Snippet
```java
  }

  public void transformAndSendToInfluxdb(LinkedBlockingQueue<ServiceMetricEvent> eventsQueue)
  {
    StringBuilder payload = new StringBuilder();
```

### BoundedWildcard
Can generalize to `? super String`
in `extensions-contrib/dropwizard-emitter/src/main/java/org/apache/druid/emitter/dropwizard/DropwizardConverter.java`
#### Snippet
```java
      String metric,
      Map<String, Object> userDims,
      Map<String, String> filteredDimensions
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `extensions-contrib/dropwizard-emitter/src/main/java/org/apache/druid/emitter/dropwizard/DropwizardConverter.java`
#### Snippet
```java
      String metric,
      Map<String, Object> userDims,
      Map<String, String> filteredDimensions
  )
  {
```

### BoundedWildcard
Can generalize to `? super String`
in `extensions-contrib/influx-extensions/src/main/java/org/apache/druid/data/input/influx/InfluxParser.java`
#### Snippet
```java
  }

  private void parseTimestamp(String timestamp, Map<String, Object> dest)
  {
    // Influx timestamps come in nanoseconds; treat anything less than 1 ms as 0
```

### BoundedWildcard
Can generalize to `? super T`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/AveragerFactoryWrapper.java`
#### Snippet
```java
   * @param prefix
   */
  public AveragerFactoryWrapper(AveragerFactory<T, R> af, String prefix)
  {
    this.af = af;
```

### BoundedWildcard
Can generalize to `? extends QuerySegmentWalker`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQueryToolChest.java`
#### Snippet
```java
   */
  @Inject
  public MovingAverageQueryToolChest(@Named("movingAverage") Provider<QuerySegmentWalker> walkerProvider,
                                     @Named("movingAverage") RequestLogger requestLogger)
  {
```

### BoundedWildcard
Can generalize to `? extends Emitter`
in `extensions-contrib/dropwizard-emitter/src/main/java/org/apache/druid/emitter/dropwizard/DropwizardEmitter.java`
#### Snippet
```java
      DropwizardEmitterConfig config,
      ObjectMapper mapper,
      List<Emitter> alertEmitters
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageHelper.java`
#### Snippet
```java
   */

  public static Map<String, Object> getDimKeyFromRow(Collection<DimensionSpec> dimensions, Row row)
  {

```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/BaseAverager.java`
#### Snippet
```java
  @SuppressWarnings("unchecked")
  @Override
  public void addElement(Map<String, Object> e, Map<String, AggregatorFactory> a)
  {
    Object metric = e.get(fieldName);
```

### BoundedWildcard
Can generalize to `? extends OSS`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentKiller.java`
#### Snippet
```java
  @Inject
  public OssDataSegmentKiller(
      Supplier<OSS> clientSupplier,
      OssStorageConfig segmentPusherConfig,
      OssInputDataConfig inputDataConfig
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/data/input/aliyun/OssInputSource.java`
#### Snippet
```java

  @Override
  public SplittableInputSource<List<CloudObjectLocation>> withSplit(InputSplit<List<CloudObjectLocation>> split)
  {
    return new OssInputSource(
```

### BoundedWildcard
Can generalize to `? extends OSS`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentMover.java`
#### Snippet
```java
  @Inject
  public OssDataSegmentMover(
      Supplier<OSS> client,
      OssStorageConfig config
  )
```

### BoundedWildcard
Can generalize to `? super OSSObjectSummary`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssUtils.java`
#### Snippet
```java
      String bucket,
      String prefix,
      Predicate<OSSObjectSummary> filter
  )
      throws Exception
```

### BoundedWildcard
Can generalize to `? extends CloudFilesBlob`
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/firehose/cloudfiles/StaticCloudFilesFirehoseFactory.java`
#### Snippet
```java

  @Override
  public FiniteFirehoseFactory<StringInputRowParser, CloudFilesBlob> withSplit(InputSplit<CloudFilesBlob> split)
  {
    return new StaticCloudFilesFirehoseFactory(
```

### BoundedWildcard
Can generalize to `? super Integer`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimal.java`
#### Snippet
```java
   * @return -1, 0, or 1 as the value of this {@code BigDecimal} is negative, zero, or positive.
   */
  protected static <S> int signumInternal(int size, S rhs, ToIntBiFunction<S, Integer> valFunc)
  {
    if (valFunc.applyAsInt(rhs, size - 1) < 0) {
```

### BoundedWildcard
Can generalize to `? super R`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimal.java`
#### Snippet
```java
      int llen,
      R lhs,
      ToIntBiFunction<R, Integer> lhsGet,
      ObjBiIntConsumer<R> lhsSet,
      int rlen,
```

### BoundedWildcard
Can generalize to `? super Integer`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimal.java`
#### Snippet
```java
      int llen,
      R lhs,
      ToIntBiFunction<R, Integer> lhsGet,
      ObjBiIntConsumer<R> lhsSet,
      int rlen,
```

### BoundedWildcard
Can generalize to `? super R`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimal.java`
#### Snippet
```java
      R lhs,
      ToIntBiFunction<R, Integer> lhsGet,
      ObjBiIntConsumer<R> lhsSet,
      int rlen,
      S rhs,
```

### BoundedWildcard
Can generalize to `? extends AveragerFactory`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
        Sequence<RowBucket> rows,
        List<DimensionSpec> dims,
        List<AveragerFactory<?, ?>> averagerFactories,
        Map<String, Object> emptyEvents,
        Map<String, AggregatorFactory> aggMap
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
  // These fake rows will be used by computeMovingAverage() in skip=true mode.
  // See emptyEventsCopy in internalNext() and computeMovingAverage() documentation.
  private Map<String, Object> generateEmptyEventsFromAggregators(Map<String, AggregatorFactory> aggMap,
                                                                 Map<String, PostAggregator> postAggMap)
  {
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
  // See emptyEventsCopy in internalNext() and computeMovingAverage() documentation.
  private Map<String, Object> generateEmptyEventsFromAggregators(Map<String, AggregatorFactory> aggMap,
                                                                 Map<String, PostAggregator> postAggMap)
  {
    Map<String, Object> emptyEvents = new LinkedHashMap<>();
```

### BoundedWildcard
Can generalize to `? extends Emitter`
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitter.java`
#### Snippet
```java
  public AmbariMetricsEmitter(
      AmbariMetricsEmitterConfig config,
      List<Emitter> emitterList
  )
  {
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/MaterializedViewUtils.java`
#### Snippet
```java
  }

  private static Set<String> extractFieldsFromAggregations(List<AggregatorFactory> aggs) 
  {
    Set<String> ret = new HashSet<>();
```

### BoundedWildcard
Can generalize to `? extends MetadataStorageTablesConfig`
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
  public DerivativeDataSourceManager(
      MaterializedViewConfig config,
      Supplier<MetadataStorageTablesConfig> dbTables,
      ObjectMapper objectMapper,
      SQLMetadataConnector connector
```

### BoundedWildcard
Can generalize to `? extends Pair`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java

  private Pair<Map<Interval, String>, Map<Interval, List<DataSegment>>> getMaxCreateDateAndBaseSegments(
      Collection<Pair<DataSegment, String>> snapshot
  )
  {
```

### BoundedWildcard
Can generalize to `? extends List`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
  private void submitTasks(
      SortedMap<Interval, String> sortedToBuildVersion,
      Map<Interval, List<DataSegment>> baseSegments
  )
  {
```

### BoundedWildcard
Can generalize to `? extends DataSegment`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java

  private Pair<Map<Interval, String>, Map<Interval, List<DataSegment>>> getVersionAndBaseSegments(
      Collection<DataSegment> snapshot
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Job`
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/DruidKubernetesPeonClient.java`
#### Snippet
```java

  @VisibleForTesting
  List<Job> getJobsToCleanup(List<Job> candidates, long howFarBack, TimeUnit timeUnit)
  {
    List<Job> toDelete = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends DimensionSpec`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQuery.java`
#### Snippet
```java

  private static void verifyOutputNames(
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggregators,
      List<PostAggregator> postAggregators
```

### BoundedWildcard
Can generalize to `? extends AggregatorFactory`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQuery.java`
#### Snippet
```java
  private static void verifyOutputNames(
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggregators,
      List<PostAggregator> postAggregators
  )
```

### BoundedWildcard
Can generalize to `? extends PostAggregator`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQuery.java`
#### Snippet
```java
      List<DimensionSpec> dimensions,
      List<AggregatorFactory> aggregators,
      List<PostAggregator> postAggregators
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Row`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQuery.java`
#### Snippet
```java
  }

  public Sequence<Row> applyLimit(Sequence<Row> results)
  {
    return limitFn.apply(results.map(row -> ResultRow.fromLegacyRow(row, groupByQueryForLimitSpec)))
```

### BoundedWildcard
Can generalize to `? extends SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private OrderedSequenceNumber<SequenceOffsetType> getOffsetFromStorageForPartition(
      PartitionIdType partition,
      final Map<PartitionIdType, SequenceOffsetType> metadataOffsets
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Task`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
   */
  @VisibleForTesting
  public boolean isTaskCurrent(int taskGroupId, String taskId, Map<String, Task> activeTaskMap)
  {
    final Task genericTask;
```

### BoundedWildcard
Can generalize to `? extends PartitionIdType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  @VisibleForTesting
  public void setPartitionIdsForTests(
      List<PartitionIdType> partitionIdsForTests
  )
  {
```

### BoundedWildcard
Can generalize to `? extends PartitionIdType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  }

  private void killTaskGroupForPartitions(Set<PartitionIdType> partitions, String reasonFormat, Object... args)
  {
    for (PartitionIdType partition : partitions) {
```

### BoundedWildcard
Can generalize to `? extends TaskGroup`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  }

  private void verifyAndMergeCheckpoints(final Collection<TaskGroup> taskGroupsToVerify)
  {
    final List<ListenableFuture<Object>> futures = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends PartitionIdType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      int groupId,
      String taskId,
      Map<PartitionIdType, SequenceOffsetType> startingPartitions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      int groupId,
      String taskId,
      Map<PartitionIdType, SequenceOffsetType> startingPartitions
  )
  {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private void validatePartitionGroupReassignments(
      Set<PartitionIdType> activePartitionsIdsFromSupplier,
      Map<Integer, Set<PartitionIdType>> newPartitionGroups
  )
  {
```

### BoundedWildcard
Can generalize to `? super Pod`
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/KubernetesTaskRunner.java`
#### Snippet
```java
      TaskConfig taskConfig,
      StartupLoggingConfig startupLoggingConfig,
      TaskAdapter<Pod, Job> adapter,
      KubernetesTaskRunnerConfig k8sConfig,
      TaskQueueConfig taskQueueConfig,
```

### BoundedWildcard
Can generalize to `? extends Job`
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/KubernetesTaskRunner.java`
#### Snippet
```java
      TaskConfig taskConfig,
      StartupLoggingConfig startupLoggingConfig,
      TaskAdapter<Pod, Job> adapter,
      KubernetesTaskRunnerConfig k8sConfig,
      TaskQueueConfig taskQueueConfig,
```

### BoundedWildcard
Can generalize to `? extends Committer`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java


  private void maybePersistAndPublishSequences(Supplier<Committer> committerSupplier)
      throws InterruptedException
  {
```

### BoundedWildcard
Can generalize to `? super SequenceOffsetType`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java

  private void seekToStartingSequence(
      RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier,
      Set<StreamPartition<PartitionIdType>> partitions
  ) throws InterruptedException
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
  private void seekToStartingSequence(
      RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier,
      Set<StreamPartition<PartitionIdType>> partitions
  ) throws InterruptedException
  {
```

### BoundedWildcard
Can generalize to `? extends StreamPartition`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java

  protected void sendResetRequestAndWait(
      Map<StreamPartition<PartitionIdType>, SequenceOffsetType> outOfRangePartitions,
      TaskToolbox taskToolbox
  ) throws IOException
```

## RuleId[ruleID=MissortedModifiers]
### MissortedModifiers
Missorted modifiers `final @NativeQuery`
in `sql/src/main/java/org/apache/druid/sql/http/SqlResource.java`
#### Snippet
```java
      final ObjectMapper jsonMapper,
      final AuthorizerMapper authorizerMapper,
      final @NativeQuery SqlStatementFactory sqlStatementFactory,
      final SqlLifecycleManager sqlLifecycleManager,
      final ServerConfig serverConfig,
```

### MissortedModifiers
Missorted modifiers `final @NativeQuery`
in `sql/src/main/java/org/apache/druid/sql/avatica/DruidMeta.java`
#### Snippet
```java
  @Inject
  public DruidMeta(
      final @NativeQuery SqlStatementFactory sqlStatementFactory,
      final AvaticaServerConfig config,
      final ErrorHandler errorHandler,
```

### MissortedModifiers
Missorted modifiers `final @Coordinator`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/MetadataSegmentView.java`
#### Snippet
```java
  @Inject
  public MetadataSegmentView(
      final @Coordinator DruidLeaderClient druidLeaderClient,
      final ObjectMapper jsonMapper,
      final BrokerSegmentWatcherConfig segmentWatcherConfig,
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/CalcitePlanner.java`
#### Snippet
```java

  /** Holds the trait definitions to be registered with planner. May be null. */
  private @Nullable final List<RelTraitDef> traitDefs;

  private final SqlParser.Config parserConfig;
```

### MissortedModifiers
Missorted modifiers `final @Coordinator`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
      final FilteredServerInventoryView serverInventoryView,
      final AuthorizerMapper authorizerMapper,
      final @Coordinator DruidLeaderClient coordinatorDruidLeaderClient,
      final @IndexingService DruidLeaderClient overlordDruidLeaderClient,
      final DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
```

### MissortedModifiers
Missorted modifiers `final @IndexingService`
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SystemSchema.java`
#### Snippet
```java
      final AuthorizerMapper authorizerMapper,
      final @Coordinator DruidLeaderClient coordinatorDruidLeaderClient,
      final @IndexingService DruidLeaderClient overlordDruidLeaderClient,
      final DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
      final ObjectMapper jsonMapper
```

### MissortedModifiers
Missorted modifiers `final @Json`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerFactory.java`
#### Snippet
```java
      final PlannerConfig plannerConfig,
      final AuthorizerMapper authorizerMapper,
      final @Json ObjectMapper jsonMapper,
      final @DruidSchemaName String druidSchemaName,
      final CalciteRulesManager calciteRuleManager,
```

### MissortedModifiers
Missorted modifiers `final @DruidSchemaName`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerFactory.java`
#### Snippet
```java
      final AuthorizerMapper authorizerMapper,
      final @Json ObjectMapper jsonMapper,
      final @DruidSchemaName String druidSchemaName,
      final CalciteRulesManager calciteRuleManager,
      final JoinableFactoryWrapper joinableFactoryWrapper
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `core/src/main/java/org/apache/druid/indexer/TaskStatus.java`
#### Snippet
```java
  private final TaskState status;
  private final long duration;
  private final @Nullable String errorMsg;
  private final TaskLocation location;

```

### MissortedModifiers
Missorted modifiers `private static @Nullable`
in `core/src/main/java/org/apache/druid/indexer/TaskStatus.java`
#### Snippet
```java
   * The full error message will be available via a TaskReport.
   */
  private static @Nullable String truncateErrorMsg(@Nullable String errorMsg)
  {
    if (errorMsg != null && errorMsg.length() > MAX_ERROR_MSG_LENGTH) {
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `core/src/main/java/org/apache/druid/timeline/partition/HashBasedNumberedShardSpec.java`
#### Snippet
```java

  @JsonProperty
  public @Nullable HashPartitionFunction getPartitionFunction()
  {
    return partitionFunction;
```

### MissortedModifiers
Missorted modifiers `final @Json`
in `server/src/main/java/org/apache/druid/query/lookup/LookupListeningResource.java`
#### Snippet
```java
  @Inject
  public LookupListeningResource(
      final @Json ObjectMapper jsonMapper,
      final @Smile ObjectMapper smileMapper,
      final LookupReferencesManager manager
```

### MissortedModifiers
Missorted modifiers `final @Smile`
in `server/src/main/java/org/apache/druid/query/lookup/LookupListeningResource.java`
#### Snippet
```java
  public LookupListeningResource(
      final @Json ObjectMapper jsonMapper,
      final @Smile ObjectMapper smileMapper,
      final LookupReferencesManager manager
  )
```

### MissortedModifiers
Missorted modifiers `final @Smile`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
      final QueryToolChestWarehouse warehouse,
      final QueryWatcher queryWatcher,
      final @Smile ObjectMapper smileMapper,
      final @EscalatedClient HttpClient httpClient,
      final FilteredServerInventoryView baseView,
```

### MissortedModifiers
Missorted modifiers `final @EscalatedClient`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
      final QueryWatcher queryWatcher,
      final @Smile ObjectMapper smileMapper,
      final @EscalatedClient HttpClient httpClient,
      final FilteredServerInventoryView baseView,
      final TierSelectorStrategy tierSelectorStrategy,
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `server/src/main/java/org/apache/druid/client/DruidDataSource.java`
#### Snippet
```java
   * DruidDataSource.
   */
  public @Nullable DataSegment removeSegment(SegmentId segmentId)
  {
    return idToSegmentMap.remove(segmentId);
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `server/src/main/java/org/apache/druid/server/http/MetadataResource.java`
#### Snippet
```java
  public Response getAllUsedSegments(
      @Context final HttpServletRequest req,
      @QueryParam("datasources") final @Nullable Set<String> dataSources,
      @QueryParam("includeOvershadowedStatus") final @Nullable String includeOvershadowedStatus
  )
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `server/src/main/java/org/apache/druid/server/http/MetadataResource.java`
#### Snippet
```java
      @Context final HttpServletRequest req,
      @QueryParam("datasources") final @Nullable Set<String> dataSources,
      @QueryParam("includeOvershadowedStatus") final @Nullable String includeOvershadowedStatus
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @PathParam("id")`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  @Produces({MediaType.APPLICATION_JSON, SmileMediaTypes.APPLICATION_JACKSON_SMILE})
  public Response serviceAnnouncementDELETE(
      final @PathParam("id") String id
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Json`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java

  public ListenerResource(
      final @Json ObjectMapper jsonMapper,
      final @Smile ObjectMapper smileMapper,
      final ListenerHandler handler
```

### MissortedModifiers
Missorted modifiers `final @Smile`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  public ListenerResource(
      final @Json ObjectMapper jsonMapper,
      final @Smile ObjectMapper smileMapper,
      final ListenerHandler handler
  )
```

### MissortedModifiers
Missorted modifiers `final @Context`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  public Response serviceAnnouncementPOSTAll(
      final InputStream inputStream,
      final @Context HttpServletRequest req // used only to get request content-type
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @PathParam("id")`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  @Produces({MediaType.APPLICATION_JSON, SmileMediaTypes.APPLICATION_JACKSON_SMILE})
  public Response serviceAnnouncementGET(
      final @PathParam("id") String id
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Context`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  public Response serviceAnnouncementHandleUpdates(
      final InputStream inputStream,
      final @Context HttpServletRequest req // used only to get request content-type
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @PathParam("id")`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
  @Produces({MediaType.APPLICATION_JSON, SmileMediaTypes.APPLICATION_JACKSON_SMILE})
  public Response serviceAnnouncementPOST(
      final @PathParam("id") String id,
      final InputStream inputStream,
      final @Context HttpServletRequest req // used only to get request content-type
```

### MissortedModifiers
Missorted modifiers `final @Context`
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerResource.java`
#### Snippet
```java
      final @PathParam("id") String id,
      final InputStream inputStream,
      final @Context HttpServletRequest req // used only to get request content-type
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Smile`
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
  public LookupCoordinatorResource(
      final LookupCoordinatorManager lookupCoordinatorManager,
      final @Smile ObjectMapper smileMapper,
      final @Json ObjectMapper jsonMapper
  )
```

### MissortedModifiers
Missorted modifiers `final @Json`
in `server/src/main/java/org/apache/druid/server/http/LookupCoordinatorResource.java`
#### Snippet
```java
      final LookupCoordinatorManager lookupCoordinatorManager,
      final @Smile ObjectMapper smileMapper,
      final @Json ObjectMapper jsonMapper
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @EscalatedGlobal`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
  @Inject
  public LookupCoordinatorManager(
      final @EscalatedGlobal HttpClient httpClient,
      final DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
      final @Smile ObjectMapper smileMapper,
```

### MissortedModifiers
Missorted modifiers `final @Smile`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
      final @EscalatedGlobal HttpClient httpClient,
      final DruidNodeDiscoveryProvider druidNodeDiscoveryProvider,
      final @Smile ObjectMapper smileMapper,
      final JacksonConfigManager configManager,
      final LookupCoordinatorManagerConfig lookupCoordinatorManagerConfig
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
  public static class Builder
  {
    private @Nullable Long startTimeNanos;
    private DruidCluster druidCluster;
    private MetadataRuleManager databaseRuleManager;
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
    private SegmentReplicantLookup segmentReplicantLookup;
    private @Nullable TreeSet<DataSegment> usedSegments;
    private @Nullable DataSourcesSnapshot dataSourcesSnapshot;
    private final Map<String, LoadQueuePeon> loadManagementPeons;
    private ReplicationThrottler replicationManager;
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
    private final Map<String, LoadQueuePeon> loadManagementPeons;
    private ReplicationThrottler replicationManager;
    private @Nullable RoundRobinServerSelector roundRobinServerSelector;
    private ServiceEmitter emitter;
    private CoordinatorDynamicConfig coordinatorDynamicConfig;
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
  private final BalancerStrategy balancerStrategy;
  private final Set<String> broadcastDatasources;
  private final @Nullable RoundRobinServerSelector roundRobinServerSelector;

  private DruidCoordinatorRuntimeParams(
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
  private final MetadataRuleManager databaseRuleManager;
  private final SegmentReplicantLookup segmentReplicantLookup;
  private final @Nullable TreeSet<DataSegment> usedSegments;
  private final @Nullable DataSourcesSnapshot dataSourcesSnapshot;
  private final Map<String, LoadQueuePeon> loadManagementPeons;
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
    private MetadataRuleManager databaseRuleManager;
    private SegmentReplicantLookup segmentReplicantLookup;
    private @Nullable TreeSet<DataSegment> usedSegments;
    private @Nullable DataSourcesSnapshot dataSourcesSnapshot;
    private final Map<String, LoadQueuePeon> loadManagementPeons;
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinatorRuntimeParams.java`
#### Snippet
```java
  private final SegmentReplicantLookup segmentReplicantLookup;
  private final @Nullable TreeSet<DataSegment> usedSegments;
  private final @Nullable DataSourcesSnapshot dataSourcesSnapshot;
  private final Map<String, LoadQueuePeon> loadManagementPeons;
  private final ReplicationThrottler replicationManager;
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `server/src/main/java/org/apache/druid/segment/loading/LocalFileTimestampVersionFinder.java`
#### Snippet
```java
   */
  @Override
  public URI getLatestVersion(URI uri, final @Nullable Pattern pattern)
  {
    final File file = new File(uri);
```

### MissortedModifiers
Missorted modifiers `private volatile @Nullable`
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
  private final ExecutorService pathChildrenCacheExecutor;

  private volatile @Nullable PathChildrenCache childrenCache;

  public CuratorInventoryManager(
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `server/src/main/java/org/apache/druid/segment/indexing/RealtimeTuningConfig.java`
#### Snippet
```java

  // Might make sense for this to be a builder
  public static RealtimeTuningConfig makeDefaultTuningConfig(final @Nullable File basePersistDirectory)
  {
    return new RealtimeTuningConfig(
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
     */
    @GuardedBy("this")
    private @Nullable Thread delayedCloseExecutor;

    /**
```

### MissortedModifiers
Missorted modifiers `synchronized @Nullable`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

    @VisibleForTesting
    synchronized @Nullable Thread getDelayedCloseExecutor()
    {
      return delayedCloseExecutor;
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataConnector.java`
#### Snippet
```java
  }

  public @Nullable byte[] lookupWithHandle(
      final Handle handle,
      final String tableName,
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataConnector.java`
#### Snippet
```java

  @Override
  public @Nullable byte[] lookup(
      final String tableName,
      final String keyColumn,
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java

  @GuardedBy("startStopPollLock")
  private @Nullable ScheduledExecutorService exec = null;

  @Inject
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
  /** Used to cancel periodic poll task in {@link #stopPollingDatabasePeriodically}. */
  @GuardedBy("startStopPollLock")
  private @Nullable Future<?> periodicPollTaskFuture = null;

  /** The number of times {@link #startPollingDatabasePeriodically} was called. */
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java

  @Override
  public @Nullable ImmutableDruidDataSource getImmutableDataSourceWithUsedSegments(String dataSourceName)
  {
    return getSnapshotOfDataSourcesWithAllUsedSegments().getDataSource(dataSourceName);
```

### MissortedModifiers
Missorted modifiers `private volatile @Nullable`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
   * #useLatestIfWithinDelayOrPerformNewDatabasePoll()}.
   */
  private volatile @Nullable DatabasePoll latestDatabasePoll = null;

  /** Used to cancel periodic poll task in {@link #stopPollingDatabasePeriodically}. */
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/topn/TopNMapFn.java`
#### Snippet
```java
  @SuppressWarnings("unchecked")
  @Nullable
  public Result<TopNResultValue> apply(final Cursor cursor, final @Nullable TopNQueryMetrics queryMetrics)
  {
    final ColumnSelectorPlus<TopNColumnAggregatesProcessor<?>> selectorPlus =
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryEngine.java`
#### Snippet
```java
      final TopNQuery query,
      final StorageAdapter adapter,
      final @Nullable TopNQueryMetrics queryMetrics
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryEngine.java`
#### Snippet
```java
      final TopNQuery query,
      final StorageAdapter adapter,
      final @Nullable TopNQueryMetrics queryMetrics
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Json`
in `processing/src/main/java/org/apache/druid/query/lookup/LookupSnapshotTaker.java`
#### Snippet
```java

  public LookupSnapshotTaker(
      final @Json ObjectMapper jsonMapper,
      String persistDirectory
  )
```

### MissortedModifiers
Missorted modifiers `final @Global`
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryEngine.java`
#### Snippet
```java
  @Inject
  public TimeseriesQueryEngine(
      final @Global NonBlockingPool<ByteBuffer> bufferPool
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final QuerySegmentSpec querySegmentSpec,
      final VirtualColumns virtualColumns,
      final @Nullable DimFilter dimFilter,
      final Granularity granularity,
      final @Nullable List<DimensionSpec> dimensions,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final @Nullable DimFilter dimFilter,
      final Granularity granularity,
      final @Nullable List<DimensionSpec> dimensions,
      final @Nullable List<AggregatorFactory> aggregatorSpecs,
      final @Nullable List<PostAggregator> postAggregatorSpecs,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final Granularity granularity,
      final @Nullable List<DimensionSpec> dimensions,
      final @Nullable List<AggregatorFactory> aggregatorSpecs,
      final @Nullable List<PostAggregator> postAggregatorSpecs,
      final @Nullable HavingSpec havingSpec,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final @Nullable List<DimensionSpec> dimensions,
      final @Nullable List<AggregatorFactory> aggregatorSpecs,
      final @Nullable List<PostAggregator> postAggregatorSpecs,
      final @Nullable HavingSpec havingSpec,
      final @Nullable LimitSpec limitSpec,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final @Nullable List<AggregatorFactory> aggregatorSpecs,
      final @Nullable List<PostAggregator> postAggregatorSpecs,
      final @Nullable HavingSpec havingSpec,
      final @Nullable LimitSpec limitSpec,
      final @Nullable List<List<String>> subtotalsSpec,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final @Nullable List<PostAggregator> postAggregatorSpecs,
      final @Nullable HavingSpec havingSpec,
      final @Nullable LimitSpec limitSpec,
      final @Nullable List<List<String>> subtotalsSpec,
      final @Nullable Function<Sequence<ResultRow>, Sequence<ResultRow>> postProcessingFn,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final @Nullable HavingSpec havingSpec,
      final @Nullable LimitSpec limitSpec,
      final @Nullable List<List<String>> subtotalsSpec,
      final @Nullable Function<Sequence<ResultRow>, Sequence<ResultRow>> postProcessingFn,
      final Map<String, Object> context
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      final @Nullable LimitSpec limitSpec,
      final @Nullable List<List<String>> subtotalsSpec,
      final @Nullable Function<Sequence<ResultRow>, Sequence<ResultRow>> postProcessingFn,
      final Map<String, Object> context
  )
```

### MissortedModifiers
Missorted modifiers `private @Nullable`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
   * Read dataSource metadata as bytes, from a specific handle. Returns null if there is no metadata.
   */
  private @Nullable byte[] retrieveDataSourceMetadataWithHandleAsBytes(
      final Handle handle,
      final String dataSource
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
   */
  @Override
  public @Nullable DataSourceMetadata retrieveDataSourceMetadata(final String dataSource)
  {
    final byte[] bytes = connector.lookup(
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java`
#### Snippet
```java
      final Interval interval,
      final String sequenceName,
      final @Nullable String previousSegmentId,
      final Pair<String, String>... queryVars
  ) throws IOException
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/BaseSingleValueDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(final @Nullable String value)
  {
    return new ValueMatcher()
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/SingleScanTimeDimensionSelector.java`
#### Snippet
```java

  @Override
  public ValueMatcher makeValueMatcher(final @Nullable String value)
  {
    return new ValueMatcher()
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/RowBasedColumnSelectorFactory.java`
#### Snippet
```java

        @Override
        public ValueMatcher makeValueMatcher(final @Nullable String value)
        {
          return new ValueMatcher()
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/DimensionSelectorUtils.java`
#### Snippet
```java
  private static ValueMatcher makeNonDictionaryEncodedValueMatcherGeneric(
      final DimensionSelector selector,
      final @Nullable String value
  )
  {
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/join/JoinableFactoryWrapper.java`
#### Snippet
```java
  private static class JoinClauseToFilterConversion
  {
    private final @Nullable Filter convertedFilter;
    private final boolean joinClauseFullyConverted;

```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnSupplier.java`
#### Snippet
```java
  private final GenericIndexed<ByteBuffer> dictionaryUtf8;
  private final @Nullable Supplier<ColumnarInts> singleValuedColumn;
  private final @Nullable Supplier<ColumnarMultiInts> multiValuedColumn;
  private final int lookupCacheSize;

```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnSupplier.java`
#### Snippet
```java
  private final GenericIndexed<String> dictionary;
  private final GenericIndexed<ByteBuffer> dictionaryUtf8;
  private final @Nullable Supplier<ColumnarInts> singleValuedColumn;
  private final @Nullable Supplier<ColumnarMultiInts> multiValuedColumn;
  private final int lookupCacheSize;
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/serde/StringFrontCodedDictionaryEncodedColumnSupplier.java`
#### Snippet
```java
{
  private final Supplier<FrontCodedIndexed> utf8Dictionary;
  private final @Nullable Supplier<ColumnarInts> singleValuedColumn;
  private final @Nullable Supplier<ColumnarMultiInts> multiValuedColumn;

```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/serde/StringFrontCodedDictionaryEncodedColumnSupplier.java`
#### Snippet
```java
  private final Supplier<FrontCodedIndexed> utf8Dictionary;
  private final @Nullable Supplier<ColumnarInts> singleValuedColumn;
  private final @Nullable Supplier<ColumnarMultiInts> multiValuedColumn;

  public StringFrontCodedDictionaryEncodedColumnSupplier(
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java

        @Override
        public ValueMatcher makeValueMatcher(final @Nullable String value)
        {
          if (extractionFn == null) {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
  private File makeIndexFiles(
      final List<IndexableAdapter> adapters,
      final @Nullable AggregatorFactory[] metricAggs,
      final File outDir,
      final ProgressIndicator progress,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      final boolean fillRowNumConversions,
      final IndexSpec indexSpec,
      final @Nullable SegmentWriteOutMediumFactory segmentWriteOutMediumFactory
  ) throws IOException
  {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java

        @Override
        public ValueMatcher makeValueMatcher(final @Nullable String value)
        {
          if (extractionFn == null) {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java

      @Override
      public ValueMatcher makeValueMatcher(final @Nullable String value)
      {
        if (extractionFn == null) {
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("preserveExistingMetrics") @Nullable`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
    @JsonCreator
    public Spec(
        final @JsonProperty("preserveExistingMetrics") @Nullable Boolean preserveExistingMetrics
    )
    {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/HdfsFileTimestampVersionFinder.java`
#### Snippet
```java
   */
  @Override
  public URI getLatestVersion(final URI uri, final @Nullable Pattern pattern)
  {
    final Path path = new Path(uri);
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/storage/CatalogStorage.java`
#### Snippet
```java

  @Override
  public @Nullable ResolvedTable resolveTable(TableId id)
  {
    TableMetadata table = table(id);
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/storage/CatalogStorage.java`
#### Snippet
```java

  @Override
  public @Nullable TableMetadata table(TableId id)
  {
    try {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TimestampVersionedDataFinder.java`
#### Snippet
```java
   */
  @Override
  public URI getLatestVersion(final URI uri, final @Nullable Pattern pattern)
  {
    try {
```

### MissortedModifiers
Missorted modifiers `final @MSQ`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/SqlTaskResource.java`
#### Snippet
```java
  @Inject
  public SqlTaskResource(
      final @MSQ SqlStatementFactory sqlStatementFactory,
      final ServerConfig serverConfig,
      final AuthorizerMapper authorizerMapper,
```

### MissortedModifiers
Missorted modifiers `final @MultiStageQuery`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/DurableStorageCleaner.java`
#### Snippet
```java
  public DurableStorageCleaner(
      final DurableStorageCleanerConfig config,
      final @MultiStageQuery StorageConnector storageConnector,
      @JacksonInject final Provider<TaskMaster> taskMasterProvider
  )
```

### MissortedModifiers
Missorted modifiers `final @JacksonInject @Json`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
    @JsonCreator
    public ObjectMapperFlatDataParser(
        final @JacksonInject @Json ObjectMapper jsonMapper
    )
    {
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("inputSpec")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopIOConfig.java`
#### Snippet
```java
  @JsonCreator
  public HadoopIOConfig(
      final @JsonProperty("inputSpec") Map<String, Object> pathSpec,
      final @JsonProperty("metadataUpdateSpec") @Nullable MetadataStorageUpdaterJobSpec metadataUpdateSpec,
      final @JsonProperty("segmentOutputPath") @Nullable String segmentOutputPath
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("metadataUpdateSpec") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopIOConfig.java`
#### Snippet
```java
  public HadoopIOConfig(
      final @JsonProperty("inputSpec") Map<String, Object> pathSpec,
      final @JsonProperty("metadataUpdateSpec") @Nullable MetadataStorageUpdaterJobSpec metadataUpdateSpec,
      final @JsonProperty("segmentOutputPath") @Nullable String segmentOutputPath
  )
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("segmentOutputPath") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopIOConfig.java`
#### Snippet
```java
      final @JsonProperty("inputSpec") Map<String, Object> pathSpec,
      final @JsonProperty("metadataUpdateSpec") @Nullable MetadataStorageUpdaterJobSpec metadataUpdateSpec,
      final @JsonProperty("segmentOutputPath") @Nullable String segmentOutputPath
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("spec")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java
  @JsonCreator
  public HadoopDruidIndexerConfig(
      final @JsonProperty("spec") HadoopIngestionSpec spec
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("workingPath") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
  @JsonCreator
  public HadoopTuningConfig(
      final @JsonProperty("workingPath") @Nullable String workingPath,
      final @JsonProperty("version") @Nullable String version,
      final @JsonProperty("partitionsSpec") @Nullable DimensionBasedPartitionsSpec partitionsSpec,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("version") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
  public HadoopTuningConfig(
      final @JsonProperty("workingPath") @Nullable String workingPath,
      final @JsonProperty("version") @Nullable String version,
      final @JsonProperty("partitionsSpec") @Nullable DimensionBasedPartitionsSpec partitionsSpec,
      final @JsonProperty("shardSpecs") @Nullable Map<Long, List<HadoopyShardSpec>> shardSpecs,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("partitionsSpec") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("workingPath") @Nullable String workingPath,
      final @JsonProperty("version") @Nullable String version,
      final @JsonProperty("partitionsSpec") @Nullable DimensionBasedPartitionsSpec partitionsSpec,
      final @JsonProperty("shardSpecs") @Nullable Map<Long, List<HadoopyShardSpec>> shardSpecs,
      final @JsonProperty("indexSpec") @Nullable IndexSpec indexSpec,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("shardSpecs") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("version") @Nullable String version,
      final @JsonProperty("partitionsSpec") @Nullable DimensionBasedPartitionsSpec partitionsSpec,
      final @JsonProperty("shardSpecs") @Nullable Map<Long, List<HadoopyShardSpec>> shardSpecs,
      final @JsonProperty("indexSpec") @Nullable IndexSpec indexSpec,
      final @JsonProperty("indexSpecForIntermediatePersists") @Nullable IndexSpec indexSpecForIntermediatePersists,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("indexSpec") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("partitionsSpec") @Nullable DimensionBasedPartitionsSpec partitionsSpec,
      final @JsonProperty("shardSpecs") @Nullable Map<Long, List<HadoopyShardSpec>> shardSpecs,
      final @JsonProperty("indexSpec") @Nullable IndexSpec indexSpec,
      final @JsonProperty("indexSpecForIntermediatePersists") @Nullable IndexSpec indexSpecForIntermediatePersists,
      final @JsonProperty("appendableIndexSpec") @Nullable AppendableIndexSpec appendableIndexSpec,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("indexSpecForIntermediatePersists") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("shardSpecs") @Nullable Map<Long, List<HadoopyShardSpec>> shardSpecs,
      final @JsonProperty("indexSpec") @Nullable IndexSpec indexSpec,
      final @JsonProperty("indexSpecForIntermediatePersists") @Nullable IndexSpec indexSpecForIntermediatePersists,
      final @JsonProperty("appendableIndexSpec") @Nullable AppendableIndexSpec appendableIndexSpec,
      final @JsonProperty("maxRowsInMemory") @Nullable Integer maxRowsInMemory,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("appendableIndexSpec") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("indexSpec") @Nullable IndexSpec indexSpec,
      final @JsonProperty("indexSpecForIntermediatePersists") @Nullable IndexSpec indexSpecForIntermediatePersists,
      final @JsonProperty("appendableIndexSpec") @Nullable AppendableIndexSpec appendableIndexSpec,
      final @JsonProperty("maxRowsInMemory") @Nullable Integer maxRowsInMemory,
      final @JsonProperty("maxBytesInMemory") @Nullable Long maxBytesInMemory,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("maxRowsInMemory") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("indexSpecForIntermediatePersists") @Nullable IndexSpec indexSpecForIntermediatePersists,
      final @JsonProperty("appendableIndexSpec") @Nullable AppendableIndexSpec appendableIndexSpec,
      final @JsonProperty("maxRowsInMemory") @Nullable Integer maxRowsInMemory,
      final @JsonProperty("maxBytesInMemory") @Nullable Long maxBytesInMemory,
      final @JsonProperty("leaveIntermediate") boolean leaveIntermediate,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("maxBytesInMemory") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("appendableIndexSpec") @Nullable AppendableIndexSpec appendableIndexSpec,
      final @JsonProperty("maxRowsInMemory") @Nullable Integer maxRowsInMemory,
      final @JsonProperty("maxBytesInMemory") @Nullable Long maxBytesInMemory,
      final @JsonProperty("leaveIntermediate") boolean leaveIntermediate,
      final @JsonProperty("cleanupOnFailure") @Nullable Boolean cleanupOnFailure,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("leaveIntermediate")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("maxRowsInMemory") @Nullable Integer maxRowsInMemory,
      final @JsonProperty("maxBytesInMemory") @Nullable Long maxBytesInMemory,
      final @JsonProperty("leaveIntermediate") boolean leaveIntermediate,
      final @JsonProperty("cleanupOnFailure") @Nullable Boolean cleanupOnFailure,
      final @JsonProperty("overwriteFiles") boolean overwriteFiles,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("cleanupOnFailure") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("maxBytesInMemory") @Nullable Long maxBytesInMemory,
      final @JsonProperty("leaveIntermediate") boolean leaveIntermediate,
      final @JsonProperty("cleanupOnFailure") @Nullable Boolean cleanupOnFailure,
      final @JsonProperty("overwriteFiles") boolean overwriteFiles,
      final @Deprecated @JsonProperty("ignoreInvalidRows") @Nullable Boolean ignoreInvalidRows,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("overwriteFiles")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("leaveIntermediate") boolean leaveIntermediate,
      final @JsonProperty("cleanupOnFailure") @Nullable Boolean cleanupOnFailure,
      final @JsonProperty("overwriteFiles") boolean overwriteFiles,
      final @Deprecated @JsonProperty("ignoreInvalidRows") @Nullable Boolean ignoreInvalidRows,
      final @JsonProperty("jobProperties") @Nullable Map<String, String> jobProperties,
```

### MissortedModifiers
Missorted modifiers `final @Deprecated @JsonProperty("ignoreInvalidRows") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("cleanupOnFailure") @Nullable Boolean cleanupOnFailure,
      final @JsonProperty("overwriteFiles") boolean overwriteFiles,
      final @Deprecated @JsonProperty("ignoreInvalidRows") @Nullable Boolean ignoreInvalidRows,
      final @JsonProperty("jobProperties") @Nullable Map<String, String> jobProperties,
      final @JsonProperty("combineText") boolean combineText,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("jobProperties") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("overwriteFiles") boolean overwriteFiles,
      final @Deprecated @JsonProperty("ignoreInvalidRows") @Nullable Boolean ignoreInvalidRows,
      final @JsonProperty("jobProperties") @Nullable Map<String, String> jobProperties,
      final @JsonProperty("combineText") boolean combineText,
      final @JsonProperty("useCombiner") @Nullable Boolean useCombiner,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("combineText")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @Deprecated @JsonProperty("ignoreInvalidRows") @Nullable Boolean ignoreInvalidRows,
      final @JsonProperty("jobProperties") @Nullable Map<String, String> jobProperties,
      final @JsonProperty("combineText") boolean combineText,
      final @JsonProperty("useCombiner") @Nullable Boolean useCombiner,
      // See https://github.com/apache/druid/pull/1922
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("useCombiner") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("jobProperties") @Nullable Map<String, String> jobProperties,
      final @JsonProperty("combineText") boolean combineText,
      final @JsonProperty("useCombiner") @Nullable Boolean useCombiner,
      // See https://github.com/apache/druid/pull/1922
      final @JsonProperty("rowFlushBoundary") @Nullable Integer maxRowsInMemoryCOMPAT,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("rowFlushBoundary") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("useCombiner") @Nullable Boolean useCombiner,
      // See https://github.com/apache/druid/pull/1922
      final @JsonProperty("rowFlushBoundary") @Nullable Integer maxRowsInMemoryCOMPAT,
      final @JsonProperty("numBackgroundPersistThreads") @Nullable Integer numBackgroundPersistThreads,
      final @JsonProperty("forceExtendableShardSpecs") boolean forceExtendableShardSpecs,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("numBackgroundPersistThreads") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      // See https://github.com/apache/druid/pull/1922
      final @JsonProperty("rowFlushBoundary") @Nullable Integer maxRowsInMemoryCOMPAT,
      final @JsonProperty("numBackgroundPersistThreads") @Nullable Integer numBackgroundPersistThreads,
      final @JsonProperty("forceExtendableShardSpecs") boolean forceExtendableShardSpecs,
      final @JsonProperty("useExplicitVersion") boolean useExplicitVersion,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("forceExtendableShardSpecs")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("rowFlushBoundary") @Nullable Integer maxRowsInMemoryCOMPAT,
      final @JsonProperty("numBackgroundPersistThreads") @Nullable Integer numBackgroundPersistThreads,
      final @JsonProperty("forceExtendableShardSpecs") boolean forceExtendableShardSpecs,
      final @JsonProperty("useExplicitVersion") boolean useExplicitVersion,
      final @JsonProperty("allowedHadoopPrefix") @Nullable List<String> allowedHadoopPrefix,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("useExplicitVersion")`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("numBackgroundPersistThreads") @Nullable Integer numBackgroundPersistThreads,
      final @JsonProperty("forceExtendableShardSpecs") boolean forceExtendableShardSpecs,
      final @JsonProperty("useExplicitVersion") boolean useExplicitVersion,
      final @JsonProperty("allowedHadoopPrefix") @Nullable List<String> allowedHadoopPrefix,
      final @JsonProperty("logParseExceptions") @Nullable Boolean logParseExceptions,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("allowedHadoopPrefix") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("forceExtendableShardSpecs") boolean forceExtendableShardSpecs,
      final @JsonProperty("useExplicitVersion") boolean useExplicitVersion,
      final @JsonProperty("allowedHadoopPrefix") @Nullable List<String> allowedHadoopPrefix,
      final @JsonProperty("logParseExceptions") @Nullable Boolean logParseExceptions,
      final @JsonProperty("maxParseExceptions") @Nullable Integer maxParseExceptions,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("logParseExceptions") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("useExplicitVersion") boolean useExplicitVersion,
      final @JsonProperty("allowedHadoopPrefix") @Nullable List<String> allowedHadoopPrefix,
      final @JsonProperty("logParseExceptions") @Nullable Boolean logParseExceptions,
      final @JsonProperty("maxParseExceptions") @Nullable Integer maxParseExceptions,
      final @JsonProperty("useYarnRMJobStatusFallback") @Nullable Boolean useYarnRMJobStatusFallback,
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("maxParseExceptions") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("allowedHadoopPrefix") @Nullable List<String> allowedHadoopPrefix,
      final @JsonProperty("logParseExceptions") @Nullable Boolean logParseExceptions,
      final @JsonProperty("maxParseExceptions") @Nullable Integer maxParseExceptions,
      final @JsonProperty("useYarnRMJobStatusFallback") @Nullable Boolean useYarnRMJobStatusFallback,
      final @JsonProperty("awaitSegmentAvailabilityTimeoutMillis") @Nullable Long awaitSegmentAvailabilityTimeoutMillis
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("useYarnRMJobStatusFallback") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("logParseExceptions") @Nullable Boolean logParseExceptions,
      final @JsonProperty("maxParseExceptions") @Nullable Integer maxParseExceptions,
      final @JsonProperty("useYarnRMJobStatusFallback") @Nullable Boolean useYarnRMJobStatusFallback,
      final @JsonProperty("awaitSegmentAvailabilityTimeoutMillis") @Nullable Long awaitSegmentAvailabilityTimeoutMillis
  )
```

### MissortedModifiers
Missorted modifiers `final @JsonProperty("awaitSegmentAvailabilityTimeoutMillis") @Nullable`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopTuningConfig.java`
#### Snippet
```java
      final @JsonProperty("maxParseExceptions") @Nullable Integer maxParseExceptions,
      final @JsonProperty("useYarnRMJobStatusFallback") @Nullable Boolean useYarnRMJobStatusFallback,
      final @JsonProperty("awaitSegmentAvailabilityTimeoutMillis") @Nullable Long awaitSegmentAvailabilityTimeoutMillis
  )
  {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/SegmentAllocators.java`
#### Snippet
```java
      final String baseSequenceName,
      final GranularitySpec granularitySpec,
      final @Nullable SupervisorTaskAccess supervisorTaskAccess,
      final CompletePartitionAnalysis partitionAnalysis
  ) throws IOException
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/SegmentAllocators.java`
#### Snippet
```java
      final TaskToolbox toolbox,
      final String sequenceName,
      final @Nullable SupervisorTaskAccess supervisorTaskAccess,
      final DataSchema dataSchema,
      final TaskLockHelper taskLockHelper,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/SegmentAllocators.java`
#### Snippet
```java
      final AbstractTask.IngestionMode ingestionMode,
      final PartitionsSpec partitionsSpec,
      final @Nullable Boolean useLineageBasedSegmentAllocation
  ) throws IOException
  {
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/OverlordCoordinatingSegmentAllocator.java`
#### Snippet
```java
      final TaskToolbox toolbox,
      final String taskId,
      final @Nullable SupervisorTaskAccess supervisorTaskAccess,
      final DataSchema dataSchema,
      final TaskLockHelper taskLockHelper,
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTimestampVersionedDataFinder.java`
#### Snippet
```java
   */
  @Override
  public URI getLatestVersion(final URI uri, final @Nullable Pattern pattern)
  {
    try {
```

## RuleId[ruleID=AnonymousHasLambdaAlternative]
### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftDeserialization.java`
#### Snippet
```java
  };

  public static final ThreadLocal<TSerializer> SERIALIZER_SIMPLE_JSON = new ThreadLocal<TSerializer>()
  {
    @Override
    protected TSerializer initialValue()
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftDeserialization.java`
#### Snippet
```java


  private static final ThreadLocal<TDeserializer> DESERIALIZER_COMPACT = new ThreadLocal<TDeserializer>()
  {
    @Override
    protected TDeserializer initialValue()
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftDeserialization.java`
#### Snippet
```java
  };

  private static final ThreadLocal<TDeserializer> DESERIALIZER_JSON = new ThreadLocal<TDeserializer>()
  {
    @Override
    protected TDeserializer initialValue()
```

### AnonymousHasLambdaAlternative
Anonymous new ThreadLocal() can be replaced with ThreadLocal.withInitial()
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftDeserialization.java`
#### Snippet
```java
  };

  private static final ThreadLocal<TDeserializer> DESERIALIZER_BINARY = new ThreadLocal<TDeserializer>()
  {
    @Override
    protected TDeserializer initialValue()
```

## RuleId[ruleID=FunctionalExpressionCanBeFolded]
### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `core/src/main/java/org/apache/druid/segment/column/NullableTypeStrategy.java`
#### Snippet
```java
  {
    this.delegate = delegate;
    this.delegateComparator = Comparator.nullsFirst(delegate::compare);
  }

```

### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessors.java`
#### Snippet
```java

    for (WritableFrameChannel channel : Lists.reverse(writableFrameChannels)) {
      closer.register(channel::close);
    }

```

### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessors.java`
#### Snippet
```java

    for (ReadableFrameChannel channel : Lists.reverse(readableFrameChannels)) {
      closer.register(channel::close);
    }

```

### FunctionalExpressionCanBeFolded
Method reference can be replaced with qualifier
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
      for (final ReadableFrameChannel inputChannel : inputChannels) {
        CloseableUtils.closeAndSuppressExceptions(
            inputChannel::close,
            e -> log.warn(e, "Could not close input channel")
        );
```

### FunctionalExpressionCanBeFolded
Lambda can be replaced with call qualifier
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryQueryToolChest.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) -> {
      return runner.run(queryPlus, responseContext);
    };
  }
```

### FunctionalExpressionCanBeFolded
Lambda can be replaced with call qualifier
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
    return new SearchThresholdAdjustingQueryRunner(
        (queryPlus, responseContext) -> {
          return runner.run(queryPlus, responseContext);
        },
        config
```

### FunctionalExpressionCanBeFolded
Lambda can be replaced with call qualifier
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryQueryToolChest.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) -> {
      return runner.run(queryPlus, responseContext);
    };
  }
```

## RuleId[ruleID=RedundantStreamOptionalCall]
### RedundantStreamOptionalCall
Redundant 'sequential()' call: the stream was created via 'stream()', so it's already sequential
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
  )
  {
    return segments.stream().sequential().flatMap(
        (final WindowedDataSegment segment) -> {
          FileInputFormat.setInputPaths(
```

## RuleId[ruleID=DefaultAnnotationParam]
### DefaultAnnotationParam
Redundant default parameter value assignment
in `server/src/main/java/org/apache/druid/client/DruidServerConfig.java`
#### Snippet
```java
{
  @JsonProperty
  @HumanReadableBytesRange(min = 0)
  private HumanReadableBytes maxSize = HumanReadableBytes.ZERO;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
  @JsonCreator
  public UriExtractionNamespace(
      @JsonProperty(value = "uri", required = false)
          URI uri,
      @JsonProperty(value = "uriPrefix", required = false)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
      @JsonProperty(value = "uri", required = false)
          URI uri,
      @JsonProperty(value = "uriPrefix", required = false)
          URI uriPrefix,
      @JsonProperty(value = "fileRegex", required = false)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
      @JsonProperty(value = "uriPrefix", required = false)
          URI uriPrefix,
      @JsonProperty(value = "fileRegex", required = false)
          String fileRegex,
      @JsonProperty(value = "namespaceParseSpec", required = true)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
      @JsonProperty(value = "namespaceParseSpec", required = true)
          FlatDataParser namespaceParseSpec,
      @Min(0) @JsonProperty(value = "pollPeriod", required = false) @Nullable
          Period pollPeriod,
      @Deprecated
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/namespace/UriExtractionNamespace.java`
#### Snippet
```java
          Period pollPeriod,
      @Deprecated
      @JsonProperty(value = "versionRegex", required = false)
          String versionRegex,
      @JsonProperty(value = "maxHeapPercentage") @Nullable
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalAggregatorFactoryBase.java`
#### Snippet
```java
      @JsonProperty("name") String name,
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing,
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalAggregatorFactoryBase.java`
#### Snippet
```java
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing,
      byte cacheTypeId
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalAggregatorFactoryBase.java`
#### Snippet
```java
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing,
      byte cacheTypeId
  )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty("name") String name,
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMaxAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty("name") String name,
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
  )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMaxAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
  )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
  )
  {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMaxAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
  )
  {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMinAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty("name") String name,
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMinAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty("fieldName") String fieldName,
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
  )
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMinAggregatorFactory.java`
#### Snippet
```java
      @JsonProperty(value = "size", required = false) Integer size,
      @JsonProperty(value = "scale", required = false) Integer scale,
      @JsonProperty(value = "strictNumberParsing", required = false) Boolean strictNumberParsing
  )
  {
```

## RuleId[ruleID=ThrowFromFinallyBlock]
### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java
        catch (Exception e) {
          log.makeAlert(e, "Failed to finish realtime task").emit();
          throw e;
        }
        finally {
```

## RuleId[ruleID=IfStatementWithIdenticalBranches]
### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogCollector.java`
#### Snippet
```java
      otherBuffer.position(other.getPayloadBytePosition());

      if (isSparse(otherBuffer)) {
        while (otherBuffer.hasRemaining()) {
          final int payloadStartPosition = otherBuffer.getShort() - other.getNumHeaderBytes();
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `core/src/main/java/org/apache/druid/java/util/common/UnsafeUtils.java`
#### Snippet
```java
    }

    if (theUnsafe != null) {
      UNSAFE = theUnsafe;
      UNSAFE_CLASS = unsafeClass;
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `core/src/main/java/org/apache/druid/java/util/common/granularity/PeriodGranularity.java`
#### Snippet
```java
    final int millis = period.getMillis();
    if (millis > 0) {
      if (millis > 1) {
        long ms = chronology.millis().getDifferenceAsLong(t, origin);
        ms -= ms % millis;
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferHashTable.java`
#### Snippet
```java
    final int newTableStart;

    if (((long) maxBuckets * 3 * bucketSizeWithHash) > (long) tableArenaSize - tableStart) {
      // Not enough space to grow upwards, start back from zero
      newTableStart = 0;
```

### IfStatementWithIdenticalBranches
Common part can be extracted removing branch
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiInts.java`
#### Snippet
```java
    int endOffset;

    if (index == 0) {
      endOffset = myBuffer.getInt();
    } else {
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
  private void literalAndZeroFillResetZeroSequence(int offset, int word)
  {
    if (ConciseSetUtils.isSequenceWithNoBits(word)) {
      literalAndZeroFillLen = 0;
      literalAndZeroFillCurrent = 0;
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
          // start comparing from the end, that is at blocks with no
          // (un)set bits
          if (isZeroSequence(thisWord)) {
            if (isOneSequence(otherWord)) {
              // zeros < ones
```

### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    // else array position 0
    while (j != leftBinCount || k != rightBinCount) {
      if (j != leftBinCount && (k == rightBinCount || leftPositions[j] < rightPositions[k])) {
        mergedPositions[pos] = leftPositions[j];
        mergedBins[pos] = leftBins[j];
```

## RuleId[ruleID=UnnecessarySuperQualifier]
### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `server/src/main/java/org/apache/druid/server/security/ForbiddenException.java`
#### Snippet
```java
  public String getErrorMessage()
  {
    return super.getMessage();
  }

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `processing/src/main/java/org/apache/druid/segment/data/CachingIndexed.java`
#### Snippet
```java
    public V getValue(Object key)
    {
      final Pair<Integer, V> sizeValuePair = super.get(key);
      return sizeValuePair == null ? null : sizeValuePair.rhs;
    }
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `processing/src/main/java/org/apache/druid/segment/data/CachingIndexed.java`
#### Snippet
```java
      final int totalSize = size + 48; // add approximate object overhead
      numBytes += totalSize;
      super.put(key, new Pair<>(totalSize, value));
    }

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public Object getObject()
        {
          return super.lookupName(getRowValue());
        }

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          if (extractionFn == null) {
            final int valueId = super.lookupId(value);
            if (valueId >= 0) {
              return new ValueMatcher()
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `processing/src/main/java/org/apache/druid/collections/spatial/ImmutablePoint.java`
#### Snippet
```java
  public float[] getCoords()
  {
    return super.getMinCoordinates();
  }

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheHandler.java`
#### Snippet
```java
    cacheManager.disposeCache(this);
    // Log statement after disposeCache(), because logging may fail (e.g. in shutdown hooks)
    log.debug("Closed %s", super.toString());
  }
}
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheHandler.java`
#### Snippet
```java
  CacheHandler(NamespaceExtractionCacheManager cacheManager, Map<String, String> cache, Object id)
  {
    log.debug("Creating %s", super.toString());
    this.cacheManager = cacheManager;
    this.cache = cache;
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaIndexTask.java`
#### Snippet
```java
    try {
      Thread.currentThread().setContextClassLoader(getClass().getClassLoader());
      KafkaIndexTaskIOConfig kafkaIndexTaskIOConfig = (KafkaIndexTaskIOConfig) super.ioConfig;
      final Map<String, Object> props = new HashMap<>(kafkaIndexTaskIOConfig.getConsumerProperties());

```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisIndexTaskTuningConfig.java`
#### Snippet
```java

    Preconditions.checkArgument(
        !(super.isResetOffsetAutomatically() && super.isSkipSequenceNumberAvailabilityCheck()),
        "resetOffsetAutomatically cannot be used if skipSequenceNumberAvailabilityCheck=true"
    );
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisIndexTaskTuningConfig.java`
#### Snippet
```java

    Preconditions.checkArgument(
        !(super.isResetOffsetAutomatically() && super.isSkipSequenceNumberAvailabilityCheck()),
        "resetOffsetAutomatically cannot be used if skipSequenceNumberAvailabilityCheck=true"
    );
```

### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/PartialDimensionDistributionParallelIndexTaskRunner.java`
#### Snippet
```java

    // Merge distributions only from succeeded sub-tasks
    final Set<String> succeededTaskIds = super.getReports().keySet();
    final Map<Interval, PartitionBoundaries> intervalToPartitions = new HashMap<>();
    intervalToTaskIds.forEach(
```

## RuleId[ruleID=SimplifyOptionalCallChains]
### SimplifyOptionalCallChains
Optional chain can be simplified
in `server/src/main/java/org/apache/druid/client/cache/CaffeineCache.java`
#### Snippet
```java
        .policy().eviction()
        .map(eviction -> eviction.isWeighted() ? eviction.weightedSize() : OptionalLong.empty())
        .orElse(OptionalLong.empty()).orElse(-1);
    return new org.apache.druid.client.cache.CacheStats(
        stats.hitCount(),
```

## RuleId[ruleID=SlowListContainsAll]
### SlowListContainsAll
Call to 'list.containsAll(collection)' may have poor performance
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final Object[] array1 = lhsExpr.asArray();
      final Object[] array2 = rhsExpr.asArray();
      return ExprEval.ofLongBoolean(Arrays.asList(array1).containsAll(Arrays.asList(array2)));
    }
  }
```

### SlowListContainsAll
Call to 'list.containsAll(collection)' may have poor performance
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/SpecificSegmentsSpec.java`
#### Snippet
```java
      return this.segments.equals(thoseSegments);
    } else {
      return thoseSegments.containsAll(segments);
    }
  }
```

## RuleId[ruleID=InfiniteLoopStatement]
### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitter.java`
#### Snippet
```java
    ObjectContainer<String> objectToSend;
    try {
      while (true) {
        objectToSend = recordQueue.take();
        producer.send(new ProducerRecord<>(topic, objectToSend.getData()), callback);
```

## RuleId[ruleID=CodeBlock2Expr]
### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `core/src/main/java/org/apache/druid/java/util/common/parsers/ObjectFlatteners.java`
#### Snippet
```java
                           .map(
                               field -> {
                                 return new Entry<String, Object>()
                                 {
                                   @Override
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `core/src/main/java/org/apache/druid/java/util/metrics/ParametrizedUriEmitterMonitor.java`
#### Snippet
```java
  {
    parametrizedUriEmitter.forEachEmitter(
        (uri, emitter) -> {
          monitors.computeIfAbsent(
              uri,
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/client/DataSourcesSnapshot.java`
#### Snippet
```java
  {
    Map<String, DruidDataSource> dataSources = new HashMap<>();
    segments.forEach(segment -> {
      dataSources
          .computeIfAbsent(segment.getDataSource(), dsName -> new DruidDataSource(dsName, dataSourceProperties))
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/client/cache/BackgroundCachePopulator.java`
#### Snippet
```java
    return Sequences.withEffect(
        wrappedSequence,
        () -> {
          Futures.addCallback(
              Futures.allAsList(cacheFutures),
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/ClientInfoResource.java`
#### Snippet
```java
  {
    Function<String, Iterable<ResourceAction>> raGenerator = datasourceName -> {
      return Collections.singletonList(AuthorizationUtils.DATASOURCE_READ_RA_GENERATOR.apply(datasourceName));
    };

```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    Map<String, LookupExtractorFactoryMapContainer> convertedTierLookups = new HashMap<>();
    oldTierLookups.forEach(
        (lookup, lookupExtractorFactory) -> {
          convertedTierLookups.put(lookup, new LookupExtractorFactoryMapContainer(null, lookupExtractorFactory));
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachTieredStat(
        statName,
        (final String tier, final long count) -> {
          emitTieredStat(emitter, metricName, tier, count);
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDutyStat(
        statName,
        (final String duty, final long count) -> {
          emitDutyStat(emitter, metricName, duty, count);
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachTieredStat(
        "normalizedInitialCostTimesOneThousand",
        (final String tier, final long count) -> {
          emitTieredStat(emitter, "segment/cost/normalized", tier, count / 1000d);
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachTieredStat(
        "movedCount",
        (final String tier, final long count) -> {
          log.info("[%s] : Moved %,d segment(s)", tier, count);
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachTieredStat(
        "unmovedCount",
        (final String tier, final long count) -> {
          log.info("[%s] : Let alone %,d segment(s)", tier, count);
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_SIZE_OF_SEGMENTS_AWAITING,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_COUNT_OF_SEGMENTS_AWAITING,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_INTERVAL_OF_SEGMENTS_AWAITING,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_SIZE_OF_SEGMENTS_SKIPPED,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_COUNT_OF_SEGMENTS_SKIPPED,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_INTERVAL_OF_SEGMENTS_SKIPPED,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_SIZE_OF_SEGMENTS_COMPACTED,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_COUNT_OF_SEGMENTS_COMPACTED,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/EmitClusterStatsAndMetrics.java`
#### Snippet
```java
    stats.forEachDataSourceStat(
        CompactSegments.TOTAL_INTERVAL_OF_SEGMENTS_COMPACTED,
        (final String dataSource, final long count) -> {
          emitter.emit(
              new ServiceMetricEvent.Builder()
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java
  {
    final CoordinatorStats stats = new CoordinatorStats();
    params.getDruidCluster().getHistoricals().forEach((String tier, NavigableSet<ServerHolder> servers) -> {
      balanceTier(params, tier, servers, stats);
    });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryQueryToolChest.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) -> {
      return runner.run(queryPlus, responseContext);
    };
  }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/filter/ExpressionDimFilter.java`
#### Snippet
```java
    this.parsed = Parser.lazyParse(expression, macroTable);
    this.cacheKey = Suppliers.memoize(() -> {
      return new CacheKeyBuilder(DimFilterUtils.EXPRESSION_CACHE_ID)
          .appendCacheable(parsed.get())
          .build();
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
                  resultIter,
                  isResultLevelCache,
                  (aggName, aggPos, aggValueObject) -> {
                    vals.put(aggName, aggValueObject);
                  }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
    return new SearchThresholdAdjustingQueryRunner(
        (queryPlus, responseContext) -> {
          return runner.run(queryPlus, responseContext);
        },
        config
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
                results,
                isResultLevelCache,
                (aggName, aggPosition, aggValueObject) -> {
                  resultRow.set(aggregatorStart + aggPosition, aggValueObject);
                }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryQueryToolChest.java`
#### Snippet
```java
                resultIter,
                isResultLevelCache,
                (aggName, aggPosition, aggValueObject) -> {
                  retVal.put(aggName, aggValueObject);
                }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryQueryToolChest.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) -> {
      return runner.run(queryPlus, responseContext);
    };
  }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ExpressionPostAggregator.java`
#### Snippet
```java
    this.dependentFields = dependentFields;
    this.cacheKey = Suppliers.memoize(() -> {
      return new CacheKeyBuilder(PostAggregatorIds.EXPRESSION)
          .appendCacheable(parsed.get())
          .appendString(ordering)
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/segment/join/MapJoinableFactory.java`
#### Snippet
```java
  {
    this.joinableFactories = HashMultimap.create();
    factories.forEach(joinableFactory -> {
      joinableFactories.put(factoryToDataSource.get(joinableFactory.getClass()), joinableFactory);
    });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `processing/src/main/java/org/apache/druid/segment/serde/NullColumnPartSerde.java`
#### Snippet
```java
  public Deserializer getDeserializer()
  {
    return (buffer, builder, columnConfig) -> {
      builder.setHasMultipleValues(false)
             .setHasNulls(true)
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/CatalogResource.java`
#### Snippet
```java
        tables,
        entry -> {
          return Collections.singletonList(
              resourceAction(entry.lhs, entry.rhs.id().name(), Action.READ));
        },
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerSketchFetcher.java`
#### Snippet
```java

    // Submit a task for each worker to fetch statistics
    workersForStage.forEach(workerNo -> {
      executorService.submit(() -> {
        ListenableFuture<ClusterByStatisticsSnapshot> snapshotFuture =
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java

            // Add the listener to handle completion.
            clusterByPartitionsCompletableFuture.whenComplete((clusterByPartitionsEither, throwable) -> {
              addToKernelManipulationQueue(holder -> {
                if (throwable != null) {
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/cache/CoordinatorPollingBasicAuthorizerCacheManager.java`
#### Snippet
```java
      return RetryUtils.retry(
          () -> {
            return tryFetchUserMapsFromCoordinator(prefix);
          },
          e -> true,
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/cache/CoordinatorPollingBasicAuthorizerCacheManager.java`
#### Snippet
```java
      return RetryUtils.retry(
          () -> {
            return tryFetchGroupMappingMapsFromCoordinator(prefix);
          },
          e -> true,
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/endpoint/DefaultBasicAuthorizerResourceHandler.java`
#### Snippet
```java
    Map<String, Boolean> loadStatus = new HashMap<>();
    authorizerMap.forEach(
        (authorizerName, authorizer) -> {
          loadStatus.put(authorizerName, cacheManager.getUserMap(authorizerName) != null &&
                                         cacheManager.getRoleMap(authorizerName) != null &&
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerRoleSimplifiedPermissions.java`
#### Snippet
```java
        permissions,
        (permission) -> {
          return permission.getResourceAction();
        }
    );
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/cache/CoordinatorPollingBasicAuthenticatorCacheManager.java`
#### Snippet
```java
      return RetryUtils.retry(
          () -> {
            return tryFetchUserMapFromCoordinator(prefix);
          },
          e -> true,
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/CoordinatorBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
  {
    cachedUserMaps.forEach(
        (authenticatorName, userMapBundle) -> {
          cacheNotifier.addUserUpdate(authenticatorName, userMapBundle.getSerializedUserMap());
        }
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/endpoint/CoordinatorBasicAuthorizerResourceHandler.java`
#### Snippet
```java
    Map<String, Boolean> loadStatus = new HashMap<>();
    authorizerMap.forEach(
        (authorizerName, authorizer) -> {
          loadStatus.put(authorizerName, storageUpdater.getCachedUserMap(authorizerName) != null &&
                                         storageUpdater.getCachedGroupMappingMap(authorizerName) != null &&
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Utils.java`
#### Snippet
```java
          },
          ex -> {
            return !succeeded.get();
          },
          5
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/common/ReingestionTimelineUtils.java`
#### Snippet
```java
              metric,
              k -> {
                return index[0]++;
              }
          );
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CachingLocalSegmentAllocator.java`
#### Snippet
```java
      final List<BucketNumberedShardSpec<?>> buckets = entry.getValue();

      buckets.forEach(bucket -> {
        sequenceNameToBucket.put(sequenceNameFunction.getSequenceName(interval, bucket), Pair.of(interval, bucket));
      });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskHistory.java`
#### Snippet
```java
  TaskHistory(SubTaskSpec<T> spec, List<TaskStatusPlus> attemptHistory)
  {
    attemptHistory.forEach(status -> {
      Preconditions.checkState(
          status.getStatusCode() == TaskState.SUCCESS || status.getStatusCode() == TaskState.FAILED,
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    ArrayList<DataSegment> segmentsToWaitFor = new ArrayList<>();
    reportsMap.values()
              .forEach(report -> {
                segmentsToWaitFor.addAll(report.getNewSegments());
              });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitter.java`
#### Snippet
```java
      scheduler.schedule(this::sendRequestToKafka, sendInterval, TimeUnit.SECONDS);
    }
    scheduler.scheduleWithFixedDelay(() -> {
      log.info(
          "Message lost counter: metricLost=[%d], alertLost=[%d], requestLost=[%d], invalidLost=[%d]",
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitterModule.java`
#### Snippet
```java
            graphiteEmitterConfig.getAlertEmitters(),
            alertEmitterName -> {
              return injector.getInstance(Key.get(Emitter.class, Names.named(alertEmitterName)));
            }
        )
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitterModule.java`
#### Snippet
```java
            graphiteEmitterConfig.getRequestLogEmitters(),
            requestLogEmitterName -> {
              return injector.getInstance(Key.get(Emitter.class, Names.named(requestLogEmitterName)));
            }
        )
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      }
      maxCreatedDate.merge(interval, createDate, (date1, date2) -> {
        return DateTimes.max(DateTimes.of(date1), DateTimes.of(date2)).toString();
      });
      segments.computeIfAbsent(interval, i -> new ArrayList<>()).add(segment);
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/DruidKubernetesPeonClient.java`
#### Snippet
```java
    return clientApi.executeRequest(
        client -> {
          return Optional.fromNullable(
              client.batch()
                    .v1()
```

## RuleId[ruleID=UseOfPropertiesAsHashtable]
### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageConnectorConfig.java`
#### Snippet
```java
    if (properties != null) {
      config.dbcpProperties = new Properties();
      config.dbcpProperties.putAll(properties);
    }
    return config;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `server/src/main/java/org/apache/druid/server/initialization/AuthenticatorMapperModule.java`
#### Snippet
```java
          throw new IAE("Name property [%s] is reserved.", nameProperty);
        } else {
          adjustedProps.put(nameProperty, authenticatorName);
        }
        authenticatorProvider.inject(adjustedProps, configurator);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `server/src/main/java/org/apache/druid/server/initialization/AuthorizerMapperModule.java`
#### Snippet
```java
          throw new IAE("Name property [%s] is reserved.", nameProperty);
        } else {
          adjustedProps.put(nameProperty, authorizerName);
        }

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `server/src/main/java/org/apache/druid/metadata/BasicDataSourceExt.java`
#### Snippet
```java
      String user = connectorConfig.getUser();
      if (user != null) {
        connectionProperties.put("user", user);
      } else {
        log("DBCP DataSource configured without a 'username'");
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `server/src/main/java/org/apache/druid/metadata/BasicDataSourceExt.java`
#### Snippet
```java
      String password = connectorConfig.getPassword();
      if (password != null) {
        connectionProperties.put("password", password);
      } else {
        log("DBCP DataSource configured without a 'password'");
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `server/src/main/java/org/apache/druid/metadata/BasicDataSourceExt.java`
#### Snippet
```java
  public void addConnectionProperty(String name, String value)
  {
    connectionProperties.put(name, value);
    super.addConnectionProperty(name, value);
  }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `services/src/main/java/org/apache/druid/cli/CliCoordinator.java`
#### Snippet
```java
              throw new IAE("'type' property [%s] is reserved.", typeProperty);
            } else {
              adjustedProps.put(typeProperty, dutyName);
            }
            coordinatorCustomDutyProvider.inject(adjustedProps, configurator);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
  {
    Properties properties = new Properties();
    properties.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
    properties.put(Context.PROVIDER_URL, ldapConfig.getUrl());
    properties.put(Context.SECURITY_AUTHENTICATION, "simple");
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
    Properties properties = new Properties();
    properties.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
    properties.put(Context.PROVIDER_URL, ldapConfig.getUrl());
    properties.put(Context.SECURITY_AUTHENTICATION, "simple");
    if (StringUtils.toLowerCase(ldapConfig.getUrl()).startsWith("ldaps://")) {
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
    properties.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
    properties.put(Context.PROVIDER_URL, ldapConfig.getUrl());
    properties.put(Context.SECURITY_AUTHENTICATION, "simple");
    if (StringUtils.toLowerCase(ldapConfig.getUrl()).startsWith("ldaps://")) {
      properties.put(Context.SECURITY_PROTOCOL, "ssl");
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
    properties.put(Context.SECURITY_AUTHENTICATION, "simple");
    if (StringUtils.toLowerCase(ldapConfig.getUrl()).startsWith("ldaps://")) {
      properties.put(Context.SECURITY_PROTOCOL, "ssl");
      properties.put("java.naming.ldap.factory.socket", BasicSecuritySSLSocketFactory.class.getName());
    }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
    if (StringUtils.toLowerCase(ldapConfig.getUrl()).startsWith("ldaps://")) {
      properties.put(Context.SECURITY_PROTOCOL, "ssl");
      properties.put("java.naming.ldap.factory.socket", BasicSecuritySSLSocketFactory.class.getName());
    }
    if (null != overrideProperties) {
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
  {
    Properties properties = commonProperties(ldapConfig);
    properties.put(Context.SECURITY_PRINCIPAL, ldapConfig.getBindUser());
    properties.put(Context.SECURITY_CREDENTIALS, ldapConfig.getBindPassword().getPassword());
    return properties;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
    Properties properties = commonProperties(ldapConfig);
    properties.put(Context.SECURITY_PRINCIPAL, ldapConfig.getBindUser());
    properties.put(Context.SECURITY_CREDENTIALS, ldapConfig.getBindPassword().getPassword());
    return properties;
  }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
  {
    Properties properties = commonProperties(ldapConfig);
    properties.put(Context.SECURITY_PRINCIPAL, userDn.toString());
    properties.put(Context.SECURITY_CREDENTIALS, String.valueOf(password));
    return properties;
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/validator/LDAPCredentialsValidator.java`
#### Snippet
```java
    Properties properties = commonProperties(ldapConfig);
    properties.put(Context.SECURITY_PRINCIPAL, userDn.toString());
    properties.put(Context.SECURITY_CREDENTIALS, String.valueOf(password));
    return properties;
  }
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.get()` on properties object
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java
    Map<String, Object> configs = new HashMap<>();
    for (String key : properties.stringPropertyNames()) {
      configs.put(key, properties.get(key));
    }

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putIfAbsent()` on properties object
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java
        effectiveConsumerProperties
    );
    props.putIfAbsent("isolation.level", "read_committed");
    props.putIfAbsent("group.id", StringUtils.format("kafka-supervisor-%s", IdUtils.getRandomId()));
    props.putAll(consumerConfigs);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putIfAbsent()` on properties object
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java
    );
    props.putIfAbsent("isolation.level", "read_committed");
    props.putIfAbsent("group.id", StringUtils.format("kafka-supervisor-%s", IdUtils.getRandomId()));
    props.putAll(consumerConfigs);

```

### UseOfPropertiesAsHashtable
Call to `Hashtable.putAll()` on properties object
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaRecordSupplier.java`
#### Snippet
```java
    props.putIfAbsent("isolation.level", "read_committed");
    props.putIfAbsent("group.id", StringUtils.format("kafka-supervisor-%s", IdUtils.getRandomId()));
    props.putAll(consumerConfigs);

    ClassLoader currCtxCl = Thread.currentThread().getContextClassLoader();
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitter.java`
#### Snippet
```java

      Properties props = new Properties();
      props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, config.getBootstrapServers());
      props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitter.java`
#### Snippet
```java
      Properties props = new Properties();
      props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, config.getBootstrapServers());
      props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.RETRIES_CONFIG, DEFAULT_RETRIES);
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitter.java`
#### Snippet
```java
      props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, config.getBootstrapServers());
      props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.RETRIES_CONFIG, DEFAULT_RETRIES);
      props.putAll(config.getKafkaProducerConfig());
```

### UseOfPropertiesAsHashtable
Call to `Hashtable.put()` on properties object
in `extensions-contrib/kafka-emitter/src/main/java/org/apache/druid/emitter/kafka/KafkaEmitter.java`
#### Snippet
```java
      props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());
      props.put(ProducerConfig.RETRIES_CONFIG, DEFAULT_RETRIES);
      props.putAll(config.getKafkaProducerConfig());

```

## RuleId[ruleID=EmptyMethod]
### EmptyMethod
Method only calls its super
in `core/src/main/java/org/apache/druid/data/input/impl/CsvInputFormat.java`
#### Snippet
```java
  @Override
  @JsonIgnore
  public String getDelimiter()
  {
    return super.getDelimiter();
```

### EmptyMethod
Method only calls its super
in `core/src/main/java/org/apache/druid/indexer/partitions/SingleDimensionPartitionsSpec.java`
#### Snippet
```java

  @Override
  public int hashCode()
  {
    return super.hashCode();
```

### EmptyMethod
The method is empty
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java

  @LifecycleStart
  public void start()
  {
  }
```

### EmptyMethod
Method only calls its super
in `core/src/main/java/org/apache/druid/query/QueryException.java`
#### Snippet
```java
  @JsonProperty("errorMessage")
  @Override
  public String getMessage()
  {
    return super.getMessage();
```

### EmptyMethod
The method and all its derivables are empty
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalBufferAggregatorBase.java`
#### Snippet
```java

  @Override
  public void close()
  {
    // no resources to cleanup
```

### EmptyMethod
All implementations of this method are empty
in `extensions-contrib/dropwizard-emitter/src/main/java/org/apache/druid/emitter/dropwizard/DropwizardReporter.java`
#### Snippet
```java
   *  It should be a non-blocking operation.
   */
  void flush();

  void close();
```

### EmptyMethod
Method only calls its super
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/schemarepo/Avro1124RESTRepositoryClientWrapper.java`
#### Snippet
```java
  @JsonIgnore
  @Override
  public String getStatus()
  {
    return super.getStatus();
```

### EmptyMethod
The method is empty
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/HdfsStorageAuthentication.java`
#### Snippet
```java

  @LifecycleStop
  public void stop()
  {
    //noop
```

### EmptyMethod
The method and all its derivables are empty
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractFixedIntervalTask.java`
#### Snippet
```java

  @Override
  public void stopGracefully(TaskConfig taskConfig)
  {
  }
```

### EmptyMethod
Method only calls its super
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
  @Override
  @JsonProperty
  public List<String> getHadoopDependencyCoordinates()
  {
    return super.getHadoopDependencyCoordinates();
```

### EmptyMethod
The method is empty
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/MetadataTaskStorage.java`
#### Snippet
```java

  @LifecycleStop
  public void stop()
  {
    // do nothing
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryMetrics.java`
#### Snippet
```java
   */
  @PublicApi
  void granularity(GroupByQuery query);
}

```

### EmptyMethod
Method only calls its super
in `processing/src/main/java/org/apache/druid/query/lookup/LookupExtractionFn.java`
#### Snippet
```java
  @Override
  @JsonProperty
  public boolean isRetainMissingValue()
  {
    return super.isRetainMissingValue();
```

### EmptyMethod
Method only calls its super
in `processing/src/main/java/org/apache/druid/query/lookup/LookupExtractionFn.java`
#### Snippet
```java
  @Override
  @JsonProperty
  public String getReplaceMissingValueWith()
  {
    return super.getReplaceMissingValueWith();
```

### EmptyMethod
Method only calls its super
in `processing/src/main/java/org/apache/druid/query/lookup/LookupExtractionFn.java`
#### Snippet
```java
  @Override
  @JsonProperty
  public boolean isInjective()
  {
    return super.isInjective();
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryMetrics.java`
#### Snippet
```java
   */
  @SuppressWarnings("unused")
  void granularity(SearchQuery query);

}
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryMetrics.java`
#### Snippet
```java
   */
  @PublicApi
  void granularity(TimeseriesQuery query);
}

```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java
   */
  @PublicApi
  void granularity(TopNQuery query);

  @PublicApi
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java

  @PublicApi
  void dimensionCardinality(int cardinality);

  @PublicApi
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java

  @PublicApi
  void algorithm(TopNAlgorithm algorithm);

  /**
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java
   */
  @PublicApi
  void cursor(Cursor cursor);

  /**
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java
   */
  @PublicApi
  void columnValueSelector(ColumnValueSelector columnValueSelector);

  /**
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java
   */
  @PublicApi
  void numValuesPerPass(TopNParams params);

  /**
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryMetrics.java`
#### Snippet
```java
   * query.
   */
  void startRecordingScanTime();

  /**
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/segment/ProgressIndicator.java`
#### Snippet
```java
  void progress();

  void start();

  void stop();
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/segment/ProgressIndicator.java`
#### Snippet
```java
  void start();

  void stop();

  void startSection(@SuppressWarnings("unused") String section);
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/segment/ProgressIndicator.java`
#### Snippet
```java
  void stop();

  void startSection(@SuppressWarnings("unused") String section);

  void stopSection(@SuppressWarnings("unused") String section);
```

### EmptyMethod
All implementations of this method are empty
in `processing/src/main/java/org/apache/druid/segment/ProgressIndicator.java`
#### Snippet
```java
  void startSection(@SuppressWarnings("unused") String section);

  void stopSection(@SuppressWarnings("unused") String section);
}

```

### EmptyMethod
Method only calls its super
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java
      // instead of using toString.
      @Override
      public int hashCode()
      {
        return super.hashCode();
```

### EmptyMethod
Method only calls its super
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java
      // instead of using toString.
      @Override
      public int hashCode()
      {
        return super.hashCode();
```

### EmptyMethod
The method is empty
in `server/src/main/java/org/apache/druid/server/coordinator/CachingCostBalancerStrategyFactory.java`
#### Snippet
```java

  @LifecycleStart
  public void start()
  {
    // do nothing
```

### EmptyMethod
All implementations of this method are empty
in `server/src/main/java/org/apache/druid/server/listener/resource/ListenerHandler.java`
#### Snippet
```java
  Response handleUpdates(InputStream inputStream, ObjectMapper mapper);

  void use_AbstractListenerHandler_instead();


```

### EmptyMethod
The method is empty
in `server/src/main/java/org/apache/druid/server/log/EmittingRequestLoggerProvider.java`
#### Snippet
```java

  @Inject
  public void injectMe(Injector injector)
  {
  }
```

### EmptyMethod
All implementations of this method are empty
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerHook.java`
#### Snippet
```java
public interface PlannerHook
{
  void captureSql(String sql);
  void captureQueryRel(RelRoot rootQueryRel);
  void captureDruidRel(DruidRel<?> druidRel);
```

### EmptyMethod
All implementations of this method are empty
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerHook.java`
#### Snippet
```java
  void captureSql(String sql);
  void captureQueryRel(RelRoot rootQueryRel);
  void captureDruidRel(DruidRel<?> druidRel);
  void captureBindableRel(BindableRel bindableRel);
  void captureParameterTypes(RelDataType parameterTypes);
```

### EmptyMethod
All implementations of this method are empty
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerHook.java`
#### Snippet
```java
  void captureQueryRel(RelRoot rootQueryRel);
  void captureDruidRel(DruidRel<?> druidRel);
  void captureBindableRel(BindableRel bindableRel);
  void captureParameterTypes(RelDataType parameterTypes);
  void captureInsert(SqlInsert insert);
```

### EmptyMethod
All implementations of this method are empty
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerHook.java`
#### Snippet
```java
  void captureDruidRel(DruidRel<?> druidRel);
  void captureBindableRel(BindableRel bindableRel);
  void captureParameterTypes(RelDataType parameterTypes);
  void captureInsert(SqlInsert insert);
}
```

## RuleId[ruleID=RedundantFieldInitialization]
### RedundantFieldInitialization
Field initialization to `null` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/MetadataSegmentView.java`
#### Snippet
```java
   */
  @MonotonicNonNull
  private volatile ImmutableSortedSet<SegmentWithOvershadowedStatus> publishedSegments = null;
  private final ScheduledExecutorService scheduledExec;
  private final long pollPeriodInMS;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/SegmentMetadataCacheConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean metadataSegmentCacheEnable = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean useGroupingSetForExactDistinct = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean forceExpressionVirtualColumns = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean authorizeSystemTablesDirectly = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/PlannerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean requireTimeCondition = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java
   * and thus there is no concurrency control for this variable.
   */
  private int totalSegments = 0;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean refreshImmediately = false;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/SegmentMetadataCache.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean isServerViewInitialized = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/PostAggregatorVisitor.java`
#### Snippet
```java
{
  private String outputNamePrefix;
  private int counter = 0;
  private List<PostAggregator> postAggs = new ArrayList<>();

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
    private SqlOperandTypeChecker operandTypeChecker;
    private List<SqlTypeFamily> operandTypes;
    private Integer requiredOperands = null;
    private int[] literalOperands = null;
    private SqlOperandTypeInference operandTypeInference;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
    private List<SqlTypeFamily> operandTypes;
    private Integer requiredOperands = null;
    private int[] literalOperands = null;
    private SqlOperandTypeInference operandTypeInference;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/data/input/impl/TimedShutoffInputSourceReader.java`
#### Snippet
```java
       * Not volatile since {@link #hasNext()} and {@link #next()} are supposed to be called by the same thread.
       */
      T next = null;

      @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/data/input/IntermediateRowParsingReader.java`
#### Snippet
```java
      // good idea. Subclasses could implement read() with some duplicate codes to avoid unnecessary iteration on
      // a singleton list.
      Iterator<InputRow> rows = null;
      long currentRecordNumber = 1;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/data/input/IntermediateRowParsingReader.java`
#### Snippet
```java
    private final Exception exception;

    private boolean thrown = false;

    private ExceptionThrowingIterator(Exception exception)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/data/input/impl/FileIteratingFirehose.java`
#### Snippet
```java
  private final StringInputRowParser parser;

  private LineIterator lineIterator = null;

  private final Closeable closer;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/data/input/impl/TimestampSpec.java`
#### Snippet
```java
  {
    Object lastTimeObject = null;
    DateTime lastDateTime = null;
  }

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/data/input/impl/TimestampSpec.java`
#### Snippet
```java
  private static class ParseCtx
  {
    Object lastTimeObject = null;
    DateTime lastDateTime = null;
  }
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/HttpClientConfig.java`
#### Snippet
```java
    private boolean eagerInitialization = true;
    private SSLContext sslContext = null;
    private HttpClientProxyConfig proxyConfig = null;
    private Duration readTimeout = null;
    private Duration sslHandshakeTimeout = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/HttpClientConfig.java`
#### Snippet
```java
    private SSLContext sslContext = null;
    private HttpClientProxyConfig proxyConfig = null;
    private Duration readTimeout = null;
    private Duration sslHandshakeTimeout = null;
    private int bossCount = DEFAULT_BOSS_COUNT;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/HttpClientConfig.java`
#### Snippet
```java
    private int numConnections = 1;
    private boolean eagerInitialization = true;
    private SSLContext sslContext = null;
    private HttpClientProxyConfig proxyConfig = null;
    private Duration readTimeout = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/HttpClientConfig.java`
#### Snippet
```java
    private HttpClientProxyConfig proxyConfig = null;
    private Duration readTimeout = null;
    private Duration sslHandshakeTimeout = null;
    private int bossCount = DEFAULT_BOSS_COUNT;
    private int workerCount = DEFAULT_WORKER_COUNT;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
  private final SingleByteReaderDoer singleByteReaderDoer = new SingleByteReaderDoer();

  private volatile boolean done = false;
  private volatile Throwable throwable;
  private volatile int available = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java

  private byte[] curr = new byte[]{};
  private int currIndex = 0;

  public void add(byte[] bytesToAdd)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
  private volatile boolean done = false;
  private volatile Throwable throwable;
  private volatile int available = 0;

  private byte[] curr = new byte[]{};
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java
        new SimpleChannelUpstreamHandler()
        {
          private volatile ClientResponse<Intermediate> response = null;

          // Chunk number most recently assigned.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java

          // Chunk number most recently assigned.
          private long currentChunkNum = 0;

          // Suspend and resume watermarks (respectively: last chunk number that triggered a suspend, and that was
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
    protected final ArrayDeque<ResourceHolder<V>> resourceHolderList;
    // To keep track of resources that have been successfully returned to caller.
    private int numLentResources = 0;
    private boolean closed = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/http/client/pool/ResourcePool.java`
#### Snippet
```java
    // To keep track of resources that have been successfully returned to caller.
    private int numLentResources = 0;
    private boolean closed = false;

    protected ResourceHolderPerKey(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/io/NativeIO.java`
#### Snippet
```java
  private static Field field;

  private static volatile boolean initialized = false;
  private static volatile boolean fadvisePossible = true;
  private static volatile boolean syncFileRangePossible = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/DroppingIterator.java`
#### Snippet
```java
  private final Iterator<T> delegate;
  private final int numToDrop;
  private boolean dropped = false;

  public DroppingIterator(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/FileSmoosher.java`
#### Snippet
```java
    {
      private boolean open = true;
      private long bytesWritten = 0;

      @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/FileSmoosher.java`
#### Snippet
```java

    private final Closer closer = Closer.create();
    private int currOffset = 0;

    Outer(int fileNum, File outFile, int maxLength) throws FileNotFoundException
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/FileSmoosher.java`
#### Snippet
```java
          );

      private int currOffset = 0;

      @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/FileSmoosher.java`
#### Snippet
```java

  private Outer currOut = null;
  private boolean writerCurrentlyInUse = false;

  public FileSmoosher(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/FileSmoosher.java`
#### Snippet
```java
  private Map<String, String> delegateFileNameMap;

  private Outer currOut = null;
  private boolean writerCurrentlyInUse = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/SkippingSequence.java`
#### Snippet
```java
  private class SkippingYieldingAccumulator<OutType> extends DelegatingYieldingAccumulator<OutType, T>
  {
    private long skipped = 0;

    public SkippingYieldingAccumulator(final YieldingAccumulator<OutType, T> accumulator)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/MergeIterator.java`
#### Snippet
```java

  private final PriorityQueue<PeekingIterator<T>> pQueue;
  private PeekingIterator<T> currentIterator = null;

  public MergeIterator(
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
  {
    private final Collection<File> files = new ArrayList<>();
    private long size = 0L;

    public Collection<File> getFiles()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/FilteringYieldingAccumulator.java`
#### Snippet
```java
  private final YieldingAccumulator<OutType, T> accumulator;

  private volatile boolean didSomething = false;

  public FilteringYieldingAccumulator(Predicate<? super T> pred, YieldingAccumulator<OutType, T> accumulator)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/LimitedSequence.java`
#### Snippet
```java
  {
    long count;
    boolean interruptYield = false;

    LimitedYieldingAccumulator(YieldingAccumulator<OutType, T> accumulator)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/YieldingAccumulator.java`
#### Snippet
```java
public abstract class YieldingAccumulator<AccumulatedType, InType>
{
  private boolean yielded = false;

  public void yield()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/parsers/RegexParser.java`
#### Snippet
```java
  private final Pattern compiled;

  private List<String> fieldNames = null;

  public RegexParser(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/parsers/AbstractFlatTextFormatParser.java`
#### Snippet
```java
  private final int maxSkipHeaderRows;

  private List<String> fieldNames = null;
  private boolean hasParsedHeader = false;
  private int skippedHeaderRows;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/parsers/AbstractFlatTextFormatParser.java`
#### Snippet
```java

  private List<String> fieldNames = null;
  private boolean hasParsedHeader = false;
  private int skippedHeaderRows;
  private boolean supportSkipHeaderRows;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/DirectExecutorService.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean shutdown = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/DirectExecutorService.java`
#### Snippet
```java
   */
  @GuardedBy("lock")
  private int runningTasks = 0;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/lifecycle/Lifecycle.java`
#### Snippet
```java
  private final Lock startStopLock = new ReentrantLock();
  private final AtomicReference<State> state = new AtomicReference<>(State.NOT_STARTED);
  private Stage currStage = null;
  private final AtomicBoolean shutdownHookRegistered = new AtomicBoolean(false);
  private final String name;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/EmittingLogger.java`
#### Snippet
```java
    private final Throwable t;

    private volatile boolean emitted = false;

    private EmittingAlertBuilder(Throwable t, String description, ServiceEmitter emitter)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/EmittingLogger.java`
#### Snippet
```java
  public static final String EXCEPTION_STACK_TRACE_KEY = "exceptionStackTrace";

  private static volatile ServiceEmitter emitter = null;

  private final String className;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpEmitterConfig.java`
#### Snippet
```java
  @NotNull
  @JsonProperty
  String recipientBaseUrl = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitter.java`
#### Snippet
```java
  private final Object startCloseLock = new Object();
  @GuardedBy("startCloseLock")
  private boolean started = false;
  @GuardedBy("startCloseLock")
  private boolean closed = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitter.java`
#### Snippet
```java
  private boolean started = false;
  @GuardedBy("startCloseLock")
  private boolean closed = false;
  private final Lifecycle innerLifecycle = new Lifecycle();
  private final AsyncHttpClient client;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/core/BaseHttpEmittingConfig.java`
#### Snippet
```java

  @JsonProperty
  PasswordProvider basicAuthentication = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
    private final TimeoutException timeoutLessThanMinimumException;

    private boolean shuttingDown = false;
    private ZeroCopyByteArrayOutputStream gzipBaos;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
  private final Object startLock = new Object();
  private final CountDownLatch startLatch = new CountDownLatch(1);
  private boolean running = false;

  public HttpPostEmitter(HttpEmitterConfig config, AsyncHttpClient client)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/ClockDriftSafeMonitorScheduler.java`
#### Snippet
```java
        new CronTask()
        {
          private Future<?> cancellationFuture = null;
          private Future<Boolean> monitorFuture = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/ClockDriftSafeMonitorScheduler.java`
#### Snippet
```java
        {
          private Future<?> cancellationFuture = null;
          private Future<Boolean> monitorFuture = null;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/ScheduledExecutors.java`
#### Snippet
```java
        new Runnable()
        {
          private volatile Signal prevSignal = null;

          @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/MonitorScheduler.java`
#### Snippet
```java
  private final Object lock = new Object();

  private volatile boolean started = false;

  MonitorScheduler(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/JvmThreadsMonitor.java`
#### Snippet
```java
  private final Map<String, String[]> dimensions;

  private int lastLiveThreads = 0;
  private long lastStartedThreads = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/JvmThreadsMonitor.java`
#### Snippet
```java

  private int lastLiveThreads = 0;
  private long lastStartedThreads = 0;

  public JvmThreadsMonitor(Map<String, String[]> dimensions)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/AllocationMetricCollectors.java`
#### Snippet
```java
  private static Method getThreadAllocatedBytes;
  private static ThreadMXBean threadMXBean;
  private static boolean initialized = false;

  static {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/HttpPostEmitterMonitor.java`
#### Snippet
```java
  private int lastTotalDroppedBuffers = 0;
  private int lastTotalAllocatedBuffers = 0;
  private int lastTotalFailedBuffers = 0;

  public HttpPostEmitterMonitor(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/HttpPostEmitterMonitor.java`
#### Snippet
```java
  private final ImmutableMap<String, String> extraDimensions;
  private final ServiceMetricEvent.Builder builder;
  private long lastTotalEmittedEvents = 0;
  private int lastTotalDroppedBuffers = 0;
  private int lastTotalAllocatedBuffers = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/HttpPostEmitterMonitor.java`
#### Snippet
```java
  private long lastTotalEmittedEvents = 0;
  private int lastTotalDroppedBuffers = 0;
  private int lastTotalAllocatedBuffers = 0;
  private int lastTotalFailedBuffers = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/HttpPostEmitterMonitor.java`
#### Snippet
```java
  private final ServiceMetricEvent.Builder builder;
  private long lastTotalEmittedEvents = 0;
  private int lastTotalDroppedBuffers = 0;
  private int lastTotalAllocatedBuffers = 0;
  private int lastTotalFailedBuffers = 0;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/AbstractMonitor.java`
#### Snippet
```java
public abstract class AbstractMonitor implements Monitor
{
  private volatile boolean started = false;
  
  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/JvmMonitor.java`
#### Snippet
```java

    private long lastInvocations = 0;
    private long lastCpuMillis = 0;

    private static final String GC_YOUNG_GENERATION_NAME = "young";
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/JvmMonitor.java`
#### Snippet
```java
    private final GarbageCollectorMXBean gcBean;

    private long lastInvocations = 0;
    private long lastCpuMillis = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/SysMonitor.java`
#### Snippet
```java
  {
    private long prevPageIn = 0;
    private long prevPageOut = 0;

    private SwapStats()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/metrics/SysMonitor.java`
#### Snippet
```java
  private class SwapStats implements Stats
  {
    private long prevPageIn = 0;
    private long prevPageOut = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprListenerImpl.java`
#### Snippet
```java
  private final Set<String> lambdaIdentifiers;
  private final Set<String> uniqueIdentifiers;
  private int uniqueCounter = 0;

  ExprListenerImpl(ParseTree rootNodeKey, ExprMacroTable macroTable)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    final long timeoutAtNanos;
    final BlockingQueue<E> queue;
    volatile E item = null;

    QueuePusher(BlockingQueue<E> q, boolean hasTimeout, long timeoutAtNanos)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    private long taskCount = 1;
    private long inputRows = 0;
    private long outputRows = 0;
    private long totalCpuTimeNanos = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    private long inputRows = 0;
    private long outputRows = 0;
    private long totalCpuTimeNanos = 0;

    private long partitionInitializedtime = 0L;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
    private long totalCpuTimeNanos = 0;

    private long partitionInitializedtime = 0L;

    void incrementTaskCount()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
  {
    private long taskCount = 1;
    private long inputRows = 0;
    private long outputRows = 0;
    private long totalCpuTimeNanos = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
          new YieldingAccumulator<ResultBatch<E>, E>()
          {
            int count = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/guice/LifecycleScope.java`
#### Snippet
```java
    return new Provider<T>()
    {
      private volatile T value = null;

      @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    private final String lambdaIdentifier;
    private final Object[] arrayValues;
    private int index = 0;
    private final boolean scoped;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    private final String accumulatorIdentifier;
    private Object accumulatorValue;
    private int index = 0;

    CartesianFoldLambdaBinding(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    private final List<List<Object>> lambdaInputs;
    private final boolean scoped;
    private int index = 0;

    CartesianMapLambdaBinding(ExpressionType arrayElementType, List<List<Object>> inputs, LambdaExpr expr, Expr.ObjectBinding bindings)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/utils/CircularBuffer.java`
#### Snippet
```java

  private int start = 0;
  private int size = 0;

  public CircularBuffer(int capacity)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/utils/CircularBuffer.java`
#### Snippet
```java
  private final E[] buffer;

  private int start = 0;
  private int size = 0;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/common/guava/CombiningSequence.java`
#### Snippet
```java
    private OutType retVal;
    private T lastMergedVal;
    private boolean accumulatedSomething = false;

    CombiningYieldingAccumulator(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/common/guava/CombiningSequence.java`
#### Snippet
```java
    private final Accumulator<OutType, T> accumulator;

    private volatile boolean accumulatedSomething = false;

    CombiningAccumulator(OutType retVal, Accumulator<OutType, T> accumulator)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/common/config/Log4jShutdown.java`
#### Snippet
```java
    final Cancellable cancellable = new Cancellable()
    {
      private volatile boolean cancelled = false;
      private final AtomicBoolean ran = new AtomicBoolean(false);

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/guice/ConfigProvider.java`
#### Snippet
```java
  private final Map<String, String> replacements;

  private ConfigurationObjectFactory factory = null;

  public ConfigProvider(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/common/config/ConfigManager.java`
#### Snippet
```java

  private final Object lock = new Object();
  private boolean started = false;

  private final MetadataStorageConnector dbConnector;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/common/config/ConfigManager.java`
#### Snippet
```java
  private class PollingCallable implements Callable<ScheduledExecutors.Signal>
  {
    private volatile boolean stop = false;

    void stop()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/guice/JsonConfigProvider.java`
#### Snippet
```java
  private JsonConfigurator configurator;

  private Supplier<T> retVal = null;

  public JsonConfigProvider(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `core/src/main/java/org/apache/druid/metadata/MetadataStorageConnectorConfig.java`
#### Snippet
```java

  @JsonProperty
  private String user = null;

  @JsonProperty("password")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/collections/ReferenceCountingResourceHolder.java`
#### Snippet
```java
    return new Releaser()
    {
      boolean released = false;

      @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
  private final int limit;

  private long size = 0;

  public StableLimitingSorter(final Comparator<T> comparator, final int limit)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java

  @GuardedBy("this")
  private DruidNodeDiscovery discovery = null;

  public DiscoveryServiceLocator(final DruidNodeDiscoveryProvider discoveryProvider, final NodeRole nodeRole)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java

  @GuardedBy("this")
  private boolean closed = false;

  @GuardedBy("this")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java

  @GuardedBy("this")
  private SettableFuture<ServiceLocations> pendingFuture = null;

  @GuardedBy("this")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java

  @GuardedBy("this")
  private boolean started = false;

  @GuardedBy("this")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/rpc/DiscoveryServiceLocator.java`
#### Snippet
```java

  @GuardedBy("this")
  private boolean initialized = false;

  @GuardedBy("this")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/rpc/StandardRetryPolicy.java`
#### Snippet
```java
  public static class Builder
  {
    private long maxAttempts = 0; // Zero is an invalid value: so, this parameter must be explicitly specified
    private long minWaitMillis = DEFAULT_MIN_WAIT_MS;
    private long maxWaitMillis = DEFAULT_MAX_WAIT_MS;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/rpc/RequestBuilder.java`
#### Snippet
```java
  private final Multimap<String, String> headers = HashMultimap.create();
  private String contentType = null;
  private byte[] content = null;
  private Duration timeout = DEFAULT_TIMEOUT;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/rpc/RequestBuilder.java`
#### Snippet
```java
  private final String encodedPathAndQueryString;
  private final Multimap<String, String> headers = HashMultimap.create();
  private String contentType = null;
  private byte[] content = null;
  private Duration timeout = DEFAULT_TIMEOUT;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java

  @GuardedBy("lock")
  private SettableFuture<ServiceLocations> pendingFuture = null;

  public SpecificTaskServiceLocator(final String taskId, final OverlordClient overlordClient)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/rpc/indexing/SpecificTaskServiceLocator.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean closed = false;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
    @Inject(optional = true)
    @PruneLastCompactionState
    boolean pruneLastCompactionState = false;
  }

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/timeline/DataSegment.java`
#### Snippet
```java
    @Inject(optional = true)
    @PruneLoadSpec
    boolean pruneLoadSpec = false;

    @Inject(optional = true)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/query/lookup/LookupListeningAnnouncerConfig.java`
#### Snippet
```java
  private String lookupTier = null;
  @JsonProperty("lookupTierIsDatasource")
  private boolean lookupTierIsDatasource = false;

  @JsonCreator
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/query/lookup/LookupListeningAnnouncerConfig.java`
#### Snippet
```java
  private final DataSourceTaskIdHolder dataSourceTaskIdHolder;
  @JsonProperty("lookupTier")
  private String lookupTier = null;
  @JsonProperty("lookupTierIsDatasource")
  private boolean lookupTierIsDatasource = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/query/RetryQueryRunner.java`
#### Snippet
```java

    private Sequence<T> sequence;
    private int retryCount = 0;

    private RetryingSequenceIterator(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private CuratorFramework curator = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ObjectMapper jsonMapper = null;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ZkPathsConfig zkPaths = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @NotNull
  @EscalatedClient
  HttpClient httpClient = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private DruidNodeDiscoveryProvider druidNodeDiscoveryProvider = null;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @NotNull
  @Smile
  ObjectMapper smileMapper = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  HttpServerInventoryViewConfig config = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/FilteredBatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private CuratorFramework curator = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/FilteredBatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ObjectMapper jsonMapper = null;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/FilteredBatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ZkPathsConfig zkPaths = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/BrokerSegmentWatcherConfig.java`
#### Snippet
```java

  @JsonProperty
  private Set<String> ignoredTiers = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/BrokerSegmentWatcherConfig.java`
#### Snippet
```java

  @JsonProperty
  private Set<String> watchedDataSources = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/BrokerSegmentWatcherConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private Set<String> watchedTiers = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java

  // Cached String values
  private boolean stringValueCached = false;
  @Nullable
  private String stringValue;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    private boolean intValueValid = false;
    private boolean longValueValid = false;
    private boolean doubleValueValid = false;
    private boolean booleanValueValid = false;
    private int intValue;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    // Cached primitive values.
    private boolean intValueValid = false;
    private boolean longValueValid = false;
    private boolean doubleValueValid = false;
    private boolean booleanValueValid = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    private boolean longValueValid = false;
    private boolean doubleValueValid = false;
    private boolean booleanValueValid = false;
    private int intValue;
    private long longValue;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java

    // Cached primitive values.
    private boolean intValueValid = false;
    private boolean longValueValid = false;
    private boolean doubleValueValid = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CaffeineCacheConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean evictOnClose = false;

  public long getExpireAfter()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheMonitor.java`
#### Snippet
```java

  private final CachePopulatorStats cachePopulatorStats;
  private volatile CacheStats prevCacheStats = null;
  private volatile CachePopulatorStats.Snapshot prevCachePopulatorStats = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheMonitor.java`
#### Snippet
```java
  private final CachePopulatorStats cachePopulatorStats;
  private volatile CacheStats prevCacheStats = null;
  private volatile CachePopulatorStats.Snapshot prevCachePopulatorStats = null;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/client/cache/LocalCacheProvider.java`
#### Snippet
```java
  @JsonProperty
  @Min(0)
  private long sizeInBytes = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/client/cache/LocalCacheProvider.java`
#### Snippet
```java
  @JsonProperty
  @Min(0)
  private int logEvictionCount = 0;

  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCacheConfig.java`
#### Snippet
```java
  // maximum size in bytes of memcached client operation queue. 0 means unbounded
  @JsonProperty
  private long maxOperationQueueSize = 0;

  // size of memcached connection pool
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean useResultLevelCache = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheConfig.java`
#### Snippet
```java
  // They should be made the same at some point in the future.
  @JsonProperty
  private boolean useCache = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean populateResultLevelCache = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheConfig.java`
#### Snippet
```java
  @JsonProperty
  @Min(0)
  private int numBackgroundThreads = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/client/cache/CacheConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean populateCache = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java

  @JsonProperty
  private boolean enableTlsPort = false;

  public DruidNode(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
   */
  @JsonProperty
  private boolean bindOnHost = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/log/FileRequestLoggerProvider.java`
#### Snippet
```java
  @NotNull
  @Json
  private ObjectMapper jsonMapper = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/log/FileRequestLoggerProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ScheduledExecutorFactory factory = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/log/FileRequestLoggerProvider.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private File dir = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/log/EmittingRequestLoggerProvider.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String feed = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/log/EmittingRequestLoggerProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ServiceEmitter emitter = null;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/log/LoggingRequestLoggerProvider.java`
#### Snippet
```java

  @JsonProperty
  public boolean setContextMDC = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/log/LoggingRequestLoggerProvider.java`
#### Snippet
```java

  @JsonProperty
  public boolean setMDC = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/log/StartupLoggingConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean logProperties = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/log/FilteredRequestLoggerProvider.java`
#### Snippet
```java

  @JsonProperty
  private long sqlQueryTimeThresholdMs = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/log/FilteredRequestLoggerProvider.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private RequestLoggerProvider delegate = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/log/FilteredRequestLoggerProvider.java`
#### Snippet
```java

  @JsonProperty
  private long queryTimeThresholdMs = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java

    private boolean closed = false;
    private boolean initialized = false;
    private CountingOutputStream out = null;
    private Writer writer = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java

  private StreamingHttpResponseAccumulator accumulator = null;
  private AsyncContext asyncContext = null;
  private HttpServletResponse response = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
  private StreamingHttpResponseAccumulator accumulator = null;
  private AsyncContext asyncContext = null;
  private HttpServletResponse response = null;

  public QueryResultPusher(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
    private boolean closed = false;
    private boolean initialized = false;
    private CountingOutputStream out = null;
    private Writer writer = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
    private boolean initialized = false;
    private CountingOutputStream out = null;
    private Writer writer = null;

    public StreamingHttpResponseAccumulator(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
    private final ResultsWriter resultsWriter;

    private boolean closed = false;
    private boolean initialized = false;
    private CountingOutputStream out = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
  private final Map<String, String> extraHeaders;

  private StreamingHttpResponseAccumulator accumulator = null;
  private AsyncContext asyncContext = null;
  private HttpServletResponse response = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/audit/SQLAuditManagerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean skipNullField = false;

  public long getAuditHistoryMillis()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/audit/SQLAuditManagerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean includePayloadAsDimensionInMetric = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManagerConfig.java`
#### Snippet
```java

  @JsonProperty
  private Duration hostTimeout = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManagerConfig.java`
#### Snippet
```java

  @JsonProperty
  private Duration allHostTimeout = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/router/ManagementProxyConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean enabled = false;

  public boolean isEnabled()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/emitter/HttpEmitterSSLClientConfig.java`
#### Snippet
```java

  @JsonProperty("useDefaultJavaContext")
  private boolean useDefaultJavaContext = false;

  public String getProtocol()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/metrics/DataSourceTaskIdHolder.java`
#### Snippet
```java
  @Named(DATA_SOURCE_BINDING)
  @Inject(optional = true)
  String dataSource = null;
  @Named(TASK_ID_BINDING)
  @Inject(optional = true)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/metrics/DataSourceTaskIdHolder.java`
#### Snippet
```java
  @Named(TASK_ID_BINDING)
  @Inject(optional = true)
  String taskId = null;

  public String getDataSource()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/emitter/EmitterModule.java`
#### Snippet
```java
    private final String emitterType;

    private Emitter emitter = null;

    EmitterProvider(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/security/TLSCertificateCheckerModule.java`
#### Snippet
```java
    private final String checkerType;

    private TLSCertificateChecker checker = null;

    public TLSCertificateCheckerProvider(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/HttpLoadQueuePeon.java`
#### Snippet
```java
  private final ScheduledExecutorService processingExecutor;

  private volatile boolean stopped = false;

  private final Object lock = new Object();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/CachingCostBalancerStrategyConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean awaitInitialization = false;

  public boolean isAwaitInitialization()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillDatasourceMetadata.java`
#### Snippet
```java
  private final long period;
  private final long retainDuration;
  private long lastKillTime = 0;

  private final IndexerMetadataStorageCoordinator indexerMetadataStorageCoordinator;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillRules.java`
#### Snippet
```java
  private final long period;
  private final long retainDuration;
  private long lastKillTime = 0;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillCompactionConfig.java`
#### Snippet
```java

  private final long period;
  private long lastKillTime = 0;

  private final JacksonConfigManager jacksonConfigManager;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillUnusedSegments.java`
#### Snippet
```java
  private final boolean ignoreRetainDuration;
  private final int maxSegmentsToKill;
  private long lastKillTime = 0;

  private final SegmentsMetadataManager segmentsMetadataManager;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillSupervisors.java`
#### Snippet
```java
  private final long period;
  private final long retainDuration;
  private long lastKillTime = 0;

  private final MetadataSupervisorManager metadataSupervisorManager;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
  private final CompactSegments compactSegments;

  private volatile boolean started = false;
  private volatile SegmentReplicantLookup segmentReplicantLookup = null;
  private volatile DruidCluster cluster = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
  private volatile boolean started = false;
  private volatile SegmentReplicantLookup segmentReplicantLookup = null;
  private volatile DruidCluster cluster = null;

  private int cachedBalancerThreadNumber;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java

  private volatile boolean started = false;
  private volatile SegmentReplicantLookup segmentReplicantLookup = null;
  private volatile DruidCluster cluster = null;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillAuditLog.java`
#### Snippet
```java
  private final long period;
  private final long retainDuration;
  private long lastKillTime = 0;

  private final AuditManager auditManager;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java

    private byte[] bytes = new byte[]{};
    private int count = 0;

    public SegmentZNode(String path)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/TLSServerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean requestClientCertificate = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/TLSServerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean reloadSslContext = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/TLSServerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean requireClientCertificate = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/ServerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean enableForwardedRequestCustomizer = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/ServerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean enableRequestLimit = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
  private final SegmentCacheManager segmentCacheManager;

  private volatile boolean started = false;

  // Keep history of load/drop request status in a LRU cache to maintain idempotency if same request shows up
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    private volatile boolean finished = false;
    @Nullable
    private volatile ScheduledFuture startedAnnouncing = null;
    @Nullable
    private volatile ScheduledFuture nextAnnoucement = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    private final Object lock = new Object();

    private volatile boolean finished = false;
    @Nullable
    private volatile ScheduledFuture startedAnnouncing = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    private volatile ScheduledFuture startedAnnouncing = null;
    @Nullable
    private volatile ScheduledFuture nextAnnoucement = null;

    public BackgroundSegmentAnnouncer(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/BatchDataSegmentAnnouncerConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean skipSegmentAnnouncementOnZk = false;

  public int getSegmentsPerNode()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/BatchDataSegmentAnnouncerConfig.java`
#### Snippet
```java
  // Skip dimension list from segment announcements
  @JsonProperty
  private boolean skipDimensionsAndMetrics = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/BatchDataSegmentAnnouncerConfig.java`
#### Snippet
```java
  // Skip LoadSpec from segment announcements
  @JsonProperty
  private boolean skipLoadSpec = false;

  // Skip dimension list from segment announcements
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
  private int consecutiveFailedAttemptCount = 0;
  private long lastSuccessfulSyncTime = 0;
  private long lastSyncTime = 0;

  @Nullable
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
  private long unstableStartTime = -1;
  private int consecutiveFailedAttemptCount = 0;
  private long lastSuccessfulSyncTime = 0;
  private long lastSyncTime = 0;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java

  @Nullable
  private ChangeRequestHistory.Counter counter = null;

  public ChangeRequestHttpSyncer(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
  private final String logIdentity;
  private long unstableStartTime = -1;
  private int consecutiveFailedAttemptCount = 0;
  private long lastSuccessfulSyncTime = 0;
  private long lastSyncTime = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerModule.java`
#### Snippet
```java
  private static final AtomicInteger ACTIVE_CONNECTIONS = new AtomicInteger();
  private static final String HTTP_1_1_STRING = "HTTP/1.1";
  private static QueuedThreadPool jettyServerThreadPool = null;

  @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/CuratorConfig.java`
#### Snippet
```java

  @JsonProperty("acl")
  private boolean enableAcl = false;

  @JsonProperty("user")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/cache/PathChildrenCacheFactory.java`
#### Snippet
```java

    private boolean cacheData = true;
    private boolean compressed = false;
    private ExecutorService exec;
    private boolean shutdownExecutorOnClose = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/discovery/CuratorDruidLeaderSelector.java`
#### Snippet
```java
  private final AtomicReference<LeaderLatch> leaderLatch = new AtomicReference<>();

  private volatile boolean leader = false;
  private volatile int term = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/curator/discovery/CuratorDruidLeaderSelector.java`
#### Snippet
```java

  private volatile boolean leader = false;
  private volatile int term = 0;

  public CuratorDruidLeaderSelector(CuratorFramework curator, @Self DruidNode self, String latchPath)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/curator/discovery/CuratorDruidLeaderSelector.java`
#### Snippet
```java
  private ExecutorService listenerExecutor;

  private DruidLeaderSelector.Listener listener = null;
  private final AtomicReference<LeaderLatch> leaderLatch = new AtomicReference<>();

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/CuratorDataSegmentServerAnnouncer.java`
#### Snippet
```java
  private final Object lock = new Object();

  private volatile boolean announced = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/server/coordination/ZkCoordinator.java`
#### Snippet
```java
  @Nullable
  private volatile PathChildrenCache loadQueueCache;
  private volatile boolean started = false;
  private final ExecutorService segmentLoadUnloadService;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/curator/discovery/DiscoveryModule.java`
#### Snippet
```java
        new Lifecycle.Handler()
        {
          private volatile List<DruidNode> nodes = null;

          @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/announcement/Announcer.java`
#### Snippet
```java
  private Set<String> addedChildren;

  private boolean started = false;

  public Announcer(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPusherConfig.java`
#### Snippet
```java

  @JsonProperty
  public boolean zip = false;

  public File getStorageDirectory()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java
  private int statusQueueMaxSize = 100;

  private long combinedMaxSize = 0;

  public List<StorageLocationConfig> getLocations()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java

  @JsonProperty("announceIntervalMillis")
  private int announceIntervalMillis = 0; // do not background announce

  @JsonProperty("numLoadingThreads")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java

  @JsonProperty("numThreadsToLoadSegmentsIntoPageCacheOnBootstrap")
  private Integer numThreadsToLoadSegmentsIntoPageCacheOnBootstrap = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java

  @JsonProperty("numBootstrapThreads")
  private Integer numBootstrapThreads = null;

  @JsonProperty("numThreadsToLoadSegmentsIntoPageCacheOnDownload")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java

  @JsonProperty("lazyLoadOnStart")
  private boolean lazyLoadOnStart = false;

  @JsonProperty("deleteOnRemove")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java

  @JsonProperty("numThreadsToLoadSegmentsIntoPageCacheOnDownload")
  private int numThreadsToLoadSegmentsIntoPageCacheOnDownload = 0;

  @JsonProperty("numThreadsToLoadSegmentsIntoPageCacheOnBootstrap")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLoaderConfig.java`
#### Snippet
```java

  @JsonProperty
  private File infoDir = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/StorageLocation.java`
#### Snippet
```java
   */
  @GuardedBy("this")
  private long currSizeBytes = 0;

  public StorageLocation(File path, long maxSizeBytes, @Nullable Double freeSpacePercent)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
  {
    private volatile boolean containersInitialized = false;
    private volatile boolean doneInitializing = false;

    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
  private class ContainerCacheListener implements PathChildrenCacheListener
  {
    private volatile boolean containersInitialized = false;
    private volatile boolean doneInitializing = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
    private final AtomicReference<ContainerClass> container;
    private final PathChildrenCache cache;
    private boolean initialized = false;

    ContainerHolder(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/loading/SegmentLocalCacheManager.java`
#### Snippet
```java
  private final StorageLocationSelectorStrategy strategy;

  private ExecutorService loadSegmentsIntoPageCacheOnDownloadExec = null;

  // Note that we only create this via injection in historical and realtime nodes. Peons create these
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/FlushingPlumber.java`
#### Snippet
```java
  private final Duration flushDuration;

  private volatile ScheduledExecutorService flushScheduledExec = null;
  private volatile boolean stopped = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/FlushingPlumber.java`
#### Snippet
```java

  private volatile ScheduledExecutorService flushScheduledExec = null;
  private volatile boolean stopped = false;

  public FlushingPlumber(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/FixedCountFirehoseFactory.java`
#### Snippet
```java
    return new Firehose()
    {
      private int i = 0;
      private final Firehose delegateFirehose = delegate.connect(parser, temporaryDirectory);

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/TimedShutoffFirehoseFactory.java`
#### Snippet
```java
    private final ScheduledExecutorService shutdownExec;
    @GuardedBy("this")
    private boolean closed = false;

    TimedShutoffFirehose(InputRowParser parser, File temporaryDirectory) throws IOException
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PredicateFirehose.java`
#### Snippet
```java

  @Nullable
  private InputRow savedInputRow = null;

  public PredicateFirehose(Firehose firehose, Predicate<InputRow> predicate)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PredicateFirehose.java`
#### Snippet
```java
  private static final Logger log = new Logger(PredicateFirehose.class);
  private static final int IGNORE_THRESHOLD = 5000;
  private long ignored = 0;

  private final Firehose firehose;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/SqlFirehose.java`
#### Snippet
```java
  private final Closeable closer;
  @Nullable
  private JsonIterator<Map<String, Object>> lineIterator = null;
  private final Transformer transformer;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  private volatile long nextFlush = 0;
  private volatile boolean shuttingDown = false;
  private volatile boolean stopped = false;
  private volatile boolean cleanShutdown = true;
  private volatile ExecutorService persistExecutor = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java

  private volatile long nextFlush = 0;
  private volatile boolean shuttingDown = false;
  private volatile boolean stopped = false;
  private volatile boolean cleanShutdown = true;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  private volatile boolean cleanShutdown = true;
  private volatile ExecutorService persistExecutor = null;
  private volatile ExecutorService mergeExecutor = null;
  private volatile ScheduledExecutorService scheduledExecutor = null;
  private volatile IndexMerger indexMerger;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  private volatile boolean stopped = false;
  private volatile boolean cleanShutdown = true;
  private volatile ExecutorService persistExecutor = null;
  private volatile ExecutorService mergeExecutor = null;
  private volatile ScheduledExecutorService scheduledExecutor = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
        {
          final Interval interval = sink.getInterval();
          Stopwatch mergeStopwatch = null;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  private volatile ExecutorService persistExecutor = null;
  private volatile ExecutorService mergeExecutor = null;
  private volatile ScheduledExecutorService scheduledExecutor = null;
  private volatile IndexMerger indexMerger;
  private volatile IndexIO indexIO;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
  private final Cache cache;

  private volatile long nextFlush = 0;
  private volatile boolean shuttingDown = false;
  private volatile boolean stopped = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
     * also in testing code calling {@link #isClosed()}.
     */
    private volatile boolean closed = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
     */
    @Nullable
    private volatile Long idleCloseTimeNs = null;
    @Nullable
    private volatile Long requestedShutdownTimeNs = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
     */
    @Nullable
    private InputRow nextRow = null;
    private boolean rowsRunOut = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
    @Nullable
    private InputRow nextRow = null;
    private boolean rowsRunOut = false;

    private final AtomicLong bytesReceived = new AtomicLong(0);
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
    private volatile Long idleCloseTimeNs = null;
    @Nullable
    private volatile Long requestedShutdownTimeNs = null;

    EventReceiverFirehose(InputRowParser<Map<String, Object>> parser)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  private volatile ScheduledExecutorService scheduledExecutor = null;

  private volatile Supplier<Committer> lastCommitterSupplier = null;

  public AppenderatorPlumber(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  private final Appenderator appenderator;

  private volatile boolean shuttingDown = false;
  private volatile boolean stopped = false;
  private volatile boolean cleanShutdown = true;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java
  private volatile boolean stopped = false;
  private volatile boolean cleanShutdown = true;
  private volatile ScheduledExecutorService scheduledExecutor = null;

  private volatile Supplier<Committer> lastCommitterSupplier = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorPlumber.java`
#### Snippet
```java

  private volatile boolean shuttingDown = false;
  private volatile boolean stopped = false;
  private volatile boolean cleanShutdown = true;
  private volatile ScheduledExecutorService scheduledExecutor = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
  private int rowsCurrentlyInMemory = 0;
  private int totalRows = 0;
  private long bytesCurrentlyInMemory = 0;
  private final RowIngestionMeters rowIngestionMeters;
  private final ParseExceptionHandler parseExceptionHandler;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java

  private volatile ListeningExecutorService persistExecutor = null;
  private volatile ListeningExecutorService pushExecutor = null;
  private final int maxPendingPersists;
  private static final int PERSIST_WARN_DELAY = 1000;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
  private final boolean useMaxMemoryEstimates;

  private volatile ListeningExecutorService persistExecutor = null;
  private volatile ListeningExecutorService pushExecutor = null;
  private final int maxPendingPersists;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java

  // This variable updated in add(), persist(), and drop()
  private int rowsCurrentlyInMemory = 0;
  private int totalRows = 0;
  private long bytesCurrentlyInMemory = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
  // This variable updated in add(), persist(), and drop()
  private int rowsCurrentlyInMemory = 0;
  private int totalRows = 0;
  private long bytesCurrentlyInMemory = 0;
  private final RowIngestionMeters rowIngestionMeters;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
  private final AtomicBoolean closed = new AtomicBoolean(false);

  private volatile FileLock basePersistDirLock = null;
  private volatile FileChannel basePersistDirLockChannel = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java

  private volatile FileLock basePersistDirLock = null;
  private volatile FileChannel basePersistDirLockChannel = null;

  BatchAppenderator(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManagerConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean storeStackTrace = false;

  // The number of failed runs before the supervisor is considered unhealthy
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManagerConfig.java`
#### Snippet
```java

  @JsonProperty("idleConfig.enabled")
  private boolean idleConfigEnabled = false;

  @JsonProperty("idleConfig.inactiveAfterMillis")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java

  private int consecutiveFailedRuns = 0;
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
  private int consecutiveSuccessfulTasks = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private boolean hasHitTaskUnhealthinessThreshold = false;

  private int consecutiveFailedRuns = 0;
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private volatile State supervisorState = BasicState.PENDING;

  private boolean atLeastOneSuccessfulRun = false;
  private boolean currentRunSuccessful = true;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private int consecutiveFailedRuns = 0;
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
  private int consecutiveSuccessfulTasks = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  private int consecutiveSuccessfulRuns = 0;
  private int consecutiveFailedTasks = 0;
  private int consecutiveSuccessfulTasks = 0;

  public SupervisorStateManager(SupervisorStateManagerConfig supervisorStateManagerConfig, boolean suspended)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  // Used to determine if a low consecutiveSuccessfulRuns/consecutiveSuccessfulTasks means that the supervisor is
  // recovering from an unhealthy state, or if the supervisor just started and hasn't run many times yet.
  private boolean hasHitUnhealthinessThreshold = false;
  private boolean hasHitTaskUnhealthinessThreshold = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManager.java`
#### Snippet
```java
  // recovering from an unhealthy state, or if the supervisor just started and hasn't run many times yet.
  private boolean hasHitUnhealthinessThreshold = false;
  private boolean hasHitTaskUnhealthinessThreshold = false;

  private int consecutiveFailedRuns = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
  // where persist and push Executor try to put tasks in each other queues
  // thus creating circular dependency
  private volatile ListeningExecutorService intermediateTempExecutor = null;
  private volatile long nextFlush;
  private volatile FileLock basePersistDirLock = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
  private volatile long nextFlush;
  private volatile FileLock basePersistDirLock = null;
  private volatile FileChannel basePersistDirLockChannel = null;

  private volatile Throwable persistError;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
  private volatile ListeningExecutorService intermediateTempExecutor = null;
  private volatile long nextFlush;
  private volatile FileLock basePersistDirLock = null;
  private volatile FileChannel basePersistDirLockChannel = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

  private volatile ListeningExecutorService persistExecutor = null;
  private volatile ListeningExecutorService pushExecutor = null;
  // use intermediate executor so that deadlock conditions can be prevented
  // where persist and push Executor try to put tasks in each other queues
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
  private final AtomicBoolean closed = new AtomicBoolean(false);

  private volatile ListeningExecutorService persistExecutor = null;
  private volatile ListeningExecutorService pushExecutor = null;
  // use intermediate executor so that deadlock conditions can be prevented
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
  private volatile ListeningExecutorService intermediateTempExecutor = null;
  private volatile long nextFlush;
  private volatile FileLock basePersistDirLock = null;
  private volatile FileChannel basePersistDirLockChannel = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
  private volatile long nextFlush;
  private volatile FileLock basePersistDirLock = null;
  private volatile FileChannel basePersistDirLockChannel = null;

  private volatile Throwable persistError;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
  private final AtomicBoolean closed = new AtomicBoolean(false);

  private volatile ListeningExecutorService persistExecutor = null;
  private volatile ListeningExecutorService pushExecutor = null;
  // use intermediate executor so that deadlock conditions can be prevented
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
  // where persist and push Executor try to put tasks in each other queues
  // thus creating circular dependency
  private volatile ListeningExecutorService intermediateTempExecutor = null;
  private volatile long nextFlush;
  private volatile FileLock basePersistDirLock = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

  private volatile ListeningExecutorService persistExecutor = null;
  private volatile ListeningExecutorService pushExecutor = null;
  // use intermediate executor so that deadlock conditions can be prevented
  // where persist and push Executor try to put tasks in each other queues
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentPublisherProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ObjectMapper jsonMapper = null;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentPublisherProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private SQLMetadataConnector connector = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentPublisherProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private MetadataStorageTablesConfig config = null;

  @JacksonInject
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataRuleManager.java`
#### Snippet
```java
  private final Object lock = new Object();
  /** The number of times this SQLMetadataRuleManager was started. */
  private long startCount = 0;
  /**
   * Equal to the current {@link #startCount} value, if the SQLMetadataRuleManager is currently started; -1 if
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataRuleManager.java`
#### Snippet
```java
   */
  private long currentStartOrder = -1;
  private ScheduledExecutorService exec = null;
  private long failStartTimeMs = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataRuleManager.java`
#### Snippet
```java
  private long currentStartOrder = -1;
  private ScheduledExecutorService exec = null;
  private long failStartTimeMs = 0;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
      title = "Remove exisiting extension and hadoop dependencies directories before pulling down dependencies."
  )
  public boolean clean = false;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
      description = "Don't pull down the default hadoop coordinate, i.e., org.apache.hadoop:hadoop-client if hadoop2 or org.apache.hadoop:hadoop-client-runtime if hadoop3. If `-h` option is supplied, then default hadoop coordinate will not be downloaded."
  )
  public boolean noDefaultHadoop = false;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
      title = "Use http/https proxy to pull dependencies."
  )
  public boolean useProxy = false;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
      description = "Don't use the default remote repositories, only use the repositories provided directly via --remoteRepository"
  )
  public boolean noDefaultRemoteRepositories = false;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
      name = "--decompress-bitmaps",
      title = "Dump bitmaps as arrays rather than base64-encoded compressed bitmaps. Only used if dumping bitmaps.")
  public boolean decompressBitmaps = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
      title = "json",
      description = "Filter, JSON encoded, or omit to include all rows. Only used if dumping rows.")
  public String filterJson = null;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
      name = "--time-iso8601",
      title = "Format __time column in ISO8601 format rather than long. Only used if dumping rows.")
  public boolean timeISO8601 = false;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java

  @GuardedBy("startStopPollLock")
  private @Nullable ScheduledExecutorService exec = null;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
  /** The number of times {@link #startPollingDatabasePeriodically} was called. */
  @GuardedBy("startStopPollLock")
  private long startPollingCount = 0;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
  /** Used to cancel periodic poll task in {@link #stopPollingDatabasePeriodically}. */
  @GuardedBy("startStopPollLock")
  private @Nullable Future<?> periodicPollTaskFuture = null;

  /** The number of times {@link #startPollingDatabasePeriodically} was called. */
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
   * #useLatestIfWithinDelayOrPerformNewDatabasePoll()}.
   */
  private volatile @Nullable DatabasePoll latestDatabasePoll = null;

  /** Used to cancel periodic poll task in {@link #stopPollingDatabasePeriodically}. */
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
   * #useLatestIfWithinDelayOrPerformNewDatabasePoll()} via one of the public methods of SqlSegmentsMetadataManager.
   */
  private volatile @MonotonicNonNull DataSourcesSnapshot dataSourcesSnapshot = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "output-path",
      description = "CSV output path")
  public String outputPath = null;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "use-hex-blobs",
      description = "Write BLOB payloads as hex strings")
  public boolean useHexBlobs = false;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "newLocalPath",
      description = "newLocalPath of the migrated segments")
  public String newLocalPath = null;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "hadoopStorageDirectory",
      description = "hadoopStorageDirectory of the migrated segments")
  public String hadoopStorageDirectory = null;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "s3bucket",
      description = "S3 bucket of the migrated segments")
  public String s3Bucket = null;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "s3baseKey",
      description = "S3 baseKey of the migrated segments")
  public String s3baseKey = null;

  @Option(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java

  @Option(name = "--user", description = "Database username")
  private String user = null;

  @Option(name = "--password", description = "Database password")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
      title = "booleans-as-strings",
      description = "Write boolean values as true/false strings instead of 1/0")
  public boolean booleansAsStrings = false;

  private static final Logger log = new Logger(ExportMetadata.class);
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java

  @Option(name = "--password", description = "Database password")
  private String password = null;

  @Option(name = "--base", description = "Base table name")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/server/router/CoordinatorRuleManager.java`
#### Snippet
```java
  private final Object lock = new Object();

  private volatile boolean started = false;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
  private final Object lock = new Object();

  private volatile boolean started = false;

  private static final Function<DiscoveryDruidNode, Server> TO_SERVER = new Function<DiscoveryDruidNode, Server>()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileWriter.java`
#### Snippet
```java
  private final AppendableMemory tableOfContents;
  private final AppendableMemory partitions;
  private long bytesWritten = 0;
  private int numFrames = 0;
  private boolean usePartitions = true;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileWriter.java`
#### Snippet
```java
  private final AppendableMemory partitions;
  private long bytesWritten = 0;
  private int numFrames = 0;
  private boolean usePartitions = true;
  private ByteBuffer compressionBuffer;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileWriter.java`
#### Snippet
```java
  private boolean usePartitions = true;
  private ByteBuffer compressionBuffer;
  private boolean closed = false;

  private FrameFileWriter(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/read/FrameReaderUtils.java`
#### Snippet
```java
      {
        private RowSignature lastSignature = null;
        private boolean lastSignatureOk = false;

        @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/read/FrameReaderUtils.java`
#### Snippet
```java
      return new Supplier<MemoryRange<Memory>>()
      {
        private RowSignature lastSignature = null;
        private boolean lastSignatureOk = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/util/SettableLongVirtualColumn.java`
#### Snippet
```java
{
  private final String columnName;
  private long theValue = 0;

  public SettableLongVirtualColumn(final String columnName)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/read/columnar/StringFrameColumnReader.java`
#### Snippet
```java
        {
          private int currentRow = -1;
          private List<ByteBuffer> currentValues = null;
          private final RangeIndexedInts indexedInts = new RangeIndexedInts();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/columnar/StringFrameColumnWriter.java`
#### Snippet
```java
  private int lastCumulativeRowLength = 0;
  private int lastRowLength = 0;
  private int lastCumulativeStringLength = 0;
  private int lastStringLength = -1;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/columnar/StringFrameColumnWriter.java`
#### Snippet
```java
  private final AppendableMemory stringData;

  private int lastCumulativeRowLength = 0;
  private int lastRowLength = 0;
  private int lastCumulativeStringLength = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/columnar/StringFrameColumnWriter.java`
#### Snippet
```java

  private int lastCumulativeRowLength = 0;
  private int lastRowLength = 0;
  private int lastCumulativeStringLength = 0;
  private int lastStringLength = -1;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private SettableFuture<?> addChunkBackpressureFuture = null;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private long bytesBuffered = 0;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private int positionInFirstChunk = 0;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private SettableFuture<?> readyForReadingFuture = null;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean noMoreWrites = false;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private long bytesAdded = 0;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/columnar/ColumnarFrameWriter.java`
#### Snippet
```java
  private final AppendableMemory rowOrderMemory;
  private final List<FrameColumnWriter> columnWriters;
  private int numRows = 0;
  private boolean written = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/columnar/ColumnarFrameWriter.java`
#### Snippet
```java
  private final List<FrameColumnWriter> columnWriters;
  private int numRows = 0;
  private boolean written = false;

  public ColumnarFrameWriter(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableInputStreamFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean inputStreamError = false;

  private volatile boolean keepReading = true;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableInputStreamFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private long totalInputStreamBytesRead = 0;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableInputStreamFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private boolean inputStreamFinished = false;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/RowBasedFrameWriter.java`
#### Snippet
```java
  private final AppendableMemory rowOffsetMemory;
  private final AppendableMemory dataMemory;
  private int numRows = 0;
  private boolean written = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/write/RowBasedFrameWriter.java`
#### Snippet
```java
  private final AppendableMemory dataMemory;
  private int numRows = 0;
  private boolean written = false;

  public RowBasedFrameWriter(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private SettableFuture<?> readyForWritingFuture = null;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java

  @GuardedBy("lock")
  private SettableFuture<?> readyForReadingFuture = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorterProgressTracker.java`
#### Snippet
```java

  // This is set to true if the SuperSorter doesn't need to do any work. For example, if there is no input to sort
  private boolean isTriviallyComplete = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/FrameChannelMuxer.java`
#### Snippet
```java

  private final IntSet remainingChannels = new IntOpenHashSet();
  private long rowsRead = 0L;

  public FrameChannelMuxer(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/Bouncer.java`
#### Snippet
```java

  @GuardedBy("lock")
  private int currentCount = 0;

  @GuardedBy("lock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/FrameChannelMerger.java`
#### Snippet
```java
  private final FramePlus[] currentFrames;
  private final long rowLimit;
  private long rowsOutput = 0;
  private int currentPartition = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/FrameChannelMerger.java`
#### Snippet
```java
  private final long rowLimit;
  private long rowsOutput = 0;
  private int currentPartition = 0;

  // ColumnSelectorFactory that always reads from the current row in the merged sequence.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/allocation/HeapMemoryAllocator.java`
#### Snippet
```java
  private final long capacity;

  private long bytesAllocated = 0;

  private HeapMemoryAllocator(final long capacity)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/allocation/ArenaMemoryAllocator.java`
#### Snippet
```java
  private final WritableMemory arena;
  private long allocations = 0;
  private long position = 0;

  private ArenaMemoryAllocator(WritableMemory arena)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/allocation/ArenaMemoryAllocator.java`
#### Snippet
```java
{
  private final WritableMemory arena;
  private long allocations = 0;
  private long position = 0;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/guice/ExtensionsConfig.java`
#### Snippet
```java

  @JsonProperty
  private String hadoopContainerDruidClasspath = null;

  //Only applicable when hadoopContainerDruidClasspath is explicitly specified.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/guice/ExtensionsConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean useExtensionClassloaderFirst = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/guice/ExtensionsConfig.java`
#### Snippet
```java
  //Only applicable when hadoopContainerDruidClasspath is explicitly specified.
  @JsonProperty
  private boolean addExtensionsToHadoopContainer = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/MultiColumnSelectorFactory.java`
#### Snippet
```java
  private final ColumnInspector columnInspector;

  private int currentFactory = 0;

  public MultiColumnSelectorFactory(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java

    @GuardedBy("runAllFullyLock")
    ResultType currentResult = null;

    @GuardedBy("runAllFullyLock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java

    @GuardedBy("runAllFullyLock")
    int outstandingProcessors = 0;

    @GuardedBy("runAllFullyLock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/RunAllFullyWidget.java`
#### Snippet
```java

    @GuardedBy("runAllFullyLock")
    boolean seenFirstResult = false;

    @GuardedBy("runAllFullyLock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private int ultimateMergersRunSoFar = 0;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private int activeProcessors = 0;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private long levelZeroMergersRunSoFar = 0;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
   */
  @GuardedBy("runWorkersLock")
  private Runnable noWorkRunnable = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private List<OutputChannel> outputChannels = null;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private boolean batcherIsRunning = false;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private SettableFuture<OutputChannels> allDone = null;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

  @GuardedBy("runWorkersLock")
  private long inputFramesReadSoFar = 0;

  @GuardedBy("runWorkersLock")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryLimitRowIterator.java`
#### Snippet
```java
  private ScanQuery.ResultFormat resultFormat;
  private long limit;
  private long count = 0;
  private ScanQuery query;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryEngine.java`
#### Snippet
```java
                        return new Iterator<ScanResultValue>()
                        {
                          private long offset = 0;

                          @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryOffsetSequence.java`
#### Snippet
```java
  private class SkippingYieldingAccumulator<OutType> extends DelegatingYieldingAccumulator<OutType, ScanResultValue>
  {
    private long skipped = 0;

    public SkippingYieldingAccumulator(final YieldingAccumulator<OutType, ScanResultValue> accumulator)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean legacy = false;

  public boolean isLegacy()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/spec/MultipleSpecificSegmentSpec.java`
#### Snippet
```java
  private final List<SegmentDescriptor> descriptors;

  private volatile List<Interval> intervals = null;

  @JsonCreator
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/lookup/RegisteredLookupExtractionFn.java`
#### Snippet
```java
{
  // Protected for moving to not-null by `delegateLock`
  private volatile LookupExtractionFn delegate = null;
  private final Object delegateLock = new Object();
  private final LookupExtractorFactoryContainerProvider manager;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/vector/VectorCursorGranularizer.java`
#### Snippet
```java

  // Offset into the vector that we should start reading from.
  private int startOffset = 0;

  // Offset into the vector that is one past the last one we should read.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/vector/VectorCursorGranularizer.java`
#### Snippet
```java

  // Offset into the vector that is one past the last one we should read.
  private int endOffset = 0;

  private VectorCursorGranularizer(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/vector/VectorCursorGranularizer.java`
#### Snippet
```java
  // Current time vector.
  @Nullable
  private long[] timestamps = null;

  // Offset into the vector that we should start reading from.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean singleThreaded = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private int bufferGrouperInitialBuckets = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private float bufferGrouperMaxLoadFactor = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean forceHashAggregation = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean forcePushDownNestedQuery = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean intermediateResultAsMapCompat = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean mergeThreadLocal = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean applyLimitPushDownToSegment = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean forcePushDownLimit = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/having/DimFilterHavingSpec.java`
#### Snippet
```java

  private Int2ObjectMap<Function<Object, Object>> finalizers = new Int2ObjectArrayMap<>();
  private ValueMatcher matcher = null;
  private int evalCount;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferArrayGrouper.java`
#### Snippet
```java
  private final int recordSize; // size of all aggregated values

  private boolean initialized = false;
  private WritableMemory usedFlagMemory;
  private ByteBuffer valBuffer;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferArrayGrouper.java`
#### Snippet
```java
  private int[] vAggregationPositions = null;
  @Nullable
  private int[] vAggregationRows = null;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferArrayGrouper.java`
#### Snippet
```java
  // Scratch objects used by aggregateVector(). Only set if initVectorized() is called.
  @Nullable
  private int[] vAggregationPositions = null;
  @Nullable
  private int[] vAggregationRows = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
        final ReusableEntry<KeyType> reusableEntry = ReusableEntry.create(keySerde, aggregators.size());

        int curr = 0;
        final int size = getSize();

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
  private static final float DEFAULT_MAX_LOAD_FACTOR = 0.7f;

  private boolean initialized = false;

  // The BufferHashGrouper normally sorts by all fields of the grouping key with lexicographic ascending order.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
        final ReusableEntry<KeyType> reusableEntry = ReusableEntry.create(keySerde, aggregators.size());

        int curr = 0;
        final int size = getSize();

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
  private boolean initialized = false;

  private boolean hasIterated = false;
  private int offsetHeapIterableSize = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
      {
        final ReusableEntry<KeyType> reusableEntry = ReusableEntry.create(keySerde, aggregators.size());
        int curr = 0;

        @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
    private List<OrderByColumnSpec> columns = Collections.emptyList();
    private Integer offset = null;
    private Integer limit = null;

    private Builder()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
  // pushing down limit and the sort order includes aggregators
  private BufferGrouperOffsetHeapIndexUpdater heapIndexUpdater;
  private boolean initialized = false;

  private boolean hasIterated = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
  {
    private List<OrderByColumnSpec> columns = Collections.emptyList();
    private Integer offset = null;
    private Integer limit = null;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
    {
      final ReusableEntry<KeyType> reusableEntry = ReusableEntry.create(keySerde, aggregators.size());
      int curr = 0;

      @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java

  private boolean hasIterated = false;
  private int offsetHeapIterableSize = 0;

  public LimitedBufferHashGrouper(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedTemporaryStorage.java`
#### Snippet
```java
  private final Set<File> files = new TreeSet<>();

  private volatile boolean closed = false;

  private boolean createdStorageDirectory = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedTemporaryStorage.java`
#### Snippet
```java
  private volatile boolean closed = false;

  private boolean createdStorageDirectory = false;

  public LimitedTemporaryStorage(File storageDirectory, long maxBytesUsed)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  private int[] vKeyHashCodes = null;
  @Nullable
  private int[] vAggregationPositions = null;
  @Nullable
  private int[] vAggregationRows = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  // Scratch objects used by aggregateVector(). Set by initVectorized().
  @Nullable
  private int[] vKeyHashCodes = null;
  @Nullable
  private int[] vAggregationPositions = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java

  private ByteBuffer buffer;
  private int tableStart = 0;

  @Nullable
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  private static final float DEFAULT_MAX_LOAD_FACTOR = 0.7f;

  private boolean initialized = false;
  private int maxNumBuckets;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  private int[] vAggregationPositions = null;
  @Nullable
  private int[] vAggregationRows = null;

  public HashVectorGrouper(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
  private final AtomicInteger threadNumber = new AtomicInteger();
  private volatile boolean spilling = false;
  private volatile boolean closed = false;

  private final Supplier<ByteBuffer> bufferSupplier;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
  private final ThreadLocal<SpillingGrouper<KeyType>> threadLocalGrouper;
  private final AtomicInteger threadNumber = new AtomicInteger();
  private volatile boolean spilling = false;
  private volatile boolean closed = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
  private final boolean mergeThreadLocal;

  private volatile boolean initialized = false;

  public ConcurrentGrouper(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
    return new Supplier<ByteBuffer>()
    {
      private int i = 0;

      @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

    @Nullable
    protected CloseableGrouperIterator<KeyType, ResultRow> delegate = null;
    protected final boolean allSingleValueDims;
    protected final boolean allowMultiValueGrouping;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

    // Sum of internal state footprint across all "dims".
    private long selectorInternalFootprint = 0;

    public HashAggregateIterator(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

    private int stackPointer = Integer.MIN_VALUE;
    private boolean currentRowWasPartiallyAggregated = false;

    // Sum of internal state footprint across all "dims".
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/SpillingGrouper.java`
#### Snippet
```java
  private final boolean sortHasNonGroupingFields;

  private boolean diskFull = false;
  private boolean spillingAllowed;

```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/column/ArrayNumericGroupByColumnSelectorStrategy.java`
#### Snippet
```java
  protected final List<List<T>> dictionary;
  protected final Object2IntMap<List<T>> reverseDictionary;
  protected long estimatedFootprint = 0L;

  private final int valueFootprint;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/column/ArrayStringGroupByColumnSelectorStrategy.java`
#### Snippet
```java
  private final BiMap<ComparableIntArray, Integer> intListToInt;

  private long estimatedFootprint = 0L;

  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/collection/MemoryOpenHashTable.java`
#### Snippet
```java
    return new IntIterator()
    {
      private int curr = 0;
      private int currBucket = -1;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java

    @Nullable
    private CloseableGrouperIterator<MemoryPointer, ResultRow> delegate = null;

    VectorGroupByEngineIterator(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java

    // Sum of internal state footprint across all "selectors".
    private long selectorInternalFootprint = 0;

    @Nullable
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/operator/NaiveSortOperator.java`
#### Snippet
```java
        new Receiver()
        {
          NaiveSortMaker.NaiveSorter sorter = null;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/aggregation/FilteredVectorAggregator.java`
#### Snippet
```java

  @Nullable
  private VectorMatch maskScratch = null;

  public FilteredVectorAggregator(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericVectorAggregator.java`
#### Snippet
```java

  @Nullable
  private int[] vAggregationRows = null;

  NullableNumericVectorAggregator(VectorAggregator delegate, VectorValueSelector selector)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericVectorAggregator.java`
#### Snippet
```java

  @Nullable
  private int[] vAggregationPositions = null;

  @Nullable
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/aggregation/CountAggregator.java`
#### Snippet
```java
  }

  private long count = 0;

  public CountAggregator()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
    private List<List<String>> subtotalsSpec = null;
    @Nullable
    private LimitSpec limitSpec = null;
    @Nullable
    private Function<Sequence<ResultRow>, Sequence<ResultRow>> postProcessingFn;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java

    @Nullable
    private List<List<String>> subtotalsSpec = null;
    @Nullable
    private LimitSpec limitSpec = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
    private final long maxDictionarySize;

    private long currentEstimatedSize = 0;

    // dictionary id -> rank of the sorted dictionary
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
    // respectively.
    @Nullable
    private int[] rankOfDictionaryIds = null;

    RowBasedKeySerde(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/query/rowsandcols/AppendableMapOfColumns.java`
#### Snippet
```java
  private final RowsAndColumns base;
  private final LinkedHashMap<String, Column> appendedColumns;
  private Set<String> colNames = null;

  public AppendableMapOfColumns(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/query/monomorphicprocessing/StringRuntimeShape.java`
#### Snippet
```java
  {
    private final StringBuilder sb = new StringBuilder();
    private int indent = 0;

    String runtimeShapeOf(HotLoopCallee hotLoopCallee)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/jackson/DruidDefaultSerializersModule.java`
#### Snippet
```java
                {
                  // Save allocations in jgen.writeObject by caching serializer.
                  JsonSerializer<Object> serializer = null;
                  Class<?> serializerClass = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/jackson/DruidDefaultSerializersModule.java`
#### Snippet
```java
                  // Save allocations in jgen.writeObject by caching serializer.
                  JsonSerializer<Object> serializer = null;
                  Class<?> serializerClass = null;

                  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java

  protected int dictionarySize;
  protected int rowCount = 0;
  protected int cardinality = 0;
  protected boolean hasNull = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  protected int rowCount = 0;
  protected int cardinality = 0;
  protected boolean hasNull = false;

  @Nullable
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  protected int dictionarySize;
  protected int rowCount = 0;
  protected int cardinality = 0;
  protected boolean hasNull = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/IdMapping.java`
#### Snippet
```java
    private final Int2IntOpenHashMap forwardMapping;
    private final int[] reverseMapping;
    private int count = 0;
    private final boolean knownCardinality;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/MergingRowIterator.java`
#### Snippet
```java
  /** This field is needed for some optimization, see the comment where it is used. */
  @Nullable
  private RowIterator lastMarkedHead = null;

  MergingRowIterator(List<TransformableRowIterator> iterators)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/DoubleColumnSerializerV2.java`
#### Snippet
```java
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;

  private DoubleColumnSerializerV2(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnIndexer.java`
#### Snippet
```java
public class NestedDataColumnIndexer implements DimensionIndexer<StructuredData, StructuredData, StructuredData>
{
  protected volatile boolean hasNulls = false;

  protected SortedMap<String, LiteralFieldIndexer> fieldIndexers = new TreeMap<>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnIndexer.java`
#### Snippet
```java
  protected final GlobalDimensionDictionary globalDictionary = new GlobalDimensionDictionary();

  int estimatedFieldKeySize = 0;

  protected final StructuredDataProcessor indexerProcessor = new StructuredDataProcessor()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/FloatDimensionIndexer.java`
#### Snippet
```java
  public static final Comparator<Float> FLOAT_COMPARATOR = Comparators.naturalNullsFirst();

  private volatile boolean hasNulls = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/MetricHolder.java`
#### Snippet
```java
  private final MetricType type;
  @Nullable
  CompressedColumnarFloatsSupplier floatType = null;
  @Nullable
  GenericIndexed<?> complexType = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/MetricHolder.java`
#### Snippet
```java
  CompressedColumnarFloatsSupplier floatType = null;
  @Nullable
  GenericIndexed<?> complexType = null;

  private MetricHolder(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/FloatColumnSerializerV2.java`
#### Snippet
```java
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;

  private FloatColumnSerializerV2(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/LongDimensionIndexer.java`
#### Snippet
```java
  public static final Comparator<Long> LONG_COMPARATOR = Comparators.naturalNullsFirst();

  private volatile boolean hasNulls = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/RowBasedCursor.java`
#### Snippet
```java
  private final ValueMatcher valueMatcher;

  private long rowId = 0;

  RowBasedCursor(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/RowNumCounter.java`
#### Snippet
```java
public final class RowNumCounter implements IntSupplier
{
  private int rowNum = 0;

  public RowNumCounter()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnIndexer.java`
#### Snippet
```java
{
  protected final DimensionDictionary<ActualType> dimLookup;
  protected volatile boolean isSparse = false;

  @Nullable
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/SingleScanTimeDimensionSelector.java`
#### Snippet
```java

  @Nullable
  private String currentValue = null;

  public SingleScanTimeDimensionSelector(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/DimensionDictionary.java`
#### Snippet
```java
  private T minValue = null;
  @Nullable
  private T maxValue = null;
  private volatile int idForNull = ABSENT_VALUE_ID;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/DimensionDictionary.java`
#### Snippet
```java

  @Nullable
  private T minValue = null;
  @Nullable
  private T maxValue = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/ColumnCache.java`
#### Snippet
```java
      {
        @Nullable
        private BaseColumn theColumn = null;

        @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/DoubleDimensionIndexer.java`
#### Snippet
```java
  public static final Comparator<Double> DOUBLE_COMPARATOR = Comparators.naturalNullsFirst();

  private volatile boolean hasNulls = false;

  @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/LongColumnSerializerV2.java`
#### Snippet
```java
  private ByteBufferWriter<ImmutableBitmap> nullValueBitmapWriter;
  private MutableBitmap nullRowsBitmap;
  private int rowCount = 0;

  private LongColumnSerializerV2(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/V3CompressedVSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  private final CompressedVSizeColumnarIntsSerializer valueWriter;
  private int offset;
  private boolean lastOffsetWritten = false;

  V3CompressedVSizeColumnarMultiIntsSerializer(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java
  private T minValue = null;
  @Nullable
  private T maxValue = null;
  private volatile int idForNull = ABSENT_VALUE_ID;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java

  @Nullable
  private T minValue = null;
  @Nullable
  private T maxValue = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/ColumnarFloats.java`
#### Snippet
```java

      @Nullable
      private boolean[] nullVector = null;

      private ColumnarFloatsVectorValueSelector()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
  private final boolean hasSpatialIndexes;
  private final boolean useMaxMemoryEstimates;
  private volatile boolean hasMultipleValues = false;

  public StringDimensionIndexer(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/ColumnarDoubles.java`
#### Snippet
```java

      @Nullable
      private boolean[] nullVector = null;

      private ColumnarDoublesVectorValueSelector()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarLongsSerializer.java`
#### Snippet
```java
  private final GenericIndexedWriter<ByteBuffer> flattener;
  private final CompressionStrategy compression;
  private int numInserted = 0;
  private int numInsertedForNextFlush;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/IntermediateColumnarLongsSerializer.java`
#### Snippet
```java

  @Nullable
  private LongList tempOut = null;
  @Nullable
  private ColumnarLongsSerializer delegate;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/IntermediateColumnarLongsSerializer.java`
#### Snippet
```java
  private final CompressionStrategy compression;

  private int numInserted = 0;

  private final Long2IntMap uniqueValues = new Long2IntOpenHashMap();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java

  @Nullable
  private WriteOutBytes valuesOut = null;

  public VSizeColumnarIntsSerializer(final SegmentWriteOutMedium segmentWriteOutMedium, final int maxValue)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java

  private final ByteBuffer helperBuffer = ByteBuffer.allocate(Integer.BYTES);
  private boolean bufPaddingWritten = false;

  @Nullable
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/LongsLongEncodingWriter.java`
#### Snippet
```java
  private final ByteOrder order;
  @Nullable
  private ByteBuffer outBuffer = null;
  @Nullable
  private OutputStream outStream = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/LongsLongEncodingWriter.java`
#### Snippet
```java
  private ByteBuffer outBuffer = null;
  @Nullable
  private OutputStream outStream = null;

  public LongsLongEncodingWriter(ByteOrder order)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/CachingIndexed.java`
#### Snippet
```java
  {
    private final int maxBytes;
    private int numBytes = 0;

    SizedLRUMap(int initialCapacity, int maxBytes)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarDoublesSerializer.java`
#### Snippet
```java
  private final CompressionStrategy compression;

  private int numInserted = 0;
  @Nullable
  private ByteBuffer endBuffer;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexed.java`
#### Snippet
```java
    return new Iterator<ByteBuffer>()
    {
      private int currIndex = 0;
      private int currentBucketIndex = 0;
      private ByteBuffer[] currentBucket = firstBucket;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexed.java`
#### Snippet
```java
    {
      private int currIndex = 0;
      private int currentBucketIndex = 0;
      private ByteBuffer[] currentBucket = firstBucket;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/ColumnarLongs.java`
#### Snippet
```java

      @Nullable
      private boolean[] nullVector = null;

      private ColumnarLongsVectorValueSelector()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  private final SegmentWriteOutMedium segmentWriteOutMedium;
  @Nullable
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private boolean numBytesForMaxWritten = false;

  public VSizeColumnarMultiIntsSerializer(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  @Nullable
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private boolean numBytesForMaxWritten = false;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private boolean numBytesForMaxWritten = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
  private int numWritten;
  @Nullable
  private WriteOutBytes valuesOut = null;

  private final boolean isSorted;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
      }

      int pos = 0;
      @Override
      public boolean hasNext()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valueOut = null;

  public ByteBufferWriter(SegmentWriteOutMedium segmentWriteOutMedium, ObjectStrategy<T> strategy)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java

  @Nullable
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valueOut = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/EntireLayoutColumnarLongsSerializer.java`
#### Snippet
```java
  private WriteOutBytes valuesOut;

  private int numInserted = 0;

  EntireLayoutColumnarLongsSerializer(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
  private boolean isSorted;
  @Nullable
  private T prevObject = null;
  private final int width;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
  @Nullable
  private WriteOutBytes valuesOut = null;
  private boolean hasNulls = false;
  private boolean isSorted;
  @Nullable
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
    return new Iterator<T>()
    {
      int pos = 0;
      @Override
      public boolean hasNext()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
  private int numWritten;
  @Nullable
  private WriteOutBytes valuesOut = null;
  private boolean hasNulls = false;
  private boolean isSorted;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/IndexedIterable.java`
#### Snippet
```java
    return new Iterator<T>()
    {
      private int currIndex = 0;

      @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
  private int logScratchSize = 10;
  private boolean isClosed = false;
  private boolean hasNulls = false;

  public FrontCodedIndexedWriter(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
  @Nullable
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private ByteBuffer scratch;
  private int logScratchSize = 10;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private ByteBuffer scratch;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java

  @Nullable
  private byte[] prevObject = null;
  @Nullable
  private WriteOutBytes headerOut = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
  private byte[] prevObject = null;
  @Nullable
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
  private ByteBuffer scratch;
  private int logScratchSize = 10;
  private boolean isClosed = false;
  private boolean hasNulls = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java
                      .allocateInBuffer(chunkFactor * Integer.BYTES, closer)
                      .order(byteOrder);
                  int position = 0;

                  @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java

  @Nullable
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;

  public CompressedBlockSerializer(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/EntireLayoutColumnarFloatsSerializer.java`
#### Snippet
```java
  private WriteOutBytes valuesOut;

  private int numInserted = 0;

  EntireLayoutColumnarFloatsSerializer(String columnName, SegmentWriteOutMedium segmentWriteOutMedium, ByteOrder order)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarFloatsSerializer.java`
#### Snippet
```java
  private final CompressionStrategy compression;

  private int numInserted = 0;
  @Nullable
  private ByteBuffer endBuffer;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/EntireLayoutColumnarDoublesSerializer.java`
#### Snippet
```java
  private WriteOutBytes valuesOut;

  private int numInserted = 0;

  public EntireLayoutColumnarDoublesSerializer(String columnName, SegmentWriteOutMedium segmentWriteOutMedium, ByteOrder order)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private boolean objectsSorted = true;
  @Nullable
  private T prevObject = null;
  @Nullable
  private WriteOutBytes headerOut = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private T prevObject = null;
  @Nullable
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private boolean requireMultipleFiles = false;
  @Nullable
  private LongList headerOutLong;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private WriteOutBytes headerOut = null;
  @Nullable
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private boolean requireMultipleFiles = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  @Nullable
  private WriteOutBytes valuesOut = null;
  private int numWritten = 0;
  private boolean requireMultipleFiles = false;
  @Nullable
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java
                return new Iterator<ByteBuffer>()
                {
                  int position = 0;
                  private final ByteBuffer retVal =
                      compression.getCompressor().allocateInBuffer(chunkBytes, closer).order(byteOrder);
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/HashJoinEngine.java`
#### Snippet
```java
    class JoinColumnSelectorFactory implements ColumnSelectorFactory, RowIdSupplier
    {
      private long rowId = 0;

      @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    OutputStream output = null;
    ByteBuffer buffer;
    byte curByte = 0;
    int count = 0;
    private boolean closed = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
  {
    @Nullable
    OutputStream output = null;
    ByteBuffer buffer;
    byte curByte = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    ByteBuffer buffer;
    byte curByte = 0;
    int count = 0;
    private boolean closed = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    ByteBuffer buffer;
    int numBytes;
    private boolean closed = false;

    public Mult8Ser(OutputStream output, int numBytes)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    byte curByte = 0;
    boolean first = true;
    private boolean closed = false;

    public Mult4Ser(OutputStream output, int numBytes)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    ByteBuffer buffer;
    byte curByte = 0;
    int count = 0;
    private boolean closed = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    OutputStream output = null;
    ByteBuffer buffer;
    byte curByte = 0;
    int count = 0;
    private boolean closed = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    byte curByte = 0;
    int count = 0;
    private boolean closed = false;

    public Size2Ser(OutputStream output)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    byte curByte = 0;
    int count = 0;
    private boolean closed = false;

    public Size1Ser(OutputStream output)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
  {
    @Nullable
    OutputStream output = null;
    ByteBuffer buffer;
    byte curByte = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
    ByteBuffer buffer;
    int numBytes;
    byte curByte = 0;
    boolean first = true;
    private boolean closed = false;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/PossiblyNullDimensionSelector.java`
#### Snippet
```java
  {
    private final int nullAdjustment;
    private IndexedInts ints = null;

    public NullAdjustedIndexedInts(int nullAdjustment)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/table/RowBasedIndexBuilder.java`
#### Snippet
```java

  private int currentRow = 0;
  private int nullKeys = 0;
  private final ColumnType keyType;
  private final Map<Object, IntList> index;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/table/RowBasedIndexBuilder.java`
#### Snippet
```java
  private static final long INT_ARRAY_SMALL_SIZE_OK = 250_000;

  private int currentRow = 0;
  private int nullKeys = 0;
  private final ColumnType keyType;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
  // matchedRows and matchingRemainder are used to implement matchRemainder().
  private final IntSet matchedRows;
  private boolean matchingRemainder = false;

  // currentIterator and currentRow are used to track iteration position through the currently-matched-rows.
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerde.java`
#### Snippet
```java
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;

    public SerializerBuilder withByteOrder(final ByteOrder byteOrder)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerde.java`
#### Snippet
```java
  {
    @Nullable
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerde.java`
#### Snippet
```java
  {
    @Nullable
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerde.java`
#### Snippet
```java
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;

    public SerializerBuilder withByteOrder(final ByteOrder byteOrder)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java

  // matchedKeys and matchingRemainder are used to implement matchRemainder().
  private boolean matchingRemainder = false;
  private final Set<String> matchedKeys;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/join/lookup/LookupJoinMatcher.java`
#### Snippet
```java
  // 2) currentIterator contains future matches that it _will_ be looking at after nextMatch() is called.
  @Nullable
  private Iterator<Map.Entry<String, String>> currentIterator = null;
  private final SettableSupplier<Pair<String, String>> currentEntry = new SettableSupplier<>();

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerde.java`
#### Snippet
```java
  {
    @Nullable
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerde.java`
#### Snippet
```java
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;

    public SerializerBuilder withByteOrder(final ByteOrder byteOrder)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java`
#### Snippet
```java
  {
    @Nullable
    private String typeName = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java`
#### Snippet
```java
    private String typeName = null;
    @Nullable
    private Serializer delegate = null;

    public SerializerBuilder withTypeName(final String typeName)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
  {
    @Nullable
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
    private Serializer delegate = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;

    public SerializerBuilder withByteOrder(final ByteOrder byteOrder)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
    private Serializer delegate = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;

    public SerializerBuilder withByteOrder(final ByteOrder byteOrder)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
  {
    @Nullable
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
  {
    @Nullable
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
    private ByteOrder byteOrder = null;
    @Nullable
    private Serializer delegate = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
    private Serializer delegate = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;

    public SerializerBuilder withByteOrder(final ByteOrder byteOrder)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/cell/CellIndexWriter.java`
#### Snippet
```java
  private final BlockCompressedPayloadWriter payloadWriter;

  private long position = 0;
  private boolean open = true;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/cell/IndexWriter.java`
#### Snippet
```java

  private boolean open = true;
  private long position = 0;

  public IndexWriter(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    private ColumnarIntsSerializer valueWriter = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;
    @Nullable
    private GenericIndexedWriter<ImmutableBitmap> bitmapIndexWriter = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java

    @Nullable
    private VERSION version = null;
    @Nullable
    private DictionaryWriter<String> dictionaryWriter = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    private GenericIndexedWriter<ImmutableBitmap> bitmapIndexWriter = null;
    @Nullable
    private ByteBufferWriter<ImmutableRTree> spatialIndexWriter = null;
    @Nullable
    private ByteOrder byteOrder = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    private BitmapSerdeFactory bitmapSerdeFactory = null;
    @Nullable
    private GenericIndexedWriter<ImmutableBitmap> bitmapIndexWriter = null;
    @Nullable
    private ByteBufferWriter<ImmutableRTree> spatialIndexWriter = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    private DictionaryWriter<String> dictionaryWriter = null;
    @Nullable
    private ColumnarIntsSerializer valueWriter = null;
    @Nullable
    private BitmapSerdeFactory bitmapSerdeFactory = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    private VERSION version = null;
    @Nullable
    private DictionaryWriter<String> dictionaryWriter = null;
    @Nullable
    private ColumnarIntsSerializer valueWriter = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    private ByteBufferWriter<ImmutableRTree> spatialIndexWriter = null;
    @Nullable
    private ByteOrder byteOrder = null;

    public SerializerBuilder withDictionary(DictionaryWriter<String> dictionaryWriter)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnCapabilitiesImpl.java`
#### Snippet
```java

  private boolean hasInvertedIndexes = false;
  private boolean hasSpatialIndexes = false;
  private Capable dictionaryEncoded = Capable.UNKNOWN;
  private Capable hasMultipleValues = Capable.UNKNOWN;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnCapabilitiesImpl.java`
#### Snippet
```java

  @Nullable
  private ValueType type = null;
  @Nullable
  private String complexTypeName;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnCapabilitiesImpl.java`
#### Snippet
```java
  private TypeSignature<ValueType> elementType;

  private boolean hasInvertedIndexes = false;
  private boolean hasSpatialIndexes = false;
  private Capable dictionaryEncoded = Capable.UNKNOWN;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnDescriptor.java`
#### Snippet
```java
    private ValueType valueType = null;
    @Nullable
    private Boolean hasMultipleValues = null;

    private final List<ColumnPartSerde> parts = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnDescriptor.java`
#### Snippet
```java
  {
    @Nullable
    private ValueType valueType = null;
    @Nullable
    private Boolean hasMultipleValues = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/IndexedStringDruidPredicateIndex.java`
#### Snippet
```java
          @Nullable
          String next = null;
          boolean nextSet = false;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/IndexedStringDruidPredicateIndex.java`
#### Snippet
```java
          final Iterator<String> iterator = dictionary.iterator();
          @Nullable
          String next = null;
          boolean nextSet = false;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnBuilder.java`
#### Snippet
```java
  private ColumnIndexSupplier indexSupplier = NoIndexesColumnIndexSupplier.getInstance();
  @Nullable
  private SmooshedFileMapper fileMapper = null;

  public ColumnCapabilitiesImpl getCapabilitiesBuilder()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/ColumnBuilder.java`
#### Snippet
```java

  @Nullable
  private Supplier<? extends BaseColumn> columnSupplier = null;
  @Nullable
  private ColumnIndexSupplier indexSupplier = NoIndexesColumnIndexSupplier.getInstance();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/column/IndexedUtf8ValueSetIndex.java`
#### Snippet
```java
            final PeekingIterator<ByteBuffer> dictionaryIterator = Iterators.peekingIterator(dictionary.iterator());
            int next = -1;
            int idx = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/StructuredData.java`
#### Snippet
```java

  private final Object value;
  private volatile boolean hashInitialized = false;
  private volatile long hashValue;
  private final LongSupplier hash = () -> {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/LocalDimensionDictionary.java`
#### Snippet
```java
  }
  
  private int nextLocalId = 0;
  
  public int add(int originalValue)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedLiteralTypeInfo.java`
#### Snippet
```java
    private final SegmentWriteOutMedium segmentWriteOutMedium;
    @Nullable
    private WriteOutBytes valuesOut = null;
    private int numWritten = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedLiteralTypeInfo.java`
#### Snippet
```java
    @Nullable
    private WriteOutBytes valuesOut = null;
    private int numWritten = 0;

    public Writer(SegmentWriteOutMedium segmentWriteOutMedium)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/GlobalDictionaryEncodedFieldColumnWriter.java`
#### Snippet
```java
  // maybe someday we allow no bitmap indexes or multi-value columns
  protected int flags = DictionaryEncodedColumnPartSerde.NO_FLAGS;
  protected DictionaryEncodedColumnPartSerde.VERSION version = null;
  protected SingleValueColumnarIntsSerializer encodedValueSerializer;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/vector/FilteredVectorOffset.java`
#### Snippet
```java
  private final int[] offsets;
  private int currentVectorSize = 0;
  private boolean allTrue = false;

  private FilteredVectorOffset(final VectorOffset baseOffset, final VectorValueMatcher filterMatcher)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/vector/FilteredVectorOffset.java`
#### Snippet
```java
  private final VectorValueMatcher filterMatcher;
  private final int[] offsets;
  private int currentVectorSize = 0;
  private boolean allTrue = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedDataColumnSerializer.java`
#### Snippet
```java
  private MutableBitmap nullRowsBitmap;
  private Map<String, GlobalDictionaryEncodedFieldColumnWriter<?>> fieldWriters;
  private int rowCount = 0;
  private boolean closedForWrite = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedDataColumnSerializer.java`
#### Snippet
```java
  private Map<String, GlobalDictionaryEncodedFieldColumnWriter<?>> fieldWriters;
  private int rowCount = 0;
  private boolean closedForWrite = false;

  public NestedDataColumnSerializer(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          private final long[] valueVector = new long[offset.getMaxVectorSize()];
          @Nullable
          private boolean[] nullVector = null;
          private int id = ReadableVectorInspector.NULL_ID;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          private final double[] valueVector = new double[offset.getMaxVectorSize()];
          @Nullable
          private boolean[] nullVector = null;
          private int id = ReadableVectorInspector.NULL_ID;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            int next;
            int index = 0;
            boolean nextSet = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            final Iterator<Integer> iterator = localDictionary.iterator();
            int next;
            int index = 0;
            boolean nextSet = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            int next;
            int index;
            boolean nextSet = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            final Iterator<Integer> iterator = localDictionary.iterator();
            int next;
            int index = 0;
            boolean nextSet = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            int next;
            int index = 0;
            boolean nextSet = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            final Iterator<Integer> iterator = localDictionary.iterator();
            int next;
            int index = 0;
            boolean nextSet = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            final LongIterator iterator = longs.iterator();
            int next = -1;
            boolean nullChecked = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            final DoubleIterator iterator = doubles.iterator();
            int next = -1;
            boolean nullChecked = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            int next;
            int index = 0;
            boolean nextSet = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
          {
            final Iterator<String> iterator = values.iterator();
            IntIterator nextIterator = null;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java

        @Nullable
        private boolean[] nullVector = null;
        private int id = ReadableVectorInspector.NULL_ID;
        @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java

        @Nullable
        private boolean[] nullVector = null;
        private int id = ReadableVectorInspector.NULL_ID;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/generator/DataGenerator.java`
#### Snippet
```java
        new Supplier<InputRow>()
        {
          int i = 0;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexRowHolder.java`
#### Snippet
```java
{
  @Nullable
  private IncrementalIndexRow currEntry = null;

  public IncrementalIndexRow get()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/AppendableIndexBuilder.java`
#### Snippet
```java
  // DruidInputSource since that is the only case where we can have existing metrics.
  // This is currently only use by auto compaction and should not be use for anything else.
  protected boolean preserveExistingMetrics = false;
  protected boolean useMaxMemoryEstimates = true;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/AppendableIndexBuilder.java`
#### Snippet
```java
  protected boolean concurrentEventAdd = false;
  protected boolean sortFacts = true;
  protected int maxRowCount = 0;
  protected long maxBytesInMemory = 0;
  // When set to true, for any row that already has metric (with the same name defined in metricSpec),
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/AppendableIndexBuilder.java`
#### Snippet
```java
  protected IncrementalIndexSchema incrementalIndexSchema = null;
  protected boolean deserializeComplexMetrics = true;
  protected boolean concurrentEventAdd = false;
  protected boolean sortFacts = true;
  protected int maxRowCount = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/AppendableIndexBuilder.java`
#### Snippet
```java
{
  @Nullable
  protected IncrementalIndexSchema incrementalIndexSchema = null;
  protected boolean deserializeComplexMetrics = true;
  protected boolean concurrentEventAdd = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/AppendableIndexBuilder.java`
#### Snippet
```java
  protected boolean sortFacts = true;
  protected int maxRowCount = 0;
  protected long maxBytesInMemory = 0;
  // When set to true, for any row that already has metric (with the same name defined in metricSpec),
  // the metric aggregator in metricSpec is skipped and the existing metric is unchanged. If the row does not already have
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/collections/IntegerSet.java`
#### Snippet
```java
    private final IntIterator intIt;
    private final MutableBitmap bitSet;
    private Integer prior = null;

    public BitSetIterator(MutableBitmap bitSet)
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `processing/src/main/java/org/apache/druid/collections/spatial/ImmutableNode.java`
#### Snippet
```java
        return new Iterator<ImmutableNode>()
        {
          private int count = 0;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
  private volatile Map<String, ColumnSelectorFactory> combiningAggSelectors;
  @Nullable
  private String outOfRowsReason = null;

  OnheapIncrementalIndex(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
  private int oneFillFirstInt = 1;
  private int oneFillLastInt = -1;
  private int oneFillCurrent = 0;
  private int oneFillException = -1;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
  private boolean literalAndZeroFill;
  private int nextIndex = 0;
  private int nextOffset = 0;
  private int next;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java

  private boolean literalAndZeroFill;
  private int nextIndex = 0;
  private int nextOffset = 0;
  private int next;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java

  private final int[] literalAndZeroFillBuffer = new int[ConciseSetUtils.MAX_LITERAL_LENGTH];
  private int literalAndZeroFillLen = 0;
  private int literalAndZeroFillCurrent = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/BitIterator.java`
#### Snippet
```java
  private final int[] literalAndZeroFillBuffer = new int[ConciseSetUtils.MAX_LITERAL_LENGTH];
  private int literalAndZeroFillLen = 0;
  private int literalAndZeroFillCurrent = 0;

  private int literalAndZeroFillAdvance()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    final int[] buffer = new int[ConciseSetUtils.MAX_LITERAL_LENGTH];
    int len = 0;
    int current = 0;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    WordExpander exp;
    int nextIndex = 0;
    int nextOffset = 0;

    private BitIterator()
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
     */
    WordExpander exp;
    int nextIndex = 0;
    int nextOffset = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
  {
    final int[] buffer = new int[ConciseSetUtils.MAX_LITERAL_LENGTH];
    int len = 0;
    int current = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    int firstInt = 1;
    int lastInt = -1;
    int current = 0;
    int exception = -1;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogram.java`
#### Snippet
```java
  private int numBuckets;

  private long upperOutlierCount = 0;
  private long lowerOutlierCount = 0;
  private long missingValueCount = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogram.java`
#### Snippet
```java
  private OutlierHandlingMode outlierHandlingMode;

  private long count = 0;
  private double max = Double.NEGATIVE_INFINITY;
  private double min = Double.POSITIVE_INFINITY;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogram.java`
#### Snippet
```java

  private long upperOutlierCount = 0;
  private long lowerOutlierCount = 0;
  private long missingValueCount = 0;
  private long[] histogram;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogram.java`
#### Snippet
```java
  private long upperOutlierCount = 0;
  private long lowerOutlierCount = 0;
  private long missingValueCount = 0;
  private long[] histogram;
  private double bucketSize;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
    int word;

    private boolean hasNextWord = false;

    WordIterator()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java

  @Nullable
  private volatile Double cachedEstimate = null;
  @Nullable
  private volatile Sketch cachedSketch = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
  private volatile Double cachedEstimate = null;
  @Nullable
  private volatile Sketch cachedSketch = null;

  private SketchHolder(Object obj)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/HdfsStorageDruidModule.java`
#### Snippet
```java
{
  static final String SCHEME = "hdfs";
  private Properties props = null;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/inputsource/hdfs/HdfsInputSource.java`
#### Snippet
```java
  //    migrating from Hadoop.
  @Nullable
  private List<Path> cachedPaths = null;

  @JsonCreator
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean disableAcl = false;

  @VisibleForTesting
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String s3Prefix = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String s3Bucket = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPusherConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean disableAcl = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPusherConfig.java`
#### Snippet
```java
  // use s3n by default for backward compatibility
  @JsonProperty
  private boolean useS3aSchema = false;

  public void setBucket(String bucket)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
    return new FileObject()
    {
      S3Object s3Object = null;
      S3ObjectSummary objectSummary = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentPuller.java`
#### Snippet
```java
    {
      S3Object s3Object = null;
      S3ObjectSummary objectSummary = null;

      @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/orc-extensions/src/main/java/org/apache/druid/data/input/orc/OrcExtensionsModule.java`
#### Snippet
```java
public class OrcExtensionsModule implements DruidModule
{
  private Properties props = null;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/orc-extensions/src/main/java/org/apache/druid/data/input/orc/OrcReader.java`
#### Snippet
```java
    {
      final NullWritable key = recordReader.createKey();
      OrcStruct value = null;

      @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String prefix = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String container = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/PassthroughAggregator.java`
#### Snippet
```java
{
  private final BaseObjectColumnValueSelector<?> selector;
  private boolean didSet = false;
  private Object val;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/StageDefinitionBuilder.java`
#### Snippet
```java
  private RowSignature signature = RowSignature.empty();
  private int maxWorkerCount = 1;
  private ShuffleSpec shuffleSpec = null;
  private boolean shuffleCheckHasMultipleValues = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/StageDefinitionBuilder.java`
#### Snippet
```java
  private int maxWorkerCount = 1;
  private ShuffleSpec shuffleSpec = null;
  private boolean shuffleCheckHasMultipleValues = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/external/ExternalInputSliceReader.java`
#### Snippet
```java
                        return new CloseableIterator<InputRow>()
                        {
                          private InputRow next = null;

                          @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java
  private class KernelHolder
  {
    private boolean done = false;

    public Map<StageId, WorkerStageKernel> getStageKernelMap()
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessor.java`
#### Snippet
```java

  private boolean firstRun = true;
  private long rowsWritten = 0L;

  SegmentGeneratorFrameProcessor(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/MSQWorkerTaskLauncher.java`
#### Snippet
```java
  // Set by launchTasksIfNeeded.
  @GuardedBy("taskIds")
  private int desiredTaskCount = 0;

  // Set by the main loop when it acknowledges a new desiredTaskCount.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/MSQWorkerTaskLauncher.java`
#### Snippet
```java
  // Set by the main loop when it acknowledges a new desiredTaskCount.
  @GuardedBy("taskIds")
  private int acknowledgedDesiredTaskCount = 0;

  // Worker number -> task ID.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/DurableStorageCleanerConfig.java`
#### Snippet
```java
   */
  @JsonProperty
  public boolean enabled = false;

  /**
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessorFactory.java`
#### Snippet
```java
            new Function<ReadableInput, Pair<Integer, ReadableInput>>()
            {
              int i = 0;

              @Override
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQWarningReportLimiterPublisher.java`
#### Snippet
```java
  private final String host;

  long totalCount = 0L;

  final Object lock = new Object();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
  private volatile WorkerClient netClient;

  private volatile FaultsExceededChecker faultsExceededChecker = null;

  public ControllerImpl(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
  // Time at which the query started.
  // For live reports. Written by the main controller thread, read by HTTP threads.
  private volatile DateTime queryStartTime = null;

  private volatile DruidNode selfDruidNode;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/LazyResourceHolder.java`
#### Snippet
```java
  private final Supplier<Pair<T, Closeable>> supplier;
  private T resource = null;
  private Closeable closer = null;

  public LazyResourceHolder(final Supplier<Pair<T, Closeable>> supplier)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/LazyResourceHolder.java`
#### Snippet
```java

  private final Supplier<Pair<T, Closeable>> supplier;
  private T resource = null;
  private Closeable closer = null;

```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/BroadcastJoinHelper.java`
#### Snippet
```java
  private final long memoryReservedForBroadcastJoin;

  private long memoryUsed = 0L;

  /**
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/common/OffsetLimitFrameProcessor.java`
#### Snippet
```java
  private final long limit;

  long rowsProcessedSoFar = 0L;

  OffsetLimitFrameProcessor(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByPostShuffleFrameProcessor.java`
#### Snippet
```java
  private Cursor frameCursor = null;
  private Supplier<ResultRow> rowSupplierFromFrameCursor;
  private ResultRow outputRow = null;
  private FrameWriter frameWriter = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByPostShuffleFrameProcessor.java`
#### Snippet
```java
  private Supplier<ResultRow> rowSupplierFromFrameCursor;
  private ResultRow outputRow = null;
  private FrameWriter frameWriter = null;

  public GroupByPostShuffleFrameProcessor(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByPostShuffleFrameProcessor.java`
#### Snippet
```java
  private final HavingSpec havingSpec;

  private Cursor frameCursor = null;
  private Supplier<ResultRow> rowSupplierFromFrameCursor;
  private ResultRow outputRow = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/scan/ScanQueryFrameProcessor.java`
#### Snippet
```java
  private final Closer closer = Closer.create();

  private long rowsOutput = 0;
  private Cursor cursor;
  private FrameWriter frameWriter;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/ParquetExtensionsModule.java`
#### Snippet
```java
  static final String PARQUET_AVRO_PARSE_SPEC_TYPE = "avro";

  private Properties props = null;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/ParquetReader.java`
#### Snippet
```java
    return new CloseableIterator<Group>()
    {
      Group value = null;

      @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/druid-ranger-security/src/main/java/org/apache/druid/security/ranger/authorizer/RangerSecurityDruidModule.java`
#### Snippet
```java
public class RangerSecurityDruidModule implements DruidModule
{
  private Properties props = null;

  @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/CoordinatorBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java

  private final ScheduledExecutorService exec;
  private volatile boolean stopped = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDruidLeaderSelector.java`
#### Snippet
```java
  private final LeaderElectorAsyncWrapper leaderLatch;

  private volatile boolean leader = false;

  @SuppressFBWarnings(value = "VO_VOLATILE_INCREMENT", justification = "incremented but in single thread")
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDruidLeaderSelector.java`
#### Snippet
```java

  @SuppressFBWarnings(value = "VO_VOLATILE_INCREMENT", justification = "incremented but in single thread")
  private volatile int term = 0;

  public K8sDruidLeaderSelector(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDruidLeaderSelector.java`
#### Snippet
```java
  private final LifecycleLock lifecycleLock = new LifecycleLock();

  private DruidLeaderSelector.Listener listener = null;
  private final LeaderElectorAsyncWrapper leaderLatch;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/NamespaceLookupExtractorFactory.java`
#### Snippet
```java
  }

  CacheScheduler.Entry entry = null;
  private final ReadWriteLock startStopSync = new ReentrantReadWriteLock();
  private final CacheScheduler cacheScheduler;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/updater/CoordinatorBasicAuthorizerMetadataStorageUpdater.java`
#### Snippet
```java

  private final ScheduledExecutorService exec;
  private volatile boolean stopped = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheScheduler.java`
#### Snippet
```java
        new Runnable()
        {
          long priorUpdatesStarted = 0L;

          @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
        {
          private int lines = 0;
          private int entries = 0;
          private long bytes = 0L;
          private long byteLimitMultiple = 1L;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
        new LineProcessor<PopulateResult>()
        {
          private int lines = 0;
          private int entries = 0;
          private long bytes = 0L;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/data/input/MapPopulator.java`
#### Snippet
```java
          private int lines = 0;
          private int entries = 0;
          private long bytes = 0L;
          private long byteLimitMultiple = 1L;
          private boolean keyAndValueByteSizesCanBeDetermined = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/mysql-metadata-storage/src/main/java/org/apache/druid/metadata/storage/mysql/MySQLConnectorSslConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean useSSL = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/mysql-metadata-storage/src/main/java/org/apache/druid/metadata/storage/mysql/MySQLConnectorSslConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean verifyServerCertificate = false;

  public boolean isUseSSL()
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/postgresql-metadata-storage/src/main/java/org/apache/druid/metadata/storage/postgresql/PostgreSQLConnectorConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean useSSL = false;

  @JsonProperty("sslPassword")
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
  private CacheHandler cacheHandler;

  private volatile ListenableFuture<?> future = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerJob.java`
#### Snippet
```java
  private IndexGeneratorJob indexJob;
  @Nullable
  private volatile List<DataSegmentAndIndexZipFilePath> publishedSegmentAndIndexZipFilePaths = null;
  @Nullable
  private String hadoopJobIdFile;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
    private final List<Interval> intervals = new ArrayList<>();
    @Nullable
    protected HadoopDruidIndexerConfig config = null;
    private boolean determineIntervals;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
    private static HashFunction hashFunction = Hashing.murmur3_128();
    @Nullable
    private Granularity rollupGranularity = null;
    @Nullable
    private Map<Interval, HyperLogLogCollector> hyperLogLogs;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java

  private final boolean backgroundFetchEnabled;
  private volatile boolean closed = false;
  private AtomicBoolean partitionsFetchStarted = new AtomicBoolean();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerConfig.java`
#### Snippet
```java
                            new Function<HadoopyShardSpec, Bucket>()
                            {
                              int i = 0;

                              @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
    public ShardSpec shardSpec = null;
    int cardinality = 0;
    public long rows = 0;
  }

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  {
    @Nullable
    protected volatile HadoopDruidIndexerConfig config = null;

    @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  {
    @Nullable
    private Granularity rollupGranularity = null;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
    @Nullable
    public ShardSpec shardSpec = null;
    int cardinality = 0;
    public long rows = 0;
  }
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  {
    @Nullable
    public ShardSpec shardSpec = null;
    int cardinality = 0;
    public long rows = 0;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/FSSpideringIterator.java`
#### Snippet
```java
  private final FileSystem fs;
  private final FileStatus[] statii;
  private FileStatus nextStatus = null;

  private FSSpideringIterator statuses = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/FSSpideringIterator.java`
#### Snippet
```java
  private FileStatus nextStatus = null;

  private FSSpideringIterator statuses = null;
  int index = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/FSSpideringIterator.java`
#### Snippet
```java

  private FSSpideringIterator statuses = null;
  int index = 0;

  public FSSpideringIterator(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputSplit.java`
#### Snippet
```java
  private static final String[] EMPTY_STR_ARRAY = new String[0];

  private List<WindowedDataSegment> segments = null;
  private String[] locations = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputSplit.java`
#### Snippet
```java

  private List<WindowedDataSegment> segments = null;
  private String[] locations = null;

  //required for deserialization
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public static class IndexGeneratorStats
  {
    private long invalidRowCount = 0;

    @SuppressWarnings("unused") // Unused now, but useful in theory, probably needs to be exposed to users.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/input/GeneratorInputSource.java`
#### Snippet
```java
        return CloseableIterators.withEmptyBaggage(new Iterator<InputRowListPlusRawValues>()
        {
          int rowCount = 0;
          private final DataGenerator generator = makeGenerator();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/input/GeneratorInputSource.java`
#### Snippet
```java
        return CloseableIterators.withEmptyBaggage(new Iterator<InputRow>()
        {
          int rowCount = 0;
          private final DataGenerator generator = makeGenerator();

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile boolean finishingJob = false;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile Firehose firehose = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile Thread runThread = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile FireDepartmentMetrics metrics = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile Appenderator appenderator = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AppenderatorDriverRealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile boolean gracefullyStopped = false;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile Firehose firehose = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile Thread runThread = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile QueryRunnerFactoryConglomerate queryRunnerFactoryConglomerate = null;

  @JsonCreator
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile boolean gracefullyStopped = false;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile FireDepartmentMetrics metrics = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile boolean finishingJob = false;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/RealtimeIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private volatile Plumber plumber = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private HadoopDetermineConfigInnerProcessingStatus determineConfigStatus = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java

  @JsonIgnore
  private HadoopIndexGeneratorInnerProcessingStatus buildSegmentsStatus = null;

  @JsonIgnore
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
  private static final String HADOOP_JOB_ID_FILENAME = "mapReduceJobId.json";
  private static final String TYPE = "index_hadoop";
  private TaskConfig taskConfig = null;

  private static String getTheDataSource(HadoopIngestionSpec spec)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java

  @GuardedBy("this")
  private boolean stopped = false;

  private TaskLockHelper taskLockHelper;
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java

  protected boolean segmentAvailabilityConfirmationCompleted = false;
  protected long segmentAvailabilityWaitTimeMs = 0L;

  @GuardedBy("this")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
  private static final Logger log = new Logger(AbstractBatchIndexTask.class);

  protected boolean segmentAvailabilityConfirmationCompleted = false;
  protected long segmentAvailabilityWaitTimeMs = 0L;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskMonitor.java`
#### Snippet
```java

  @GuardedBy("startStopLock")
  private boolean running = false;

  TaskMonitor(OverlordClient overlordClient, int maxRetry, int estimatedNumSucceededTasks)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/iterator/DefaultIndexTaskInputRowIteratorBuilder.java`
#### Snippet
```java
public class DefaultIndexTaskInputRowIteratorBuilder implements IndexTaskInputRowIteratorBuilder
{
  private CloseableIterator<InputRow> delegate = null;
  private GranularitySpec granularitySpec = null;
  private final List<HandlingInputRowIterator.InputRowHandler> appendedInputRowHandlers = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/iterator/DefaultIndexTaskInputRowIteratorBuilder.java`
#### Snippet
```java
{
  private CloseableIterator<InputRow> delegate = null;
  private GranularitySpec granularitySpec = null;
  private final List<HandlingInputRowIterator.InputRowHandler> appendedInputRowHandlers = new ArrayList<>();

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexPhaseRunner.java`
#### Snippet
```java
  private volatile String stopReason;

  private int nextSpecId = 0;

  ParallelIndexPhaseRunner(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskMonitor.java`
#### Snippet
```java

  private final Object lifecycleLock = new Object();
  private volatile boolean started = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycleConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private File statusFile = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycleConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private File taskFile = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java
  private final ExecutorService parentMonitorExec = Execs.singleThreaded("parent-monitor-%d");

  private volatile Task task = null;
  private volatile ListenableFuture<TaskStatus> statusFuture = null;
  private volatile FileChannel taskLockChannel;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycle.java`
#### Snippet
```java

  private volatile Task task = null;
  private volatile ListenableFuture<TaskStatus> statusFuture = null;
  private volatile FileChannel taskLockChannel;
  private volatile FileLock taskLockFileLock;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/QuotableWhiteSpaceSplitter.java`
#### Snippet
```java
        new CharMatcher()
        {
          private boolean inQuotes = false;

          @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
  {
    private final Task task;
    private volatile boolean shutdown = false;
    private volatile ListenableFuture shutdownFuture;
    private volatile RunnerTaskState state;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
  private final WorkerConfig workerConfig;

  private volatile boolean stopping = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
  );

  private volatile boolean active = false;

  private static final EmittingLogger log = new EmittingLogger(TaskQueue.class);
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java

  private volatile int numProcessorsPerTask = -1;
  private volatile boolean stopping = false;

  private static final AtomicLong LAST_REPORTED_FAILED_TASK_COUNT = new AtomicLong();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
    private final Task task;

    private volatile boolean shutdown = false;
    private volatile ProcessHolder processHolder = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java

    private volatile boolean shutdown = false;
    private volatile ProcessHolder processHolder = null;

    private ForkingTaskRunnerWorkItem(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
  private final ProvisioningStrategy provisioningStrategy;

  private AtomicReference<WorkerBehaviorConfig> workerConfigRef = null;
  private static final List API_TASK_STATES = ImmutableList.of("pending", "waiting", "running", "complete");

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/config/TaskLockConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean batchSegmentAllocation = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/helpers/OverlordHelperManager.java`
#### Snippet
```java
  private volatile ScheduledExecutorService exec;
  private final Object startStopLock = new Object();
  private volatile boolean started = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  private final Object lock = new Object();

  private volatile boolean started = false;

  @Inject
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ProvisioningSchedulerConfig.java`
#### Snippet
```java
{
  @JsonProperty
  private boolean doAutoscale = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningConfig.java`
#### Snippet
```java

  @JsonProperty
  private String workerVersion = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SettableByteEntity.java`
#### Snippet
```java
{
  private final SettableByteBufferInputStream inputStream;
  private boolean opened = false;
  private T entity;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `integration-tests/src/main/java/org/apache/druid/testing/ConfigFileConfigProvider.java`
#### Snippet
```java
  private String kafkaHost;
  private String schemaRegistryHost;
  private Map<String, String> props = null;
  private String username;
  private String password;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `integration-tests/src/main/java/org/apache/druid/testing/utils/AvroEventSerializer.java`
#### Snippet
```java
    private final BiMap<Integer, String> indexes = HashBiMap.create(SCHEMA.getFields().size());

    private int nextIndex = 0;
    private final Schema schema;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/RedisCacheConfig.java`
#### Snippet
```java
   */
  @JsonProperty
  private int minIdleConnections = 0;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-contrib/statsd-emitter/src/main/java/org/apache/druid/emitter/statsd/StatsDEmitter.java`
#### Snippet
```java
        .errorHandler(new StatsDClientErrorHandler()
        {
          private int exceptionCount = 0;

          @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  public String keyspace = null;

  public String getKeyspace()
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  public String host = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/gce-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/gce/GceAutoScaler.java`
#### Snippet
```java
  private final int maxNumWorkers;

  private Compute cachedComputeService = null;

  private static final long POLL_INTERVAL_MS = 5 * 1000;  // 5 sec
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftInputRowParser.java`
#### Snippet
```java

  private Parser<String, Object> parser;
  private volatile Class<TBase> thriftClass = null;
  private final List<String> dimensions;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/RowBucket.java`
#### Snippet
```java
  private final DateTime dateTime;
  private final List<Row> rows;
  private RowBucket nextBucket = null;

  public RowBucket(DateTime dateTime, List<Row> rows)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/RowBucketIterable.java`
#### Snippet
```java
    private List<Interval> intervals;
    private boolean processedLastRow = false;
    private boolean processedExtraRow = false;

    public RowBucketIterator(Sequence<Row> rows, List<Interval> intervals, Period period)
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/RowBucketIterable.java`
#### Snippet
```java
    private int intervalIndex = 0;
    private List<Interval> intervals;
    private boolean processedLastRow = false;
    private boolean processedExtraRow = false;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/RowBucketIterable.java`
#### Snippet
```java
    private DateTime expectedBucket;
    private Period period;
    private int intervalIndex = 0;
    private List<Interval> intervals;
    private boolean processedLastRow = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/BaseAverager.java`
#### Snippet
```java
   * It makes computeResults() start from the correct bucket in the array.
   */
  int startFrom = 0;

  /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String prefix = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java

  @JsonProperty
  private boolean disableAcl = false;

  @VisibleForTesting
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String bucket = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentPuller.java`
#### Snippet
```java
    return new FileObject()
    {
      OSSObject ossObject = null;

      @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/Utils.java`
#### Snippet
```java
    private static final ThreadLocal<BufferAccessor> CACHE = ThreadLocal.withInitial(BufferAccessor::new);

    private int position = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java

    private Yielder<RowBucket> yielder;
    private RowBucket cache = null;
    private Iterator<Row> cacheIter;
    private Iterator<Map<String, Object>> averagersKeysIter;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/KubernetesTaskRunnerConfig.java`
#### Snippet
```java

  @JsonProperty
  public boolean debugJobs = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/KubernetesTaskRunnerConfig.java`
#### Snippet
```java
  // lower number speeds up pod termination time to release locks
  // faster, defaults to your k8s setup, usually 30 seconds.
  public Long graceTerminationPeriodSeconds = null;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/KubernetesTaskRunnerConfig.java`
#### Snippet
```java

  @JsonProperty
  public boolean sidecarSupport = false;

  @JsonProperty
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
  
  private boolean started = false;
  private ListeningScheduledExecutorService exec = null;
  private ListenableFuture<?> future = null;
  
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
  private final Object lock = new Object();
  
  private boolean started = false;
  private ListeningScheduledExecutorService exec = null;
  private ListenableFuture<?> future = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
        new HandleCallback<Long>() {
          Set<Interval> intervals = new HashSet<>();
          long totalSize = 0;
          @Override
          public Long withHandle(Handle handle)
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
  private boolean started = false;
  private ListeningScheduledExecutorService exec = null;
  private ListenableFuture<?> future = null;
  
  @Inject
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
  private boolean started = false;
  private ListenableFuture<?> future = null;
  private ListeningScheduledExecutorService exec = null;
  // In the missing intervals, baseDataSource has data but derivedDataSource does not, which means
  // data in these intervals of derivedDataSource needs to be rebuilt.
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
  // stateLock is used to synchronize materializedViewSupervisor's status
  private final Object stateLock = new Object();
  private boolean started = false;
  private ListenableFuture<?> future = null;
  private ListeningScheduledExecutorService exec = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
  private final Object stateLock = new Object();
  private boolean started = false;
  private ListenableFuture<?> future = null;
  private ListeningScheduledExecutorService exec = null;
  // In the missing intervals, baseDataSource has data but derivedDataSource does not, which means
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private volatile boolean started = false;
  private volatile boolean stopped = false;
  private volatile boolean lifecycleStarted = false;
  private final ServiceEmitter emitter;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private volatile DateTime earlyStopTime = null;
  protected volatile RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier;
  private volatile boolean started = false;
  private volatile boolean stopped = false;
  private volatile boolean lifecycleStarted = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private long lastRunTime;
  private long dynamicTriggerLastRunTime;
  private int initRetryCounter = 0;
  private volatile DateTime firstRunTime;
  private volatile DateTime earlyStopTime = null;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

  private final boolean useExclusiveStartingSequence;
  private boolean listenerRegistered = false;
  private long lastRunTime;
  private long dynamicTriggerLastRunTime;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  private int initRetryCounter = 0;
  private volatile DateTime firstRunTime;
  private volatile DateTime earlyStopTime = null;
  protected volatile RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier;
  private volatile boolean started = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
  protected volatile RecordSupplier<PartitionIdType, SequenceOffsetType, RecordType> recordSupplier;
  private volatile boolean started = false;
  private volatile boolean stopped = false;
  private volatile boolean lifecycleStarted = false;
  private final ServiceEmitter emitter;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
  private volatile IngestionState ingestionState;

  protected volatile boolean pauseRequested = false;
  private volatile long nextCheckpointTime;

```

## RuleId[ruleID=RedundantImplements]
### RedundantImplements
Redundant interface declaration `AuthorizableOperator`
in `sql/src/main/java/org/apache/druid/sql/calcite/external/CatalogExternalTableOperatorConversion.java`
#### Snippet
```java
  }

  public static class CatalogExternalTableOperator extends UserDefinedTableMacroFunction implements AuthorizableOperator
  {
    public CatalogExternalTableOperator(final CatalogTableMacro macro)
```

### RedundantImplements
Redundant interface declaration `Closeable`
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/SmooshedWriter.java`
#### Snippet
```java
/**
 */
public interface SmooshedWriter extends Closeable, GatheringByteChannel
{
}
```

### RedundantImplements
Redundant interface declaration `Flushable`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitter.java`
#### Snippet
```java
import java.util.function.BiConsumer;

public class ParametrizedUriEmitter implements Flushable, Closeable, Emitter
{
  private static final Logger log = new Logger(ParametrizedUriEmitter.class);
```

### RedundantImplements
Redundant interface declaration `Closeable`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/ParametrizedUriEmitter.java`
#### Snippet
```java
import java.util.function.BiConsumer;

public class ParametrizedUriEmitter implements Flushable, Closeable, Emitter
{
  private static final Logger log = new Logger(ParametrizedUriEmitter.class);
```

### RedundantImplements
Redundant interface declaration `Flushable`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
import java.util.zip.GZIPOutputStream;

public class HttpPostEmitter implements Flushable, Closeable, Emitter
{
  private static final int MAX_EVENT_SIZE = 1023 * 1024; // Set max size slightly less than 1M to allow for metadata
```

### RedundantImplements
Redundant interface declaration `Closeable`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
import java.util.zip.GZIPOutputStream;

public class HttpPostEmitter implements Flushable, Closeable, Emitter
{
  private static final int MAX_EVENT_SIZE = 1023 * 1024; // Set max size slightly less than 1M to allow for metadata
```

### RedundantImplements
Redundant interface declaration `List`
in `core/src/main/java/org/apache/druid/timeline/partition/PartitionBoundaries.java`
#### Snippet
```java
 * List of range partition boundaries.
 */
public class PartitionBoundaries extends ForwardingList<StringTuple> implements List<StringTuple>
{
  private final List<StringTuple> delegate;
```

### RedundantImplements
Redundant interface declaration `X509TrustManager`
in `server/src/main/java/org/apache/druid/server/security/CustomCheckX509TrustManager.java`
#### Snippet
```java
import java.security.cert.X509Certificate;

public class CustomCheckX509TrustManager extends X509ExtendedTrustManager implements X509TrustManager
{
  private static final Logger log = new Logger(CustomCheckX509TrustManager.class);
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/ExtractionDimFilter.java`
#### Snippet
```java
 */
@Deprecated
public class ExtractionDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/FalseDimFilter.java`
#### Snippet
```java
import java.util.Set;

public class FalseDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private static final FalseDimFilter INSTANCE = new FalseDimFilter();
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/ColumnComparisonDimFilter.java`
#### Snippet
```java
/**
 */
public class ColumnComparisonDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private static final Joiner COMMA_JOINER = Joiner.on(", ");
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/SearchQueryDimFilter.java`
#### Snippet
```java
/**
 */
public class SearchQueryDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java
import java.util.Set;

public class IntervalDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final List<Interval> intervals;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/TrueDimFilter.java`
#### Snippet
```java
import java.util.Set;

public class TrueDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private static final TrueDimFilter INSTANCE = new TrueDimFilter();
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/ExpressionDimFilter.java`
#### Snippet
```java
import java.util.Set;

public class ExpressionDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String expression;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/NotDimFilter.java`
#### Snippet
```java
/**
 */
public class NotDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{

```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
import java.util.Set;

public class BoundDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/RegexDimFilter.java`
#### Snippet
```java
/**
 */
public class RegexDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/AndDimFilter.java`
#### Snippet
```java
 *
 */
public class AndDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private static final Joiner AND_JOINER = Joiner.on(" && ");
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/SpatialDimFilter.java`
#### Snippet
```java
/**
 */
public class SpatialDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
 *
 */
public class SelectorDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/JavaScriptDimFilter.java`
#### Snippet
```java
import java.util.Set;

public class JavaScriptDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private final String dimension;
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/OrDimFilter.java`
#### Snippet
```java
 *
 */
public class OrDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  private static final Joiner OR_JOINER = Joiner.on(" || ");
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
import java.util.regex.Pattern;

public class LikeDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{
  // Regex matching characters that are definitely okay to include unescaped in a regex.
```

### RedundantImplements
Redundant interface declaration `HotLoopCallee`
in `processing/src/main/java/org/apache/druid/segment/DimensionSelector.java`
#### Snippet
```java
 */
@PublicApi
public interface DimensionSelector extends ColumnValueSelector<Object>, DimensionDictionarySelector, HotLoopCallee
{
  /**
```

### RedundantImplements
Redundant interface declaration `Cloneable`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
  }

  public class WordIterator implements IntIterator, Cloneable
  {
    private int startIndex;
```

### RedundantImplements
Redundant interface declaration `SqlAggregator`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/sql/HllSketchObjectSqlAggregator.java`
#### Snippet
```java
import java.util.Collections;

public class HllSketchObjectSqlAggregator extends HllSketchBaseSqlAggregator implements SqlAggregator
{
  private static final SqlAggFunction FUNCTION_INSTANCE = new HllSketchSqlAggFunction();
```

### RedundantImplements
Redundant interface declaration `SqlAggregator`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/sql/HllSketchApproxCountDistinctSqlAggregator.java`
#### Snippet
```java
import java.util.Collections;

public class HllSketchApproxCountDistinctSqlAggregator extends HllSketchBaseSqlAggregator implements SqlAggregator
{
  public static final String NAME = "APPROX_COUNT_DISTINCT_DS_HLL";
```

### RedundantImplements
Redundant interface declaration `SqlAggregator`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/sql/ThetaSketchObjectSqlAggregator.java`
#### Snippet
```java
import java.util.Collections;

public class ThetaSketchObjectSqlAggregator extends ThetaSketchBaseSqlAggregator implements SqlAggregator
{
  private static final SqlAggFunction FUNCTION_INSTANCE = new ThetaSketchObjectSqlAggFunction();
```

### RedundantImplements
Redundant interface declaration `SqlAggregator`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/sql/ThetaSketchApproxCountDistinctSqlAggregator.java`
#### Snippet
```java
import java.util.Collections;

public class ThetaSketchApproxCountDistinctSqlAggregator extends ThetaSketchBaseSqlAggregator implements SqlAggregator
{
  public static final String NAME = "APPROX_COUNT_DISTINCT_DS_THETA";
```

### RedundantImplements
Redundant interface declaration `DimFilter`
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java
/**
 */
public class BloomDimFilter extends AbstractOptimizableDimFilter implements DimFilter
{

```

### RedundantImplements
Redundant interface declaration `AutoCloseable`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheHandler.java`
#### Snippet
```java
import java.util.Map;

public final class CacheHandler implements AutoCloseable, Closeable
{
  private static final Logger log = new Logger(CacheHandler.class);
```

## RuleId[ruleID=InstanceofCatchParameter]
### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
    catch (IOException e) {
      // Some inspection to improve error messages.
      if (e instanceof NoSuchFileException && !new File(parentDirectory).exists()) {
        throw new ISE("java.io.tmpdir (%s) does not exist", parentDirectory);
      } else if ((e instanceof FileSystemException && e.getMessage().contains("Read-only file system"))
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
      if (e instanceof NoSuchFileException && !new File(parentDirectory).exists()) {
        throw new ISE("java.io.tmpdir (%s) does not exist", parentDirectory);
      } else if ((e instanceof FileSystemException && e.getMessage().contains("Read-only file system"))
                 || (e instanceof AccessDeniedException)) {
        throw new ISE("java.io.tmpdir (%s) is not writable, check permissions", parentDirectory);
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
        throw new ISE("java.io.tmpdir (%s) does not exist", parentDirectory);
      } else if ((e instanceof FileSystemException && e.getMessage().contains("Read-only file system"))
                 || (e instanceof AccessDeniedException)) {
        throw new ISE("java.io.tmpdir (%s) is not writable, check permissions", parentDirectory);
      } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `ex`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
          }
          catch (Exception ex) {
            if (ex instanceof InterruptedException) {
              Thread.currentThread().interrupt();
            } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `server/src/main/java/org/apache/druid/server/QueryResource.java`
#### Snippet
```java
        final QueryException qe;

        if (e instanceof QueryException) {
          qe = (QueryException) e;
        } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `server/src/main/java/org/apache/druid/server/QueryResource.java`
#### Snippet
```java
    }
    catch (Exception e) {
      if (e instanceof ForbiddenException && !req.isAsyncStarted()) {
        // We can only pass through the Forbidden exception if we haven't started async yet.
        throw e;
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `re`
in `server/src/main/java/org/apache/druid/server/QueryResultPusher.java`
#### Snippet
```java
    }
    catch (RuntimeException re) {
      if (re instanceof ForbiddenException) {
        // Forbidden exceptions are special, they get thrown instead of serialized.  They happen before the response
        // has been committed because the response is committed after results are returned.  And, if we started
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `server/src/main/java/org/apache/druid/segment/loading/LocalFileTimestampVersionFinder.java`
#### Snippet
```java
    }
    catch (Exception e) {
      if (e instanceof FileNotFoundException) {
        return null;
      }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
        // Swallow the exception, so that scheduled polling goes on. Leave firstPollFutureSinceLastStart uncompleted
        // for now, so that it may be completed during the next poll.
        if (!(t instanceof Exception)) {
          // Don't try to swallow a Throwable which is not an Exception (that is, a Error).
          periodicDatabasePoll.firstPollCompletionFuture.completeExceptionally(t);
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `processing/src/main/java/org/apache/druid/frame/file/FrameFile.java`
#### Snippet
```java
    catch (Throwable e) {
      // Close mapCloser, not fileCloser: if there is an error in "open" then we don't delete the file.
      if (e instanceof IOException) {
        // Don't wrap IOExceptions.
        throw CloseableUtils.closeInCatch((IOException) e, sharedMapCloser);
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `ex`
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/K8sDruidNodeAnnouncer.java`
#### Snippet
```java
      // Unannouncement happens when druid process is shutting down, there is no point throwing exception
      // in shutdown sequence.
      if (ex instanceof InterruptedException) {
        Thread.currentThread().interrupt();
      }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheScheduler.java`
#### Snippet
```java
          t.addSuppressed(e);
        }
        if (Thread.currentThread().isInterrupted() || t instanceof InterruptedException || t instanceof Error) {
          // propagate to the catch block in updateCache()
          throw t;
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheScheduler.java`
#### Snippet
```java
          t.addSuppressed(e);
        }
        if (Thread.currentThread().isInterrupted() || t instanceof InterruptedException || t instanceof Error) {
          // propagate to the catch block in updateCache()
          throw t;
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheScheduler.java`
#### Snippet
```java
          t.addSuppressed(e);
        }
        if (Thread.currentThread().isInterrupted() || t instanceof InterruptedException || t instanceof Error) {
          throw new RuntimeException(t);
        }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/CacheScheduler.java`
#### Snippet
```java
          t.addSuppressed(e);
        }
        if (Thread.currentThread().isInterrupted() || t instanceof InterruptedException || t instanceof Error) {
          throw new RuntimeException(t);
        }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
    catch (Exception e) {
      Throwable effectiveException;
      if (e instanceof RuntimeException && e.getCause() instanceof InvocationTargetException) {
        InvocationTargetException ite = (InvocationTargetException) e.getCause();
        effectiveException = ite.getCause();
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
          }
          catch (Exception e) {
            if (e instanceof InterruptedException) {
              Thread.currentThread().interrupt();
            }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `ex`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
              log.warn(ex, "Exception while getting active tasks from overlord. will retry on next scheduled run.");

              if (ex instanceof InterruptedException) {
                Thread.currentThread().interrupt();
              }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/MetadataTaskStorage.java`
#### Snippet
```java
    }
    catch (Exception e) {
      if (e instanceof EntryExistsException) {
        throw (EntryExistsException) e;
      } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
            log.warn(e, "Exception thrown during isReady for task: %s", task.getId());
            final String errorMessage;
            if (e instanceof MaxAllowedLocksExceededException) {
              errorMessage = e.getMessage();
            } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `ex`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java
    }
    catch (Exception ex) {
      if (ex instanceof InterruptedException) {
        Thread.currentThread().interrupt();
      }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `ex`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
          }
          catch (Exception ex) {
            if (ex instanceof InterruptedException) {
              Thread.currentThread().interrupt();
            } else {
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `ex`
in `integration-tests/src/main/java/org/apache/druid/testing/utils/KafkaEventWriter.java`
#### Snippet
```java
      }
      catch (InterruptedException | ExecutionException ex) {
        if (ex instanceof InterruptedException) {
          Thread.currentThread().interrupt();
        }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
      }
      catch (InterruptedException | ExecutionException | TimeoutException e) {
        if (e instanceof InterruptedException) {
          throw new RuntimeException("interrupted flushing elements from queue", e);
        }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
          catch (InterruptedException | IOException e) {
            log.error(e, e.getMessage());
            if (e instanceof InterruptedException) {
              Thread.currentThread().interrupt();
              break;
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
              Thread.currentThread().interrupt();
              break;
            } else if (e instanceof SocketException) {
              // This is antagonistic to general Closeable contract in Java,
              // it is needed to allow re-connection in case of the socket is closed due long period of inactivity
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
      catch (Exception e) {
        log.error(e, e.getMessage());
        if (e instanceof InterruptedException) {
          Thread.currentThread().interrupt();
        }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/AmbariMetricsEmitter.java`
#### Snippet
```java
        }
        catch (InterruptedException | ExecutionException | TimeoutException e) {
          if (e instanceof InterruptedException) {
            throw new RuntimeException("interrupted flushing elements from queue", e);
          }
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java

      // handle the InterruptedException that gets wrapped in a RejectedExecutionException
      if (e instanceof RejectedExecutionException
          && (e.getCause() == null || !(e.getCause() instanceof InterruptedException))) {
        throw e;
```

## RuleId[ruleID=ExceptionNameDoesntEndWithException]
### ExceptionNameDoesntEndWithException
Exception class name `ISE` does not end with 'Exception'
in `core/src/main/java/org/apache/druid/java/util/common/ISE.java`
#### Snippet
```java
 */
@SuppressWarnings("serial")
public class ISE extends IllegalStateException implements SanitizableException
{
  public ISE(String formatText, Object... arguments)
```

### ExceptionNameDoesntEndWithException
Exception class name `RE` does not end with 'Exception'
in `core/src/main/java/org/apache/druid/java/util/common/RE.java`
#### Snippet
```java
/**
 */
public class RE extends RuntimeException
{
  public RE(String formatText, Object... arguments)
```

### ExceptionNameDoesntEndWithException
Exception class name `UOE` does not end with 'Exception'
in `core/src/main/java/org/apache/druid/java/util/common/UOE.java`
#### Snippet
```java
/**
 */
public class UOE extends UnsupportedOperationException implements SanitizableException
{
  public UOE(String formatText, Object... arguments)
```

### ExceptionNameDoesntEndWithException
Exception class name `IAE` does not end with 'Exception'
in `core/src/main/java/org/apache/druid/java/util/common/IAE.java`
#### Snippet
```java
/**
 */
public class IAE extends IllegalArgumentException
{
  public IAE(String formatText, Object... arguments)
```

### ExceptionNameDoesntEndWithException
Exception class name `IOE` does not end with 'Exception'
in `core/src/main/java/org/apache/druid/java/util/common/IOE.java`
#### Snippet
```java
/**
 */
public class IOE extends IOException
{
  public IOE(String formatText, Object... arguments)
```

## RuleId[ruleID=FuseStreamOperations]
### FuseStreamOperations
Stream may be extended replacing ArrayList
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
                                                                                           .map(
                                                                                               DataSegmentAndIndexZipFilePath::getSegment)
                                                                                           .collect(Collectors.toList()));
          toolbox.publishSegments(segments);

```

## RuleId[ruleID=ZeroLengthArrayInitialization]
### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/http/CsvWriter.java`
#### Snippet
```java
    final boolean quoteEverything = currentLine.size() == 1 && currentLine.get(0).isEmpty();

    writer.writeNext(currentLine.toArray(new String[0]), quoteEverything);
    currentLine.clear();
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/http/CsvWriter.java`
#### Snippet
```java
    final RowSignature signature = RowSignatures.fromRelDataType(rowType.getFieldNames(), rowType);

    writer.writeNext(signature.getColumnNames().toArray(new String[0]), false);

    if (includeTypes) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/Windowing.java`
#### Snippet
```java
            new WindowFramedAggregateProcessor(
                group.getWindowFrame(),
                aggregations.toArray(new AggregatorFactory[0])
            )
        );
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/Windowing.java`
#### Snippet
```java
      ops.add(new WindowOperatorFactory(
          processors.size() == 1 ?
          processors.get(0) : new ComposingProcessor(processors.toArray(new Processor[0]))
      ));
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/PartialDruidQuery.java`
#### Snippet
```java
  public RelTrait[] getRelTraits()
  {
    return leafRel().getTraitSet().toArray(new RelTrait[0]);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidLogicalValuesRule.java`
#### Snippet
```java
            .map(v -> getValueFromLiteral(v, plannerContext))
            .collect(Collectors.toList())
            .toArray(new Object[0])
        )
        .collect(Collectors.toList());
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/ExtractionFns.java`
#### Snippet
```java
      }

      return new CascadeExtractionFn(extractionFns.toArray(new ExtractionFn[0]));
    }
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/java/util/http/client/io/AppendableByteArrayInputStream.java`
#### Snippet
```java
  private volatile int available = 0;

  private byte[] curr = new byte[]{};
  private int currIndex = 0;

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/java/util/common/parsers/JSONFlattenerMaker.java`
#### Snippet
```java
  {
    // create a defensive copy
    final String[] keyNames = nodes.toArray(new String[0]);

    return jsonNode -> {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpPostEmitter.java`
#### Snippet
```java
      );
      // To not showing and writing nonsense and misleading stack trace in logs.
      timeoutLessThanMinimumException.setStackTrace(new StackTraceElement[]{});
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuSet.java`
#### Snippet
```java
  private int[] readCpuSetFile(String file)
  {
    int[] output = {};
    try {
      List<String> lines = Files.readAllLines(
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuAcct.java`
#### Snippet
```java
    catch (RuntimeException re) {
      LOG.error(re, "Unable to fetch snapshot");
      return new CpuAcctMetric(new long[0], new long[0]);
    }
    try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuAcct.java`
#### Snippet
```java
    catch (RuntimeException re) {
      LOG.error(re, "Unable to fetch snapshot");
      return new CpuAcctMetric(new long[0], new long[0]);
    }
    try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      }
      if (hadEmpty) {
        return ExprEval.ofStringArray(new String[0]);
      }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      }
      if (hadEmpty) {
        return ExprEval.ofStringArray(new Object[0]);
      }
      Expr accExpr = argsExpr.get(argsExpr.size() - 1);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java

          // No files in the archive - return an empty stream.
          return new ByteArrayInputStream(new byte[0]);
        }
        return zipIn;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/timeline/partition/PartitionBoundaries.java`
#### Snippet
```java
      return StringTuple.create((String[]) item);
    } else if (item instanceof List) {
      return StringTuple.create((String[]) ((List) item).toArray(new String[0]));
    } else {
      throw new IAE("Item must either be a String or StringTuple");
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    } else {
      if (val != null) {
        return new NonnullPair<>(ExpressionType.STRING_ARRAY, new Object[0]);
      }
      return null;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public Object[] asArray()
    {
      return new Object[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/emitter/SwitchingEmitterModule.java`
#### Snippet
```java
      defaultEmittersBuilder.add(injector.getInstance(Key.get(Emitter.class, Names.named(emitterName))));
    }
    return new SwitchingEmitter(switchingEmitters, defaultEmittersBuilder.build().toArray(new Emitter[0]));
  }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/metrics/DruidSysMonitor.java`
#### Snippet
```java
    }

    addDirectoriesToMonitor(dirs.toArray(new String[0]));
  }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/security/SecuritySanityCheckFilter.java`
#### Snippet
```java
    try {
      ForbiddenException forbiddenException = new ForbiddenException();
      forbiddenException.setStackTrace(new StackTraceElement[0]);
      this.unauthorizedMessage = jsonMapper.writeValueAsString(forbiddenException);
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/security/PreResponseAuthorizationCheckFilter.java`
#### Snippet
```java
        DruidNode.getDefaultHost()
    );
    unauthorizedError.setStackTrace(new StackTraceElement[0]);
    OutputStream out = response.getOutputStream();
    sendJsonError(response, HttpServletResponse.SC_UNAUTHORIZED, jsonMapper.writeValueAsString(unauthorizedError), out);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
      // quadratically in a loop, which can generate garbage in the form of Stream, Spliterator, Iterator, etc. objects
      // whose total memory volume exceeds the size of the DataSegment array.
      DataSegment[] segments = server.getServer().iterateAllSegments().toArray(new DataSegment[0]);
      for (DataSegment s1 : segments) {
        for (DataSegment s2 : segments) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
    private final String path;

    private byte[] bytes = new byte[]{};
    private int count = 0;

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerModule.java`
#### Snippet
```java
        if (tlsServerConfig.getIncludeCipherSuites() != null) {
          sslContextFactory.setIncludeCipherSuites(
              tlsServerConfig.getIncludeCipherSuites().toArray(new String[0]));
        }
        if (tlsServerConfig.getExcludeCipherSuites() != null) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerModule.java`
#### Snippet
```java
        if (tlsServerConfig.getExcludeCipherSuites() != null) {
          sslContextFactory.setExcludeCipherSuites(
              tlsServerConfig.getExcludeCipherSuites().toArray(new String[0]));
        }
        if (tlsServerConfig.getIncludeProtocols() != null) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerModule.java`
#### Snippet
```java
        if (tlsServerConfig.getIncludeProtocols() != null) {
          sslContextFactory.setIncludeProtocols(
              tlsServerConfig.getIncludeProtocols().toArray(new String[0]));
        }
        if (tlsServerConfig.getExcludeProtocols() != null) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerModule.java`
#### Snippet
```java
        if (tlsServerConfig.getExcludeProtocols() != null) {
          sslContextFactory.setExcludeProtocols(
              tlsServerConfig.getExcludeProtocols().toArray(new String[0]));
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `server/src/main/java/org/apache/druid/segment/indexing/DataSchema.java`
#### Snippet
```java

    this.timestampSpec = timestampSpec;
    this.aggregators = aggregators == null ? new AggregatorFactory[]{} : aggregators;
    this.dimensionsSpec = dimensionsSpec == null
                          ? null
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `services/src/main/java/org/apache/druid/cli/CliHadoopIndexer.java`
#### Snippet
```java
      }

      final URLClassLoader loader = new URLClassLoader(driverURLs.toArray(new URL[0]), null);
      Thread.currentThread().setContextClassLoader(loader);

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `services/src/main/java/org/apache/druid/cli/PullDependencies.java`
#### Snippet
```java
      return new DefaultTeslaAether(
          localRepository,
          remoteRepositories.toArray(new Repository[0])
      );
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/TableDataSource.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    return new byte[0];
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/guice/ExtensionsLoader.java`
#### Snippet
```java
      }
    }
    return extensionsToLoad == null ? new File[]{} : extensionsToLoad;
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
        // Encountered a data source which didn't support cache yet
        log.debug("skipping caching for join since [%s] does not support caching", clause.getDataSource());
        return new byte[]{};
      }
      keyBuilder.appendByteArray(bytes.get());
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryQueryToolChest.java`
#### Snippet
```java
            return row.toArray();
          } else if (fields.isEmpty()) {
            return new Object[0];
          } else {
            // Uh oh... mismatch in expected and actual field count. I don't think this should happen, so let's
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/TopNNumericResultBuilder.java`
#### Snippet
```java
  public Result<TopNResultValue> build()
  {
    final DimValHolder[] holderValueArray = pQueue.toArray(new DimValHolder[0]);
    Arrays.sort(
        holderValueArray,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/AlphaNumericTopNMetricSpec.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    byte[] previousStopBytes = getPreviousStop() == null ? new byte[]{} : StringUtils.toUtf8(getPreviousStop());

    return ByteBuffer.allocate(1 + previousStopBytes.length)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/TopNLexicographicResultBuilder.java`
#### Snippet
```java
  {
    // Pull out top aggregated values
    final DimValHolder[] holderValueArray = pQueue.toArray(new DimValHolder[0]);
    Arrays.sort(
        holderValueArray,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/LexicographicTopNMetricSpec.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    byte[] previousStopBytes = previousStop == null ? new byte[]{} : StringUtils.toUtf8(previousStop);

    return ByteBuffer.allocate(1 + previousStopBytes.length)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/DimensionTopNMetricSpec.java`
#### Snippet
```java
  public byte[] getCacheKey()
  {
    byte[] previousStopBytes = previousStop == null ? new byte[]{} : StringUtils.toUtf8(previousStop);
    byte[] orderingBytes = ordering.getCacheKey();

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/ExtractionDimFilter.java`
#### Snippet
```java
  {
    byte[] dimensionBytes = StringUtils.toUtf8(dimension);
    byte[] valueBytes = value == null ? new byte[0] : StringUtils.toUtf8(value);
    byte[] extractionFnBytes = extractionFn.getCacheKey();
    return ByteBuffer.allocate(3 + dimensionBytes.length + valueBytes.length + extractionFnBytes.length)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/SearchQueryDimFilter.java`
#### Snippet
```java
    final byte[] dimensionBytes = StringUtils.toUtf8(dimension);
    final byte[] queryBytes = query.getCacheKey();
    byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();

    return ByteBuffer.allocate(3 + dimensionBytes.length + queryBytes.length + extractionFnBytes.length)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java
    byte[] dimensionBytes = StringUtils.toUtf8(dimension);

    byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();
    int intervalsBytesSize = intervalLongs.size() * Long.BYTES * 2 + intervalLongs.size();

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
  {
    byte[] dimensionBytes = StringUtils.toUtf8(this.getDimension());
    byte[] lowerBytes = this.getLower() == null ? new byte[0] : StringUtils.toUtf8(this.getLower());
    byte[] upperBytes = this.getUpper() == null ? new byte[0] : StringUtils.toUtf8(this.getUpper());
    byte boundType = 0x1;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    byte[] dimensionBytes = StringUtils.toUtf8(this.getDimension());
    byte[] lowerBytes = this.getLower() == null ? new byte[0] : StringUtils.toUtf8(this.getLower());
    byte[] upperBytes = this.getUpper() == null ? new byte[0] : StringUtils.toUtf8(this.getUpper());
    byte boundType = 0x1;
    if (this.getLower() == null) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    byte upperStrictByte = (this.isUpperStrict() == false) ? 0x0 : (byte) 1;

    byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();

    byte[] orderingBytes = ordering.getCacheKey();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
      private String dimension = query.getDimensionSpec().getOutputName();
      private final AggregatorFactory[] aggregatorFactories = query.getAggregatorSpecs()
                                                                   .toArray(new AggregatorFactory[0]);
      private final String[] aggFactoryNames = extractFactoryName(query.getAggregatorSpecs());
      private final PostAggregator[] postAggregators = query.getPostAggregatorSpecs().toArray(new PostAggregator[0]);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
                                                                   .toArray(new AggregatorFactory[0]);
      private final String[] aggFactoryNames = extractFactoryName(query.getAggregatorSpecs());
      private final PostAggregator[] postAggregators = query.getPostAggregatorSpecs().toArray(new PostAggregator[0]);

      @Override
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
      private final List<PostAggregator> prunedAggs = prunePostAggregators(query);
      private final AggregatorFactory[] aggregatorFactories = query.getAggregatorSpecs()
                                                                   .toArray(new AggregatorFactory[0]);
      private final String[] aggFactoryNames = extractFactoryName(query.getAggregatorSpecs());

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/RegexDimFilter.java`
#### Snippet
```java
    final byte[] dimensionBytes = StringUtils.toUtf8(dimension);
    final byte[] patternBytes = StringUtils.toUtf8(pattern);
    byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();

    return ByteBuffer.allocate(3 + dimensionBytes.length + patternBytes.length + extractionFnBytes.length)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
        .appendString(value)
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .build();
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/JavaScriptDimFilter.java`
#### Snippet
```java
    final byte[] dimensionBytes = StringUtils.toUtf8(dimension);
    final byte[] functionBytes = StringUtils.toUtf8(function);
    byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();

    return ByteBuffer.allocate(3 + dimensionBytes.length + functionBytes.length + extractionFnBytes.length)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
    final byte[] dimensionBytes = StringUtils.toUtf8(dimension);
    final byte[] patternBytes = StringUtils.toUtf8(pattern);
    final byte[] escapeBytes = escapeChar == null ? new byte[0] : Chars.toByteArray(escapeChar);
    final byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();
    final int sz = 4 + dimensionBytes.length + patternBytes.length + escapeBytes.length + extractionFnBytes.length;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
    final byte[] patternBytes = StringUtils.toUtf8(pattern);
    final byte[] escapeBytes = escapeChar == null ? new byte[0] : Chars.toByteArray(escapeChar);
    final byte[] extractionFnBytes = extractionFn == null ? new byte[0] : extractionFn.getCacheKey();
    final int sz = 4 + dimensionBytes.length + patternBytes.length + escapeBytes.length + extractionFnBytes.length;
    return ByteBuffer.allocate(sz)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        .appendString(dimension)
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(hasher.hash().asBytes())
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/search/FragmentSearchQuerySpec.java`
#### Snippet
```java
      set.addAll(values);
    }
    target = set.toArray(new String[0]);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/having/DimensionSelectorHavingSpec.java`
#### Snippet
```java
        .appendString(dimension)
        .appendString(value)
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .build();
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
    final IncrementalIndexSchema indexSchema = new IncrementalIndexSchema.Builder()
        .withDimensionsSpec(new DimensionsSpec(dimensionSchemas))
        .withMetrics(aggs.toArray(new AggregatorFactory[0]))
        .withQueryGranularity(gran)
        .withMinTimestamp(granTimeStart)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
      } else {
        comparator = keySerde.bufferComparatorWithAggregators(
            aggregators.factories().toArray(new AggregatorFactory[0]),
            aggregators.aggregatorPositions()
        );
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
    {
      final BufferComparator bufferComparator = keySerde.bufferComparatorWithAggregators(
          aggregators.factories().toArray(new AggregatorFactory[0]),
          aggregators.aggregatorPositions()
      );
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GrouperBufferComparatorUtils.java`
#### Snippet
```java


    final Grouper.BufferComparator[] adjustedSerdeHelperComparators = comparators.toArray(new Grouper.BufferComparator[0]);

    final int fieldCount = dimCount + aggCount;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java

      return GrouperBufferComparatorUtils.bufferComparatorWithAggregators(
          query.getAggregatorSpecs().toArray(new AggregatorFactory[0]),
          aggregatorOffsets,
          limitSpec,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java
    // Choose array-based aggregation if the grouping key is a single string dimension of a known cardinality
    if (Types.is(columnCapabilities, ValueType.STRING) && cardinality > 0) {
      final AggregatorFactory[] aggregatorFactories = query.getAggregatorSpecs().toArray(new AggregatorFactory[0]);
      final long requiredBufferCapacity = BufferArrayGrouper.requiredBufferCapacity(
          cardinality,
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentMetadataQueryQueryToolChest.java`
#### Snippet
```java
                                        ? arg1.getAggregators()
                                              .values()
                                              .toArray(new AggregatorFactory[0])
                                        : null;
      final AggregatorFactory[] aggs2 = arg2.getAggregators() != null
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentMetadataQueryQueryToolChest.java`
#### Snippet
```java
                                        ? arg2.getAggregators()
                                              .values()
                                              .toArray(new AggregatorFactory[0])
                                        : null;
      final AggregatorFactory[] merged = AggregatorFactory.mergeAggregators(Arrays.asList(aggs1, aggs2));
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/extraction/RegexDimExtractionFn.java`
#### Snippet
```java
    byte[] replaceStrBytes;
    if (replaceMissingValueWith == null) {
      replaceStrBytes = new byte[]{};
    } else {
      replaceStrBytes = StringUtils.toUtf8(replaceMissingValueWith);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptAggregator.java`
#### Snippet
```java
  public JavaScriptAggregator(List<BaseObjectColumnValueSelector> selectorList, ScriptAggregator script)
  {
    this.selectorList = selectorList.toArray(new BaseObjectColumnValueSelector[0]);
    this.script = script;

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptBufferAggregator.java`
#### Snippet
```java
  )
  {
    this.selectorList = selectorList.toArray(new BaseObjectColumnValueSelector[0]);
    this.script = script;
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
    }

    return mergedAggregators == null ? null : mergedAggregators.values().toArray(new AggregatorFactory[0]);
  }
}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/aggregation/JavaScriptAggregatorFactory.java`
#### Snippet
```java
              public Object run(final Context cx)
              {
                return fnReset.call(cx, scope, scope, new Object[]{});
              }
            }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
                                 .toArray(AggregatorFactory[]::new);
    } else {
      aggregatorFactories = query.getAggregatorSpecs().toArray(new AggregatorFactory[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
      }

      return helpers.toArray(new RowBasedKeySerdeHelper[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregator.java`
#### Snippet
```java
  )
  {
    this(selectorPlusList.toArray(new ColumnSelectorPlus[0]), byRow);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesSerde.java`
#### Snippet
```java
      {
        if (collector == null) {
          return new byte[]{};
        }
        ByteBuffer val = collector.toByteBuffer();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/IntIteratorUtils.java`
#### Snippet
```java
    MergeIntIterator(List<IntIterator> iterators)
    {
      this.iterators = iterators.toArray(new IntIterator[0]);
      pQueue = new long[iterators.size()];
      pQueueSize = 0;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/VirtualColumns.java`
#### Snippet
```java
  {
    // VirtualColumn[] instead of List<VirtualColumn> to aid Jackson serialization.
    return virtualColumns.toArray(new VirtualColumn[0]);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/IdMapping.java`
#### Snippet
```java
      forwardMapping.defaultReturnValue(-1);

      return new Builder(forwardMapping, new int[0], false);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/data/RoaringBitmapSerdeFactory.java`
#### Snippet
```java
    {
      if (val == null || val.size() == 0) {
        return new byte[]{};
      }
      return val.toBytes();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/data/ConciseBitmapSerdeFactory.java`
#### Snippet
```java
    {
      if (val == null || val.isEmpty()) {
        return new byte[]{};
      }
      return val.toBytes();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/nested/NestedDataComplexTypeSerde.java`
#### Snippet
```java
      {
        if (val == null) {
          return new byte[0];
        }
        try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/generator/GeneratorSchemaInfo.java`
#### Snippet
```java
  public AggregatorFactory[] getAggsArray()
  {
    return aggs.toArray(new AggregatorFactory[0]);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexSchema.java`
#### Snippet
```java
      this.virtualColumns = VirtualColumns.EMPTY;
      this.dimensionsSpec = DimensionsSpec.EMPTY;
      this.metrics = new AggregatorFactory[]{};
      this.rollup = true;
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
  {
    if (words == null) {
      return new int[]{};
    }
    return Arrays.copyOf(words, lastWordIndex + 1);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceSerde.java`
#### Snippet
```java
      public byte[] toBytes(VarianceAggregatorCollector collector)
      {
        return collector == null ? new byte[]{} : collector.toByteArray();
      }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
        throw new UnsupportedOperationException("can't get timeRange from unsorted facts data.");
      }
      IncrementalIndexRow start = new IncrementalIndexRow(timeStart, new Object[]{}, dimensionDescsList);
      IncrementalIndexRow end = new IncrementalIndexRow(timeEnd, new Object[]{}, dimensionDescsList);
      ConcurrentNavigableMap<IncrementalIndexRow, IncrementalIndexRow> subMap =
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
      }
      IncrementalIndexRow start = new IncrementalIndexRow(timeStart, new Object[]{}, dimensionDescsList);
      IncrementalIndexRow end = new IncrementalIndexRow(timeEnd, new Object[]{}, dimensionDescsList);
      ConcurrentNavigableMap<IncrementalIndexRow, IncrementalIndexRow> subMap =
          ((ConcurrentNavigableMap<IncrementalIndexRow, IncrementalIndexRow>) facts).subMap(start, end);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
      {
        if (h == null) {
          return new byte[]{};
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
          words = new int[]{ConciseSetUtils.onesUntil(leftoverBits)};
        } else {
          words = new int[]{};
        }
      }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
  {
    if (words == null) {
      return new byte[]{};
    }
    ByteBuffer buf = ByteBuffer.allocate(words.capacity() * Integer.BYTES);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
    // Sorted array approach was benchmarked and proven to be faster than PriorityQueue (as in doUnion()) up to 100
    // bitsets.
    WordIterator[] theQ = iterators.toArray(new WordIterator[0]);
    int qSize = theQ.length;
    partialSort(theQ, qSize - 1, qSize, INTERSECTION_COMPARATOR);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
  {
    this.keySelector = keySelector;
    this.valueSelectors = valueSelectors.toArray(new BaseDoubleColumnValueSelector[0]);
    values = new double[valueSelectors.size()];
    sketch = new ArrayOfDoublesUpdatableSketchBuilder().setNominalEntries(nominalEntries)
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildBufferAggregator.java`
#### Snippet
```java
  {
    this.keySelector = keySelector;
    this.valueSelectors = valueSelectors.toArray(new BaseDoubleColumnValueSelector[0]);
    this.nominalEntries = nominalEntries;
    this.maxIntermediateSize = maxIntermediateSize;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
      gssContext.requestCredDeleg(true);
      // Establish context
      byte[] inToken = new byte[0];
      byte[] outToken = gssContext.initSecContext(inToken, 0, inToken.length);
      gssContext.dispose();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/ChannelCounters.java`
#### Snippet
```java
      return null;
    } else {
      return longList.toArray(new long[0]);
    }
  }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
        new TimestampSpec(ColumnHolder.TIME_COLUMN_NAME, "millis", null),
        new DimensionsSpec(dimensionsAndAggregators.lhs),
        dimensionsAndAggregators.rhs.toArray(new AggregatorFactory[0]),
        makeGranularitySpecForIngestion(querySpec.getQuery(), querySpec.getColumnMappings(), isRollupQuery, jsonMapper),
        new TransformSpec(null, Collections.emptyList())
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomDimFilter.java`
#### Snippet
```java
        .appendString(dimension)
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(extractionFn == null ? new byte[0] : extractionFn.getCacheKey())
        .appendByte(DimFilterUtils.STRING_SEPARATOR)
        .appendByteArray(hash.asBytes())
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/updater/NoopBasicAuthorizerMetadataStorageUpdater.java`
#### Snippet
```java
  public byte[] getCurrentUserMapBytes(String prefix)
  {
    return new byte[0];
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/updater/NoopBasicAuthorizerMetadataStorageUpdater.java`
#### Snippet
```java
  public byte[] getCurrentRoleMapBytes(String prefix)
  {
    return new byte[0];
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/updater/NoopBasicAuthorizerMetadataStorageUpdater.java`
#### Snippet
```java
  public byte[] getCurrentGroupMappingMapBytes(String prefix)
  {
    return new byte[0];
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/NoopBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
  public byte[] getCachedSerializedUserMap(String prefix)
  {
    return new byte[0];
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/NoopBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
  public byte[] getCurrentUserMapBytes(String prefix)
  {
    return new byte[0];
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/FSSpideringIterator.java`
#### Snippet
```java
    try {
      final FileStatus[] statii = fs.listStatus(path);
      return new FSSpideringIterator(fs, statii == null ? new FileStatus[]{} : statii);
    }
    catch (FileNotFoundException e) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/FSSpideringIterator.java`
#### Snippet
```java
    }
    catch (FileNotFoundException e) {
      return new FSSpideringIterator(fs, new FileStatus[]{});
    }
    catch (IOException e) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputFormat.java`
#### Snippet
```java
            statusList.add(path.getFileSystem(job).getFileStatus(path));
          }
          return statusList.toArray(new FileStatus[0]);
        }
      };
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-service/src/main/java/org/apache/druid/indexing/common/IndexTaskClient.java`
#### Snippet
```java
        encodedPathSuffix,
        encodedQueryString,
        new byte[0],
        new StringFullResponseHandler(StandardCharsets.UTF_8),
        retry
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopTask.java`
#### Snippet
```java
    }
    final ClassLoader classLoader = new URLClassLoader(
        localClassLoaderURLs.toArray(new URL[0]),
        parent
    );
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java

      if (aggregatorFactoryLists.isEmpty()) {
        return new AggregatorFactory[0];
      }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
      final AggregatorFactory[] mergedAggregators = AggregatorFactory.mergeAggregators(
          aggregatorFactoryLists.stream()
                                .map(xs -> xs.toArray(new AggregatorFactory[0]))
                                .collect(Collectors.toList())
      );
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/distribution/StringSketch.java`
#### Snippet
```java
    );
    StringTuple[] partitions = delegate.getQuantiles(evenPartitionCount + 1); // add 1 since this returns endpoints
    return new PartitionBoundaries((partitions == null) ? new StringTuple[0] : partitions);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentAllocationQueue.java`
#### Snippet
```java
    TreeSet<Interval> sortedSet = new TreeSet<>(Comparators.intervalsByStartThenEnd());
    usedSegments.forEach(segment -> sortedSet.add(segment.getInterval()));
    return sortedSet.toArray(new Interval[0]);
  }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/RedisStandaloneCache.java`
#### Snippet
```java
    try (Jedis jedis = pool.getResource()) {

      List<byte[]> byteValues = jedis.mget(byteKeys.toArray(new byte[0][]));

      Map<NamedKey, byte[]> results = new HashMap<>();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-contrib/statsd-emitter/src/main/java/org/apache/druid/emitter/statsd/StatsDEmitter.java`
#### Snippet
```java
        .hostname(config.getHostname())
        .port(config.getPort())
        .constantTags(config.isDogstatsd() ? config.getDogstatsdConstantTags().toArray(new String[0]) : EMPTY_ARRAY)
        .errorHandler(new StatsDClientErrorHandler()
        {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/Metrics.java`
#### Snippet
```java
      }

      String[] dimensions = metric.dimensions.toArray(new String[0]);
      String formattedName = PATTERN.matcher(StringUtils.toLowerCase(name)).replaceAll("_");
      SimpleCollector collector = null;
```

## RuleId[ruleID=RedundantUnmodifiable]
### RedundantUnmodifiable
Redundant usage of the 'unmodifiableList' wrapper
in `processing/src/main/java/org/apache/druid/query/spec/MultipleIntervalSegmentSpec.java`
#### Snippet
```java
  )
  {
    this.intervals = Collections.unmodifiableList(JodaUtils.condenseIntervals(intervals));
  }

```

### RedundantUnmodifiable
Redundant usage of the 'unmodifiableList' wrapper
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java
    Preconditions.checkArgument(intervals.size() > 0, "must specify at least one interval");
    this.dimension = dimension;
    this.intervals = Collections.unmodifiableList(JodaUtils.condenseIntervals(intervals));
    this.extractionFn = extractionFn;
    this.filterTuning = filterTuning;
```

## RuleId[ruleID=NonExceptionNameEndsWithException]
### NonExceptionNameEndsWithException
Non-exception class name `SanitizableException` ends with 'Exception'
in `core/src/main/java/org/apache/druid/common/exception/SanitizableException.java`
#### Snippet
```java
import java.util.function.Function;

public interface SanitizableException
{
  /**
```

## RuleId[ruleID=TypeParameterExtendsObject]
### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `core/src/main/java/org/apache/druid/java/util/emitter/core/EventMap.java`
#### Snippet
```java
     * Adds all key -> value pairs from other map
     */
    public Builder putAll(Map<? extends String, ? extends Object> other)
    {
      map.putAll(other);
```

### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `server/src/main/java/org/apache/druid/guice/DruidInjectorBuilder.java`
#### Snippet
```java
  }

  public DruidInjectorBuilder addAll(List<? extends Object> inputs)
  {
    for (Object o : inputs) {
```

### TypeParameterExtendsObject
Wildcard type argument `?` explicitly extends 'java.lang.Object'
in `processing/src/main/java/org/apache/druid/segment/nested/NestedDataComplexTypeSerde.java`
#### Snippet
```java

      @Override
      public Class<? extends Object> getClazz()
      {
        return StructuredData.class;
```

### TypeParameterExtendsObject
Type parameter `R` explicitly extends 'java.lang.Object'
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/averagers/BaseAverager.java`
#### Snippet
```java
 * @param <R> The type of result the averager is expected to produce
 */
public abstract class BaseAverager<I, R extends Object> implements Averager<R>
{

```

## RuleId[ruleID=OptionalGetWithoutIsPresent]
### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
        join.getLeft().getRowType(),
        right
    ).get();
    final boolean isLeftDirectAccessPossible = enableLeftScanDirect && (left instanceof DruidQueryRel);

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidUnionDataSourceRule.java`
#### Snippet
```java
          DruidUnionDataSourceRel.create(
              (Union) newUnionRel,
              getColumnNamesIfTableOrUnion(firstDruidRel, plannerContext).get(),
              firstDruidRel.getPlannerContext()
          )
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidUnionDataSourceRule.java`
#### Snippet
```java
          DruidUnionDataSourceRel.create(
              unionRel,
              getColumnNamesIfTableOrUnion(firstDruidRel, plannerContext).get(),
              firstDruidRel.getPlannerContext()
          )
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `server/src/main/java/org/apache/druid/client/CachingQueryRunner.java`
#### Snippet
```java
          cacheId,
          alignToActualDataInterval(segmentDescriptor),
          Bytes.concat(cacheKeyPrefix.get(), strategy.computeCacheKey(query))
      );
    } else {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `processing/src/main/java/org/apache/druid/frame/key/RowKeyReader.java`
#### Snippet
```java
  {
    // OK to use "get" since our create method guarantees that all fields have types.
    final ColumnType columnType = signature.getColumnType(fieldNumber).get();

    if (columnType.isNumeric() || columnType.is(ValueType.COMPLEX)) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryRunnerFactory.java`
#### Snippet
```java
                                         .map(x -> x.size())
                                         .max(Comparator.comparing(Integer::valueOf))
                                         .get();

          int maxSegmentPartitionsOrderedInMemory = query.getMaxSegmentPartitionsOrderedInMemory() == null
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterCorrelations.java`
#### Snippet
```java
            );
        perColumnCorrelations.add(
            directRewriteCorrelations.get(rhsRewriteCandidate.getRhsColumn()).get()
        );
        continue;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerImpl.java`
#### Snippet
```java

    if (stageDef.doesShuffle()) {
      final ClusterBy clusterBy = workOrder.getStageDefinition().getShuffleSpec().get().getClusterBy();

      final CountingOutputChannelFactory shuffleOutputChannelFactory =
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
              (DataSourceMSQDestination) task.getQuerySpec().getDestination(),
              queryKernel.getStageDefinition(shuffleStageId).getSignature(),
              queryKernel.getStageDefinition(shuffleStageId).getShuffleSpec().get().getClusterBy(),
              partitionBoundaries,
              mayHaveMultiValuedClusterByFields
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
          final ObjectMapper mapper = MSQTasks.decorateObjectMapperForKeyCollectorSnapshot(
              context.jsonMapper(),
              stageDef.getShuffleSpec().get().getClusterBy(),
              stageDef.getShuffleSpec().get().doesAggregateByClusterKey()
          );
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/data/input/kafkainput/KafkaInputReader.java`
#### Snippet
```java
          mergedHeaderMap.putIfAbsent(
              keyColumnName,
              keyRow.getEvent().entrySet().stream().findFirst().get().getValue()
          );
        }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final OutputStream out = Utils.makePathAndOutputStream(
          context,
          config.makeSegmentPartitionInfoPath(config.getGranularitySpec().bucketInterval(bucket).get()),
          config.isOverwriteFiles()
      );
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
      Bucket bucket = Bucket.fromGroupKey(keyBytes.getGroupKey()).lhs;

      final Interval interval = config.getGranularitySpec().bucketInterval(bucket.time).get();

      ListeningExecutorService persistExecutor = null;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
      SortableBytes.useSortableBytesAsMapOutputKey(job, IndexGeneratorPartitioner.class);

      int numReducers = Iterables.size(config.getAllBuckets().get());
      if (numReducers == 0) {
        throw new RuntimeException("No buckets?? seems there is no data to index.");
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
              inputRow
          );
          hllCollectors.get(interval).get()
                       .add(HASH_FUNCTION.hashBytes(jsonMapper.writeValueAsBytes(groupKey)).asBytes());
        } else {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
                    Optional<SupervisorSpec> theSpec = manager.getSupervisorSpec(x);
                    if (theSpec.isPresent()) {
                      theBuilder.withSpec(manager.getSupervisorSpec(x).get());
                    }
                  }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
                        // for example, broker does not have bindings for all fields of `KafkaSupervisorSpec` or
                        // `KinesisSupervisorSpec`
                        theBuilder.withSpecString(objectMapper.writeValueAsString(manager.getSupervisorSpec(x).get()));
                      }
                      catch (JsonProcessingException e) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
                        throw new RuntimeException(e);
                      }
                      theBuilder.withType(manager.getSupervisorSpec(x).get().getType())
                                .withSource(manager.getSupervisorSpec(x).get().getSource())
                                .withSuspended(manager.getSupervisorSpec(x).get().isSuspended());
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
                      }
                      theBuilder.withType(manager.getSupervisorSpec(x).get().getType())
                                .withSource(manager.getSupervisorSpec(x).get().getSource())
                                .withSuspended(manager.getSupervisorSpec(x).get().isSuspended());
                    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
                      theBuilder.withType(manager.getSupervisorSpec(x).get().getType())
                                .withSource(manager.getSupervisorSpec(x).get().getSource())
                                .withSuspended(manager.getSupervisorSpec(x).get().isSuspended());
                    }
                  }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorResource.java`
#### Snippet
```java
          if (manager.suspendOrResumeSupervisor(id, suspend)) {
            Optional<SupervisorSpec> spec = manager.getSupervisorSpec(id);
            return Response.ok(spec.get()).build();
          } else {
            Optional<SupervisorSpec> spec = manager.getSupervisorSpec(id);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
        .map(DataSegment::getInterval)
        .max(Comparators.intervalsByStartThenEnd())
        .get();
    Map<Interval, String> maxCreatedDate = new HashMap<>();
    Map<Interval, List<DataSegment>> segments = new HashMap<>();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        }

        taskData.status = taskStorage.getStatus(taskId).get();
      }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      for (TaskGroup group : taskGroups) {
        for (Entry<String, TaskData> entry : group.tasks.entrySet()) {
          entry.getValue().status = taskStorage.getStatus(entry.getKey()).get();
        }
      }
```

## RuleId[ruleID=ConstantValue]
### ConstantValue
Condition `otherBuffer == null` is always `true` when reached
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogCollector.java`
#### Snippet
```java
    }

    if (storageBuffer == null && otherBuffer == null) {
      return true;
    }
```

### ConstantValue
Condition `typeName == SqlTypeName.DATE` is always `true`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/Calcites.java`
#### Snippet
```java
      final TimestampString timestampString = (TimestampString) RexLiteral.value(literal);
      return CALCITE_TIMESTAMP_PARSER.parse(timestampString.toString()).withZoneRetainFields(timeZone);
    } else if (typeName == SqlTypeName.DATE) {
      final DateString dateString = (DateString) RexLiteral.value(literal);
      return CALCITE_DATE_PARSER.parse(dateString.toString()).withZoneRetainFields(timeZone);
```

### ConstantValue
Condition `kind == SqlKind.NOT` is always `true`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/Expressions.java`
#### Snippet
```java
        return new OrDimFilter(filters);
      } else {
        assert kind == SqlKind.NOT;
        return new NotDimFilter(Iterables.getOnlyElement(filters));
      }
```

### ConstantValue
Condition `columnName == null` is always `false`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/Expressions.java`
#### Snippet
```java
    final String columnName = rowSignature.getColumnName(ref.getIndex());
    final Optional<ColumnType> columnType = rowSignature.getColumnType(ref.getIndex());
    if (columnName == null) {
      throw new ISE("Expression referred to nonexistent index[%d]", ref.getIndex());
    }
```

### ConstantValue
Condition `intervals != null` is always `true`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Filtration.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = intervals != null ? intervals.hashCode() : 0;
    result = 31 * result + (dimFilter != null ? dimFilter.hashCode() : 0);
    return result;
```

### ConstantValue
Condition `range.hasLowerBound()` is always `true` when reached
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
    } else if (range.hasUpperBound() && !range.hasLowerBound()) {
      return Range.upTo(Long.parseLong(range.upperEndpoint().getValue()), range.upperBoundType());
    } else if (!range.hasUpperBound() && range.hasLowerBound()) {
      return Range.downTo(Long.parseLong(range.lowerEndpoint().getValue()), range.lowerBoundType());
    } else {
```

### ConstantValue
Condition `columnName == null` is always `false`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
      final RexInputRef ref = (RexInputRef) rexNode;
      final String columnName = rowSignature.getColumnName(ref.getIndex());
      if (columnName == null) {
        throw new ISE("PostAggregator referred to nonexistent index[%d]", ref.getIndex());
      }
```

### ConstantValue
Value `exception` is always 'null'
in `core/src/main/java/org/apache/druid/java/util/common/UnsafeUtils.java`
#### Snippet
```java
      UNSAFE = theUnsafe;
      UNSAFE_CLASS = unsafeClass;
      UNSAFE_NOT_SUPPORTED_EXCEPTION = exception;
    } else {
      UNSAFE_CLASS = null;
```

### ConstantValue
Condition `iter != null` is always `true`
in `core/src/main/java/org/apache/druid/java/util/common/guava/MergeIterator.java`
#### Snippet
```java
      final PeekingIterator<T> iter = Iterators.peekingIterator(iterator);

      if (iter != null && iter.hasNext()) {
        pQueue.add(iter);
      }
```

### ConstantValue
Condition `function == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/ExprListenerImpl.java`
#### Snippet
```java
      // Built-in functions.
      final Function function = Parser.getFunction(fnName);
      if (function == null) {
        throw new RE("function '%s' is not defined.", fnName);
      }
```

### ConstantValue
Condition `function == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/ExprListenerImpl.java`
#### Snippet
```java
    // Built-in functions.
    final ApplyFunction function = Parser.getApplyFunction(fnName);
    if (function == null) {
      throw new RE("function '%s' is not defined.", fnName);
    }
```

### ConstantValue
Condition `INSTANCE == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionProcessing.java`
#### Snippet
```java
  {
    // this should only be null in a unit test context, in production this will be injected by the null handling module
    if (INSTANCE == null) {
      throw new IllegalStateException(
          "ExpressionProcessing module not initialized, call ExpressionProcessing.initializeForTests() or one of its variants"
```

### ConstantValue
Condition `parsed == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
    walker.walk(listener, parseTree);
    Expr parsed = listener.getAST();
    if (parsed == null) {
      throw new RE("Failed to parse expression: %s", in);
    }
```

### ConstantValue
Condition `bindings != null` is always `true`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      this.arrayElementType = elementType;
      this.arrayValues = arrayValues;
      this.bindings = bindings != null ? bindings : InputBindings.nilBindings();
      this.scoped = lambdaIdentifier != null;
    }
```

### ConstantValue
Condition `bindings != null` is always `true`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      this.arrayValues = arrayValues;
      this.accumulatorValue = initialAccumulator;
      this.bindings = bindings != null ? bindings : InputBindings.nilBindings();
    }

```

### ConstantValue
Condition `bindings != null` is always `true`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      }
      this.accumulatorIdentifier = ids.get(ids.size() - 1);
      this.bindings = bindings != null ? bindings : InputBindings.nilBindings();
      this.accumulatorValue = accumulatorValue;
    }
```

### ConstantValue
Condition `bindings != null` is always `true`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
        lambdaBindings.put(lambdaIdentifier, null);
      }
      this.bindings = bindings != null ? bindings : InputBindings.nilBindings();
    }

```

### ConstantValue
Condition `bindings != null` is always `true`
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
      }

      this.bindings = bindings != null ? bindings : InputBindings.nilBindings();
    }

```

### ConstantValue
Condition `config != null` is always `true`
in `core/src/main/java/org/apache/druid/utils/DynamicConfigProviderUtils.java`
#### Snippet
```java
  {
    HashMap<String, String> newConfig = new HashMap<>();
    if (config != null) {
      for (Map.Entry<String, Object> entry : config.entrySet()) {
        if (!dynamicConfigProviderKey.equals(entry.getKey())) {
```

### ConstantValue
Condition `config != null` is always `true`
in `core/src/main/java/org/apache/druid/utils/DynamicConfigProviderUtils.java`
#### Snippet
```java
  {
    HashMap<String, Object> newConfig = new HashMap<>();
    if (config != null) {
      for (Map.Entry<String, Object> entry : config.entrySet()) {
        if (!dynamicConfigProviderKey.equals(entry.getKey())) {
```

### ConstantValue
Condition `dynamicConfigProviderJson != null` is always `true`
in `core/src/main/java/org/apache/druid/utils/DynamicConfigProviderUtils.java`
#### Snippet
```java
  private static Map<String, String> extraConfigFromProvider(Object dynamicConfigProviderJson, ObjectMapper mapper)
  {
    if (dynamicConfigProviderJson != null) {
      DynamicConfigProvider dynamicConfigProvider = mapper.convertValue(dynamicConfigProviderJson, DynamicConfigProvider.class);
      return dynamicConfigProvider.getConfig();
```

### ConstantValue
Condition `caught == null` is always `false`
in `core/src/main/java/org/apache/druid/utils/CloseableUtils.java`
#### Snippet
```java
  ) throws E
  {
    if (caught == null) {
      // Incorrect usage; throw an exception with an error message that may be useful to the programmer.
      final RuntimeException e1 = new IllegalStateException("Must be called with non-null caught exception");
```

### ConstantValue
Condition `allFuturesToCancel.isEmpty()` is always `false`
in `core/src/main/java/org/apache/druid/common/guava/GuavaUtils.java`
#### Snippet
```java
    allFuturesToCancel.add(combinedFuture);
    allFuturesToCancel.addAll(futures);
    if (allFuturesToCancel.isEmpty()) {
      return;
    }
```

### ConstantValue
Condition `location == null` is always `false`
in `core/src/main/java/org/apache/druid/indexer/TaskStatus.java`
#### Snippet
```java
  public TaskStatus withLocation(TaskLocation location)
  {
    if (location == null) {
      location = TaskLocation.unknown();
    }
```

### ConstantValue
Condition `status != null` is always `true`
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
      this.statusCode = status;
    } else {
      if (statusCode != null && status != null && statusCode != status) {
        throw new RE("statusCode[%s] and status[%s] must match", statusCode, status);
      }
```

### ConstantValue
Condition `left == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      DateTimeZone timeZone = DateTimes.inferTzFromString(args.get(2).eval(bindings).asString());

      if (left == null || right == null) {
        return ExprEval.of(null);
      } else {
```

### ConstantValue
Condition `left == null || right == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      DateTimeZone timeZone = DateTimes.inferTzFromString(args.get(2).eval(bindings).asString());

      if (left == null || right == null) {
        return ExprEval.of(null);
      } else {
```

### ConstantValue
Condition `right == null` is always `false` when reached
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      DateTimeZone timeZone = DateTimes.inferTzFromString(args.get(2).eval(bindings).asString());

      if (left == null || right == null) {
        return ExprEval.of(null);
      } else {
```

### ConstantValue
Condition `x == null` is always `false`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    protected ExprEval eval(String x, int y)
    {
      if (x == null) {
        return ExprEval.of(null);
      }
```

### ConstantValue
Condition `moduleClassName != null` is always `true`
in `server/src/main/java/org/apache/druid/guice/DruidInjectorBuilder.java`
#### Snippet
```java
    // Modules config is optional: it won't be present in tests or clients.
    String moduleClassName = moduleClass.getName();
    if (moduleClassName != null && modulesConfig.getExcludeList().contains(moduleClassName)) {
      log.info("Not loading module [%s] because it is present in excludeList", moduleClassName);
      return false;
```

### ConstantValue
Condition `ex instanceof InterruptedException` is always `false`
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
          }
          catch (Exception ex) {
            if (ex instanceof InterruptedException) {
              Thread.currentThread().interrupt();
            } else {
```

### ConstantValue
Condition `strategy != null` is always `true`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        if (bytes != null) {
          TypeStrategy<?> strategy = type.getStrategy();
          assert strategy != null;
          ByteBuffer bb = ByteBuffer.wrap(bytes);
          return ofComplex(type, strategy.read(bb));
```

### ConstantValue
Condition `idBytes == null` is always `false`
in `server/src/main/java/org/apache/druid/client/cache/MapCache.java`
#### Snippet
```java
    synchronized (namespaceId) {
      idBytes = getNamespaceId(namespace);
      if (idBytes == null) {
        return;
      }
```

### ConstantValue
Condition `current instanceof QueryDataSource` is always `false`
in `server/src/main/java/org/apache/druid/server/ClientQuerySegmentWalker.java`
#### Snippet
```java
        }

        if (current instanceof QueryDataSource) {
          throw new ISE("Got a QueryDataSource[%s], should've walked it away in the loop above.", current);
        }
```

### ConstantValue
Value `dropExisting` is always 'true'
in `server/src/main/java/org/apache/druid/server/coordinator/duty/CompactSegments.java`
#### Snippet
```java
          if (segmentsToCompact.stream().allMatch(dataSegment -> dataSegment.isTombstone())) {
            dropExisting = true;
            LOG.info("Forcing dropExisting to %s since all segments to compact are tombstones", dropExisting);
          }
        }
```

### ConstantValue
Value `batchAnnouncer` is always 'null'
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncerProvider.java`
#### Snippet
```java
  public DataSegmentAnnouncer get()
  {
    return batchAnnouncer;
  }
}
```

### ConstantValue
Condition `segmentId == null` is always `false`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
    // Here, we check one more time if the segment is closed.
    // If the segment is closed after this line, ReferenceCountingSegmentQueryRunner will handle and do the right thing.
    if (segmentId == null || segmentInterval == null) {
      return new ReportTimelineMissingSegmentQueryRunner<>(segmentDescriptor);
    }
```

### ConstantValue
Condition `segmentId == null || segmentInterval == null` is always `false`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
    // Here, we check one more time if the segment is closed.
    // If the segment is closed after this line, ReferenceCountingSegmentQueryRunner will handle and do the right thing.
    if (segmentId == null || segmentInterval == null) {
      return new ReportTimelineMissingSegmentQueryRunner<>(segmentDescriptor);
    }
```

### ConstantValue
Condition `segmentInterval == null` is always `false` when reached
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
    // Here, we check one more time if the segment is closed.
    // If the segment is closed after this line, ReferenceCountingSegmentQueryRunner will handle and do the right thing.
    if (segmentId == null || segmentInterval == null) {
      return new ReportTimelineMissingSegmentQueryRunner<>(segmentDescriptor);
    }
```

### ConstantValue
Condition `result == null` is always `false`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
  private void updateRequestStatus(DataSegmentChangeRequest changeRequest, Status result)
  {
    if (result == null) {
      result = Status.failed("Unknown reason. Check server logs.");
    }
```

### ConstantValue
Value `serviceName` is always 'null'
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoveryFactory.java`
#### Snippet
```java
  {
    if (serviceName == null) {
      return new ServerDiscoverySelector(new NoopServiceProvider(), serviceName);
    }

```

### ConstantValue
Condition `taskId != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/ChatHandlerResource.java`
#### Snippet
```java
  public Object doTaskChat(@PathParam("id") String handlerId, @Context HttpHeaders headers)
  {
    if (taskId != null) {
      final List<String> requestTaskIds = headers.getRequestHeader(TASK_ID_HEADER);
      final String requestTaskId = requestTaskIds != null && !requestTaskIds.isEmpty()
```

### ConstantValue
Condition `currentFirehose != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/CombiningFirehoseFactory.java`
#### Snippet
```java
      if (firehoseFactoryIterator.hasNext()) {
        try {
          if (currentFirehose != null) {
            currentFirehose.close();
          }
```

### ConstantValue
Condition `currentFirehose != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/CombiningFirehoseFactory.java`
#### Snippet
```java
        }
        catch (IOException e) {
          if (currentFirehose != null) {
            try {
              currentFirehose.close();
```

### ConstantValue
Condition `dimSelector != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/IngestSegmentFirehose.java`
#### Snippet
```java
                                  .makeDimensionSelector(new DefaultDimensionSpec(dim, dim));
                              // dimSelector is null if the dimension is not present
                              if (dimSelector != null) {
                                dimSelectors.put(dim, dimSelector);
                              }
```

### ConstantValue
Condition `objects == null` is always `false`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PrefetchSqlFirehoseFactory.java`
#### Snippet
```java
  public Firehose connect(InputRowParser<Map<String, Object>> firehoseParser, @Nullable File temporaryDirectory)
  {
    if (objects == null) {
      objects = ImmutableList.copyOf(Preconditions.checkNotNull(initObjects(), "objects"));
    }
```

### ConstantValue
Condition `objects == null` is always `false`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/PrefetchSqlFirehoseFactory.java`
#### Snippet
```java
  protected void initializeObjectsIfNeeded()
  {
    if (objects == null) {
      objects = ImmutableList.copyOf(Preconditions.checkNotNull(initObjects(), "initObjects"));
    }
```

### ConstantValue
Condition `timestampObj != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
        if (segmentMetadata != null) {
          Object timestampObj = segmentMetadata.get(COMMIT_METADATA_TIMESTAMP_KEY);
          if (timestampObj != null) {
            long timestamp = ((Long) timestampObj).longValue();
            if (timestamp > latestCommitTime) {
```

### ConstantValue
Condition `shutoffTimeMillis == null` is always `false`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

      try {
        DateTime shutoffAt = shutoffTimeMillis == null ? DateTimes.nowUtc() : DateTimes.of(shutoffTimeMillis);
        log.info("Setting Firehose shutoffTime to %s", shutoffTimeMillis);
        long shutoffTimeoutMillis = Math.max(shutoffAt.getMillis() - System.currentTimeMillis(), 0);
```

### ConstantValue
Condition `bufferSize == null` is always `false`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

    this.serviceName = serviceName;
    this.bufferSize = bufferSize == null || bufferSize <= 0 ? DEFAULT_BUFFER_SIZE : bufferSize;
    this.maxIdleTimeMillis = (maxIdleTimeMillis == null || maxIdleTimeMillis <= 0) ? Long.MAX_VALUE : maxIdleTimeMillis;
    this.chatHandlerProvider = chatHandlerProvider;
```

### ConstantValue
Condition `chatHandlerProvider != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java

      eventReceiverFirehoseRegister.unregister(serviceName);
      if (chatHandlerProvider != null) {
        chatHandlerProvider.unregister(serviceName);
      }
```

### ConstantValue
Condition `chatHandlerProvider != null` is always `true`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
    final EventReceiverFirehose firehose = new EventReceiverFirehose(firehoseParser);

    if (chatHandlerProvider != null) {
      log.info("Found chathandler of class[%s]", chatHandlerProvider.getClass().getName());
      chatHandlerProvider.register(serviceName, firehose);
```

### ConstantValue
Value `type` is always 'null'
in `services/src/main/java/org/apache/druid/cli/convert/DataSegmentPusherDefaultConverter.java`
#### Snippet
```java
    Map<String, String> retVal = new HashMap<>();

    retVal.put("druid.pusher.type", type);
    retVal.putAll(new Rename("druid.pusher.s3.bucket", "druid.storage.bucket").convert(props));
    retVal.putAll(new Rename("druid.pusher.s3.baseKey", "druid.storage.baseKey").convert(props));
```

### ConstantValue
Value `isTriviallyComplete` is always 'false'
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorterProgressTracker.java`
#### Snippet
```java
        levelToMergedBatchesCopy,
        totalMergersForUltimateLevel,
        isTriviallyComplete
    );
  }
```

### ConstantValue
Condition `serviceImplName == null` is always `false`
in `processing/src/main/java/org/apache/druid/guice/ExtensionsLoader.java`
#### Snippet
```java
    {
      final String serviceImplName = serviceImpl.getClass().getName();
      if (serviceImplName == null) {
        log.warn(
            "Implementation [%s] was ignored because it doesn't have a canonical name, "
```

### ConstantValue
Condition `adapter == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryEngine.java`
#### Snippet
```java
    final StorageAdapter adapter = segment.asStorageAdapter();

    if (adapter == null) {
      throw new ISE(
          "Null storage adapter found. Probably trying to issue a query against a segment being memory unmapped."
```

### ConstantValue
Condition `escape.isEmpty()` is always `false` when reached
in `processing/src/main/java/org/apache/druid/query/filter/LikeDimFilter.java`
#### Snippet
```java
      throw new IllegalArgumentException("Escape must be null or a single character");
    } else {
      this.escapeChar = (escape == null || escape.isEmpty()) ? null : escape.charAt(0);
    }

```

### ConstantValue
Condition `in == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
      public Queue accumulate(Queue accumulated, T in)
      {
        if (in == null) {
          throw new ISE("Cannot have null result");
        }
```

### ConstantValue
Condition `storageAdapter == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryEngine.java`
#### Snippet
```java
  )
  {
    if (storageAdapter == null) {
      throw new ISE(
          "Null storage adapter found. Probably trying to issue a query against a segment being memory unmapped."
```

### ConstantValue
Condition `query.getAggregatorSpecs() != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV2.java`
#### Snippet
```java
  {
    Set<String> aggsAndPostAggs = new HashSet();
    if (query.getAggregatorSpecs() != null) {
      for (AggregatorFactory af : query.getAggregatorSpecs()) {
        aggsAndPostAggs.add(af.getName());
```

### ConstantValue
Condition `query.getPostAggregatorSpecs() != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV2.java`
#### Snippet
```java
    }

    if (query.getPostAggregatorSpecs() != null) {
      for (PostAggregator pa : query.getPostAggregatorSpecs()) {
        aggsAndPostAggs.add(pa.getName());
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
    }
    int minOffset = buf.getInt(0);
    if (heapIndexUpdater != null) {
      heapIndexUpdater.updateHeapIndexForOffset(minOffset, -1);
    }
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
    buf.putInt(0, lastOffset);

    if (heapIndexUpdater != null) {
      heapIndexUpdater.updateHeapIndexForOffset(lastOffset, 0);
    }
```

### ConstantValue
Condition `minChild > -1` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
        int cmp = comparator.compare(minChildOffset, minGcOffset);
        minIndex = (cmp > 0) ? minGrandchild : minChild;
      } else if (minChild > -1) {
        minIndex = minChild;
      } else {
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
          buf.putInt(pos * Integer.BYTES, minOffset);
          buf.putInt(minIndex * Integer.BYTES, offset);
          if (heapIndexUpdater != null) {
            heapIndexUpdater.updateHeapIndexForOffset(minOffset, pos);
            heapIndexUpdater.updateHeapIndexForOffset(offset, minIndex);
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
            buf.putInt(minIndex * Integer.BYTES, parentOffset);
            buf.putInt(parent * Integer.BYTES, offset);
            if (heapIndexUpdater != null) {
              heapIndexUpdater.updateHeapIndexForOffset(offset, parent);
              heapIndexUpdater.updateHeapIndexForOffset(parentOffset, minIndex);
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
          buf.putInt(pos * Integer.BYTES, minOffset);
          buf.putInt(minIndex * Integer.BYTES, offset);
          if (heapIndexUpdater != null) {
            heapIndexUpdater.updateHeapIndexForOffset(offset, minIndex);
            heapIndexUpdater.updateHeapIndexForOffset(minOffset, pos);
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
    }
    int deletedOffset = buf.getInt(deletedIndex * Integer.BYTES);
    if (heapIndexUpdater != null) {
      heapIndexUpdater.updateHeapIndexForOffset(deletedOffset, -1);
    }
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
    buf.putInt(deletedIndex * Integer.BYTES, lastOffset);

    if (heapIndexUpdater != null) {
      heapIndexUpdater.updateHeapIndexForOffset(lastOffset, deletedIndex);
    }
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
      heapSize--;
      maxOffset = buf.getInt(0);
      if (heapIndexUpdater != null) {
        heapIndexUpdater.updateHeapIndexForOffset(maxOffset, -1);
      }
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
      heapSize--;
      maxOffset = buf.getInt(Integer.BYTES);
      if (heapIndexUpdater != null) {
        heapIndexUpdater.updateHeapIndexForOffset(maxOffset, -1);
      }
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
    buf.putInt(maxIndex * Integer.BYTES, lastOffset);

    if (heapIndexUpdater != null) {
      heapIndexUpdater.updateHeapIndexForOffset(maxOffset, -1);
      heapIndexUpdater.updateHeapIndexForOffset(lastOffset, maxIndex);
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
        buf.putInt(pos * Integer.BYTES, gpOffset);
        buf.putInt(grandparent * Integer.BYTES, offset);
        if (heapIndexUpdater != null) {
          heapIndexUpdater.updateHeapIndexForOffset(gpOffset, pos);
          heapIndexUpdater.updateHeapIndexForOffset(offset, grandparent);
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
    }

    if (heapIndexUpdater != null) {
      heapIndexUpdater.updateHeapIndexForOffset(offset, pos);
    }
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
          buf.putInt(parentIndex * Integer.BYTES, offset);
          buf.putInt(pos * Integer.BYTES, parentOffset);
          if (heapIndexUpdater != null) {
            heapIndexUpdater.updateHeapIndexForOffset(offset, parentIndex);
            heapIndexUpdater.updateHeapIndexForOffset(parentOffset, pos);
```

### ConstantValue
Condition `heapIndexUpdater != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ByteBufferMinMaxOffsetHeap.java`
#### Snippet
```java
          buf.putInt(parentIndex * Integer.BYTES, offset);
          buf.putInt(pos * Integer.BYTES, parentOffset);
          if (heapIndexUpdater != null) {
            heapIndexUpdater.updateHeapIndexForOffset(offset, parentIndex);
            heapIndexUpdater.updateHeapIndexForOffset(parentOffset, pos);
```

### ConstantValue
Condition `input == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
                            public ListenableFuture<AggregateResult> apply(final QueryRunner<ResultRow> input)
                            {
                              if (input == null) {
                                throw new ISE("Null queryRunner! Looks to be some segment unmapping action happening");
                              }
```

### ConstantValue
Condition `queryWatcher != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
    ListenableFuture<List<AggregateResult>> future = Futures.allAsList(futures);
    try {
      if (queryWatcher != null) {
        queryWatcher.registerQueryFuture(query, future);
      }
```

### ConstantValue
Condition `limitSpec != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/SpillingGrouper.java`
#### Snippet
```java
    this.keyObjComparator = keySerdeFactory.objectComparator(false);
    this.defaultOrderKeyObjComparator = keySerdeFactory.objectComparator(true);
    if (limitSpec != null) {
      // Sanity check; must not have "offset" at this point.
      Preconditions.checkState(!limitSpec.isOffset(), "Cannot push down offsets");
```

### ConstantValue
Condition `selector == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentAnalyzer.java`
#### Snippet
```java
                  .getColumnSelectorFactory()
                  .makeDimensionSelector(new DefaultDimensionSpec(columnName, columnName));
              if (selector == null) {
                return accumulated;
              }
```

### ConstantValue
Condition `o == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampCeilExprMacro.java`
#### Snippet
```java
        return true;
      }
      if (o == null || getClass() != o.getClass()) {
        return false;
      }
```

### ConstantValue
Condition `o == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
        return true;
      }
      if (o == null || getClass() != o.getClass()) {
        return false;
      }
```

### ConstantValue
Condition `o == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/expression/TimestampFloorExprMacro.java`
#### Snippet
```java
        return true;
      }
      if (o == null || getClass() != o.getClass()) {
        return false;
      }
```

### ConstantValue
Condition `breaksList != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
      return false;
    }
    if (breaksList != null ? !breaksList.equals(that.breaksList) : that.breaksList != null) {
      return false;
    }
```

### ConstantValue
Condition `fieldName != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
      return false;
    }
    if (fieldName != null ? !fieldName.equals(that.fieldName) : that.fieldName != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    result = 31 * result + (breaksList != null ? breaksList.hashCode() : 0);
```

### ConstantValue
Condition `fieldName != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    result = 31 * result + (breaksList != null ? breaksList.hashCode() : 0);
    result = 31 * result + (breaks != null ? Arrays.hashCode(breaks) : 0);
```

### ConstantValue
Condition `breaksList != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    result = 31 * result + (breaksList != null ? breaksList.hashCode() : 0);
    result = 31 * result + (breaks != null ? Arrays.hashCode(breaks) : 0);
    return result;
```

### ConstantValue
Condition `breaks != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    result = 31 * result + (breaksList != null ? breaksList.hashCode() : 0);
    result = 31 * result + (breaks != null ? Arrays.hashCode(breaks) : 0);
    return result;
  }
```

### ConstantValue
Condition `breaksList == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
    this.name = name;
    this.fieldName = fieldName;
    this.breaksList = (breaksList == null) ? new ArrayList<>() : breaksList;
    this.breaks = new float[this.breaksList.size()];
    for (int i = 0; i < this.breaksList.size(); ++i) {
```

### ConstantValue
Condition `combined == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
      {
        Histogram first = (Histogram) selector.getObject();
        if (combined == null) {
          combined = new Histogram(first);
        } else {
```

### ConstantValue
Condition `breaks != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramVisual.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(breaks != null, "breaks must not be null");
    Preconditions.checkArgument(counts != null, "counts must not be null");
    Preconditions.checkArgument(breaks.length == counts.length + 1, "breaks.length must be counts.length + 1");
```

### ConstantValue
Condition `counts != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramVisual.java`
#### Snippet
```java
  {
    Preconditions.checkArgument(breaks != null, "breaks must not be null");
    Preconditions.checkArgument(counts != null, "counts must not be null");
    Preconditions.checkArgument(breaks.length == counts.length + 1, "breaks.length must be counts.length + 1");

```

### ConstantValue
Condition `breaks != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramVisual.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(breaks != null, "breaks must not be null");
    Preconditions.checkArgument(counts != null, "counts must not be null");
    Preconditions.checkArgument(breaks.length == counts.length + 1, "breaks.length must be counts.length + 1");
```

### ConstantValue
Condition `counts != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramVisual.java`
#### Snippet
```java
  {
    Preconditions.checkArgument(breaks != null, "breaks must not be null");
    Preconditions.checkArgument(counts != null, "counts must not be null");
    Preconditions.checkArgument(breaks.length == counts.length + 1, "breaks.length must be counts.length + 1");

```

### ConstantValue
Condition `breaks != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/Histogram.java`
#### Snippet
```java
  public Histogram(float[] breaks)
  {
    Preconditions.checkArgument(breaks != null, "Histogram breaks must not be null");

    this.breaks = breaks;
```

### ConstantValue
Condition `aggregatorsList == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
  public static AggregatorFactory[] mergeAggregators(List<AggregatorFactory[]> aggregatorsList)
  {
    if (aggregatorsList == null || aggregatorsList.isEmpty()) {
      return null;
    }
```

### ConstantValue
Condition `limitSpec != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java

      this.maxDictionarySize = maxDictionarySize;
      this.serdeHelpers = makeSerdeHelpers(limitSpec != null, enableRuntimeDictionaryGeneration);
      this.serdeHelperComparators = new BufferComparator[serdeHelpers.length];
      Arrays.setAll(serdeHelperComparators, i -> serdeHelpers[i].getBufferComparator());
```

### ConstantValue
Condition `limitSpec != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
    public Comparator<Grouper.Entry<RowBasedKey>> objectComparator(boolean forceDefaultOrder)
    {
      if (limitSpec != null && !forceDefaultOrder) {
        return objectComparatorWithAggs();
      }
```

### ConstantValue
Condition `limitSpec != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
      for (int i = 0; i < dimCount; i++) {
        final StringComparator stringComparator;
        if (limitSpec != null) {
          final String dimName = dimensions.get(i).getOutputName();
          stringComparator = DefaultLimitSpec.getComparatorForDimName(limitSpec, dimName);
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/CountAggregatorFactory.java`
#### Snippet
```java
    CountAggregatorFactory that = (CountAggregatorFactory) o;

    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/CountAggregatorFactory.java`
#### Snippet
```java
  public int hashCode()
  {
    return name != null ? name.hashCode() : 0;
  }
}
```

### ConstantValue
Condition `aggregators != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/FieldAccessPostAggregator.java`
#### Snippet
```java
    final ColumnType type;

    if (aggregators != null && aggregators.containsKey(fieldName)) {
      type = aggregators.get(fieldName).getIntermediateType();
    } else {
```

### ConstantValue
Condition `aggregators != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/FinalizingFieldAccessPostAggregator.java`
#### Snippet
```java
    final ColumnType finalizedType;

    if (aggregators != null && aggregators.containsKey(fieldName)) {
      //noinspection unchecked
      theComparator = aggregators.get(fieldName).getComparator();
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/FinalizingFieldAccessPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    return result;
```

### ConstantValue
Condition `fieldName != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/aggregation/post/FinalizingFieldAccessPostAggregator.java`
#### Snippet
```java
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    return result;
  }
```

### ConstantValue
Condition `fields != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongGreatestPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongGreatestPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongGreatestPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + fields.hashCode();
    return result;
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleLeastPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleLeastPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + fields.hashCode();
    return result;
```

### ConstantValue
Condition `fields != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleLeastPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ConstantPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + constantValue.hashCode();
    return result;
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ConstantPostAggregator.java`
#### Snippet
```java
    }

    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongLeastPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + fields.hashCode();
    return result;
```

### ConstantValue
Condition `fields != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongLeastPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/LongLeastPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleGreatestPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleGreatestPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + fields.hashCode();
    return result;
```

### ConstantValue
Condition `fields != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/DoubleGreatestPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fields != null && fields.size() > 0, "Illegal number of fields[%s], must be > 0");

    this.name = name;
```

### ConstantValue
Condition `fnName != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(fnName != null, "fn cannot not be null");
    Preconditions.checkArgument(fields != null && fields.size() > 1, "Illegal number of fields[%s], must be > 1");

```

### ConstantValue
Condition `fields != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
  {
    Preconditions.checkArgument(fnName != null, "fn cannot not be null");
    Preconditions.checkArgument(fields != null && fields.size() > 1, "Illegal number of fields[%s], must be > 1");

    this.name = name;
```

### ConstantValue
Condition `op == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java

    this.op = Ops.lookup(fnName);
    if (op == null) {
      throw new IAE("Unknown operation[%s], known operations[%s]", fnName, Ops.getFns());
    }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + fnName.hashCode();
    result = 31 * result + fields.hashCode();
```

### ConstantValue
Condition `ordering != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
    result = 31 * result + op.hashCode();
    result = 31 * result + comparator.hashCode();
    result = 31 * result + (ordering != null ? ordering.hashCode() : 0);
    return result;
  }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `ordering != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (ordering != null ? !ordering.equals(that.ordering) : that.ordering != null) {
      return false;
    }
```

### ConstantValue
Condition `collector == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregator.java`
#### Snippet
```java
  public Object get()
  {
    if (collector == null) {
      return null;
    }
```

### ConstantValue
Condition `collector == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregator.java`
#### Snippet
```java
      return;
    }
    if (collector == null) {
      collector = HyperLogLogCollector.makeLatestCollector();
    }
```

### ConstantValue
Condition `rhs == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregatorFactory.java`
#### Snippet
```java
  public Object combine(Object lhs, Object rhs)
  {
    if (rhs == null) {
      return lhs;
    }
```

### ConstantValue
Condition `lhs == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesAggregatorFactory.java`
#### Snippet
```java
      return lhs;
    }
    if (lhs == null) {
      return rhs;
    }
```

### ConstantValue
Condition `name == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
    //Note that, in general, name shouldn't be null, we are defaulting
    //to fieldName here just to be backward compatible with 0.7.x
    this.name = name == null ? fieldName : name;
    this.aggregatorFactory = aggregatorFactory;
  }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    return result;
```

### ConstantValue
Condition `fieldName != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
  {
    int result = name != null ? name.hashCode() : 0;
    result = 31 * result + (fieldName != null ? fieldName.hashCode() : 0);
    return result;
  }
```

### ConstantValue
Condition `aggregators != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
  public HyperUniqueFinalizingPostAggregator decorate(Map<String, AggregatorFactory> aggregators)
  {
    final AggregatorFactory theAggregatorFactory = aggregators != null ? aggregators.get(fieldName) : null;
    return new HyperUniqueFinalizingPostAggregator(name, fieldName, theAggregatorFactory);
  }
```

### ConstantValue
Condition `name != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
    HyperUniqueFinalizingPostAggregator that = (HyperUniqueFinalizingPostAggregator) o;

    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `fieldName != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
      return false;
    }
    return fieldName != null ? fieldName.equals(that.fieldName) : that.fieldName == null;
  }

```

### ConstantValue
Condition `collector == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniquesSerde.java`
#### Snippet
```java
      public byte[] toBytes(HyperLogLogCollector collector)
      {
        if (collector == null) {
          return new byte[]{};
        }
```

### ConstantValue
Condition `serdeForType.getObjectStrategy() != null` is always `true` when reached
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultColumnSelectorFactoryMaker.java`
#### Snippet
```java
                case COMPLEX:
                  final ComplexMetricSerde serdeForType = ComplexMetrics.getSerdeForType(type.getComplexTypeName());
                  if (serdeForType != null && serdeForType.getObjectStrategy() != null) {
                    return serdeForType.getObjectStrategy().getClazz();
                  }
```

### ConstantValue
Condition `adapter == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/timeboundary/TimeBoundaryQueryRunnerFactory.java`
#### Snippet
```java
            public Iterator<Result<TimeBoundaryResultValue>> make()
            {
              if (adapter == null) {
                throw new ISE(
                    "Null storage adapter found. Probably trying to issue a query against a segment being memory unmapped."
```

### ConstantValue
Condition `adapter == null` is always `false`
in `processing/src/main/java/org/apache/druid/query/datasourcemetadata/DataSourceMetadataQueryRunnerFactory.java`
#### Snippet
```java
            public Iterator<Result<DataSourceMetadataResultValue>> make()
            {
              if (adapter == null) {
                throw new ISE(
                    "Null storage adapter found. Probably trying to issue a query against a segment being memory unmapped."
```

### ConstantValue
Condition `allowSet != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/UnnestStorageAdapter.java`
#### Snippet
```java
  {
    Filter updatedFilter;
    if (allowSet != null && !allowSet.isEmpty()) {
      final InDimFilter allowListFilters;
      allowListFilters = new InDimFilter(dimensionToUnnest, allowSet);
```

### ConstantValue
Condition `expression != null` is always `true`
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ExpressionPostAggregator.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(expression != null, "expression cannot be null");

    this.name = name;
```

### ConstantValue
Condition `virtualColumns == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/VirtualColumns.java`
#### Snippet
```java
  public static VirtualColumns create(List<VirtualColumn> virtualColumns)
  {
    if (virtualColumns == null || virtualColumns.isEmpty()) {
      return EMPTY;
    }
```

### ConstantValue
Condition `dimConversions == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
    public int seek(int dictId)
    {
      if (dimConversions == null) {
        return NOT_EXIST;
      }
```

### ConstantValue
Condition `capabilities != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/VectorColumnProcessorFactory.java`
#### Snippet
```java
  default boolean useDictionaryEncodedSelector(ColumnCapabilities capabilities)
  {
    Preconditions.checkArgument(capabilities != null, "Capabilities must not be null");
    Preconditions.checkArgument(capabilities.is(ValueType.STRING), "Must only be called on a STRING column");
    return capabilities.isDictionaryEncoded().and(capabilities.areDictionaryValuesUnique()).isTrue();
```

### ConstantValue
Condition `obj == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  private static <T> ComparableList convertToListWithObjectFunction(Object obj, Function<Object, T> convertFunction)
  {
    if (obj == null) {
      return null;
    }
```

### ConstantValue
Condition `obj == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  public static ComparableStringArray convertToComparableStringArray(Object obj)
  {
    if (obj == null) {
      return null;
    }
```

### ConstantValue
Condition `indexedIntsForCurrentRow == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
  private void advanceAndUpdate()
  {
    if (indexedIntsForCurrentRow == null) {
      index = 0;
      if (!baseCursor.isDone()) {
```

### ConstantValue
Condition `indexedIntsForCurrentRow == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
          public Object getObject()
          {
            if (indexedIntsForCurrentRow == null) {
              return null;
            }
```

### ConstantValue
Condition `allowSet == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
            }
            if (allowedBitSet.isEmpty()) {
              if (allowSet == null || allowSet.isEmpty()) {
                return lookupName(indexedIntsForCurrentRow.get(index));
              }
```

### ConstantValue
Condition `allowSet != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
    IdLookup idLookup = dimSelector.idLookup();
    this.indexIntsForRow = new SingleIndexInts();
    if (allowSet != null && !allowSet.isEmpty() && idLookup != null) {
      for (String s : allowSet) {
        if (idLookup.lookupId(s) >= 0) {
```

### ConstantValue
Condition `allowSet == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
  {
    boolean matchStatus;
    if ((allowSet == null || allowSet.isEmpty()) && allowedBitSet.isEmpty()) {
      matchStatus = true;
    } else {
```

### ConstantValue
Condition `allowSet == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
          {
            if (!unnestListForCurrentRow.isEmpty()) {
              if (allowSet == null || allowSet.isEmpty()) {
                return unnestListForCurrentRow.get(index);
              } else if (allowSet.contains((String) unnestListForCurrentRow.get(index))) {
```

### ConstantValue
Condition `allowSet == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
  {
    boolean matchStatus;
    if (allowSet == null || allowSet.isEmpty()) {
      matchStatus = true;
    } else {
```

### ConstantValue
Condition `allowSet != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
    this.unnestListForCurrentRow = new ArrayList<>();
    getNextRow(needInitialization);
    if (allowSet != null) {
      if (!allowSet.isEmpty()) {
        if (!allowSet.contains((String) unnestListForCurrentRow.get(index))) {
```

### ConstantValue
Condition `!rollupToMerge.isEmpty()` is always `true` when reached
in `processing/src/main/java/org/apache/druid/segment/Metadata.java`
#### Snippet
```java

    Boolean rollup = null;
    if (rollupToMerge != null && !rollupToMerge.isEmpty()) {
      rollup = rollupToMerge.get(0);
      for (Boolean r : rollupToMerge) {
```

### ConstantValue
Result of `rollupToMerge.isEmpty()` is always 'false'
in `processing/src/main/java/org/apache/druid/segment/Metadata.java`
#### Snippet
```java

    Boolean rollup = null;
    if (rollupToMerge != null && !rollupToMerge.isEmpty()) {
      rollup = rollupToMerge.get(0);
      for (Boolean r : rollupToMerge) {
```

### ConstantValue
Condition `key == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
      {
        IncrementalIndexRow key = currEntry.get();
        if (key == null) {
          return null;
        }
```

### ConstantValue
Condition `value == null` is always `false` when reached
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
        if (extractionFn == null) {
          final int valueId = lookupId(value);
          if (valueId >= 0 || value == null) {
            return new ValueMatcher()
            {
```

### ConstantValue
Condition `value == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
                Object[] dims = currEntry.get().getDims();
                if (dimIndex >= dims.length) {
                  return value == null;
                }

```

### ConstantValue
Condition `value == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
                int[] dimsInt = (int[]) dims[dimIndex];
                if (dimsInt == null || dimsInt.length == 0) {
                  return value == null;
                }

```

### ConstantValue
Condition `key == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
  public Object convertUnsortedEncodedKeyComponentToActualList(int[] key)
  {
    if (key == null || key.length == 0) {
      return null;
    }
```

### ConstantValue
Condition `indices != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
        }

        if (row == null && indices != null && indices.length > 0) {
          row = indices;
          rowSize = indices.length;
```

### ConstantValue
Condition `indices.length > 0` is always `true`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
        }

        if (row == null && indices != null && indices.length > 0) {
          row = indices;
          rowSize = indices.length;
```

### ConstantValue
Condition `multiValueHandling == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
  {
    super(new StringDimensionDictionary(!useMaxMemoryEstimates));
    this.multiValueHandling = multiValueHandling == null ? MultiValueHandling.ofDefault() : multiValueHandling;
    this.hasBitmapIndexes = hasBitmapIndexes;
    this.hasSpatialIndexes = hasSpatialIndexes;
```

### ConstantValue
Condition `fileMapper != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/SimpleQueryableIndex.java`
#### Snippet
```java
  public void close()
  {
    if (fileMapper != null) {
      fileMapper.close();
    }
```

### ConstantValue
Condition `serializer != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/DeltaLongEncodingWriter.java`
#### Snippet
```java
  public void flush() throws IOException
  {
    if (serializer != null) {
      serializer.close();
    }
```

### ConstantValue
Condition `val == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ConciseBitmapSerdeFactory.java`
#### Snippet
```java
    public byte[] toBytes(ImmutableBitmap val)
    {
      if (val == null || val.isEmpty()) {
        return new byte[]{};
      }
```

### ConstantValue
Condition `bb == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableBase.java`
#### Snippet
```java
    uObjHeader = 0;
    final ByteBuffer bb = state.getByteBuffer();
    final String bbStr = bb == null ? "null"
                                    : bb.getClass().getSimpleName() + ", " + (bb.hashCode() & 0XFFFFFFFFL);
    final MemoryRequestServer memReqSvr = state.getMemoryRequestServer();
```

### ConstantValue
Condition `memReqSvr != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableBase.java`
#### Snippet
```java
                                    : bb.getClass().getSimpleName() + ", " + (bb.hashCode() & 0XFFFFFFFFL);
    final MemoryRequestServer memReqSvr = state.getMemoryRequestServer();
    final String memReqStr = memReqSvr != null
                             ? memReqSvr.getClass().getSimpleName() + ", " + (memReqSvr.hashCode() & 0XFFFFFFFFL)
                             : "null";
```

### ConstantValue
Condition `rhs == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableIntArray.java`
#### Snippet
```java
  {
    // rhs.getDelegate() cannot be null
    if (rhs == null) {
      return 1;
    }
```

### ConstantValue
Condition `blockSize <= CompressedPools.BUFFER_SIZE` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockReader.java`
#### Snippet
```java
      assert CompressedPools.BUFFER_SIZE == blockSize;
      Preconditions.checkState(
          blockSize <= CompressedPools.BUFFER_SIZE,
          "Maximum block size must be less than " + CompressedPools.BUFFER_SIZE
      );
```

### ConstantValue
Condition `rhs == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
  {
    // rhs.getDelegate() cannot be null
    if (rhs == null) {
      return 1;
    }
```

### ConstantValue
Condition `stringComparator == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
  )
  {
    final StringComparator comparator = stringComparator == null
                                        ? StringComparators.LEXICOGRAPHIC
                                        : stringComparator;
```

### ConstantValue
Condition `lhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
                                        ? StringComparators.LEXICOGRAPHIC
                                        : stringComparator;
    if (lhsComparableArray == null && rhsComparableArray == null) {
      return 0;
    } else if (lhsComparableArray == null) {
```

### ConstantValue
Condition `lhsComparableArray == null && rhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
                                        ? StringComparators.LEXICOGRAPHIC
                                        : stringComparator;
    if (lhsComparableArray == null && rhsComparableArray == null) {
      return 0;
    } else if (lhsComparableArray == null) {
```

### ConstantValue
Condition `lhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
    if (lhsComparableArray == null && rhsComparableArray == null) {
      return 0;
    } else if (lhsComparableArray == null) {
      return -1;
    } else if (rhsComparableArray == null) {
```

### ConstantValue
Condition `rhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableStringArray.java`
#### Snippet
```java
    } else if (lhsComparableArray == null) {
      return -1;
    } else if (rhsComparableArray == null) {
      return 1;
    }
```

### ConstantValue
Condition `input != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
  {
    Preconditions.checkArgument(
        input != null,
        "Input cannot be null for %s",
        ComparableList.class.getName()
```

### ConstantValue
Condition `rhs == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
  public int compareTo(ComparableList rhs)
  {
    if (rhs == null) {
      return 1;
    }
```

### ConstantValue
Condition `stringComparator == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
  )
  {
    final StringComparator comparator = stringComparator == null
                                        ? StringComparators.NUMERIC
                                        : stringComparator;
```

### ConstantValue
Condition `lhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
                                        : stringComparator;

    if (lhsComparableArray == null && rhsComparableArray == null) {
      return 0;
    } else if (lhsComparableArray == null) {
```

### ConstantValue
Condition `lhsComparableArray == null && rhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
                                        : stringComparator;

    if (lhsComparableArray == null && rhsComparableArray == null) {
      return 0;
    } else if (lhsComparableArray == null) {
```

### ConstantValue
Condition `lhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
    if (lhsComparableArray == null && rhsComparableArray == null) {
      return 0;
    } else if (lhsComparableArray == null) {
      return -1;
    } else if (rhsComparableArray == null) {
```

### ConstantValue
Condition `rhsComparableArray == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/ComparableList.java`
#### Snippet
```java
    } else if (lhsComparableArray == null) {
      return -1;
    } else if (rhsComparableArray == null) {
      return 1;
    }
```

### ConstantValue
Condition `serializer != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/TableLongEncodingWriter.java`
#### Snippet
```java
  public void flush() throws IOException
  {
    if (serializer != null) {
      serializer.close();
    }
```

### ConstantValue
Condition `holder != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java
    public void close()
    {
      if (holder != null) {
        holder.close();
      }
```

### ConstantValue
Condition `holder != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java
    protected void loadBuffer(int bufferNum)
    {
      if (holder != null) {
        holder.close();
      }
```

### ConstantValue
Condition `smoosher == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
    );

    if (smoosher == null) {
      throw new IAE("version 2 GenericIndexedWriter requires FileSmoosher.");
    }
```

### ConstantValue
Condition `holder != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java
    protected void loadBuffer(int bufferNum)
    {
      if (holder != null) {
        holder.close();
      }
```

### ConstantValue
Condition `holder != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java
    public void close()
    {
      if (holder != null) {
        holder.close();
      }
```

### ConstantValue
Condition `fileMapper == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexed.java`
#### Snippet
```java
  )
  {
    if (fileMapper == null) {
      throw new IAE("SmooshedFileMapper can not be null for version 2.");
    }
```

### ConstantValue
Condition `acquireFailed` at the left side of assignment expression is always `false`. Can be simplified
in `processing/src/main/java/org/apache/druid/segment/join/HashJoinSegment.java`
#### Snippet
```java
          break;
        }
        acquireFailed |= joinClause.acquireReferences().map(closeable -> {
          closer.register(closeable);
          return false;
```

### ConstantValue
Condition `name == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/column/ColumnSignature.java`
#### Snippet
```java

    // Name must be nonnull, but type can be null (if the type is unknown)
    if (name == null || name.isEmpty()) {
      throw new IAE(name, "Column name must be non-empty");
    }
```

### ConstantValue
Condition `segmentMetadata != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
  ) throws IOException
  {
    if (segmentMetadata != null) {
      progress.startSection("make metadata.drd");
      v9Smoosher.add("metadata.drd", ByteBuffer.wrap(mapper.writeValueAsBytes(segmentMetadata)));
```

### ConstantValue
Condition `quoteMark >= 0` is always `true`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
        quoteMark = i;
        partMark = i + 1;
      } else if (current == '\'' && quoteMark >= 0 && path.charAt(i - 1) != '\\') {
        if (path.charAt(i + 1) != ']') {
          if (arrayMark >= 0) {
```

### ConstantValue
Condition `quoteMark >= 0` is always `true`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
        quoteMark = i;
        partMark = i + 1;
      } else if (current == '"' && quoteMark >= 0 && path.charAt(i - 1) != '\\') {
        parts.add(new NestedPathField(getPathSubstring(path, partMark, i)));
        dotMark = -1;
```

### ConstantValue
Condition `columnCapabilities != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
  {
    Preconditions.checkState(bindingAnalysis.getRequiredBindings().size() == 1, "requiredBindings.size == 1");
    return columnCapabilities != null &&
           !columnCapabilities.hasMultipleValues().isUnknown() &&
           !bindingAnalysis.hasInputArrays() &&
```

### ConstantValue
Condition `emptyRange || !baseIter.hasNext()` is always `true` when reached
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
      }

      done = !foundMatched && (emptyRange || !baseIter.hasNext());
    }

```

### ConstantValue
Condition `!baseIter.hasNext()` is always `true` when reached
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
      }

      done = !foundMatched && (emptyRange || !baseIter.hasNext());
    }

```

### ConstantValue
Result of `baseIter.hasNext()` is always 'false'
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
      }

      done = !foundMatched && (emptyRange || !baseIter.hasNext());
    }

```

### ConstantValue
Condition `filter == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
      // Set maxRowIndex before creating the filterMatcher. See https://github.com/apache/druid/pull/6340
      maxRowIndex = index.getLastRowIndex();
      filterMatcher = filter == null ? BooleanValueMatcher.of(true) : filter.makeMatcher(columnSelectorFactory);
      numAdvanced = -1;
      final long timeStart = Math.max(interval.getStartMillis(), actualInterval.getStartMillis());
```

### ConstantValue
Condition `dimVal == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
  private boolean isJoinedSpatialDimValValid(String dimVal)
  {
    if (dimVal == null || dimVal.isEmpty()) {
      return false;
    }
```

### ConstantValue
Condition `dimVals == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
  private boolean isSpatialDimValsValid(List<String> dimVals)
  {
    if (dimVals == null || dimVals.isEmpty()) {
      return false;
    }
```

### ConstantValue
Condition `encodedCoordinate == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
  public static float[] decode(final String encodedCoordinate)
  {
    if (encodedCoordinate == null) {
      return null;
    }
```

### ConstantValue
Condition `m <= 31` is always `true`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSetUtils.java`
#### Snippet
```java
    }
    m = (m >>> 5) + (m & 0x0000001F);
    if (m <= 31) {
      return m == 31 ? 0 : m;
    }
```

### ConstantValue
Condition `m == 31` is always `false`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSetUtils.java`
#### Snippet
```java
    m = (m >>> 5) + (m & 0x0000001F);
    if (m <= 31) {
      return m == 31 ? 0 : m;
    }
    m = (m >>> 5) + (m & 0x0000001F);
```

### ConstantValue
Condition `m <= 31` is always `true`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    }
    m = (m >>> 5) + (m & 0x0000001F);
    if (m <= 31) {
      return m == 31 ? 0 : m;
    }
```

### ConstantValue
Condition `m == 31` is always `false`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSet.java`
#### Snippet
```java
    m = (m >>> 5) + (m & 0x0000001F);
    if (m <= 31) {
      return m == 31 ? 0 : m;
    }
    m = (m >>> 5) + (m & 0x0000001F);
```

### ConstantValue
Condition `collector == null` is always `false`
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceSerde.java`
#### Snippet
```java
      public byte[] toBytes(VarianceAggregatorCollector collector)
      {
        return collector == null ? new byte[]{} : collector.toByteArray();
      }

```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/EqualBucketsPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/BucketsPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `otherHistogram == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogram.java`
#### Snippet
```java
  public void combineHistogram(FixedBucketsHistogram otherHistogram)
  {
    if (otherHistogram == null) {
      return;
    }
```

### ConstantValue
Condition `h == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingSerde.java`
#### Snippet
```java
      public byte[] toBytes(ApproximateHistogram h)
      {
        if (h == null) {
          return ByteArrays.EMPTY_ARRAY;
        }
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingAggregatorFactory.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `probabilities != null` is always `true`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/Quantiles.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = probabilities != null ? Arrays.hashCode(probabilities) : 0;
    result = 31 * result + (quantiles != null ? Arrays.hashCode(quantiles) : 0);
    result = 31 * result + (min != +0.0f ? Float.floatToIntBits(min) : 0);
```

### ConstantValue
Condition `quantiles != null` is always `true` when reached
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/Quantiles.java`
#### Snippet
```java
  {
    int result = probabilities != null ? Arrays.hashCode(probabilities) : 0;
    result = 31 * result + (quantiles != null ? Arrays.hashCode(quantiles) : 0);
    result = 31 * result + (min != +0.0f ? Float.floatToIntBits(min) : 0);
    result = 31 * result + (max != +0.0f ? Float.floatToIntBits(max) : 0);
```

### ConstantValue
Condition `maxIngestedEventTime == null` is always `false`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
  private synchronized void updateMaxIngestedTime(DateTime eventTime)
  {
    if (maxIngestedEventTime == null || maxIngestedEventTime.isBefore(eventTime)) {
      maxIngestedEventTime = eventTime;
    }
```

### ConstantValue
Condition `maxIngestedEventTime != null` is always `true`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
        if (wasNewDim) {
          // unless this is the first row we are processing, all newly discovered columns will be sparse
          if (maxIngestedEventTime != null) {
            indexer.setSparseIndexed();
          }
```

### ConstantValue
Condition `h == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
      public byte[] toBytes(FixedBucketsHistogram h)
      {
        if (h == null) {
          return new byte[]{};
        }
```

### ConstantValue
Condition `this.getBreaks() != null` is always `true`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/Histogram.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = (this.getBreaks() != null ? ArrayUtils.hashCode(this.getBreaks(), 0, this.getBreaks().length) : 0);
    result = 31 * result + (this.getCounts() != null ? ArrayUtils.hashCode(
        this.getCounts(),
```

### ConstantValue
Condition `this.getCounts() != null` is always `true` when reached
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/Histogram.java`
#### Snippet
```java
  {
    int result = (this.getBreaks() != null ? ArrayUtils.hashCode(this.getBreaks(), 0, this.getBreaks().length) : 0);
    result = 31 * result + (this.getCounts() != null ? ArrayUtils.hashCode(
        this.getCounts(),
        0,
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/QuantilesPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/CustomBucketsPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/QuantilePostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `positions != null` is always `true` when reached
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
  {
    int result = size;
    result = 31 * result + (positions != null ? ArrayUtils.hashCode(positions, 0, binCount) : 0);
    result = 31 * result + (bins != null ? ArrayUtils.hashCode(bins, 0, binCount) : 0);
    result = 31 * result + binCount;
```

### ConstantValue
Condition `bins != null` is always `true` when reached
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    int result = size;
    result = 31 * result + (positions != null ? ArrayUtils.hashCode(positions, 0, binCount) : 0);
    result = 31 * result + (bins != null ? ArrayUtils.hashCode(bins, 0, binCount) : 0);
    result = 31 * result + binCount;
    result = 31 * result + (min != +0.0f ? Float.floatToIntBits(min) : 0);
```

### ConstantValue
Condition `mergedPositions == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java

    // use preallocated arrays if passed
    if (mergedPositions == null || mergedBins == null || deltas == null) {
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
```

### ConstantValue
Condition `mergedPositions == null || mergedBins == null || deltas == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java

    // use preallocated arrays if passed
    if (mergedPositions == null || mergedBins == null || deltas == null) {
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
```

### ConstantValue
Condition `mergedBins == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java

    // use preallocated arrays if passed
    if (mergedPositions == null || mergedBins == null || deltas == null) {
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
```

### ConstantValue
Condition `deltas == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java

    // use preallocated arrays if passed
    if (mergedPositions == null || mergedBins == null || deltas == null) {
      mergedPositions = new float[maxSize];
      mergedBins = new long[maxSize];
```

### ConstantValue
Condition `resolution == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
    this.name = name;
    this.fieldName = fieldName;
    this.resolution = resolution == null ? ApproximateHistogram.DEFAULT_HISTOGRAM_SIZE : resolution;
    this.numBuckets = numBuckets == null ? ApproximateHistogram.DEFAULT_BUCKET_SIZE : numBuckets;
    this.lowerLimit = lowerLimit == null ? Float.NEGATIVE_INFINITY : lowerLimit;
```

### ConstantValue
Condition `numBuckets == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
    this.fieldName = fieldName;
    this.resolution = resolution == null ? ApproximateHistogram.DEFAULT_HISTOGRAM_SIZE : resolution;
    this.numBuckets = numBuckets == null ? ApproximateHistogram.DEFAULT_BUCKET_SIZE : numBuckets;
    this.lowerLimit = lowerLimit == null ? Float.NEGATIVE_INFINITY : lowerLimit;
    this.upperLimit = upperLimit == null ? Float.POSITIVE_INFINITY : upperLimit;
```

### ConstantValue
Condition `lowerLimit == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
    this.resolution = resolution == null ? ApproximateHistogram.DEFAULT_HISTOGRAM_SIZE : resolution;
    this.numBuckets = numBuckets == null ? ApproximateHistogram.DEFAULT_BUCKET_SIZE : numBuckets;
    this.lowerLimit = lowerLimit == null ? Float.NEGATIVE_INFINITY : lowerLimit;
    this.upperLimit = upperLimit == null ? Float.POSITIVE_INFINITY : upperLimit;
    this.finalizeAsBase64Binary = finalizeAsBase64Binary == null ? false : finalizeAsBase64Binary;
```

### ConstantValue
Condition `upperLimit == null` is always `false`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
    this.numBuckets = numBuckets == null ? ApproximateHistogram.DEFAULT_BUCKET_SIZE : numBuckets;
    this.lowerLimit = lowerLimit == null ? Float.NEGATIVE_INFINITY : lowerLimit;
    this.upperLimit = upperLimit == null ? Float.POSITIVE_INFINITY : upperLimit;
    this.finalizeAsBase64Binary = finalizeAsBase64Binary == null ? false : finalizeAsBase64Binary;

```

### ConstantValue
Condition `name == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java
  )
  {
    if (name == null) {
      throw new IAE("Must have a valid, non-null aggregator name");
    }
```

### ConstantValue
Condition `fieldName == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java
    }
    this.name = name;
    if (fieldName == null) {
      throw new IAE("Parameter fieldName must be specified");
    }
```

### ConstantValue
Condition `sketch == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchObjectStrategy.java`
#### Snippet
```java
  public byte[] toBytes(final KllDoublesSketch sketch)
  {
    if (sketch == null || sketch.isEmpty()) {
      return ByteArrays.EMPTY_ARRAY;
    }
```

### ConstantValue
Condition `sketch == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchObjectStrategy.java`
#### Snippet
```java
  public byte[] toBytes(final KllFloatsSketch sketch)
  {
    if (sketch == null || sketch.isEmpty()) {
      return ByteArrays.EMPTY_ARRAY;
    }
```

### ConstantValue
Condition `serializedSketch == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchOperations.java`
#### Snippet
```java
    throw new ISE(
        "Object is not of a type that can be deserialized to a quantiles DoublesSketch: %s",
        serializedSketch == null ? "null" : serializedSketch.getClass()
    );
  }
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
    final CacheKeyBuilder builder = new CacheKeyBuilder(
        PostAggregatorIds.KLL_FLOATS_SKETCH_TO_HISTOGRAM_CACHE_TYPE_ID).appendCacheable(field);
    if (splitPoints != null) {
      for (final float value : splitPoints) {
        builder.appendFloat(value);
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
      }
    }
    if (numBins != null) {
      builder.appendInt(numBins);
    }
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
  {
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    final int numBins = splitPoints != null ? splitPoints.length + 1 :
        (this.numBins != null ? this.numBins.intValue() : DEFAULT_NUM_BINS);
    if (numBins < 2) {
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return histogram;
    }
    final double[] histogram = sketch.getPMF(splitPoints != null ? splitPoints :
      equallySpacedPoints(numBins, sketch.getMinValue(), sketch.getMaxValue()));
    for (int i = 0; i < histogram.length; i++) {
```

### ConstantValue
Condition `numBins == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (numBins == null && that.numBins == null) {
      return true;
    }
```

### ConstantValue
Condition `numBins == null && that.numBins == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (numBins == null && that.numBins == null) {
      return true;
    }
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (numBins != null && numBins.equals(that.numBins)) {
      return true;
    }
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
    int hashCode = name.hashCode() * 31 + field.hashCode();
    hashCode = hashCode * 31 + Arrays.hashCode(splitPoints);
    if (numBins != null) {
      hashCode = hashCode * 31 + numBins.hashCode();
    }
```

### ConstantValue
Condition `serializedSketch == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchOperations.java`
#### Snippet
```java
    throw new ISE(
        "Object is not of a type that can be deserialized to a KllFloatsSketch: %s",
        serializedSketch == null ? "null" : serializedSketch.getClass()
    );
  }
```

### ConstantValue
Condition `numBins == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (numBins == null && that.numBins == null) {
      return true;
    }
```

### ConstantValue
Condition `numBins == null && that.numBins == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (numBins == null && that.numBins == null) {
      return true;
    }
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (numBins != null && numBins.equals(that.numBins)) {
      return true;
    }
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    int hashCode = name.hashCode() * 31 + field.hashCode();
    hashCode = hashCode * 31 + Arrays.hashCode(splitPoints);
    if (numBins != null) {
      hashCode = hashCode * 31 + numBins.hashCode();
    }
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
  {
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    final int numBins = splitPoints != null ? splitPoints.length + 1 :
        (this.numBins != null ? this.numBins.intValue() : DEFAULT_NUM_BINS);
    if (numBins < 2) {
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return histogram;
    }
    final double[] histogram = sketch.getPMF(splitPoints != null ? splitPoints :
      equallySpacedPoints(numBins, sketch.getMinValue(), sketch.getMaxValue()));
    for (int i = 0; i < histogram.length; i++) {
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    final CacheKeyBuilder builder = new CacheKeyBuilder(
        PostAggregatorIds.KLL_DOUBLES_SKETCH_TO_HISTOGRAM_CACHE_TYPE_ID).appendCacheable(field);
    if (splitPoints != null) {
      for (final double value : splitPoints) {
        builder.appendDouble(value);
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      }
    }
    if (numBins != null) {
      builder.appendInt(numBins);
    }
```

### ConstantValue
Condition `that.errorBoundsStdDev != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchEstimatePostAggregator.java`
#### Snippet
```java
    }
    
    if (errorBoundsStdDev != null && that.errorBoundsStdDev != null && 
        errorBoundsStdDev.intValue() != that.errorBoundsStdDev.intValue()) {
      // neither stddevs are null, Integer values don't match
```

### ConstantValue
Condition `name != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchConstantPostAggregator.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = name != null ? name.hashCode() : 0;
    result = 37 * result + sketchValue.hashCode();
    return result;
```

### ConstantValue
Condition `name != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchConstantPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (name != null ? !name.equals(that.name) : that.name != null) {
      return false;
    }
```

### ConstantValue
Condition `value != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchConstantPostAggregator.java`
#### Snippet
```java
  {
    this.name = name;
    Preconditions.checkArgument(value != null && !value.isEmpty(),
        "Constant value cannot be null or empty, expecting base64 encoded sketch string");
    this.value = value;
```

### ConstantValue
Condition `maxSize == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchSetPostAggregator.java`
#### Snippet
```java
    this.fields = fields;
    this.func = SketchHolder.Func.valueOf(func);
    this.maxSketchSize = maxSize == null ? SketchAggregatorFactory.DEFAULT_MAX_SKETCH_SIZE : maxSize;
    Util.checkIfPowerOf2(this.maxSketchSize, "size");

```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchMergeAggregatorFactory.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `that.errorBoundsStdDev != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchMergeAggregatorFactory.java`
#### Snippet
```java
    }

    if (errorBoundsStdDev != null && that.errorBoundsStdDev != null &&
        errorBoundsStdDev.intValue() != that.errorBoundsStdDev.intValue()) {
      // neither stddevs are null, Integer values don't match
```

### ConstantValue
Condition `size == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java
    this.fieldName = Preconditions.checkNotNull(fieldName, "Must have a valid, non-null fieldName");

    this.size = size == null ? DEFAULT_MAX_SKETCH_SIZE : size;
    Util.checkIfPowerOf2(this.size, "size");

```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchUnaryPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `dependentFields == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchUnaryPostAggregator.java`
#### Snippet
```java
  public Set<String> getDependentFields()
  {
    if (dependentFields == null) {
      dependentFields = Sets.newHashSet(super.getDependentFields());
      dependentFields.addAll(field.getDependentFields());
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToQuantilesSketchPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `dependentFields == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMultiPostAggregator.java`
#### Snippet
```java
  public Set<String> getDependentFields()
  {
    if (dependentFields == null) {
      dependentFields = Sets.newHashSet(super.getDependentFields());
      for (final PostAggregator field : fields) {
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMultiPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `serializedSketch == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchOperations.java`
#### Snippet
```java
    throw new ISE(
        "Object is not of a type that can be deserialized to a quantiles DoublesSketch: %s",
        serializedSketch == null ? "null" : serializedSketch.getClass()
    );
  }
```

### ConstantValue
Condition `o == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchSetOpPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
```

### ConstantValue
Condition `sketch == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchObjectStrategy.java`
#### Snippet
```java
  public byte[] toBytes(final DoublesSketch sketch)
  {
    if (sketch == null || sketch.isEmpty()) {
      return ByteArrays.EMPTY_ARRAY;
    }
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    final CacheKeyBuilder builder = new CacheKeyBuilder(
        AggregatorUtil.QUANTILES_DOUBLES_SKETCH_TO_HISTOGRAM_CACHE_TYPE_ID).appendCacheable(field);
    if (splitPoints != null) {
      for (final double value : splitPoints) {
        builder.appendDouble(value);
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      }
    }
    if (numBins != null) {
      builder.appendInt(numBins);
    }
```

### ConstantValue
Condition `numBins == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (numBins == null && that.numBins == null) {
      return true;
    }
```

### ConstantValue
Condition `numBins == null && that.numBins == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return false;
    }
    if (numBins == null && that.numBins == null) {
      return true;
    }
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return true;
    }
    if (numBins != null && numBins.equals(that.numBins)) {
      return true;
    }
```

### ConstantValue
Condition `numBins != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    int hashCode = name.hashCode() * 31 + field.hashCode();
    hashCode = hashCode * 31 + Arrays.hashCode(splitPoints);
    if (numBins != null) {
      hashCode = hashCode * 31 + numBins.hashCode();
    }
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
  {
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    final int numBins = splitPoints != null ? splitPoints.length + 1 :
        (this.numBins != null ? this.numBins.intValue() : DEFAULT_NUM_BINS);
    if (numBins < 2) {
```

### ConstantValue
Condition `splitPoints != null` is always `true`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      return histogram;
    }
    final double[] histogram = sketch.getPMF(splitPoints != null ? splitPoints :
      equallySpacedPoints(numBins, sketch.getMinValue(), sketch.getMaxValue()));
    for (int i = 0; i < histogram.length; i++) {
```

### ConstantValue
Condition `name == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchAggregatorFactory.java`
#### Snippet
```java
  )
  {
    if (name == null) {
      throw new IAE("Must have a valid, non-null aggregator name");
    }
```

### ConstantValue
Condition `fieldName == null` is always `false`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchAggregatorFactory.java`
#### Snippet
```java
    }
    this.name = name;
    if (fieldName == null) {
      throw new IAE("Parameter fieldName must be specified");
    }
```

### ConstantValue
Value `shuffleCheckHasMultipleValues` is always 'true'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/StageDefinition.java`
#### Snippet
```java
           ", maxWorkerCount=" + maxWorkerCount +
           ", shuffleSpec=" + shuffleSpec +
           (shuffleCheckHasMultipleValues ? ", shuffleCheckHasMultipleValues=" + shuffleCheckHasMultipleValues : "") +
           '}';
  }
```

### ConstantValue
Condition `!isInput1` is always `true`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
      }

      assert !isInput1 && !isInput2;

      final Integer order1 = ORDER.get(name1);
```

### ConstantValue
Condition `!isInput1 && !isInput2` is always `true`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
      }

      assert !isInput1 && !isInput2;

      final Integer order1 = ORDER.get(name1);
```

### ConstantValue
Value `isInput1` is always 'false'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
      }

      assert !isInput1 && !isInput2;

      final Integer order1 = ORDER.get(name1);
```

### ConstantValue
Condition `!isInput2` is always `true` when reached
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
      }

      assert !isInput1 && !isInput2;

      final Integer order1 = ORDER.get(name1);
```

### ConstantValue
Value `isInput2` is always 'false'
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
      }

      assert !isInput1 && !isInput2;

      final Integer order1 = ORDER.get(name1);
```

### ConstantValue
Condition `order1 == null` is always `true`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
        return 1;
      } else {
        assert order1 == null && order2 == null;
        return name1.compareTo(name2);
      }
```

### ConstantValue
Condition `order1 == null && order2 == null` is always `true`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
        return 1;
      } else {
        assert order1 == null && order2 == null;
        return name1.compareTo(name2);
      }
```

### ConstantValue
Condition `order2 == null` is always `true` when reached
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/counters/CounterNames.java`
#### Snippet
```java
        return 1;
      } else {
        assert order1 == null && order2 == null;
        return name1.compareTo(name2);
      }
```

### ConstantValue
Condition `query.getHavingSpec() == null` is always `false`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByPostShuffleFrameProcessor.java`
#### Snippet
```java
  private static HavingSpec cloneHavingSpec(final GroupByQuery query)
  {
    if (query.getHavingSpec() == null || query.getHavingSpec() instanceof AlwaysHavingSpec) {
      return null;
    } else if (query.getHavingSpec() instanceof DimFilterHavingSpec) {
```

### ConstantValue
Condition `query.getHavingSpec() == null` is always `false`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByQueryKit.java`
#### Snippet
```java
    // Matches condition in GroupByPostShuffleWorker.makeHavingFilter.
    Preconditions.checkState(
        query.getHavingSpec() == null
        || query.getHavingSpec() instanceof DimFilterHavingSpec
        || query.getHavingSpec() instanceof AlwaysHavingSpec,
```

### ConstantValue
Condition `ugi != null` is always `true`
in `extensions-core/druid-ranger-security/src/main/java/org/apache/druid/security/ranger/authorizer/RangerAuthorizer.java`
#### Snippet
```java
    if (useUgi) {
      UserGroupInformation ugi = UserGroupInformation.createRemoteUser(authenticationResult.getIdentity());
      String[] groups = ugi != null ? ugi.getGroupNames() : null;
      if (groups != null && groups.length > 0) {
        userGroups = new HashSet<>(Arrays.asList(groups));
```

### ConstantValue
Value `message` is always 'null'
in `extensions-core/kafka-extraction-namespace/src/main/java/org/apache/druid/query/lookup/KafkaLookupExtractorFactory.java`
#### Snippet
```java
                }
                if (message == null) {
                  LOG.trace("Removed key[%s] val[%s]", key, message);
                  doubleEventCount.incrementAndGet();
                  map.remove(key);
```

### ConstantValue
Condition `time != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Bucket.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = time != null ? time.hashCode() : 0;
    result = 31 * result + partitionNum;
    result = 31 * result + shardNum;
```

### ConstantValue
Condition `time != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Bucket.java`
#### Snippet
```java
      return false;
    }
    if (time != null ? !time.equals(bucket.time) : bucket.time != null) {
      return false;
    }
```

### ConstantValue
Condition `!config.isUpdaterJobSpecSet() || handler != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerJob.java`
#### Snippet
```java

    Preconditions.checkArgument(
        !config.isUpdaterJobSpecSet() || handler != null,
        "MetadataStorageUpdaterJobHandler must not be null if ioConfig.metadataUpdateSpec is specified."
    );
```

### ConstantValue
Condition `handler != null` is always `true` when reached
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerJob.java`
#### Snippet
```java

    Preconditions.checkArgument(
        !config.isUpdaterJobSpecSet() || handler != null,
        "MetadataStorageUpdaterJobHandler must not be null if ioConfig.metadataUpdateSpec is specified."
    );
```

### ConstantValue
Condition `value == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerMapper.java`
#### Snippet
```java
    } else if (value instanceof InputRow) {
      return ImmutableList.of((InputRow) value);
    } else if (value == null) {
      // Pass through nulls so they get thrown away.
      return Utils.nullableListOf((InputRow) null);
```

### ConstantValue
Condition `groupByJob == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
  public Map<String, Object> getStats()
  {
    if (groupByJob == null) {
      return null;
    }
```

### ConstantValue
Condition `getPrincipal() != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopKerberosConfig.java`
#### Snippet
```java
  public int hashCode()
  {
    int result = getPrincipal() != null ? getPrincipal().hashCode() : 0;
    result = 31 * result + (getKeytab() != null ? getKeytab().hashCode() : 0);
    return result;
```

### ConstantValue
Condition `getKeytab() != null` is always `true` when reached
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopKerberosConfig.java`
#### Snippet
```java
  {
    int result = getPrincipal() != null ? getPrincipal().hashCode() : 0;
    result = 31 * result + (getKeytab() != null ? getKeytab().hashCode() : 0);
    return result;
  }
```

### ConstantValue
Condition `getPrincipal() != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopKerberosConfig.java`
#### Snippet
```java
    HadoopKerberosConfig that = (HadoopKerberosConfig) o;

    if (getPrincipal() != null ? !getPrincipal().equals(that.getPrincipal()) : that.getPrincipal() != null) {
      return false;
    }
```

### ConstantValue
Condition `getKeytab() != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopKerberosConfig.java`
#### Snippet
```java
      return false;
    }
    return getKeytab() != null ? getKeytab().equals(that.getKeytab()) : that.getKeytab() == null;

  }
```

### ConstantValue
Condition `job == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidDetermineConfigurationJob.java`
#### Snippet
```java
  public String getErrorMessage()
  {
    if (job == null) {
      return null;
    }
```

### ConstantValue
Condition `job == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidDetermineConfigurationJob.java`
#### Snippet
```java
  public Map<String, Object> getStats()
  {
    if (job == null) {
      return null;
    }
```

### ConstantValue
Condition `partitionDimension == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
        final String dim = dimAndValues.getKey();

        if (partitionDimension == null || partitionDimension.equals(dim)) {
          final Iterable<String> dimValues = dimAndValues.getValue();

```

### ConstantValue
Condition `groupByJob == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
  public Map<String, Object> getStats()
  {
    if (groupByJob == null) {
      return null;
    }
```

### ConstantValue
Condition `hadoopJobId != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  public static void writeJobIdToFile(String hadoopJobIdFileName, String hadoopJobId)
  {
    if (hadoopJobId != null && hadoopJobIdFileName != null) {
      try (final OutputStream out = Files.newOutputStream(Paths.get(hadoopJobIdFileName))) {
        try (final OutputStreamWriter osw = new OutputStreamWriter(out, StandardCharsets.UTF_8)) {
```

### ConstantValue
Condition `hadoopJobId != null && hadoopJobIdFileName != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  public static void writeJobIdToFile(String hadoopJobIdFileName, String hadoopJobId)
  {
    if (hadoopJobId != null && hadoopJobIdFileName != null) {
      try (final OutputStream out = Files.newOutputStream(Paths.get(hadoopJobIdFileName))) {
        try (final OutputStreamWriter osw = new OutputStreamWriter(out, StandardCharsets.UTF_8)) {
```

### ConstantValue
Condition `hadoopJobIdFileName != null` is always `true` when reached
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
  public static void writeJobIdToFile(String hadoopJobIdFileName, String hadoopJobId)
  {
    if (hadoopJobId != null && hadoopJobIdFileName != null) {
      try (final OutputStream out = Files.newOutputStream(Paths.get(hadoopJobIdFileName))) {
        try (final OutputStreamWriter osw = new OutputStreamWriter(out, StandardCharsets.UTF_8)) {
```

### ConstantValue
Condition `input == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
      public boolean apply(Throwable input)
      {
        if (input == null) {
          return false;
        }
```

### ConstantValue
Condition `segments != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/hadoop/DatasourceInputSplit.java`
#### Snippet
```java
  public DatasourceInputSplit(@NotNull List<WindowedDataSegment> segments, String[] locations)
  {
    Preconditions.checkArgument(segments != null && segments.size() > 0, "no segments");
    this.segments = segments;
    this.locations = locations == null ? EMPTY_STR_ARRAY : locations;
```

### ConstantValue
Condition `job == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public Map<String, Object> getStats()
  {
    if (job == null) {
      return null;
    }
```

### ConstantValue
Condition `oldDimOrder != null` is always `true`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
                                            .build();

    if (oldDimOrder != null && !indexSchema.getDimensionsSpec().hasCustomDimensions()) {
      newIndex.loadDimensionIterable(oldDimOrder, oldCapabilities);
    }
```

### ConstantValue
Condition `job == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
  public String getErrorMessage()
  {
    if (job == null) {
      return null;
    }
```

### ConstantValue
Condition `ret == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
      final Consumer<T> write)
  {
    if (ret == null) {
      ret = getDefault.get();
    }
```

### ConstantValue
Condition `ret == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

    // Write the null byte only if the default numeric value is still null.
    if (ret == null) {
      out.writeByte(NullHandling.IS_NULL_BYTE);
      return;
```

### ConstantValue
Condition `dimValues == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
        }
        Object dimValues = typeHelper.deserialize(in);
        if (dimValues == null) {
          continue;
        }
```

### ConstantValue
Condition `values == null` is always `false`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
  private static void writeStringArray(List<String> values, ByteArrayDataOutput out) throws IOException
  {
    if (values == null || values.size() == 0) {
      WritableUtils.writeVInt(out, 0);
      return;
```

### ConstantValue
Condition `DEFAULT_MERGE_TASK_PRIORITY == DataSourceCompactionConfig.DEFAULT_COMPACTION_TASK_PRIORITY` is always `true`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Tasks.java`
#### Snippet
```java

  static {
    Verify.verify(DEFAULT_MERGE_TASK_PRIORITY == DataSourceCompactionConfig.DEFAULT_COMPACTION_TASK_PRIORITY);
  }

```

### ConstantValue
Result of `STORE_COMPACTION_STATE_KEY.equals(CompactSegments.STORE_COMPACTION_STATE_KEY)` is always 'true'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Tasks.java`
#### Snippet
```java

  static {
    Verify.verify(STORE_COMPACTION_STATE_KEY.equals(CompactSegments.STORE_COMPACTION_STATE_KEY));
  }

```

### ConstantValue
Condition `inputRowSchema.getMetricNames() != null` is always `true`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidInputSource.java`
#### Snippet
```java

    ColumnsFilter columnsFilterToUse = inputRowSchema.getColumnsFilter();
    if (inputRowSchema.getMetricNames() != null) {
      for (String metricName : inputRowSchema.getMetricNames()) {
        columnsFilterToUse = columnsFilterToUse.plus(metricName);
```

### ConstantValue
Value `jobId` is always 'null'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
        return new String[]{jobId, (res == 0 ? "Success" : "Fail")};
      }
      return new String[]{jobId, "Fail"};
    }
  }
```

### ConstantValue
Result of `TYPE.equals(CompactSegments.COMPACTION_TASK_TYPE)` is always 'true'
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java

  static {
    Verify.verify(TYPE.equals(CompactSegments.COMPACTION_TASK_TYPE));
  }

```

### ConstantValue
Condition `e instanceof InterruptedException` is always `false`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
          }
          catch (Exception e) {
            if (e instanceof InterruptedException) {
              Thread.currentThread().interrupt();
            }
```

### ConstantValue
Condition `taskInfo.getStatus().getLocation() == null` is always `false`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
                RunnerTaskState.WAITING,
                taskInfo.getStatus().getDuration(),
                taskInfo.getStatus().getLocation() == null
                ? TaskLocation.unknown()
                : taskInfo.getStatus().getLocation(),
```

### ConstantValue
Condition `taskDatasource == null` is always `false`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
      final String taskId = taskStatusPlus.getId();
      final String taskDatasource = taskStatusPlus.getDataSource();
      if (taskDatasource == null) {
        throw new WebApplicationException(
            Response.serverError().entity(
```

### ConstantValue
Condition `ex instanceof InterruptedException` is always `false`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
          }
          catch (Exception ex) {
            if (ex instanceof InterruptedException) {
              Thread.currentThread().interrupt();
            } else {
```

### ConstantValue
Condition `result != null` is always `true`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskClientAsyncImpl.java`
#### Snippet
```java
        pauseFuture,
        result -> {
          if (result != null) {
            return Futures.immediateFuture(result);
          } else {
```

### ConstantValue
Result of `events.size()` is always '0'
in `integration-tests/src/main/java/org/apache/druid/testing/clients/EventReceiverFirehoseTestClient.java`
#### Snippet
```java

      if (totalEventsPosted != expectedEventsPosted) {
        throw new ISE("All events not posted, expected : %d actual : %d", events.size(), totalEventsPosted);
      }
      return totalEventsPosted;
```

### ConstantValue
Condition `index == hostAndPort.length()` is always `false` when reached
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/RedisCacheFactory.java`
#### Snippet
```java
                                     .map(hostAndPort -> {
                                       int index = hostAndPort.indexOf(':');
                                       if (index <= 0 || index == hostAndPort.length()) {
                                         throw new IAE("Invalid redis cluster configuration: %s", hostAndPort);
                                       }
```

### ConstantValue
Condition `selector == null` is always `false`
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/DistinctCountAggregatorFactory.java`
#### Snippet
```java
  {
    DimensionSelector selector = makeDimensionSelector(columnFactory);
    if (selector == null) {
      return NoopDistinctCountBufferAggregator.instance();
    } else {
```

### ConstantValue
Condition `selector == null` is always `false`
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/DistinctCountAggregatorFactory.java`
#### Snippet
```java
  {
    DimensionSelector selector = makeDimensionSelector(columnFactory);
    if (selector == null) {
      return new NoopDistinctCountAggregator();
    } else {
```

### ConstantValue
Condition `keyDimension != null` is always `true`
in `extensions-contrib/virtual-columns/src/main/java/org/apache/druid/segment/MapVirtualColumn.java`
#### Snippet
```java
  )
  {
    Preconditions.checkArgument(keyDimension != null, "key dimension should not be null");
    Preconditions.checkArgument(valueDimension != null, "value dimension should not be null");
    Preconditions.checkArgument(outputName != null, "output name should not be null");
```

### ConstantValue
Condition `valueDimension != null` is always `true`
in `extensions-contrib/virtual-columns/src/main/java/org/apache/druid/segment/MapVirtualColumn.java`
#### Snippet
```java
  {
    Preconditions.checkArgument(keyDimension != null, "key dimension should not be null");
    Preconditions.checkArgument(valueDimension != null, "value dimension should not be null");
    Preconditions.checkArgument(outputName != null, "output name should not be null");

```

### ConstantValue
Condition `outputName != null` is always `true`
in `extensions-contrib/virtual-columns/src/main/java/org/apache/druid/segment/MapVirtualColumn.java`
#### Snippet
```java
    Preconditions.checkArgument(keyDimension != null, "key dimension should not be null");
    Preconditions.checkArgument(valueDimension != null, "value dimension should not be null");
    Preconditions.checkArgument(outputName != null, "output name should not be null");

    this.keyDimension = keyDimension;
```

### ConstantValue
Condition `e instanceof InterruptedException` is always `false`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/GraphiteEmitter.java`
#### Snippet
```java
      catch (Exception e) {
        log.error(e, e.getMessage());
        if (e instanceof InterruptedException) {
          Thread.currentThread().interrupt();
        }
```

### ConstantValue
Condition `publishedSegmentsAndCommitMetadata != null` is always `true`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskRunner.java`
#### Snippet
```java
            // emit segment count metric:
            int segmentCount = 0;
            if (publishedSegmentsAndCommitMetadata != null
                && publishedSegmentsAndCommitMetadata.getSegments() != null) {
              segmentCount = publishedSegmentsAndCommitMetadata.getSegments().size();
```

## RuleId[ruleID=MethodOverridesStaticMethod]
### MethodOverridesStaticMethod
Method `createEmpty()` tries to override a static method of a superclass
in `processing/src/main/java/org/apache/druid/query/context/DefaultResponseContext.java`
#### Snippet
```java
public class DefaultResponseContext extends ResponseContext
{
  public static DefaultResponseContext createEmpty()
  {
    return new DefaultResponseContext();
```

### MethodOverridesStaticMethod
Method `createEmpty()` tries to override a static method of a superclass
in `processing/src/main/java/org/apache/druid/query/context/ConcurrentResponseContext.java`
#### Snippet
```java
public class ConcurrentResponseContext extends ResponseContext
{
  public static ConcurrentResponseContext createEmpty()
  {
    return new ConcurrentResponseContext();
```

### MethodOverridesStaticMethod
Method `getDefault()` tries to override a static method of a superclass
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/BasicSecuritySSLSocketFactory.java`
#### Snippet
```java
  }

  public static SocketFactory getDefault()
  {
    return new BasicSecuritySSLSocketFactory();
```

### MethodOverridesStaticMethod
Method `defaultConfig()` tries to override a static method of a superclass
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
    public static final String TYPE = "compaction";

    public static CompactionTuningConfig defaultConfig()
    {
      return new CompactionTuningConfig(
```

## RuleId[ruleID=IOResource]
### IOResource
'FastLineIterator' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `core/src/main/java/org/apache/druid/data/input/TextReader.java`
#### Snippet
```java
  public CloseableIteratorWithMetadata<String> intermediateRowIteratorWithMetadata() throws IOException
  {
    final CloseableIterator<String> delegate = new FastLineIterator(source.open());
    final int numHeaderLines = getNumHeaderLinesToSkip();
    for (int i = 0; i < numHeaderLines && delegate.hasNext(); i++) {
```

### IOResource
'StreamingMergeSortedGrouper' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
    final SettableColumnSelectorFactory settableColumnSelectorFactory =
        new SettableColumnSelectorFactory(combiningFactories);
    final StreamingMergeSortedGrouper<KeyType> grouper = new StreamingMergeSortedGrouper<>(
        Suppliers.ofInstance(combineBuffer),
        combineKeySerdeFactory.factorizeWithDictionary(dictionary),
```

### IOResource
'LimitedBufferHashGrouper' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java
        Preconditions.checkState(!limitSpec.isOffset(), "Cannot push down offsets");

        LimitedBufferHashGrouper<ByteBuffer> limitGrouper = new LimitedBufferHashGrouper<>(
            Suppliers.ofInstance(buffer),
            keySerde,
```

### IOResource
'VectorAggregatorAdapter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorAdapters.java`
#### Snippet
```java
    for (int i = 0; i < aggregatorFactories.size(); i++) {
      final AggregatorFactory aggregatorFactory = aggregatorFactories.get(i);
      adapters[i] = new VectorAggregatorAdapter(
          aggregatorFactory,
          aggregatorFactory.factorizeVector(columnSelectorFactory)
```

### IOResource
'BufferAggregatorAdapter' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorAdapters.java`
#### Snippet
```java
    for (int i = 0; i < aggregatorFactories.size(); i++) {
      final AggregatorFactory aggregatorFactory = aggregatorFactories.get(i);
      adapters[i] = new BufferAggregatorAdapter(
          aggregatorFactory,
          aggregatorFactory.factorizeBuffered(columnSelectorFactory)
```

### IOResource
'DictionaryMergingIterator' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java
    int cardinality = 0;
    if (numMergeIndex > 1) {
      DictionaryMergingIterator<String> dictionaryMergeIterator = new DictionaryMergingIterator<>(
          sortedLookups,
          StringDimensionMergerV9.DICTIONARY_MERGING_COMPARATOR,
```

### IOResource
'DictionaryMergingIterator' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java
          true
      );
      DictionaryMergingIterator<Long> longDictionaryMergeIterator = new DictionaryMergingIterator<>(
          sortedLongLookups,
          LONG_MERGING_COMPARATOR,
```

### IOResource
'DictionaryMergingIterator' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java
          true
      );
      DictionaryMergingIterator<Double> doubleDictionaryMergeIterator = new DictionaryMergingIterator<>(
          sortedDoubleLookups,
          DOUBLE_MERGING_COMPARATOR,
```

### IOResource
'HeapByteBufferWriteOutBytes' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiInts.java`
#### Snippet
```java
    }

    HeapByteBufferWriteOutBytes headerBytes = new HeapByteBufferWriteOutBytes();
    HeapByteBufferWriteOutBytes valueBytes = new HeapByteBufferWriteOutBytes();
    int offset = 0;
```

### IOResource
'RowBasedSegment' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/external/ExternalInputSliceReader.java`
#### Snippet
```java

          final SegmentId segmentId = SegmentId.dummy("dummy");
          final RowBasedSegment<InputRow> segment = new RowBasedSegment<>(
              segmentId,
              new BaseSequence<>(
```

### IOResource
'DataOutputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilter.java`
#### Snippet
```java
     * big endina longs in the BloomKFilter bitset
     */
    DataOutputStream dataOutputStream = new DataOutputStream(out);
    dataOutputStream.writeByte(bloomFilter.k);
    dataOutputStream.writeInt(bloomFilter.getBitSet().length);
```

### IOResource
'DataInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/filter/BloomKFilter.java`
#### Snippet
```java

    try {
      DataInputStream dataInputStream = new DataInputStream(in);
      int numHashFunc = dataInputStream.readByte();
      int bitsetArrayLen = dataInputStream.readInt();
```

### IOResource
'RandomAccessFile' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/LogUtils.java`
#### Snippet
```java
  public static InputStream streamFile(final File file, final long offset) throws IOException
  {
    final RandomAccessFile raf = new RandomAccessFile(file, "r");
    final long rafLength = raf.length();
    if (offset > 0) {
```

### IOResource
'NettyDockerCmdExecFactory' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `integration-tests/src/main/java/org/apache/druid/testing/utils/DruidClusterAdminClient.java`
#### Snippet
```java
    return DockerClientBuilder
        .getInstance()
        .withDockerCmdExecFactory((new NettyDockerCmdExecFactory()).withConnectTimeout(10 * 1000))
        .build();
  }
```

## RuleId[ruleID=OptionalIsPresent]
### OptionalIsPresent
Can be replaced with single expression in functional style
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
              .computeIfAbsent(dimension, d -> Optional.ofNullable(dimFilter.getDimensionRangeSet(d)));

          if (optFilterRangeSet.isPresent()) {
            filterDomain.put(dimension, optFilterRangeSet.get());
          }
```

### OptionalIsPresent
Can be replaced with single expression in functional style
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
                                                                                                            timestamp))
                                                                                          .findFirst();
    if (!intervalAndVersion.isPresent()) {
      return null;
    }
```

## RuleId[ruleID=FieldMayBeStatic]
### FieldMayBeStatic
Field `NON_PRIMARY_ASSIGNED_COUNT` may be 'static'
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
  static final String ASSIGNED_COUNT = "assignedCount";
  static final String DROPPED_COUNT = "droppedCount";
  public final String NON_PRIMARY_ASSIGNED_COUNT = "totalNonPrimaryReplicantsLoaded";
  public static final String REQUIRED_CAPACITY = "requiredCapacity";

```

### FieldMayBeStatic
Field `numRetries` may be 'static'
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/CoordinatorBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
  private final ObjectMapper objectMapper;
  private final BasicAuthenticatorCacheNotifier cacheNotifier;
  private final int numRetries = 5;

  private final Map<String, BasicAuthenticatorUserMapBundle> cachedUserMaps;
```

### FieldMayBeStatic
Field `numRetries` may be 'static'
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/db/updater/CoordinatorBasicAuthorizerMetadataStorageUpdater.java`
#### Snippet
```java
  private final BasicAuthCommonCacheConfig commonCacheConfig;
  private final ObjectMapper objectMapper;
  private final int numRetries = 5;

  private final Map<String, BasicAuthorizerUserMapBundle> cachedUserMaps;
```

## RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
### UtilityClassWithoutPrivateConstructor
Class `ByteBitLookup` has only 'static' members, and lacks a 'private' constructor
in `hll/src/main/java/org/apache/druid/hll/ByteBitLookup.java`
#### Snippet
```java
/**
 */
public class ByteBitLookup
{
  public static final byte[] LOOKUP;
```

### UtilityClassWithoutPrivateConstructor
Class `SqlBindings` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/guice/SqlBindings.java`
#### Snippet
```java
 * Utility class that provides bindings to extendable components in the SqlModule
 */
public class SqlBindings
{
  public static void addAggregator(
```

### UtilityClassWithoutPrivateConstructor
Class `DruidRels` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidRels.java`
#### Snippet
```java
import java.util.Optional;

public class DruidRels
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `SqlEngines` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/run/SqlEngines.java`
#### Snippet
```java
import java.util.Set;

public class SqlEngines
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `DruidSqlParserUtils` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/parser/DruidSqlParserUtils.java`
#### Snippet
```java
import java.util.stream.Collectors;

public class DruidSqlParserUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `ExtractionFns` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/ExtractionFns.java`
#### Snippet
```java
import java.util.List;

public class ExtractionFns
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `TimeUnits` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/TimeUnits.java`
#### Snippet
```java
import java.util.Map;

public class TimeUnits
{
  private static final Map<TimeUnitRange, Period> PERIOD_MAP = ImmutableMap.<TimeUnitRange, Period>builder()
```

### UtilityClassWithoutPrivateConstructor
Class `Externals` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/external/Externals.java`
#### Snippet
```java
 * of external tables.
 */
public class Externals
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `NestedDataOperatorConversions` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/NestedDataOperatorConversions.java`
#### Snippet
```java
import java.util.List;

public class NestedDataOperatorConversions
{
  public static final DruidJsonValueConvertletFactory DRUID_JSON_VALUE_CONVERTLET_FACTORY_INSTANCE =
```

### UtilityClassWithoutPrivateConstructor
Class `RangeSets` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/RangeSets.java`
#### Snippet
```java
import java.util.List;

public class RangeSets
{
  public static <T extends Comparable<T>> RangeSet<T> of(final Range<T> range)
```

### UtilityClassWithoutPrivateConstructor
Class `OperatorConversions` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/OperatorConversions.java`
#### Snippet
```java
 * Utilities for assisting in writing {@link SqlOperatorConversion} implementations.
 */
public class OperatorConversions
{

```

### UtilityClassWithoutPrivateConstructor
Class `Bounds` has only 'static' members, and lacks a 'private' constructor
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java
import java.util.List;

public class Bounds
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `HttpClientInit` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/http/client/HttpClientInit.java`
#### Snippet
```java
 *
 */
public class HttpClientInit
{
  public static HttpClient createClient(HttpClientConfig config, Lifecycle lifecycle)
```

### UtilityClassWithoutPrivateConstructor
Class `StreamUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/StreamUtils.java`
#### Snippet
```java
/**
 */
public class StreamUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Cleaners` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/Cleaners.java`
#### Snippet
```java
import java.lang.invoke.MethodType;

public class Cleaners
{
  public interface Cleanable
```

### UtilityClassWithoutPrivateConstructor
Class `JodaUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/JodaUtils.java`
#### Snippet
```java
 *
 */
public class JodaUtils
{
  // limit intervals such that duration millis fits in a long
```

### UtilityClassWithoutPrivateConstructor
Class `MapUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/MapUtils.java`
#### Snippet
```java
/**
 */
public class MapUtils
{
  public static String getString(Map<String, Object> in, String key)
```

### UtilityClassWithoutPrivateConstructor
Class `DecimalFormatter` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java
  }

  static class DecimalFormatter
  {
    private static final String[] UNITS = {"K", "M", "G", "T", "P", "E"};
```

### UtilityClassWithoutPrivateConstructor
Class `BinaryFormatter` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/HumanReadableBytes.java`
#### Snippet
```java
  }

  static class BinaryFormatter
  {
    private static final String[] UNITS = {"", "Ki", "Mi", "Gi", "Ti", "Pi", "Ei"};
```

### UtilityClassWithoutPrivateConstructor
Class `UnsafeUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/UnsafeUtils.java`
#### Snippet
```java
 * since Unsafe may not be directly accessible in newer JDK versions
 */
public class UnsafeUtils
{
  private static final Object UNSAFE;
```

### UtilityClassWithoutPrivateConstructor
Class `DefineClassUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/DefineClassUtils.java`
#### Snippet
```java
 * See also {@link ByteBufferUtils}
 */
public class DefineClassUtils
{
  private static final MethodHandle DEFINE_CLASS;
```

### UtilityClassWithoutPrivateConstructor
Class `Smoosh` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/io/smoosh/Smoosh.java`
#### Snippet
```java
/**
 */
public class Smoosh
{

```

### UtilityClassWithoutPrivateConstructor
Class `RetryUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/RetryUtils.java`
#### Snippet
```java
import java.util.concurrent.ThreadLocalRandom;

public class RetryUtils
{
  public static final Logger log = new Logger(RetryUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ByteBufferUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/ByteBufferUtils.java`
#### Snippet
```java
 *
 */
public class ByteBufferUtils
{
  // the following MethodHandle lookup code is adapted from Apache Kafka
```

### UtilityClassWithoutPrivateConstructor
Class `YieldingAccumulators` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/guava/YieldingAccumulators.java`
#### Snippet
```java
/**
 */
public class YieldingAccumulators
{
  public static <AccumulatedType, InType> YieldingAccumulator<AccumulatedType, InType> fromAccumulator(
```

### UtilityClassWithoutPrivateConstructor
Class `Accumulators` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/guava/Accumulators.java`
#### Snippet
```java
/**
 */
public class Accumulators
{
  public static <ListType extends List<T>, T> Accumulator<ListType, T> list()
```

### UtilityClassWithoutPrivateConstructor
Class `FileUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/FileUtils.java`
#### Snippet
```java
import java.util.UUID;

public class FileUtils
{
  public enum LinkOrCopyResult
```

### UtilityClassWithoutPrivateConstructor
Class `Comparators` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/guava/Comparators.java`
#### Snippet
```java
/**
 */
public class Comparators
{
  private static final Ordering<Object> ALWAYS_EQUAL = new Ordering<Object>()
```

### UtilityClassWithoutPrivateConstructor
Class `Sequences` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/guava/Sequences.java`
#### Snippet
```java
 *
 */
public class Sequences
{

```

### UtilityClassWithoutPrivateConstructor
Class `Yielders` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/guava/Yielders.java`
#### Snippet
```java
/**
 */
public class Yielders
{
  public static <T> Yielder<T> each(final Sequence<T> sequence)
```

### UtilityClassWithoutPrivateConstructor
Class `Config` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/config/Config.java`
#### Snippet
```java
/**
*/
public class Config
{
  public static ConfigurationObjectFactory createFactory(Properties props)
```

### UtilityClassWithoutPrivateConstructor
Class `StringUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/StringUtils.java`
#### Snippet
```java
 * is exploited in {@link #toUtf8(String)} and {@link #fromUtf8(byte[])}.
 */
public class StringUtils
{
  public static final byte[] EMPTY_BYTES = new byte[0];
```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/collect/Utils.java`
#### Snippet
```java
import java.util.Map;

public class Utils
{

```

### UtilityClassWithoutPrivateConstructor
Class `ParserUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/parsers/ParserUtils.java`
#### Snippet
```java
import java.util.stream.StreamSupport;

public class ParserUtils
{
  private static final String DEFAULT_COLUMN_NAME_PREFIX = "column_";
```

### UtilityClassWithoutPrivateConstructor
Class `Parsers` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/parsers/Parsers.java`
#### Snippet
```java


public class Parsers
{
  public static final String DEFAULT_LIST_DELIMITER = "\u0001";
```

### UtilityClassWithoutPrivateConstructor
Class `TimestampParser` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/parsers/TimestampParser.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public class TimestampParser
{
  public static Function<String, DateTime> createTimestampParser(
```

### UtilityClassWithoutPrivateConstructor
Class `ExecutorServices` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/ExecutorServices.java`
#### Snippet
```java
import java.util.concurrent.ExecutorService;

public class ExecutorServices
{

```

### UtilityClassWithoutPrivateConstructor
Class `Execs` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/Execs.java`
#### Snippet
```java
 *
 */
public class Execs
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Granularities` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularities.java`
#### Snippet
```java
 * See: #2979, #3979
 */
public class Granularities
{
  public static final Granularity SECOND = GranularityType.SECOND.getDefaultGranularity();
```

### UtilityClassWithoutPrivateConstructor
Class `Emitters` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/emitter/core/Emitters.java`
#### Snippet
```java
import java.util.Properties;

public class Emitters
{

```

### UtilityClassWithoutPrivateConstructor
Class `ScheduledExecutors` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/ScheduledExecutors.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public class ScheduledExecutors
{
  private static final Logger log = new Logger(ScheduledExecutors.class);
```

### UtilityClassWithoutPrivateConstructor
Class `Monitors` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/metrics/Monitors.java`
#### Snippet
```java
import java.util.Map;

public class Monitors
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `AllocationMetricCollectors` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/metrics/AllocationMetricCollectors.java`
#### Snippet
```java
import java.lang.reflect.Method;

class AllocationMetricCollectors
{
  private static final Logger log = new Logger(AllocationMetricCollectors.class);
```

### UtilityClassWithoutPrivateConstructor
Class `MonitorUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/metrics/MonitorUtils.java`
#### Snippet
```java
import java.util.Map;

public class MonitorUtils
{
  public static void addDimensionsToBuilder(ServiceMetricEvent.Builder builder, Map<String, String[]> dimensions)
```

### UtilityClassWithoutPrivateConstructor
Class `CgroupUtil` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/metrics/CgroupUtil.java`
#### Snippet
```java
import java.util.regex.Pattern;

public class CgroupUtil
{
  public static final String SPACE_MATCH = Pattern.quote(" ");
```

### UtilityClassWithoutPrivateConstructor
Class `SigarUtil` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/java/util/metrics/SigarUtil.java`
#### Snippet
```java
import java.net.URL;

public class SigarUtil
{
  private static final Logger log = new Logger(SigarUtil.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ExpressionProcessing` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/math/expr/ExpressionProcessing.java`
#### Snippet
```java
 * Like {@link org.apache.druid.common.config.NullHandling}, except for expressions processing configs
 */
public class ExpressionProcessing
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `InputBindings` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
import java.util.function.Function;

public class InputBindings
{
  private static final Expr.ObjectBinding NIL_BINDINGS = new Expr.ObjectBinding()
```

### UtilityClassWithoutPrivateConstructor
Class `Exprs` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/math/expr/Exprs.java`
#### Snippet
```java
import java.util.Stack;

public class Exprs
{
  public static final byte EXPR_CACHE_KEY = 0x00;
```

### UtilityClassWithoutPrivateConstructor
Class `Evals` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/math/expr/Evals.java`
#### Snippet
```java
/**
 */
public class Evals
{
  public static boolean isAllConstants(Expr... exprs)
```

### UtilityClassWithoutPrivateConstructor
Class `Parser` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
import java.util.stream.Collectors;

public class Parser
{
  private static final Logger log = new Logger(Parser.class);
```

### UtilityClassWithoutPrivateConstructor
Class `VectorStringProcessors` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorStringProcessors.java`
#### Snippet
```java
import java.util.List;

public class VectorStringProcessors
{
  public static <T> ExprVectorProcessor<T> concat(Expr.VectorInputBindingInspector inspector, Expr left, Expr right)
```

### UtilityClassWithoutPrivateConstructor
Class `PolyBind` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/guice/PolyBind.java`
#### Snippet
```java
 */
@PublicApi
public class PolyBind
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Jerseys` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/guice/Jerseys.java`
#### Snippet
```java

@PublicApi
public class Jerseys
{
  private static final Logger LOG = new Logger(Jerseys.class);
```

### UtilityClassWithoutPrivateConstructor
Class `DruidScopes` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/guice/DruidScopes.java`
#### Snippet
```java
 */
@PublicApi
public class DruidScopes
{
  public static final Scope SINGLETON = new Scope()
```

### UtilityClassWithoutPrivateConstructor
Class `Binders` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/guice/Binders.java`
#### Snippet
```java
 */
@PublicApi
public class Binders
{

```

### UtilityClassWithoutPrivateConstructor
Class `Runnables` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/utils/Runnables.java`
#### Snippet
```java
 */
@PublicApi
public class Runnables
{
  public static Runnable getNoopRunnable()
```

### UtilityClassWithoutPrivateConstructor
Class `DynamicConfigProviderUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/utils/DynamicConfigProviderUtils.java`
#### Snippet
```java
import java.util.Map;

public class DynamicConfigProviderUtils
{
  public static Map<String, String> extraConfigAndSetStringMap(Map<String, Object> config, String dynamicConfigProviderKey, ObjectMapper mapper)
```

### UtilityClassWithoutPrivateConstructor
Class `JvmUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/utils/JvmUtils.java`
#### Snippet
```java
import java.util.stream.Stream;

public class JvmUtils
{
  public static final int UNKNOWN_VERSION = -1;
```

### UtilityClassWithoutPrivateConstructor
Class `GuavaUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/guava/GuavaUtils.java`
#### Snippet
```java
/**
 */
public class GuavaUtils
{
  private static final Logger log = new Logger(GuavaUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `DSuppliers` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/guava/DSuppliers.java`
#### Snippet
```java
/**
 */
public class DSuppliers
{
  public static <T> Supplier<T> of(final AtomicReference<T> ref)
```

### UtilityClassWithoutPrivateConstructor
Class `FutureUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/guava/FutureUtils.java`
#### Snippet
```java
import java.util.function.Function;

public class FutureUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `PropUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/utils/PropUtils.java`
#### Snippet
```java
/**
 */
public class PropUtils
{
  public static String getProperty(Properties props, String property)
```

### UtilityClassWithoutPrivateConstructor
Class `ServletResourceUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/utils/ServletResourceUtils.java`
#### Snippet
```java
import java.util.Map;

public class ServletResourceUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `SocketUtil` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/utils/SocketUtil.java`
#### Snippet
```java
/**
 */
public class SocketUtil
{

```

### UtilityClassWithoutPrivateConstructor
Class `CompressionUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java

@PublicApi
public class CompressionUtils
{
  private static final Logger log = new Logger(CompressionUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `UUIDUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/utils/UUIDUtils.java`
#### Snippet
```java
 *
 */
public class UUIDUtils
{
  public static final String UUID_DELIM = "_";
```

### UtilityClassWithoutPrivateConstructor
Class `IdUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/utils/IdUtils.java`
#### Snippet
```java
import java.util.regex.Pattern;

public class IdUtils
{
  private static final Pattern INVALIDCHARS = Pattern.compile("(?s).*[^\\S ].*");
```

### UtilityClassWithoutPrivateConstructor
Class `NullHandling` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/common/config/NullHandling.java`
#### Snippet
```java
 * where null values are replaced with default values e.g Null Strings are replaced with empty values.
 */
public class NullHandling
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `TaskMetricsUtils` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/indexer/TaskMetricsUtils.java`
#### Snippet
```java
import java.util.Map;

public class TaskMetricsUtils
{
  public static final String ROWS_PROCESSED = "rowsProcessed";
```

### UtilityClassWithoutPrivateConstructor
Class `VByte` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/segment/data/VByte.java`
#### Snippet
```java
import java.nio.ByteBuffer;

public class VByte
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Types` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/segment/column/Types.java`
#### Snippet
```java
import javax.annotation.Nullable;

public class Types
{
  private static final String ARRAY_PREFIX = "ARRAY<";
```

### UtilityClassWithoutPrivateConstructor
Class `TypeStrategies` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategies.java`
#### Snippet
```java
import java.util.concurrent.ConcurrentHashMap;

public class TypeStrategies
{
  public static final int VALUE_OFFSET = Byte.BYTES;
```

### UtilityClassWithoutPrivateConstructor
Class `TaskThreadPriority` has only 'static' members, and lacks a 'private' constructor
in `core/src/main/java/org/apache/druid/concurrent/TaskThreadPriority.java`
#### Snippet
```java
package org.apache.druid.concurrent;

public class TaskThreadPriority
{
  // The task context key to grab the task priority from
```

### UtilityClassWithoutPrivateConstructor
Class `AWSCredentialsUtils` has only 'static' members, and lacks a 'private' constructor
in `cloud/aws-common/src/main/java/org/apache/druid/common/aws/AWSCredentialsUtils.java`
#### Snippet
```java
import com.amazonaws.auth.profile.ProfileCredentialsProvider;

public class AWSCredentialsUtils
{
  public static AWSCredentialsProviderChain defaultAWSCredentialsProviderChain(final AWSCredentialsConfig config)
```

### UtilityClassWithoutPrivateConstructor
Class `AWSClientUtil` has only 'static' members, and lacks a 'private' constructor
in `cloud/aws-common/src/main/java/org/apache/druid/common/aws/AWSClientUtil.java`
#### Snippet
```java
import java.io.IOException;

public class AWSClientUtil
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `DruidBinders` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/guice/DruidBinders.java`
#### Snippet
```java
import org.apache.druid.server.DruidNode;

public class DruidBinders
{
  public static MapBinder<Class<? extends Query>, QueryRunnerFactory> queryRunnerFactoryBinder(Binder binder)
```

### UtilityClassWithoutPrivateConstructor
Class `ServerViewUtil` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/client/ServerViewUtil.java`
#### Snippet
```java
/**
 */
public class ServerViewUtil
{
  public static List<LocatedSegmentDescriptor> getTargetLocations(
```

### UtilityClassWithoutPrivateConstructor
Class `CacheUtil` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/client/CacheUtil.java`
#### Snippet
```java
import java.nio.ByteBuffer;

public class CacheUtil
{
  public enum ServerType
```

### UtilityClassWithoutPrivateConstructor
Class `JettyUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/JettyUtils.java`
#### Snippet
```java
import javax.ws.rs.core.UriInfo;

public class JettyUtils
{
  private static final Logger log = new Logger(JettyUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `HttpMediaType` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/http/HttpMediaType.java`
#### Snippet
```java
import javax.ws.rs.core.MediaType;

public class HttpMediaType
{
  public static final String TEXT_PLAIN_UTF8 = MediaType.TEXT_PLAIN + "; charset=UTF-8";
```

### UtilityClassWithoutPrivateConstructor
Class `ResourceType` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/security/ResourceType.java`
#### Snippet
```java
 * Set of built-in and 'registered' {@link Resource} types for use by {@link Authorizer}
 */
public class ResourceType
{
  public static final String DATASOURCE = "DATASOURCE";
```

### UtilityClassWithoutPrivateConstructor
Class `TLSUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/security/TLSUtils.java`
#### Snippet
```java
import java.security.cert.CertificateException;

public class TLSUtils
{
  private static final Logger log = new Logger(TLSUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `AuthTestUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/security/AuthTestUtils.java`
#### Snippet
```java
import java.util.Map;

public class AuthTestUtils
{
  public static final AuthenticatorMapper TEST_AUTHENTICATOR_MAPPER;
```

### UtilityClassWithoutPrivateConstructor
Class `AuthenticationUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/security/AuthenticationUtils.java`
#### Snippet
```java
import java.util.List;

public class AuthenticationUtils
{
  public static void addAllowOptionsFilter(ServletContextHandler root, boolean allowUnauthenticatedHttpOptions)
```

### UtilityClassWithoutPrivateConstructor
Class `AuthorizationUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/security/AuthorizationUtils.java`
#### Snippet
```java
 * Static utility functions for performing authorization checks.
 */
public class AuthorizationUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `JettyServerInitUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/server/initialization/jetty/JettyServerInitUtils.java`
#### Snippet
```java
import java.util.Set;

public class JettyServerInitUtils
{
  private static final String[] GZIP_METHODS = new String[]{HttpMethod.GET, HttpMethod.POST};
```

### UtilityClassWithoutPrivateConstructor
Class `CatalogUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
import java.util.stream.Stream;

public class CatalogUtils
{
  public static List<String> columnNames(List<ColumnSpec> columns)
```

### UtilityClassWithoutPrivateConstructor
Class `PropertyAttributes` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/catalog/model/PropertyAttributes.java`
#### Snippet
```java
 * indicate the role of each table property when used in a SQL table function.
 */
public class PropertyAttributes
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `InputFormats` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/catalog/model/table/InputFormats.java`
#### Snippet
```java
 * lists in table specs to subclasses of {@link InputFormat}.
 */
public class InputFormats
{
  public interface InputFormatDefn
```

### UtilityClassWithoutPrivateConstructor
Class `CuratorUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/curator/CuratorUtils.java`
#### Snippet
```java
import org.apache.zookeeper.KeeperException;

public class CuratorUtils
{
  public static final int DEFAULT_MAX_ZNODE_BYTES = 512 * 1024;
```

### UtilityClassWithoutPrivateConstructor
Class `CuratorServiceUtils` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/curator/discovery/CuratorServiceUtils.java`
#### Snippet
```java
 */
@Deprecated
public class CuratorServiceUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Committers` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Committers.java`
#### Snippet
```java
import javax.annotation.Nullable;

public class Committers
{
  private static final Committer NIL = new Committer()
```

### UtilityClassWithoutPrivateConstructor
Class `ChatHandlers` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/ChatHandlers.java`
#### Snippet
```java
import javax.servlet.http.HttpServletRequest;

public class ChatHandlers
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Appenderators` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/Appenderators.java`
#### Snippet
```java
import org.apache.druid.timeline.VersionedIntervalTimeline;

public class Appenderators
{
  public static Appenderator createRealtime(
```

### UtilityClassWithoutPrivateConstructor
Class `Initialization` has only 'static' members, and lacks a 'private' constructor
in `server/src/main/java/org/apache/druid/initialization/Initialization.java`
#### Snippet
```java
 * the {@link ServerInjectorBuilder}.
 */
public class Initialization
{
  // Use individual builders for testing: this method brings in
```

### UtilityClassWithoutPrivateConstructor
Class `WebConsoleJettyServerInitializer` has only 'static' members, and lacks a 'private' constructor
in `services/src/main/java/org/apache/druid/cli/WebConsoleJettyServerInitializer.java`
#### Snippet
```java
import java.util.List;

class WebConsoleJettyServerInitializer
{
  private static final String WEB_CONSOLE_ROOT_DOCUMENT = "unified-console.html";
```

### UtilityClassWithoutPrivateConstructor
Class `Main` has only 'static' members, and lacks a 'private' constructor
in `services/src/main/java/org/apache/druid/cli/Main.java`
#### Snippet
```java
/**
 */
public class Main
{
  static {
```

### UtilityClassWithoutPrivateConstructor
Class `FrameReaderUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/frame/read/FrameReaderUtils.java`
#### Snippet
```java
 * Utility methods used by various entities that read data from {@link org.apache.druid.frame.Frame} objects.
 */
public class FrameReaderUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `FrameWriterUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/frame/write/FrameWriterUtils.java`
#### Snippet
```java
 * Utility methods used by {@link FrameWriter} implementations.
 */
public class FrameWriterUtils
{
  public static final byte NULL_STRING_MARKER = (byte) 0xFF; /* cannot appear in a valid utf-8 byte sequence */
```

### UtilityClassWithoutPrivateConstructor
Class `GuiceInjectors` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/guice/GuiceInjectors.java`
#### Snippet
```java
 * New code should prefer using {@link StartupInjectorBuilder}
 */
public class GuiceInjectors
{
  public static Injector makeStartupInjector()
```

### UtilityClassWithoutPrivateConstructor
Class `DruidMetrics` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/DruidMetrics.java`
#### Snippet
```java
/**
 */
public class DruidMetrics
{
  public static final String DATASOURCE = "dataSource";
```

### UtilityClassWithoutPrivateConstructor
Class `QueryRunnerHelper` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/QueryRunnerHelper.java`
#### Snippet
```java
/**
 */
public class QueryRunnerHelper
{
  public static <T> Sequence<Result<T>> makeCursorBasedQuery(
```

### UtilityClassWithoutPrivateConstructor
Class `Queries` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/Queries.java`
#### Snippet
```java

@PublicApi
public class Queries
{
  public static List<PostAggregator> decoratePostAggregators(
```

### UtilityClassWithoutPrivateConstructor
Class `DimFilters` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/filter/DimFilters.java`
#### Snippet
```java
/**
 */
public class DimFilters
{
  public static SelectorDimFilter dimEquals(String dimension, String value)
```

### UtilityClassWithoutPrivateConstructor
Class `DimFilterUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/filter/DimFilterUtils.java`
#### Snippet
```java
 *
 */
public class DimFilterUtils
{
  static final byte SELECTOR_CACHE_ID = 0x0;
```

### UtilityClassWithoutPrivateConstructor
Class `GroupByQueryHelper` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
import java.util.concurrent.ConcurrentLinkedQueue;

public class GroupByQueryHelper
{
  public static final String CTX_KEY_SORT_RESULTS = "sortResults";
```

### UtilityClassWithoutPrivateConstructor
Class `HavingSpecUtil` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/groupby/having/HavingSpecUtil.java`
#### Snippet
```java
import java.util.Map;

public class HavingSpecUtil
{
  static final byte CACHE_TYPE_ID_ALWAYS = 0x0;
```

### UtilityClassWithoutPrivateConstructor
Class `HavingSpecMetricComparator` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/groupby/having/HavingSpecMetricComparator.java`
#### Snippet
```java
/**
 */
class HavingSpecMetricComparator
{
  static final Pattern LONG_PAT = Pattern.compile("[-|+]?\\d+");
```

### UtilityClassWithoutPrivateConstructor
Class `GrouperBufferComparatorUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GrouperBufferComparatorUtils.java`
#### Snippet
```java
 * {@link Grouper.KeySerde#bufferComparatorWithAggregators(AggregatorFactory[], int[])}
 */
public class GrouperBufferComparatorUtils
{
  public static Grouper.BufferComparator bufferComparator(
```

### UtilityClassWithoutPrivateConstructor
Class `DictionaryBuilding` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/DictionaryBuilding.java`
#### Snippet
```java
 * Utilities for parts of the groupBy engine that need to build dictionaries.
 */
public class DictionaryBuilding
{
  // Entry in dictionary, node pointer in reverseDictionary, hash + k/v/next pointer in reverseDictionary nodes
```

### UtilityClassWithoutPrivateConstructor
Class `StringComparators` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
import java.util.Comparator;

public class StringComparators
{
  public static final String LEXICOGRAPHIC_NAME = "lexicographic";
```

### UtilityClassWithoutPrivateConstructor
Class `ExprUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/expression/ExprUtils.java`
#### Snippet
```java
import javax.annotation.Nullable;

public class ExprUtils
{
  static DateTimeZone toTimeZone(final Expr timeZoneArg)
```

### UtilityClassWithoutPrivateConstructor
Class `IPv4AddressExprUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/expression/IPv4AddressExprUtils.java`
#### Snippet
```java
import javax.annotation.Nullable;

public class IPv4AddressExprUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `HyperUniqueExpressions` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
import java.util.Objects;

public class HyperUniqueExpressions
{
  public static final ExpressionType TYPE = ExpressionType.fromColumnType(HyperUniquesAggregatorFactory.TYPE);
```

### UtilityClassWithoutPrivateConstructor
Class `ExtractionCacheHelper` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/extraction/ExtractionCacheHelper.java`
#### Snippet
```java
 *
 */
public class ExtractionCacheHelper
{
  public static final byte CACHE_TYPE_ID_TIME_DIM = 0x0;
```

### UtilityClassWithoutPrivateConstructor
Class `MetricManipulatorFns` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/aggregation/MetricManipulatorFns.java`
#### Snippet
```java
/**
 */
public class MetricManipulatorFns
{
  private static final MetricManipulationFn IDENTITY_INSTANCE = new MetricManipulationFn()
```

### UtilityClassWithoutPrivateConstructor
Class `NestedDataExpressions` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
import java.util.stream.Collectors;

public class NestedDataExpressions
{
  public static final ExpressionType TYPE = Preconditions.checkNotNull(
```

### UtilityClassWithoutPrivateConstructor
Class `AggregatorUtil` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java

@PublicApi
public class AggregatorUtil
{
  public static final byte STRING_SEPARATOR = (byte) 0xFF;
```

### UtilityClassWithoutPrivateConstructor
Class `PostAggregatorIds` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/aggregation/post/PostAggregatorIds.java`
#### Snippet
```java
package org.apache.druid.query.aggregation.post;

public class PostAggregatorIds
{
  public static final byte ARITHMETIC = 0;
```

### UtilityClassWithoutPrivateConstructor
Class `StringFirstLastUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstLastUtils.java`
#### Snippet
```java
import java.nio.ByteBuffer;

public class StringFirstLastUtils
{
  private static final int NULL_VALUE = -1;
```

### UtilityClassWithoutPrivateConstructor
Class `JodaStuff` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/jackson/JodaStuff.java`
#### Snippet
```java
/**
 */
class JodaStuff
{
  @SuppressWarnings("unchecked")
```

### UtilityClassWithoutPrivateConstructor
Class `CompressedPools` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/CompressedPools.java`
#### Snippet
```java
import java.util.concurrent.atomic.AtomicLong;

public class CompressedPools
{
  private static final Logger log = new Logger(CompressedPools.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ColumnProcessors` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/ColumnProcessors.java`
#### Snippet
```java
 * @see DimensionHandlerUtils#createColumnSelectorPlus which this may eventually replace
 */
public class ColumnProcessors
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `BitmapSerde` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/data/BitmapSerde.java`
#### Snippet
```java
import com.fasterxml.jackson.annotation.JsonTypeName;

public class BitmapSerde
{

```

### UtilityClassWithoutPrivateConstructor
Class `VSizeLongSerde` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/data/VSizeLongSerde.java`
#### Snippet
```java
 * An empty 4 bytes is written upon closing to avoid index out of bound exception for deserializers that shift bytes
 */
public class VSizeLongSerde
{

```

### UtilityClassWithoutPrivateConstructor
Class `JoinPrefixUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/join/JoinPrefixUtils.java`
#### Snippet
```java
 * Utility class for working with prefixes in join operations
 */
public class JoinPrefixUtils
{
  private static final Comparator<String> DESCENDING_LENGTH_STRING_COMPARATOR = (s1, s2) ->
```

### UtilityClassWithoutPrivateConstructor
Class `JoinFilterAnalyzer` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/join/filter/JoinFilterAnalyzer.java`
#### Snippet
```java
 * filter rewrite and push down operations on a per-segment level.
 */
public class JoinFilterAnalyzer
{
  private static final String PUSH_DOWN_VIRTUAL_COLUMN_NAME_BASE = "JOIN-FILTER-PUSHDOWN-VIRTUAL-COLUMN-";
```

### UtilityClassWithoutPrivateConstructor
Class `ComplexMetrics` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetrics.java`
#### Snippet
```java
 *  ComplexMetrics houses a mapping of serde names to affiliated ComplexMetricSerde objects.
 */
public class ComplexMetrics
{
  private static final ConcurrentHashMap<String, ComplexMetricSerde> COMPLEX_SERIALIZERS = new ConcurrentHashMap<>();
```

### UtilityClassWithoutPrivateConstructor
Class `StringEncodingStrategies` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/column/StringEncodingStrategies.java`
#### Snippet
```java
import java.util.Iterator;

public class StringEncodingStrategies
{
  public static DictionaryWriter<String> getStringDictionaryWriter(
```

### UtilityClassWithoutPrivateConstructor
Class `Filters` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
 *
 */
public class Filters
{
  private static final ColumnSelectorFactory ALL_NULL_COLUMN_SELECTOR_FACTORY = new AllNullColumnSelectorFactory();
```

### UtilityClassWithoutPrivateConstructor
Class `VectorSelectorUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/vector/VectorSelectorUtils.java`
#### Snippet
```java
import java.util.Arrays;

public class VectorSelectorUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `ConstantVectorSelectors` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/vector/ConstantVectorSelectors.java`
#### Snippet
```java
import java.util.Arrays;

public class ConstantVectorSelectors
{
  public static VectorValueSelector vectorValueSelector(VectorSizeInspector inspector, @Nullable Number constant)
```

### UtilityClassWithoutPrivateConstructor
Class `NestedPathFinder` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
import java.util.stream.IntStream;

public class NestedPathFinder
{
  public static String toNormalizedJsonPath(List<NestedPathPart> paths)
```

### UtilityClassWithoutPrivateConstructor
Class `GeneratorBasicSchemas` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/segment/generator/GeneratorBasicSchemas.java`
#### Snippet
```java
import java.util.Map;

public class GeneratorBasicSchemas
{
  private static final ImmutableMap.Builder<String, GeneratorSchemaInfo> SCHEMA_INFO_BUILDER = ImmutableMap.builder();
```

### UtilityClassWithoutPrivateConstructor
Class `RTreeUtils` has only 'static' members, and lacks a 'private' constructor
in `processing/src/main/java/org/apache/druid/collections/spatial/RTreeUtils.java`
#### Snippet
```java
/**
 */
public class RTreeUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `ConciseSetUtils` has only 'static' members, and lacks a 'private' constructor
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ConciseSetUtils.java`
#### Snippet
```java
/**
 */
public class ConciseSetUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `ArrayUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ArrayUtils.java`
#### Snippet
```java
package org.apache.druid.query.aggregation.histogram;

public class ArrayUtils
{
  public static int hashCode(long[] a, int fromIndex, int toIndex)
```

### UtilityClassWithoutPrivateConstructor
Class `SketchQueryContext` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/SketchQueryContext.java`
#### Snippet
```java
import org.apache.druid.sql.calcite.planner.PlannerContext;

public class SketchQueryContext
{
  public static final String CTX_FINALIZE_OUTER_SKETCHES = "sqlFinalizeOuterSketches";
```

### UtilityClassWithoutPrivateConstructor
Class `KllDoublesSketchOperations` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchOperations.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class KllDoublesSketchOperations
{

```

### UtilityClassWithoutPrivateConstructor
Class `KllFloatsSketchOperations` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchOperations.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class KllFloatsSketchOperations
{

```

### UtilityClassWithoutPrivateConstructor
Class `ThetaSketchSqlOperators` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/sql/ThetaSketchSqlOperators.java`
#### Snippet
```java
import org.apache.druid.sql.calcite.table.RowSignatures;

public class ThetaSketchSqlOperators
{
  public static final SqlReturnTypeInference RETURN_TYPE_INFERENCE =
```

### UtilityClassWithoutPrivateConstructor
Class `ArrayOfDoublesSketchOperations` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchOperations.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class ArrayOfDoublesSketchOperations
{

```

### UtilityClassWithoutPrivateConstructor
Class `DoublesSketchOperations` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchOperations.java`
#### Snippet
```java
import java.nio.charset.StandardCharsets;

public class DoublesSketchOperations
{

```

### UtilityClassWithoutPrivateConstructor
Class `DbUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/storage/sql/DbUtils.java`
#### Snippet
```java
import org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException;

public class DbUtils
{
  // Move to SqlMetadataConnector and its subclasses
```

### UtilityClassWithoutPrivateConstructor
Class `DruidKerberosUtil` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosUtil.java`
#### Snippet
```java
import java.util.concurrent.locks.ReentrantLock;

public class DruidKerberosUtil
{
  private static final Logger log = new Logger(DruidKerberosUtil.class);
```

### UtilityClassWithoutPrivateConstructor
Class `S3Utils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3Utils.java`
#### Snippet
```java
 *
 */
public class S3Utils
{
  private static final String SCHEME = S3StorageDruidModule.SCHEME;
```

### UtilityClassWithoutPrivateConstructor
Class `AzureUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureUtils.java`
#### Snippet
```java
 * Utility class for miscellaneous things involving Azure.
 */
public class AzureUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `GoogleUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/google-extensions/src/main/java/org/apache/druid/storage/google/GoogleUtils.java`
#### Snippet
```java
import java.util.Iterator;

public class GoogleUtils
{
  private static final Logger log = new Logger(GoogleUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `QueryValidator` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/QueryValidator.java`
#### Snippet
```java
import java.math.RoundingMode;

public class QueryValidator
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `Limits` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/Limits.java`
#### Snippet
```java
package org.apache.druid.msq.exec;

public class Limits
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `MSQTasks` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/MSQTasks.java`
#### Snippet
```java
import java.util.UUID;

public class MSQTasks
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `MSQFutureUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQFutureUtils.java`
#### Snippet
```java
 * Future-related utility functions that haven't been moved to {@link FutureUtils}.
 */
public class MSQFutureUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `MSQTaskQueryMakerUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MSQTaskQueryMakerUtils.java`
#### Snippet
```java
import java.util.stream.Collectors;

public class MSQTaskQueryMakerUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `DimensionSchemaUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/DimensionSchemaUtils.java`
#### Snippet
```java
 * were not an extension.
 */
public class DimensionSchemaUtils
{
  public static DimensionSchema createDimensionSchema(final String column, @Nullable final ColumnType type)
```

### UtilityClassWithoutPrivateConstructor
Class `SequenceUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/SequenceUtils.java`
#### Snippet
```java
 * Sequence-related utility functions that would make sense in {@link Sequence} if this were not an extension.
 */
public class SequenceUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `IntervalUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/IntervalUtils.java`
#### Snippet
```java
 * Things that would make sense in {@link org.apache.druid.java.util.common.Intervals} if this were not an extension.
 */
public class IntervalUtils
{
  public static List<Interval> difference(final List<Interval> list1, final List<Interval> list2)
```

### UtilityClassWithoutPrivateConstructor
Class `MultiStageQueryContext` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/MultiStageQueryContext.java`
#### Snippet
```java
 * Class for all MSQ context params
 */
public class MultiStageQueryContext
{
  public static final String CTX_MSQ_MODE = "mode";
```

### UtilityClassWithoutPrivateConstructor
Class `SlicerUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/input/SlicerUtils.java`
#### Snippet
```java
import java.util.function.ToLongFunction;

public class SlicerUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `DurableStorageUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/shuffle/DurableStorageUtils.java`
#### Snippet
```java
 * Helper class that fetches the directory and file names corresponding to file location
 */
public class DurableStorageUtils
{
  public static final String SUCCESS_MARKER_FILENAME = "__success";
```

### UtilityClassWithoutPrivateConstructor
Class `MSQWarnings` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/error/MSQWarnings.java`
#### Snippet
```java
 * Helper class for defining parameters used by the multi-stage query engine's "warning framework"
 */
public class MSQWarnings
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `QueryKitUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/QueryKitUtils.java`
#### Snippet
```java
 * Utility methods for QueryKit.
 */
public class QueryKitUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `BloomFilterExpressions` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/expressions/BloomFilterExpressions.java`
#### Snippet
```java
import java.util.List;

public class BloomFilterExpressions
{
  public static final ExpressionType BLOOM_FILTER_TYPE = ExpressionType.fromColumnTypeStrict(
```

### UtilityClassWithoutPrivateConstructor
Class `ProtobufConverter` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/ProtobufConverter.java`
#### Snippet
```java
 * Convert {@link Message} to plain java stuffs, based roughly on the conversions done with {@link JsonFormat}
 */
public class ProtobufConverter
{
  private static final Map<String, SpecializedConverter> SPECIAL_CONVERSIONS = buildSpecializedConversions();
```

### UtilityClassWithoutPrivateConstructor
Class `BasicAuthUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/BasicAuthUtils.java`
#### Snippet
```java
import java.util.Map;

public class BasicAuthUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `KafkaConsumerConfigs` has only 'static' members, and lacks a 'private' constructor
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/KafkaConsumerConfigs.java`
#### Snippet
```java
 * Common place to keep all kafka consumer configs
 */
public class KafkaConsumerConfigs
{

```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Utils.java`
#### Snippet
```java
/**
 */
public class Utils
{
  private static final Logger log = new Logger(Utils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `HadoopWorkingDirCleaner` has only 'static' members, and lacks a 'private' constructor
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopWorkingDirCleaner.java`
#### Snippet
```java
 */
@SuppressWarnings("unused")
public class HadoopWorkingDirCleaner
{
  private static final Logger log = new Logger(HadoopWorkingDirCleaner.class);
```

### UtilityClassWithoutPrivateConstructor
Class `HadoopGlobPathSplitter` has only 'static' members, and lacks a 'private' constructor
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/path/HadoopGlobPathSplitter.java`
#### Snippet
```java

//Note: This class has been created to workaround https://issues.apache.org/jira/browse/MAPREDUCE-5061
public class HadoopGlobPathSplitter
{

```

### UtilityClassWithoutPrivateConstructor
Class `JobHelper` has only 'static' members, and lacks a 'private' constructor
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
/**
 */
public class JobHelper
{
  private static final Logger log = new Logger(JobHelper.class);
```

### UtilityClassWithoutPrivateConstructor
Class `IndexingServiceModuleHelper` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/guice/IndexingServiceModuleHelper.java`
#### Snippet
```java
/**
 */
public class IndexingServiceModuleHelper
{
  public static final String INDEXER_RUNNER_PROPERTY_PREFIX = "druid.indexer.runner";
```

### UtilityClassWithoutPrivateConstructor
Class `InputRowSerde` has only 'static' members, and lacks a 'private' constructor
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
/**
 */
public class InputRowSerde
{
  private static final Logger log = new Logger(InputRowSerde.class);
```

### UtilityClassWithoutPrivateConstructor
Class `Tasks` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Tasks.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public class Tasks
{
  public static final int DEFAULT_REALTIME_TASK_PRIORITY = 75;
```

### UtilityClassWithoutPrivateConstructor
Class `ReingestionTimelineUtils` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/ReingestionTimelineUtils.java`
#### Snippet
```java
 */
@Deprecated
public class ReingestionTimelineUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `InputSourceProcessor` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/InputSourceProcessor.java`
#### Snippet
```java
import java.util.concurrent.TimeoutException;

public class InputSourceProcessor
{
  private static final Logger LOG = new Logger(InputSourceProcessor.class);
```

### UtilityClassWithoutPrivateConstructor
Class `IndexTaskUtils` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTaskUtils.java`
#### Snippet
```java
import java.util.List;

public class IndexTaskUtils
{
  @Nullable
```

### UtilityClassWithoutPrivateConstructor
Class `Initialization` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Initialization.java`
#### Snippet
```java
import java.util.List;

public class Initialization
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `LogUtils` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/LogUtils.java`
#### Snippet
```java
import java.nio.channels.Channels;

public class LogUtils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `TaskLocks` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/TaskLocks.java`
#### Snippet
```java
import java.util.TreeMap;

public class TaskLocks
{
  static void checkLockCoversSegments(
```

### UtilityClassWithoutPrivateConstructor
Class `TaskRunnerUtils` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java
import java.util.concurrent.Executor;

public class TaskRunnerUtils
{
  private static final EmittingLogger log = new EmittingLogger(TaskRunnerUtils.class);
```

### UtilityClassWithoutPrivateConstructor
Class `ProvisioningUtil` has only 'static' members, and lacks a 'private' constructor
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ProvisioningUtil.java`
#### Snippet
```java
import org.apache.druid.java.util.common.ISE;

public class ProvisioningUtil
{
  public static Predicate<ImmutableWorkerInfo> createValidWorkerPredicate(
```

### UtilityClassWithoutPrivateConstructor
Class `ITRetryUtil` has only 'static' members, and lacks a 'private' constructor
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ITRetryUtil.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public class ITRetryUtil
{

```

### UtilityClassWithoutPrivateConstructor
Class `ServerDiscoveryUtil` has only 'static' members, and lacks a 'private' constructor
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ServerDiscoveryUtil.java`
#### Snippet
```java
import java.util.concurrent.Callable;

public class ServerDiscoveryUtil
{

```

### UtilityClassWithoutPrivateConstructor
Class `KafkaUtil` has only 'static' members, and lacks a 'private' constructor
in `integration-tests/src/main/java/org/apache/druid/testing/utils/KafkaUtil.java`
#### Snippet
```java
import java.util.Properties;

public class KafkaUtil
{
  private static final String TEST_PROPERTY_PREFIX = "kafka.test.property.";
```

### UtilityClassWithoutPrivateConstructor
Class `QueryResultVerifier` has only 'static' members, and lacks a 'private' constructor
in `integration-tests/src/main/java/org/apache/druid/testing/utils/QueryResultVerifier.java`
#### Snippet
```java
import java.util.Map;

public class QueryResultVerifier
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `RedisCacheFactory` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/RedisCacheFactory.java`
#### Snippet
```java
import java.util.stream.Collectors;

public class RedisCacheFactory
{
  public static Cache create(final RedisCacheConfig config)
```

### UtilityClassWithoutPrivateConstructor
Class `ThriftDeserialization` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftDeserialization.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class ThriftDeserialization
{
  private static final Logger log = LoggerFactory.getLogger(ThriftDeserialization.class);
```

### UtilityClassWithoutPrivateConstructor
Class `MovingAverageHelper` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageHelper.java`
#### Snippet
```java
import java.util.Map;

public class MovingAverageHelper
{

```

### UtilityClassWithoutPrivateConstructor
Class `CloudFilesUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/cloudfiles-extensions/src/main/java/org/apache/druid/storage/cloudfiles/CloudFilesUtils.java`
#### Snippet
```java
 *
 */
public class CloudFilesUtils
{

```

### UtilityClassWithoutPrivateConstructor
Class `OssUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssUtils.java`
#### Snippet
```java
import java.util.List;

public class OssUtils
{
  private static final String SCHEME = OssStorageDruidModule.SCHEME;
```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/Utils.java`
#### Snippet
```java
 * Utility opertaions for accumlation.
 */
public class Utils
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `MaterializedViewUtils` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/MaterializedViewUtils.java`
#### Snippet
```java
import java.util.Set;

public class MaterializedViewUtils 
{
  /**
```

### UtilityClassWithoutPrivateConstructor
Class `DruidK8sConstants` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/DruidK8sConstants.java`
#### Snippet
```java
import com.google.common.base.Predicate;

public class DruidK8sConstants
{
  public static final String TASK_ID = "task.id";
```

### UtilityClassWithoutPrivateConstructor
Class `Base64Compression` has only 'static' members, and lacks a 'private' constructor
in `extensions-contrib/kubernetes-overlord-extensions/src/main/java/org/apache/druid/k8s/overlord/common/Base64Compression.java`
#### Snippet
```java
import java.util.zip.GZIPOutputStream;

public class Base64Compression
{
  public static String compressBase64(String srcTxt) throws IOException
```

## RuleId[ruleID=DataFlowIssue]
### DataFlowIssue
Method invocation `stage` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidRels.java`
#### Snippet
```java
                                                                   || druidRel instanceof DruidUnionDataSourceRel))) {
      final PartialDruidQuery partialQuery = druidRel.getPartialDruidQuery();
      final PartialDruidQuery.Stage stage = partialQuery.stage();
      return (stage == PartialDruidQuery.Stage.SCAN || stage == PartialDruidQuery.Stage.SELECT_PROJECT)
             && partialQuery.getWhereFilter() == null;
```

### DataFlowIssue
Method invocation `getSelectProject` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidRels.java`
#### Snippet
```java
      // Like isScanOrProject, but don't allow transforming projections.
      final PartialDruidQuery partialQuery = druidRel.getPartialDruidQuery();
      return partialQuery.getSelectProject() == null || partialQuery.getSelectProject().isMapping();
    } else {
      return false;
```

### DataFlowIssue
Method invocation `getDirectColumn` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/Windowing.java`
#### Snippet
```java
      RexNode columnArgument = Expressions.fromFieldAccess(sig, project, call.getArgList().get(argPosition));
      final DruidExpression expression = Expressions.toDruidExpression(context, sig, columnArgument);
      return expression.getDirectColumn();
    }

```

### DataFlowIssue
Method invocation `getDependentFields` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java
        .collect(Collectors.toSet());

    return existingAggregationNames.containsAll(aggregation.getPostAggregator().getDependentFields());
  }
}
```

### DataFlowIssue
Method invocation `getFullRowSignature` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/GroupByRules.java`
#### Snippet
```java
      } else {
        filter = Filtration.create(nonOptimizedFilter)
                           .optimizeFilterOnly(virtualColumnRegistry.getFullRowSignature())
                           .getDimFilter();
      }
```

### DataFlowIssue
Method invocation `getDimensions` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/run/NativeQueryMaker.java`
#### Snippet
```java

    final List<String> rowOrder;
    if (query instanceof TimeseriesQuery && !druidQuery.getGrouping().getDimensions().isEmpty()) {
      // Hack for timeseries queries: when generating them, DruidQuery.toTimeseriesQuery translates a dimension
      // based on a timestamp_floor expression into a 'granularity'. This is not reflected in the druidQuery's
```

### DataFlowIssue
Method invocation `stage` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
    final boolean isLeftDirectAccessPossible = enableLeftScanDirect && (left instanceof DruidQueryRel);

    if (left.getPartialDruidQuery().stage() == PartialDruidQuery.Stage.SELECT_PROJECT
        && (isLeftDirectAccessPossible || left.getPartialDruidQuery().getWhereFilter() == null)) {
      // Swap the left-side projection above the join, so the left side is a simple scan or mapping. This helps us
```

### DataFlowIssue
Method invocation `stage` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
    }

    if (right.getPartialDruidQuery().stage() == PartialDruidQuery.Stage.SELECT_PROJECT
        && right.getPartialDruidQuery().getWhereFilter() == null
        && !right.getPartialDruidQuery().getSelectProject().isMapping()
```

### DataFlowIssue
Method invocation `getIndex` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
    {
      for (Pair<RexNode, RexInputRef> equality : equalitySubConditions) {
        final int rightIndex = equality.rhs.getIndex() - numLeftFields;

        if (!rightProject.getProjects().get(rightIndex).isA(SqlKind.INPUT_REF)) {
```

### DataFlowIssue
Argument `RexUtil.shift(equality.rhs, -numLeftFields)` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
                      (RexInputRef) RexUtil.shift(
                          RelOptUtil.pushPastProject(
                              RexUtil.shift(equality.rhs, -numLeftFields),
                              rightProject
                          ),
```

### DataFlowIssue
Argument `equality.lhs` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidJoinRule.java`
#### Snippet
```java
              .map(
                  equality -> Pair.of(
                      RelOptUtil.pushPastProject(equality.lhs, leftProject),
                      (RexInputRef) RexUtil.shift(equality.rhs, rhsShift)
                  )
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/table/RowSignatures.java`
#### Snippet
```java
            break;
          case ARRAY:
            switch (columnType.getElementType().getType()) {
              case STRING:
                type = Calcites.createSqlArrayTypeWithNullability(typeFactory, SqlTypeName.VARCHAR, true);
```

### DataFlowIssue
Method invocation `stage` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidUnionDataSourceRule.java`
#### Snippet
```java
      // This rel is a table scan or mapping.

      if (partialQuery.stage() == PartialDruidQuery.Stage.SCAN) {
        return Optional.of(druidTable.get().getRowSignature().getColumnNames());
      } else {
```

### DataFlowIssue
Method invocation `leafRel` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final DruidOuterQueryRel outerQueryRel = DruidOuterQueryRel.create(
            druidRel,
            PartialDruidQuery.create(druidRel.getPartialDruidQuery().leafRel())
                             .withWindow(window)
        );
```

### DataFlowIssue
Method invocation `leafRel` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final DruidOuterQueryRel outerQueryRel = DruidOuterQueryRel.create(
            druidRel,
            PartialDruidQuery.create(druidRel.getPartialDruidQuery().leafRel())
                             .withSort(sort)
        );
```

### DataFlowIssue
Method invocation `leafRel` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final DruidOuterQueryRel outerQueryRel = DruidOuterQueryRel.create(
            druidRel,
            PartialDruidQuery.create(druidRel.getPartialDruidQuery().leafRel())
                             .withWhereFilter(filter)
        );
```

### DataFlowIssue
Method invocation `leafRel` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final DruidOuterQueryRel outerQueryRel = DruidOuterQueryRel.create(
            druidRel,
            PartialDruidQuery.create(druidRel.getPartialDruidQuery().leafRel())
                             .withAggregate(aggregate)
        );
```

### DataFlowIssue
Method invocation `stage` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
      // Subquery must be a groupBy, so stage must be >= AGGREGATE.
      final DruidRel druidRel = call.rel(call.getRelList().size() - 1);
      return druidRel.getPartialDruidQuery().stage().compareTo(PartialDruidQuery.Stage.AGGREGATE) >= 0;
    }
  }
```

### DataFlowIssue
Method invocation `canAccept` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
    {
      final DruidRel druidRel = call.rel(1);
      return druidRel.getPartialDruidQuery().canAccept(stage);
    }

```

### DataFlowIssue
Method invocation `leafRel` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/DruidRules.java`
#### Snippet
```java
        final DruidOuterQueryRel outerQueryRel = DruidOuterQueryRel.create(
            druidRel,
            PartialDruidQuery.create(druidRel.getPartialDruidQuery().leafRel())
                             .withSelectProject(filter)
        );
```

### DataFlowIssue
Method invocation `getQuerySegmentSpec` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java
        topNMetricSpec,
        Ints.checkedCast(sorting.getOffsetLimit().getLimit()),
        filtration.getQuerySegmentSpec(),
        filtration.getDimFilter(),
        Granularities.ALL,
```

### DataFlowIssue
Method invocation `getQuerySegmentSpec` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java
    return new TimeseriesQuery(
        newDataSource,
        filtration.getQuerySegmentSpec(),
        descending,
        getVirtualColumns(false),
```

### DataFlowIssue
Method invocation `getQuerySegmentSpec` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java
    return new ScanQuery(
        newDataSource,
        filtration.getQuerySegmentSpec(),
        virtualColumns,
        ScanQuery.ResultFormat.RESULT_FORMAT_COMPACTED_LIST,
```

### DataFlowIssue
Method invocation `getQuerySegmentSpec` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java
      return new TimeBoundaryQuery(
          newDataSource,
          filtration.getQuerySegmentSpec(),
          bound,
          filtration.getDimFilter(),
```

### DataFlowIssue
Argument `newDataSource` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java

    GroupByQuery query = new GroupByQuery(
        newDataSource,
        filtration.getQuerySegmentSpec(),
        getVirtualColumns(true),
```

### DataFlowIssue
Method invocation `getQuerySegmentSpec` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/rel/DruidQuery.java`
#### Snippet
```java
    GroupByQuery query = new GroupByQuery(
        newDataSource,
        filtration.getQuerySegmentSpec(),
        getVirtualColumns(true),
        filtration.getDimFilter(),
```

### DataFlowIssue
Method invocation `is` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/DruidRexExecutor.java`
#### Snippet
```java
            literal = rexBuilder.makeNullLiteral(constExp.getType());
          } else if (SqlTypeName.NUMERIC_TYPES.contains(constExp.getType().getComponentType().getSqlTypeName())) {
            if (exprResult.type().getElementType().is(ExprType.LONG)) {
              List<BigDecimal> resultAsBigDecimalList = new ArrayList<>(array.length);
              for (Object val : array) {
```

### DataFlowIssue
Argument `valueType` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/Calcites.java`
#### Snippet
```java
  {
    final ColumnType valueType = getColumnTypeForRelDataType(dataType);
    return getStringComparatorForValueType(valueType);
  }

```

### DataFlowIssue
Dereference of `possiblyLimitedRoot` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/QueryHandler.java`
#### Snippet
```java
    // because no values were provided. (Values are not required in the PREPARE case
    // but now that we're planning, we require them.)
    RelNode parameterized = possiblyLimitedRoot.rel.accept(
        new RelParameterizerShuttle(plannerContext)
    );
```

### DataFlowIssue
Method invocation `getColumnType` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/external/Externals.java`
#### Snippet
```java
    // TODO: Fix the underlying problem: we should not make assumptions about the input
    // data, nor restrict the form of that data.
    Optional<ColumnType> timestampColumnTypeOptional = spec.signature.getColumnType(ColumnHolder.TIME_COLUMN_NAME);
    if (timestampColumnTypeOptional.isPresent() && !timestampColumnTypeOptional.get().equals(ColumnType.LONG)) {
      throw new ISE("EXTERN function with __time column can be used when __time column is of type long. "
```

### DataFlowIssue
Method invocation `intValue` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/TruncateOperatorConversion.java`
#### Snippet
```java
            factorString = "1";
          } else if (digitsExpr.isLiteral()) {
            final int digits = ((Number) digitsExpr.getLiteralValue()).intValue();
            final double factor = Math.pow(10, digits);
            factorString = DruidExpression.doubleLiteral(factor);
```

### DataFlowIssue
Method invocation `intValue` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/RegexpExtractOperatorConversion.java`
#### Snippet
```java
                    // non-SQL-compliant null handling mode).
                    StringUtils.nullToEmptyNonDruidDataString(pattern),
                    indexExpr == null ? DEFAULT_INDEX : ((Number) indexExpr.getLiteralValue()).intValue(),
                    true,
                    null
```

### DataFlowIssue
Argument `truncType` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/DateTruncOperatorConversion.java`
#### Snippet
```java

          final String truncType = (String) truncTypeExpr.getLiteralValue();
          final Period truncPeriod = TRUNC_PERIOD_MAP.get(StringUtils.toLowerCase(truncType));

          if (truncPeriod == null) {
```

### DataFlowIssue
@Nullable method 'makeTrimExpression' always returns a non-null value
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/builtin/TrimOperatorConversion.java`
#### Snippet
```java
public class TrimOperatorConversion implements SqlOperatorConversion
{
  @Nullable
  public static DruidExpression makeTrimExpression(
      final SqlTrimFunction.Flag trimStyle,
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/ConvertBoundsToSelectors.java`
#### Snippet
```java
      if (bound.hasUpperBound()
          && bound.hasLowerBound()
          && bound.getUpper().equals(bound.getLower())
          && !bound.isUpperStrict()
          && !bound.isLowerStrict()
```

### DataFlowIssue
Argument `selector.getValue()` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/ConvertSelectorsToIns.java`
#### Snippet
```java

          for (final SelectorDimFilter selector : filterList) {
            values.add(selector.getValue());
            if (!children.remove(selector)) {
              // Don't expect this to happen, but include it as a sanity check.
```

### DataFlowIssue
Method invocation `getDimFilter` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveMarkerFiltersToIntervals.java`
#### Snippet
```java
  public Filtration apply(final Filtration filtration)
  {
    if (Filtration.matchEverything().equals(filtration.getDimFilter())) {
      return Filtration.create(null, filtration.getIntervals());
    } else if (Filtration.matchNothing().equals(filtration.getDimFilter())) {
```

### DataFlowIssue
Method invocation `getDimFilter` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/BottomUpTransform.java`
#### Snippet
```java
  public Filtration apply(final Filtration filtration)
  {
    if (filtration.getDimFilter() != null) {
      final Filtration retVal = Filtration.create(apply0(filtration.getDimFilter()), filtration.getIntervals());
      return filtration.equals(retVal) ? retVal : apply(retVal);
```

### DataFlowIssue
Method invocation `getDimFilter` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/MoveTimeFiltersToIntervals.java`
#### Snippet
```java
  public Filtration apply(final Filtration filtration)
  {
    if (filtration.getDimFilter() == null) {
      return filtration;
    }
```

### DataFlowIssue
Argument `upper` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java

    if (lower == null) {
      return bound.isUpperStrict() ? Range.lessThan(upper) : Range.atMost(upper);
    } else if (upper == null) {
      return bound.isLowerStrict() ? Range.greaterThan(lower) : Range.atLeast(lower);
```

### DataFlowIssue
Argument `upper` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java

    if (lower == null) {
      return bound.isUpperStrict() ? Range.lessThan(upper) : Range.atMost(upper);
    } else if (upper == null) {
      return bound.isLowerStrict() ? Range.greaterThan(lower) : Range.atLeast(lower);
```

### DataFlowIssue
Argument `valueType` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/MinSqlAggregator.java`
#### Snippet
```java
  {
    final ColumnType valueType = Calcites.getColumnTypeForRelDataType(aggregateCall.getType());
    return Aggregation.create(createMinAggregatorFactory(valueType, name, fieldName, macroTable));
  }

```

### DataFlowIssue
Argument `name` might be null
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/Aggregation.java`
#### Snippet
```java

    for (AggregatorFactory aggregatorFactory : aggregatorFactories) {
      if (!aggregatorFactory.getName().startsWith(name)) {
        throw new IAE("Aggregator[%s] not prefixed under[%s]", aggregatorFactory.getName(), name);
      }
```

### DataFlowIssue
Method invocation `isDirectColumnAccess` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/aggregation/builtin/ArrayConcatSqlAggregator.java`
#### Snippet
```java
    }
    final String initialvalue = ExpressionType.fromColumnTypeStrict(druidType).asTypeString() + "[]";
    if (arg.isDirectColumnAccess()) {
      fieldName = arg.getDirectColumn();
    } else {
```

### DataFlowIssue
Argument `StringUtils.urlEncode(path)` might be null
in `core/src/main/java/org/apache/druid/data/input/impl/CloudObjectLocation.java`
#### Snippet
```java
            scheme,
            bucket,
            StringUtils.replace(StringUtils.urlEncode(path), "%2F", "/")
        )
    );
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `sql/src/main/java/org/apache/druid/sql/calcite/expression/DruidExpression.java`
#### Snippet
```java
  public String getDirectColumn()
  {
    return Preconditions.checkNotNull(simpleExtraction.getColumn());
  }

```

### DataFlowIssue
Argument `filter` might be null
in `core/src/main/java/org/apache/druid/data/input/impl/LocalInputSource.java`
#### Snippet
```java
      final IOFileFilter fileFilter;
      if (files == null) {
        fileFilter = new WildcardFileFilter(filter);
      } else {
        fileFilter = new AndFileFilter(
```

### DataFlowIssue
Argument `filter` might be null
in `core/src/main/java/org/apache/druid/data/input/impl/LocalInputSource.java`
#### Snippet
```java
      } else {
        fileFilter = new AndFileFilter(
            new WildcardFileFilter(filter),
            new NotFileFilter(
                new NameFileFilter(files.stream().map(File::getName).collect(Collectors.toList()), IOCase.SENSITIVE)
```

### DataFlowIssue
Method invocation `withSplit` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/data/input/impl/CombiningInputSource.java`
#### Snippet
```java
  {
    Pair<SplittableInputSource, InputSplit> inputSourceWithSplit = (Pair) split.get();
    return inputSourceWithSplit.lhs.withSplit(inputSourceWithSplit.rhs);
  }

```

### DataFlowIssue
Unboxing of `Checks.checkOneNotNullOrEmpty( ImmutableList.of( new Property<>("hasHeaderRo...` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/data/input/impl/FlatTextInputFormat.java`
#### Snippet
```java
    //noinspection ConstantConditions
    if (columns == null || columns.isEmpty()) {
      this.findColumnsFromHeader = Checks.checkOneNotNullOrEmpty(
          ImmutableList.of(
              new Property<>("hasHeaderRow", hasHeaderRow),
              new Property<>("findColumnsFromHeader", findColumnsFromHeader)
          )
      ).getValue();
    } else {
      this.findColumnsFromHeader = findColumnsFromHeader == null ? false : findColumnsFromHeader;
```

### DataFlowIssue
The call to 'throwIfIllegalArgs' always fails, according to its method contracts
in `core/src/main/java/org/apache/druid/data/input/impl/CloudObjectInputSource.java`
#### Snippet
```java
      prefixes.forEach(uri -> CloudObjectLocation.validateUriScheme(scheme, uri));
    } else {
      throwIfIllegalArgs(true);
    }
  }
```

### DataFlowIssue
Method invocation `done` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamResponseHandler.java`
#### Snippet
```java
  {
    final AppendableByteArrayInputStream obj = clientResponse.getObj();
    obj.done();
    return ClientResponse.finished(obj);
  }
```

### DataFlowIssue
Method invocation `exceptionCaught` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamResponseHandler.java`
#### Snippet
```java
  {
    final AppendableByteArrayInputStream obj = clientResponse.getObj();
    obj.exceptionCaught(e);
  }

```

### DataFlowIssue
Method invocation `add` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamResponseHandler.java`
#### Snippet
```java
  )
  {
    clientResponse.getObj().add(getContentBytes(chunk.getContent()));
    return clientResponse;
  }
```

### DataFlowIssue
Method invocation `getBuilder` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/StatusResponseHandler.java`
#### Snippet
```java
  )
  {
    final StringBuilder builder = response.getObj().getBuilder();

    if (builder == null) {
```

### DataFlowIssue
Method invocation `done` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamFullResponseHandler.java`
#### Snippet
```java
  {
    InputStreamFullResponseHolder holder = clientResponse.getObj();
    holder.done();
    return ClientResponse.finished(holder);
  }
```

### DataFlowIssue
Method invocation `exceptionCaught` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamFullResponseHandler.java`
#### Snippet
```java
  )
  {
    clientResponse.getObj().exceptionCaught(e);
  }

```

### DataFlowIssue
Method invocation `addChunk` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/InputStreamFullResponseHandler.java`
#### Snippet
```java
  )
  {
    clientResponse.getObj().addChunk(getContentBytes(chunk.getContent()));
    return clientResponse;
  }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/NettyHttpClient.java`
#### Snippet
```java
    final String hostKey = getPoolKey(url);
    final ResourceContainer<ChannelFuture> channelResourceContainer = pool.take(hostKey);
    final ChannelFuture channelFuture = channelResourceContainer.get().awaitUninterruptibly();
    if (!channelFuture.isSuccess()) {
      channelResourceContainer.returnResource(); // Some other poor sap will have to deal with it...
```

### DataFlowIssue
Method invocation `isValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/ObjectOrErrorResponseHandler.java`
#### Snippet
```java
    final Either<StringFullResponseHolder, IntermediateType> prevHolder = clientResponse.getObj();

    if (prevHolder.isValue()) {
      okHandler.exceptionCaught(
          new ClientResponse<>(
```

### DataFlowIssue
Method invocation `isValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/ObjectOrErrorResponseHandler.java`
#### Snippet
```java
    final Either<StringFullResponseHolder, IntermediateType> prevHolder = clientResponse.getObj();

    if (prevHolder.isValue()) {
      final ClientResponse<FinalType> delegateResponse = okHandler.done(
          new ClientResponse<>(
```

### DataFlowIssue
Method invocation `isValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/http/client/response/ObjectOrErrorResponseHandler.java`
#### Snippet
```java
    final Either<StringFullResponseHolder, IntermediateType> prevHolder = clientResponse.getObj();

    if (prevHolder.isValue()) {
      final ClientResponse<IntermediateType> delegateResponse = okHandler.handleChunk(
          new ClientResponse<>(
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `core/src/main/java/org/apache/druid/java/util/emitter/core/HttpEmitterConfig.java`
#### Snippet
```java
  @NotNull
  @JsonProperty
  String recipientBaseUrl = null;

  /**
```

### DataFlowIssue
Unboxing of `batchConfigPair.lhs` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/BaseHttpEmittingConfig.java`
#### Snippet
```java
    Pair<Integer, Integer> batchConfigPair =
        getDefaultBatchSizeAndLimit(JvmUtils.getRuntimeInfo().getMaxHeapSizeBytes());
    DEFAULT_MAX_BATCH_SIZE = batchConfigPair.lhs;
    DEFAULT_BATCH_QUEUE_SIZE_LIMIT = batchConfigPair.rhs;
  }
```

### DataFlowIssue
Unboxing of `batchConfigPair.rhs` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/emitter/core/BaseHttpEmittingConfig.java`
#### Snippet
```java
        getDefaultBatchSizeAndLimit(JvmUtils.getRuntimeInfo().getMaxHeapSizeBytes());
    DEFAULT_MAX_BATCH_SIZE = batchConfigPair.lhs;
    DEFAULT_BATCH_QUEUE_SIZE_LIMIT = batchConfigPair.rhs;
  }

```

### DataFlowIssue
Method invocation `emit` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/java/util/metrics/JvmMonitor.java`
#### Snippet
```java
  private void emitGcMetrics(ServiceEmitter emitter)
  {
    gcCollectors.emit(emitter, dimensions);
  }

```

### DataFlowIssue
Method invocation `isPrimitive` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeConversion.java`
#### Snippet
```java
    ExpressionType otherArrayType = other.isArray() ? other : ExpressionTypeFactory.getInstance().ofArray(other);

    if (typeArrayType.getElementType().isPrimitive() && otherArrayType.getElementType().isPrimitive()) {
      ExpressionType newElementType = function(
          (ExpressionType) typeArrayType.getElementType(),
```

### DataFlowIssue
Method invocation `isPrimitive` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeConversion.java`
#### Snippet
```java
    ExpressionType otherArrayType = other.isArray() ? other : ExpressionTypeFactory.getInstance().ofArray(other);

    if (typeArrayType.getElementType().isPrimitive() && otherArrayType.getElementType().isPrimitive()) {
      ExpressionType newElementType = function(
          (ExpressionType) typeArrayType.getElementType(),
```

### DataFlowIssue
Argument `newElementType` might be null
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeConversion.java`
#### Snippet
```java
          (ExpressionType) otherArrayType.getElementType()
      );
      return ExpressionTypeFactory.getInstance().ofArray(newElementType);
    }

```

### DataFlowIssue
Expression `type` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeConversion.java`
#### Snippet
```java
      }
    }
    return type;
  }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
  public String toString()
  {
    return value.toString();
  }

```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
    }
    BigIntegerExpr otherExpr = (BigIntegerExpr) o;
    return value.equals(otherExpr.value);
  }

```

### DataFlowIssue
Method invocation `longValueExact` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
    // Eval succeeds if the BigInteger is in long range.
    // Callers that need to process out-of-long-range values, like UnaryMinusExpr, must use getLiteralValue().
    return ExprEval.ofLong(value.longValueExact());
  }

```

### DataFlowIssue
Expression `value` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
  public String toString()
  {
    return value;
  }

```

### DataFlowIssue
Method invocation `hashCode` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
  public int hashCode()
  {
    return value.hashCode();
  }
}
```

### DataFlowIssue
Argument `value` might be null
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
  public ExprEval eval(ObjectBinding bindings)
  {
    return ExprEval.ofArray(outputType, value);
  }

```

### DataFlowIssue
Method invocation `is` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ConstantExpr.java`
#### Snippet
```java
      return outputType.asTypeString() + "[]";
    }
    if (outputType.getElementType().is(ExprType.STRING)) {
      return StringUtils.format(
          "%s[%s]",
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprListenerImpl.java`
#### Snippet
```java
          toParse = elementContext.getText();
        }
        switch (type.getElementType().getType()) {
          case LONG:
            values[i] = Numbers.parseLongObject(toParse);
```

### DataFlowIssue
Argument `o` might be null
in `core/src/main/java/org/apache/druid/math/expr/CartesianList.java`
#### Snippet
```java
  public boolean contains(@Nullable Object o)
  {
    return indexOf(o) != -1;
  }
}
```

### DataFlowIssue
@Nullable method 'getType' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public ExpressionType getType(String name)
```

### DataFlowIssue
@Nullable method 'getType' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public ExpressionType getType(String name)
```

### DataFlowIssue
@Nullable method 'getType' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/InputBindings.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public ExpressionType getType(String name)
```

### DataFlowIssue
Argument `expressionType.getComplexTypeName()` might be null
in `core/src/main/java/org/apache/druid/math/expr/ExpressionTypeFactory.java`
#### Snippet
```java
        break;
      case COMPLEX:
        TypeStrategy<?> complexStrategy = TypeStrategies.getComplex(expressionType.getComplexTypeName());
        if (complexStrategy == null) {
          throw new IAE("Cannot find strategy for type [%s]", expressionType.asTypeString());
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
        return ColumnType.STRING;
      case ARRAY:
        switch (exprType.getElementType().getType()) {
          case LONG:
            return ColumnType.LONG_ARRAY;
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
        return STRING;
      case ARRAY:
        switch (valueType.getElementType().getType()) {
          case LONG:
            return LONG_ARRAY;
```

### DataFlowIssue
Method invocation `isArray` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
  public static void checkNestedArrayAllowed(ExpressionType outputType)
  {
    if (outputType.isArray() && outputType.getElementType().isArray() && !ExpressionProcessing.allowNestedArrays()) {
      throw new IAE("Cannot create a nested array type [%s], 'druid.expressions.allowNestedArrays' must be set to true", outputType);
    }
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
        return STRING;
      case ARRAY:
        switch (valueType.getElementType().getType()) {
          case LONG:
            return LONG_ARRAY;
```

### DataFlowIssue
Argument `fromColumnType(valueType.getElementType())` might be null
in `core/src/main/java/org/apache/druid/math/expr/ExpressionType.java`
#### Snippet
```java
            return STRING_ARRAY;
        }
        return ExpressionTypeFactory.getInstance().ofArray(fromColumnType(valueType.getElementType()));
      case COMPLEX:
        return ExpressionTypeFactory.getInstance().ofComplex(valueType.getComplexTypeName());
```

### DataFlowIssue
@Nullable method 'getOutputType' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/BuiltInExprMacros.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public ExpressionType getOutputType(InputBindingInspector inspector)
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/BuiltInExprMacros.java`
#### Snippet
```java
        } else if (serializedValue instanceof byte[]) {
          base64 = (byte[]) serializedValue;
        } else if (complexType.getComplexTypeName().equals(toDecode.type().getComplexTypeName())) {
          // pass it through, it is already the right thing
          return toDecode;
```

### DataFlowIssue
Method invocation `multiply` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/UnaryOperatorExpr.java`
#### Snippet
```java
    if (expr instanceof BigIntegerExpr) {
      // Special case to handle unary minus for Long.MIN_VALUE: converting the literal to long directly is impossible
      return ExprEval.of(((BigInteger) expr.getLiteralValue()).multiply(BigInteger.valueOf(-1)).longValueExact());
    }
    ExprEval ret = expr.eval(bindings);
```

### DataFlowIssue
Argument `applyFnArg.getBinding()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
    for (IdentifierExpr applyFnArg : args) {
      if (!toReplace.containsKey(applyFnArg.getBinding())) {
        IdentifierExpr lambdaRewrite = new IdentifierExpr(applyFnArg.getBinding());
        lambdaArgs.add(lambdaRewrite);
        toReplace.put(applyFnArg.getBinding(), lambdaRewrite);
```

### DataFlowIssue
Argument `applyFnArg.getBinding()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
    for (IdentifierExpr applyFnArg : args) {
      if (!toReplace.containsKey(applyFnArg.getBinding())) {
        IdentifierExpr lambdaRewrite = new IdentifierExpr(applyFnArg.getBinding());
        lambdaArgs.add(lambdaRewrite);
        toReplace.put(applyFnArg.getBinding(), lambdaRewrite);
```

### DataFlowIssue
Argument `x.getIdentifier()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
                                  .stream()
                                  .filter(x -> unappliedArgs.contains(x.getBindingIfIdentifier()))
                                  .map(x -> new IdentifierExpr(x.getIdentifier(), x.getBinding()))
                                  .collect(Collectors.toList());

```

### DataFlowIssue
Argument `x.getBinding()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Parser.java`
#### Snippet
```java
                                  .stream()
                                  .filter(x -> unappliedArgs.contains(x.getBindingIfIdentifier()))
                                  .map(x -> new IdentifierExpr(x.getIdentifier(), x.getBinding()))
                                  .collect(Collectors.toList());

```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorStringProcessors.java`
#### Snippet
```java
      )
      {
        @Nullable
        @Override
        protected String processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorStringProcessors.java`
#### Snippet
```java
      )
      {
        @Nullable
        @Override
        protected Object processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
Argument `expr.getIdentifier()` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    private <T> Stream<T> filter(T[] array, LambdaExpr expr, SettableLambdaBinding binding)
    {
      return Arrays.stream(array).filter(s -> expr.eval(binding.withBinding(expr.getIdentifier(), s)).asBoolean());
    }
  }
```

### DataFlowIssue
Argument `accumulator` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    {
      for (int i = 0; i < bindings.getLength(); i++) {
        ExprEval evaluated = lambdaExpr.eval(bindings.accumulateWithIndex(i, accumulator));
        accumulator = evaluated.value();
      }
```

### DataFlowIssue
Argument `arrayType` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
        arrayType = Function.ArrayConstructorFunction.setArrayOutput(arrayType, out, i, evaluated);
      }
      return ExprEval.ofArray(arrayType, out);
    }
  }
```

### DataFlowIssue
Argument `expr.getIdentifier()` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    {
      for (Object o : values) {
        if (!expr.eval(bindings.withBinding(expr.getIdentifier(), o)).asBoolean()) {
          return ExprEval.ofLongBoolean(false);
        }
```

### DataFlowIssue
Argument `expr.getIdentifier()` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    {
      for (Object o : values) {
        if (expr.eval(bindings.withBinding(expr.getIdentifier(), o)).asBoolean()) {
          return ExprEval.ofLongBoolean(true);
        }
```

### DataFlowIssue
Argument `elementType` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

      List<List<Object>> product = CartesianList.create(arrayInputs);
      CartesianMapLambdaBinding lambdaBinding = new CartesianMapLambdaBinding(elementType, product, lambdaExpr, bindings);
      ExpressionType lambdaType = lambdaExpr.getOutputType(lambdaBinding);
      return applyMap(ExpressionType.asArrayType(lambdaType), lambdaExpr, lambdaBinding);
```

### DataFlowIssue
Argument `accumulator` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
          array,
          accEval.type(),
          accumulator,
          lambdaExpr,
          bindings
```

### DataFlowIssue
Expression `arrayElementType` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java
    )
    {
      this.arrayElementType = arrayElementType;
      this.accumulatorType = accumulatorType;
      this.lambdaInputs = inputs;
```

### DataFlowIssue
Argument `accumulator` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

      CartesianFoldLambdaBinding lambdaBindings =
          new CartesianFoldLambdaBinding(arrayElementType, product, accEval.type(), accumulator, lambdaExpr, bindings);
      return applyFold(lambdaExpr, accumulator, lambdaBindings);
    }
```

### DataFlowIssue
Argument `arrayEval.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/ApplyFunction.java`
#### Snippet
```java

      SettableLambdaBinding lambdaBinding = new SettableLambdaBinding(arrayEval.elementType(), lambdaExpr, bindings);
      Object[] filtered = filter(arrayEval.asArray(), lambdaExpr, lambdaBinding).toArray();
      return ExprEval.ofArray(arrayEval.asArrayType(), filtered);
    }
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
        )
        {
          @Nullable
          @Override
          Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
        )
        {
          @Nullable
          @Override
          Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
          )
          {
            @Nullable
            @Override
            Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
        )
        {
          @Nullable
          @Override
          Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
        )
        {
          @Nullable
          @Override
          Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
        )
        {
          @Nullable
          @Override
          Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
          )
          {
            @Nullable
            @Override
            Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
          )
          {
            @Nullable
            @Override
            Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
          )
          {
            @Nullable
            @Override
            Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
        )
        {
          @Nullable
          @Override
          Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
          )
          {
            @Nullable
            @Override
            Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
@Nullable method 'processValue' always returns a non-null value
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
          )
          {
            @Nullable
            @Override
            Long processValue(@Nullable Object leftVal, @Nullable Object rightVal)
```

### DataFlowIssue
Condition `valueId instanceof Key` is redundant and can be replaced with a null check
in `core/src/main/java/org/apache/druid/guice/GuiceInjectableValues.java`
#### Snippet
```java
    if (nullables.get().contains((Key) valueId)) {
      return null;
    } else if (valueId instanceof Key) {
      try {
        return injector.getInstance((Key) valueId);
```

### DataFlowIssue
Method invocation `getClass` will produce `NullPointerException`
in `core/src/main/java/org/apache/druid/guice/GuiceInjectableValues.java`
#### Snippet
```java
    throw new IAE(
        "Unknown class type [%s] for valueId [%s]",
        valueId.getClass().getName(),
        valueId.toString()
    );
```

### DataFlowIssue
Argument `directory.listFiles()` might be null
in `core/src/main/java/org/apache/druid/utils/CompressionUtils.java`
#### Snippet
```java

    // Sort entries to make life easier when writing streaming-decompression unit tests.
    for (File file : Arrays.stream(directory.listFiles()).sorted().collect(Collectors.toList())) {
      log.debug("Adding file[%s] with size[%,d].  Total size so far[%,d]", file, file.length(), totalSize);
      if (file.length() > Integer.MAX_VALUE) {
```

### DataFlowIssue
Argument `host` might be null
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
  {
    if (tlsPort >= 0) {
      return HostAndPort.fromParts(host, tlsPort);
    }
    return HostAndPort.fromParts(host, port);
```

### DataFlowIssue
Argument `host` might be null
in `core/src/main/java/org/apache/druid/indexer/TaskLocation.java`
#### Snippet
```java
      return HostAndPort.fromParts(host, tlsPort);
    }
    return HostAndPort.fromParts(host, port);
  }
}
```

### DataFlowIssue
Method invocation `getGroupId` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
    return new TaskStatusPlus(
        taskIdentifierInfo.getId(),
        taskIdentifierInfo.getTask().getGroupId(),
        taskIdentifierInfo.getTask().getType(),
        taskIdentifierInfo.getCreatedTime(),
```

### DataFlowIssue
Expression `statusCode` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
        throw new RE("statusCode[%s] and status[%s] must match", statusCode, status);
      }
      this.statusCode = statusCode;
    }
    this.runnerTaskState = runnerTaskState;
```

### DataFlowIssue
Expression `runnerTaskState` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
      this.statusCode = statusCode;
    }
    this.runnerTaskState = runnerTaskState;
    this.duration = duration;
    this.location = Preconditions.checkNotNull(location, "location");
```

### DataFlowIssue
Expression `duration` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
    }
    this.runnerTaskState = runnerTaskState;
    this.duration = duration;
    this.location = Preconditions.checkNotNull(location, "location");
    this.dataSource = dataSource;
```

### DataFlowIssue
Expression `dataSource` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `core/src/main/java/org/apache/druid/indexer/TaskStatusPlus.java`
#### Snippet
```java
    this.duration = duration;
    this.location = Preconditions.checkNotNull(location, "location");
    this.dataSource = dataSource;
    this.errorMsg = errorMsg;
  }
```

### DataFlowIssue
Argument `adjustedMaxRowsPerSegment` might be null
in `core/src/main/java/org/apache/druid/indexer/partitions/SingleDimensionPartitionsSpec.java`
#### Snippet
```java
    Property<Integer> max = Checks.checkAtMostOneNotNull(
        MAX_ROWS_PER_SEGMENT,
        adjustedMaxRowsPerSegment,
        MAX_PARTITION_SIZE,
        adjustedMaxPartitionSize
```

### DataFlowIssue
Argument `adjustedMaxPartitionSize` might be null
in `core/src/main/java/org/apache/druid/indexer/partitions/SingleDimensionPartitionsSpec.java`
#### Snippet
```java
        adjustedMaxRowsPerSegment,
        MAX_PARTITION_SIZE,
        adjustedMaxPartitionSize
    );

```

### DataFlowIssue
Argument `adjustedTargetRowsPerSegment` might be null
in `core/src/main/java/org/apache/druid/indexer/partitions/SingleDimensionPartitionsSpec.java`
#### Snippet
```java
    Property<Integer> target = Checks.checkAtMostOneNotNull(
        TARGET_ROWS_PER_SEGMENT,
        adjustedTargetRowsPerSegment,
        TARGET_PARTITION_SIZE,
        adjustedTargetPartitionSize
```

### DataFlowIssue
Argument `adjustedTargetPartitionSize` might be null
in `core/src/main/java/org/apache/druid/indexer/partitions/SingleDimensionPartitionsSpec.java`
#### Snippet
```java
        adjustedTargetRowsPerSegment,
        TARGET_PARTITION_SIZE,
        adjustedTargetPartitionSize
    );

```

### DataFlowIssue
Unboxing of `maxRows.getValue()` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/indexer/partitions/DimensionRangePartitionsSpec.java`
#### Snippet
```java
      }
    } else {
      Preconditions.checkArgument(maxRows.getValue() > 0, maxRows.getName() + " must be greater than 0");
      return maxRows.getValue();
    }
```

### DataFlowIssue
Argument `adjustedTargetRowsPerSegment` might be null
in `core/src/main/java/org/apache/druid/indexer/partitions/HashedPartitionsSpec.java`
#### Snippet
```java
    Property<Integer> target = Checks.checkAtMostOneNotNull(
        TARGET_ROWS_PER_SEGMENT,
        adjustedTargetRowsPerSegment,
        TARGET_PARTITION_SIZE,
        adjustedTargetPartitionSize
```

### DataFlowIssue
Argument `adjustedTargetPartitionSize` might be null
in `core/src/main/java/org/apache/druid/indexer/partitions/HashedPartitionsSpec.java`
#### Snippet
```java
        adjustedTargetRowsPerSegment,
        TARGET_PARTITION_SIZE,
        adjustedTargetPartitionSize
    );
    target = Checks.checkAtMostOneNotNull(
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
        return ColumnType.STRING;
      case ARRAY:
        switch (type.getElementType().getType()) {
          case LONG:
            return ColumnType.LONG_ARRAY;
```

### DataFlowIssue
Argument `type.getComplexTypeName()` might be null
in `core/src/main/java/org/apache/druid/segment/column/ColumnTypeFactory.java`
#### Snippet
```java
        break;
      case COMPLEX:
        TypeStrategy<?> complexStrategy = TypeStrategies.getComplex(type.getComplexTypeName());
        if (complexStrategy == null) {
          throw new IAE("Cannot find strategy for type [%s]", type.asTypeString());
```

### DataFlowIssue
Method invocation `getNullableStrategy` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/segment/column/TypeStrategies.java`
#### Snippet
```java
    {
      this.arrayType = type;
      this.elementStrategy = type.getElementType().getNullableStrategy();
      this.elementComparator = Comparator.nullsFirst(elementStrategy);
    }
```

### DataFlowIssue
Argument `array1` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final Object[] array1 = lhsExpr.asArray();
      final Object[] array2 = rhsExpr.asArray();
      return ExprEval.ofLongBoolean(Arrays.asList(array1).containsAll(Arrays.asList(array2)));
    }
  }
```

### DataFlowIssue
Argument `array2` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final Object[] array1 = lhsExpr.asArray();
      final Object[] array2 = rhsExpr.asArray();
      return ExprEval.ofLongBoolean(Arrays.asList(array1).containsAll(Arrays.asList(array2)));
    }
  }
```

### DataFlowIssue
Dereference of `array` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final int position = scalarExpr.asInt() - 1;

      if (array.length > position) {
        return ExprEval.ofType(arrayExpr.elementType(), array[position]);
      }
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      if (args.get(1).isLiteral()) {
        ExpressionType castTo = ExpressionType.fromString(
            StringUtils.toUpperCase(args.get(1).getLiteralValue().toString())
        );
        switch (castTo.getType()) {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
            StringUtils.toUpperCase(args.get(1).getLiteralValue().toString())
        );
        switch (castTo.getType()) {
          case LONG:
          case DOUBLE:
```

### DataFlowIssue
Argument `arrayType.getElementType()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        // try to cast
        ExprEval coerced = scalarExpr.castTo(arrayExpr.elementType());
        return ExprEval.ofArray(arrayType, add(arrayType.getElementType(), arrayExpr.asArray(), coerced.value()));
      }

```

### DataFlowIssue
Argument `arrayExpr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        // try to cast
        ExprEval coerced = scalarExpr.castTo(arrayExpr.elementType());
        return ExprEval.ofArray(arrayType, add(arrayType.getElementType(), arrayExpr.asArray(), coerced.value()));
      }

```

### DataFlowIssue
Argument `arrayType.getElementType()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(arrayType, add(arrayType.getElementType(), arrayExpr.asArray(), scalarExpr.value()));
    }

```

### DataFlowIssue
Argument `arrayExpr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(arrayType, add(arrayType.getElementType(), arrayExpr.asArray(), scalarExpr.value()));
    }

```

### DataFlowIssue
Argument `y.asString()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      ExpressionType castTo;
      try {
        castTo = ExpressionType.fromString(StringUtils.toUpperCase(y.asString()));
      }
      catch (IllegalArgumentException e) {
```

### DataFlowIssue
Argument `castTo` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        throw validationFailed("invalid type %s", y.asString());
      }
      return x.castTo(castTo);
    }

```

### DataFlowIssue
Method invocation `intValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    {
      if (args.size() == 1 || args.get(1).isLiteral()) {
        final int radix = args.size() == 1 ? 10 : ((Number) args.get(1).getLiteralValue()).intValue();
        return VectorProcessors.parseLong(inspector, args.get(0), radix);
      }
```

### DataFlowIssue
Dereference of `array` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final int position = scalarExpr.asInt();

      if (array.length > position) {
        return ExprEval.ofType(arrayExpr.elementType(), array[position]);
      }
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      if (args.get(1).isLiteral()) {
        ExpressionType castTo = ExpressionType.fromString(
            StringUtils.toUpperCase(args.get(1).getLiteralValue().toString())
        );
        switch (castTo.getType()) {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
            StringUtils.toUpperCase(args.get(1).getLiteralValue().toString())
        );
        switch (castTo.getType()) {
          case ARRAY:
            return Collections.emptySet();
```

### DataFlowIssue
Argument `rhsExpr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
    {
      final Object[] array1 = lhsExpr.asArray();
      final List<Object> array2 = Arrays.asList(rhsExpr.asArray());
      boolean any = false;
      for (Object check : array1) {
```

### DataFlowIssue
Dereference of `array1` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      final List<Object> array2 = Arrays.asList(rhsExpr.asArray());
      boolean any = false;
      for (Object check : array1) {
        any |= array2.contains(check);
      }
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      // can only know cast output type if cast to argument is constant
      if (args.get(1).isLiteral()) {
        return ExpressionType.fromString(StringUtils.toUpperCase(args.get(1).getLiteralValue().toString()));
      }
      return null;
```

### DataFlowIssue
Dereference of `array` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        case DOUBLE:
          int index = -1;
          for (int i = 0; i < array.length; i++) {
            if (Objects.equals(array[i], scalarExpr.value())) {
              index = i;
```

### DataFlowIssue
Argument `format.asString()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
          );
        }
        formatter = DateTimes.wrapFormatter(DateTimeFormat.forPattern(format.asString()));
      }
      DateTime date;
```

### DataFlowIssue
Argument `expr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(expr.asArrayType(), Arrays.copyOfRange(expr.asArray(), start, end));
    }
  }
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }
      ExpressionType.checkNestedArrayAllowed(arrayType);
      if (arrayType.getElementType().isNumeric() && evaluated.isNumericNull()) {
        out[i] = null;
      } else if (!evaluated.asArrayType().equals(arrayType)) {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      switch (outputType.getType()) {
        case DOUBLE:
          //noinspection OptionalGetWithoutIsPresent (empty list handled earlier)
```

### DataFlowIssue
Dereference of `array` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        case DOUBLE:
          int index = -1;
          for (int i = 0; i < array.length; i++) {
            if (Objects.equals(array[i], scalarExpr.value())) {
              index = i;
```

### DataFlowIssue
Argument `arrayType` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(arrayType, out);
    }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      return CastToTypeVectorProcessor.cast(
          args.get(0).buildVectorized(inspector),
          ExpressionType.fromString(StringUtils.toUpperCase(args.get(1).getLiteralValue().toString()))
      );
    }
```

### DataFlowIssue
Argument `arrayType.getElementType()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        // try to cast if they types don't match
        ExprEval coerced = rhsExpr.castTo(arrayType);
        ExprEval.ofArray(arrayType, merge(arrayType.getElementType(), lhsExpr.asArray(), coerced.asArray()));
      }

```

### DataFlowIssue
Argument `lhsExpr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        // try to cast if they types don't match
        ExprEval coerced = rhsExpr.castTo(arrayType);
        ExprEval.ofArray(arrayType, merge(arrayType.getElementType(), lhsExpr.asArray(), coerced.asArray()));
      }

```

### DataFlowIssue
Argument `coerced.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
        // try to cast if they types don't match
        ExprEval coerced = rhsExpr.castTo(arrayType);
        ExprEval.ofArray(arrayType, merge(arrayType.getElementType(), lhsExpr.asArray(), coerced.asArray()));
      }

```

### DataFlowIssue
Argument `arrayType.getElementType()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(arrayType, merge(arrayType.getElementType(), lhsExpr.asArray(), rhsExpr.asArray()));
    }

```

### DataFlowIssue
Argument `lhsExpr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(arrayType, merge(arrayType.getElementType(), lhsExpr.asArray(), rhsExpr.asArray()));
    }

```

### DataFlowIssue
Argument `rhsExpr.asArray()` might be null
in `core/src/main/java/org/apache/druid/math/expr/Function.java`
#### Snippet
```java
      }

      return ExprEval.ofArray(arrayType, merge(arrayType.getElementType(), lhsExpr.asArray(), rhsExpr.asArray()));
    }

```

### DataFlowIssue
Method invocation `getElement` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/collections/StableLimitingSorter.java`
#### Snippet
```java
      public T next()
      {
        return queue.poll().getElement();
      }

```

### DataFlowIssue
Dereference of `cachedResult` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/query/ResultLevelCachingQueryRunner.java`
#### Snippet
```java
                cachedResult,
                resultOffset,
                cachedResult.length - resultOffset
            ),
            cacheObjectClazz
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/query/ResultLevelCachingQueryRunner.java`
#### Snippet
```java
      try {
        //   Save the resultSetId and its length
        resultLevelCachePopulator.cacheObjectStream.write(ByteBuffer.allocate(Integer.BYTES)
                                                                    .putInt(resultSetId.length())
                                                                    .array());
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private CuratorFramework curator = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ObjectMapper jsonMapper = null;

  @Override
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ZkPathsConfig zkPaths = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @NotNull
  @EscalatedClient
  HttpClient httpClient = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private DruidNodeDiscoveryProvider druidNodeDiscoveryProvider = null;

  @Override
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @NotNull
  @Smile
  ObjectMapper smileMapper = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  HttpServerInventoryViewConfig config = null;

  @JacksonInject
```

### DataFlowIssue
Method invocation `getTier` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
      // Include only watched tiers if specified
      if (segmentWatcherConfig.getWatchedTiers() != null
          && !segmentWatcherConfig.getWatchedTiers().contains(metadataAndSegment.lhs.getTier())) {
        return false;
      }
```

### DataFlowIssue
Method invocation `getTier` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
      // Exclude ignored tiers if specified
      if (segmentWatcherConfig.getIgnoredTiers() != null
          && segmentWatcherConfig.getIgnoredTiers().contains(metadataAndSegment.lhs.getTier())) {
        return false;
      }
```

### DataFlowIssue
Method invocation `getDataSource` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java
      // Include only watched datasources if specified
      if (segmentWatcherConfig.getWatchedDataSources() != null
          && !segmentWatcherConfig.getWatchedDataSources().contains(metadataAndSegment.rhs.getDataSource())) {
        return false;
      }
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/BrokerServerView.java`
#### Snippet
```java

      // Include realtime tasks only if they are watched
      return metadataAndSegment.lhs.getType() != ServerType.INDEXER_EXECUTOR
             || segmentWatcherConfig.isWatchRealtimeTasks();
    };
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/FilteredBatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private CuratorFramework curator = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/FilteredBatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ObjectMapper jsonMapper = null;

  @Override
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/client/FilteredBatchServerInventoryViewProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ZkPathsConfig zkPaths = null;

  @JacksonInject
```

### DataFlowIssue
Method invocation `prepareForSegmentLevelCache` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
          responseContext
      );
      final Function<T, Object> cacheFn = strategy.prepareForSegmentLevelCache();

      return resultsBySegments
```

### DataFlowIssue
Method invocation `getSegment` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
        } else if (populateCache) {
          // otherwise, if populating cache, add segment to list of segments to cache
          final SegmentId segmentId = segment.getServer().getSegment().getId();
          addCachePopulatorKey(segmentCacheKey, segmentId, segmentQueryInterval);
        }
```

### DataFlowIssue
Method invocation `reportQueriedSegmentCount` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      queryPlus = queryPlus.withQuery(query);
      queryPlus = queryPlus.withQueryMetrics(toolChest);
      queryPlus.getQueryMetrics().reportQueriedSegmentCount(segmentServers.size()).emit(emitter);

      final SortedMap<DruidServer, List<SegmentDescriptor>> segmentsByServer = groupSegmentsByServer(segmentServers);
```

### DataFlowIssue
Method invocation `pick` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      boolean hasOnlyHistoricalSegments = true;
      for (SegmentServerSelector p : segments) {
        QueryableDruidServer queryableServer = p.getServer().pick(query);
        if (queryableServer == null || !queryableServer.getServer().isSegmentReplicationTarget()) {
          hasOnlyHistoricalSegments = false;
```

### DataFlowIssue
Method invocation `getInterval` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
        // to have result level cache work correctly for queries with different
        // intervals covering the same set of segments
        hasher.putString(p.rhs.getInterval().toString(), StandardCharsets.UTF_8);
      }

```

### DataFlowIssue
Dereference of `cachedResult` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
              {
                try {
                  if (cachedResult.length == 0) {
                    return Collections.emptyIterator();
                  }
```

### DataFlowIssue
Method invocation `getSegment` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      for (SegmentServerSelector segmentServer : segments) {
        final Cache.NamedKey segmentCacheKey = CacheUtil.computeSegmentCacheKey(
            segmentServer.getServer().getSegment().getId().toString(),
            segmentServer.getSegmentDescriptor(),
            queryCacheKey
```

### DataFlowIssue
Method invocation `pick` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingClusteredClient.java`
#### Snippet
```java
      final SortedMap<DruidServer, List<SegmentDescriptor>> serverSegments = new TreeMap<>();
      for (SegmentServerSelector segmentServer : segments) {
        final QueryableDruidServer queryableDruidServer = segmentServer.getServer().pick(query);

        if (queryableDruidServer == null) {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          return ExprEval.of(asString());
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(asArray());
```

### DataFlowIssue
Method invocation `is` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    {
      if (isScalar()) {
        if (arrayType.getElementType().is(ExprType.STRING)) {
          Number n = computeNumber((String) getScalarValue());
          return n == null;
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          return ExprEval.of(asString());
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(value == null ? null : new Object[] {value.doubleValue()});
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    {
      if (isScalar()) {
        if (arrayType.getElementType().isNumeric()) {
          Number scalarValue = (Number) getScalarValue();
          if (scalarValue == null) {
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      if (isScalar()) {
        Number scalar = null;
        if (arrayType.getElementType().isNumeric()) {
          scalar = (Number) getScalarValue();
        } else if (arrayType.getElementType().is(ExprType.STRING)) {
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      if (isScalar()) {
        Number scalar = null;
        if (arrayType.getElementType().isNumeric()) {
          scalar = (Number) getScalarValue();
        } else if (arrayType.getElementType().is(ExprType.STRING)) {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          return this;
        case ARRAY:
          switch (castTo.getElementType().getType()) {
            case DOUBLE:
              return ExprEval.ofDoubleArray(value == null ? null : new Object[] {computeDouble()});
```

### DataFlowIssue
Method invocation `isArray` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      case ARRAY:
        // nested arrays, here be dragons... don't do any fancy coercion, assume everything is already sane types...
        if (type.getElementType().isArray()) {
          return ofArray(type, (Object[]) value);
        }
```

### DataFlowIssue
Argument `value` might be null
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        // nested arrays, here be dragons... don't do any fancy coercion, assume everything is already sane types...
        if (type.getElementType().isArray()) {
          return ofArray(type, (Object[]) value);
        }
        // in a better world, we might get an object that matches the type signature for arrays and could do a switch
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
      if (isScalar()) {
        Number scalar = null;
        if (arrayType.getElementType().isNumeric()) {
          scalar = (Number) getScalarValue();
        } else if (arrayType.getElementType().is(ExprType.STRING)) {
```

### DataFlowIssue
Method invocation `longValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public Object[] asArray()
    {
      return isNumericNull() ? null : new Object[] {value.longValue()};
    }

```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public final double asDouble()
    {
      return value.doubleValue();
    }

```

### DataFlowIssue
Argument `elementType` might be null
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        for (ExprEval<?> eval : evals) {
          if (eval != null) {
            array[i++] = eval.castTo(elementType).value();
          } else {
            array[i++] = null;
```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public Object[] asArray()
    {
      return isNumericNull() ? null : new Object[] {value.doubleValue()};
    }

```

### DataFlowIssue
Argument `elementType` might be null
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
          Object[] cast = new Object[value.length];
          for (int i = 0; i < value.length; i++) {
            cast[i] = ExprEval.ofType(elementType(), value[i]).castTo(elementType).value();
          }
          return ExprEval.ofArray(castTo, cast);
```

### DataFlowIssue
Method invocation `longValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public final long asLong()
    {
      return value.longValue();
    }

```

### DataFlowIssue
Expression `type().getElementType()` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
  public ExpressionType elementType()
  {
    return type().isArray() ? (ExpressionType) type().getElementType() : type();
  }

```

### DataFlowIssue
Method invocation `intValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
    public final int asInt()
    {
      return value.intValue();
    }

```

### DataFlowIssue
Method invocation `longValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        return new NullLongExpr();
      }
      return new LongExpr(value.longValue());
    }
  }
```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
        return new NullDoubleExpr();
      }
      return new DoubleExpr(value.doubleValue());
    }
  }
```

### DataFlowIssue
Expression `e` might evaluate to null but is returned by the method declared as @NotNull
in `server/src/main/java/org/apache/druid/client/cache/BytesBoundedLinkedQueue.java`
#### Snippet
```java
      signalNotFull();
    }
    return e;
  }

```

### DataFlowIssue
Argument `input.rhs` might be null
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java
              public DataSegment apply(Pair<DruidServerMetadata, DataSegment> input)
              {
                return DataSegmentInterner.intern(input.rhs);
              }
            }
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
        new Function<NewSpatialDimensionSchema, SpatialDimensionSchema>()
        {
          @Nullable
          @Override
          public SpatialDimensionSchema apply(NewSpatialDimensionSchema input)
```

### DataFlowIssue
Method invocation `computeCacheKey` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/client/CachingQueryRunner.java`
#### Snippet
```java
          cacheId,
          alignToActualDataInterval(segmentDescriptor),
          Bytes.concat(cacheKeyPrefix.get(), strategy.computeCacheKey(query))
      );
    } else {
```

### DataFlowIssue
Argument `input` might be null
in `server/src/main/java/org/apache/druid/client/cache/MemcachedCache.java`
#### Snippet
```java
            )
            {
              return computeKeyHash(memcachedPrefix, input);
            }
          }
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/server/log/FileRequestLoggerProvider.java`
#### Snippet
```java
  @NotNull
  @Json
  private ObjectMapper jsonMapper = null;

  @JsonProperty
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/server/log/FileRequestLoggerProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ScheduledExecutorFactory factory = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/server/log/FileRequestLoggerProvider.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private File dir = null;

  @JsonProperty
```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/log/LoggingRequestLogger.java`
#### Snippet
```java
        try {
          final Query query = requestLogLine.getQuery();
          MDC.put("queryId", query.getId());
          MDC.put(BaseQuery.SQL_QUERY_ID, StringUtils.nullToEmptyNonDruidDataString(query.getSqlQueryId()));
          MDC.put("dataSource", String.join(",", query.getDataSource().getTableNames()));
```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `server/src/main/java/org/apache/druid/server/SegmentManager.java`
#### Snippet
```java
                // remove() internally searches for a partitionChunk to remove which is *equal* to the given
                // partitionChunk. Note that partitionChunk.equals() checks only the partitionNum, but not the object.
                segment.getShardSpec().createChunk(ReferenceCountingSegment.wrapSegment(null, shardSpec))
            );
            final ReferenceCountingSegment oldQueryable = (removed == null) ? null : removed.getObject();
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/server/log/EmittingRequestLoggerProvider.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String feed = null;

  @JsonProperty
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/server/log/EmittingRequestLoggerProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ServiceEmitter emitter = null;

  @Inject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/server/log/FilteredRequestLoggerProvider.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private RequestLoggerProvider delegate = null;

  @JsonProperty
```

### DataFlowIssue
Method invocation `getDruidNode` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupNodeDiscovery.java`
#### Snippet
```java
          {
            return HostAndPortWithScheme.fromString(
                input.getDruidNode().getServiceScheme(),
                input.getDruidNode().getHostAndPortToUse()
            );
```

### DataFlowIssue
Method invocation `getServices` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupNodeDiscovery.java`
#### Snippet
```java
              public boolean apply(@Nullable DiscoveryDruidNode node)
              {
                return tier.equals(((LookupNodeService) node.getServices()
                                                            .get(LookupNodeService.DISCOVERY_SERVICE_KEY)).getLookupTier());
              }
```

### DataFlowIssue
Argument `retVal.lhs` might be null
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
      Pair<DataSegment, Set<String>> retVal = getServersWhereSegmentIsServed(possibleSegmentId);
      if (retVal != null) {
        return Response.ok(ImmutableMap.of("metadata", retVal.lhs, "servers", retVal.rhs)).build();
      }
    }
```

### DataFlowIssue
Argument `retVal.rhs` might be null
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
      Pair<DataSegment, Set<String>> retVal = getServersWhereSegmentIsServed(possibleSegmentId);
      if (retVal != null) {
        return Response.ok(ImmutableMap.of("metadata", retVal.lhs, "servers", retVal.rhs)).build();
      }
    }
```

### DataFlowIssue
Argument `segmentAndServers.lhs` might be null
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
            segments.put(
                dataSegment.getId(),
                ImmutableMap.of("metadata", segmentAndServers.lhs, "servers", segmentAndServers.rhs)
            );
          }
```

### DataFlowIssue
Argument `segmentAndServers.rhs` might be null
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
            segments.put(
                dataSegment.getId(),
                ImmutableMap.of("metadata", segmentAndServers.lhs, "servers", segmentAndServers.rhs)
            );
          }
```

### DataFlowIssue
Unboxing of `server.lhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    try {
      for (Pair<Double, ServerHolder> server : resultsFuture.get()) {
        if (server.lhs <= bestServers.get(0).lhs) {
          if (server.lhs < bestServers.get(0).lhs) {
            bestServers.clear();
```

### DataFlowIssue
Unboxing of `bestServers.get(0).lhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
    try {
      for (Pair<Double, ServerHolder> server : resultsFuture.get()) {
        if (server.lhs <= bestServers.get(0).lhs) {
          if (server.lhs < bestServers.get(0).lhs) {
            bestServers.clear();
```

### DataFlowIssue
Unboxing of `bestServers.get(0).lhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
      for (Pair<Double, ServerHolder> server : resultsFuture.get()) {
        if (server.lhs <= bestServers.get(0).lhs) {
          if (server.lhs < bestServers.get(0).lhs) {
            bestServers.clear();
          }
```

### DataFlowIssue
Method invocation `isInfinite` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
      // If the best server list contains server whose cost of serving the segment is INFINITE then this means
      // no usable servers are found so return a null server so that segment assignment does not happen
      if (bestServers.get(0).lhs.isInfinite()) {
        return noServer;
      }
```

### DataFlowIssue
Function may return null, but it's not allowed here
in `server/src/main/java/org/apache/druid/server/coordinator/CostBalancerStrategy.java`
#### Snippet
```java
                    // Comparator.comapringDouble will order by lowest cost...
                    // reverse it because we want to drop from the highest cost servers first
                    .sorted(Comparator.comparingDouble((Pair<Double, ServerHolder> o) -> o.lhs).reversed())
                    .map(x -> x.rhs).collect(Collectors.toList())
                    .iterator();
```

### DataFlowIssue
Method invocation `run` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java`
#### Snippet
```java
              {
                if (coordLeaderSelector.isLeader() && startingLeaderCounter == coordLeaderSelector.localTerm()) {
                  theRunnable.run();
                }
                if (coordLeaderSelector.isLeader()
```

### DataFlowIssue
Unboxing of `decommissioningResult.lhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java

    // After moving segments from decomissioning servers, move the remaining segments from the rest of the servers.
    int maxGeneralSegmentsToMove = maxSegmentsToMove - decommissioningResult.lhs;
    log.info("Processing %d segments for balancing between active servers", maxGeneralSegmentsToMove);
    Pair<Integer, Integer> generalResult =
```

### DataFlowIssue
Unboxing of `generalResult.lhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java
        balanceServers(params, activeServers, activeServers, maxGeneralSegmentsToMove);

    int moved = generalResult.lhs + decommissioningResult.lhs;
    int unmoved = generalResult.rhs + decommissioningResult.rhs;
    if (unmoved == maxSegmentsToMove) {
```

### DataFlowIssue
Unboxing of `generalResult.rhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java

    int moved = generalResult.lhs + decommissioningResult.lhs;
    int unmoved = generalResult.rhs + decommissioningResult.rhs;
    if (unmoved == maxSegmentsToMove) {
      // Cluster should be alive and constantly adjusting
```

### DataFlowIssue
Unboxing of `decommissioningResult.rhs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/duty/BalanceSegments.java`
#### Snippet
```java

    int moved = generalResult.lhs + decommissioningResult.lhs;
    int unmoved = generalResult.rhs + decommissioningResult.rhs;
    if (unmoved == maxSegmentsToMove) {
      // Cluster should be alive and constantly adjusting
```

### DataFlowIssue
`null` is returned by the method declared as @EverythingIsNonnullByDefault
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncerProvider.java`
#### Snippet
```java
  public DataSegmentAnnouncer get()
  {
    return batchAnnouncer;
  }
}
```

### DataFlowIssue
Method invocation `hasNext` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordinator/rules/LoadRule.java`
#### Snippet
```java
      if (useRoundRobinAssignment) {
        Iterator<ServerHolder> roundRobinIterator = getRoundRobinIterator(params, tier, segment);
        candidate = roundRobinIterator.hasNext() ? roundRobinIterator.next() : null;
      } else {
        candidate = params.getBalancerStrategy().findNewSegmentHomeReplicator(segment, holders);
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
            new Function<DataSegment, DataSegmentChangeRequest>()
            {
              @Nullable
              @Override
              public SegmentChangeRequestLoad apply(DataSegment input)
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
                availableZNode.getPath()
            );
            announcer.update(availableZNode.getPath(), availableZNode.getBytes());
            segmentLookup.put(toAnnounce, availableZNode);

```

### DataFlowIssue
Method invocation `announce` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
                 availableZNode.getPath()
        );
        announcer.announce(availableZNode.getPath(), availableZNode.getBytes());
        segmentLookup.put(toAnnounce, availableZNode);
        availableZNodes.add(availableZNode);
```

### DataFlowIssue
Method invocation `announce` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
        if (count >= config.getSegmentsPerNode() || byteSize + newBytesLen > config.getMaxBytesPerNode()) {
          segmentZNode.addSegments(batch);
          announcer.announce(segmentZNode.getPath(), segmentZNode.getBytes());

          segmentZNode = new SegmentZNode(makeServedSegmentPath());
```

### DataFlowIssue
Method invocation `announce` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
    if (!isSkipSegmentAnnouncementOnZk) {
      segmentZNode.addSegments(batch);
      announcer.announce(segmentZNode.getPath(), segmentZNode.getBytes());
    }
  }
```

### DataFlowIssue
Method invocation `unannounce` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
      if (segmentZNode.getCount() == 0) {
        availableZNodes.remove(segmentZNode);
        announcer.unannounce(segmentZNode.getPath());
      } else {
        announcer.update(segmentZNode.getPath(), segmentZNode.getBytes());
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/BatchDataSegmentAnnouncer.java`
#### Snippet
```java
        announcer.unannounce(segmentZNode.getPath());
      } else {
        announcer.update(segmentZNode.getPath(), segmentZNode.getBytes());
        availableZNodes.add(segmentZNode);
      }
```

### DataFlowIssue
Method invocation `isFromTombstone` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/ServerManager.java`
#### Snippet
```java
    // Short-circuit when the index comes from a tombstone (it has no data by definition),
    // check for null also since no all segments (higher level ones) will have QueryableIndex...
    if (segment.asQueryableIndex() != null && segment.asQueryableIndex().isFromTombstone()) {
      return new NoopQueryRunner<>();
    }
```

### DataFlowIssue
Expression `requestStatuses.getIfPresent(changeRequest)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
        return status;
      }
      return requestStatuses.getIfPresent(changeRequest);
    }
  }
```

### DataFlowIssue
Argument `result` might be null
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    }
    finally {
      updateRequestStatus(new SegmentChangeRequestDrop(segment), result);
      if (null != callback) {
        callback.execute();
```

### DataFlowIssue
Method invocation `cancel` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
        finished = true;
        if (nextAnnoucement != null) {
          nextAnnoucement.cancel(false);
        }
      }
```

### DataFlowIssue
Dereference of `segmentsToLoad` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    File[] segmentsToLoad = baseDir.listFiles();
    int ignored = 0;
    for (int i = 0; i < segmentsToLoad.length; i++) {
      File file = segmentsToLoad[i];
      log.info("Loading segment cache file [%d/%d][%s].", i + 1, segmentsToLoad.length, file);
```

### DataFlowIssue
Method invocation `cancel` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
          // check in case intervalMillis is <= 0
          if (startedAnnouncing != null) {
            startedAnnouncing.cancel(false);
          }
          // - if the task is waiting on the lock, then the queue will be empty by the time it runs
```

### DataFlowIssue
Argument `result` might be null
in `server/src/main/java/org/apache/druid/server/coordination/SegmentLoadDropHandler.java`
#### Snippet
```java
    }
    finally {
      updateRequestStatus(new SegmentChangeRequestLoad(segment), result);
      if (null != callback) {
        callback.execute();
```

### DataFlowIssue
Argument `changes.getRequests()` might be null
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java

                  if (counter == null) {
                    listener.fullSync(changes.getRequests());
                  } else {
                    listener.deltaSync(changes.getRequests());
```

### DataFlowIssue
Argument `changes.getRequests()` might be null
in `server/src/main/java/org/apache/druid/server/coordination/ChangeRequestHttpSyncer.java`
#### Snippet
```java
                    listener.fullSync(changes.getRequests());
                  } else {
                    listener.deltaSync(changes.getRequests());
                  }

```

### DataFlowIssue
Argument `StringUtils.urlEncode(taskId)` might be null
in `server/src/main/java/org/apache/druid/server/initialization/jetty/TaskIdResponseHeaderFilterHolder.java`
#### Snippet
```java
          taskId == null
          ? ImmutableMap.of()
          : ImmutableMap.of(ChatHandlerResource.TASK_ID_HEADER, StringUtils.urlEncode(taskId))
    );
  }
```

### DataFlowIssue
Method invocation `getPort` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoverySelector.java`
#### Snippet
```java
    {
      Preconditions.checkState(
          instance.getPort() >= 0 || (instance.getSslPort() != null && instance.getSslPort() >= 0),
          "Both port and sslPort not set"
      );
```

### DataFlowIssue
Method invocation `getListenable` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/ZkCoordinator.java`
#### Snippet
```java
        curator.newNamespaceAwareEnsurePath(liveSegmentsLocation).ensure(curator.getZookeeperClient());

        loadQueueCache.getListenable().addListener(
            (client, event) -> {
              final ChildData child = event.getData();
```

### DataFlowIssue
Method invocation `start` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/ZkCoordinator.java`
#### Snippet
```java

        );
        loadQueueCache.start();
      }
      catch (Exception e) {
```

### DataFlowIssue
Method invocation `close` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/server/coordination/ZkCoordinator.java`
#### Snippet
```java

      try {
        loadQueueCache.close();
      }
      catch (Exception e) {
```

### DataFlowIssue
Dereference of `dir.toFile().listFiles( new FileFilter() { @Override public bool...` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/loading/LocalFileTimestampVersionFinder.java`
#### Snippet
```java
    long latestModified = Long.MIN_VALUE;
    URI latest = null;
    for (File file : dir.toFile().listFiles(
        new FileFilter()
        {
          @Override
          public boolean accept(File pathname)
          {
            return pathname.exists()
                   && pathname.isFile()
                   && (pattern == null || pattern.matcher(pathname.getName()).matches());
          }
        }
    )) {
      final long thisModified = file.lastModified();
      if (thisModified >= latestModified) {
```

### DataFlowIssue
Dereference of `parentDir.listFiles()` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentKiller.java`
#### Snippet
```java
          // nonempty directories. However, including it here is nice since it makes our intent very clear (only
          // remove nonempty directories) and it prevents making delete syscalls that are doomed to failure.
          if (parentDir.listFiles().length > 0
              || !parentDir.delete()
              || segment.getDataSource().equals(parentDir.getName())) {
```

### DataFlowIssue
Method invocation `execute` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/handoff/CoordinatorBasedSegmentHandoffNotifier.java`
#### Snippet
```java
          if (handOffComplete) {
            log.debug("Segment Handoff complete for dataSource[%s] Segment[%s]", dataSource, descriptor);
            entry.getValue().lhs.execute(entry.getValue().rhs);
            itr.remove();
          }
```

### DataFlowIssue
Argument `entry.getValue().rhs` might be null
in `server/src/main/java/org/apache/druid/segment/handoff/CoordinatorBasedSegmentHandoffNotifier.java`
#### Snippet
```java
          if (handOffComplete) {
            log.debug("Segment Handoff complete for dataSource[%s] Segment[%s]", dataSource, descriptor);
            entry.getValue().lhs.execute(entry.getValue().rhs);
            itr.remove();
          }
```

### DataFlowIssue
Dereference of `dataSegmentFile.listFiles()` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/loading/LocalDataSegmentPusher.java`
#### Snippet
```java
      // Input and output directories are the same. Compute size, build a loadSpec, and return.
      long size = 0;
      for (File file : dataSegmentFile.listFiles()) {
        size += file.length();
      }
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/ChatHandlerResource.java`
#### Snippet
```java
      if (requestTaskId != null
          && !requestTaskId.equals(taskId)
          && !StringUtils.urlDecode(requestTaskId).equals(taskId)) {
        throw new BadRequestException(
            StringUtils.format("Requested taskId[%s] doesn't match with taskId[%s]", requestTaskId, taskId)
```

### DataFlowIssue
Method invocation `getNumRows` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Sink.java`
#### Snippet
```java
      ReferenceCountingSegment segment = hydrant.getIncrementedSegment();
      try {
        numRowsExcludingCurrIndex.addAndGet(segment.asQueryableIndex().getNumRows());
      }
      finally {
```

### DataFlowIssue
Method invocation `getAvailableDimensions` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Sink.java`
#### Snippet
```java
              try {
                QueryableIndex oldIndex = segment.asQueryableIndex();
                for (String dim : oldIndex.getAvailableDimensions()) {
                  dimOrder.add(dim);
                  oldCapabilities.put(dim, oldIndex.getColumnHolder(dim).getCapabilities());
```

### DataFlowIssue
Method invocation `getCapabilities` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/Sink.java`
#### Snippet
```java
                for (String dim : oldIndex.getAvailableDimensions()) {
                  dimOrder.add(dim);
                  oldCapabilities.put(dim, oldIndex.getColumnHolder(dim).getCapabilities());
                }
              }
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/IngestSegmentFirehose.java`
#### Snippet
```java
                        ), new Function<Cursor, Sequence<InputRow>>()
                        {
                          @Nullable
                          @Override
                          public Sequence<InputRow> apply(final Cursor cursor)
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/IngestSegmentFirehose.java`
#### Snippet
```java
            new Function<WindowedStorageAdapter, Sequence<InputRow>>()
            {
              @Nullable
              @Override
              public Sequence<InputRow> apply(WindowedStorageAdapter adapter)
```

### DataFlowIssue
Argument `sinkFiles` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
      );
      Arrays.sort(
          sinkFiles,
          new Comparator<File>()
          {
```

### DataFlowIssue
Argument `pair.lhs` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
              for (Pair<FireHydrant, Interval> pair : indexesToPersist) {
                metrics.incrementRowOutputCount(
                    persistHydrant(pair.lhs, schema, pair.rhs, metadataElems)
                );
              }
```

### DataFlowIssue
Method invocation `asQueryableIndex` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
                for (FireHydrant fireHydrant : sink) {
                  Pair<ReferenceCountingSegment, Closeable> segmentAndCloseable = fireHydrant.getAndIncrementSegment();
                  final QueryableIndex queryableIndex = segmentAndCloseable.lhs.asQueryableIndex();
                  log.info("Adding hydrant[%s]", fireHydrant);
                  indexes.add(queryableIndex);
```

### DataFlowIssue
Unboxing of `idleCloseTimeNs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
                );
              }
              if (idleCloseTimeNs != null && idleCloseTimeNs - System.nanoTime() <= 0) { // overflow-aware comparison
                log.info("Firehose has been idle for %d ms, closing.", maxIdleTimeMillis);
                close();
```

### DataFlowIssue
Unboxing of `requestedShutdownTimeNs` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/firehose/EventReceiverFirehoseFactory.java`
#### Snippet
```java
                close();
              } else if (requestedShutdownTimeNs != null &&
                         requestedShutdownTimeNs - System.nanoTime() <= 0) { // overflow-aware comparison
                log.info("Closing Firehose after a shutdown request");
                close();
```

### DataFlowIssue
Argument `pair.lhs` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
          try {
            for (Pair<FireHydrant, SegmentIdWithShardSpec> pair : indexesToPersist) {
              metrics.incrementRowOutputCount(persistHydrant(pair.lhs, pair.rhs));
            }

```

### DataFlowIssue
Method invocation `asQueryableIndex` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/BatchAppenderator.java`
#### Snippet
```java
        for (FireHydrant fireHydrant : sink) {
          Pair<ReferenceCountingSegment, Closeable> segmentAndCloseable = fireHydrant.getAndIncrementSegment();
          final QueryableIndex queryableIndex = segmentAndCloseable.lhs.asQueryableIndex();
          log.debug("Segment[%s] adding hydrant[%s]", identifier, fireHydrant);
          indexes.add(queryableIndex);
```

### DataFlowIssue
Method invocation `asStorageAdapter` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SinkQuerySegmentWalker.java`
#### Snippet
```java
                      // 2) Hydrants are not the same between replicas, make sure cache is local
                      if (hydrantDefinitelySwapped && cache.isLocal()) {
                        StorageAdapter storageAdapter = segmentAndCloseable.lhs.asStorageAdapter();
                        long segmentMinTime = storageAdapter.getMinTime().getMillis();
                        long segmentMaxTime = storageAdapter.getMaxTime().getMillis();
```

### DataFlowIssue
Method invocation `getDataInterval` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/SinkQuerySegmentWalker.java`
#### Snippet
```java
                          segmentAndCloseable.rhs
                      );
                      return new Pair<>(segmentAndCloseable.lhs.getDataInterval(), runner);
                    }
                    catch (Throwable e) {
```

### DataFlowIssue
Arguments of 'max' are the same. Calling this method with the same arguments is meaningless
in `server/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorStateManagerConfig.java`
#### Snippet
```java
  // The maximum number of exception events that can be returned through the supervisor status endpoint
  @JsonProperty
  private int maxStoredExceptionEvents = Math.max(unhealthinessThreshold, healthinessThreshold);

  @JsonProperty("idleConfig.enabled")
```

### DataFlowIssue
Method invocation `asQueryableIndex` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

          Pair<ReferenceCountingSegment, Closeable> segmentAndCloseable = fireHydrant.getAndIncrementSegment();
          final QueryableIndex queryableIndex = segmentAndCloseable.lhs.asQueryableIndex();
          log.debug("Segment[%s] adding hydrant[%s]", identifier, fireHydrant);
          indexes.add(queryableIndex);
```

### DataFlowIssue
Argument `sinkFiles` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java

        Arrays.sort(
            sinkFiles,
            (o1, o2) -> Ints.compare(Integer.parseInt(o1.getName()), Integer.parseInt(o2.getName()))
        );
```

### DataFlowIssue
Argument `pair.lhs` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
            try {
              for (Pair<FireHydrant, SegmentIdWithShardSpec> pair : indexesToPersist) {
                metrics.incrementRowOutputCount(persistHydrant(pair.lhs, pair.rhs));
              }

```

### DataFlowIssue
Method invocation `asSegmentId` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
                  commitMetadata,
                  indexesToPersist.stream()
                                  .map(itp -> itp.rhs.asSegmentId().toString())
                                  .distinct()
                                  .collect(Collectors.joining(", "))
```

### DataFlowIssue
Argument `sinkFiles` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java

        Arrays.sort(
            sinkFiles,
            (o1, o2) -> Ints.compare(Integer.parseInt(o1.getName()), Integer.parseInt(o2.getName()))
        );
```

### DataFlowIssue
Method invocation `asQueryableIndex` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
        for (FireHydrant fireHydrant : sink) {
          Pair<ReferenceCountingSegment, Closeable> segmentAndCloseable = fireHydrant.getAndIncrementSegment();
          final QueryableIndex queryableIndex = segmentAndCloseable.lhs.asQueryableIndex();
          log.debug("Segment[%s] adding hydrant[%s]", identifier, fireHydrant);
          indexes.add(queryableIndex);
```

### DataFlowIssue
Argument `pair.lhs` might be null
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
            try {
              for (Pair<FireHydrant, SegmentIdWithShardSpec> pair : indexesToPersist) {
                metrics.incrementRowOutputCount(persistHydrant(pair.lhs, pair.rhs));
              }

```

### DataFlowIssue
Method invocation `asSegmentId` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
                  commitMetadata,
                  indexesToPersist.stream()
                                  .map(itp -> itp.rhs.asSegmentId().toString())
                                  .distinct()
                                  .collect(Collectors.joining(", "))
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentPublisherProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private ObjectMapper jsonMapper = null;

  @Override
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentPublisherProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private SQLMetadataConnector connector = null;

  @JacksonInject
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataSegmentPublisherProvider.java`
#### Snippet
```java
  @JacksonInject
  @NotNull
  private MetadataStorageTablesConfig config = null;

  @JacksonInject
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/CliInternalHadoopIndexer.java`
#### Snippet
```java
      MetadataStorageUpdaterJobSpec metadataSpec = config.getSchema().getIOConfig().getMetadataUpdateSpec();
      // override metadata storage type based on HadoopIOConfig
      Preconditions.checkNotNull(metadataSpec.getType(), "type in metadataUpdateSpec must not be null");
      injector.getInstance(Properties.class).setProperty("druid.metadata.storage.type", metadataSpec.getType());

```

### DataFlowIssue
Method invocation `getMetadataStorageTablesConfig` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/CliInternalHadoopIndexer.java`
#### Snippet
```java
          binder.bind(new TypeLiteral<Supplier<MetadataStorageConnectorConfig>>() {})
                .toInstance(metadataSpec);
          binder.bind(MetadataStorageTablesConfig.class).toInstance(metadataSpec.getMetadataStorageTablesConfig());
          binder.bind(IndexerMetadataStorageCoordinator.class).to(IndexerSQLMetadataStorageCoordinator.class).in(
              LazySingleton.class
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
              {
                final ColumnHolder columnHolder = index.getColumnHolder(columnName);
                final BaseColumn column = columnHolder.getColumn();
                Preconditions.checkArgument(column instanceof CompressedNestedDataComplexColumn);
                final CompressedNestedDataComplexColumn nestedDataColumn = (CompressedNestedDataComplexColumn) column;
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                final ColumnHolder nestedPathColumnHolder = nestedDataColumn.getColumnHolder(pathParts);
                final NestedFieldLiteralDictionaryEncodedColumn<?> nestedPathColumn =
                    (NestedFieldLiteralDictionaryEncodedColumn<?>) nestedPathColumnHolder.getColumn();
                final FixedIndexed<Integer> nestedPathDictionary = nestedPathColumn.getDictionary();

```

### DataFlowIssue
Dereference of `types` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                    Set<ColumnType> types = nestedDataColumn.getColumnTypes(pathParts);
                    jg.writeStartArray();
                    for (ColumnType type : types) {
                      jg.writeString(type.asTypeString());
                    }
```

### DataFlowIssue
Unboxing of `nestedPathDictionary.get(i)` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                      jg.writeNumber(i);
                      jg.writeFieldName("globalId");
                      jg.writeNumber(nestedPathDictionary.get(i));
                      jg.writeFieldName("value");
                      String val = valueIndex.getValue(i);
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
              {
                final ColumnHolder columnHolder = index.getColumnHolder(columnName);
                final BaseColumn baseColumn = columnHolder.getColumn();
                Preconditions.checkArgument(baseColumn instanceof CompressedNestedDataComplexColumn);
                final CompressedNestedDataComplexColumn<?> nestedDataColumn =
```

### DataFlowIssue
Dereference of `types` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                  Set<ColumnType> types = nestedDataColumn.getColumnTypes(field);
                  jg.writeStartArray();
                  for (ColumnType type : types) {
                    jg.writeString(type.asTypeString());
                  }
```

### DataFlowIssue
Unboxing of `globalLongDictionary.get(i)` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                    jg.writeNumber(globalId);
                    jg.writeFieldName("value");
                    jg.writeNumber(globalLongDictionary.get(i));
                    jg.writeEndObject();
                  }
```

### DataFlowIssue
Unboxing of `globalDoubleDictionary.get(i)` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                    jg.writeNumber(globalId);
                    jg.writeFieldName("value");
                    jg.writeNumber(globalDoubleDictionary.get(i));
                    jg.writeEndObject();
                  }
```

### DataFlowIssue
Method invocation `getIndexSupplier` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/DumpSegment.java`
#### Snippet
```java
                for (final String columnName : columnNames) {
                  final ColumnHolder columnHolder = index.getColumnHolder(columnName);
                  final ColumnIndexSupplier indexSupplier = columnHolder.getIndexSupplier();
                  if (indexSupplier == null) {
                    jg.writeNullField(columnName);
```

### DataFlowIssue
Method invocation `nanosElapsedFromInitiation` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
        while (latestDatabasePoll != null
               && latestDatabasePoll instanceof OnDemandDatabasePoll
               && ((OnDemandDatabasePoll) latestDatabasePoll).nanosElapsedFromInitiation() < periodicPollDelayNanos) {
          long sleepNano = periodicPollDelayNanos
                           - ((OnDemandDatabasePoll) latestDatabasePoll).nanosElapsedFromInitiation();
```

### DataFlowIssue
Method invocation `nanosElapsedFromInitiation` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
               && ((OnDemandDatabasePoll) latestDatabasePoll).nanosElapsedFromInitiation() < periodicPollDelayNanos) {
          long sleepNano = periodicPollDelayNanos
                           - ((OnDemandDatabasePoll) latestDatabasePoll).nanosElapsedFromInitiation();
          TimeUnit.NANOSECONDS.sleep(sleepNano);
        }
```

### DataFlowIssue
Argument `unusedSegments` might be null
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
      List<DataSegment> unusedSegments = unusedSegmentsAndTimeline.lhs;
      SegmentTimeline timeline = unusedSegmentsAndTimeline.rhs;
      return markNonOvershadowedSegmentsAsUsed(unusedSegments, timeline);
    }
    catch (Exception e) {
```

### DataFlowIssue
Method invocation `shutdownNow` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
    lock.lock();
    try {
      exec.shutdownNow();
      exec = null;
    }
```

### DataFlowIssue
Method invocation `cancel` may produce `NullPointerException`
in `server/src/main/java/org/apache/druid/metadata/SqlSegmentsMetadataManager.java`
#### Snippet
```java
      }

      periodicPollTaskFuture.cancel(false);
      latestDatabasePoll = null;

```

### DataFlowIssue
Argument `Iterables.getFirst( tierConfig.getTierToBrokerMap().values(), tierConfig...` might be null
in `services/src/main/java/org/apache/druid/server/router/TimeBoundaryTieredBrokerSelectorStrategy.java`
#### Snippet
```java
    if (query instanceof TimeBoundaryQuery) {
      return Optional.of(
          Iterables.getFirst(
              tierConfig.getTierToBrokerMap().values(),
              tierConfig.getDefaultBrokerServiceName()
          )
      );
    }
```

### DataFlowIssue
Argument `defaultManualBrokerService` might be null
in `services/src/main/java/org/apache/druid/server/router/ManualTieredBrokerSelectorStrategy.java`
#### Snippet
```java
      } else if (isValidBrokerService(defaultManualBrokerService, tierConfig)) {
        // If the fallbackBrokerService is valid, use that
        return Optional.of(defaultManualBrokerService);
      } else {
        log.warn(
```

### DataFlowIssue
Argument `defaultManualBrokerService` might be null
in `services/src/main/java/org/apache/druid/server/router/ManualTieredBrokerSelectorStrategy.java`
#### Snippet
```java
      log.error(e, "Error getting Broker Service name from Query Context");
      return isValidBrokerService(defaultManualBrokerService, tierConfig)
             ? Optional.of(defaultManualBrokerService) : Optional.absent();
    }
  }
```

### DataFlowIssue
Argument `loader.getResource(resource)` might be null
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
          } else if (loader.getResource(resource) != null) {
            logWriter.write("loading data from resource '" + resource + "'");
            source = Resources.asByteSource(loader.getResource(resource)).asCharSource(
                Charset.forName(
                    parser.getEncoding()
```

### DataFlowIssue
Method invocation `getTimestamp` may produce `NullPointerException`
in `services/src/main/java/org/apache/druid/cli/validate/DruidJsonValidator.java`
#### Snippet
```java
          {
            InputRow parsed = parser.parse(line);
            builder.append(parsed.getTimestamp());
            for (String dimension : parsed.getDimensions()) {
              builder.append('\t');
```

### DataFlowIssue
Argument `serviceName` might be null
in `services/src/main/java/org/apache/druid/server/router/QueryHostFinder.java`
#### Snippet
```java
    }
    if (server != null) {
      serverBackup.put(serviceName, server);
    }

```

### DataFlowIssue
Argument `segment.getLoadSpec()` might be null
in `services/src/main/java/org/apache/druid/cli/ExportMetadata.java`
#### Snippet
```java
  {
    DataSegment segment = JSON_MAPPER.readValue(DatatypeConverter.parseHexBinary(payload), DataSegment.class);
    String uniqueId = getUniqueIDFromLocalLoadSpec(segment.getLoadSpec());
    String segmentPath = DataSegmentPusher.getDefaultStorageDirWithExistingUniquePath(segment, uniqueId);

```

### DataFlowIssue
Method invocation `isExceptionCaught` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileHttpResponseHandler.java`
#### Snippet
```java
    final FrameFilePartialFetch clientResponseObj = clientResponse.getObj();

    if (clientResponseObj.isExceptionCaught()) {
      // If there was an exception, exit early without updating "channel". Important because "handleChunk" can be
      // called after "handleException" in two cases: it can be called after an error "response", if the error body
```

### DataFlowIssue
Method invocation `exceptionCaught` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/file/FrameFileHttpResponseHandler.java`
#### Snippet
```java
  )
  {
    clientResponse.getObj().exceptionCaught(e);
  }

```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/read/columnar/FrameColumnReaders.java`
#### Snippet
```java

      case ARRAY:
        if (columnType.getElementType().getType() == ValueType.STRING) {
          return new StringFrameColumnReader(columnNumber, true);
        }
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/field/FieldReaders.java`
#### Snippet
```java

      case ARRAY:
        if (columnType.getElementType().getType() == ValueType.STRING) {
          return new StringFieldReader(true);
        }
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/field/FieldWriters.java`
#### Snippet
```java
        return makeStringWriter(columnSelectorFactory, columnName);
      case ARRAY:
        switch (columnType.getElementType().getType()) {
          case STRING:
            return makeStringArrayWriter(columnSelectorFactory, columnName);
```

### DataFlowIssue
Argument `data` might be null
in `processing/src/main/java/org/apache/druid/frame/write/FrameWriterUtils.java`
#### Snippet
```java
      return ByteBuffer.wrap(NULL_STRING_MARKER_ARRAY);
    } else {
      return ByteBuffer.wrap(StringUtils.toUtf8(data));
    }
  }
```

### DataFlowIssue
Variable is already assigned to this value
in `processing/src/main/java/org/apache/druid/frame/field/StringFieldReader.java`
#### Snippet
```java
      while (position < limit && !rowTerminatorSeen) {
        final byte kind = memory.getByte(position);
        rowTerminatorSeen = false;
        position++;

```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/write/columnar/FrameColumnWriters.java`
#### Snippet
```java
        return makeStringWriter(columnSelectorFactory, allocator, column);
      case ARRAY:
        switch (type.getElementType().getType()) {
          case STRING:
            return makeStringArrayWriter(columnSelectorFactory, allocator, column);
```

### DataFlowIssue
Dereference of `chunk` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
      final byte[] chunk = chunks.get(chunkNumber).valueOrThrow();
      final int chunkPosition = chunkNumber == 0 ? positionInFirstChunk : 0;
      final int len = Math.min(chunk.length - chunkPosition, numBytes - bufPos);

      buf.putByteArray(bufPos, chunk, chunkPosition, len);
```

### DataFlowIssue
Dereference of `chunk` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/channel/ReadableByteChunksFrameChannel.java`
#### Snippet
```java
    while (toDelete > 0) {
      final byte[] chunk = chunks.get(0).valueOrThrow();
      final int bytesRemainingInChunk = chunk.length - positionInFirstChunk;

      if (toDelete >= bytesRemainingInChunk) {
```

### DataFlowIssue
Method invocation `frame` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/channel/BlockingQueueFrameChannel.java`
#### Snippet
```java
      }

      return next.get().valueOrThrow().frame();
    }

```

### DataFlowIssue
Argument `retVal.valueOrThrow()` might be null
in `processing/src/main/java/org/apache/druid/frame/processor/FrameProcessorExecutor.java`
#### Snippet
```java
          return Optional.empty();
        } else {
          return Optional.of(retVal.valueOrThrow());
        }
      }
```

### DataFlowIssue
Dereference of `jars` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/guice/ExtensionsLoader.java`
#### Snippet
```java
                }
            );
            for (File jar : jars) {
              urls.add(jar.toURI().toURL());
            }
```

### DataFlowIssue
Unboxing of `k.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/guice/ExtensionsLoader.java`
#### Snippet
```java
    return loaders.computeIfAbsent(
        Pair.of(extension, useExtensionClassloaderFirst),
        k -> makeClassLoaderForExtension(k.lhs, k.rhs)
    );
  }
```

### DataFlowIssue
Argument `batch` might be null
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java

            synchronized (runWorkersLock) {
              inputBuffer.addAll(batch);
              inputFramesReadSoFar += batch.size();
              inputChannelsToRead = keepReading;
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/frame/processor/SuperSorter.java`
#### Snippet
```java
              inputChannelsToRead = keepReading;

              if (inputChannelsToRead.isEmpty()) {
                inputChannels.forEach(ReadableFrameChannel::close);
                setTotalInputFrames(inputFramesReadSoFar);
```

### DataFlowIssue
Method invocation `iterableWithPostAggregations` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/GroupByMergedQueryRunner.java`
#### Snippet
```java
        Sequences.simple(
            Iterables.transform(
                indexAccumulatorPair.lhs.iterableWithPostAggregations(null, query.isDescending()),
                new Function<Row, T>()
                {
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/ResultGranularTimestampComparator.java`
#### Snippet
```java
  {
    return Longs.compare(
        gran.bucketStart(r1.getTimestamp().getMillis()),
        gran.bucketStart(r2.getTimestamp().getMillis())
    );
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/ResultGranularTimestampComparator.java`
#### Snippet
```java
    return Longs.compare(
        gran.bucketStart(r1.getTimestamp().getMillis()),
        gran.bucketStart(r2.getTimestamp().getMillis())
    );
  }
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/UnionQueryRunner.java`
#### Snippet
```java
                                       .withSubQueryId(generateSubqueryId(
                                           query.getSubQueryId(),
                                           singleSourceWithIndex.lhs.getName(),
                                           singleSourceWithIndex.rhs
                                       ))
```

### DataFlowIssue
Unboxing of `singleSourceWithIndex.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/UnionQueryRunner.java`
#### Snippet
```java
                                           query.getSubQueryId(),
                                           singleSourceWithIndex.lhs.getName(),
                                           singleSourceWithIndex.rhs
                                       ))
                            ),
```

### DataFlowIssue
Method invocation `reportCpuTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/CPUTimeMetricQueryRunner.java`
#### Snippet
```java
              if (cpuTimeNs > 0) {
                responseContext.addCpuNanos(cpuTimeNs);
                queryWithMetrics.getQueryMetrics().reportCpuTime(cpuTimeNs).emit(emitter);
              }
            }
```

### DataFlowIssue
Method invocation `getJoinableFactory` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
            final JoinableClauses joinableClauses = JoinableClauses.createClauses(
                clauses,
                joinableFactoryWrapper.getJoinableFactory()
            );
            final JoinFilterRewriteConfig filterRewriteConfig = JoinFilterRewriteConfig.forQuery(query);
```

### DataFlowIssue
Argument `conversionResult.lhs` might be null
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
                          Iterables.concat(
                              Collections.singleton(baseFilter),
                              conversionResult.lhs
                          )
                      )
```

### DataFlowIssue
Argument `GuavaUtils.firstNonNull(clausesToUse, ImmutableList.of())` might be null
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
                    baseSegment,
                    baseFilterToUse,
                    GuavaUtils.firstNonNull(clausesToUse, ImmutableList.of()),
                    joinFilterPreAnalysis
                );
```

### DataFlowIssue
Method invocation `getJoinableFactory` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/JoinDataSource.java`
#### Snippet
```java
    }
    for (PreJoinableClause clause : clauses) {
      Optional<byte[]> bytes = joinableFactoryWrapper.getJoinableFactory().computeJoinCacheKey(clause.getDataSource(), clause.getCondition());
      if (!bytes.isPresent()) {
        // Encountered a data source which didn't support cache yet
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/TimewarpOperator.java`
#### Snippet
```java

                    return (T) ((TimeBoundaryQuery) queryPlus.getQuery()).buildResult(
                        DateTimes.utc(Math.min(res.getTimestamp().getMillis() - offset, now)),
                        minTime != null ? minTime.minus(offset) : null,
                        maxTime != null ? DateTimes.utc(Math.min(maxTime.getMillis() - offset, now)) : null
```

### DataFlowIssue
Method invocation `minus` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/TimewarpOperator.java`
#### Snippet
```java
                    ).iterator().next();
                  }
                  return (T) new Result(res.getTimestamp().minus(offset), value);
                } else if (input instanceof MapBasedRow) {
                  MapBasedRow row = (MapBasedRow) input;
```

### DataFlowIssue
Method invocation `isFromTombstone` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryEngine.java`
#### Snippet
```java
  )
  {
    if (segment.asQueryableIndex() != null && segment.asQueryableIndex().isFromTombstone()) {
      return Sequences.empty();
    }
```

### DataFlowIssue
Unboxing of `selector.getObject()` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryEngine.java`
#### Snippet
```java

                            if (legacy && allColumns.get(i).equals(LEGACY_TIMESTAMP_KEY)) {
                              value = DateTimes.utc((long) selector.getObject());
                            } else {
                              value = selector == null ? null : selector.getObject();
```

### DataFlowIssue
Unboxing of `query.withNonNullLegacy(scanQueryConfig).isLegacy()` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryQueryToolChest.java`
#### Snippet
```java
      final RowSignature.Builder builder = RowSignature.builder();

      if (query.withNonNullLegacy(scanQueryConfig).isLegacy()) {
        builder.add(ScanQueryEngine.LEGACY_TIMESTAMP_KEY, null);
      }
```

### DataFlowIssue
Unboxing of `DimensionHandlerUtils.convertObjectToLong(timestampObj)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/scan/ScanResultValue.java`
#### Snippet
```java
        throw new ISE("Unable to compare timestamp for rows without a time column");
      }
      return DimensionHandlerUtils.convertObjectToLong(timestampObj);
    } else if (resultFormat.equals(ScanQuery.ResultFormat.RESULT_FORMAT_COMPACTED_LIST)) {
      int timeColumnIndex = this.getColumns().indexOf(ColumnHolder.TIME_COLUMN_NAME);
```

### DataFlowIssue
Unboxing of `DimensionHandlerUtils.convertObjectToLong(firstEvent.get(timeColumnIndex))` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/scan/ScanResultValue.java`
#### Snippet
```java
      }
      List<Object> firstEvent = (List<Object>) ((List<Object>) this.getEvents()).get(0);
      return DimensionHandlerUtils.convertObjectToLong(firstEvent.get(timeColumnIndex));
    }
    throw new UOE("Unable to get first event timestamp using result format of [%s]", resultFormat.toString());
```

### DataFlowIssue
Method invocation `status` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/MetricsEmittingQueryRunner.java`
#### Snippet
```java
          {
            if (thrown != null) {
              queryMetrics.status("failed");
            } else if (!isDone) {
              queryMetrics.status("short");
```

### DataFlowIssue
Method invocation `status` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/MetricsEmittingQueryRunner.java`
#### Snippet
```java
              queryMetrics.status("failed");
            } else if (!isDone) {
              queryMetrics.status("short");
            }
            long timeTakenNs = System.nanoTime() - startTimeNs;
```

### DataFlowIssue
Method invocation `reportWaitTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/MetricsEmittingQueryRunner.java`
#### Snippet
```java

            if (creationTimeNs > 0) {
              queryMetrics.reportWaitTime(startTimeNs - creationTimeNs);
            }
            try {
```

### DataFlowIssue
Method invocation `emit` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/MetricsEmittingQueryRunner.java`
#### Snippet
```java
            }
            try {
              queryMetrics.emit(emitter);
            }
            catch (Exception e) {
```

### DataFlowIssue
Method invocation `getClass` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/TopNResultValue.java`
#### Snippet
```java
              return (DimensionAndMetricValueExtractor) input;
            } else {
              throw new IAE("Unknown type for input[%s]", input.getClass());
            }
          }
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/AggregateTopNMetricFirstAlgorithm.java`
#### Snippet
```java
        AggregatorUtil.condensedAggregators(query.getAggregatorSpecs(), query.getPostAggregatorSpecs(), metric);

    if (condensedAggPostAggPair.lhs.isEmpty() && condensedAggPostAggPair.rhs.isEmpty()) {
      throw new ISE("Can't find the topN metric");
    }
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/AggregateTopNMetricFirstAlgorithm.java`
#### Snippet
```java
        AggregatorUtil.condensedAggregators(query.getAggregatorSpecs(), query.getPostAggregatorSpecs(), metric);

    if (condensedAggPostAggPair.lhs.isEmpty() && condensedAggPostAggPair.rhs.isEmpty()) {
      throw new ISE("Can't find the topN metric");
    }
```

### DataFlowIssue
Method invocation `getTopNMetricVal` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/TopNNumericResultBuilder.java`
#### Snippet
```java
    final boolean belowThreshold = pQueue.size() < this.threshold;
    final boolean belowMax = belowThreshold
                             || this.metricComparator.compare(pQueue.peek().getTopNMetricVal(), topNMetricVal) < 0;
    return belowMax;
  }
```

### DataFlowIssue
Unboxing of `startEnd.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/BaseTopNAlgorithm.java`
#### Snippet
```java
      Pair<Integer, Integer> startEnd = computeStartEnd(cardinality);

      Arrays.fill(expansionAggs, 0, startEnd.lhs, EMPTY_ARRAY);
      Arrays.fill(expansionAggs, startEnd.lhs, startEnd.rhs, null);
      Arrays.fill(expansionAggs, startEnd.rhs, expansionAggs.length, EMPTY_ARRAY);
```

### DataFlowIssue
Unboxing of `startEnd.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/BaseTopNAlgorithm.java`
#### Snippet
```java

      Arrays.fill(expansionAggs, 0, startEnd.lhs, EMPTY_ARRAY);
      Arrays.fill(expansionAggs, startEnd.lhs, startEnd.rhs, null);
      Arrays.fill(expansionAggs, startEnd.rhs, expansionAggs.length, EMPTY_ARRAY);

```

### DataFlowIssue
Method invocation `getTopNMetricVal` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/TopNLexicographicResultBuilder.java`
#### Snippet
```java
    final boolean belowThreshold = pQueue.size() < threshold;
    final boolean belowMax = belowThreshold
                             || comparator.compare(pQueue.peek().getTopNMetricVal(), dimName) < 0;
    // Only add if dimName is after previousStop
    return belowMax && (previousStop == null || comparator.compare(dimName, previousStop) > 0);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/NumericTopNMetricSpec.java`
#### Snippet
```java
          public boolean apply(PostAggregator input)
          {
            return input.getName().equals(metric);
          }
        }
```

### DataFlowIssue
Unboxing of `startEnd.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/PooledTopNAlgorithm.java`
#### Snippet
```java
        Pair<Integer, Integer> startEnd = computeStartEnd(cardinality);

        Arrays.fill(positions, 0, startEnd.lhs, SKIP_POSITION_VALUE);
        Arrays.fill(positions, startEnd.lhs, startEnd.rhs, INIT_POSITION_VALUE);
        Arrays.fill(positions, startEnd.rhs, positions.length, SKIP_POSITION_VALUE);
```

### DataFlowIssue
Unboxing of `startEnd.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/PooledTopNAlgorithm.java`
#### Snippet
```java

        Arrays.fill(positions, 0, startEnd.lhs, SKIP_POSITION_VALUE);
        Arrays.fill(positions, startEnd.lhs, startEnd.rhs, INIT_POSITION_VALUE);
        Arrays.fill(positions, startEnd.rhs, positions.length, SKIP_POSITION_VALUE);

```

### DataFlowIssue
Unboxing of `interval.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java
                                          .put(DimFilterUtils.STRING_SEPARATOR);
    for (Pair<Long, Long> interval : intervalLongs) {
      filterCacheKey.put(Longs.toByteArray(interval.lhs))
                    .put(Longs.toByteArray(interval.rhs))
                    .put((byte) 0xFF);
```

### DataFlowIssue
Unboxing of `interval.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/filter/IntervalDimFilter.java`
#### Snippet
```java
    for (Pair<Long, Long> interval : intervalLongs) {
      filterCacheKey.put(Longs.toByteArray(interval.lhs))
                    .put(Longs.toByteArray(interval.rhs))
                    .put((byte) 0xFF);
    }
```

### DataFlowIssue
Method invocation `estimateSelectivity` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/filter/Filter.java`
#### Snippet
```java
  default double estimateSelectivity(ColumnIndexSelector indexSelector)
  {
    return getBitmapColumnIndex(indexSelector).estimateSelectivity(indexSelector.getNumRows());
  }

```

### DataFlowIssue
Argument `lower` might be null
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasLowerBound()) {
      final Float lowerFloat = Floats.tryParse(lower);
      if (lowerFloat == null) {
        // Unparseable values fall before all actual numbers, so all numbers
```

### DataFlowIssue
Argument `upper` might be null
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasUpperBound()) {
      Float upperFloat = Floats.tryParse(upper);
      if (upperFloat == null) {
        // Unparseable values fall before all actual numbers, so no numbers
```

### DataFlowIssue
Argument `getUpper()` might be null
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    Range<String> range;
    if (getLower() == null) {
      range = isUpperStrict() ? Range.lessThan(getUpper()) : Range.atMost(getUpper());
    } else if (getUpper() == null) {
      range = isLowerStrict() ? Range.greaterThan(getLower()) : Range.atLeast(getLower());
```

### DataFlowIssue
Argument `getUpper()` might be null
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
    Range<String> range;
    if (getLower() == null) {
      range = isUpperStrict() ? Range.lessThan(getUpper()) : Range.atMost(getUpper());
    } else if (getUpper() == null) {
      range = isLowerStrict() ? Range.greaterThan(getLower()) : Range.atLeast(getLower());
```

### DataFlowIssue
Argument `lower` might be null
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasLowerBound()) {
      final Double lowerDouble = Doubles.tryParse(lower);
      if (lowerDouble == null) {
        // Unparseable values fall before all actual numbers, so all numbers
```

### DataFlowIssue
Argument `upper` might be null
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java

    if (hasUpperBound()) {
      Double upperDouble = Doubles.tryParse(upper);
      if (upperDouble == null) {
        // Unparseable values fall before all actual numbers, so no numbers can
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java

            // make sure to preserve timezone information when caching results
            retVal.add(input.getTimestamp().getMillis());
            for (DimensionAndMetricValueExtractor result : results) {
              List<Object> vals = Lists.newArrayListWithCapacity(aggFactoryNames.length + 2);
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java

                    // Position 0 is always __time.
                    retVal[0] = result.getTimestamp().getMillis();

                    // Add other fields.
```

### DataFlowIssue
Method invocation `apply` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/topn/TopNQueryQueryToolChest.java`
#### Snippet
```java
                                  map.put(
                                      dimOutputName,
                                      topNQuery.getDimensionSpec().getExtractionFn().apply(dimValue)
                                  );
                                  return input;
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `processing/src/main/java/org/apache/druid/query/Druids.java`
#### Snippet
```java
  public static final Function<String, DimensionSpec> DIMENSION_IDENTITY = new Function<String, DimensionSpec>()
  {
    @Nullable
    @Override
    public DimensionSpec apply(String input)
```

### DataFlowIssue
Argument `value` might be null
in `processing/src/main/java/org/apache/druid/query/filter/SelectorDimFilter.java`
#### Snippet
```java
  {
    final InDimFilter.ValuesSet valuesSet = new InDimFilter.ValuesSet();
    valuesSet.add(value);
    return new InDimFilter(dimension, valuesSet, extractionFn, filterTuning).optimize();
  }
```

### DataFlowIssue
Function may return null, but it's not allowed here
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryRunnerFactory.java`
#### Snippet
```java
              intervalsAndRunnersOrdered.stream()
                                        .collect(Collectors.groupingBy(
                                            x -> x.lhs,
                                            LinkedHashMap::new,
                                            Collectors.toList()
```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
      // In non-SQL-compatible mode, empty strings must be converted to nulls for the filter.
      this.values.remove("");
      this.values.add(null);
    }

```

### DataFlowIssue
Argument `convertedValue` might be null
in `processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java`
#### Snippet
```java
        // If the selector value is overwritten in the lookup map, don't add selector value to keys.
        if (exFn.isRetainMissingValue() && NullHandling.isNullOrEquivalent(lookup.apply(convertedValue))) {
          keys.add(convertedValue);
        }
      }
```

### DataFlowIssue
Method invocation `getCardinality` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
          final DictionaryEncodedStringValueIndex bitmapIndex =
              indexSupplier.as(DictionaryEncodedStringValueIndex.class);
          for (int i = 0; i < bitmapIndex.getCardinality(); ++i) {
            String dimVal = extractionFn.apply(bitmapIndex.getValue(i));
            if (!searchQuerySpec.accept(dimVal)) {
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
      final MutableBitmap timeBitmap = bitmapFactory.makeEmptyMutableBitmap();
      final ColumnHolder timeColumnHolder = index.getColumnHolder(ColumnHolder.TIME_COLUMN_NAME);
      try (final NumericColumn timeValues = (NumericColumn) timeColumnHolder.getColumn()) {

        int startIndex = Math.max(0, getStartIndexOfTime(timeValues, interval.getStartMillis(), true));
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
      final List<DimensionSpec> nonBitmapSuppDims = pair.rhs;

      if (bitmapSuppDims.size() > 0) {
        final ColumnIndexSelector selector = new ColumnSelectorColumnIndexSelector(
            index.getBitmapFactoryForDimensions(),
```

### DataFlowIssue
Method invocation `addAll` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
        } else {
          // Fall back to cursor-based execution strategy
          nonBitmapSuppDims.addAll(bitmapSuppDims);
        }
      }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/UseIndexesStrategy.java`
#### Snippet
```java
      }

      if (nonBitmapSuppDims.size() > 0) {
        builder.add(new CursorBasedExecutor(query, segment, filter, interval, nonBitmapSuppDims));
      }
```

### DataFlowIssue
Variable is already assigned to this value
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
                  "cache hit, but number of dimensions mismatch"
              );
              needsRename = false;
              for (int idx = 0; idx < cachedOutputNames.size(); idx++) {
                String cachedOutputName = cachedOutputNames.get(idx);
```

### DataFlowIssue
Method invocation `getTimestamp` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
                              {
                                return new Result<SearchResultValue>(
                                    input.getTimestamp(),
                                    new SearchResultValue(
                                        Lists.newArrayList(
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
          {
            return dimensionSpecs.size() > 0
                   ? Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue(), dimOutputNames)
                   : Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue());
          }
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
            return dimensionSpecs.size() > 0
                   ? Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue(), dimOutputNames)
                   : Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue());
          }
        };
```

### DataFlowIssue
Method invocation `getClass` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
                                     count = cached.getCount();
                                   } else {
                                     throw new IAE("Unknown format [%s]", input.getClass());
                                   }
                                   return new SearchHit(dim, val, count);
```

### DataFlowIssue
Method invocation `getClass` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
                              return (SearchHit) input;
                            } else {
                              throw new IAE("Unknown format [%s]", input.getClass());
                            }
                          }
```

### DataFlowIssue
Argument `metricValueObj` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/having/HavingSpecMetricComparator.java`
#### Snippet
```java
        return aggregatorFactory.getComparator()
                                .compare(
                                    aggregatorFactory.deserialize(metricValueObj),
                                    aggregatorFactory.deserialize(value)
                                );
```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryEngine.java`
#### Snippet
```java
                  Map<String, Object> theEvent = Maps.newLinkedHashMap();

                  ByteBuffer keyBuffer = input.getKey().duplicate();
                  for (int i = 0; i < dimensions.size(); ++i) {
                    final DimensionSelector dimSelector = dimensions.get(i);
```

### DataFlowIssue
Method invocation `add` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
    public void handleNewBucket(int bucketOffset)
    {
      offsetList.add(bucketOffset);
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
        public Integer get(int index)
        {
          return offsetList.get(index);
        }

```

### DataFlowIssue
Method invocation `set` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
        {
          final Integer oldValue = get(index);
          offsetList.set(index, element);
          return oldValue;
        }
```

### DataFlowIssue
Method invocation `add` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
      );

      offsetList.add(newBucketOffset);
    }
  }
```

### DataFlowIssue
Method invocation `reset` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
    public void handlePreTableSwap()
    {
      offsetList.reset();
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
            throw new NoSuchElementException();
          }
          final int offset = offsetList.get(curr);
          final Entry<KeyType> entry = populateBucketEntryForOffset(reusableEntry, offset);
          curr++;
```

### DataFlowIssue
Method invocation `reset` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/BufferHashGrouper.java`
#### Snippet
```java
  public void reset()
  {
    offsetList.reset();
    hashTable.reset();
    keySerde.reset();
```

### DataFlowIssue
Argument `row.get(aggregatorStart + i)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
      for (int i = 0; i < aggregatorSpecs.size(); i++) {
        AggregatorFactory agg = aggregatorSpecs.get(i);
        newRow.set(aggregatorStart + i, fn.manipulate(agg, row.get(aggregatorStart + i)));
      }

```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
              retVal.add(resultRow.getLong(inPos++));
            } else {
              retVal.add(query.getUniversalTimestamp().getMillis());
            }

```

### DataFlowIssue
Expression `strategySelector.strategize((GroupByQuery) query).createResultComparator(query)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
  public Comparator<ResultRow> createResultComparator(Query<ResultRow> query)
  {
    return strategySelector.strategize((GroupByQuery) query).createResultComparator(query);
  }

```

### DataFlowIssue
Expression `key` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ReusableEntry.java`
#### Snippet
```java
  )
  {
    this.key = key;
    this.values = values;
  }
```

### DataFlowIssue
Expression `values` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ReusableEntry.java`
#### Snippet
```java
  public Object[] getValues()
  {
    return values;
  }

```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
          naturalComparator = StringComparators.NUMERIC;
        } else if (columnType.isArray()) {
          if (columnType.getElementType().isNumeric()) {
            naturalComparator = StringComparators.NUMERIC;
          } else {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
    Comparator arrayComparator = null;
    if (columnType.isArray()) {
      final ValueType elementType = columnType.getElementType().getType();
      if (columnType.getElementType().isNumeric()) {
        arrayComparator = (Comparator<Object>) (o1, o2) -> ComparableList.compareWithComparator(
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToList(o1, elementType)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
        arrayComparator = (Comparator<Object>) (o1, o2) -> ComparableList.compareWithComparator(
            comparator,
            DimensionHandlerUtils.convertToList(o1, elementType),
            DimensionHandlerUtils.convertToList(o2, elementType)
        );
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToList(o2, elementType)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
            comparator,
            DimensionHandlerUtils.convertToList(o1, elementType),
            DimensionHandlerUtils.convertToList(o2, elementType)
        );
      } else if (columnType.getElementType().equals(ColumnType.STRING)) {
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToComparableStringArray(o1)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
        arrayComparator = (Comparator<Object>) (o1, o2) -> ComparableStringArray.compareWithComparator(
            comparator,
            DimensionHandlerUtils.convertToComparableStringArray(o1),
            DimensionHandlerUtils.convertToComparableStringArray(o2)
        );
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToComparableStringArray(o2)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/orderby/DefaultLimitSpec.java`
#### Snippet
```java
            comparator,
            DimensionHandlerUtils.convertToComparableStringArray(o1),
            DimensionHandlerUtils.convertToComparableStringArray(o2)
        );
      } else {
```

### DataFlowIssue
Argument `grouper` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByRowProcessor.java`
#### Snippet
```java
      public Sequence<ResultRow> results(@Nullable List<DimensionSpec> dimensionsToInclude)
      {
        return getRowsFromGrouper(query, grouper, dimensionsToInclude);
      }

```

### DataFlowIssue
Method invocation `numBuckets` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
    }

    if (hashTable.numBuckets() >= maxNumBuckets) {
      throw new ISE("No room left to grow");
    }
```

### DataFlowIssue
Method invocation `bucketIterator` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
    }

    final IntIterator baseIterator = hashTable.bucketIterator();

    return new CloseableIterator<Grouper.Entry<MemoryPointer>>()
```

### DataFlowIssue
Method invocation `numBuckets` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  private boolean grow()
  {
    if (hashTable.numBuckets() >= maxNumBuckets) {
      return false;
    }
```

### DataFlowIssue
Array access `vKeyHashCodes[rowNum]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
    // about with hash codes.
    for (int rowNum = 0, keySpacePosition = 0; rowNum < numRows; rowNum++, keySpacePosition += keySize) {
      vKeyHashCodes[rowNum] = Groupers.smear(HashTableUtils.hashMemory(keySpace, keySpacePosition, keySize));
    }

```

### DataFlowIssue
Method invocation `bucketValueOffset` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
    int aggregationNumRows = 0;

    final int aggregatorStartOffset = hashTable.bucketValueOffset();

    for (int rowNum = 0, keySpacePosition = 0; rowNum < numRows; rowNum++, keySpacePosition += keySize) {
```

### DataFlowIssue
Array access `vAggregationPositions[aggregationNumRows]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java

      // Schedule the current row for aggregation.
      vAggregationPositions[aggregationNumRows] = bucket * bucketSize + aggregatorStartOffset;
      aggregationNumRows++;
    }
```

### DataFlowIssue
Method invocation `numBuckets` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java

    final int nextNumBuckets = nextTableNumBuckets();
    final int currentEnd = tableStart + MemoryOpenHashTable.memoryNeeded(hashTable.numBuckets(), bucketSize);

    final int nextTableStart;
```

### DataFlowIssue
Method invocation `memory` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
  {
    aggregators.aggregateVector(
        hashTable.memory().getByteBuffer(),
        numRows,
        vAggregationPositions,
```

### DataFlowIssue
Argument `vAggregationPositions` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
        hashTable.memory().getByteBuffer(),
        numRows,
        vAggregationPositions,
        Groupers.writeAggregationRows(vAggregationRows, startRow, startRow + numRows)
    );
```

### DataFlowIssue
Argument `vAggregationRows` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/HashVectorGrouper.java`
#### Snippet
```java
        numRows,
        vAggregationPositions,
        Groupers.writeAggregationRows(vAggregationRows, startRow, startRow + numRows)
    );
  }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV2.java`
#### Snippet
```java

      List<List<String>> subtotals = query.getSubtotalsSpec();
      List<Sequence<ResultRow>> subtotalsResults = new ArrayList<>(subtotals.size());

      // Iterate through each subtotalSpec, build results for it and add to subtotalsResults
```

### DataFlowIssue
Argument `aggsAndPostAggs` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/strategy/GroupByStrategyV2.java`
#### Snippet
```java
        LimitSpec subtotalQueryLimitSpec = NoopLimitSpec.instance();
        if (!(baseSubtotalQuery.getLimitSpec() instanceof NoopLimitSpec)) {
          Set<String> columns = new HashSet<>(aggsAndPostAggs);
          columns.addAll(subtotalSpec);

```

### DataFlowIssue
Result of 'min' is the same as the first argument making the call meaningless
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ConcurrentGrouper.java`
#### Snippet
```java
          executor,
          sortHasNonGroupingFields,
          Math.min(numParallelCombineThreads, concurrencyHint),
          priority,
          queryTimeoutAt,
```

### DataFlowIssue
Argument `DICTIONARY_FULL_ZERO_COUNT.getReason()` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/Groupers.java`
#### Snippet
```java
      return DICTIONARY_FULL_ZERO_COUNT;
    } else {
      return AggregateResult.partial(count, DICTIONARY_FULL_ZERO_COUNT.getReason());
    }
  }
```

### DataFlowIssue
Argument `HASH_TABLE_FULL_ZERO_COUNT.getReason()` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/Groupers.java`
#### Snippet
```java
      return HASH_TABLE_FULL_ZERO_COUNT;
    } else {
      return AggregateResult.partial(count, HASH_TABLE_FULL_ZERO_COUNT.getReason());
    }
  }
```

### DataFlowIssue
Method invocation `remaining` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/StreamingMergeSortedGrouper.java`
#### Snippet
```java
      final ByteBuffer keyBuffer = keySerde.toByteBuffer(key);

      if (keyBuffer.remaining() != keySize) {
        throw new IAE(
            "keySerde.toByteBuffer(key).remaining[%s] != keySerde.keySize[%s], buffer was the wrong size?!",
```

### DataFlowIssue
Array access `values[checkAndGetColumnIndex(columnName)]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
        public Object getObject()
        {
          return values[checkAndGetColumnIndex(columnName)];
        }
      };
```

### DataFlowIssue
Unboxing of `degreeAndNumBuffers.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
      );

      final int leafCombineDegree = degreeAndNumBuffers.lhs;
      final int numBuffers = degreeAndNumBuffers.rhs;
      final int sliceSize = combineBuffer.capacity() / numBuffers;
```

### DataFlowIssue
Unboxing of `degreeAndNumBuffers.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java

      final int leafCombineDegree = degreeAndNumBuffers.lhs;
      final int numBuffers = degreeAndNumBuffers.rhs;
      final int sliceSize = combineBuffer.capacity() / numBuffers;

```

### DataFlowIssue
Argument `combineIteratorAndFutures.lhs` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
      );

      final CloseableIterator<Entry<KeyType>> combineIterator = Iterables.getOnlyElement(combineIteratorAndFutures.lhs);
      final List<Future> combineFutures = combineIteratorAndFutures.rhs;

```

### DataFlowIssue
Argument `combineFutures` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
      final List<Future> combineFutures = combineIteratorAndFutures.rhs;

      closer.register(() -> checkCombineFutures(combineFutures));

      return CloseableIterators.wrap(combineIterator, closer);
```

### DataFlowIssue
Argument `parentIteratorsAndFutures.rhs` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/ParallelCombiner.java`
#### Snippet
```java
              dictionary
          );
      combineFutures.addAll(parentIteratorsAndFutures.rhs);
      return Pair.of(parentIteratorsAndFutures.lhs, combineFutures);
    }
```

### DataFlowIssue
Method invocation `init` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByMergingQueryRunnerV2.java`
#### Snippet
```java
              final Grouper<RowBasedKey> grouper = pair.lhs;
              final Accumulator<AggregateResult, ResultRow> accumulator = pair.rhs;
              grouper.init();

              final ReferenceCountingResourceHolder<Grouper<RowBasedKey>> grouperHolder =
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/GroupByQueryEngineV2.java`
#### Snippet
```java
          return makeNullableNumericStrategy(new DoubleGroupByColumnSelectorStrategy());
        case ARRAY:
          switch (capabilities.getElementType().getType()) {
            case LONG:
              return new ArrayLongGroupByColumnSelectorStrategy();
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentAnalyzer.java`
#### Snippet
```java
      final ColumnAnalysis analysis;

      switch (capabilities.getType()) {
        case LONG:
          final int bytesPerRow =
```

### DataFlowIssue
Argument `index.getColumnHolder(columnName)` might be null
in `processing/src/main/java/org/apache/druid/query/metadata/SegmentAnalyzer.java`
#### Snippet
```java
        case STRING:
          if (index != null) {
            analysis = analyzeStringColumn(capabilities, index.getColumnHolder(columnName));
          } else {
            analysis = analyzeStringColumn(capabilities, storageAdapter, columnName);
```

### DataFlowIssue
Method invocation `next` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java
      }

      return delegate.next();
    }

```

### DataFlowIssue
Method invocation `setCurrentOffsets` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java

        if (partiallyAggregatedRows < 0) {
          granulizer.setCurrentOffsets(bucketInterval);
          startOffset = granulizer.getStartOffset();
        } else {
```

### DataFlowIssue
Method invocation `getStartOffset` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/vector/VectorGroupByEngine.java`
#### Snippet
```java
          startOffset = granulizer.getStartOffset();
        } else {
          startOffset = granulizer.getStartOffset() + partiallyAggregatedRows;
        }

```

### DataFlowIssue
Method invocation `getCacheKey` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/dimension/LookupDimensionSpec.java`
#### Snippet
```java
    byte[] dimensionBytes = StringUtils.toUtf8(dimension);
    byte[] dimExtractionFnBytes = Strings.isNullOrEmpty(name)
                                  ? getLookup().getCacheKey()
                                  : StringUtils.toUtf8(name);
    byte[] outputNameBytes = StringUtils.toUtf8(outputName);
```

### DataFlowIssue
Method invocation `preservesOrdering` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/dimension/LookupDimensionSpec.java`
#### Snippet
```java
  public boolean preservesOrdering()
  {
    return getExtractionFn().preservesOrdering();
  }

```

### DataFlowIssue
Argument `NullHandling.nullToEmptyIfNeeded(s)` might be null
in `processing/src/main/java/org/apache/druid/query/expression/RegexpExtractExprMacro.java`
#### Snippet
```java
          return ExprEval.of(null);
        } else {
          final Matcher matcher = pattern.matcher(NullHandling.nullToEmptyIfNeeded(s));
          final String retVal = matcher.find() ? matcher.group(index) : null;
          return ExprEval.of(retVal);
```

### DataFlowIssue
Argument `TYPE` might be null
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
        public ExprEval eval(ObjectBinding bindings)
        {
          return ExprEval.ofComplex(TYPE, collector);
        }

```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
          // be permissive for now, we can count more on this later when we are better at retaining complete complex
          // type information everywhere
          if (!TYPE.equals(hllCollector.type()) ||
              !(hllCollector.type().is(ExprType.COMPLEX) && hllCollector.value() instanceof HyperLogLogCollector)
          ) {
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
          // be permissive for now, we can count more on this later when we are better at retaining complete complex
          // type information everywhere
          if (!TYPE.equals(hllType) ||
              !(hllType.is(ExprType.COMPLEX) && hllCollector.value() instanceof HyperLogLogCollector)
          ) {
```

### DataFlowIssue
Argument `input.asString()` might be null
in `processing/src/main/java/org/apache/druid/query/expression/HyperUniqueExpressions.java`
#### Snippet
```java
                }
              } else {
                collector.add(CardinalityAggregator.HASH_FUNCTION.hashUnencodedChars(input.asString()).asBytes());
              }
              break;
```

### DataFlowIssue
Argument `NullHandling.nullToEmptyIfNeeded((String) patternExpr.getLiteralValue())` might be null
in `processing/src/main/java/org/apache/druid/query/expression/LikeExprMacro.java`
#### Snippet
```java

    final LikeDimFilter.LikeMatcher likeMatcher = LikeDimFilter.LikeMatcher.from(
        NullHandling.nullToEmptyIfNeeded((String) patternExpr.getLiteralValue()),
        escapeChar
    );
```

### DataFlowIssue
Method invocation `length` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java

      int start = 0;
      int end = s.length();

      if (mode.isLeft()) {
```

### DataFlowIssue
Method invocation `length` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java

      int start = 0;
      int end = s.length();

      if (mode.isLeft()) {
```

### DataFlowIssue
Argument `chars` might be null
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
      if (mode.isLeft()) {
        while (start < s.length()) {
          if (stringContains(chars, s.charAt(start))) {
            start++;
          } else {
```

### DataFlowIssue
Argument `chars` might be null
in `processing/src/main/java/org/apache/druid/query/expression/TrimExprMacro.java`
#### Snippet
```java
      if (mode.isRight()) {
        while (end > start) {
          if (stringContains(chars, s.charAt(end - 1))) {
            end--;
          } else {
```

### DataFlowIssue
Argument `args.get(1).getLiteralValue()` might be null
in `processing/src/main/java/org/apache/druid/query/expression/TimestampExtractExprMacro.java`
#### Snippet
```java

    final Expr arg = args.get(0);
    final Unit unit = Unit.valueOf(StringUtils.toUpperCase((String) args.get(1).getLiteralValue()));
    final DateTimeZone timeZone;

```

### DataFlowIssue
Argument `dimValue` might be null
in `processing/src/main/java/org/apache/druid/query/extraction/MatchingDimExtractionFn.java`
#### Snippet
```java
    }

    Matcher matcher = pattern.matcher(dimValue);
    return matcher.find() ? dimValue : null;
  }
```

### DataFlowIssue
Method invocation `toUpperCase` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/extraction/UpperExtractionFn.java`
#### Snippet
```java
      return null;
    }
    return key.toUpperCase(locale);
  }

```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/expression/ArrayQuantileExprMacro.java`
#### Snippet
```java
  static DoubleList toDoubleArray(final ExprEval<?> eval)
  {
    if (!eval.type().isArray() || !eval.type().getElementType().isNumeric()) {
      return null;
    }
```

### DataFlowIssue
Method invocation `length` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/extraction/SubstringDimExtractionFn.java`
#### Snippet
```java
    }

    int len = dimValue.length();

    if (index < len) {
```

### DataFlowIssue
Method invocation `toLowerCase` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/extraction/LowerExtractionFn.java`
#### Snippet
```java
      return null;
    }
    return key.toLowerCase(locale);
  }

```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/LongMinAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new LongMinAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/LongMinAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new LongMinAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Unboxing of `val.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/SerializablePairLongStringComplexMetricSerde.java`
#### Snippet
```java
            byte[] rhsBytes = StringUtils.toUtf8(rhsString);
            bbuf = ByteBuffer.allocate(Long.BYTES + Integer.BYTES + rhsBytes.length);
            bbuf.putLong(val.lhs);
            bbuf.putInt(Long.BYTES, rhsBytes.length);
            bbuf.position(Long.BYTES + Integer.BYTES);
```

### DataFlowIssue
Unboxing of `val.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/SerializablePairLongStringComplexMetricSerde.java`
#### Snippet
```java
          } else {
            bbuf = ByteBuffer.allocate(Long.BYTES + Integer.BYTES);
            bbuf.putLong(val.lhs);
            bbuf.putInt(Long.BYTES, 0);
          }
```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatMaxAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new FloatMaxAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatMaxAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new FloatMaxAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Argument `other` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
      {
        Histogram other = (Histogram) selector.getObject();
        combined.fold(other);
      }

```

### DataFlowIssue
@Nullable method 'getObject' always returns a non-null value
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public Histogram getObject()
```

### DataFlowIssue
Argument `first` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregatorFactory.java`
#### Snippet
```java
          combined = new Histogram(first);
        } else {
          combined.copyFrom(first);
        }
      }
```

### DataFlowIssue
Expression `factory.finalizeComputation(object)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/query/aggregation/MetricManipulatorFns.java`
#### Snippet
```java
    public Object manipulate(final AggregatorFactory factory, final Object object)
    {
      return factory.finalizeComputation(object);
    }
  };
```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/LongSumAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new LongSumAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/LongSumAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new LongSumAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleSumAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new DoubleSumAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleSumAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new DoubleSumAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryQueryToolChest.java`
#### Snippet
```java

          // Position 0 is always __time.
          retVal[0] = result.getTimestamp().getMillis();

          // Add other fields.
```

### DataFlowIssue
Array access `vAggregationRows[j++]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericVectorAggregator.java`
#### Snippet
```java
      for (int i = startRow; i < endRow; i++) {
        if (!nullVector[i]) {
          vAggregationRows[j++] = i;
        }
      }
```

### DataFlowIssue
Array access `vAggregationRows[j]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/NullableNumericVectorAggregator.java`
#### Snippet
```java
        if (!nullVector[rowNum]) {
          vAggregationPositions[j] = positions[i];
          vAggregationRows[j] = rowNum;
          j++;
        }
```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleMaxAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new DoubleMaxAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleMaxAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new DoubleMaxAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/LongMaxAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new LongMaxAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/LongMaxAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new LongMaxAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Method invocation `containsKey` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
        for (AggregatorFactory aggregator : aggregators) {
          String name = aggregator.getName();
          if (mergedAggregators.containsKey(name)) {
            AggregatorFactory other = mergedAggregators.get(name);
            try {
```

### DataFlowIssue
@Nullable method 'getOutputType' always returns a non-null value
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
        }

        @Nullable
        @Override
        public ExpressionType getOutputType(InputBindingInspector inspector)
```

### DataFlowIssue
@Nullable method 'getOutputType' always returns a non-null value
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
        }

        @Nullable
        @Override
        public ExpressionType getOutputType(InputBindingInspector inspector)
```

### DataFlowIssue
@Nullable method 'getOutputType' always returns a non-null value
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
        }

        @Nullable
        @Override
        public ExpressionType getOutputType(InputBindingInspector inspector)
```

### DataFlowIssue
@Nullable method 'getOutputType' always returns a non-null value
in `processing/src/main/java/org/apache/druid/query/expression/NestedDataExpressions.java`
#### Snippet
```java
          }

          @Nullable
          @Override
          public ExpressionType getOutputType(InputBindingInspector inspector)
```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleMinAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new DoubleMinAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/DoubleMinAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new DoubleMinAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatMinAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new FloatMinAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatMinAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new FloatMinAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatSumAggregatorFactory.java`
#### Snippet
```java
  public List<AggregatorFactory> getRequiredColumns()
  {
    return Collections.singletonList(new FloatSumAggregatorFactory(fieldName, fieldName, expression, macroTable));
  }

```

### DataFlowIssue
Argument `getFieldName()` might be null
in `processing/src/main/java/org/apache/druid/query/aggregation/FloatSumAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new FloatSumAggregatorFactory(newName, getFieldName(), getExpression(), macroTable);
  }

```

### DataFlowIssue
Argument `lhsObj` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
        }
      } else if (dimensionType.equals(ColumnType.STRING_ARRAY)) {
        final ComparableStringArray lhsArr = DimensionHandlerUtils.convertToComparableStringArray(lhsObj);
        final ComparableStringArray rhsArr = DimensionHandlerUtils.convertToComparableStringArray(rhsObj);
        dimCompare = Comparators.<Comparable>naturalNullsFirst().compare(lhsArr, rhsArr);
```

### DataFlowIssue
Argument `rhsObj` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      } else if (dimensionType.equals(ColumnType.STRING_ARRAY)) {
        final ComparableStringArray lhsArr = DimensionHandlerUtils.convertToComparableStringArray(lhsObj);
        final ComparableStringArray rhsArr = DimensionHandlerUtils.convertToComparableStringArray(rhsObj);
        dimCompare = Comparators.<Comparable>naturalNullsFirst().compare(lhsArr, rhsArr);
      } else if (dimensionType.equals(ColumnType.LONG_ARRAY)
```

### DataFlowIssue
Argument `lhsObj` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      } else if (dimensionType.equals(ColumnType.LONG_ARRAY)
                 || dimensionType.equals(ColumnType.DOUBLE_ARRAY)) {
        final ComparableList lhsArr = DimensionHandlerUtils.convertToList(lhsObj, dimensionType.getElementType().getType());
        final ComparableList rhsArr = DimensionHandlerUtils.convertToList(rhsObj, dimensionType.getElementType().getType());
        dimCompare = Comparators.<Comparable>naturalNullsFirst().compare(lhsArr, rhsArr);
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
      } else if (dimensionType.equals(ColumnType.LONG_ARRAY)
                 || dimensionType.equals(ColumnType.DOUBLE_ARRAY)) {
        final ComparableList lhsArr = DimensionHandlerUtils.convertToList(lhsObj, dimensionType.getElementType().getType());
        final ComparableList rhsArr = DimensionHandlerUtils.convertToList(rhsObj, dimensionType.getElementType().getType());
        dimCompare = Comparators.<Comparable>naturalNullsFirst().compare(lhsArr, rhsArr);
```

### DataFlowIssue
Argument `rhsObj` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
                 || dimensionType.equals(ColumnType.DOUBLE_ARRAY)) {
        final ComparableList lhsArr = DimensionHandlerUtils.convertToList(lhsObj, dimensionType.getElementType().getType());
        final ComparableList rhsArr = DimensionHandlerUtils.convertToList(rhsObj, dimensionType.getElementType().getType());
        dimCompare = Comparators.<Comparable>naturalNullsFirst().compare(lhsArr, rhsArr);
      } else {
```

### DataFlowIssue
Argument `context` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
          subtotalsSpec,
          postProcessingFn,
          context
      );
    }
```

### DataFlowIssue
Expression `havingSpec` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQuery.java`
#### Snippet
```java
  public HavingSpec getHavingSpec()
  {
    return havingSpec;
  }

```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
                   || fieldTypes.get(i - dimStart).equals(ColumnType.DOUBLE_ARRAY)) {
          final ComparableList lhs = DimensionHandlerUtils.convertToList(key1.getKey()[i],
                                                                         fieldTypes.get(i - dimStart).getElementType().getType());
          final ComparableList rhs = DimensionHandlerUtils.convertToList(key2.getKey()[i],
                                                                         fieldTypes.get(i - dimStart).getElementType().getType());
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
                                                                         fieldTypes.get(i - dimStart).getElementType().getType());
          final ComparableList rhs = DimensionHandlerUtils.convertToList(key2.getKey()[i],
                                                                         fieldTypes.get(i - dimStart).getElementType().getType());
          cmp = Comparators.<Comparable>naturalNullsFirst().compare(lhs, rhs);
        } else {
```

### DataFlowIssue
Array access `rankOfDictionaryIds[lhsBuffer.getInt(lhsPosition + keyBufferPosition)]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        if (!pushLimitDown) {
          bufferComparator = (lhsBuffer, rhsBuffer, lhsPosition, rhsPosition) -> Ints.compare(
              rankOfDictionaryIds[lhsBuffer.getInt(lhsPosition + keyBufferPosition)],
              rankOfDictionaryIds[rhsBuffer.getInt(rhsPosition + keyBufferPosition)]
          );
```

### DataFlowIssue
Argument `stringComparator` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        bufferComparator = (lhsBuffer, rhsBuffer, lhsPosition, rhsPosition) ->
            ComparableStringArray.compareWithComparator(
                stringComparator,
                arrayDictionary.get(lhsBuffer.getInt(lhsPosition
                                                     + keyBufferPosition)),
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
      switch (valueType.getType()) {
        case ARRAY:
          switch (valueType.getElementType().getType()) {
            case STRING:
              return new ArrayStringRowBasedKeySerdeHelper(
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
              columnSelector -> () -> columnSelector.isNull() ? null : columnSelector.getDouble();
        case ARRAY:
          switch (capabilities.getElementType().getType()) {
            case STRING:
              return (InputRawSupplierColumnSelectorStrategy<ColumnValueSelector>)
```

### DataFlowIssue
Argument `columnSelector.getObject()` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
              return (InputRawSupplierColumnSelectorStrategy<ColumnValueSelector>)
                  columnSelector ->
                      () -> DimensionHandlerUtils.convertToComparableStringArray(columnSelector.getObject());
            case FLOAT:
            case LONG:
```

### DataFlowIssue
Argument `columnSelector.getObject()` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
              return (InputRawSupplierColumnSelectorStrategy<ColumnValueSelector>)
                  columnSelector ->
                      () -> DimensionHandlerUtils.convertToList(columnSelector.getObject(),
                                                                capabilities.getElementType().getType());
            default:
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToComparableStringArray(lhs)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
          cmp = ComparableStringArray.compareWithComparator(
              comparator,
              DimensionHandlerUtils.convertToComparableStringArray(lhs),
              DimensionHandlerUtils.convertToComparableStringArray(rhs)
          );
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToComparableStringArray(rhs)` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
              comparator,
              DimensionHandlerUtils.convertToComparableStringArray(lhs),
              DimensionHandlerUtils.convertToComparableStringArray(rhs)
          );
        } else if (fieldType.equals(ColumnType.LONG_ARRAY)
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToList(lhs, fieldType.getElementType().getType())` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
          cmp = ComparableList.compareWithComparator(
              comparator,
              DimensionHandlerUtils.convertToList(lhs, fieldType.getElementType().getType()),
              DimensionHandlerUtils.convertToList(rhs, fieldType.getElementType().getType())
          );
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
          cmp = ComparableList.compareWithComparator(
              comparator,
              DimensionHandlerUtils.convertToList(lhs, fieldType.getElementType().getType()),
              DimensionHandlerUtils.convertToList(rhs, fieldType.getElementType().getType())
          );
```

### DataFlowIssue
Argument `DimensionHandlerUtils.convertToList(rhs, fieldType.getElementType().getType())` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
              comparator,
              DimensionHandlerUtils.convertToList(lhs, fieldType.getElementType().getType()),
              DimensionHandlerUtils.convertToList(rhs, fieldType.getElementType().getType())
          );

```

### DataFlowIssue
Argument `limitSpec` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        valueTypes,
        aggregatorFactories,
        limitSpec
    );

```

### DataFlowIssue
Argument `stringComparator` might be null
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
        this.bufferComparator = (lhsBuffer, rhsBuffer, lhsPosition, rhsPosition) ->
            ComparableList.compareWithComparator(
                stringComparator,
                listDictionary.get(lhsBuffer.getInt(lhsPosition
                                                    + keyBufferPosition)),
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
      }
    } else {
      final long timestamp = query.getUniversalTimestamp().getMillis();
      return row -> timestamp;
    }
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/RowBasedGrouperHelper.java`
#### Snippet
```java
              return row -> row.getLong(0);
            } else {
              final long timestamp = query.getUniversalTimestamp().getMillis();
              return row -> timestamp;
            }
```

### DataFlowIssue
Method invocation `isNumericNull` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
          // exprEval returned from Expression selectors is never null.
          final ExprEval exprEval = baseSelector.getObject();
          return exprEval.isNumericNull() ? nullValue : (float) exprEval.asDouble();
        }

```

### DataFlowIssue
Method invocation `isNumericNull` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
        {
          final ExprEval exprEval = baseSelector.getObject();
          return exprEval.isNumericNull() ? nullValue : exprEval.asLong();
        }

```

### DataFlowIssue
Method invocation `isNumericNull` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorUtil.java`
#### Snippet
```java
        {
          final ExprEval exprEval = baseSelector.getObject();
          return exprEval.isNumericNull() ? nullValue : exprEval.asDouble();
        }

```

### DataFlowIssue
Unboxing of `inPair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/StringLastAggregator.java`
#### Snippet
```java
      );

      if (inPair != null && inPair.lhs >= lastTime) {
        lastTime = inPair.lhs;
        lastValue = StringUtils.fastLooseChop(inPair.rhs, maxStringBytes);
```

### DataFlowIssue
Unboxing of `leftTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Long>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Long>) rhs).lhs;
    if (leftTime >= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `rightTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Long>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Long>) rhs).lhs;
    if (leftTime >= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            buf.putLong(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `pair.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            buf.putLong(position, pair.rhs);
          }

```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            if (pair.lhs >= lastTime) {
              lastTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            if (pair.lhs >= lastTime) {
              lastTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Long> pair = selector.getObject();
            long lastTime = buf.getLong(position);
            if (pair.lhs >= lastTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/LongLastAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Long> pair = selector.getObject();
            long lastTime = buf.getLong(position);
            if (pair.lhs >= lastTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            buf.putFloat(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `pair.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            buf.putFloat(position, pair.rhs);
          }

```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Float> pair = selector.getObject();
            long lastTime = buf.getLong(position);
            if (pair.lhs >= lastTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Float> pair = selector.getObject();
            long lastTime = buf.getLong(position);
            if (pair.lhs >= lastTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `leftTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Float>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Float>) rhs).lhs;
    if (leftTime >= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `rightTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Float>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Float>) rhs).lhs;
    if (leftTime >= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            if (pair.lhs >= lastTime) {
              lastTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/FloatLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            if (pair.lhs >= lastTime) {
              lastTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `inPair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/StringLastVectorAggregator.java`
#### Snippet
```java
        if (inPair != null) {
          final long lastTime = buf.getLong(position);
          if (inPair.lhs >= lastTime) {
            StringFirstLastUtils.writePair(
                buf,
```

### DataFlowIssue
Unboxing of `inPair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/StringLastVectorAggregator.java`
#### Snippet
```java
          );
          if (inPair != null) {
            if (inPair.lhs >= lastTime) {
              StringFirstLastUtils.writePair(
                  buf,
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Double> pair = selector.getObject();
            long lastTime = buf.getLong(position);
            if (pair.lhs >= lastTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Double> pair = selector.getObject();
            long lastTime = buf.getLong(position);
            if (pair.lhs >= lastTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            if (pair.lhs >= lastTime) {
              lastTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            if (pair.lhs >= lastTime) {
              lastTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            buf.putDouble(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `pair.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            buf.putDouble(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `leftTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Double>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Double>) rhs).lhs;
    if (leftTime >= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `rightTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/DoubleLastAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Double>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Double>) rhs).lhs;
    if (leftTime >= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `inPair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/last/StringLastBufferAggregator.java`
#### Snippet
```java
      if (inPair != null) {
        final long lastTime = buf.getLong(position);
        if (inPair.lhs >= lastTime) {
          StringFirstLastUtils.writePair(
              buf,
```

### DataFlowIssue
Unboxing of `inPair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstBufferAggregator.java`
#### Snippet
```java
      if (inPair != null) {
        final long firstTime = buf.getLong(position);
        if (inPair.lhs < firstTime) {
          StringFirstLastUtils.writePair(
              buf,
```

### DataFlowIssue
Unboxing of `inPair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstAggregator.java`
#### Snippet
```java
      );

      if (inPair != null && inPair.lhs < firstTime) {
        firstTime = inPair.lhs;
        firstValue = StringUtils.fastLooseChop(inPair.rhs, maxStringBytes);
```

### DataFlowIssue
Unboxing of `((SerializablePairLongString) o1).lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstAggregatorFactory.java`
#### Snippet
```java

  public static final Comparator TIME_COMPARATOR = (o1, o2) -> Longs.compare(
      ((SerializablePairLongString) o1).lhs,
      ((SerializablePairLongString) o2).lhs
  );
```

### DataFlowIssue
Unboxing of `((SerializablePairLongString) o2).lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstAggregatorFactory.java`
#### Snippet
```java
  public static final Comparator TIME_COMPARATOR = (o1, o2) -> Longs.compare(
      ((SerializablePairLongString) o1).lhs,
      ((SerializablePairLongString) o2).lhs
  );

```

### DataFlowIssue
Expression `ordering` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/query/aggregation/post/ArithmeticPostAggregator.java`
#### Snippet
```java
    }

    this.ordering = ordering;
    this.comparator = ordering == null ? DEFAULT_COMPARATOR : Ordering.valueOf(ordering);
  }
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstLastUtils.java`
#### Snippet
```java
    if (object instanceof SerializablePairLongString) {
      final SerializablePairLongString pair = (SerializablePairLongString) object;
      time = pair.lhs;
      string = pair.rhs;
    } else if (object != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstLastUtils.java`
#### Snippet
```java
    if (object instanceof SerializablePairLongString) {
      final SerializablePairLongString pair = (SerializablePairLongString) object;
      time = pair.lhs;
      string = pair.rhs;
    } else if (object != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/StringFirstLastUtils.java`
#### Snippet
```java
    ByteBuffer mutationBuffer = buf.duplicate();
    mutationBuffer.position(position);
    mutationBuffer.putLong(pair.lhs);

    if (pair.rhs != null) {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            if (pair.lhs < firstTime) {
              firstTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            if (pair.lhs < firstTime) {
              firstTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            buf.putFloat(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `pair.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Float> pair = selector.getObject();
            buf.putFloat(position, pair.rhs);
          }

```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Float> pair = selector.getObject();
            long firstTime = buf.getLong(position);
            if (pair.lhs < firstTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Float> pair = selector.getObject();
            long firstTime = buf.getLong(position);
            if (pair.lhs < firstTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `leftTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Float>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Float>) rhs).lhs;
    if (leftTime <= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `rightTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/FloatFirstAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Float>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Float>) rhs).lhs;
    if (leftTime <= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            buf.putDouble(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `pair.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            buf.putDouble(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `leftTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Double>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Double>) rhs).lhs;
    if (leftTime <= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `rightTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Double>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Double>) rhs).lhs;
    if (leftTime <= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            if (pair.lhs < firstTime) {
              firstTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Double> pair = selector.getObject();
            if (pair.lhs < firstTime) {
              firstTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Double> pair = (SerializablePair<Long, Double>) selector.getObject();
            long firstTime = buf.getLong(position);
            if (pair.lhs < firstTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/DoubleFirstAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Double> pair = (SerializablePair<Long, Double>) selector.getObject();
            long firstTime = buf.getLong(position);
            if (pair.lhs < firstTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `leftTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Long>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Long>) rhs).lhs;
    if (leftTime <= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Unboxing of `rightTime` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
    Long leftTime = ((SerializablePair<Long, Long>) lhs).lhs;
    Long rightTime = ((SerializablePair<Long, Long>) rhs).lhs;
    if (leftTime <= rightTime) {
      return lhs;
    } else {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            buf.putLong(position, pair.rhs);
          }

```

### DataFlowIssue
Unboxing of `pair.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            buf.putLong(position, pair.rhs);
          }

```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            if (pair.lhs < firstTime) {
              firstTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
          {
            SerializablePair<Long, Long> pair = selector.getObject();
            if (pair.lhs < firstTime) {
              firstTime = pair.lhs;
              if (pair.rhs != null) {
```

### DataFlowIssue
Dereference of `pair` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Long> pair = selector.getObject();
            long firstTime = buf.getLong(position);
            if (pair.lhs < firstTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Unboxing of `pair.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/aggregation/first/LongFirstAggregatorFactory.java`
#### Snippet
```java
            SerializablePair<Long, Long> pair = selector.getObject();
            long firstTime = buf.getLong(position);
            if (pair.lhs < firstTime) {
              if (pair.rhs != null) {
                updateTimeWithValue(buf, position, pair.lhs);
```

### DataFlowIssue
Method invocation `toAccessor` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/rowsandcols/ConcatRowsAndColumns.java`
#### Snippet
```java
          RowsAndColumns rac = racBuffer.get(i);
          final Column col = rac.findColumn(name);
          final ColumnAccessor accessor = col.toAccessor();
          if (!type.equals(accessor.getType())) {
            throw new ISE("Type mismatch, expected[%s], got[%s] on entry[%,d]", type, accessor.getType(), i);
```

### DataFlowIssue
Argument `type.getComplexTypeName()` might be null
in `processing/src/main/java/org/apache/druid/query/rowsandcols/semantic/DefaultColumnSelectorFactoryMaker.java`
#### Snippet
```java
                  return List.class;
                case COMPLEX:
                  final ComplexMetricSerde serdeForType = ComplexMetrics.getSerdeForType(type.getComplexTypeName());
                  if (serdeForType != null && serdeForType.getObjectStrategy() != null) {
                    return serdeForType.getObjectStrategy().getClazz();
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/query/timeboundary/TimeBoundaryQueryQueryToolChest.java`
#### Snippet
```java
          public Object apply(Result<TimeBoundaryResultValue> input)
          {
            return Lists.newArrayList(input.getTimestamp().getMillis(), input.getValue());
          }
        };
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
    {
      if (hasSpatial) {
        spatialWriter.write(ImmutableRTree.newImmutableFromMutable(tree));
      }
    }
```

### DataFlowIssue
Argument `dictionaryWriter` might be null
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
    final DictionaryEncodedColumnPartSerde.SerializerBuilder partBuilder = DictionaryEncodedColumnPartSerde
        .serializerBuilder()
        .withDictionary(dictionaryWriter)
        .withValue(
            encodedValueSerializer,
```

### DataFlowIssue
Argument `encodedValueSerializer` might be null
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
        .withDictionary(dictionaryWriter)
        .withValue(
            encodedValueSerializer,
            hasMultiValue,
            compressionStrategy != CompressionStrategy.UNCOMPRESSED
```

### DataFlowIssue
Argument `spatialWriter` might be null
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
        .withBitmapSerdeFactory(bitmapSerdeFactory)
        .withBitmapIndex(bitmapWriter)
        .withSpatialIndex(spatialWriter)
        .withByteOrder(IndexIO.BYTE_ORDER);

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
    {
      if (hasSpatial) {
        String dimVal = dictionaryWriter.get(dictId);
        if (dimVal != null) {
          List<String> stringCoords = Lists.newArrayList(SPLITTER.split(dimVal));
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/ColumnSelectorColumnIndexSelector.java`
#### Snippet
```java

    try (final NumericColumn column = (NumericColumn) columnSelector.getColumnHolder(ColumnHolder.TIME_COLUMN_NAME)
                                                                    .getColumn()) {
      return column.length();
    }
```

### DataFlowIssue
Argument `prototypeClassBytecodeStream` might be null
in `processing/src/main/java/org/apache/druid/query/monomorphicprocessing/SpecializationService.java`
#### Snippet
```java
        try (InputStream prototypeClassBytecodeStream =
                 cl.getResourceAsStream(prototypeClassBytecodeName + ".class")) {
          prototypeClassBytecode = ByteStreams.toByteArray(prototypeClassBytecodeStream);
        }
      }
```

### DataFlowIssue
Method invocation `as` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
    if (columnHolder != null && columnHolder.getCapabilities().hasBitmapIndexes()) {
      ColumnIndexSupplier indexSupplier = columnHolder.getIndexSupplier();
      DictionaryEncodedStringValueIndex index = indexSupplier.as(DictionaryEncodedStringValueIndex.class);
      return index.getCardinality() > 0 ? index.getValue(index.getCardinality() - 1) : null;
    }
```

### DataFlowIssue
Method invocation `getCardinality` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
      ColumnIndexSupplier indexSupplier = columnHolder.getIndexSupplier();
      DictionaryEncodedStringValueIndex index = indexSupplier.as(DictionaryEncodedStringValueIndex.class);
      return index.getCardinality() > 0 ? index.getValue(index.getCardinality() - 1) : null;
    }
    return null;
```

### DataFlowIssue
Expression `maxTime` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
    }

    return maxTime;
  }

```

### DataFlowIssue
Method invocation `as` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
    if (columnHolder != null && columnHolder.getCapabilities().hasBitmapIndexes()) {
      ColumnIndexSupplier indexSupplier = columnHolder.getIndexSupplier();
      DictionaryEncodedStringValueIndex index = indexSupplier.as(DictionaryEncodedStringValueIndex.class);
      return index.getCardinality() > 0 ? index.getValue(0) : null;
    }
```

### DataFlowIssue
Method invocation `getCardinality` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
      ColumnIndexSupplier indexSupplier = columnHolder.getIndexSupplier();
      DictionaryEncodedStringValueIndex index = indexSupplier.as(DictionaryEncodedStringValueIndex.class);
      return index.getCardinality() > 0 ? index.getValue(0) : null;
    }
    return null;
```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
    // Compute and cache minTime, maxTime.
    final ColumnHolder columnHolder = index.getColumnHolder(ColumnHolder.TIME_COLUMN_NAME);
    try (NumericColumn column = (NumericColumn) columnHolder.getColumn()) {
      this.minTime = DateTimes.utc(column.getLongSingleValueRow(0));
      this.maxTime = DateTimes.utc(column.getLongSingleValueRow(column.length() - 1));
```

### DataFlowIssue
Expression `minTime` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexStorageAdapter.java`
#### Snippet
```java
    }

    return minTime;
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  ) throws IOException
  {
    List<IntIterable> convertedInvertedIndexesToMerge = Lists.newArrayListWithCapacity(adapters.size());
    for (int j = 0; j < adapters.size(); ++j) {
      int seekedDictId = dictIdSeeker[j].seek(dictId);
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
    }

    bitmapWriter.write(bmpFactory.makeImmutableBitmap(mergedIndexes));

    return mergedIndexes;
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  )
  {
    IntBuffer converter = dimConversions.get(segmentIndex);
    if (converter == null) {
      return source;
```

### DataFlowIssue
Argument `adapters` might be null
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
    }

    IndexSeeker[] dictIdSeeker = toIndexSeekers(adapters, dimConversions, dimensionName);

    //Iterate all dim values's dictionary id in ascending order which in line with dim values's compare result.
```

### DataFlowIssue
Argument `dimConversions` might be null
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
    }

    IndexSeeker[] dictIdSeeker = toIndexSeekers(adapters, dimConversions, dimensionName);

    //Iterate all dim values's dictionary id in ascending order which in line with dim values's compare result.
```

### DataFlowIssue
Method invocation `addValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
    } else {
      int value = row.size() == 0 ? 0 : row.get(0);
      ((SingleValueColumnarIntsSerializer) encodedValueSerializer).addValue(value);
    }
    rowCount++;
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryEncodedColumnMerger.java`
#### Snippet
```java
  {
    for (T value : dictionaryValues) {
      dictionaryWriter.write(value);
      value = coerceValue(value);
      if (dictionarySize == 0) {
```

### DataFlowIssue
Method invocation `getDimensionNames` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/IndexMerger.java`
#### Snippet
```java
              public Iterable<String> apply(@Nullable IndexableAdapter input)
              {
                return input.getDimensionNames();
              }
            }
```

### DataFlowIssue
Argument `timestamps` might be null
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
      timestamps = (NumericColumn) columnCache.getColumn(ColumnHolder.TIME_COLUMN_NAME);

      startOffset = timeSearch(timestamps, interval.getStartMillis(), 0, index.getNumRows());
    } else {
      startOffset = 0;
```

### DataFlowIssue
Argument `timestamps` might be null
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
      }

      endOffset = timeSearch(timestamps, interval.getEndMillis(), startOffset, index.getNumRows());
    } else {
      endOffset = index.getNumRows();
```

### DataFlowIssue
Expression `filter` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
    this.interval = interval;
    this.virtualColumns = virtualColumns;
    this.filter = filter;
    this.metrics = metrics;
    this.minDataTimestamp = minDataTimestamp;
```

### DataFlowIssue
Expression `metrics` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
    this.virtualColumns = virtualColumns;
    this.filter = filter;
    this.metrics = metrics;
    this.minDataTimestamp = minDataTimestamp;
    this.maxDataTimestamp = maxDataTimestamp;
```

### DataFlowIssue
Method invocation `getLongSingleValueRow` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
                if (descending) {
                  for (; baseOffset.withinBounds(); baseOffset.increment()) {
                    if (timestamps.getLongSingleValueRow(baseOffset.getOffset()) < timeEnd) {
                      break;
                    }
```

### DataFlowIssue
Method invocation `getLongSingleValueRow` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
                } else {
                  for (; baseOffset.withinBounds(); baseOffset.increment()) {
                    if (timestamps.getLongSingleValueRow(baseOffset.getOffset()) >= timeStart) {
                      break;
                    }
```

### DataFlowIssue
Argument `timestamps` might be null
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
                                      new DescendingTimestampCheckingOffset(
                                          baseOffset,
                                          timestamps,
                                          timeStart,
                                          minDataTimestamp >= timeStart
```

### DataFlowIssue
Argument `timestamps` might be null
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexCursorSequenceBuilder.java`
#### Snippet
```java
                                      new AscendingTimestampCheckingOffset(
                                          baseOffset,
                                          timestamps,
                                          timeEnd,
                                          maxDataTimestamp < timeEnd
```

### DataFlowIssue
Unboxing of `bufferAllocation.rhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
    for (Pair<ByteBuffer, Integer> bufferAllocation : directBufferAllocations) {
      log.trace("Freeing dictionary merging direct buffer with size[%,d]", bufferAllocation.rhs);
      mergeBufferTotalSize += bufferAllocation.rhs;
      ByteBufferUtils.free(bufferAllocation.lhs);
    }
```

### DataFlowIssue
Argument `bufferAllocation.lhs` might be null
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
      log.trace("Freeing dictionary merging direct buffer with size[%,d]", bufferAllocation.rhs);
      mergeBufferTotalSize += bufferAllocation.rhs;
      ByteBufferUtils.free(bufferAllocation.lhs);
    }
    log.debug("Freed [%,d] bytes of dictionary merging direct buffers", mergeBufferTotalSize);
```

### DataFlowIssue
Method invocation `peek` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
    final T value = writeTranslate(smallest, counter);

    while (!pQueue.isEmpty() && Objects.equals(value, pQueue.peek().rhs.peek())) {
      writeTranslate(pQueue.remove(), counter);
    }
```

### DataFlowIssue
Unboxing of `smallest.lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
  protected T writeTranslate(Pair<Integer, PeekingIterator<T>> smallest, int counter)
  {
    final int index = smallest.lhs;
    final T value = smallest.rhs.next();

```

### DataFlowIssue
Method invocation `next` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
  {
    final int index = smallest.lhs;
    final T value = smallest.rhs.next();

    conversions[index].put(counter);
```

### DataFlowIssue
Method invocation `peek` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
  {
    return (lhs, rhs) -> {
      T left = lhs.rhs.peek();
      T right = rhs.rhs.peek();
      if (left == null) {
```

### DataFlowIssue
Method invocation `peek` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DictionaryMergingIterator.java`
#### Snippet
```java
    return (lhs, rhs) -> {
      T left = lhs.rhs.peek();
      T right = rhs.rhs.peek();
      if (left == null) {
        //noinspection VariableNotUsedInsideIf
```

### DataFlowIssue
Expression `preFilterBitmap` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/FilterAnalysis.java`
#### Snippet
```java
  )
  {
    this.preFilterBitmap = preFilterBitmap;
    this.postFilter = postFilter;
  }
```

### DataFlowIssue
Expression `postFilter` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/FilterAnalysis.java`
#### Snippet
```java
  {
    this.preFilterBitmap = preFilterBitmap;
    this.postFilter = postFilter;
  }

```

### DataFlowIssue
Expression `minValue` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/DimensionDictionary.java`
#### Snippet
```java
    lock.readLock().lock();
    try {
      return minValue;
    }
    finally {
```

### DataFlowIssue
Expression `maxValue` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/DimensionDictionary.java`
#### Snippet
```java
    lock.readLock().lock();
    try {
      return maxValue;
    }
    finally {
```

### DataFlowIssue
Argument `value` might be null
in `processing/src/main/java/org/apache/druid/segment/DimensionSelector.java`
#### Snippet
```java
      return NullDimensionSelectorHolder.NULL_DIMENSION_SELECTOR;
    } else {
      return new ConstantDimensionSelector(value);
    }
  }
```

### DataFlowIssue
Method invocation `getSortedStrings` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/NestedDataColumnMerger.java`
#### Snippet
```java
      }

      boolean allNulls = allNull(dimValues.getSortedStrings()) &&
                         allNull(dimValues.getSortedLongs()) &&
                         allNull(dimValues.getSortedDoubles());
```

### DataFlowIssue
Method invocation `getCapabilities` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexIndexableAdapter.java`
#### Snippet
```java
    final ColumnHolder columnHolder = input.getColumnHolder(metric);

    switch (columnHolder.getCapabilities().getType()) {
      case FLOAT:
        return "float";
```

### DataFlowIssue
Method invocation `makeNewSettableColumnValueSelector` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexIndexableAdapter.java`
#### Snippet
```java
      rowMetricSelectors = metricNames
          .stream()
          .map(metric -> input.getColumnHolder(metric).makeNewSettableColumnValueSelector())
          .toArray(SettableColumnValueSelector[]::new);

```

### DataFlowIssue
Method invocation `makeNewSettableColumnValueSelector` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexIndexableAdapter.java`
#### Snippet
```java
      markedMetricSelectors = metricNames
          .stream()
          .map(metric -> input.getColumnHolder(metric).makeNewSettableColumnValueSelector())
          .toArray(SettableColumnValueSelector[]::new);
      markedRowPointer = new TimeAndDimsPointer(
```

### DataFlowIssue
Expression `input.getMetadata()` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexIndexableAdapter.java`
#### Snippet
```java
    numRows = input.getNumRows();
    availableDimensions = ImmutableList.copyOf(input.getAvailableDimensions());
    this.metadata = input.getMetadata();
  }

```

### DataFlowIssue
Method invocation `getCapabilities` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/QueryableIndexIndexableAdapter.java`
#### Snippet
```java
  public ColumnCapabilities getCapabilities(String column)
  {
    return input.getColumnHolder(column).getCapabilities();
  }

```

### DataFlowIssue
@Nullable method 'convertToComparableStringArray' always returns a non-null value
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java


  @Nullable
  public static ComparableStringArray convertToComparableStringArray(Object obj)
  {
```

### DataFlowIssue
Argument `multiValueHandling` might be null
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  {
    if (capabilities == null) {
      return new StringDimensionHandler(dimensionName, multiValueHandling, true, false);
    }

```

### DataFlowIssue
@Nullable method 'convertToList' always returns a non-null value
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
  }

  @Nullable
  public static ComparableList convertToList(Object obj, ValueType elementType)
  {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
        return convertObjectToString(obj);
      case ARRAY:
        switch (type.getElementType().getType()) {
          case STRING:
            return convertToComparableStringArray(obj);
```

### DataFlowIssue
Argument `obj` might be null
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
        switch (type.getElementType().getType()) {
          case STRING:
            return convertToComparableStringArray(obj);
          case LONG:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToLong);
```

### DataFlowIssue
Argument `obj` might be null
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
            return convertToComparableStringArray(obj);
          case LONG:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToLong);
          case FLOAT:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToFloat);
```

### DataFlowIssue
Argument `obj` might be null
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToLong);
          case FLOAT:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToFloat);
          case DOUBLE:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToDouble);
```

### DataFlowIssue
Argument `obj` might be null
in `processing/src/main/java/org/apache/druid/segment/DimensionHandlerUtils.java`
#### Snippet
```java
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToFloat);
          case DOUBLE:
            return convertToListWithObjectFunction(obj, DimensionHandlerUtils::convertObjectToDouble);
        }

```

### DataFlowIssue
Method invocation `next` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/RowWalker.java`
#### Snippet
```java
      throw new ISE("cannot call advance when isDone == true");
    } else {
      rowYielder = rowYielder.next(null);
    }
  }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/RowWalker.java`
#### Snippet
```java
  {
    while (!isDone() && (descending
                         ? timestamp.isBefore(timestampFunction.applyAsLong(rowYielder.get()))
                         : timestamp.isAfter(timestampFunction.applyAsLong(rowYielder.get())))) {
      advance();
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/RowWalker.java`
#### Snippet
```java
    while (!isDone() && (descending
                         ? timestamp.isBefore(timestampFunction.applyAsLong(rowYielder.get()))
                         : timestamp.isAfter(timestampFunction.applyAsLong(rowYielder.get())))) {
      advance();
    }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/RowWalker.java`
#### Snippet
```java
    }

    return rowYielder.get();
  }

```

### DataFlowIssue
Method invocation `lookupId` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
          public ValueMatcher makeValueMatcher(@Nullable String value)
          {
            final int idForLookup = idLookup().lookupId(value);
            if (idForLookup < 0) {
              return new ValueMatcher()
```

### DataFlowIssue
Method invocation `isArray` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
        // this should strip down to the base type of the array
        final ColumnCapabilities capabilities = baseColumnSelectorFactory.getColumnCapabilities(columnName);
        if (capabilities.isArray()) {
          return ColumnCapabilitiesImpl.copyOf(capabilities).setType(capabilities.getElementType());
        }
```

### DataFlowIssue
Argument `capabilities.getElementType()` might be null
in `processing/src/main/java/org/apache/druid/segment/UnnestDimensionCursor.java`
#### Snippet
```java
        final ColumnCapabilities capabilities = baseColumnSelectorFactory.getColumnCapabilities(columnName);
        if (capabilities.isArray()) {
          return ColumnCapabilitiesImpl.copyOf(capabilities).setType(capabilities.getElementType());
        }
        if (capabilities.hasMultipleValues().isTrue()) {
```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
      for (String metric : index.getAvailableMetrics()) {
        final MetricHolder metricHolder = index.getMetricHolder(metric);
        if (metricHolder.getType() == MetricHolder.MetricType.FLOAT) {
          ColumnBuilder builder = new ColumnBuilder()
              .setType(ValueType.FLOAT)
```

### DataFlowIssue
Argument `metricHolder.floatType` might be null
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
              .setNumericColumnSupplier(
                  new FloatNumericColumnSupplier(
                      metricHolder.floatType,
                      LEGACY_FACTORY.getBitmapFactory().makeEmptyImmutableBitmap()
                  )
```

### DataFlowIssue
Argument `metricHolder.complexType` might be null
in `processing/src/main/java/org/apache/druid/segment/IndexIO.java`
#### Snippet
```java
              .setType(ValueType.COMPLEX)
              .setComplexColumnSupplier(
                  new ComplexColumnPartSupplier(metricHolder.getTypeName(), metricHolder.complexType)
              );
          columns.put(metric, getColumnHolderSupplier(builder, lazy));
```

### DataFlowIssue
Method invocation `isArray` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
        }
        final ColumnCapabilities capabilities = baseColumnSelectorFactory.getColumnCapabilities(columnName);
        if (capabilities.isArray()) {
          return ColumnCapabilitiesImpl.copyOf(capabilities).setType(capabilities.getElementType());
        }
```

### DataFlowIssue
Argument `capabilities.getElementType()` might be null
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
        final ColumnCapabilities capabilities = baseColumnSelectorFactory.getColumnCapabilities(columnName);
        if (capabilities.isArray()) {
          return ColumnCapabilitiesImpl.copyOf(capabilities).setType(capabilities.getElementType());
        }
        if (capabilities.hasMultipleValues().isTrue()) {
```

### DataFlowIssue
Expression `this.columnValueSelector.getObject()` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/UnnestColumnValueSelectorCursor.java`
#### Snippet
```java
  private void getNextRow(boolean firstRun)
  {
    currentVal = this.columnValueSelector.getObject();
    if (currentVal == null) {
      if (!firstRun) {
```

### DataFlowIssue
Expression `minValue` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java
  public T getMinValue()
  {
    return minValue;
  }

```

### DataFlowIssue
Expression `maxValue` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/ComparatorDimensionDictionary.java`
#### Snippet
```java
  public T getMaxValue()
  {
    return maxValue;
  }

```

### DataFlowIssue
Variable is already assigned to this value
in `processing/src/main/java/org/apache/druid/segment/Metadata.java`
#### Snippet
```java
          break;
        } else {
          rollup = r;
        }
      }
```

### DataFlowIssue
Variable is already assigned to this value
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
          if (hasMultipleValues) {
            row = IntArrays.EMPTY_ARRAY;
            rowSize = 0;
          } else {
            final int nullId = getEncodedValue(null, false);
```

### DataFlowIssue
Variable is already assigned to this value
in `processing/src/main/java/org/apache/druid/segment/StringDimensionIndexer.java`
#### Snippet
```java
              // Choose to use ArrayBasedIndexedInts later, instead of special "empty" IndexedInts, for monomorphism
              row = IntArrays.EMPTY_ARRAY;
              rowSize = 0;
            }
          }
```

### DataFlowIssue
Method invocation `getCapabilities` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/SimpleQueryableIndex.java`
#### Snippet
```java
    for (String dim : availableDimensions) {
      final ColumnHolder columnHolder = getColumnHolder(dim);
      ColumnCapabilities capabilities = columnHolder.getCapabilities();
      DimensionHandler handler = DimensionHandlerUtils.getHandlerFromCapabilities(dim, capabilities, null);
      dimensionHandlerMap.put(dim, handler);
```

### DataFlowIssue
Method invocation `add` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/IntermediateColumnarLongsSerializer.java`
#### Snippet
```java
      throw new IllegalStateException("written out already");
    }
    tempOut.add(value);
    ++numInserted;
    if (numInserted < 0) {
```

### DataFlowIssue
Method invocation `getSerializedSize` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/IntermediateColumnarLongsSerializer.java`
#### Snippet
```java
  {
    makeDelegate();
    return delegate.getSerializedSize();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/IntermediateColumnarLongsSerializer.java`
#### Snippet
```java

    delegate.open();
    for (int i = 0; i < tempOut.size(); i++) {
      delegate.add(tempOut.getLong(i));
    }
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/IntermediateColumnarLongsSerializer.java`
#### Snippet
```java
  {
    makeDelegate();
    delegate.writeTo(channel, smoosher);
  }
}
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java
    }
    helperBuffer.putInt(0, val);
    valuesOut.write(helperBuffer.array(), Integer.BYTES - numBytes, numBytes);
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java
      .firstWriteByte((VSizeColumnarIntsSerializer x) -> VERSION)
      .writeByte(x -> ByteUtils.checkedCast(x.numBytes))
      .writeInt(x -> Ints.checkedCast(x.valuesOut.size()));

  private final SegmentWriteOutMedium segmentWriteOutMedium;
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java
    writeBufPadding();
    META_SERDE_HELPER.writeTo(channel, this);
    valuesOut.writeTo(channel);
  }

```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java
    if (!bufPaddingWritten) {
      byte[] bufPadding = new byte[Integer.BYTES - numBytes];
      valuesOut.write(bufPadding);
      bufPaddingWritten = true;
    }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarIntsSerializer.java`
#### Snippet
```java
  {
    writeBufPadding();
    return META_SERDE_HELPER.size(this) + valuesOut.size();
  }

```

### DataFlowIssue
Unboxing of `eldest.getValue().lhs` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CachingIndexed.java`
#### Snippet
```java
    {
      if (numBytes > maxBytes) {
        numBytes -= eldest.getValue().lhs;
        return true;
      }
```

### DataFlowIssue
`null` is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexed.java`
#### Snippet
```java
        if (hasNull && currIndex == 0) {
          currIndex++;
          return null;
        }
        if (!hasNext()) {
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
    if (!numBytesForMaxWritten) {
      final byte numBytesForMax = VSizeColumnarInts.getNumBytesForMax(maxId);
      valuesOut.write(new byte[4 - numBytesForMax]);
      numBytesForMaxWritten = true;
    }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
      .firstWriteByte((VSizeColumnarMultiIntsSerializer x) -> VERSION)
      .writeByte(x -> VSizeColumnarInts.getNumBytesForMax(x.maxId))
      .writeInt(x -> Ints.checkedCast(x.headerOut.size() + x.valuesOut.size() + Integer.BYTES))
      .writeInt(x -> x.numWritten);

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
      .firstWriteByte((VSizeColumnarMultiIntsSerializer x) -> VERSION)
      .writeByte(x -> VSizeColumnarInts.getNumBytesForMax(x.maxId))
      .writeInt(x -> Ints.checkedCast(x.headerOut.size() + x.valuesOut.size() + Integer.BYTES))
      .writeInt(x -> x.numWritten);

```

### DataFlowIssue
Argument `valuesOut` might be null
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
      int value = ints.get(i);
      Preconditions.checkState(value >= 0 && value <= maxId);
      writeInt.write(valuesOut, value);
    }
    headerOut.writeInt(Ints.checkedCast(valuesOut.size()));
```

### DataFlowIssue
Method invocation `writeInt` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
      writeInt.write(valuesOut, value);
    }
    headerOut.writeInt(Ints.checkedCast(valuesOut.size()));

    ++numWritten;
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
      writeInt.write(valuesOut, value);
    }
    headerOut.writeInt(Ints.checkedCast(valuesOut.size()));

    ++numWritten;
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  {
    writeNumBytesForMax();
    return META_SERDE_HELPER.size(this) + headerOut.size() + valuesOut.size();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
  {
    writeNumBytesForMax();
    return META_SERDE_HELPER.size(this) + headerOut.size() + valuesOut.size();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
    writeNumBytesForMax();

    final long numBytesWritten = headerOut.size() + valuesOut.size();

    Preconditions.checkState(
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiIntsSerializer.java`
#### Snippet
```java
    writeNumBytesForMax();

    final long numBytesWritten = headerOut.size() + valuesOut.size();

    Preconditions.checkState(
```

### DataFlowIssue
`null` is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableMemory.java`
#### Snippet
```java
  public Object getArray()
  {
    return null;
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarLongsSupplier.java`
#### Snippet
```java

            final int bufferIndex = index & rem;
            return longBuffer.get(bufferIndex);
          }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarLongsSupplier.java`
#### Snippet
```java
      }
      holder = singleThreadedLongBuffers.get(bufferNum);
      buffer = holder.get();
      currBufferNum = bufferNum;
      reader.setBuffer(buffer);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarLongsSupplier.java`
#### Snippet
```java
            }
            holder = singleThreadedLongBuffers.get(bufferNum);
            buffer = holder.get();
            // asLongBuffer() makes the longBuffer's position = 0
            longBuffer = buffer.asLongBuffer();
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
  public long getSerializedSize()
  {
    return Byte.BYTES + Byte.BYTES + Integer.BYTES + valuesOut.size();
  }

```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
    scratch.flip();
    Channels.writeFully(channel, scratch);
    valuesOut.writeTo(channel);
  }

```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
            int size = (numWritten - pos) * Integer.BYTES;
            iteratorBuffer.limit(size);
            valuesOut.readFully((long) pos * Integer.BYTES, iteratorBuffer);
          } else {
            valuesOut.readFully((long) pos * Integer.BYTES, iteratorBuffer);
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedIntWriter.java`
#### Snippet
```java
            valuesOut.readFully((long) pos * Integer.BYTES, iteratorBuffer);
          } else {
            valuesOut.readFully((long) pos * Integer.BYTES, iteratorBuffer);
          }
          iteratorBuffer.flip();
```

### DataFlowIssue
Expression `get(index)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/VSizeColumnarMultiInts.java`
#### Snippet
```java
  public IndexedInts getUnshared(final int index)
  {
    return get(index);
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  public void write(T objectToWrite) throws IOException
  {
    long sizeBefore = valueOut.size();
    strategy.writeTo(objectToWrite, valueOut);
    headerOut.writeInt(Ints.checkedCast(valueOut.size() - sizeBefore));
```

### DataFlowIssue
Method invocation `writeInt` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
    long sizeBefore = valueOut.size();
    strategy.writeTo(objectToWrite, valueOut);
    headerOut.writeInt(Ints.checkedCast(valueOut.size() - sizeBefore));
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  public void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException
  {
    final long numBytesWritten = headerOut.size() + valueOut.size();
    Preconditions.checkState(
        numBytesWritten < Integer.MAX_VALUE, "Wrote[%s] bytes, which is too many.", numBytesWritten
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  public void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException
  {
    final long numBytesWritten = headerOut.size() + valueOut.size();
    Preconditions.checkState(
        numBytesWritten < Integer.MAX_VALUE, "Wrote[%s] bytes, which is too many.", numBytesWritten
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  public long getSerializedSize()
  {
    return headerOut.size() + valueOut.size();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/ByteBufferWriter.java`
#### Snippet
```java
  public long getSerializedSize()
  {
    return headerOut.size() + valueOut.size();
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarFloatsSupplier.java`
#### Snippet
```java
      }

      return floatBuffer.get(bufferIndex);
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarFloatsSupplier.java`
#### Snippet
```java
      holder = singleThreadedFloatBuffers.get(bufferNum);
      // asFloatBuffer() makes the floatBuffer's position = 0
      floatBuffer = holder.get().asFloatBuffer();
      currBufferNum = bufferNum;
    }
```

### DataFlowIssue
Method invocation `position` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarFloatsSupplier.java`
#### Snippet
```java

        final int limit = Math.min(length - p, sizePer - bufferIndex);
        final int oldPosition = floatBuffer.position();
        try {
          floatBuffer.position(bufferIndex);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarFloatsSupplier.java`
#### Snippet
```java
          }

          out[i] = floatBuffer.get(index);
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarFloatsSupplier.java`
#### Snippet
```java

          final int bufferIndex = index & rem;
          return floatBuffer.get(bufferIndex);
        }
      };
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
    int startOffset = index * width;
    readBuffer.clear();
    valuesOut.readFully(startOffset, readBuffer);
    readBuffer.clear();
    return typeStrategy.read(readBuffer);
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
    scratch.flip();
    Channels.writeFully(channel, scratch);
    valuesOut.writeTo(channel);
  }

```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
            int size = (totalCount - pos) * width;
            iteratorBuffer.limit(size);
            valuesOut.readFully((long) pos * width, iteratorBuffer);
          } else {
            valuesOut.readFully((long) pos * width, iteratorBuffer);
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
            valuesOut.readFully((long) pos * width, iteratorBuffer);
          } else {
            valuesOut.readFully((long) pos * width, iteratorBuffer);
          }
          iteratorBuffer.flip();
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
  public long getSerializedSize()
  {
    return Byte.BYTES + Byte.BYTES + Integer.BYTES + valuesOut.size();
  }

```

### DataFlowIssue
`null` is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/FixedIndexedWriter.java`
#### Snippet
```java
        if (pos == 0 && hasNulls) {
          pos++;
          return null;
        }
        if (pos == startPos || iteratorBuffer.position() >= iteratorBuffer.limit()) {
```

### DataFlowIssue
`null` is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/SafeWritableBuffer.java`
#### Snippet
```java
  public Object getArray()
  {
    return null;
  }

```

### DataFlowIssue
Expression `indexed.get(currIndex++)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/IndexedIterable.java`
#### Snippet
```java
          throw new NoSuchElementException();
        }
        return indexed.get(currIndex++);
      }

```

### DataFlowIssue
Expression `fromByteBuffer(bufferToUse, size)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/data/ObjectStrategy.java`
#### Snippet
```java
    buffer.position(bufferToUse.limit());

    return fromByteBuffer(bufferToUse, size);
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
      resetScratch();
      // write end offset for current value
      scratch.putInt((int) valuesOut.size());
      scratch.flip();
      Channels.writeFully(headerOut, scratch);
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
    scratch.put(hasNulls ? NullHandling.IS_NULL_BYTE : NullHandling.IS_NOT_NULL_BYTE);
    VByte.writeInt(scratch, numWritten);
    VByte.writeInt(scratch, Ints.checkedCast(headerOut.size() + valuesOut.size()));
    scratch.flip();
    Channels.writeFully(channel, scratch);
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
    scratch.put(hasNulls ? NullHandling.IS_NULL_BYTE : NullHandling.IS_NOT_NULL_BYTE);
    VByte.writeInt(scratch, numWritten);
    VByte.writeInt(scratch, Ints.checkedCast(headerOut.size() + valuesOut.size()));
    scratch.flip();
    Channels.writeFully(channel, scratch);
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
      flush();
    }
    int headerAndValues = Ints.checkedCast(headerOut.size() + valuesOut.size());
    return Byte.BYTES +
           Byte.BYTES +
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
      flush();
    }
    int headerAndValues = Ints.checkedCast(headerOut.size() + valuesOut.size());
    return Byte.BYTES +
           Byte.BYTES +
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
  {
    getOffsetBuffer.clear();
    headerOut.readFully(index * (long) Integer.BYTES, getOffsetBuffer);
    return getOffsetBuffer.getInt(0);
  }
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/FrontCodedIndexedWriter.java`
#### Snippet
```java
      }
      final ByteBuffer bucketBuffer = ByteBuffer.allocate(bucketSize).order(byteOrder);
      valuesOut.readFully(startOffset, bucketBuffer);
      bucketBuffer.clear();
      final ByteBuffer valueBuffer = FrontCodedIndexed.getFromBucket(bucketBuffer, relativeIndex);
```

### DataFlowIssue
Expression `singleThreadedIntBuffers.get(bufferNum)` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java
        holder.close();
      }
      holder = singleThreadedIntBuffers.get(bufferNum);
      // asIntBuffer() makes the buffer's position = 0
      buffer = holder.get().asIntBuffer();
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedColumnarIntsSupplier.java`
#### Snippet
```java
      holder = singleThreadedIntBuffers.get(bufferNum);
      // asIntBuffer() makes the buffer's position = 0
      buffer = holder.get().asIntBuffer();
      currBufferNum = bufferNum;
    }
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
    writeEndBuffer();
    META_SERDE_HELPER.writeTo(channel, this);
    headerOut.writeTo(channel);
    valuesOut.writeTo(channel);
  }
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
    META_SERDE_HELPER.writeTo(channel, this);
    headerOut.writeTo(channel);
    valuesOut.writeTo(channel);
  }

```

### DataFlowIssue
Method invocation `rewind` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
  private void flushBuffer() throws IOException
  {
    uncompressedDataBuffer.rewind();
    compressedDataBuffer.clear();

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
  {
    writeEndBuffer();
    return META_SERDE_HELPER.size(this) + headerOut.size() + valuesOut.size();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
  {
    writeEndBuffer();
    return META_SERDE_HELPER.size(this) + headerOut.size() + valuesOut.size();
  }

```

### DataFlowIssue
Method invocation `hasRemaining` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedBlockSerializer.java`
#### Snippet
```java
  private void flushIfNeeded() throws IOException
  {
    if (!uncompressedDataBuffer.hasRemaining()) {
      flushBuffer();
    }
```

### DataFlowIssue
Method invocation `position` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarDoublesSupplier.java`
#### Snippet
```java

        final int limit = Math.min(length - p, sizePer - bufferIndex);
        final int oldPosition = doubleBuffer.position();
        try {
          doubleBuffer.position(bufferIndex);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarDoublesSupplier.java`
#### Snippet
```java
      }

      return doubleBuffer.get(bufferIndex);
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarDoublesSupplier.java`
#### Snippet
```java
          }

          out[i] = doubleBuffer.get(index);
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarDoublesSupplier.java`
#### Snippet
```java
      holder = singleThreadedDoubleBuffers.get(bufferNum);
      // asDoubleBuffer() makes the doubleBuffer's position = 0
      doubleBuffer = holder.get().asDoubleBuffer();
      currBufferNum = bufferNum;
    }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/BlockLayoutColumnarDoublesSupplier.java`
#### Snippet
```java

          final int bufferIndex = index & rem;
          return doubleBuffer.get(bufferIndex);
        }
      };
```

### DataFlowIssue
Method invocation `getLong` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
          relativeRefBytes = currentNumBytes;
        }
        currentNumBytes = headerOutLong.getLong(pos);
        relativeNumBytes = currentNumBytes - relativeRefBytes;
        helperBuffer.putInt(0, checkedCastNonnegativeLongToInt(relativeNumBytes));
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
          x -> x.objectsSorted ? GenericIndexed.REVERSE_LOOKUP_ALLOWED : GenericIndexed.REVERSE_LOOKUP_DISALLOWED
      )
      .writeInt(x -> Ints.checkedCast(x.headerOut.size() + x.valuesOut.size() + Integer.BYTES))
      .writeInt(x -> x.numWritten);

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
          x -> x.objectsSorted ? GenericIndexed.REVERSE_LOOKUP_ALLOWED : GenericIndexed.REVERSE_LOOKUP_DISALLOWED
      )
      .writeInt(x -> Ints.checkedCast(x.headerOut.size() + x.valuesOut.size() + Integer.BYTES))
      .writeInt(x -> x.numWritten);

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private void writeToSingleFile(WritableByteChannel channel) throws IOException
  {
    final long numBytesWritten = headerOut.size() + valuesOut.size();

    Preconditions.checkState(
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private void writeToSingleFile(WritableByteChannel channel) throws IOException
  {
    final long numBytesWritten = headerOut.size() + valuesOut.size();

    Preconditions.checkState(
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
    long lastValueOffset = 0;
    long currentValueOffset = 0;
    long valueBytesWritten = valuesOut.size();
    long headerIndex = 0;
    long bagSize = 1L << powerTwo;
```

### DataFlowIssue
Method invocation `getLong` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
        return true;
      } else if (headerIndex + bagSize <= numWritten) {
        currentValueOffset = headerOutLong.getLong(checkedCastNonnegativeLongToInt(headerIndex + bagSize - 1));
      } else if (numWritten < headerIndex + bagSize) {
        currentValueOffset = headerOutLong.getLong(numWritten - 1);
```

### DataFlowIssue
Method invocation `getLong` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
        currentValueOffset = headerOutLong.getLong(checkedCastNonnegativeLongToInt(headerIndex + bagSize - 1));
      } else if (numWritten < headerIndex + bagSize) {
        currentValueOffset = headerOutLong.getLong(numWritten - 1);
      }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  private int bagSizePower()
  {
    long avgObjectSize = (valuesOut.size() + numWritten - 1) / numWritten;

    for (int i = 31; i >= 0; --i) {
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  {
    Preconditions.checkState(
        headerOutLong.size() == numWritten,
        "numWritten[%s] number of rows doesn't match headerOutLong's size[%s]",
        numWritten,
```

### DataFlowIssue
Method invocation `asInputStream` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
    byte[] buffer = new byte[1 << 16];

    try (InputStream is = valuesOut.asInputStream()) {
      int counter = -1;
      for (int i = 0; i < numberOfFilesRequired; i++) {
```

### DataFlowIssue
Method invocation `writeInt` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
    // for compatibility with the format (see GenericIndexed javadoc for description of the format),
    // this field is used to store nullness marker, but in a better format this info can take 1 bit.
    valuesOut.writeInt(objectToWrite == null ? GenericIndexed.NULL_VALUE_SIZE_MARKER : 0);
    if (objectToWrite != null) {
      strategy.writeTo(objectToWrite, valuesOut);
```

### DataFlowIssue
Method invocation `writeInt` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java

    if (!requireMultipleFiles) {
      headerOut.writeInt(checkedCastNonnegativeLongToInt(valuesOut.size()));

      // Check _again_ if we need to switch to multi-file mode. (We might need to after updating the header.)
```

### DataFlowIssue
Method invocation `add` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
      }
    } else {
      headerOutLong.add(valuesOut.size());
    }

```

### DataFlowIssue
Argument `smoosher` might be null
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  {
    if (requireMultipleFiles) {
      writeToMultiFiles(channel, smoosher);
    } else {
      writeToSingleFile(channel);
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
    }
    ByteBuffer bb = ByteBuffer.allocate(valueSize);
    valuesOut.readFully(startOffset, bb);
    bb.clear();
    return strategy.fromByteBuffer(bb, valueSize);
```

### DataFlowIssue
Method invocation `asInputStream` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
  {
    headerOutLong = new LongArrayList();
    try (final DataInputStream headerOutAsIntInput = new DataInputStream(headerOut.asInputStream())) {
      for (int i = 0; i < numWritten; i++) {
        int count = headerOutAsIntInput.readInt();
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
      return MULTI_FILE_META_SERDE_HELPER.size(this);
    } else {
      return SINGLE_FILE_META_SERDE_HELPER.size(this) + headerOut.size() + valuesOut.size();
    }
  }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
      return MULTI_FILE_META_SERDE_HELPER.size(this);
    } else {
      return SINGLE_FILE_META_SERDE_HELPER.size(this) + headerOut.size() + valuesOut.size();
    }
  }
```

### DataFlowIssue
Method invocation `readFully` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
    if (!requireMultipleFiles) {
      getOffsetBuffer.clear();
      headerOut.readFully(index * (long) Integer.BYTES, getOffsetBuffer);
      return getOffsetBuffer.getInt(0);
    } else {
```

### DataFlowIssue
Method invocation `getLong` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexedWriter.java`
#### Snippet
```java
      return getOffsetBuffer.getInt(0);
    } else {
      return headerOutLong.getLong(index);
    }
  }
```

### DataFlowIssue
Expression `singleThreadedBuffers.get(bufferNum)` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java
        holder.close();
      }
      holder = singleThreadedBuffers.get(bufferNum);
      ByteBuffer bb = holder.get();
      ByteOrder byteOrder = bb.order();
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/CompressedVSizeColumnarIntsSupplier.java`
#### Snippet
```java
      }
      holder = singleThreadedBuffers.get(bufferNum);
      ByteBuffer bb = holder.get();
      ByteOrder byteOrder = bb.order();
      // slice() makes the buffer's position = 0
```

### DataFlowIssue
Method invocation `asReadOnlyBuffer` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexed.java`
#### Snippet
```java
  {
    META_SERDE_HELPER.writeTo(channel, this);
    Channels.writeFully(channel, theBuffer.asReadOnlyBuffer());
  }

```

### DataFlowIssue
Method invocation `remaining` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexed.java`
#### Snippet
```java
      .firstWriteByte((GenericIndexed x) -> VERSION_ONE)
      .writeByte(x -> x.allowReverseLookup ? REVERSE_LOOKUP_ALLOWED : REVERSE_LOOKUP_DISALLOWED)
      .writeInt(x -> Ints.checkedCast(x.theBuffer.remaining() + (long) Integer.BYTES))
      .writeInt(x -> x.size);

```

### DataFlowIssue
Method invocation `remaining` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/data/GenericIndexed.java`
#### Snippet
```java
  private long getSerializedSizeVersionOne()
  {
    return META_SERDE_HELPER.size(this) + (long) theBuffer.remaining();
  }

```

### DataFlowIssue
Method invocation `getColumn` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java
    }
    final SimpleAscendingOffset offset = new SimpleAscendingOffset(adapter.getNumRows());
    final BaseColumn baseColumn = queryableIndex.getColumnHolder(rowSignature.getColumnName(column)).getColumn();
    final BaseObjectColumnValueSelector<?> selector = baseColumn.makeColumnValueSelector(offset);

```

### DataFlowIssue
Method invocation `toColumnType` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java
    sigBuilder.add(ColumnHolder.TIME_COLUMN_NAME, ColumnType.LONG);
    for (String column : queryableIndex.getColumnNames()) {
      sigBuilder.add(column, adapter.getColumnCapabilities(column).toColumnType());
    }
    this.rowSignature = sigBuilder.build();
```

### DataFlowIssue
Method invocation `hasMultipleValues` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/join/table/BroadcastSegmentIndexedTable.java`
#### Snippet
```java
              .map(columnName -> {
                // multi-value dimensions are not currently supported
                if (adapter.getColumnCapabilities(columnName).hasMultipleValues().isMaybeTrue()) {
                  return NilColumnValueSelector.instance();
                }
```

### DataFlowIssue
Argument `pair.lhs` might be null
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
      this.conditionMatchers =
          indexes.stream()
                 .map(pair -> makeConditionMatcher(pair.lhs, leftSelectorFactory, pair.rhs))
                 .collect(Collectors.toList());

```

### DataFlowIssue
Argument `pair.rhs` might be null
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
      this.conditionMatchers =
          indexes.stream()
                 .map(pair -> makeConditionMatcher(pair.lhs, leftSelectorFactory, pair.rhs))
                 .collect(Collectors.toList());

```

### DataFlowIssue
Method invocation `areKeysUnique` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/join/table/IndexedTableJoinMatcher.java`
#### Snippet
```java
                 .collect(Collectors.toList());

      this.singleRowMatching = indexes.stream().allMatch(pair -> pair.lhs.areKeysUnique());
    } else {
      throw new IAE(
```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerde.java`
#### Snippet
```java
    public LongNumericColumnPartSerde build()
    {
      return new LongNumericColumnPartSerde(byteOrder, delegate);
    }
  }
```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerde.java`
#### Snippet
```java
    public FloatNumericColumnPartSerde build()
    {
      return new FloatNumericColumnPartSerde(byteOrder, delegate);
    }
  }
```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerde.java`
#### Snippet
```java
    public DoubleNumericColumnPartSerde build()
    {
      return new DoubleNumericColumnPartSerde(byteOrder, delegate);
    }
  }
```

### DataFlowIssue
Argument `typeName` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java`
#### Snippet
```java
    public ComplexColumnPartSerde build()
    {
      return new ComplexColumnPartSerde(typeName, delegate);
    }
  }
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
        public void writeTo(WritableByteChannel channel, FileSmoosher fileSmoosher) throws IOException
        {
          delegate.writeTo(channel, fileSmoosher);
        }
      };
```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
        }
      };
      return new DoubleNumericColumnPartSerdeV2(byteOrder, bitmapSerdeFactory, serializer);
    }
  }
```

### DataFlowIssue
Argument `bitmapSerdeFactory` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
        }
      };
      return new DoubleNumericColumnPartSerdeV2(byteOrder, bitmapSerdeFactory, serializer);
    }
  }
```

### DataFlowIssue
Method invocation `getSerializedSize` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/DoubleNumericColumnPartSerdeV2.java`
#### Snippet
```java
        public long getSerializedSize() throws IOException
        {
          return delegate.getSerializedSize();
        }

```

### DataFlowIssue
Argument `bitmaps.get(0)` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedStringIndexSupplier.java`
#### Snippet
```java
        final BitmapColumnIndex nullIndex;
        if (NullHandling.isNullOrEquivalent(dictionary.get(0))) {
          nullIndex = new SimpleImmutableBitmapIndex(bitmaps.get(0));
        } else {
          nullIndex = new SimpleImmutableBitmapIndex(bitmapFactory.makeEmptyImmutableBitmap());
```

### DataFlowIssue
Expression `getObjectStrategy().fromByteBuffer(bb, numBytes)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/serde/ComplexMetricSerde.java`
#### Snippet
```java
      bb.position(start);
    }
    return getObjectStrategy().fromByteBuffer(bb, numBytes);
  }

```

### DataFlowIssue
Argument `bitmaps.get(0)` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/StringFrontCodedColumnIndexSupplier.java`
#### Snippet
```java
        final StringEncodingStrategies.Utf8ToStringIndexed stringDictionary = dictionary.get();
        if (NullHandling.isNullOrEquivalent(stringDictionary.get(0))) {
          nullIndex = new SimpleImmutableBitmapIndex(bitmaps.get(0));
        } else {
          nullIndex = new SimpleImmutableBitmapIndex(bitmapFactory.makeEmptyImmutableBitmap());
```

### DataFlowIssue
Method invocation `lookupId` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/NullColumnPartSerde.java`
#### Snippet
```java
    public int lookupId(String name)
    {
      return nullDimensionSelector.idLookup().lookupId(name);
    }

```

### DataFlowIssue
Expression `bitmapSerdeFactory` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
  public BitmapSerdeFactory getBitmapSerdeFactory()
  {
    return bitmapSerdeFactory;
  }

```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
        public void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException
        {
          delegate.writeTo(channel, smoosher);
        }
      };
```

### DataFlowIssue
Expression `byteOrder` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
  public ByteOrder getByteOrder()
  {
    return byteOrder;
  }

```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
      final CompressedColumnarLongsSupplier column = CompressedColumnarLongsSupplier.fromByteBuffer(
          buffer,
          byteOrder
      );
      buffer.position(initialPos + offset);
```

### DataFlowIssue
Method invocation `getObjectStrategy` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
      final boolean hasNulls;
      if (buffer.hasRemaining()) {
        bitmap = bitmapSerdeFactory.getObjectStrategy().fromByteBufferWithSize(buffer);
        hasNulls = !bitmap.isEmpty();
      } else {
```

### DataFlowIssue
Method invocation `getBitmapFactory` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
        hasNulls = !bitmap.isEmpty();
      } else {
        bitmap = bitmapSerdeFactory.getBitmapFactory().makeEmptyImmutableBitmap();
        hasNulls = false;
      }
```

### DataFlowIssue
Method invocation `getSerializedSize` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/LongNumericColumnPartSerdeV2.java`
#### Snippet
```java
        public long getSerializedSize() throws IOException
        {
          return delegate.getSerializedSize();
        }

```

### DataFlowIssue
Method invocation `getSerializedSize` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
        public long getSerializedSize() throws IOException
        {
          return delegate.getSerializedSize();
        }

```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
        }
      };
      return new FloatNumericColumnPartSerdeV2(byteOrder, bitmapSerdeFactory, serializer);
    }
  }
```

### DataFlowIssue
Argument `bitmapSerdeFactory` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
        }
      };
      return new FloatNumericColumnPartSerdeV2(byteOrder, bitmapSerdeFactory, serializer);
    }
  }
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/FloatNumericColumnPartSerdeV2.java`
#### Snippet
```java
        public void writeTo(WritableByteChannel channel, FileSmoosher fileSmoosher) throws IOException
        {
          delegate.writeTo(channel, fileSmoosher);
        }
      };
```

### DataFlowIssue
Expression `serializer` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    this.byteOrder = byteOrder;
    this.bitmapSerdeFactory = bitmapSerdeFactory;
    this.serializer = serializer;
  }

```

### DataFlowIssue
Method invocation `compareTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
            {
              long size = 1 + // version
                          (version.compareTo(VERSION.COMPRESSED) >= 0
                           ? Integer.BYTES
                           : 0); // flag if version >= compressed
```

### DataFlowIssue
Method invocation `asByte` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
            public void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException
            {
              Channels.writeFully(channel, ByteBuffer.wrap(new byte[]{version.asByte()}));
              if (version.compareTo(VERSION.COMPRESSED) >= 0) {
                channel.write(ByteBuffer.wrap(Ints.toByteArray(flags)));
```

### DataFlowIssue
Method invocation `compareTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
    public DictionaryEncodedColumnPartSerde build()
    {
      if (mustWriteFlags(flags) && version.compareTo(VERSION.COMPRESSED) < 0) {
        // Must upgrade version so we can write out flags.
        this.version = VERSION.UNCOMPRESSED_WITH_FLAGS;
```

### DataFlowIssue
Argument `byteOrder` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java

      return new DictionaryEncodedColumnPartSerde(
          byteOrder,
          bitmapSerdeFactory,
          new Serializer()
```

### DataFlowIssue
Argument `bitmapSerdeFactory` might be null
in `processing/src/main/java/org/apache/druid/segment/serde/DictionaryEncodedColumnPartSerde.java`
#### Snippet
```java
      return new DictionaryEncodedColumnPartSerde(
          byteOrder,
          bitmapSerdeFactory,
          new Serializer()
          {
```

### DataFlowIssue
Expression `objectStrategy.fromByteBuffer(dupe, complexLength)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/ObjectStrategyComplexTypeStrategy.java`
#### Snippet
```java
    dupe.order(buffer.order());
    dupe.limit(dupe.position() + complexLength);
    return objectStrategy.fromByteBuffer(dupe, complexLength);
  }

```

### DataFlowIssue
Dereference of `bytes` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/ObjectStrategyComplexTypeStrategy.java`
#### Snippet
```java
    TypeStrategies.checkMaxSize(buffer.remaining(), maxSizeBytes, typeSignature);
    byte[] bytes = objectStrategy.toBytes(value);
    final int sizeBytes = Integer.BYTES + bytes.length;
    final int remaining = maxSizeBytes - sizeBytes;
    if (remaining >= 0) {
```

### DataFlowIssue
Expression `objectStrategy.fromByteBufferSafe(ByteBuffer.wrap(value), value.length)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/ObjectStrategyComplexTypeStrategy.java`
#### Snippet
```java
  public T fromBytes(byte[] value)
  {
    return objectStrategy.fromByteBufferSafe(ByteBuffer.wrap(value), value.length);
  }
}
```

### DataFlowIssue
Expression `index.get(rowNum)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/GenericIndexedBasedComplexColumn.java`
#### Snippet
```java
  public Object getRowValue(int rowNum)
  {
    return index.get(rowNum);
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java`
#### Snippet
```java
    // Not checking for null here since columnSupplier is expected to be
    // not null for numeric columns
    try (final NumericColumn column = (NumericColumn) columnSupplier.get()) {
      return column.length();
    }
```

### DataFlowIssue
Expression `ColumnCapabilitiesImpl.snapshot(new ColumnCapabilitiesImpl(), ALL_FALSE)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/ColumnCapabilitiesImpl.java`
#### Snippet
```java
  public static ColumnCapabilitiesImpl createDefault()
  {
    return ColumnCapabilitiesImpl.snapshot(new ColumnCapabilitiesImpl(), ALL_FALSE);
  }

```

### DataFlowIssue
@Nullable method 'getObject' always returns a non-null value
in `processing/src/main/java/org/apache/druid/segment/column/ComplexColumn.java`
#### Snippet
```java
    return new ObjectColumnSelector()
    {
      @Nullable
      @Override
      public Object getObject()
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/ColumnDescriptor.java`
#### Snippet
```java
  {
    for (ColumnPartSerde part : parts) {
      part.getSerializer().writeTo(channel, smoosher);
    }
  }
```

### DataFlowIssue
Method invocation `getSerializedSize` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/ColumnDescriptor.java`
#### Snippet
```java
    long size = 0;
    for (ColumnPartSerde part : parts) {
      size += part.getSerializer().getSerializedSize();
    }
    return size;
```

### DataFlowIssue
Expression `this.fileMapper` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/ColumnBuilder.java`
#### Snippet
```java
  public SmooshedFileMapper getFileMapper()
  {
    return this.fileMapper;
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
  public int getSingleValueRow(int rowNum)
  {
    return column.get(rowNum);
  }

```

### DataFlowIssue
Argument `name` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
      public int lookupId(@Nullable String name)
      {
        return StringFrontCodedDictionaryEncodedColumn.this.lookupId(name);
      }
    }
```

### DataFlowIssue
Argument `column` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public StringVectorSelector()
        {
          super(column, offset);
        }

```

### DataFlowIssue
Argument `column` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
  public void close() throws IOException
  {
    CloseableUtils.closeAll(column, multiValueColumn);
  }
}
```

### DataFlowIssue
Argument `multiValueColumn` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public MultiStringVectorSelector()
        {
          super(multiValueColumn, offset);
        }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
  public int length()
  {
    return hasMultipleValues() ? multiValueColumn.size() : column.size();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
  public int length()
  {
    return hasMultipleValues() ? multiValueColumn.size() : column.size();
  }

```

### DataFlowIssue
Argument `name` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
      public int lookupId(@Nullable String name)
      {
        return StringFrontCodedDictionaryEncodedColumn.this.lookupId(name);
      }
    }
```

### DataFlowIssue
Argument `value` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          if (extractionFn == null) {
            final int valueId = super.lookupId(value);
            if (valueId >= 0) {
              return new ValueMatcher()
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public int getRowValue()
        {
          return column.get(offset.getOffset());
        }

```

### DataFlowIssue
Argument `column` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
      public StringVectorSelector()
      {
        super(column, offset);
      }

```

### DataFlowIssue
Argument `multiValueColumn` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
      public MultiStringVectorSelector()
      {
        super(multiValueColumn, offset);
      }

```

### DataFlowIssue
Expression `multiValueColumn.get(rowNum)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
  public IndexedInts getMultiValueRow(int rowNum)
  {
    return multiValueColumn.get(rowNum);
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
  public IndexedInts getMultiValueRow(int rowNum)
  {
    return multiValueColumn.get(rowNum);
  }

```

### DataFlowIssue
Expression `multiValueColumn.get(offset.getOffset())` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow()
        {
          return multiValueColumn.get(offset.getOffset());
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow()
        {
          return multiValueColumn.get(offset.getOffset());
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public int getRowValue(int offset)
        {
          return column.get(offset);
        }

```

### DataFlowIssue
Expression `multiValueColumn.get(offset)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow(int offset)
        {
          return multiValueColumn.get(offset);
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringFrontCodedDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow(int offset)
        {
          return multiValueColumn.get(offset);
        }

```

### DataFlowIssue
Argument `boundDimFilter.getLower()` might be null
in `processing/src/main/java/org/apache/druid/segment/filter/BoundFilter.java`
#### Snippet
```java
      final NumericRangeIndex rangeIndex = indexSupplier.as(NumericRangeIndex.class);
      if (rangeIndex != null) {
        final Number lower = boundDimFilter.hasLowerBound() ? Double.parseDouble(boundDimFilter.getLower()) : null;
        final Number upper = boundDimFilter.hasUpperBound() ? Double.parseDouble(boundDimFilter.getUpper()) : null;
        final BitmapColumnIndex rangeBitmaps = rangeIndex.forRange(
```

### DataFlowIssue
Argument `boundDimFilter.getUpper()` might be null
in `processing/src/main/java/org/apache/druid/segment/filter/BoundFilter.java`
#### Snippet
```java
      if (rangeIndex != null) {
        final Number lower = boundDimFilter.hasLowerBound() ? Double.parseDouble(boundDimFilter.getLower()) : null;
        final Number upper = boundDimFilter.hasUpperBound() ? Double.parseDouble(boundDimFilter.getUpper()) : null;
        final BitmapColumnIndex rangeBitmaps = rangeIndex.forRange(
            lower,
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
                 comprisedRows.nextCurrentlyCombinedOriginalIteratorIndex(originalIteratorIndex + 1)) {

          IntBuffer conversionBuffer = rowNumConversions.get(originalIteratorIndex);
          int minRowNum = comprisedRows.getMinCurrentlyCombinedRowNumByOriginalIteratorIndex(originalIteratorIndex);
          int maxRowNum = comprisedRows.getMaxCurrentlyCombinedRowNumByOriginalIteratorIndex(originalIteratorIndex);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
      } else if (timeAndDimsIterator instanceof MergingRowIterator) {
        RowPointer rowPointer = (RowPointer) timeAndDims;
        IntBuffer conversionBuffer = rowNumConversions.get(rowPointer.getIndexNum());
        int rowNum = rowPointer.getRowNum();
        while (conversionBuffer.position() < rowNum) {
```

### DataFlowIssue
Argument `segmentMetadata` might be null
in `processing/src/main/java/org/apache/druid/segment/IndexMergerV9.java`
#### Snippet
```java
          dimensionsSpecInspector
      );
      makeMetadataBinary(v9Smoosher, progress, segmentMetadata);

      v9Smoosher.close();
```

### DataFlowIssue
Argument `multiValueColumn` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public MultiStringVectorSelector()
        {
          super(multiValueColumn, offset);
        }

```

### DataFlowIssue
Expression `multiValueColumn.get(offset.getOffset())` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow()
        {
          return multiValueColumn.get(offset.getOffset());
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow()
        {
          return multiValueColumn.get(offset.getOffset());
        }

```

### DataFlowIssue
Expression `multiValueColumn.get(rowNum)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
  public IndexedInts getMultiValueRow(int rowNum)
  {
    return multiValueColumn.get(rowNum);
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
  public IndexedInts getMultiValueRow(int rowNum)
  {
    return multiValueColumn.get(rowNum);
  }

```

### DataFlowIssue
Argument `column` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
      public StringVectorSelector()
      {
        super(column, offset);
      }

```

### DataFlowIssue
Expression `multiValueColumn.get(offset)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow(int offset)
        {
          return multiValueColumn.get(offset);
        }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public IndexedInts getRow(int offset)
        {
          return multiValueColumn.get(offset);
        }

```

### DataFlowIssue
Argument `multiValueColumn` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
      public MultiStringVectorSelector()
      {
        super(multiValueColumn, offset);
      }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
  public int getSingleValueRow(int rowNum)
  {
    return column.get(rowNum);
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public int getRowValue(int offset)
        {
          return column.get(offset);
        }

```

### DataFlowIssue
Argument `name` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
      public int lookupId(@Nullable final String name)
      {
        return StringDictionaryEncodedColumn.this.lookupId(name);
      }
    }
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public int getRowValue()
        {
          return column.get(offset.getOffset());
        }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
  public int length()
  {
    return hasMultipleValues() ? multiValueColumn.size() : column.size();
  }

```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
  public int length()
  {
    return hasMultipleValues() ? multiValueColumn.size() : column.size();
  }

```

### DataFlowIssue
Argument `column` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        public StringVectorSelector()
        {
          super(column, offset);
        }

```

### DataFlowIssue
Argument `name` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
      public int lookupId(@Nullable final String name)
      {
        return StringDictionaryEncodedColumn.this.lookupId(name);
      }
    }
```

### DataFlowIssue
Argument `value` might be null
in `processing/src/main/java/org/apache/druid/segment/column/StringDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          if (extractionFn == null) {
            final int valueId = lookupId(value);
            if (valueId >= 0) {
              return new ValueMatcher()
```

### DataFlowIssue
Method invocation `computeBitmapResult` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/filter/Filters.java`
#### Snippet
```java
  public static ImmutableBitmap computeDefaultBitmapResults(Filter filter, ColumnIndexSelector selector)
  {
    return filter.getBitmapColumnIndex(selector).computeBitmapResult(
        new DefaultBitmapResultFactory(selector.getBitmapFactory())
    );
```

### DataFlowIssue
Method invocation `type` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/filter/ExpressionFilter.java`
#### Snippet
```java
        final ExprEval eval = selector.getObject();

        if (eval.type().isArray()) {
          switch (eval.elementType().getType()) {
            case LONG:
```

### DataFlowIssue
Method invocation `computeBitmapResult` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/filter/AndFilter.java`
#### Snippet
```java
  {
    return bitmapResultFactory.toImmutableBitmap(
        getBitmapIndex(selector, filters).computeBitmapResult(bitmapResultFactory)
    );
  }
```

### DataFlowIssue
Method invocation `write` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedLiteralTypeInfo.java`
#### Snippet
```java
    public void write(MutableTypeSet types) throws IOException
    {
      valuesOut.write(types.getByteValue());
      numWritten++;
    }
```

### DataFlowIssue
Method invocation `writeTo` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedLiteralTypeInfo.java`
#### Snippet
```java
    public void writeTo(WritableByteChannel channel, FileSmoosher smoosher) throws IOException
    {
      valuesOut.writeTo(channel);
    }
  }
```

### DataFlowIssue
@Nullable method 'lookupName' always returns a non-null value
in `processing/src/main/java/org/apache/druid/segment/vector/ConstantVectorSelectors.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public String lookupName(int id)
```

### DataFlowIssue
@Nullable method 'asQueryableIndex' always returns a non-null value
in `processing/src/main/java/org/apache/druid/segment/loading/TombstoneSegmentizerFactory.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public QueryableIndex asQueryableIndex()
```

### DataFlowIssue
Method invocation `getDataInterval` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/loading/TombstoneSegmentizerFactory.java`
#### Snippet
```java
      public Interval getDataInterval()
      {
        return asQueryableIndex().getDataInterval();
      }

```

### DataFlowIssue
Method invocation `asString` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSingleValueDimensionSelector.java`
#### Snippet
```java
    protected String getValue()
    {
      return extractionFn.apply(NullHandling.emptyToNullIfNeeded(baseSelector.getObject().asString()));
    }

```

### DataFlowIssue
Method invocation `asString` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSingleValueDimensionSelector.java`
#### Snippet
```java
  protected String getValue()
  {
    return NullHandling.emptyToNullIfNeeded(baseSelector.getObject().asString());
  }

```

### DataFlowIssue
Argument `name` might be null
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
      public int lookupId(@Nullable String name)
      {
        return NestedFieldLiteralDictionaryEncodedColumn.this.lookupId(name);
      }
    }
```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          final int localId = column.get(offset.getOffset());
          final int globalId = dictionary.get(localId);
          if (globalId == 0) {
            // zero
```

### DataFlowIssue
Method invocation `floatValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            return f == null ? 0f : f;
          } else if (globalId < adjustDoubleId) {
            return globalLongDictionary.get(globalId - adjustLongId).floatValue();
          } else {
            return globalDoubleDictionary.get(globalId - adjustDoubleId).floatValue();
```

### DataFlowIssue
Method invocation `floatValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            return globalLongDictionary.get(globalId - adjustLongId).floatValue();
          } else {
            return globalDoubleDictionary.get(globalId - adjustDoubleId).floatValue();
          }
        }
```

### DataFlowIssue
Argument `nullIterator` might be null
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            }

            nullVector = VectorSelectorUtils.populateNullVector(nullVector, offset, nullIterator);

            id = offset.getId();
```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          final int localId = column.get(offset.getOffset());
          final int globalId = dictionary.get(localId);
          if (globalId < adjustLongId) {
            return StringUtils.fromUtf8Nullable(globalDictionary.get(globalId));
```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          final int localId = column.get(offset.getOffset());
          final int globalId = dictionary.get(localId);
          if (globalId == 0) {
            // zero
```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            return d == null ? 0.0 : d;
          } else if (globalId < adjustDoubleId) {
            return globalLongDictionary.get(globalId - adjustLongId).doubleValue();
          } else {
            return globalDoubleDictionary.get(globalId - adjustDoubleId);
```

### DataFlowIssue
Unboxing of `globalDoubleDictionary.get(globalId - adjustDoubleId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            return globalLongDictionary.get(globalId - adjustLongId).doubleValue();
          } else {
            return globalDoubleDictionary.get(globalId - adjustDoubleId);
          }
        }
```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
      {
        final int localId = getRowValue();
        final int globalId = dictionary.get(localId);
        if (globalId == 0) {
          // zero
```

### DataFlowIssue
Method invocation `floatValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return f == null ? 0f : f;
        } else if (globalId < adjustDoubleId) {
          return globalLongDictionary.get(globalId - adjustLongId).floatValue();
        } else {
          return globalDoubleDictionary.get(globalId - adjustDoubleId).floatValue();
```

### DataFlowIssue
Method invocation `floatValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return globalLongDictionary.get(globalId - adjustLongId).floatValue();
        } else {
          return globalDoubleDictionary.get(globalId - adjustDoubleId).floatValue();
        }
      }
```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
        {
          final int localId = column.get(offset.getOffset());
          final int globalId = dictionary.get(localId);
          if (globalId == 0) {
            // zero
```

### DataFlowIssue
Unboxing of `globalLongDictionary.get(globalId - adjustLongId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            return l == null ? 0L : l;
          } else if (globalId < adjustDoubleId) {
            return globalLongDictionary.get(globalId - adjustLongId);
          } else {
            return globalDoubleDictionary.get(globalId - adjustDoubleId).longValue();
```

### DataFlowIssue
Method invocation `longValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            return globalLongDictionary.get(globalId - adjustLongId);
          } else {
            return globalDoubleDictionary.get(globalId - adjustDoubleId).longValue();
          }
        }
```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
      {
        final int localId = getRowValue();
        final int globalId = dictionary.get(localId);
        if (globalId == 0) {
          // zero
```

### DataFlowIssue
Unboxing of `globalLongDictionary.get(globalId - adjustLongId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return l == null ? 0L : l;
        } else if (globalId < adjustDoubleId) {
          return globalLongDictionary.get(globalId - adjustLongId);
        } else {
          return globalDoubleDictionary.get(globalId - adjustDoubleId).longValue();
```

### DataFlowIssue
Method invocation `longValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return globalLongDictionary.get(globalId - adjustLongId);
        } else {
          return globalDoubleDictionary.get(globalId - adjustDoubleId).longValue();
        }
      }
```

### DataFlowIssue
Unboxing of `dictionary.get(id)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
  public String lookupName(int id)
  {
    final int globalId = dictionary.get(id);
    if (globalId < globalDictionary.size()) {
      return StringUtils.fromUtf8Nullable(globalDictionary.get(globalId));
```

### DataFlowIssue
Argument `nullIterator` might be null
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
            }

            nullVector = VectorSelectorUtils.populateNullVector(nullVector, offset, nullIterator);

            id = offset.getId();
```

### DataFlowIssue
Unboxing of `dictionary.get(getRowValue())` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
      public boolean isNull()
      {
        return dictionary.get(getRowValue()) == 0;
      }

```

### DataFlowIssue
Unboxing of `dictionary.get(localId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
      {
        final int localId = getRowValue();
        final int globalId = dictionary.get(localId);
        if (globalId == 0) {
          // zero
```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return d == null ? 0.0 : d;
        } else if (globalId < adjustDoubleId) {
          return globalLongDictionary.get(globalId - adjustLongId).doubleValue();
        } else {
          return globalDoubleDictionary.get(globalId - adjustDoubleId);
```

### DataFlowIssue
Unboxing of `globalDoubleDictionary.get(globalId - adjustDoubleId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralDictionaryEncodedColumn.java`
#### Snippet
```java
          return globalLongDictionary.get(globalId - adjustLongId).doubleValue();
        } else {
          return globalDoubleDictionary.get(globalId - adjustDoubleId);
        }
      }
```

### DataFlowIssue
Method invocation `is` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
    if (plan.any(ExpressionPlan.Trait.SINGLE_INPUT_SCALAR, ExpressionPlan.Trait.SINGLE_INPUT_MAPPABLE)) {
      final String column = plan.getSingleInputName();
      if (plan.getSingleInputType().is(ValueType.STRING)) {
        return new SingleStringInputDeferredEvaluationExpressionDimensionSelector(
            columnSelectorFactory.makeDimensionSelector(DefaultDimensionSpec.of(column)),
```

### DataFlowIssue
Method invocation `asArray` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
      // Optimization for dimension selectors on constants.
      if (plan.is(ExpressionPlan.Trait.NON_SCALAR_OUTPUT)) {
        final Object[] value = baseSelector.getObject().asArray();
        final List<String> stringList;
        if (value != null) {
```

### DataFlowIssue
Method invocation `asString` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
        return DimensionSelector.multiConstant(stringList, extractionFn);
      }
      return DimensionSelector.constant(baseSelector.getObject().asString(), extractionFn);
    } else if (baseSelector instanceof NilColumnValueSelector) {
      // Optimization for null dimension selector.
```

### DataFlowIssue
Method invocation `is` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
      final String column = plan.getSingleInputName();
      final ColumnType inputType = plan.getSingleInputType();
      if (inputType.is(ValueType.LONG)) {
        return new SingleLongInputCachingExpressionColumnValueSelector(
            columnSelectorFactory.makeColumnValueSelector(column),
```

### DataFlowIssue
Argument `eval` might be null
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
        // No need for null check on getObject() since baseSelector impls will never return null.
        ExprEval eval = baseSelector.getObject();
        return coerceEvalToObjectOrList(eval);
      }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
          // There's only one binding, and it must be the single column, so it can safely be ignored in production.
          assert column.equals(name);
          return supplier.rhs.get();
        }

```

### DataFlowIssue
Method invocation `value` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionSelectors.java`
#### Snippet
```java
        // No need for null check on getObject() since baseSelector impls will never return null.
        ExprEval eval = baseSelector.getObject();
        return eval.value();
      }

```

### DataFlowIssue
@Nullable method 'getType' always returns a non-null value
in `processing/src/main/java/org/apache/druid/segment/virtual/SingleStringInputDeferredEvaluationExpressionDimensionVectorSelector.java`
#### Snippet
```java
    private final Object[] currentValue = new Object[1];

    @Nullable
    @Override
    public ExpressionType getType(String name)
```

### DataFlowIssue
Expression `baseSelector.getObject()` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionMultiValueDimensionSelector.java`
#### Snippet
```java
  ExprEval getEvaluated()
  {
    return baseSelector.getObject();
  }

```

### DataFlowIssue
Argument `evaluated.asArray()` might be null
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionMultiValueDimensionSelector.java`
#### Snippet
```java
    {
      assert evaluated.isArray();
      return Arrays.stream(evaluated.asArray())
                   .map(x -> extractionFn.apply(Evals.asString(x)))
                   .collect(Collectors.toList());
```

### DataFlowIssue
Method invocation `getLength` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/virtual/ListFilteredVirtualColumn.java`
#### Snippet
```java
        // someday maybe we can have a better way to get row count..
        final ColumnHolder time = columnSelector.getColumnHolder(ColumnHolder.TIME_COLUMN_NAME);
        final int numRows = time.getLength();

        ColumnIndexSupplier indexSupplier = holder.getIndexSupplier();
```

### DataFlowIssue
Expression `inspector.getColumnCapabilities(delegate.getDimension())` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/virtual/ListFilteredVirtualColumn.java`
#### Snippet
```java
  public ColumnCapabilities capabilities(ColumnInspector inspector, String columnName)
  {
    return inspector.getColumnCapabilities(delegate.getDimension());
  }

```

### DataFlowIssue
Unboxing of `localDict.get(0)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/CompressedNestedDataComplexColumn.java`
#### Snippet
```java
            doubleDictionarySupplier.get(),
            localDict,
            localDict.get(0) == 0
            ? rBitmaps.get(0)
            : metadata.getBitmapSerdeFactory().getBitmapFactory().makeEmptyImmutableBitmap()
```

### DataFlowIssue
Unboxing of `localDictionarySupplier.get().get(0)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
    if (clazz.equals(NullValueIndex.class)) {
      final BitmapColumnIndex nullIndex;
      if (localDictionarySupplier.get().get(0) == 0) {
        // null index is always 0 in the global dictionary, even if there are no null rows in any of the literal columns
        nullIndex = new SimpleImmutableBitmapIndex(bitmaps.get(0));
```

### DataFlowIssue
Argument `bitmaps.get(0)` might be null
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
      if (localDictionarySupplier.get().get(0) == 0) {
        // null index is always 0 in the global dictionary, even if there are no null rows in any of the literal columns
        nullIndex = new SimpleImmutableBitmapIndex(bitmaps.get(0));
      } else {
        nullIndex = new SimpleImmutableBitmapIndex(bitmapFactory.makeEmptyImmutableBitmap());
```

### DataFlowIssue
Unboxing of `doubleDictionary.get(nextValue - adjustDoubleId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
                Integer nextValue = iterator.next();
                if (nextValue >= adjustDoubleId) {
                  nextSet = doublePredicate.applyDouble(doubleDictionary.get(nextValue - adjustDoubleId));
                } else if (nextValue >= adjustLongId) {
                  nextSet = longPredicate.applyLong(longDictionary.get(nextValue - adjustLongId));
```

### DataFlowIssue
Unboxing of `longDictionary.get(nextValue - adjustLongId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
                  nextSet = doublePredicate.applyDouble(doubleDictionary.get(nextValue - adjustDoubleId));
                } else if (nextValue >= adjustLongId) {
                  nextSet = longPredicate.applyLong(longDictionary.get(nextValue - adjustLongId));
                } else {
                  nextSet = stringPredicate.apply(StringUtils.fromUtf8Nullable(stringDictionary.get(nextValue)));
```

### DataFlowIssue
Unboxing of `longDictionary.get(nextValue - adjustLongId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
                  nextSet = longPredicate.applyNull();
                } else {
                  nextSet = longPredicate.applyLong(longDictionary.get(nextValue - adjustLongId));
                }
                if (nextSet) {
```

### DataFlowIssue
Unboxing of `localDictionary.get(currIndex)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
            private int findNext()
            {
              while (currIndex < end && !matcher.apply(StringUtils.fromUtf8Nullable(stringDictionary.get(localDictionary.get(currIndex))))) {
                currIndex++;
              }
```

### DataFlowIssue
Unboxing of `localDictionary.get(index)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
    public String getValue(int index)
    {
      int globalIndex = localDictionary.get(index);
      if (globalIndex < adjustLongId) {
        return StringUtils.fromUtf8Nullable(stringDictionary.get(globalIndex));
```

### DataFlowIssue
Unboxing of `doubleDictionary.get(nextValue - adjustDoubleId)` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedFieldLiteralColumnIndexSupplier.java`
#### Snippet
```java
                  nextSet = doublePredicate.applyNull();
                } else {
                  nextSet = doublePredicate.applyDouble(doubleDictionary.get(nextValue - adjustDoubleId));
                }
                if (nextSet) {
```

### DataFlowIssue
Expression `expectedType` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java
  public ColumnType getExpectedType()
  {
    return expectedType;
  }

```

### DataFlowIssue
Expression `StructuredData.wrap(NestedPathFinder.find(data == null ? null : data.getValue(), parts))` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/virtual/NestedFieldVirtualColumn.java`
#### Snippet
```java
    {
      StructuredData data = StructuredData.wrap(input);
      return StructuredData.wrap(NestedPathFinder.find(data == null ? null : data.getValue(), parts));
    }
  }
```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `processing/src/main/java/org/apache/druid/segment/generator/GeneratorBasicSchemas.java`
#### Snippet
```java
    basicSchemaIngestAggsExpression.add(new LongSumAggregatorFactory(
        "sumLongSequential",
        null,
        "if(sumLongSequential>0 && dimSequential>100 || dimSequential<10 || metLongSequential>3000,sumLongSequential,0)",
        ExprMacroTable.nil()
```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `processing/src/main/java/org/apache/druid/segment/generator/GeneratorBasicSchemas.java`
#### Snippet
```java
    basicSchemaIngestAggsExpression.add(new DoubleSumAggregatorFactory(
        "sumFloatNormal",
        null,
        "if(sumFloatNormal>0 && dimSequential>100 || dimSequential<10 || metLongSequential>3000,sumFloatNormal,0)",
        ExprMacroTable.nil()
```

### DataFlowIssue
Method invocation `getIndexer` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexColumnSelectorFactory.java`
#### Snippet
```java
    if (dimIndex != null) {
      final IncrementalIndex.DimensionDesc dimensionDesc = index.getDimension(columnName);
      final DimensionIndexer indexer = dimensionDesc.getIndexer();
      return indexer.makeColumnValueSelector(rowHolder, dimensionDesc);
    }
```

### DataFlowIssue
Array access `accessor.invertedIndexes[id]` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexAdapter.java`
#### Snippet
```java
    }

    MutableBitmap bitmapIndex = accessor.invertedIndexes[id];

    if (bitmapIndex == null) {
```

### DataFlowIssue
Expression `index.getColumnCapabilities(column)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexAdapter.java`
#### Snippet
```java
  public ColumnCapabilities getCapabilities(String column)
  {
    return index.getColumnCapabilities(column);
  }

```

### DataFlowIssue
Argument `bitmapIndexes` might be null
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexAdapter.java`
#### Snippet
```java
          final MutableBitmap[] bitmapIndexes = accessor.invertedIndexes;
          final DimensionIndexer indexer = accessor.indexer;
          indexer.fillBitmapsFromUnsortedEncodedKeyComponent(dims[dimIndex], rowNum, bitmapIndexes, bitmapFactory);
        }
      }
```

### DataFlowIssue
Expression `index.getMetricType(metric)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexAdapter.java`
#### Snippet
```java
  public String getMetricType(String metric)
  {
    return index.getMetricType(metric);
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/transform/Transformer.java`
#### Snippet
```java
          if (valueMatcher.matches()) {
            matchedRows.add(inputRows.get(i));
            matchedVals.add(inputVals.get(i));
          }
        }
```

### DataFlowIssue
Argument `e.getInput()` might be null
in `processing/src/main/java/org/apache/druid/segment/incremental/ParseExceptionHandler.java`
#### Snippet
```java
    if (savedParseExceptionReports != null) {
      ParseExceptionReport parseExceptionReport = new ParseExceptionReport(
          e.getInput(),
          e.isFromPartiallyValidRow() ? "processedWithError" : "unparseable",
          e.isFromPartiallyValidRow()
```

### DataFlowIssue
Method invocation `getTimestamp` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexRowHolder.java`
#### Snippet
```java
  public long getLong()
  {
    return currEntry.getTimestamp();
  }

```

### DataFlowIssue
Expression `currEntry` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexRowHolder.java`
#### Snippet
```java
  public IncrementalIndexRow get()
  {
    return currEntry;
  }

```

### DataFlowIssue
Expression `index.getMinTime()` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
  public DateTime getMinTime()
  {
    return index.getMinTime();
  }

```

### DataFlowIssue
Argument `filter` might be null
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
    return Sequences
        .simple(intervals)
        .map(i -> new IncrementalIndexCursor(virtualColumns, descending, filter, i, actualInterval, gran));
  }

```

### DataFlowIssue
Expression `ColumnCapabilitiesImpl.snapshot( index.getColumnCapabilities(column), SNAPSHOT_STORA...` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
  public ColumnCapabilities getSnapshotColumnCapabilities(String column)
  {
    return ColumnCapabilitiesImpl.snapshot(
        index.getColumnCapabilities(column),
        SNAPSHOT_STORAGE_ADAPTER_CAPABILITIES_COERCE_LOGIC
    );
  }

```

### DataFlowIssue
Expression `index.getMaxTime()` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndexStorageAdapter.java`
#### Snippet
```java
  public DateTime getMaxTime()
  {
    return index.getMaxTime();
  }

```

### DataFlowIssue
Expression `outOfRowsReason` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
  public String getOutOfRowsReason()
  {
    return outOfRowsReason;
  }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
      // Creates aggregators to aggregate from input into output fields
      if (useMaxMemoryEstimates) {
        aggs[i] = agg.factorize(selectors.get(agg.getName()));
      } else {
        AggregatorAndSize aggregatorAndSize = agg.factorizeWithSize(selectors.get(agg.getName()));
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
        aggs[i] = agg.factorize(selectors.get(agg.getName()));
      } else {
        AggregatorAndSize aggregatorAndSize = agg.factorizeWithSize(selectors.get(agg.getName()));
        aggs[i] = aggregatorAndSize.getAggregator();
        totalInitialSizeBytes += aggregatorAndSize.getInitialSizeBytes();
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
        if (useMaxMemoryEstimates) {
          AggregatorFactory combiningAgg = agg.getCombiningFactory();
          aggs[i + metrics.length] = combiningAgg.factorize(combiningAggSelectors.get(combiningAgg.getName()));
        } else {
          AggregatorFactory combiningAgg = agg.getCombiningFactory();
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
        } else {
          AggregatorFactory combiningAgg = agg.getCombiningFactory();
          AggregatorAndSize aggregatorAndSize = combiningAgg.factorizeWithSize(combiningAggSelectors.get(combiningAgg.getName()));
          aggs[i + metrics.length] = aggregatorAndSize.getAggregator();
          totalInitialSizeBytes += aggregatorAndSize.getInitialSizeBytes();
```

### DataFlowIssue
Expression `aggregatorFactory.combine(aggregatedFromSource, aggregatedFromCombined)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
        T aggregatedFromSource = getMetricTypeFunction.apply(aggs[aggOffset]);
        T aggregatedFromCombined = getMetricTypeFunction.apply(aggs[aggOffset + metrics.length]);
        return aggregatorFactory.combine(aggregatedFromSource, aggregatedFromCombined);
      }
    } else {
```

### DataFlowIssue
Method invocation `put` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
    combiningAggSelectors = new HashMap<>();
    for (AggregatorFactory agg : metrics) {
      selectors.put(
          agg.getName(),
          new CachingColumnSelectorFactory(
```

### DataFlowIssue
Method invocation `put` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
      if (preserveExistingMetrics) {
        AggregatorFactory combiningAgg = agg.getCombiningFactory();
        combiningAggSelectors.put(
            combiningAgg.getName(),
            new CachingColumnSelectorFactory(
```

### DataFlowIssue
Method invocation `clear` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
    facts.clear();
    if (selectors != null) {
      selectors.clear();
    }
    if (combiningAggSelectors != null) {
```

### DataFlowIssue
Method invocation `clear` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/OnheapIncrementalIndex.java`
#### Snippet
```java
    }
    if (combiningAggSelectors != null) {
      combiningAggSelectors.clear();
    }
  }
```

### DataFlowIssue
Argument `first` might be null
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceAggregatorFactory.java`
#### Snippet
```java
      {
        VarianceAggregatorCollector first = (VarianceAggregatorCollector) selector.getObject();
        combined.copyFrom(first);
      }

```

### DataFlowIssue
Unboxing of `NullHandling.defaultDoubleValue()` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogram.java`
#### Snippet
```java
    if (val == null) {
      if (NullHandling.replaceWithDefault()) {
        add(NullHandling.defaultDoubleValue());
      } else {
        incrementMissing();
```

### DataFlowIssue
Method invocation `floatValue` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingSerde.java`
#### Snippet
```java
            for (final Object next : ((Collection) rawValue)) {
              if (next != null) {
                h.offer(Rows.objectToNumber(metricName, next, true).floatValue());
              }
            }
```

### DataFlowIssue
Method invocation `floatValue` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramFoldingSerde.java`
#### Snippet
```java
            }
          } else {
            h.offer(Rows.objectToNumber(metricName, rawValue, true).floatValue());
          }

```

### DataFlowIssue
Method invocation `getObjectStrategy` may produce `NullPointerException`
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
      this.currEntry = currEntry;
      this.metricIndex = metricIndex;
      classOfObject = ComplexMetrics.getSerdeForType(metricDesc.getType()).getObjectStrategy().getClazz();
    }

```

### DataFlowIssue
Argument `valueType.getComplexTypeName()` might be null
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
        capabilities = ColumnCapabilitiesImpl.createSimpleNumericColumnCapabilities(valueType)
                                             .setHasNulls(ColumnCapabilities.Capable.TRUE);
        ComplexMetricSerde serde = ComplexMetrics.getSerdeForType(valueType.getComplexTypeName());
        if (serde != null) {
          this.type = serde.getTypeName();
```

### DataFlowIssue
Argument `complexTypeName` might be null
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
          // has worked so far.
          final String complexTypeName = agg.getIntermediateType().getComplexTypeName();
          final ComplexMetricSerde serde = ComplexMetrics.getSerdeForType(complexTypeName);
          if (serde == null) {
            throw new ISE("Don't know how to handle type[%s]", complexTypeName);
```

### DataFlowIssue
Unboxing of `NullHandling.defaultDoubleValue()` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
          );
          if (NullHandling.replaceWithDefault()) {
            fbh.add(NullHandling.defaultDoubleValue());
          } else {
            fbh.incrementMissing();
```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramSerde.java`
#### Snippet
```java
                aggregatorFactory.getOutlierHandlingMode()
            );
            fbh.add(numberAttempt.doubleValue());
            return fbh;
          }
```

### DataFlowIssue
Argument `rhs` might be null
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramAggregatorFactory.java`
#### Snippet
```java
      }
    } else {
      ((FixedBucketsHistogram) lhs).combineHistogram((FixedBucketsHistogram) rhs);
      return lhs;
    }
```

### DataFlowIssue
Argument `first` might be null
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramAggregatorFactory.java`
#### Snippet
```java
      {
        FixedBucketsHistogram first = (FixedBucketsHistogram) selector.getObject();
        combined.combineHistogram(first);
      }

```

### DataFlowIssue
Argument `other` might be null
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramAggregatorFactory.java`
#### Snippet
```java
      {
        FixedBucketsHistogram other = (FixedBucketsHistogram) selector.getObject();
        combined.combineHistogram(other);
      }

```

### DataFlowIssue
Array access `mergedBins[i]` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
      if (j < leftBinCount && (k == rightBinCount || leftPositions[j] < rightPositions[k])) {
        mergedPositions[i] = leftPositions[j];
        mergedBins[i] = leftBins[j];
        ++j;
      } else if (k < rightBinCount && (j == leftBinCount || leftPositions[j] > rightPositions[k])) {
```

### DataFlowIssue
Array access `mergedBins[i]` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
      } else if (k < rightBinCount && (j == leftBinCount || leftPositions[j] > rightPositions[k])) {
        mergedPositions[i] = rightPositions[k];
        mergedBins[i] = rightBins[k];
        ++k;
      } else {
```

### DataFlowIssue
Array access `mergedBins[i]` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
        // combine overlapping bins
        mergedPositions[i] = leftPositions[j];
        mergedBins[i] = leftBins[j] + rightBins[k];
        ++j;
        ++k;
```

### DataFlowIssue
Argument `mergedBins` might be null
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
          h.bins,
          mergedPositions,
          mergedBins
      );
    }
```

### DataFlowIssue
Array access `mergedBins[i]` may produce `NullPointerException`
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogram.java`
#### Snippet
```java
    for (int i = 0; i < mergedBinCount; ++i) {
      this.positions[i] = mergedPositions[i];
      this.bins[i] = mergedBins[i];
    }

```

### DataFlowIssue
Method invocation `capacity` may produce `NullPointerException`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
        return true;
      }
      return currRow < (words.capacity() - 1);
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
      }

      currWord = words.get(++currRow);
      if (ConciseSetUtils.isLiteral(currWord)) {
        startIndex = wordsWalked++;
```

### DataFlowIssue
Argument `other` might be null
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
      {
        ApproximateHistogram other = (ApproximateHistogram) selector.getObject();
        combined.foldFast(other);
      }

```

### DataFlowIssue
@Nullable method 'getObject' always returns a non-null value
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public ApproximateHistogram getObject()
```

### DataFlowIssue
Argument `first` might be null
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/ApproximateHistogramAggregatorFactory.java`
#### Snippet
```java
      {
        ApproximateHistogram first = (ApproximateHistogram) selector.getObject();
        combined.copy(first);
      }

```

### DataFlowIssue
Method invocation `getEstimate` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchToEstimatePostAggregator.java`
#### Snippet
```java
  {
    final HllSketch sketch = (HllSketch) field.compute(combinedAggregators);
    return round ? Math.round(sketch.getEstimate()) : sketch.getEstimate();
  }

```

### DataFlowIssue
Method invocation `getEstimate` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchToEstimatePostAggregator.java`
#### Snippet
```java
  {
    final HllSketch sketch = (HllSketch) field.compute(combinedAggregators);
    return round ? Math.round(sketch.getEstimate()) : sketch.getEstimate();
  }

```

### DataFlowIssue
Method invocation `toCompactByteArray` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchObjectStrategy.java`
#### Snippet
```java
  public byte[] toBytes(final HllSketch sketch)
  {
    return sketch.toCompactByteArray();
  }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchToStringPostAggregator.java`
#### Snippet
```java
  {
    final HllSketch sketch = (HllSketch) field.compute(combinedAggregators);
    return sketch.toString();
  }

```

### DataFlowIssue
Method invocation `getEstimate` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/hll/HllSketchToEstimateWithBoundsPostAggregator.java`
#### Snippet
```java
  {
    final HllSketch sketch = (HllSketch) field.compute(combinedAggregators);
    return new double[] {sketch.getEstimate(), sketch.getLowerBound(numStdDevs), sketch.getUpperBound(numStdDevs)};
  }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToStringPostAggregator.java`
#### Snippet
```java
  {
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    return sketch.toString();
  }

```

### DataFlowIssue
Method invocation `getQuantile` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToQuantilePostAggregator.java`
#### Snippet
```java
  {
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    return sketch.getQuantile(fraction);
  }

```

### DataFlowIssue
@Nullable method 'getObject' always returns a non-null value
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public SketchType getObject()
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java
  {
    if (metricFactory.getColumnCapabilities(fieldName) != null
        && metricFactory.getColumnCapabilities(fieldName).isNumeric()) {
      final ColumnValueSelector<ValueType> selector = metricFactory.makeColumnValueSelector(fieldName);
      if (selector instanceof NilColumnValueSelector) {
```

### DataFlowIssue
Argument `sketch` might be null
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java
      {
        final SketchType sketch = (SketchType) selector.getObject();
        union.merge(sketch);
      }

```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllSketchAggregatorFactory.java`
#### Snippet
```java
  {
    if (metricFactory.getColumnCapabilities(fieldName) != null
        && metricFactory.getColumnCapabilities(fieldName).isNumeric()) {
      final ColumnValueSelector<ValueType> selector = metricFactory.makeColumnValueSelector(fieldName);
      if (selector instanceof NilColumnValueSelector) {
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchBuildAggregator.java`
#### Snippet
```java
      return;
    }
    sketch.update(valueSelector.getFloat());
  }
}
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToCDFPostAggregator.java`
#### Snippet
```java
  {
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    if (sketch.isEmpty()) {
      final double[] cdf = new double[splitPoints.length + 1];
      Arrays.fill(cdf, Double.NaN);
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToStringPostAggregator.java`
#### Snippet
```java
  {
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    return sketch.toString();
  }

```

### DataFlowIssue
Argument `union` might be null
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized void aggregate()
  {
    updateUnion(selector, union);
  }

```

### DataFlowIssue
Argument `union` might be null
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized void aggregate()
  {
    updateUnion(selector, union);
  }

```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToQuantilesPostAggregator.java`
#### Snippet
```java
  {
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    if (sketch.isEmpty()) {
      final double[] quantiles = new double[fractions.length];
      Arrays.fill(quantiles, Double.NaN);
```

### DataFlowIssue
Method invocation `getRank` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToRankPostAggregator.java`
#### Snippet
```java
  {
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    return sketch.getRank(value);
  }

```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
      throw new IAE("at least 2 bins expected");
    }
    if (sketch.isEmpty()) {
      final double[] histogram = new double[numBins];
      Arrays.fill(histogram, Double.NaN);
```

### DataFlowIssue
Expression `splitPoints` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
    this.name = Preconditions.checkNotNull(name, "name is null");
    this.field = Preconditions.checkNotNull(field, "field is null");
    this.splitPoints = splitPoints;
    this.numBins = numBins;
    if (splitPoints != null && numBins != null) {
```

### DataFlowIssue
Expression `numBins` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToHistogramPostAggregator.java`
#### Snippet
```java
    this.field = Preconditions.checkNotNull(field, "field is null");
    this.splitPoints = splitPoints;
    this.numBins = numBins;
    if (splitPoints != null && numBins != null) {
      throw new IAE("Cannot accept both 'splitPoints' and 'numBins'");
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchBuildAggregator.java`
#### Snippet
```java
      return;
    }
    sketch.update(valueSelector.getDouble());
  }
}
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToCDFPostAggregator.java`
#### Snippet
```java
  {
    final KllDoublesSketch sketch = (KllDoublesSketch) field.compute(combinedAggregators);
    if (sketch.isEmpty()) {
      final double[] cdf = new double[splitPoints.length + 1];
      Arrays.fill(cdf, Double.NaN);
```

### DataFlowIssue
Expression `splitPoints` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    this.name = Preconditions.checkNotNull(name, "name is null");
    this.field = Preconditions.checkNotNull(field, "field is null");
    this.splitPoints = splitPoints;
    this.numBins = numBins;
    if (splitPoints != null && numBins != null) {
```

### DataFlowIssue
Expression `numBins` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    this.field = Preconditions.checkNotNull(field, "field is null");
    this.splitPoints = splitPoints;
    this.numBins = numBins;
    if (splitPoints != null && numBins != null) {
      throw new IAE("Cannot accept both 'splitPoints' and 'numBins'");
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllDoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      throw new IAE("at least 2 bins expected");
    }
    if (sketch.isEmpty()) {
      final double[] histogram = new double[numBins];
      Arrays.fill(histogram, Double.NaN);
```

### DataFlowIssue
Method invocation `getQuantile` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToQuantilePostAggregator.java`
#### Snippet
```java
  {
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    return sketch.getQuantile(fraction);
  }

```

### DataFlowIssue
Method invocation `getRank` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToRankPostAggregator.java`
#### Snippet
```java
  {
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    return sketch.getRank(value);
  }

```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/kll/KllFloatsSketchToQuantilesPostAggregator.java`
#### Snippet
```java
  {
    final KllFloatsSketch sketch = (KllFloatsSketch) field.compute(combinedAggregators);
    if (sketch.isEmpty()) {
      final float[] quantiles = new float[fractions.length];
      Arrays.fill(quantiles, Float.NaN);
```

### DataFlowIssue
Method invocation `getEstimateWithErrorBounds` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchEstimatePostAggregator.java`
#### Snippet
```java
    SketchHolder holder = (SketchHolder) field.compute(combinedAggregators);
    if (errorBoundsStdDev != null) {
      return holder.getEstimateWithErrorBounds(errorBoundsStdDev);
    } else {
      return holder.getEstimate();
```

### DataFlowIssue
Method invocation `getEstimate` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchEstimatePostAggregator.java`
#### Snippet
```java
      return holder.getEstimateWithErrorBounds(errorBoundsStdDev);
    } else {
      return holder.getEstimate();
    }
  }
```

### DataFlowIssue
Method invocation `getSketch` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchToStringPostAggregator.java`
#### Snippet
```java
  {
    final SketchHolder holder = (SketchHolder) field.compute(combinedAggregators);
    return holder.getSketch().toString();
  }

```

### DataFlowIssue
Argument `size` might be null
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchMergeAggregatorFactory.java`
#### Snippet
```java
  )
  {
    super(name, fieldName, size, AggregatorUtil.SKETCH_MERGE_CACHE_TYPE_ID);
    this.shouldFinalize = (shouldFinalize == null) ? true : shouldFinalize;
    this.isInputThetaSketch = (isInputThetaSketch == null) ? false : isInputThetaSketch;
```

### DataFlowIssue
@Nullable method 'getObject' always returns a non-null value
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchAggregatorFactory.java`
#### Snippet
```java
      }

      @Nullable
      @Override
      public SketchHolder getObject()
```

### DataFlowIssue
Argument `size` might be null
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/sql/ThetaSketchSetBaseOperatorConversion.java`
#### Snippet
```java
        postAggregatorVisitor.getOutputNamePrefix() + postAggregatorVisitor.getAndIncrementCounter(),
        getSetOperationName(),
        size,
        inputPostAggs
    );
```

### DataFlowIssue
Method invocation `doubleValue` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
      cachedEstimate = getSketch().getEstimate();
    }
    return cachedEstimate.doubleValue();
  }

```

### DataFlowIssue
Expression `cachedSketch` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
  {
    if (cachedSketch != null) {
      return cachedSketch;
    }

```

### DataFlowIssue
Expression `cachedSketch` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
      throw new ISE("Can't get sketch from object of type [%s]", obj.getClass().getName());
    }
    return cachedSketch;
  }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToStringPostAggregator.java`
#### Snippet
```java
  {
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    return sketch.toString();
  }

```

### DataFlowIssue
Method invocation `getNumValues` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToVariancesPostAggregator.java`
#### Snippet
```java
  {
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    final SummaryStatistics[] stats = new SummaryStatistics[sketch.getNumValues()];
    Arrays.setAll(stats, i -> new SummaryStatistics());
    final ArrayOfDoublesSketchIterator it = sketch.iterator();
```

### DataFlowIssue
Method invocation `getNumValues` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchTTestPostAggregator.java`
#### Snippet
```java
    final ArrayOfDoublesSketch sketch1 = (ArrayOfDoublesSketch) getFields().get(0).compute(combinedAggregators);
    final ArrayOfDoublesSketch sketch2 = (ArrayOfDoublesSketch) getFields().get(1).compute(combinedAggregators);
    if (sketch1.getNumValues() != sketch2.getNumValues()) {
      throw new IAE(
          "Sketches have different number of values: %d and %d",
```

### DataFlowIssue
Method invocation `getNumValues` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchTTestPostAggregator.java`
#### Snippet
```java
    final ArrayOfDoublesSketch sketch1 = (ArrayOfDoublesSketch) getFields().get(0).compute(combinedAggregators);
    final ArrayOfDoublesSketch sketch2 = (ArrayOfDoublesSketch) getFields().get(1).compute(combinedAggregators);
    if (sketch1.getNumValues() != sketch2.getNumValues()) {
      throw new IAE(
          "Sketches have different number of values: %d and %d",
```

### DataFlowIssue
Method invocation `getNumValues` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToMeansPostAggregator.java`
#### Snippet
```java
  {
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    final SummaryStatistics[] stats = new SummaryStatistics[sketch.getNumValues()];
    Arrays.setAll(stats, i -> new SummaryStatistics());
    final ArrayOfDoublesSketchIterator it = sketch.iterator();
```

### DataFlowIssue
Method invocation `compact` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
  public synchronized Object get()
  {
    return sketch.compact();
  }

```

### DataFlowIssue
Array access `values[i]` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
        return;
      } else {
        values[i] = valueSelectors[i].getDouble();
      }
    }
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
            key.reset();

            sketch.update(bytes, values);
          }
        }
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildAggregator.java`
#### Snippet
```java
          }

          sketch.update(key, values);
        }
      }
```

### DataFlowIssue
Method invocation `getRetainedEntries` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToNumEntriesPostAggregator.java`
#### Snippet
```java
  {
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    return sketch.getRetainedEntries();
  }

```

### DataFlowIssue
Method invocation `iterator` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToQuantilesSketchPostAggregator.java`
#### Snippet
```java
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    final UpdateDoublesSketch qs = DoublesSketch.builder().setK(k).build();
    final ArrayOfDoublesSketchIterator it = sketch.iterator();
    while (it.next()) {
      qs.update(it.getValues()[column - 1]); // convert 1-based column number to zero-based index
```

### DataFlowIssue
Method invocation `getEstimate` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToEstimateAndBoundsPostAggregator.java`
#### Snippet
```java
  {
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    return new double[] {sketch.getEstimate(), sketch.getLowerBound(numStdDevs), sketch.getUpperBound(numStdDevs)};
  }

```

### DataFlowIssue
Method invocation `getEstimate` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchToEstimatePostAggregator.java`
#### Snippet
```java
  {
    final ArrayOfDoublesSketch sketch = (ArrayOfDoublesSketch) getField().compute(combinedAggregators);
    return sketch.getEstimate();
  }

```

### DataFlowIssue
Array access `values[i]` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchBuildBufferAggregator.java`
#### Snippet
```java
        return;
      } else {
        values[i] = valueSelectors[i].getDouble();
      }
    }
```

### DataFlowIssue
Method invocation `getResult` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized Object get()
  {
    return union.getResult();
  }

```

### DataFlowIssue
Method invocation `union` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchMergeAggregator.java`
#### Snippet
```java
    }
    synchronized (this) {
      union.union(update);
    }
  }
```

### DataFlowIssue
Expression `metricColumns` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/tuple/ArrayOfDoublesSketchAggregatorFactory.java`
#### Snippet
```java
  public List<String> getMetricColumns()
  {
    return metricColumns;
  }

```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToStringPostAggregator.java`
#### Snippet
```java
  {
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    return sketch.toString();
  }

```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToCDFPostAggregator.java`
#### Snippet
```java
  {
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    if (sketch.isEmpty()) {
      final double[] cdf = new double[splitPoints.length + 1];
      Arrays.fill(cdf, Double.NaN);
```

### DataFlowIssue
Method invocation `getResult` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized Object get()
  {
    return union.getResult();
  }

```

### DataFlowIssue
Argument `union` might be null
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchMergeAggregator.java`
#### Snippet
```java
  public synchronized void aggregate()
  {
    updateUnion(selector, union);
  }

```

### DataFlowIssue
Method invocation `getQuantile` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToQuantilePostAggregator.java`
#### Snippet
```java
  {
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    return sketch.getQuantile(fraction);
  }

```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToQuantilesPostAggregator.java`
#### Snippet
```java
  {
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    if (sketch.isEmpty()) {
      final double[] quantiles = new double[fractions.length];
      Arrays.fill(quantiles, Double.NaN);
```

### DataFlowIssue
Method invocation `getRank` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToRankPostAggregator.java`
#### Snippet
```java
  {
    final DoublesSketch sketch = (DoublesSketch) field.compute(combinedAggregators);
    return sketch.getRank(value);
  }

```

### DataFlowIssue
Expression `splitPoints` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    this.name = Preconditions.checkNotNull(name, "name is null");
    this.field = Preconditions.checkNotNull(field, "field is null");
    this.splitPoints = splitPoints;
    this.numBins = numBins;
    if (splitPoints != null && numBins != null) {
```

### DataFlowIssue
Expression `numBins` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
    this.field = Preconditions.checkNotNull(field, "field is null");
    this.splitPoints = splitPoints;
    this.numBins = numBins;
    if (splitPoints != null && numBins != null) {
      throw new IAE("Cannot accept both 'splitPoints' and 'numBins'");
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchToHistogramPostAggregator.java`
#### Snippet
```java
      throw new IAE("at least 2 bins expected");
    }
    if (sketch.isEmpty()) {
      final double[] histogram = new double[numBins];
      Arrays.fill(histogram, Double.NaN);
```

### DataFlowIssue
Method invocation `update` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchBuildAggregator.java`
#### Snippet
```java
      return;
    }
    sketch.update(valueSelector.getDouble());
  }

```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchAggregatorFactory.java`
#### Snippet
```java
  {
    if (metricFactory.getColumnCapabilities(fieldName) != null
        && metricFactory.getColumnCapabilities(fieldName).isNumeric()) {
      final BaseDoubleColumnValueSelector selector = metricFactory.makeColumnValueSelector(fieldName);
      if (selector instanceof NilColumnValueSelector) {
```

### DataFlowIssue
Method invocation `isNumeric` may produce `NullPointerException`
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/quantiles/DoublesSketchAggregatorFactory.java`
#### Snippet
```java
  {
    if (metricFactory.getColumnCapabilities(fieldName) != null
        && metricFactory.getColumnCapabilities(fieldName).isNumeric()) {
      final ColumnValueSelector<Double> selector = metricFactory.makeColumnValueSelector(fieldName);
      if (selector instanceof NilColumnValueSelector) {
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/storage/hdfs/HdfsDataSegmentKiller.java`
#### Snippet
```java
  private static Path getPath(DataSegment segment)
  {
    return new Path(String.valueOf(segment.getLoadSpec().get(PATH_KEY)));
  }

```

### DataFlowIssue
Method invocation `iterator` may produce `NullPointerException`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/inputsource/hdfs/HdfsInputSource.java`
#### Snippet
```java
    cachePathsIfNeeded();
    final Iterator<List<Path>> splitIterator = getSplitHintSpecOrDefault(splitHintSpec).split(
        cachedPaths.iterator(),
        path -> {
          try {
```

### DataFlowIssue
Method invocation `iterator` may produce `NullPointerException`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/inputsource/hdfs/HdfsInputSource.java`
#### Snippet
```java
        inputRowSchema,
        inputFormat,
        Iterators.transform(cachedPaths.iterator(), path -> new HdfsInputEntity(configuration, path)),
        temporaryDirectory
    );
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/inputsource/hdfs/HdfsInputSource.java`
#### Snippet
```java
  {
    cachePathsIfNeeded();
    return cachedPaths.size();
  }

```

### DataFlowIssue
Argument `entry.lhs` might be null
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/CatalogResource.java`
#### Snippet
```java
        entry -> {
          return Collections.singletonList(
              resourceAction(entry.lhs, entry.rhs.id().name(), Action.READ));
        },
        authorizerMapper
```

### DataFlowIssue
Method invocation `id` may produce `NullPointerException`
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/http/CatalogResource.java`
#### Snippet
```java
        entry -> {
          return Collections.singletonList(
              resourceAction(entry.lhs, entry.rhs.id().name(), Action.READ));
        },
        authorizerMapper
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String s3Prefix = null;

  @JsonProperty
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3TaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String s3Bucket = null;

  @JsonProperty
```

### DataFlowIssue
Argument `loadSpec` might be null
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/storage/s3/S3DataSegmentMover.java`
#### Snippet
```java
              .putAll(
                  Maps.filterKeys(
                      loadSpec,
                      new Predicate<String>()
                      {
```

### DataFlowIssue
Method invocation `getObj` may produce `NullPointerException`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
  {
    if (response.isFinished()) {
      return ClientResponse.finished(response.getObj().getObj());
    } else {
      return ClientResponse.unfinished(response.getObj().getObj(), response.isContinueReading());
```

### DataFlowIssue
Method invocation `getObj` may produce `NullPointerException`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
      return ClientResponse.finished(response.getObj().getObj());
    } else {
      return ClientResponse.unfinished(response.getObj().getObj(), response.isContinueReading());
    }
  }
```

### DataFlowIssue
Method invocation `shouldRetry` may produce `NullPointerException`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
  public ClientResponse<RetryResponseHolder<Final>> done(ClientResponse<RetryResponseHolder<Intermediate>> clientResponse)
  {
    if (clientResponse.getObj().shouldRetry()) {
      return ClientResponse.finished(RetryResponseHolder.retry());
    } else {
```

### DataFlowIssue
Method invocation `shouldRetry` may produce `NullPointerException`
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/RetryIfUnauthorizedResponseHandler.java`
#### Snippet
```java
  )
  {
    if (clientResponse.getObj().shouldRetry()) {
      httpChunk.getContent().toString();
      return clientResponse;
```

### DataFlowIssue
Argument `config` might be null
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/SchemaRegistryBasedAvroBytesDecoder.java`
#### Snippet
```java
    this.jsonMapper = jsonMapper;
    if (url != null && !url.isEmpty()) {
      this.registry = new CachedSchemaRegistryClient(this.url, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
```

### DataFlowIssue
Argument `headers` might be null
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/SchemaRegistryBasedAvroBytesDecoder.java`
#### Snippet
```java
    this.jsonMapper = jsonMapper;
    if (url != null && !url.isEmpty()) {
      this.registry = new CachedSchemaRegistryClient(this.url, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
```

### DataFlowIssue
Argument `this.urls` might be null
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/SchemaRegistryBasedAvroBytesDecoder.java`
#### Snippet
```java
      this.registry = new CachedSchemaRegistryClient(this.url, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    }
  }
```

### DataFlowIssue
Argument `config` might be null
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/SchemaRegistryBasedAvroBytesDecoder.java`
#### Snippet
```java
      this.registry = new CachedSchemaRegistryClient(this.url, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    }
  }
```

### DataFlowIssue
Argument `headers` might be null
in `extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/SchemaRegistryBasedAvroBytesDecoder.java`
#### Snippet
```java
      this.registry = new CachedSchemaRegistryClient(this.url, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    }
  }
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String prefix = null;

  @JsonProperty
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String container = null;

  @JsonProperty
```

### DataFlowIssue
Casting `s` to `String` may produce `ClassCastException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/sql/MSQTaskQueryMaker.java`
#### Snippet
```java
                        return Intervals.ONLY_ETERNITY;
                      } else {
                        final String[] parts = ((String) s).split("\\s*,\\s*");
                        final List<Interval> intervals = new ArrayList<>();

```

### DataFlowIssue
Method invocation `getType` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/util/DimensionSchemaUtils.java`
#### Snippet
```java
        return new DoubleDimensionSchema(column);
      case ARRAY:
        switch (type.getElementType().getType()) {
          case STRING:
            return new StringDimensionSchema(column, DimensionSchema.MultiValueHandling.ARRAY, null);
```

### DataFlowIssue
Method invocation `getPassword` may produce `NullPointerException`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/data/input/s3/S3InputSource.java`
#### Snippet
```java
    return new AWSStaticCredentialsProvider(
        new BasicAWSCredentials(
            s3InputSourceConfig.getAccessKeyId().getPassword(),
            s3InputSourceConfig.getSecretAccessKey().getPassword()
        )
```

### DataFlowIssue
Method invocation `getPassword` may produce `NullPointerException`
in `extensions-core/s3-extensions/src/main/java/org/apache/druid/data/input/s3/S3InputSource.java`
#### Snippet
```java
        new BasicAWSCredentials(
            s3InputSourceConfig.getAccessKeyId().getPassword(),
            s3InputSourceConfig.getSecretAccessKey().getPassword()
        )
    );
```

### DataFlowIssue
Method invocation `estimatedTotalWeight` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/TargetSizeShuffleSpec.java`
#### Snippet
```java
  )
  {
    final long expectedPartitions = collector.estimatedTotalWeight() / targetSize;

    if (expectedPartitions > maxNumPartitions) {
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerSketchFetcher.java`
#### Snippet
```java
      return either.error();
    } else {
      return either.valueOrThrow().size();
    }
  }
```

### DataFlowIssue
Method invocation `ranges` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/WorkerSketchFetcher.java`
#### Snippet
```java
                    mergedStatisticsCollector.clear();
                  } else {
                    List<ClusterByPartition> timeSketchPartitions = longClusterByPartitionsEither.valueOrThrow().ranges();
                    abutAndAppendPartitionBoundries(finalPartitionBoundries, timeSketchPartitions);
                    log.debug("Query [%s]. Finished generating partitions for time chunk %s, total count so far %s",
```

### DataFlowIssue
Method invocation `generatePartitionsWithMaxCount` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/MaxCountShuffleSpec.java`
#### Snippet
```java
      return Either.error((long) partitions);
    } else {
      final ClusterByPartitions generatedPartitions = collector.generatePartitionsWithMaxCount(partitions);
      if (generatedPartitions.size() <= maxNumPartitions) {
        return Either.value(generatedPartitions);
```

### DataFlowIssue
Method invocation `getClusterBy` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/StageDefinition.java`
#### Snippet
```java

    return ClusterByStatisticsCollectorImpl.create(
        shuffleSpec.getClusterBy(),
        signature,
        maxRetainedBytes,
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/kernel/controller/ControllerStageTracker.java`
#### Snippet
```java
          stageNumber,
          workerCount,
          resultPartitionBoundaries.size()
      );
    } else {
```

### DataFlowIssue
Method invocation `getStagePartition` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessorFactory.java`
#### Snippet
```java
    final Sequence<SegmentGeneratorFrameProcessor> workers = inputSequence.map(
        readableInputPair -> {
          final StagePartition stagePartition = Preconditions.checkNotNull(readableInputPair.rhs.getStagePartition());
          final SegmentIdWithShardSpec segmentIdWithShardSpec = extra.get(readableInputPair.lhs);
          final String idString = StringUtils.format("%s:%s", stagePartition, workerNumber);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessorFactory.java`
#### Snippet
```java
        readableInputPair -> {
          final StagePartition stagePartition = Preconditions.checkNotNull(readableInputPair.rhs.getStagePartition());
          final SegmentIdWithShardSpec segmentIdWithShardSpec = extra.get(readableInputPair.lhs);
          final String idString = StringUtils.format("%s:%s", stagePartition, workerNumber);
          final File persistDirectory = new File(
```

### DataFlowIssue
Unboxing of `readableInputPair.lhs` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/SegmentGeneratorFrameProcessorFactory.java`
#### Snippet
```java
        readableInputPair -> {
          final StagePartition stagePartition = Preconditions.checkNotNull(readableInputPair.rhs.getStagePartition());
          final SegmentIdWithShardSpec segmentIdWithShardSpec = extra.get(readableInputPair.lhs);
          final String idString = StringUtils.format("%s:%s", stagePartition, workerNumber);
          final File persistDirectory = new File(
```

### DataFlowIssue
Method invocation `stream` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
        for (final DataSegment segmentToDrop : segmentsToDrop) {
          if (destination.getReplaceTimeChunks()
                         .stream()
                         .noneMatch(interval -> interval.contains(segmentToDrop.getInterval()))) {
            throw new MSQException(new InsertCannotReplaceExistingSegmentFault(segmentToDrop.getId()));
```

### DataFlowIssue
Method invocation `toArray` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
        new TimestampSpec(ColumnHolder.TIME_COLUMN_NAME, "millis", null),
        new DimensionsSpec(dimensionsAndAggregators.lhs),
        dimensionsAndAggregators.rhs.toArray(new AggregatorFactory[0]),
        makeGranularitySpecForIngestion(querySpec.getQuery(), querySpec.getColumnMappings(), isRollupQuery, jsonMapper),
        new TransformSpec(null, Collections.emptyList())
```

### DataFlowIssue
Method invocation `stream` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java

      // Validate interval against the replaceTimeChunks set of intervals.
      if (destination.getReplaceTimeChunks().stream().noneMatch(chunk -> chunk.contains(interval))) {
        throw new MSQException(new InsertTimeOutOfBoundsFault(interval));
      }
```

### DataFlowIssue
Unboxing of `ranges.get(segmentNumber).lhs` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java

      for (int segmentNumber = 0; segmentNumber < ranges.size(); segmentNumber++) {
        final int partitionNumber = ranges.get(segmentNumber).lhs;
        final ShardSpec shardSpec;

```

### DataFlowIssue
Method invocation `getStart` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
          final ClusterByPartition range = ranges.get(segmentNumber).rhs;
          final StringTuple start =
              segmentNumber == 0 ? null : makeStringTuple(clusterBy, keyReader, range.getStart());
          final StringTuple end =
              segmentNumber == ranges.size() - 1 ? null : makeStringTuple(clusterBy, keyReader, range.getEnd());
```

### DataFlowIssue
Method invocation `getEnd` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
              segmentNumber == 0 ? null : makeStringTuple(clusterBy, keyReader, range.getStart());
          final StringTuple end =
              segmentNumber == ranges.size() - 1 ? null : makeStringTuple(clusterBy, keyReader, range.getEnd());

          shardSpec = new DimensionRangeShardSpec(shardColumns, start, end, segmentNumber, ranges.size());
```

### DataFlowIssue
Method invocation `intValue` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
          selfDruidNode.getHost(),
          null,
          new TooManyWarningsFault(limit.intValue(), errorCode)
      ));
      addToKernelManipulationQueue(
```

### DataFlowIssue
Argument `startKey` might be null
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
      final RowKey startKey = partitionBoundary.getStart();
      final DateTime timestamp =
          DateTimes.utc(MSQTasks.primaryTimestampFromObjectForInsert(keyReader.read(startKey, 0)));

      if (segmentGranularity.bucketStart(timestamp.getMillis()) != timestamp.getMillis()) {
```

### DataFlowIssue
Argument `type.getComplexTypeName()` might be null
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
            dimensions.add(DimensionSchemaUtils.createDimensionSchema(outputColumn, type));
          } else if (!isRollupQuery) {
            aggregators.add(new PassthroughAggregatorFactory(outputColumn, type.getComplexTypeName()));
          } else {
            populateDimensionsAndAggregators(
```

### DataFlowIssue
Method invocation `getEnd` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/exec/ControllerImpl.java`
#### Snippet
```java
              queryKernel.getStageDefinition(stageId).getStageNumber(),
              (k, currentValue) -> {
                if (currentValue.getEnd().equals(DateTimes.MAX)) {
                  return new Interval(currentValue.getStart(), DateTimes.nowUtc());
                } else {
```

### DataFlowIssue
Dereference of `intervals` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/indexing/MSQControllerTask.java`
#### Snippet
```java
          ((DataSourceMSQDestination) querySpec.getDestination()).getReplaceTimeChunks();

      for (final Interval interval : intervals) {
        final TaskLock taskLock =
            taskActionClient.submit(new TimeChunkLockTryAcquireAction(TaskLockType.EXCLUSIVE, interval));
```

### DataFlowIssue
Method invocation `getPartitionNumber` may produce `NullPointerException`
in `extensions-core/multi-stage-query/src/main/java/org/apache/druid/msq/querykit/groupby/GroupByPostShuffleFrameProcessorFactory.java`
#### Snippet
```java
        readableInput -> {
          final OutputChannel outputChannel =
              outputChannels.get(readableInput.getStagePartition().getPartitionNumber());

          return new GroupByPostShuffleFrameProcessor(
```

### DataFlowIssue
Argument `collector` might be null
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/aggregation/bloom/BaseBloomFilterAggregator.java`
#### Snippet
```java
  public void aggregate()
  {
    aggregate(collector, 0);
  }

```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/aggregation/bloom/sql/BloomFilterSqlAggregator.java`
#### Snippet
```java
              inputMatches =
                  input.getSimpleExtraction().getColumn().equals(theFactory.getField().getDimension()) &&
                  input.getSimpleExtraction().getExtractionFn().equals(theFactory.getField().getExtractionFn());
            }
          } else {
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupConverter.java`
#### Snippet
```java
    for (int i = 0; i < mapEntries; i++) {
      Group mapEntry = g.getGroup(0, i);
      String key = convertPrimitiveField(mapEntry, 0, binaryAsString).toString();
      Object value = convertField(mapEntry, "value", binaryAsString);
      converted.put(key, value);
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/ProtobufInputRowParser.java`
#### Snippet
```java
    } else {
      dimensions = Lists.newArrayList(
          Sets.difference(record.keySet(), parseSpec.getDimensionsSpec().getDimensionExclusions())
      );
    }
```

### DataFlowIssue
@Nullable method 'convertMap' always returns a non-null value
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/ProtobufConverter.java`
#### Snippet
```java
  }

  @Nullable
  private static Object convertMap(Descriptors.FieldDescriptor field, Object value)
      throws InvalidProtocolBufferException
```

### DataFlowIssue
Argument `config` might be null
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/SchemaRegistryBasedProtobufBytesDecoder.java`
#### Snippet
```java
    this.jsonMapper = jsonMapper;
    if (url != null && !url.isEmpty()) {
      this.registry = new CachedSchemaRegistryClient(Collections.singletonList(this.url), this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
```

### DataFlowIssue
Argument `headers` might be null
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/SchemaRegistryBasedProtobufBytesDecoder.java`
#### Snippet
```java
    this.jsonMapper = jsonMapper;
    if (url != null && !url.isEmpty()) {
      this.registry = new CachedSchemaRegistryClient(Collections.singletonList(this.url), this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
```

### DataFlowIssue
Argument `this.urls` might be null
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/SchemaRegistryBasedProtobufBytesDecoder.java`
#### Snippet
```java
      this.registry = new CachedSchemaRegistryClient(Collections.singletonList(this.url), this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    }
  }
```

### DataFlowIssue
Argument `config` might be null
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/SchemaRegistryBasedProtobufBytesDecoder.java`
#### Snippet
```java
      this.registry = new CachedSchemaRegistryClient(Collections.singletonList(this.url), this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    }
  }
```

### DataFlowIssue
Argument `headers` might be null
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/SchemaRegistryBasedProtobufBytesDecoder.java`
#### Snippet
```java
      this.registry = new CachedSchemaRegistryClient(Collections.singletonList(this.url), this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    } else {
      this.registry = new CachedSchemaRegistryClient(this.urls, this.capacity, Collections.singletonList(new ProtobufSchemaProvider()), DynamicConfigProviderUtils.extraConfigAndSetObjectMap(config, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper), DynamicConfigProviderUtils.extraConfigAndSetStringMap(headers, DRUID_DYNAMIC_CONFIG_PROVIDER_KEY, this.jsonMapper));
    }
  }
```

### DataFlowIssue
Method invocation `getAnnotations` may produce `NullPointerException`
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/DefaultK8sApiClient.java`
#### Snippet
```java
  private DiscoveryDruidNode getDiscoveryDruidNodeFromPodDef(NodeRole nodeRole, V1Pod podDef)
  {
    String jsonStr = podDef.getMetadata().getAnnotations().get(K8sDruidNodeAnnouncer.getInfoAnnotation(nodeRole));
    try {
      return jsonMapper.readValue(jsonStr, DiscoveryDruidNode.class);
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/DefaultK8sApiClient.java`
#### Snippet
```java
  private DiscoveryDruidNode getDiscoveryDruidNodeFromPodDef(NodeRole nodeRole, V1Pod podDef)
  {
    String jsonStr = podDef.getMetadata().getAnnotations().get(K8sDruidNodeAnnouncer.getInfoAnnotation(nodeRole));
    try {
      return jsonMapper.readValue(jsonStr, DiscoveryDruidNode.class);
```

### DataFlowIssue
Method invocation `getResourceVersion` may produce `NullPointerException`
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/DefaultK8sApiClient.java`
#### Snippet
```java
                if (item.object != null) {
                  result = new DiscoveryDruidNodeAndResourceVersion(
                    item.object.getMetadata().getResourceVersion(),
                    getDiscoveryDruidNodeFromPodDef(nodeRole, item.object)
                  );
```

### DataFlowIssue
Method invocation `getResourceVersion` may produce `NullPointerException`
in `extensions-core/kubernetes-extensions/src/main/java/org/apache/druid/k8s/discovery/DefaultK8sApiClient.java`
#### Snippet
```java
        allNodes.put(node.getDruidNode().getHostAndPortToUse(), node);
      }
      return new DiscoveryDruidNodeList(podList.getMetadata().getResourceVersion(), allNodes);
    }
    catch (ApiException ex) {
```

### DataFlowIssue
@Nullable method 'generateCache' always returns a non-null value
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/StaticMapCacheGenerator.java`
#### Snippet
```java

  @Override
  @Nullable
  public String generateCache(
      final StaticMapExtractionNamespace namespace,
```

### DataFlowIssue
Method invocation `getRecordBufferSize` may produce `NullPointerException`
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisSamplerSpec.java`
#### Snippet
```java
        1,
        ioConfig.isDeaggregate(),
        tuningConfig.getRecordBufferSize(),
        tuningConfig.getRecordBufferOfferTimeout(),
        tuningConfig.getRecordBufferFullWait(),
```

### DataFlowIssue
Method invocation `createOutputStream` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/Utils.java`
#### Snippet
```java

    if (FileOutputFormat.getCompressOutput(job)) {
      retVal = codec.createOutputStream(fs.create(outputPath, false));
    } else {
      retVal = fs.create(outputPath, false);
```

### DataFlowIssue
Argument `parser.parse(((Text) input).toString())` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopyStringInputRowParser.java`
#### Snippet
```java
  {
    if (input instanceof Text) {
      return ImmutableList.of(parser.parse(((Text) input).toString()));
    } else if (input instanceof BytesWritable) {
      BytesWritable valueBytes = (BytesWritable) input;
```

### DataFlowIssue
Method invocation `getSegmentTable` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/MetadataStorageUpdaterJob.java`
#### Snippet
```java
    final List<DataSegmentAndIndexZipFilePath> segmentAndIndexZipFilePaths = IndexGeneratorJob.getPublishedSegmentAndIndexZipFilePaths(config);
    final List<DataSegment> segments = segmentAndIndexZipFilePaths.stream().map(s -> s.getSegment()).collect(Collectors.toList());
    final String segmentTable = config.getSchema().getIOConfig().getMetadataUpdateSpec().getSegmentTable();
    handler.publishSegments(segmentTable, segments, HadoopDruidIndexerConfig.JSON_MAPPER);

```

### DataFlowIssue
Argument `hadoopJobIdFile` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerJob.java`
#### Snippet
```java
    );

    config.setHadoopJobIdFileName(hadoopJobIdFile);
    return JobHelper.runJobs(jobs);
  }
```

### DataFlowIssue
Expression `publishedSegmentAndIndexZipFilePaths` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/HadoopDruidIndexerJob.java`
#### Snippet
```java
      throw new IllegalStateException("Job hasn't run yet. No segments have been published yet.");
    }
    return publishedSegmentAndIndexZipFilePaths;
  }

```

### DataFlowIssue
Method invocation `getGranularitySpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java

      if (determineIntervals) {
        interval = config.getGranularitySpec().getSegmentGranularity().bucket(DateTimes.utc(key.get()));
      } else {
        Optional<Interval> intervalOptional = config.getGranularitySpec().bucketInterval(DateTimes.utc(key.get()));
```

### DataFlowIssue
Method invocation `getGranularitySpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
        interval = config.getGranularitySpec().getSegmentGranularity().bucket(DateTimes.utc(key.get()));
      } else {
        Optional<Interval> intervalOptional = config.getGranularitySpec().bucketInterval(DateTimes.utc(key.get()));

        if (!intervalOptional.isPresent()) {
```

### DataFlowIssue
Method invocation `makeIntervalInfoPath` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      super.run(context);
      if (determineIntervals) {
        final Path outPath = config.makeIntervalInfoPath();
        final OutputStream out = Utils.makePathAndOutputStream(context, outPath, config.isOverwriteFiles());

```

### DataFlowIssue
Argument `config` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
    {

      if ("local".equals(JobHelper.getJobTrackerAddress(config)) || determineIntervals) {
        return 0;
      } else {
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
        return 0;
      } else {
        return reducerLookup.get(interval);
      }
    }
```

### DataFlowIssue
Method invocation `bucketStart` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java

      final List<Object> groupKey = Rows.toGroupKey(
          rollupGranularity.bucketStart(inputRow.getTimestamp()).getMillis(),
          inputRow
      );
```

### DataFlowIssue
Method invocation `getGranularitySpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      Interval interval;
      if (determineIntervals) {
        interval = config.getGranularitySpec()
                         .getSegmentGranularity()
                         .bucket(DateTimes.utc(inputRow.getTimestampFromEpoch()));
```

### DataFlowIssue
Method invocation `computeIfAbsent` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
                         .bucket(DateTimes.utc(inputRow.getTimestampFromEpoch()));

        hyperLogLogs.computeIfAbsent(interval, intv -> HyperLogLogCollector.makeLatestCollector());
      } else {
        final Optional<Interval> maybeInterval = config.getGranularitySpec()
```

### DataFlowIssue
Method invocation `getGranularitySpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
        hyperLogLogs.computeIfAbsent(interval, intv -> HyperLogLogCollector.makeLatestCollector());
      } else {
        final Optional<Interval> maybeInterval = config.getGranularitySpec()
                                                       .bucketInterval(DateTimes.utc(inputRow.getTimestampFromEpoch()));

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java

      hyperLogLogs
          .get(interval)
          .add(hashFunction.hashBytes(HadoopDruidIndexerConfig.JSON_MAPPER.writeValueAsBytes(groupKey)).asBytes());

```

### DataFlowIssue
Expression `config` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
    public Configuration getConf()
    {
      return config;
    }

```

### DataFlowIssue
Method invocation `entrySet` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
      }

      for (Map.Entry<Interval, HyperLogLogCollector> entry : hyperLogLogs.entrySet()) {
        context.write(
            new LongWritable(entry.getKey().getStartMillis()),
```

### DataFlowIssue
Expression `Utils.getFailureMessage(groupByJob, HadoopDruidIndexerConfig.JSON_MAPPER)` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DetermineHashedPartitionsJob.java`
#### Snippet
```java
        if (!groupByJob.waitForCompletion(true)) {
          log.error("Job failed: %s", groupByJob.getJobID());
          failureCause = Utils.getFailureMessage(groupByJob, HadoopDruidIndexerConfig.JSON_MAPPER);
          return false;
        }
```

### DataFlowIssue
Variable is already assigned to this value
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java
            );

            recordsResult = null;

            if (!records.offer(currRecord, recordBufferOfferTimeout, TimeUnit.MILLISECONDS)) {
```

### DataFlowIssue
Expression `Utils.getFailureMessage(groupByJob, HadoopDruidIndexerConfig.JSON_MAPPER)` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
          if (!groupByJob.waitForCompletion(true)) {
            log.error("Job failed: %s", groupByJob.getJobID());
            failureCause = Utils.getFailureMessage(groupByJob, HadoopDruidIndexerConfig.JSON_MAPPER);
            return false;
          }
```

### DataFlowIssue
Expression `Utils.getFailureMessage(dimSelectionJob, HadoopDruidIndexerConfig.JSON_MAPPER)` might evaluate to null but is assigned to a variable that is annotated with @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
        if (!dimSelectionJob.waitForCompletion(true)) {
          log.error("Job failed: %s", dimSelectionJob.getJobID().toString());
          failureCause = Utils.getFailureMessage(dimSelectionJob, HadoopDruidIndexerConfig.JSON_MAPPER);
          return false;
        }
```

### DataFlowIssue
Method invocation `bucketStart` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
    {
      final List<Object> groupKey = Rows.toGroupKey(
          rollupGranularity.bucketStart(inputRow.getTimestamp()).getMillis(),
          inputRow
      );
```

### DataFlowIssue
Method invocation `emitDimValueCounts` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final Map<String, Iterable<String>> dims = (Map<String, Iterable<String>>) timeAndDims.get(1);

      helper.emitDimValueCounts(context, timestamp, dims);
    }
  }
```

### DataFlowIssue
Method invocation `getGranularitySpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      log.info(
          "Determining partitions for interval: %s",
          config.getGranularitySpec().bucketInterval(bucket).orNull()
      );

```

### DataFlowIssue
Method invocation `getTargetPartitionSize` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java

        // See if we need to cut a new partition ending immediately before this dimension value
        if (currentDimPartition.rows > 0 && currentDimPartition.rows + dvc.numRows > config.getTargetPartitionSize()) {
          final ShardSpec shardSpec = new SingleDimensionShardSpec(
              currentDimPartitions.dim,
```

### DataFlowIssue
Method invocation `getTargetPartitionSize` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
            final ShardSpec shardSpec;

            if (currentDimPartition.rows < config.getTargetPartitionSize() * SHARD_COMBINE_THRESHOLD &&
                !currentDimPartitions.partitions.isEmpty()) {
              // Combine with previous shard if it exists and the current shard is small enough
```

### DataFlowIssue
Method invocation `getStart` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
              shardSpec = new SingleDimensionShardSpec(
                  currentDimPartitions.dim,
                  previousShardSpec.getStart(),
                  null,
                  previousShardSpec.getPartitionNum(),
```

### DataFlowIssue
Method invocation `getPartitionsSpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
        boolean oversized = false;
        final SingleDimensionPartitionsSpec partitionsSpec =
            (SingleDimensionPartitionsSpec) config.getPartitionsSpec();
        for (final DimPartition partition : dimPartitions.partitions) {
          if (partition.rows > partitionsSpec.getMaxRowsPerSegment()) {
```

### DataFlowIssue
Method invocation `getTargetPartitionSize` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java

        final int cardinality = dimPartitions.getCardinality();
        final long distance = dimPartitions.getDistanceSquaredFromTarget(config.getTargetPartitionSize());

        if (cardinality > maxCardinality) {
```

### DataFlowIssue
Method invocation `makeSegmentPartitionInfoPath` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final OutputStream out = Utils.makePathAndOutputStream(
          context,
          config.makeSegmentPartitionInfoPath(config.getGranularitySpec().bucketInterval(bucket).get()),
          config.isOverwriteFiles()
      );
```

### DataFlowIssue
Method invocation `getGranularitySpec` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final OutputStream out = Utils.makePathAndOutputStream(
          context,
          config.makeSegmentPartitionInfoPath(config.getGranularitySpec().bucketInterval(bucket).get()),
          config.isOverwriteFiles()
      );
```

### DataFlowIssue
Method invocation `isOverwriteFiles` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
          context,
          config.makeSegmentPartitionInfoPath(config.getGranularitySpec().bucketInterval(bucket).get()),
          config.isOverwriteFiles()
      );

```

### DataFlowIssue
Dereference of `chosenPartitions` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java

      final List<ShardSpec> chosenShardSpecs = Lists.transform(
          chosenPartitions.partitions,
          dimPartition -> dimPartition.shardSpec
      );
```

### DataFlowIssue
Argument `spec.getPartitionDimension()` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final HadoopDruidIndexerConfig config = HadoopDruidIndexerConfig.fromConfiguration(context.getConfiguration());
      SingleDimensionPartitionsSpec spec = (SingleDimensionPartitionsSpec) config.getPartitionsSpec();
      helper = new DeterminePartitionsDimSelectionMapperHelper(config, spec.getPartitionDimension());
    }

```

### DataFlowIssue
Argument `spec.getPartitionDimension()` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final HadoopDruidIndexerConfig config = HadoopDruidIndexerConfig.fromConfiguration(context.getConfiguration());
      final SingleDimensionPartitionsSpec spec = (SingleDimensionPartitionsSpec) config.getPartitionsSpec();
      helper = new DeterminePartitionsDimSelectionMapperHelper(config, spec.getPartitionDimension());
    }

```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/JobHelper.java`
#### Snippet
```java
    // TODO: add getURI() to URIDataPuller
    final Map<String, Object> loadSpec = dataSegment.getLoadSpec();
    final String type = loadSpec.get("type").toString();
    final URI segmentLocURI;
    if ("s3_zip".equals(type)) {
```

### DataFlowIssue
Argument `bucket` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
        SortableBytes keyBytes = SortableBytes.fromBytesWritable(key);
        Bucket bucket = Bucket.fromGroupKey(keyBytes.getGroupKey()).lhs;
        IncrementalIndex index = makeIncrementalIndex(bucket, combiningAggs, config, null, null);
        index.add(InputRowSerde.fromBytes(typeHelperMap, first.getBytes(), aggregators));

```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
        SortableBytes keyBytes = SortableBytes.fromBytesWritable(key);
        Bucket bucket = Bucket.fromGroupKey(keyBytes.getGroupKey()).lhs;
        IncrementalIndex index = makeIncrementalIndex(bucket, combiningAggs, config, null, null);
        index.add(InputRowSerde.fromBytes(typeHelperMap, first.getBytes(), aggregators));

```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
        SortableBytes keyBytes = SortableBytes.fromBytesWritable(key);
        Bucket bucket = Bucket.fromGroupKey(keyBytes.getGroupKey()).lhs;
        IncrementalIndex index = makeIncrementalIndex(bucket, combiningAggs, config, null, null);
        index.add(InputRowSerde.fromBytes(typeHelperMap, first.getBytes(), aggregators));

```

### DataFlowIssue
Dereference of `bucket` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
      Bucket bucket = Bucket.fromGroupKey(keyBytes.getGroupKey()).lhs;

      final Interval interval = config.getGranularitySpec().bucketInterval(bucket.time).get();

      ListeningExecutorService persistExecutor = null;
```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
          combiningAggs,
          config,
          null,
          null
      );
```

### DataFlowIssue
Passing `null` argument to parameter annotated as @NotNull
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
          config,
          null,
          null
      );
      try {
```

### DataFlowIssue
Argument `config.getSchema().getIOConfig().getSegmentOutputPath()` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/IndexGeneratorJob.java`
#### Snippet
```java
          );
        }
        final FileSystem outputFS = new Path(config.getSchema().getIOConfig().getSegmentOutputPath())
            .getFileSystem(context.getConfiguration());

```

### DataFlowIssue
Argument `ret` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
      }

      writeNullableNumeric(ret, out, NullHandling::defaultLongValue, out::writeLong);

      if (exceptionToThrow != null) {
```

### DataFlowIssue
Argument `ret` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
      }

      writeNullableNumeric(ret, out, NullHandling::defaultDoubleValue, out::writeDouble);

      if (exceptionToThrow != null) {
```

### DataFlowIssue
Method invocation `getIntermediateType` may produce `NullPointerException`
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
        final String metric = readString(in);
        final AggregatorFactory agg = getAggregator(metric, aggs, i);
        final ColumnType type = agg.getIntermediateType();
        final byte metricNullability = in.readByte();

```

### DataFlowIssue
Argument `agg.getIntermediateType().getComplexTypeName()` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
          event.put(metric, in.readDouble());
        } else {
          ComplexMetricSerde serde = getComplexMetricSerde(agg.getIntermediateType().getComplexTypeName());
          byte[] value = readBytes(in);
          event.put(metric, serde.fromBytes(value, 0, value.length));
```

### DataFlowIssue
Argument `row.getRaw(dim)` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java

        try {
          typeHelper.serialize(out, row.getRaw(dim));
        }
        catch (ParseException pe) {
```

### DataFlowIssue
Argument `type.getComplexTypeName()` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
            } else if (type.is(ValueType.COMPLEX)) {
              Object val = agg.get();
              ComplexMetricSerde serde = getComplexMetricSerde(type.getComplexTypeName());
              writeBytes(serde.toBytes(val), out);
            } else {
```

### DataFlowIssue
Argument `ret` might be null
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
      }

      writeNullableNumeric(ret, out, NullHandling::defaultFloatValue, out::writeFloat);

      if (exceptionToThrow != null) {
```

### DataFlowIssue
Expression `readStringArray(in)` might evaluate to null but is returned by the method declared as @EverythingIsNonnullByDefault
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/InputRowSerde.java`
#### Snippet
```java
    {
      try {
        return readStringArray(in);
      }
      catch (IOException ioe) {
```

### DataFlowIssue
Method invocation `fetch` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/input/DruidSegmentReader.java`
#### Snippet
```java
  protected CloseableIterator<Map<String, Object>> intermediateRowIterator() throws IOException
  {
    final CleanableFile segmentFile = source().fetch(temporaryDirectory, null);
    final WindowedStorageAdapter storageAdapter = new WindowedStorageAdapter(
        new QueryableIndexStorageAdapter(
```

### DataFlowIssue
Method invocation `getMetadata` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/Task.java`
#### Snippet
```java
        taskInfo.getStatus(),
        taskInfo.getDataSource(),
        taskInfo.getTask().getMetadata()
    );
  }
```

### DataFlowIssue
Method invocation `convert` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CachingLocalSegmentAllocator.java`
#### Snippet
```java
          final ShardSpec shardSpec = isParallel
                                      ? pair.rhs
                                      : pair.rhs.convert(
                                          intervalToNextPartitionId.computeInt(
                                              interval,
```

### DataFlowIssue
Argument `shardSpec` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CachingLocalSegmentAllocator.java`
#### Snippet
```java
                                      );
          final String version = versionFinder.apply(interval);
          return new SegmentIdWithShardSpec(dataSource, interval, version, shardSpec);
        }
    );
```

### DataFlowIssue
Argument `maybeHandler` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/HadoopIndexTask.java`
#### Snippet
```java
        maybeHandler = null;
      }
      job = new HadoopDruidIndexerJob(config, maybeHandler);
      job.setHadoopJobIdFile(hadoopJobIdFile);

```

### DataFlowIssue
Dereference of `intervalAndVersion` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/AbstractBatchIndexTask.java`
#### Snippet
```java
    return new SegmentIdWithShardSpec(
        ingestionSchema.getDataSchema().getDataSource(),
        intervalAndVersion.lhs,
        intervalAndVersion.rhs,
        new TombstoneShardSpec()
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
        final DataSegment dataSegment = segmentPair.lhs;

        try (final ResourceHolder<QueryableIndex> queryableIndexHolder = segmentPair.rhs.get()) {
          final QueryableIndex index = queryableIndexHolder.get();

```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
              throw new RE(
                  "Index metadata doesn't exist for segment [%s]. Try providing explicit rollup, "
                  + "queryGranularity, dimensionsSpec, and metricsSpec.", dataSegment.getId()
              );
            }
```

### DataFlowIssue
Method invocation `getQueryGranularity` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java

      // Pick the finer, non-null, of the query granularities of the segments being compacted
      Granularity current = index.getMetadata().getQueryGranularity();
      queryGranularity = compareWithCurrent(queryGranularity, current);
    }
```

### DataFlowIssue
Method invocation `getInterval` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
      segments.sort(
          Comparator.comparing(
              o -> o.lhs.getInterval(),
              Comparators.intervalsByStartThenEnd().reversed()
          )
```

### DataFlowIssue
Method invocation `getAggregators` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
      }

      final AggregatorFactory[] aggregators = index.getMetadata().getAggregators();
      if (aggregators != null) {
        // aggregatorFactoryLists is a Set: we don't want to store tons of copies of the same aggregator lists from
```

### DataFlowIssue
Method invocation `isRollup` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/CompactionTask.java`
#### Snippet
```java
      // carry-overs (i.e. query granularity & rollup) are valid iff they are the same in every segment:
      // Pick rollup value if all segments being compacted have the same, non-null, value otherwise set it to false
      final Boolean isIndexRollup = index.getMetadata().isRollup();
      rollup = rollup && Boolean.valueOf(true).equals(isIndexRollup);
    }
```

### DataFlowIssue
Argument `errorMsg` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
      return TaskStatus.failure(
          getId(),
          errorMsg
      );
    }
```

### DataFlowIssue
Casting `partitionsSpec` to `HashedPartitionsSpec` may produce `ClassCastException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
      final int numBucketsPerInterval;
      if (partitionsSpec.getType() == SecondaryPartitionType.HASH) {
        final HashedPartitionsSpec hashedPartitionsSpec = (HashedPartitionsSpec) partitionsSpec;
        final HyperLogLogCollector collector = entry.getValue().orNull();

```

### DataFlowIssue
Argument `errorMsg` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/SinglePhaseSubTask.java`
#### Snippet
```java
      return TaskStatus.failure(
          getId(),
          errorMsg
      );
    }
```

### DataFlowIssue
Argument `TaskConfig.class.getResourceAsStream("/" + HADOOP...` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/common/config/TaskConfig.java`
#### Snippet
```java
      DEFAULT_DEFAULT_HADOOP_COORDINATES =
          ImmutableList.copyOf(Lists.newArrayList(IOUtils.toString(
              TaskConfig.class.getResourceAsStream("/"
                                                   + HADOOP_LIB_VERSIONS),
              StandardCharsets.UTF_8
          ).split(",")));
```

### DataFlowIssue
Dereference of `files` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/tasklogs/FileTaskLogs.java`
#### Snippet
```java
      File[] files = taskLogDir.listFiles(f -> f.lastModified() < timestamp);

      for (File file : files) {
        log.info("Deleting local task log [%s].", file.getAbsolutePath());
        org.apache.commons.io.FileUtils.forceDelete(file);
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycleConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private File statusFile = null;

  @JsonProperty
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/executor/ExecutorLifecycleConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private File taskFile = null;

  @JsonProperty
```

### DataFlowIssue
Argument `segmentsToBeOverwritten` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/common/actions/SegmentTransactionalInsertAction.java`
#### Snippet
```java
  private void checkWithSegmentLock()
  {
    final Map<Interval, List<DataSegment>> oldSegmentsMap = groupSegmentsByIntervalAndSort(segmentsToBeOverwritten);
    final Map<Interval, List<DataSegment>> newSegmentsMap = groupSegmentsByIntervalAndSort(segments);

```

### DataFlowIssue
Dereference of `assignedTaskDir.listFiles()` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
    FileUtils.mkdirp(assignedTaskDir);

    for (File taskFile : assignedTaskDir.listFiles()) {
      try {
        String taskId = taskFile.getName();
```

### DataFlowIssue
Dereference of `completedTaskDir.listFiles()` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
    FileUtils.mkdirp(completedTaskDir);

    for (File taskFile : completedTaskDir.listFiles()) {
      try {
        String taskId = taskFile.getName();
```

### DataFlowIssue
Argument `pair.lhs` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskManager.java`
#### Snippet
```java
    final List<Pair<Task, ListenableFuture<TaskStatus>>> restored = taskRunner.restore();
    for (Pair<Task, ListenableFuture<TaskStatus>> pair : restored) {
      addRunningTask(pair.lhs, pair.rhs);
    }
  }
```

### DataFlowIssue
Method invocation `execute` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java
    for (final Pair<TaskRunnerListener, Executor> listener : listeners) {
      try {
        listener.rhs.execute(() -> listener.lhs.statusChanged(taskId, status));
      }
      catch (Exception e) {
```

### DataFlowIssue
Method invocation `statusChanged` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java
    for (final Pair<TaskRunnerListener, Executor> listener : listeners) {
      try {
        listener.rhs.execute(() -> listener.lhs.statusChanged(taskId, status));
      }
      catch (Exception e) {
```

### DataFlowIssue
Method invocation `execute` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java
    for (final Pair<TaskRunnerListener, Executor> listener : listeners) {
      try {
        listener.rhs.execute(() -> listener.lhs.locationChanged(taskId, location));
      }
      catch (Exception e) {
```

### DataFlowIssue
Method invocation `locationChanged` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskRunnerUtils.java`
#### Snippet
```java
    for (final Pair<TaskRunnerListener, Executor> listener : listeners) {
      try {
        listener.rhs.execute(() -> listener.lhs.locationChanged(taskId, location));
      }
      catch (Exception e) {
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/SingleTaskBackgroundRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listenerId)) {
        listeners.remove(pair);
        log.info("Unregistered listener [%s]", listenerId);
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/SingleTaskBackgroundRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listener.getListenerId())) {
        throw new ISE("Listener [%s] already registered", listener.getListenerId());
      }
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/BaseRestorableTaskRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listener.getListenerId())) {
        throw new ISE("Listener [%s] already registered", listener.getListenerId());
      }
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/BaseRestorableTaskRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listenerId)) {
        listeners.remove(pair);
        LOG.debug("Unregistered listener [%s]", listenerId);
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    TaskState distributionState = runNextPhase(distributionRunner);
    if (distributionState.isFailure()) {
      String errMsg = StringUtils.format(TASK_PHASE_FAILURE_MSG, distributionRunner.getName());
      return TaskStatus.failure(getId(), errMsg);
    }
```

### DataFlowIssue
Method invocation `getIntervalToPartitionBoundaries` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    final Map<Interval, PartitionBoundaries> intervalToPartitions;
    try {
      intervalToPartitions = distributionRunner.getIntervalToPartitionBoundaries(
          (DimensionRangePartitionsSpec) ingestionSchema.getTuningConfig().getGivenOrDefaultPartitionsSpec()
      );
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      String errMsg = StringUtils.format(
          TASK_PHASE_FAILURE_MSG,
          indexingRunner.getName()
      );
      return TaskStatus.failure(getId(), errMsg);
```

### DataFlowIssue
Method invocation `getReports` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    // partition (interval, partitionId) -> partition locations
    Map<Partition, List<PartitionLocation>> partitionToLocations =
        getPartitionToLocations(indexingRunner.getReports());
    final List<PartialSegmentMergeIOConfig> ioConfigs = createGenericMergeIOConfigs(
        ingestionSchema.getTuningConfig().getTotalNumMergeTasks(),
```

### DataFlowIssue
Method invocation `getReports` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    TaskStatus taskStatus;
    if (mergeState.isSuccess()) {
      publishSegments(toolbox, mergeRunner.getReports());
      if (awaitSegmentAvailabilityTimeoutMillis > 0) {
        waitForSegmentAvailability(mergeRunner.getReports());
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      String errMsg = StringUtils.format(
          TASK_PHASE_FAILURE_MSG,
          mergeRunner.getName()
      );
      taskStatus = TaskStatus.failure(getId(), errMsg);
```

### DataFlowIssue
Method invocation `getStopReason` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      Preconditions.checkState(state.isFailure(), "Unrecognized state after task is complete[%s]", state);
      final String errorMessage;
      if (parallelSinglePhaseRunner.getStopReason() != null) {
        errorMessage = parallelSinglePhaseRunner.getStopReason();
      } else {
```

### DataFlowIssue
Unboxing of `partitionBoundaries.lhs` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      Pair<Integer, Integer> partitionBoundaries = getPartitionBoundaries(i, partitions.size(), numMergeTasks);
      final List<L> assignedToSameTask = partitions
          .subList(partitionBoundaries.lhs, partitionBoundaries.rhs)
          .stream()
          .flatMap(partition -> partitionToLocations.get(partition).stream())
```

### DataFlowIssue
Unboxing of `partitionBoundaries.rhs` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      Pair<Integer, Integer> partitionBoundaries = getPartitionBoundaries(i, partitions.size(), numMergeTasks);
      final List<L> assignedToSameTask = partitions
          .subList(partitionBoundaries.lhs, partitionBoundaries.rhs)
          .stream()
          .flatMap(partition -> partitionToLocations.get(partition).stream())
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
        String errMsg = StringUtils.format(
            TASK_PHASE_FAILURE_MSG,
            cardinalityRunner.getName()
        );
        return TaskStatus.failure(getId(), errMsg);
```

### DataFlowIssue
Method invocation `getReports` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      }

      if (cardinalityRunner.getReports().isEmpty()) {
        String msg = "No valid rows for hash partitioning."
                     + " All rows may have invalid timestamps or have been filtered out.";
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      String errMsg = StringUtils.format(
          TASK_PHASE_FAILURE_MSG,
          indexingRunner.getName()
      );
      return TaskStatus.failure(getId(), errMsg);
```

### DataFlowIssue
Method invocation `getReports` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
    // partition (interval, partitionId) -> partition locations
    Map<Partition, List<PartitionLocation>> partitionToLocations =
        getPartitionToLocations(indexingRunner.getReports());
    final List<PartialSegmentMergeIOConfig> ioConfigs = createGenericMergeIOConfigs(
        ingestionSchema.getTuningConfig().getTotalNumMergeTasks(),
```

### DataFlowIssue
Method invocation `getName` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java`
#### Snippet
```java
      String errMsg = StringUtils.format(
          TASK_PHASE_FAILURE_MSG,
          mergeRunner.getName()
      );
      taskStatus = TaskStatus.failure(getId(), errMsg);
```

### DataFlowIssue
Argument `attemptDir.listFiles(File::isDirectory)` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
    }
    int maxAttempt =
        Arrays.stream(attemptDir.listFiles(File::isDirectory))
              .mapToInt(x -> Integer.parseInt(x.getName()))
              .max().orElse(0);
```

### DataFlowIssue
Dereference of `left` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          // The second compare shouldn't be necessary, but, whatever.
          return ComparisonChain.start()
                                .compare(left.rhs.getVersion(), right.rhs.getVersion())
                                .compare(left.lhs.getId(), right.lhs.getId())
                                .result();
```

### DataFlowIssue
Method invocation `getVersion` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          // The second compare shouldn't be necessary, but, whatever.
          return ComparisonChain.start()
                                .compare(left.rhs.getVersion(), right.rhs.getVersion())
                                .compare(left.lhs.getId(), right.lhs.getId())
                                .result();
```

### DataFlowIssue
Dereference of `right` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          // The second compare shouldn't be necessary, but, whatever.
          return ComparisonChain.start()
                                .compare(left.rhs.getVersion(), right.rhs.getVersion())
                                .compare(left.lhs.getId(), right.lhs.getId())
                                .result();
```

### DataFlowIssue
Method invocation `getVersion` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          // The second compare shouldn't be necessary, but, whatever.
          return ComparisonChain.start()
                                .compare(left.rhs.getVersion(), right.rhs.getVersion())
                                .compare(left.lhs.getId(), right.lhs.getId())
                                .result();
```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          return ComparisonChain.start()
                                .compare(left.rhs.getVersion(), right.rhs.getVersion())
                                .compare(left.lhs.getId(), right.lhs.getId())
                                .result();
        }
```

### DataFlowIssue
Method invocation `getId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
          return ComparisonChain.start()
                                .compare(left.rhs.getVersion(), right.rhs.getVersion())
                                .compare(left.lhs.getId(), right.lhs.getId())
                                .result();
        }
```

### DataFlowIssue
Method invocation `isComplete` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/http/OverlordResource.java`
#### Snippet
```java
    final List<TaskStatusPlus> activeTaskStatusPlusList = new ArrayList<>();
    for (TaskStatusPlus statusPlus : taskStatusPlusList) {
      if (statusPlus.getStatusCode().isComplete()) {
        completeTaskStatusPlusList.add(statusPlus);
      } else {
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listener.getListenerId())) {
        throw new ISE("Listener [%s] already registered", listener.getListenerId());
      }
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listenerId)) {
        listeners.remove(pair);
        log.info("Unregistered listener [%s]", listenerId);
```

### DataFlowIssue
Method invocation `toImmutable` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/RemoteTaskRunner.java`
#### Snippet
```java
                     !blackListedWorkers.contains(input.getValue())
        ),
        (String key, ZkWorker value) -> value.toImmutable()
    );
  }
```

### DataFlowIssue
Method invocation `stop` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
      for (String id : supervisors.keySet()) {
        try {
          supervisors.get(id).lhs.stop(false);
          SupervisorTaskAutoScaler autoscaler = autoscalers.get(id);
          if (autoscaler != null) {
```

### DataFlowIssue
Method invocation `checkpoint` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
      Preconditions.checkNotNull(supervisor, "supervisor could not be found");

      supervisor.lhs.checkpoint(taskGroupId, previousDataSourceMetadata);
      return true;
    }
```

### DataFlowIssue
Method invocation `getStatus` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
    return supervisor == null ? Optional.absent() : Optional.fromNullable(supervisor.lhs.getStatus());
  }

```

### DataFlowIssue
Method invocation `getDataSources` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
      metadataSupervisorManager.insert(
          id,
          new NoopSupervisorSpec(null, pair.rhs.getDataSources())
      ); // where NoopSupervisorSpec is a tombstone
    }
```

### DataFlowIssue
Method invocation `stop` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
      ); // where NoopSupervisorSpec is a tombstone
    }
    pair.lhs.stop(true);
    supervisors.remove(id);

```

### DataFlowIssue
Method invocation `reset` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
    }

    supervisor.lhs.reset(dataSourceMetadata);
    SupervisorTaskAutoScaler autoscaler = autoscalers.get(id);
    if (autoscaler != null) {
```

### DataFlowIssue
Method invocation `isSuspended` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  {
    Pair<Supervisor, SupervisorSpec> pair = supervisors.get(id);
    if (pair == null || pair.rhs.isSuspended() == suspend) {
      return false;
    }
```

### DataFlowIssue
Method invocation `getParseErrors` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
    return supervisor == null ? Optional.absent() : Optional.fromNullable(supervisor.lhs.getParseErrors());
  }

```

### DataFlowIssue
Method invocation `isHealthy` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
    return supervisor == null ? Optional.absent() : Optional.fromNullable(supervisor.lhs.isHealthy());
  }

```

### DataFlowIssue
Method invocation `getStats` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
    return supervisor == null ? Optional.absent() : Optional.fromNullable(supervisor.lhs.getStats());
  }

```

### DataFlowIssue
Method invocation `getState` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/supervisor/SupervisorManager.java`
#### Snippet
```java
  {
    Pair<Supervisor, SupervisorSpec> supervisor = supervisors.get(id);
    return supervisor == null ? Optional.absent() : Optional.fromNullable(supervisor.lhs.getState());
  }

```

### DataFlowIssue
Method invocation `getMessage` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/sampler/InputSourceSampler.java`
#### Snippet
```java
                  null,
                  true,
                  addResult.getParseException().getMessage()
              ));
            } else {
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listener.getListenerId())) {
        throw new ISE("Listener [%s] already registered", listener.getListenerId());
      }
```

### DataFlowIssue
Method invocation `getListenerId` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
  {
    for (Pair<TaskRunnerListener, Executor> pair : listeners) {
      if (pair.lhs.getListenerId().equals(listenerId)) {
        listeners.remove(pair);
        log.info("Unregistered listener [%s]", listenerId);
```

### DataFlowIssue
Method invocation `toImmutable` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
                     input.getValue().isEnabled()
        ),
        (String key, WorkerHolder value) -> value.toImmutable()
    );
  }
```

### DataFlowIssue
Method invocation `scheduleAtFixedRate` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
    }

    zkCleanupExec.scheduleAtFixedRate(
        () -> {
          try {
```

### DataFlowIssue
Method invocation `getParser` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamSamplerSpec.java`
#### Snippet
```java
    final InputSource inputSource;
    final InputFormat inputFormat;
    if (dataSchema.getParser() != null) {
      inputSource = new FirehoseFactoryToInputSourceAdaptor(
          new SeekableStreamSamplerFirehoseFactory(),
```

### DataFlowIssue
Method invocation `getParser` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamSamplerSpec.java`
#### Snippet
```java
      inputSource = new FirehoseFactoryToInputSourceAdaptor(
          new SeekableStreamSamplerFirehoseFactory(),
          dataSchema.getParser()
      );
      inputFormat = null;
```

### DataFlowIssue
Argument `parser` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/StreamChunkParser.java`
#### Snippet
```java
        return parseWithInputFormat(byteEntityReader, streamChunk);
      } else {
        return parseWithParser(parser, streamChunk);
      }
    }
```

### DataFlowIssue
@Nullable method 'getDockerHost' always returns a non-null value
in `integration-tests/src/main/java/org/apache/druid/testing/DockerConfigProvider.java`
#### Snippet
```java

      @Override
      @Nullable
      public String getDockerHost()
      {
```

### DataFlowIssue
Argument `pair.rhs` might be null
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ProtobufEventSerializer.java`
#### Snippet
```java
    Descriptors.Descriptor msgDesc = builder.getDescriptorForType();
    for (Pair<String, Object> pair : event) {
      builder.setField(msgDesc.findFieldByName(pair.lhs), pair.rhs);
    }
    return builder.build().toByteArray();
```

### DataFlowIssue
Argument `pair.rhs` might be null
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ProtobufSchemaRegistryEventSerializer.java`
#### Snippet
```java
    Descriptors.Descriptor msgDesc = builder.getDescriptorForType();
    for (Pair<String, Object> pair : event) {
      builder.setField(msgDesc.findFieldByName(pair.lhs), pair.rhs);
    }
    byte[] bytes = builder.build().toByteArray();
```

### DataFlowIssue
Argument `EventReceiverFirehoseTestClient.class.getResourceAsStream(file)` might be null
in `integration-tests/src/main/java/org/apache/druid/testing/clients/EventReceiverFirehoseTestClient.java`
#### Snippet
```java
        BufferedReader reader = new BufferedReader(
            new InputStreamReader(
                EventReceiverFirehoseTestClient.class.getResourceAsStream(file),
                StandardCharsets.UTF_8
            )
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/AbstractRedisCache.java`
#### Snippet
```java
      Pair<Integer, Map<NamedKey, byte[]>> results = this.mgetFromRedis(keys);

      hitCount.addAndGet(results.rhs.size());
      missCount.addAndGet(results.lhs - results.rhs.size());
      return results.rhs;
```

### DataFlowIssue
Unboxing of `results.lhs` may produce `NullPointerException`
in `extensions-contrib/redis-cache/src/main/java/org/apache/druid/client/cache/AbstractRedisCache.java`
#### Snippet
```java

      hitCount.addAndGet(results.rhs.size());
      missCount.addAndGet(results.lhs - results.rhs.size());
      return results.rhs;
    }
```

### DataFlowIssue
Method invocation `getMin` may produce `NullPointerException`
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchMinPostAggregator.java`
#### Snippet
```java
  {
    final MomentSketchWrapper sketch = (MomentSketchWrapper) field.compute(combinedAggregators);
    return sketch.getMin();
  }

```

### DataFlowIssue
Method invocation `getMax` may produce `NullPointerException`
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchMaxPostAggregator.java`
#### Snippet
```java
  {
    final MomentSketchWrapper sketch = (MomentSketchWrapper) field.compute(combinedAggregators);
    return sketch.getMax();
  }

```

### DataFlowIssue
Method invocation `getQuantiles` may produce `NullPointerException`
in `extensions-contrib/momentsketch/src/main/java/org/apache/druid/query/aggregation/momentsketch/aggregator/MomentSketchQuantilePostAggregator.java`
#### Snippet
```java
  {
    final MomentSketchWrapper sketch = (MomentSketchWrapper) field.compute(combinedAggregators);
    double[] quantiles = sketch.getQuantiles(fractions);
    return quantiles;
  }
```

### DataFlowIssue
Argument `getFieldName()` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampMinAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new TimestampMinAggregatorFactory(newName, getFieldName(), getTimeFormat());
  }

```

### DataFlowIssue
Argument `getTimeFormat()` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampMinAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory withName(String newName)
  {
    return new TimestampMinAggregatorFactory(newName, getFieldName(), getTimeFormat());
  }

```

### DataFlowIssue
Argument `timeFormat` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampMinAggregatorFactory.java`
#### Snippet
```java
  public AggregatorFactory getCombiningFactory()
  {
    return new TimestampMinAggregatorFactory(name, name, timeFormat);
  }

```

### DataFlowIssue
Argument `fieldName` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampMinAggregatorFactory.java`
#### Snippet
```java
  {
    return ImmutableList.of(
        new TimestampMinAggregatorFactory(name, fieldName, timeFormat)
    );
  }
```

### DataFlowIssue
Argument `timeFormat` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampMinAggregatorFactory.java`
#### Snippet
```java
  {
    return ImmutableList.of(
        new TimestampMinAggregatorFactory(name, fieldName, timeFormat)
    );
  }
```

### DataFlowIssue
Argument `selector.getObject()` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampBufferAggregator.java`
#### Snippet
```java
  public void aggregate(ByteBuffer buf, int position)
  {
    Long newTime = TimestampAggregatorFactory.convertLong(timestampSpec, selector.getObject());
    if (newTime != null) {
      long prev = buf.getLong(position);
```

### DataFlowIssue
Argument `selector.getObject()` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregator.java`
#### Snippet
```java
  public void aggregate()
  {
    Long value = TimestampAggregatorFactory.convertLong(timestampSpec, selector.getObject());

    if (value != null) {
```

### DataFlowIssue
Unboxing of `convertLong(timestampSpec, input)` may produce `NullPointerException`
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregatorFactory.java`
#### Snippet
```java
        } else {
          Object input = selector.getObject();
          return convertLong(timestampSpec, input);
        }
      }
```

### DataFlowIssue
Argument `input` might be null
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregatorFactory.java`
#### Snippet
```java
        } else {
          Object input = selector.getObject();
          return convertLong(timestampSpec, input);
        }
      }
```

### DataFlowIssue
Method invocation `getMillis` may produce `NullPointerException`
in `extensions-contrib/time-min-max/src/main/java/org/apache/druid/query/aggregation/TimestampAggregatorFactory.java`
#### Snippet
```java
      return ((Timestamp) input).getTime();
    } else if (input instanceof String) {
      return timestampSpec.parseDateTime(input).getMillis();
    }

```

### DataFlowIssue
Method invocation `quantile` may produce `NullPointerException`
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchToQuantilePostAggregator.java`
#### Snippet
```java
  {
    final MergingDigest sketch = (MergingDigest) field.compute(combinedAggregators);
    return sketch.quantile(fraction);
  }

```

### DataFlowIssue
Method invocation `quantile` may produce `NullPointerException`
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchToQuantilesPostAggregator.java`
#### Snippet
```java

    for (double f : fractions) {
      quantiles[i++] = sketch.quantile(f);
    }
    return quantiles;
```

### DataFlowIssue
Function may return null, but it's not allowed here
in `extensions-contrib/virtual-columns/src/main/java/org/apache/druid/segment/MapTypeMapVirtualColumnDimensionSelector.java`
#### Snippet
```java
            Collectors.toMap(
                i -> keySelector.lookupName(keyIndices.get(i)),
                i -> valueSelector.lookupName(valueIndices.get(i))
            )
        );
```

### DataFlowIssue
Method invocation `getFile` may produce `NullPointerException`
in `extensions-contrib/graphite-emitter/src/main/java/org/apache/druid/emitter/graphite/WhiteListBasedConverter.java`
#### Snippet
```java
      if (Strings.isNullOrEmpty(mapPath)) {
        URL resource = this.getClass().getClassLoader().getResource("defaultWhiteListMap.json");
        actualPath = resource.getFile();
        LOGGER.info("using default whiteList map located at [%s]", actualPath);
        fileContent = Resources.toString(resource, Charset.defaultCharset());
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  public String keyspace = null;

  public String getKeyspace()
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-contrib/cassandra-storage/src/main/java/org/apache/druid/storage/cassandra/CassandraDataSegmentConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  public String host = null;

  @JsonProperty
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `extensions-contrib/thrift-extensions/src/main/java/org/apache/druid/data/input/thrift/ThriftInputRowParser.java`
#### Snippet
```java
    } else {
      dimensions = Lists.newArrayList(
          Sets.difference(record.keySet(), parseSpec.getDimensionsSpec().getDimensionExclusions())
      );
    }
```

### DataFlowIssue
Unboxing of `port` may produce `NullPointerException`
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitterConfig.java`
#### Snippet
```java
  public int getPort()
  {
    return port;
  }

```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitter.java`
#### Snippet
```java
    } else if (strategy.equals(PrometheusEmitterConfig.Strategy.pushgateway)) {
      String address = config.getPushGatewayAddress();
      if (address.startsWith("https") || address.startsWith("http")) {
        URL myURL = createURLSneakily(address);
        pushGateway = new PushGateway(myURL);
```

### DataFlowIssue
Unboxing of `config.getFlushPeriod()` may produce `NullPointerException`
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitter.java`
#### Snippet
```java
      exec.scheduleAtFixedRate(
          () -> flush(),
          config.getFlushPeriod(),
          config.getFlushPeriod(),
          TimeUnit.SECONDS
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQueryRunner.java`
#### Snippet
```java
    public Row apply(Result<TimeseriesResultValue> lookbackResult)
    {
      Map<String, Object> event = lookbackResult.getValue().getBaseObject();
      MapBasedRow row = new MapBasedRow(lookbackResult.getTimestamp(), event);
      return row;
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String prefix = null;

  @JsonProperty
```

### DataFlowIssue
`null` is assigned to a variable that is annotated with @NotNull
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssTaskLogsConfig.java`
#### Snippet
```java
  @JsonProperty
  @NotNull
  private String bucket = null;

  @JsonProperty
```

### DataFlowIssue
Argument `loadSpec` might be null
in `extensions-contrib/aliyun-oss-extensions/src/main/java/org/apache/druid/storage/aliyun/OssDataSegmentMover.java`
#### Snippet
```java
              .putAll(
                  Maps.filterKeys(
                      loadSpec,
                      new Predicate<String>()
                      {
```

### DataFlowIssue
Method invocation `getArraySize` may produce `NullPointerException`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalObjectStrategy.java`
#### Snippet
```java
  public byte[] toBytes(CompressedBigDecimal val)
  {
    ByteBuffer buf = ByteBuffer.allocate(4 * (val.getArraySize() + 1));
    buf.order(ByteOrder.LITTLE_ENDIAN);
    IntBuffer intBuf = buf.asIntBuffer();
```

### DataFlowIssue
Argument `cbd` might be null
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMinAggregateCombiner.java`
#### Snippet
```java
    CompressedBigDecimal cbd = selector.getObject();
    if (value == null) {
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      value.setValue(cbd);
```

### DataFlowIssue
Argument `cbd` might be null
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMinAggregateCombiner.java`
#### Snippet
```java

    if (value == null) {
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      value.accumulateMin(cbd);
```

### DataFlowIssue
Argument `cbd` might be null
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMaxAggregateCombiner.java`
#### Snippet
```java

    if (value == null) {
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      value.accumulateMax(cbd);
```

### DataFlowIssue
Argument `cbd` might be null
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalMaxAggregateCombiner.java`
#### Snippet
```java
    CompressedBigDecimal cbd = selector.getObject();
    if (value == null) {
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      value.setValue(cbd);
```

### DataFlowIssue
Argument `cbd` might be null
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumAggregateCombiner.java`
#### Snippet
```java
    CompressedBigDecimal cbd = selector.getObject();
    if (value == null) {
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      value.setValue(cbd);
```

### DataFlowIssue
Argument `cbd` might be null
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumAggregateCombiner.java`
#### Snippet
```java

    if (value == null) {
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      if (cbd.signum() != 0) {
```

### DataFlowIssue
Method invocation `signum` may produce `NullPointerException`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalSumAggregateCombiner.java`
#### Snippet
```java
      value = new ArrayCompressedBigDecimal(cbd);
    } else {
      if (cbd.signum() != 0) {
        value.accumulateSum(cbd);
      }
```

### DataFlowIssue
Method invocation `getArraySize` may produce `NullPointerException`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalLongColumnSerializer.java`
#### Snippet
```java
  {
    CompressedBigDecimal abd = obj.getObject();
    int[] array = new int[abd.getArraySize()];
    for (int ii = 0; ii < abd.getArraySize(); ++ii) {
      array[ii] = abd.getArrayEntry(ii);
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalColumn.java`
#### Snippet
```java
    // from druid is mutable and druid reuses the object for future calls.
    IndexedInts vals = magnitude.get(rowNum);
    int size = vals.size();
    int[] array = new int[size];
    for (int ii = 0; ii < size; ++ii) {
```

### DataFlowIssue
Argument `this.getOrderedDimValues(serviceMetricEvent)` might be null
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
    }
    metricNameBuilder.add(AmbariMetricsEmitter.sanitize(serviceMetricEvent.getService()));
    metricNameBuilder.addAll(this.getOrderedDimValues(serviceMetricEvent));
    metricNameBuilder.add(AmbariMetricsEmitter.sanitize(serviceMetricEvent.getMetric()));

```

### DataFlowIssue
Method invocation `getFile` may produce `NullPointerException`
in `extensions-contrib/ambari-metrics-emitter/src/main/java/org/apache/druid/emitter/ambari/metrics/WhiteListBasedDruidToTimelineEventConverter.java`
#### Snippet
```java
      if (Strings.isNullOrEmpty(mapPath)) {
        URL defaultWhiteListMapUrl = this.getClass().getClassLoader().getResource("defaultWhiteListMap.json");
        actualPath = defaultWhiteListMapUrl.getFile();
        LOGGER.info("using default whiteList map located at [%s]", actualPath);
        fileContent = Resources.toString(defaultWhiteListMapUrl, StandardCharsets.UTF_8);
```

### DataFlowIssue
Method invocation `getBaseDataSource` may produce `NullPointerException`
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
          String name = derivatives.lhs;
          DerivativeDataSourceMetadata metadata = derivatives.rhs;
          String baseDataSource = metadata.getBaseDataSource();
          long avgSizePerGranularity = getAvgSizePerGranularity(name);
          log.info("find derivatives: {bases=%s, derivative=%s, dimensions=%s, metrics=%s, avgSize=%s}", 
```

### DataFlowIssue
Method reference invocation `DataSegment::getInterval` may produce `NullPointerException`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
    Interval maxAllowedToBuildInterval = snapshot.parallelStream()
        .map(pair -> pair.lhs)
        .map(DataSegment::getInterval)
        .max(Comparators.intervalsByStartThenEnd())
        .get();
```

### DataFlowIssue
Method invocation `getInterval` may produce `NullPointerException`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      DataSegment segment = entry.lhs;
      String createDate = entry.rhs;
      Interval interval = segment.getInterval();
      if (!hasEnoughLag(interval, maxAllowedToBuildInterval)) {
        continue;
```

### DataFlowIssue
Argument `createDate` might be null
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
        continue;
      }
      maxCreatedDate.merge(interval, createDate, (date1, date2) -> {
        return DateTimes.max(DateTimes.of(date1), DateTimes.of(date2)).toString();
      });
```

### DataFlowIssue
Method invocation `keySet` may produce `NullPointerException`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      SortedMap<Interval, String> sortedToBuildVersion = toBuildIntervalAndBaseSegments.lhs;
      Map<Interval, List<DataSegment>> baseSegments = toBuildIntervalAndBaseSegments.rhs;
      missInterval = sortedToBuildVersion.keySet();
      submitTasks(sortedToBuildVersion, baseSegments);
    }
```

### DataFlowIssue
Argument `maxCreatedDate` might be null
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
        new TreeMap<>(Comparators.intervalsByStartThenEnd().reversed());
    // find the intervals to drop and to build
    MapDifference<Interval, String> difference = Maps.difference(maxCreatedDate, derivativeVersion);
    Map<Interval, String> toBuildInterval = new HashMap<>(difference.entriesOnlyOnLeft());
    Map<Interval, String> toDropInterval = new HashMap<>(difference.entriesOnlyOnRight());
```

### DataFlowIssue
Argument `derivativeVersion` might be null
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
        new TreeMap<>(Comparators.intervalsByStartThenEnd().reversed());
    // find the intervals to drop and to build
    MapDifference<Interval, String> difference = Maps.difference(maxCreatedDate, derivativeVersion);
    Map<Interval, String> toBuildInterval = new HashMap<>(difference.entriesOnlyOnLeft());
    Map<Interval, String> toDropInterval = new HashMap<>(difference.entriesOnlyOnRight());
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      final String versionOfBase = maxCreatedDate.get(entry.getKey());
      final String versionOfDerivative = derivativeVersion.get(entry.getKey());
      final int baseCount = baseSegments.get(entry.getKey()).size();
      if (versionOfBase.compareTo(versionOfDerivative) > 0) {
        int usedCount = metadataStorageCoordinator
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
    // drop derivative segments which interval equals the interval in toDeleteBaseSegments 
    for (Interval interval : toDropInterval.keySet()) {
      for (DataSegment segment : derivativeSegments.get(interval)) {
        sqlSegmentsMetadataManager.markSegmentAsUnused(segment.getId());
      }
```

### DataFlowIssue
Method invocation `entrySet` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

        boolean endOffsetsAreInvalid = false;
        for (Entry<PartitionIdType, SequenceOffsetType> entry : endOffsets.entrySet()) {
          if (entry.getValue().equals(getEndOfPartitionMarker())) {
            log.info(
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                taskGroup.tasks.remove(taskId);

              } else if (input.get(i).valueOrThrow() == null || input.get(i).valueOrThrow().isEmpty()) {
                killTask(taskId, "Task [%s] returned empty offsets after pause", taskId);
                taskGroup.tasks.remove(taskId);
```

### DataFlowIssue
Method invocation `entrySet` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                taskGroup.tasks.remove(taskId);
              } else { // otherwise build a map of the highest sequences seen
                for (Entry<PartitionIdType, SequenceOffsetType> sequence : input.get(i).valueOrThrow().entrySet()) {
                  if (!endOffsets.containsKey(sequence.getKey())
                      || makeSequenceNumber(endOffsets.get(sequence.getKey())).compareTo(
```

### DataFlowIssue
Method invocation `entrySet` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
                          // from metadata. If any endOffset values are invalid, we treat the entire set as invalid as a safety measure.
                          boolean endOffsetsAreInvalid = false;
                          for (Entry<PartitionIdType, SequenceOffsetType> entry : publishingTaskEndOffsets.entrySet()) {
                            PartitionIdType partition = entry.getKey();
                            SequenceOffsetType sequence = entry.getValue();
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
          killTask(taskId, "Exception[%s] while getting checkpoints", e.getClass());
          taskGroup.tasks.remove(taskId);
        } else if (futureResult.valueOrThrow().isEmpty()) {
          log.warn("Ignoring task [%s], as probably it is not started running yet", taskId);
        } else {
```

### DataFlowIssue
Method invocation `firstKey` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

    // order tasks of this taskGroup by the latest sequenceId
    taskSequences.sort((o1, o2) -> o2.rhs.firstKey().compareTo(o1.rhs.firstKey()));

    final Set<String> tasksToKill = new HashSet<>();
```

### DataFlowIssue
Method invocation `firstKey` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

    // order tasks of this taskGroup by the latest sequenceId
    taskSequences.sort((o1, o2) -> o2.rhs.firstKey().compareTo(o1.rhs.firstKey()));

    final Set<String> tasksToKill = new HashSet<>();
```

### DataFlowIssue
Method invocation `entrySet` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
        // find the first replica task with earliest sequenceId consistent with datasource metadata in the metadata
        // store
        if (taskCheckpoints.entrySet().stream().anyMatch(
            sequenceCheckpoint -> sequenceCheckpoint.getValue().entrySet().stream().allMatch(
                partitionOffset -> {
```

### DataFlowIssue
Method invocation `get` may produce `NullPointerException`
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      } else {
        // check consistency with taskGroup sequences
        if (taskCheckpoints.get(taskGroup.checkpointSequences.firstKey()) == null
            || !(taskCheckpoints.get(taskGroup.checkpointSequences.firstKey())
                                .equals(taskGroup.checkpointSequences.firstEntry().getValue()))
```

### DataFlowIssue
Argument `sequenceCheckpoint.lhs` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
              latestOffsetsFromDb
          );
          taskGroup.tasks.remove(sequenceCheckpoint.lhs);
        }
    );
```

### DataFlowIssue
Argument `currentMetadata` might be null
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      log.info("New metadata after partition expiration: " + cleanedMetadata);

      validateMetadataPartitionExpiration(newlyExpiredPartitions, currentMetadata, cleanedMetadata);

      try {
```

## RuleId[ruleID=DeprecatedIsStillUsed]
### DeprecatedIsStillUsed
Deprecated member 'VersionZeroHyperLogLogCollector' is still used
in `hll/src/main/java/org/apache/druid/hll/VersionZeroHyperLogLogCollector.java`
#### Snippet
```java
 */
@Deprecated
public class VersionZeroHyperLogLogCollector extends HyperLogLogCollector
{
  /**
```

### DeprecatedIsStillUsed
Deprecated member 'getTables' is still used
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/DruidSchemaManager.java`
#### Snippet
```java
   */
  @Deprecated
  Map<String, DruidTable> getTables();

  default DruidTable getTable(String name)
```

### DeprecatedIsStillUsed
Deprecated member 'nextRowWithRaw' is still used
in `core/src/main/java/org/apache/druid/data/input/Firehose.java`
#### Snippet
```java
   */
  @Deprecated
  default InputRowListPlusRawValues nextRowWithRaw() throws IOException
  {
    try {
```

### DeprecatedIsStillUsed
Deprecated member 'JSONLowercaseParseSpec' is still used
in `core/src/main/java/org/apache/druid/data/input/impl/JSONLowercaseParseSpec.java`
#### Snippet
```java
 */
@Deprecated
public class JSONLowercaseParseSpec extends ParseSpec
{
  private final ObjectMapper objectMapper;
```

### DeprecatedIsStillUsed
Deprecated member 'SpatialDimensionSchema' is still used
in `core/src/main/java/org/apache/druid/data/input/impl/SpatialDimensionSchema.java`
#### Snippet
```java
 */
@Deprecated
public class SpatialDimensionSchema
{
  private final String dimName;
```

### DeprecatedIsStillUsed
Deprecated member 'getArrayIndex' is still used
in `core/src/main/java/org/apache/druid/java/util/common/parsers/FlattenerJsonProvider.java`
#### Snippet
```java
  @Override
  @Deprecated
  public Object getArrayIndex(final Object o, final int i, final boolean b)
  {
    throw new UnsupportedOperationException("Deprecated");
```

### DeprecatedIsStillUsed
Deprecated member 'emitJvmMemMetrics' is still used
in `core/src/main/java/org/apache/druid/java/util/metrics/JvmMonitor.java`
#### Snippet
```java
   */
  @Deprecated
  private void emitJvmMemMetrics(ServiceEmitter emitter)
  {
    // I have no idea why, but jvm/mem is slightly more than the sum of jvm/pool. Let's just include
```

### DeprecatedIsStillUsed
Deprecated member 'makeComparisonProcessor' is still used
in `core/src/main/java/org/apache/druid/math/expr/vector/VectorComparisonProcessors.java`
#### Snippet
```java
{
  @Deprecated
  public static <T> ExprVectorProcessor<T> makeComparisonProcessor(
      Expr.VectorInputBindingInspector inspector,
      Expr left,
```

### DeprecatedIsStillUsed
Deprecated member 'ofBoolean' is still used
in `core/src/main/java/org/apache/druid/math/expr/ExprEval.java`
#### Snippet
```java
   */
  @Deprecated
  public static ExprEval ofBoolean(boolean value, ExprType type)
  {
    assert !ExpressionProcessing.useStrictBooleans();
```

### DeprecatedIsStillUsed
Deprecated member 'SingleElementPartitionChunk' is still used
in `core/src/main/java/org/apache/druid/timeline/partition/SingleElementPartitionChunk.java`
#### Snippet
```java
 */
@Deprecated
public class SingleElementPartitionChunk<T> implements PartitionChunk<T>
{
  private final T element;
```

### DeprecatedIsStillUsed
Deprecated member 'BatchServerInventoryView' is still used
in `server/src/main/java/org/apache/druid/client/BatchServerInventoryView.java`
#### Snippet
```java
@Deprecated
@ManageLifecycle
public class BatchServerInventoryView implements ServerInventoryView, FilteredServerInventoryView
{
  private static final EmittingLogger log = new EmittingLogger(BatchServerInventoryView.class);
```

### DeprecatedIsStillUsed
Deprecated member 'TARGET_PARTITION_SIZE' is still used
in `core/src/main/java/org/apache/druid/indexer/partitions/DimensionBasedPartitionsSpec.java`
#### Snippet
```java
  // Deprecated properties preserved for backward compatibility:
  @Deprecated
  String TARGET_PARTITION_SIZE = "targetPartitionSize";

  List<String> getPartitionDimensions();
```

### DeprecatedIsStillUsed
Deprecated member 'setSpatialDimensions' is still used
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java

    @Deprecated
    public Builder setSpatialDimensions(List<SpatialDimensionSchema> spatialDimensions)
    {
      this.spatialDimensions = spatialDimensions;
```

### DeprecatedIsStillUsed
Deprecated member 'getSpatialDimensions' is still used
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
  @Deprecated
  @JsonIgnore
  public List<SpatialDimensionSchema> getSpatialDimensions()
  {
    Iterable<NewSpatialDimensionSchema> filteredList = Iterables.filter(dimensions, NewSpatialDimensionSchema.class);
```

### DeprecatedIsStillUsed
Deprecated member 'LocalCacheProvider' is still used
in `server/src/main/java/org/apache/druid/client/cache/LocalCacheProvider.java`
#### Snippet
```java
 */
@Deprecated
public class LocalCacheProvider implements CacheProvider
{
  @JsonProperty
```

### DeprecatedIsStillUsed
Deprecated member 'maxRowsPerSegment' is still used
in `server/src/main/java/org/apache/druid/client/indexing/ClientCompactionTaskQueryTuningConfig.java`
#### Snippet
```java
  @Deprecated
  @Nullable
  private final Integer maxRowsPerSegment;
  @Nullable
  private final Integer maxRowsInMemory;
```

### DeprecatedIsStillUsed
Deprecated member 'maxTotalRows' is still used
in `server/src/main/java/org/apache/druid/client/indexing/ClientCompactionTaskQueryTuningConfig.java`
#### Snippet
```java
  @Deprecated
  @Nullable
  private final Long maxTotalRows;
  @Nullable
  private final SplitHintSpec splitHintSpec;
```

### DeprecatedIsStillUsed
Deprecated member 'getDataSourceMetrics' is still used
in `server/src/main/java/org/apache/druid/server/ClientInfoResource.java`
#### Snippet
```java
  @Produces(MediaType.APPLICATION_JSON)
  @ResourceFilters(DatasourceResourceFilter.class)
  public Iterable<String> getDataSourceMetrics(
      @PathParam("dataSourceName") String dataSourceName,
      @QueryParam("interval") String interval
```

### DeprecatedIsStillUsed
Deprecated member 'getDataSourceDimensions' is still used
in `server/src/main/java/org/apache/druid/server/ClientInfoResource.java`
#### Snippet
```java
  @Produces(MediaType.APPLICATION_JSON)
  @ResourceFilters(DatasourceResourceFilter.class)
  public Iterable<String> getDataSourceDimensions(
      @PathParam("dataSourceName") String dataSourceName,
      @QueryParam("interval") String interval
```

### DeprecatedIsStillUsed
Deprecated member 'port' is still used
in `server/src/main/java/org/apache/druid/server/DruidNode.java`
#### Snippet
```java
  @JsonProperty
  @Max(0xffff)
  private int port = -1;

  @JsonProperty
```

### DeprecatedIsStillUsed
Deprecated member 'APPLICATION_SMILE' is still used
in `server/src/main/java/org/apache/druid/server/QueryResource.java`
#### Snippet
```java

  @Deprecated // use SmileMediaTypes.APPLICATION_JACKSON_SMILE
  protected static final String APPLICATION_SMILE = "application/smile";

  /**
```

### DeprecatedIsStillUsed
Deprecated member 'markAsUnusedAllSegmentsOrKillUnusedSegmentsInInterval' is still used
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
  @ResourceFilters(DatasourceResourceFilter.class)
  @Produces(MediaType.APPLICATION_JSON)
  public Response markAsUnusedAllSegmentsOrKillUnusedSegmentsInInterval(
      @PathParam("dataSourceName") final String dataSourceName,
      @QueryParam("kill") final String kill,
```

### DeprecatedIsStillUsed
Deprecated member 'getRandomBalancerSegmentHolder' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/ReservoirSegmentSampler.java`
#### Snippet
```java
   */
  @Deprecated
  static BalancerSegmentHolder getRandomBalancerSegmentHolder(
      final List<ServerHolder> serverHolders,
      Set<String> broadcastDatasources,
```

### DeprecatedIsStillUsed
Deprecated member 'getServedSegmentsPath' is still used
in `server/src/main/java/org/apache/druid/server/initialization/ZkPathsConfig.java`
#### Snippet
```java

  @Deprecated
  public String getServedSegmentsPath()
  {
    return (null == servedSegmentsPath) ? defaultPath("servedSegments") : servedSegmentsPath;
```

### DeprecatedIsStillUsed
Deprecated member 'servedSegmentsPath' is still used
in `server/src/main/java/org/apache/druid/server/initialization/ZkPathsConfig.java`
#### Snippet
```java
  @JsonProperty
  @Deprecated
  private String servedSegmentsPath;
  @JsonProperty
  private String liveSegmentsPath;
```

### DeprecatedIsStillUsed
Deprecated member 'enforceAllowedProperties' is still used
in `server/src/main/java/org/apache/druid/server/initialization/JdbcAccessSecurityConfig.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  private boolean enforceAllowedProperties = true;

  @JsonIgnore
```

### DeprecatedIsStillUsed
Deprecated member 'CuratorServiceUtils' is still used
in `server/src/main/java/org/apache/druid/curator/discovery/CuratorServiceUtils.java`
#### Snippet
```java
 */
@Deprecated
public class CuratorServiceUtils
{
  /**
```

### DeprecatedIsStillUsed
Deprecated member 'CuratorDataSegmentServerAnnouncer' is still used
in `server/src/main/java/org/apache/druid/server/coordination/CuratorDataSegmentServerAnnouncer.java`
#### Snippet
```java
 */
@Deprecated
public class CuratorDataSegmentServerAnnouncer implements DataSegmentServerAnnouncer
{
  private static final Logger log = new Logger(CuratorDataSegmentServerAnnouncer.class);
```

### DeprecatedIsStillUsed
Deprecated member 'ServerDiscoverySelector' is still used
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoverySelector.java`
#### Snippet
```java
 */
@Deprecated
public class ServerDiscoverySelector implements DiscoverySelector<Server>
{
  private static final Logger log = new Logger(ServerDiscoverySelector.class);
```

### DeprecatedIsStillUsed
Deprecated member 'ServerDiscoveryFactory' is still used
in `server/src/main/java/org/apache/druid/curator/discovery/ServerDiscoveryFactory.java`
#### Snippet
```java
 */
@Deprecated
public class ServerDiscoveryFactory
{
  private final ServiceDiscovery<Void> serviceDiscovery;
```

### DeprecatedIsStillUsed
Deprecated member 'CuratorServiceAnnouncer' is still used
in `server/src/main/java/org/apache/druid/curator/discovery/CuratorServiceAnnouncer.java`
#### Snippet
```java
 */
@Deprecated
public class CuratorServiceAnnouncer implements ServiceAnnouncer
{
  private static final EmittingLogger log = new EmittingLogger(CuratorServiceAnnouncer.class);
```

### DeprecatedIsStillUsed
Deprecated member 'pickSegmentsToMove' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/BalancerStrategy.java`
#### Snippet
```java
   */
  @Deprecated
  default Iterator<BalancerSegmentHolder> pickSegmentsToMove(
      List<ServerHolder> serverHolders,
      Set<String> broadcastDatasources,
```

### DeprecatedIsStillUsed
Deprecated member 'CuratorLoadQueuePeon' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CuratorLoadQueuePeon.java`
#### Snippet
```java
 */
@Deprecated
public class CuratorLoadQueuePeon extends LoadQueuePeon
{
  private static final EmittingLogger log = new EmittingLogger(CuratorLoadQueuePeon.class);
```

### DeprecatedIsStillUsed
Deprecated member 'ZkCoordinator' is still used
in `server/src/main/java/org/apache/druid/server/coordination/ZkCoordinator.java`
#### Snippet
```java
 */
@Deprecated
public class ZkCoordinator
{
  private static final EmittingLogger log = new EmittingLogger(ZkCoordinator.class);
```

### DeprecatedIsStillUsed
Deprecated member 'getPercentOfSegmentsToConsiderPerMove' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  public double getPercentOfSegmentsToConsiderPerMove()
  {
    return percentOfSegmentsToConsiderPerMove;
```

### DeprecatedIsStillUsed
Deprecated member 'useBatchedSegmentSampler' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
  private final double percentOfSegmentsToConsiderPerMove;
  @Deprecated
  private final boolean useBatchedSegmentSampler;
  private final int replicantLifetime;
  private final int replicationThrottleLimit;
```

### DeprecatedIsStillUsed
Deprecated member 'percentOfSegmentsToConsiderPerMove' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
  private final int maxSegmentsToMove;
  @Deprecated
  private final double percentOfSegmentsToConsiderPerMove;
  @Deprecated
  private final boolean useBatchedSegmentSampler;
```

### DeprecatedIsStillUsed
Deprecated member 'withUseBatchedSegmentSampler' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java

    @Deprecated
    public Builder withUseBatchedSegmentSampler(boolean useBatchedSegmentSampler)
    {
      this.useBatchedSegmentSampler = useBatchedSegmentSampler;
```

### DeprecatedIsStillUsed
Deprecated member 'withPercentOfSegmentsToConsiderPerMove' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java

    @Deprecated
    public Builder withPercentOfSegmentsToConsiderPerMove(double percentOfSegmentsToConsiderPerMove)
    {
      this.percentOfSegmentsToConsiderPerMove = percentOfSegmentsToConsiderPerMove;
```

### DeprecatedIsStillUsed
Deprecated member 'useBatchedSegmentSampler' is still used
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  public boolean useBatchedSegmentSampler()
  {
    return useBatchedSegmentSampler;
```

### DeprecatedIsStillUsed
Deprecated member 'CuratorInventoryManager' is still used
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
 */
@Deprecated
public class CuratorInventoryManager<ContainerClass, InventoryClass>
{
  private static final Logger log = new Logger(CuratorInventoryManager.class);
```

### DeprecatedIsStillUsed
Deprecated member 'getParserMap' is still used
in `server/src/main/java/org/apache/druid/segment/indexing/DataSchema.java`
#### Snippet
```java
  @Nullable
  @JsonInclude(Include.NON_NULL)
  public Map<String, Object> getParserMap()
  {
    return parserMap;
```

### DeprecatedIsStillUsed
Deprecated member 'toMap' is still used
in `server/src/main/java/org/apache/druid/discovery/DiscoveryDruidNode.java`
#### Snippet
```java
   */
  @Deprecated
  private static Map<String, Object> toMap(List<NonnullPair<String, Object>> pairs)
  {
    final Map<String, Object> map = Maps.newHashMapWithExpectedSize(pairs.size());
```

### DeprecatedIsStillUsed
Deprecated member 'getSqlRemoveLogsOlderThan' is still used
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java

  @Deprecated
  public String getSqlRemoveLogsOlderThan()
  {
    return StringUtils.format("DELETE a FROM %s a INNER JOIN %s b ON a.%s_id = b.id "
```

### DeprecatedIsStillUsed
Deprecated member 'APPLICATION_SMILE' is still used
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private static final EmittingLogger LOG = new EmittingLogger(AsyncQueryForwardingServlet.class);
  @Deprecated // use SmileMediaTypes.APPLICATION_JACKSON_SMILE
  private static final String APPLICATION_SMILE = "application/smile";

  private static final String AVATICA_CONNECTION_ID = "connectionId";
```

### DeprecatedIsStillUsed
Deprecated member 'ReflectionQueryToolChestWarehouse' is still used
in `processing/src/main/java/org/apache/druid/query/ReflectionQueryToolChestWarehouse.java`
#### Snippet
```java
 */
@Deprecated
public class ReflectionQueryToolChestWarehouse implements QueryToolChestWarehouse
{
  private static final Logger log = new Logger(ReflectionQueryToolChestWarehouse.class);
```

### DeprecatedIsStillUsed
Deprecated member 'computeOverridenContext' is still used
in `processing/src/main/java/org/apache/druid/query/BaseQuery.java`
#### Snippet
```java
   */
  @Deprecated
  protected Map<String, Object> computeOverridenContext(final Map<String, Object> overrides)
  {
    return computeOverriddenContext(getContext(), overrides);
```

### DeprecatedIsStillUsed
Deprecated member 'factory' is still used
in `processing/src/main/java/org/apache/druid/query/lookup/LookupBean.java`
#### Snippet
```java
  //to support rollback from 0.10.1 to 0.9.0 if necessary
  @Deprecated
  private final LookupExtractorFactory factory;


```

### DeprecatedIsStillUsed
Deprecated member 'SelectQuery' is still used
in `processing/src/main/java/org/apache/druid/query/select/SelectQuery.java`
#### Snippet
```java

@Deprecated
public class SelectQuery implements Query<Object>
{
  static final String REMOVED_ERROR_MESSAGE =
```

### DeprecatedIsStillUsed
Deprecated member 'getFinalizedType' is still used
in `processing/src/main/java/org/apache/druid/query/aggregation/AggregatorFactory.java`
#### Snippet
```java
   */
  @Deprecated
  public ValueType getFinalizedType()
  {
    throw new UnsupportedOperationException(
```

### DeprecatedIsStillUsed
Deprecated member 'DeprecatedQueryableIndexColumnSelector' is still used
in `processing/src/main/java/org/apache/druid/segment/DeprecatedQueryableIndexColumnSelector.java`
#### Snippet
```java
 */
@Deprecated
public class DeprecatedQueryableIndexColumnSelector implements ColumnSelector
{
  private final QueryableIndex index;
```

### DeprecatedIsStillUsed
Deprecated member 'getPathForHadoop' is still used
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/storage/azure/AzureDataSegmentPusher.java`
#### Snippet
```java
  @Deprecated
  @Override
  public String getPathForHadoop(String dataSource)
  {
    return getPathForHadoop();
```

### DeprecatedIsStillUsed
Deprecated member 'AzureBlob' is still used
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/AzureBlob.java`
#### Snippet
```java
 */
@Deprecated
public class AzureBlob
{
  @JsonProperty
```

### DeprecatedIsStillUsed
Deprecated member 'StaticAzureBlobStoreFirehoseFactory' is still used
in `extensions-core/azure-extensions/src/main/java/org/apache/druid/firehose/azure/StaticAzureBlobStoreFirehoseFactory.java`
#### Snippet
```java
 */
@Deprecated
public class StaticAzureBlobStoreFirehoseFactory extends PrefetchableTextFilesFirehoseFactory<AzureBlob>
{
  private final AzureStorage azureStorage;
```

### DeprecatedIsStillUsed
Deprecated member 'BasicAuthorizerRoleFull' is still used
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerRoleFull.java`
#### Snippet
```java
 */
@Deprecated
public class BasicAuthorizerRoleFull
{
  private final String name;
```

### DeprecatedIsStillUsed
Deprecated member 'authorizerUpdateListener' is still used
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/endpoint/BasicAuthorizerResource.java`
#### Snippet
```java
  @ResourceFilters(BasicSecurityResourceFilter.class)
  @Deprecated
  public Response authorizerUpdateListener(
      @Context HttpServletRequest req,
      @PathParam("authorizerName") final String authorizerName,
```

### DeprecatedIsStillUsed
Deprecated member 'BasicAuthorizerUserFull' is still used
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerUserFull.java`
#### Snippet
```java
 */
@Deprecated
public class BasicAuthorizerUserFull
{
  private final String name;
```

### DeprecatedIsStillUsed
Deprecated member 'getIoConfig' is still used
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisorSpec.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  public KafkaSupervisorIOConfig getIoConfig()
  {
    return (KafkaSupervisorIOConfig) super.getIoConfig();
```

### DeprecatedIsStillUsed
Deprecated member 'getTuningConfig' is still used
in `extensions-core/kafka-indexing-service/src/main/java/org/apache/druid/indexing/kafka/supervisor/KafkaSupervisorSpec.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  public KafkaSupervisorTuningConfig getTuningConfig()
  {
    return (KafkaSupervisorTuningConfig) super.getTuningConfig();
```

### DeprecatedIsStillUsed
Deprecated member 'getIoConfig' is still used
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/supervisor/KinesisSupervisorSpec.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  public KinesisSupervisorIOConfig getIoConfig()
  {
    return (KinesisSupervisorIOConfig) super.getIoConfig();
```

### DeprecatedIsStillUsed
Deprecated member 'getTuningConfig' is still used
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/supervisor/KinesisSupervisorSpec.java`
#### Snippet
```java
  @Deprecated
  @JsonProperty
  public KinesisSupervisorTuningConfig getTuningConfig()
  {
    return (KinesisSupervisorTuningConfig) super.getTuningConfig();
```

### DeprecatedIsStillUsed
Deprecated member 'ReingestionTimelineUtils' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/ReingestionTimelineUtils.java`
#### Snippet
```java
 */
@Deprecated
public class ReingestionTimelineUtils
{
  /**
```

### DeprecatedIsStillUsed
Deprecated member 'allocateSegment' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTaskClient.java`
#### Snippet
```java
   */
  @Deprecated
  SegmentIdWithShardSpec allocateSegment(DateTime timestamp) throws IOException;

  /**
```

### DeprecatedIsStillUsed
Deprecated member 'LEGACY_DEFAULT_USE_LINEAGE_BASED_SEGMENT_ALLOCATION' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/SinglePhaseParallelIndexTaskRunner.java`
#### Snippet
```java
   */
  @Deprecated
  static final boolean LEGACY_DEFAULT_USE_LINEAGE_BASED_SEGMENT_ALLOCATION = false;

  /**
```

### DeprecatedIsStillUsed
Deprecated member 'allocateNewSegment' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/SinglePhaseParallelIndexTaskRunner.java`
#### Snippet
```java
   */
  @Deprecated
  public SegmentIdWithShardSpec allocateNewSegment(String dataSource, DateTime timestamp) throws IOException
  {
    NonnullPair<Interval, String> intervalAndVersion = findIntervalAndVersion(timestamp);
```

### DeprecatedIsStillUsed
Deprecated member 'getNumShards' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
    @Nullable
    @JsonProperty
    public Integer getNumShards()
    {
      return partitionsSpec instanceof HashedPartitionsSpec
```

### DeprecatedIsStillUsed
Deprecated member 'IndexIOConfig' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
    // old constructor for backward compatibility
    @Deprecated
    public IndexIOConfig(FirehoseFactory firehoseFactory, @Nullable Boolean appendToExisting, @Nullable Boolean dropExisting)
    {
      this(firehoseFactory, null, null, appendToExisting, dropExisting);
```

### DeprecatedIsStillUsed
Deprecated member 'getFirehoseFactory' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/IndexTask.java`
#### Snippet
```java
    @JsonInclude(Include.NON_NULL)
    @Deprecated
    public FirehoseFactory getFirehoseFactory()
    {
      return firehoseFactory;
```

### DeprecatedIsStillUsed
Deprecated member 'WorkerTaskMonitor' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/WorkerTaskMonitor.java`
#### Snippet
```java
 */
@Deprecated
public class WorkerTaskMonitor extends WorkerTaskManager
{
  private static final EmittingLogger log = new EmittingLogger(WorkerTaskMonitor.class);
```

### DeprecatedIsStillUsed
Deprecated member 'addAuditLog' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskStorage.java`
#### Snippet
```java
   */
  @Deprecated
  <T> void addAuditLog(Task task, TaskAction<T> taskAction);

  /**
```

### DeprecatedIsStillUsed
Deprecated member 'getInsertedSegments' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskStorageQueryAdapter.java`
#### Snippet
```java
   */
  @Deprecated
  public Set<DataSegment> getInsertedSegments(final String taskid)
  {
    final Set<DataSegment> segments = new HashSet<>();
```

### DeprecatedIsStillUsed
Deprecated member 'IngestSegmentFirehoseFactory' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/firehose/IngestSegmentFirehoseFactory.java`
#### Snippet
```java
 */
@Deprecated
public class IngestSegmentFirehoseFactory implements FiniteFirehoseFactory<InputRowParser, List<WindowedSegmentId>>
{
  private static final EmittingLogger log = new EmittingLogger(IngestSegmentFirehoseFactory.class);
```

### DeprecatedIsStillUsed
Deprecated member 'maxPendingPersists' is still used
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/SeekableStreamIndexTaskTuningConfig.java`
#### Snippet
```java
  private final File basePersistDirectory;
  @Deprecated
  private final int maxPendingPersists;
  private final IndexSpec indexSpec;
  private final IndexSpec indexSpecForIntermediatePersists;
```

## RuleId[ruleID=Convert2MethodRef]
### Convert2MethodRef
Lambda can be replaced with method reference
in `sql/src/main/java/org/apache/druid/sql/calcite/external/ExternalTableMacro.java`
#### Snippet
```java
  public String signature()
  {
    final List<String> names = parameters.stream().map(p -> p.getName()).collect(Collectors.toList());
    return "(" + String.join(", ", names) + ")";
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `core/src/main/java/org/apache/druid/java/util/common/guava/MergeSequence.java`
#### Snippet
```java
        32,
        ordering.onResultOf(
            (Function<Yielder<T>, T>) input -> input.get()
        )
    );
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/server/coordinator/duty/KillDatasourceMetadata.java`
#### Snippet
```java
        Set<String> allDatasourceWithActiveSupervisor = allActiveSupervisor.values()
                                                                           .stream()
                                                                           .map(supervisorSpec -> supervisorSpec.getDataSources())
                                                                           .flatMap(Collection::stream)
                                                                           .filter(datasource -> !Strings.isNullOrEmpty(datasource))
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/server/coordinator/duty/CompactSegments.java`
#### Snippet
```java
        // when/if the autocompaction code policy to decide which segments to compact changes
        if (dropExisting == null || !dropExisting) {
          if (segmentsToCompact.stream().allMatch(dataSegment -> dataSegment.isTombstone())) {
            dropExisting = true;
            LOG.info("Forcing dropExisting to %s since all segments to compact are tombstones", dropExisting);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/catalog/model/CatalogUtils.java`
#### Snippet
```java
    return columns
           .stream()
           .map(col -> col.name())
           .collect(Collectors.toList());
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/catalog/model/table/InputFormats.java`
#### Snippet
```java
      List<String> cols = table.spec().columns()
          .stream()
          .map(col -> col.name())
          .collect(Collectors.toList());
      jsonMap.put("columns", cols);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
  {
    return fields.stream()
        .filter(f -> PropertyAttributes.isSqlFunctionParameter(f))
        .collect(Collectors.toList());
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/catalog/model/table/ExternalTableDefn.java`
#### Snippet
```java
  {
    return fields.stream()
        .filter(f -> PropertyAttributes.isExternTableParameter(f))
        .collect(Collectors.toList());
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/segment/indexing/granularity/UniformGranularitySpec.java`
#### Snippet
```java
  public Iterable<Interval> sortedBucketIntervals()
  {
    return () -> intervalsByGranularity.granularityIntervalsIterator();
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataStorageActionHandler.java`
#### Snippet
```java
    ExecutorService executorService = Executors.newSingleThreadExecutor();
    taskMigrationCompleteFuture = executorService.submit(
        () -> populateTaskTypeAndGroupId()
    );
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `services/src/main/java/org/apache/druid/server/http/RouterResource.java`
#### Snippet
```java

    for (Map.Entry<String, List<Server>> e : brokerSelectorMap.entrySet()) {
      brokersMap.put(e.getKey(), e.getValue().stream().map(s -> s.getHost()).collect(Collectors.toList()));
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryQueryToolChest.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) -> {
      return runner.run(queryPlus, responseContext);
    };
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/spec/MultipleSpecificSegmentSpec.java`
#### Snippet
```java
        Iterables.transform(
            descriptors,
            input -> input.getInterval()
        )
    );
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
  private Supplier<DruidLongPredicate> makeLongPredicateSupplier()
  {
    Supplier<DruidLongPredicate> longPredicate = () -> createLongPredicate();
    return Suppliers.memoize(longPredicate);
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
  private Supplier<DruidDoublePredicate> makeDoublePredicateSupplier()
  {
    Supplier<DruidDoublePredicate> doublePredicate = () -> createDruidDoublePredicate();
    return Suppliers.memoize(doublePredicate);
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/filter/BoundDimFilter.java`
#### Snippet
```java
  private Supplier<DruidFloatPredicate> makeFloatPredicateSupplier()
  {
    Supplier<DruidFloatPredicate> floatPredicate = () -> createDruidFloatPredicate();
    return Suppliers.memoize(floatPredicate);
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryRunnerFactory.java`
#### Snippet
```java
              partitionsGroupedByInterval.values()
                                         .stream()
                                         .map(x -> x.size())
                                         .max(Comparator.comparing(Integer::valueOf))
                                         .get();
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/search/SearchQueryQueryToolChest.java`
#### Snippet
```java
    return new SearchThresholdAdjustingQueryRunner(
        (queryPlus, responseContext) -> {
          return runner.run(queryPlus, responseContext);
        },
        config
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/context/ResponseContext.java`
#### Snippet
```java
  public Map<String, Object> toMap()
  {
    return CollectionUtils.mapKeys(getDelegate(), k -> k.getName());
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryQueryToolChest.java`
#### Snippet
```java
  GroupByQuery rewriteNestedQueryForPushDown(GroupByQuery query)
  {
    return query.withAggregatorSpecs(Lists.transform(query.getAggregatorSpecs(), (agg) -> agg.getCombiningFactory()))
                .withDimensionSpecs(Lists.transform(
                    query.getDimensions(),
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/extraction/MapLookupExtractor.java`
#### Snippet
```java
              .stream()
              .filter(entry -> entry.getValue().equals(valueToLookup))
              .map(entry -> entry.getKey())
              .collect(Collectors.toList());
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/timeseries/TimeseriesQueryQueryToolChest.java`
#### Snippet
```java
  {
    return (queryPlus, responseContext) -> {
      return runner.run(queryPlus, responseContext);
    };
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
{
  private static final Comparator<Double> DOUBLE_COMPARATOR =
      Ordering.from((Comparator<Double>) (lhs, rhs) -> Double.compare(lhs, rhs)).nullsFirst();

  private final String name;
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/segment/filter/SearchQueryFilter.java`
#### Snippet
```java
    public Predicate<String> makeStringPredicate()
    {
      return input -> query.accept(input);
    }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `processing/src/main/java/org/apache/druid/segment/virtual/ExpressionMultiValueDimensionSelector.java`
#### Snippet
```java
        if (evaluated.isArray()) {
          List<String> array = getArrayAsList(evaluated);
          return array.stream().anyMatch(x -> predicate.apply(x));
        }
        return predicate.apply(getValue(evaluated));
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-core/hdfs-storage/src/main/java/org/apache/druid/inputsource/hdfs/HdfsInputSource.java`
#### Snippet
```java
  public SplittableInputSource<List<Path>> withSplit(InputSplit<List<Path>> split)
  {
    List<String> paths = split.get().stream().map(path -> path.toString()).collect(Collectors.toList());
    return new HdfsInputSource(paths, configuration, inputSourceConfig);
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-core/parquet-extensions/src/main/java/org/apache/druid/data/input/parquet/simple/ParquetGroupJsonProvider.java`
#### Snippet
```java
      return ((Map<Object, Object>) o).keySet().stream().map(String::valueOf).collect(Collectors.toSet());
    } else if (o instanceof Group) {
      return ((Group) o).getType().getFields().stream().map(f -> f.getName()).collect(Collectors.toSet());
    } else {
      throw new UnsupportedOperationException(o.getClass().getName());
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-core/protobuf-extensions/src/main/java/org/apache/druid/data/input/protobuf/ProtobufInputRowParser.java`
#### Snippet
```java
      try {
        DynamicMessage message = protobufBytesDecoder.parse(input);
        record = CollectionUtils.mapKeys(message.getAllFields(), k -> k.getJsonName());
        timestamp = this.timestampSpec.extractTimestamp(record);
      }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authorization/entity/BasicAuthorizerRoleSimplifiedPermissions.java`
#### Snippet
```java
        permissions,
        (permission) -> {
          return permission.getResourceAction();
        }
    );
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/MetadataStorageUpdaterJob.java`
#### Snippet
```java
  {
    final List<DataSegmentAndIndexZipFilePath> segmentAndIndexZipFilePaths = IndexGeneratorJob.getPublishedSegmentAndIndexZipFilePaths(config);
    final List<DataSegment> segments = segmentAndIndexZipFilePaths.stream().map(s -> s.getSegment()).collect(Collectors.toList());
    final String segmentTable = config.getSchema().getIOConfig().getMetadataUpdateSpec().getSegmentTable();
    handler.publishSegments(segmentTable, segments, HadoopDruidIndexerConfig.JSON_MAPPER);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-core/kinesis-indexing-service/src/main/java/org/apache/druid/indexing/kinesis/KinesisRecordSupplier.java`
#### Snippet
```java

    // restart fetching threads
    partitionResources.values().forEach(x -> x.stopBackgroundFetch());
  }
}
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ZkWorker.java`
#### Snippet
```java
        .stream()
        .map(taskIdExtractor)
        .anyMatch((String s) -> taskId.equals(s));
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/HeapMemoryTaskStorage.java`
#### Snippet
```java
        .filter(entry -> entry.getValue().getStatus().isComplete()
                          && entry.getValue().getCreatedDate().isBefore(timestamp))
        .map(entry -> entry.getKey())
        .collect(Collectors.toList());

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java
    return tasksSnapshotRef.get().entrySet().stream().filter(
        e -> e.getValue().getTaskStatus().isRunnable()
    ).collect(Collectors.toMap(e -> e.getKey(), e -> e.getValue()));
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/WorkerHolder.java`
#### Snippet
```java
    return tasksSnapshotRef.get().entrySet().stream().filter(
        e -> e.getValue().getTaskStatus().isRunnable()
    ).collect(Collectors.toMap(e -> e.getKey(), e -> e.getValue()));
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
  public Collection<Worker> getLazyWorkers()
  {
    return lazyWorkers.values().stream().map(holder -> holder.getWorker()).collect(Collectors.toList());
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
  public Collection<ImmutableWorkerInfo> getWorkers()
  {
    return workers.values().stream().map(worker -> worker.toImmutable()).collect(Collectors.toList());
  }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/tdigestsketch/src/main/java/org/apache/druid/query/aggregation/tdigestsketch/TDigestSketchAggregatorFactory.java`
#### Snippet
```java

  public static final Comparator<TDigest> COMPARATOR = Comparator.nullsFirst(
      Comparator.comparingLong(a -> a.size())
  );

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/prometheus-emitter/src/main/java/org/apache/druid/emitter/prometheus/PrometheusEmitter.java`
#### Snippet
```java
      exec = ScheduledExecutors.fixed(1, "PrometheusPushGatewayEmitter-%s");
      exec.scheduleAtFixedRate(
          () -> flush(),
          config.getFlushPeriod(),
          config.getFlushPeriod(),
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
      // Initialize key's averagers.
      if (avg == null) {
        avg = averagerFactories.stream().map(af -> af.createAverager()).collect(Collectors.toList());
        averagers.put(key, avg);
      }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
        avg.forEach(af -> af.addElement(event, aggMap));
      } else {
        avg.forEach(af -> af.skip());
      }

```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java

            // Convert key to a full dummy event (key + dummy metrics).
            dims.forEach((dim, value) -> emptyEventsCopy.put(dim, value));

            r = computeMovingAverage(new MapBasedRow(cache.getDateTime(), emptyEventsCopy), true);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java
    this.seq = buckets;

    postAggMap = postAggList.stream().collect(Collectors.toMap(postAgg -> postAgg.getName(), postAgg -> postAgg));
    aggMap = aggList.stream().collect(Collectors.toMap(agg -> agg.getName(), agg -> agg));
    emptyEvents = generateEmptyEventsFromAggregators(aggMap, postAggMap);
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageIterable.java`
#### Snippet
```java

    postAggMap = postAggList.stream().collect(Collectors.toMap(postAgg -> postAgg.getName(), postAgg -> postAgg));
    aggMap = aggList.stream().collect(Collectors.toMap(agg -> agg.getName(), agg -> agg));
    emptyEvents = generateEmptyEventsFromAggregators(aggMap, postAggMap);
  }
```

### Convert2MethodRef
Lambda can be replaced with method reference
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
    
    List<DerivativeDataSource> derivativeDataSources = derivativesInDatabase.parallelStream()
        .filter(data -> data != null)
        .map(derivatives -> {
          String name = derivatives.lhs;
```

## RuleId[ruleID=ComparatorCombinators]
### ComparatorCombinators
Can be replaced with 'Comparator.comparing'
in `server/src/main/java/org/apache/druid/catalog/model/SchemaRegistryImpl.java`
#### Snippet
```java
    // so OK for now.
    List<SchemaSpec> schemas = Lists.newArrayList(builtIns.values());
    Collections.sort(schemas, (s1, s2) -> s1.name().compareTo(s2.name()));
    return schemas;
  }
```

### ComparatorCombinators
Can be replaced with 'Comparator.comparingDouble'
in `processing/src/main/java/org/apache/druid/query/aggregation/hyperloglog/HyperUniqueFinalizingPostAggregator.java`
#### Snippet
```java
{
  private static final Comparator<Double> DOUBLE_COMPARATOR =
      Ordering.from((Comparator<Double>) (lhs, rhs) -> Double.compare(lhs, rhs)).nullsFirst();

  private final String name;
```

### ComparatorCombinators
Can be replaced with 'Comparator.comparing'
in `extensions-core/druid-catalog/src/main/java/org/apache/druid/catalog/sync/CachedMetadataCatalog.java`
#### Snippet
```java
        }
      });
      orderedTables.sort((e1, e2) -> e1.id().name().compareTo(e2.id().name()));
      return orderedTables;
    }
```

## RuleId[ruleID=AbstractMethodCallInConstructor]
### AbstractMethodCallInConstructor
Call to 'abstract' method `getResultTypeReference()` during object construction
in `processing/src/main/java/org/apache/druid/query/QueryToolChest.java`
#### Snippet
```java
  {
    final TypeFactory typeFactory = TypeFactory.defaultInstance();
    TypeReference<ResultType> resultTypeReference = getResultTypeReference();
    // resultTypeReference is null in MaterializedViewQueryQueryToolChest.
    // See https://github.com/apache/druid/issues/6977
```

### AbstractMethodCallInConstructor
Call to 'abstract' method `setupEncodedValueWriter()` during object construction
in `processing/src/main/java/org/apache/druid/segment/NumericDimensionMergerV9.java`
#### Snippet
```java

    try {
      serializer = setupEncodedValueWriter();
      serializer.open();
    }
```

### AbstractMethodCallInConstructor
Call to 'abstract' method `allocateBuffer()` during object construction
in `processing/src/main/java/org/apache/druid/segment/writeout/ByteBufferWriteOutBytes.java`
#### Snippet
```java
    size = 0;
    headBufferIndex = 0;
    headBuffer = allocateBuffer();
    buffers.add(headBuffer);
    capacity = BUFFER_SIZE;
```

### AbstractMethodCallInConstructor
Call to 'abstract' method `initAggs()` during object construction
in `processing/src/main/java/org/apache/druid/segment/incremental/IncrementalIndex.java`
#### Snippet
```java
    );

    initAggs(metrics, rowSupplier, deserializeComplexMetrics, concurrentEventAdd);

    for (AggregatorFactory metric : metrics) {
```

### AbstractMethodCallInConstructor
Call to 'abstract' method `initValue()` during object construction
in `extensions-contrib/compressed-bigdecimal/src/main/java/org/apache/druid/compressedbigdecimal/CompressedBigDecimalAggregatorBase.java`
#### Snippet
```java
    this.strictNumberParsing = strictNumberParsing;
    this.className = className;
    value = initValue(size, scale);
    empty = true;
  }
```

## RuleId[ruleID=NonSerializableFieldInSerializableClass]
### NonSerializableFieldInSerializableClass
Non-serializable field 'columnType' in a Serializable class
in `sql/src/main/java/org/apache/druid/sql/calcite/table/RowSignatures.java`
#### Snippet
```java
  public static final class ComplexSqlType extends AbstractSqlType
  {
    private final ColumnType columnType;

    public ComplexSqlType(
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'emitter' in a Serializable class
in `core/src/main/java/org/apache/druid/java/util/emitter/core/Batch.java`
#### Snippet
```java
   * The emitter this batch belongs to.
   */
  private final HttpPostEmitter emitter;

  /**
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'responseHolder' in a Serializable class
in `server/src/main/java/org/apache/druid/rpc/HttpResponseException.java`
#### Snippet
```java
public class HttpResponseException extends RpcException
{
  private final StringFullResponseHolder responseHolder;

  public HttpResponseException(final StringFullResponseHolder responseHolder)
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'httpClientConfig' in a Serializable class
in `server/src/main/java/org/apache/druid/server/AsyncManagementForwardingServlet.java`
#### Snippet
```java
  private final ObjectMapper jsonMapper;
  private final Provider<HttpClient> httpClientProvider;
  private final DruidHttpClientConfig httpClientConfig;
  private final DruidLeaderSelector coordLeaderSelector;
  private final DruidLeaderSelector overlordLeaderSelector;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'druidLeaderClient' in a Serializable class
in `server/src/main/java/org/apache/druid/server/http/OverlordProxyServlet.java`
#### Snippet
```java
public class OverlordProxyServlet extends ProxyServlet
{
  private final DruidLeaderClient druidLeaderClient;
  private final Provider<HttpClient> httpClientProvider;
  private final DruidHttpClientConfig httpClientConfig;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'httpClientConfig' in a Serializable class
in `server/src/main/java/org/apache/druid/server/http/OverlordProxyServlet.java`
#### Snippet
```java
  private final DruidLeaderClient druidLeaderClient;
  private final Provider<HttpClient> httpClientProvider;
  private final DruidHttpClientConfig httpClientConfig;

  @Inject
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'httpClientConfig' in a Serializable class
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private final QueryHostFinder hostFinder;
  private final Provider<HttpClient> httpClientProvider;
  private final DruidHttpClientConfig httpClientConfig;
  private final ServiceEmitter emitter;
  private final RequestLogger requestLogger;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'authenticatorMapper' in a Serializable class
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private final RequestLogger requestLogger;
  private final GenericQueryMetricsFactory queryMetricsFactory;
  private final AuthenticatorMapper authenticatorMapper;
  private final ProtobufTranslation protobufTranslation;
  private final ServerConfig serverConfig;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'hostFinder' in a Serializable class
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private final ObjectMapper jsonMapper;
  private final ObjectMapper smileMapper;
  private final QueryHostFinder hostFinder;
  private final Provider<HttpClient> httpClientProvider;
  private final DruidHttpClientConfig httpClientConfig;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'serverConfig' in a Serializable class
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private final AuthenticatorMapper authenticatorMapper;
  private final ProtobufTranslation protobufTranslation;
  private final ServerConfig serverConfig;

  private final boolean routeSqlByStrategy;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'emitter' in a Serializable class
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private final Provider<HttpClient> httpClientProvider;
  private final DruidHttpClientConfig httpClientConfig;
  private final ServiceEmitter emitter;
  private final RequestLogger requestLogger;
  private final GenericQueryMetricsFactory queryMetricsFactory;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'broadcastClient' in a Serializable class
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
  private final boolean routeSqlByStrategy;

  private HttpClient broadcastClient;

  @Inject
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'columnType' in a Serializable class
in `processing/src/main/java/org/apache/druid/frame/write/UnsupportedColumnTypeException.java`
#### Snippet
```java
  private final String columnName;
  @Nullable
  private final ColumnType columnType;

  public UnsupportedColumnTypeException(final String columnName, @Nullable final ColumnType columnType)
```

## RuleId[ruleID=CatchMayIgnoreException]
### CatchMayIgnoreException
Empty `catch` block
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
      bd = new BigDecimal(input);
    }
    catch (NumberFormatException ex) {
    }
    return bd;
```

## RuleId[ruleID=MismatchedJavadocCode]
### MismatchedJavadocCode
Method is specified to return list but the return type is array
in `core/src/main/java/org/apache/druid/java/util/metrics/cgroups/CpuSet.java`
#### Snippet
```java
   *
   * @param line The list format cpu value
   * @return the list of CPU IDs
   */
  private int[] parseStringRangeToIntArray(String line)
```

### MismatchedJavadocCode
Method is specified to return map but the return type is list
in `server/src/main/java/org/apache/druid/server/StatusResource.java`
#### Snippet
```java
     * Load the unique extensions and return their implementation-versions
     *
     * @return map of extensions loaded with their respective implementation versions.
     */
    private List<ModuleVersion> getExtensionVersions(Collection<DruidModule> druidModules)
```

### MismatchedJavadocCode
Method is specified to return list but the return type is set
in `server/src/main/java/org/apache/druid/server/security/AuthConfig.java`
#### Snippet
```java
   * key list.
   *
   * @return the list of secured keys to check via authentication
   */
  public Set<String> contextKeysToAuthorize(final Set<String> userKeys)
```

### MismatchedJavadocCode
Method is specified to return list but the return type is set
in `server/src/main/java/org/apache/druid/server/coordinator/CoordinatorDynamicConfig.java`
#### Snippet
```java
   * specified by {@link CoordinatorDynamicConfig#getDecommissioningMaxPercentOfMaxSegmentsToMove}.
   *
   * @return list of host:port entries
   */
  @JsonProperty
```

### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/SinglePhaseSubTask.java`
#### Snippet
```java
   * At the end of this method, all the remaining segments are published.
   *
   * @return true if generated segments are successfully published, otherwise false
   */
  private Set<DataSegment> generateAndPushSegments(
```

## RuleId[ruleID=AssignmentToForLoopParameter]
### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `hll/src/main/java/org/apache/druid/hll/HyperLogLogCollector.java`
#### Snippet
```java
        default:
          positionOf1 += lookupVal;
          i = 8;
          break;
      }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `j`
in `sql/src/main/java/org/apache/druid/sql/calcite/rule/ProjectAggregatePruneUnusedCallRule.java`
#### Snippet
```java
      for (int i = aggregate.getGroupCount(), j = aggregate.getGroupCount(); i < fieldCount; i++) {
        if (callsToKeep.get(i)) {
          fixUpProjects.add(rexBuilder.makeInputRef(newAggregate, j++));
        } else {
          fixUpProjects.add(rexBuilder.makeNullLiteral(aggregate.getRowType().getFieldList().get(i).getType()));
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `core/src/main/java/org/apache/druid/java/util/common/StringUtils.java`
#### Snippet
```java
      } else if (Character.isSurrogate(var10)) {
        length += 4;
        i++;
      } else {
        length += 3;
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `processing/src/main/java/org/apache/druid/frame/write/RowBasedFrameWriter.java`
#### Snippet
```java
      if (writeResult < 0) {
        // Reset to beginning of loop.
        i = -1;

        // Try again with a bigger allocation.
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `offset`
in `processing/src/main/java/org/apache/druid/query/topn/PooledTopNAlgorithm.java`
#### Snippet
```java
    for (int j = 0, offset = 0; j < aggregatorSizes.length; ++j) {
      aggregatorOffsets[j] = offset;
      offset += aggregatorSizes[j];
    }

```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `j`
in `processing/src/main/java/org/apache/druid/query/filter/vector/VectorMatch.java`
#### Snippet
```java
      for (int i = 0, j = 0; i < selectionSize; i++) {
        while (j < mask.getSelectionSize() && selection[i] > maskArray[j]) {
          j++;
        }

```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `j`
in `processing/src/main/java/org/apache/druid/query/aggregation/FilteredVectorAggregator.java`
#### Snippet
```java
      // i iterates over the match; j iterates over the "rows" array
      for (int i = 0, j = 0; i < match.getSelectionSize(); i++) {
        for (; rows[j] < selection[i]; j++) {
          // Do nothing; the for loop is doing the work of incrementing j.
        }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `processing/src/main/java/org/apache/druid/segment/filter/cnf/HiveCnfHelper.java`
#### Snippet
```java
              children.set(i, grandkid);
            } else {
              children.add(++i, grandkid);
            }
          }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
        quoteMark = -1;
        // chomp to next char to eat closing array
        if (++i == path.length()) {
          break;
        }
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `processing/src/main/java/org/apache/druid/segment/nested/NestedPathFinder.java`
#### Snippet
```java
        if (arrayMark > 0) {
          // chomp to next char to eat closing array
          if (++i == path.length()) {
            break;
          }
```

## RuleId[ruleID=NestedSynchronizedStatement]
### NestedSynchronizedStatement
Nested `synchronized` statement
in `server/src/main/java/org/apache/druid/curator/announcement/Announcer.java`
#### Snippet
```java
          );

          synchronized (toAnnounce) {
            if (started) {
              if (buildParentPath) {
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            // make sure to acquire locks in (lock -> holder) order
            synchronized (lock) {
              synchronized (holder) {
                markInventoryInitialized(holder);
              }
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java

            // also remove node from uninitilized, in case a nodes gets removed while we are starting up
            synchronized (removed) {
              markInventoryInitialized(removed);
            }
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
              log.error("Container update[%s], but the old container didn't exist!?  Ignoring.", child.getPath());
            } else {
              synchronized (holder) {
                holder.setContainer(strategy.updateContainer(holder.getContainer(), container));
              }
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `server/src/main/java/org/apache/druid/curator/inventory/CuratorInventoryManager.java`
#### Snippet
```java
            // must await initialized of all container holders
            for (ContainerHolder holder : containers.values()) {
              synchronized (holder) {
                if (!holder.initialized) {
                  uninitializedInventory.add(holder);
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/TaskMonitor.java`
#### Snippet
```java


        synchronized (taskCountLock) {
          if (numRunningTasks > 0) {
            final Iterator<MonitorEntry> iterator = runningTasks.values().iterator();
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ScalingStats.java`
#### Snippet
```java
  {
    synchronized (lock) {
      synchronized (stats.lock) {
        recentEvents.addAll(stats.recentEvents);
      }
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/hrtr/HttpRemoteTaskRunner.java`
#### Snippet
```java
      if (holder == null) {
        List<TaskAnnouncement> expectedAnnouncements = new ArrayList<>();
        synchronized (statusLock) {
          // It might be a worker that existed before, temporarily went away and came back. We might have a set of
          // tasks that we think are running on this worker. Provide that information to WorkerHolder that
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
      // stop all schedulers and threads
      if (stopGracefully) {
        synchronized (taskLock) {
          future.cancel(false);
          future = null;
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `extensions-contrib/materialized-view-maintenance/src/main/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisor.java`
#### Snippet
```java
        exec.shutdownNow();
        exec = null;
        synchronized (taskLock) {
          clearTasks();
          if (!(metadataSupervisorManager.getLatest().get(supervisorId) instanceof MaterializedViewSupervisorSpec)) {
```

### NestedSynchronizedStatement
Nested `synchronized` statement
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
          // the API, but if we shut down for other reasons (e.g. we lose leadership) we want to just stop and leave the
          // tasks as they are.
          synchronized (stopLock) {
            if (stopGracefully) {
              log.info("Posting GracefulShutdownNotice, signalling managed tasks to complete and publish");
```

## RuleId[ruleID=StringEqualsEmptyString]
### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final long totalRows = firstDvc.numRows;

      if (!"".equals(firstDvc.dim) || !"".equals(firstDvc.value)) {
        throw new IllegalStateException("Expected total row indicator on first k/v pair");
      }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `indexing-hadoop/src/main/java/org/apache/druid/indexer/DeterminePartitionsJob.java`
#### Snippet
```java
      final long totalRows = firstDvc.numRows;

      if (!"".equals(firstDvc.dim) || !"".equals(firstDvc.value)) {
        throw new IllegalStateException("Expected total row indicator on first k/v pair");
      }
```

### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `extensions-contrib/opentsdb-emitter/src/main/java/org/apache/druid/emitter/opentsdb/OpentsdbEmitterConfig.java`
#### Snippet
```java
    this.consumeDelay = (consumeDelay == null || consumeDelay < 0) ? DEFAULT_CONSUME_DELAY_MILLIS : consumeDelay;
    this.metricMapPath = metricMapPath;
    this.namespacePrefix = "".equals(namespacePrefix) ? null : namespacePrefix;
  }

```

## RuleId[ruleID=ForwardCompatibility]
### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `core/src/main/java/org/apache/druid/java/util/common/guava/ConcatSequence.java`
#### Snippet
```java
          public Sequence<T> accumulate(Sequence<T> accumulated, Sequence<T> in)
          {
            yield();
            return in;
          }
```

### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `core/src/main/java/org/apache/druid/java/util/common/guava/LimitedSequence.java`
#### Snippet
```java
      }
      if (interruptYield) {
        yield();
      }

```

### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `core/src/main/java/org/apache/druid/java/util/common/guava/MergeSequence.java`
#### Snippet
```java
                  public T accumulate(T accumulated, T in)
                  {
                    yield();
                    return in;
                  }
```

### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `core/src/main/java/org/apache/druid/java/util/common/guava/Yielders.java`
#### Snippet
```java
          public T accumulate(T accumulated, T in)
          {
            yield();
            return in;
          }
```

### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `core/src/main/java/org/apache/druid/java/util/common/guava/ParallelMergeCombiningSequence.java`
#### Snippet
```java
              count++;
              if (count % batchSize == 0) {
                yield();
              }
              return accumulated;
```

### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `processing/src/main/java/org/apache/druid/query/scan/ScanQueryLimitRowIterator.java`
#### Snippet
```java
          public ScanResultValue accumulate(ScanResultValue accumulated, ScanResultValue in)
          {
            yield();
            return in;
          }
```

### ForwardCompatibility
Unqualified call to 'yield' method is not supported in releases since Java 14
in `extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/BucketingAccumulator.java`
#### Snippet
```java
      RowBucket nextBucket = new RowBucket(in.getTimestamp(), rows);
      accumulated.setNextBucket(nextBucket);
      yield();
    } else {
      // still on the same day
```

## RuleId[ruleID=UnnecessaryBoxing]
### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `sql/src/main/java/org/apache/druid/sql/guice/SqlModule.java`
#### Snippet
```java
  {
    Preconditions.checkNotNull(props, "props");
    return Boolean.valueOf(props.getProperty(PROPERTY_SQL_ENABLE_JSON_OVER_HTTP, "true"));
  }

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `sql/src/main/java/org/apache/druid/sql/guice/SqlModule.java`
#### Snippet
```java
  {
    Preconditions.checkNotNull(props, "props");
    return Boolean.valueOf(props.getProperty(PROPERTY_SQL_ENABLE_AVATICA, "true"));
  }

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `sql/src/main/java/org/apache/druid/sql/guice/SqlModule.java`
#### Snippet
```java
  {
    Preconditions.checkNotNull(props, "props");
    return Boolean.valueOf(props.getProperty(PROPERTY_SQL_ENABLE, "true"));
  }

```

### UnnecessaryBoxing
Unnecessary boxing
in `sql/src/main/java/org/apache/druid/sql/calcite/schema/InformationSchema.java`
#### Snippet
```java
                      isCharacter ? type.getCharset().name() : null, // CHARACTER_SET_NAME
                      isCharacter ? type.getCollation().getCollationName() : null, // COLLATION_NAME
                      Long.valueOf(type.getSqlTypeName().getJdbcOrdinal()) // JDBC_TYPE (Druid extension)
                  };
                }
```

### UnnecessaryBoxing
Redundant boxing, `Integer.parseInt()` call can be used instead
in `sql/src/main/java/org/apache/druid/sql/calcite/planner/CalciteRulesManager.java`
#### Snippet
```java
  // we are still using Calcite 1.21.0, a workaround is to limit the number of pattern matches to avoid infinite loop.
  private static final String HEP_DEFAULT_MATCH_LIMIT_CONFIG_STRING = "druid.sql.planner.hepMatchLimit";
  private final int HEP_DEFAULT_MATCH_LIMIT = Integer.valueOf(
      System.getProperty(HEP_DEFAULT_MATCH_LIMIT_CONFIG_STRING, "1200")
  );
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `core/src/main/java/org/apache/druid/common/config/NullValueHandlingConfig.java`
#### Snippet
```java
  {
    if (useDefaultValuesForNull == null) {
      this.useDefaultValuesForNull = Boolean.valueOf(System.getProperty(NULL_HANDLING_CONFIG_STRING, "true"));
    } else {
      this.useDefaultValuesForNull = useDefaultValuesForNull;
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `core/src/main/java/org/apache/druid/common/config/NullValueHandlingConfig.java`
#### Snippet
```java
    }
    if (ignoreNullsForStringCardinality == null) {
      this.ignoreNullsForStringCardinality = Boolean.valueOf(System.getProperty(
          NULL_HANDLING_DURING_STRING_CARDINALITY,
          "false"
```

### UnnecessaryBoxing
Unnecessary boxing
in `server/src/main/java/org/apache/druid/server/QueryScheduler.java`
#### Snippet
```java
                                                                    .setDimension("dataSource", query.getDataSource().getTableNames())
                                                                    .setDimension("type", query.getType());
    emitter.emit(builderUsr.build("query/priority", priority.orElse(Integer.valueOf(0))));
    return lane.map(query::withLane).orElse(query);
  }
```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `server/src/main/java/org/apache/druid/server/http/DataSourcesResource.java`
#### Snippet
```java
    }

    boolean killSegments = kill != null && Boolean.valueOf(kill);
    if (killSegments) {
      return killUnusedSegmentsInInterval(dataSourceName, interval);
```

### UnnecessaryBoxing
Redundant boxing, `Float.parseFloat()` call can be used instead
in `processing/src/main/java/org/apache/druid/segment/StringDimensionMergerV9.java`
#### Snippet
```java
          float[] coords = new float[stringCoords.size()];
          for (int j = 0; j < coords.length; j++) {
            coords[j] = Float.valueOf(stringCoords.get(j));
          }
          tree.insert(coords, mergedIndexes);
```

### UnnecessaryBoxing
Unnecessary boxing
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
  public Map<String, Long> getUsedTaskSlotCount()
  {
    return ImmutableMap.of(workerConfig.getCategory(), Long.valueOf(getRunningTasks().size()));
  }

```

### UnnecessaryBoxing
Unnecessary boxing
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
  public Map<String, Long> getTotalTaskSlotCount()
  {
    return ImmutableMap.of(workerConfig.getCategory(), Long.valueOf(workerConfig.getCapacity()));
  }

```

### UnnecessaryBoxing
Unnecessary boxing
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
  public Map<String, Long> getUsedTaskSlotCount()
  {
    return ImmutableMap.of(workerConfig.getCategory(), Long.valueOf(portFinder.findUsedPortCount()));
  }

```

### UnnecessaryBoxing
Redundant boxing, `Boolean.parseBoolean()` call can be used instead
in `integration-tests/src/main/java/org/apache/druid/testing/ConfigFileConfigProvider.java`
#### Snippet
```java
      public boolean manageKafkaTopic()
      {
        return Boolean.valueOf(props.getOrDefault("manageKafkaTopic", "true"));
      }

```

### UnnecessaryBoxing
Redundant boxing, `Long.parseLong()` call can be used instead
in `extensions-contrib/influx-extensions/src/main/java/org/apache/druid/data/input/influx/InfluxParser.java`
#### Snippet
```java
    } else {
      timestamp = timestamp.substring(0, timestamp.length() - 6);
      final long timestampMillis = Long.valueOf(timestamp);
      dest.put(TIMESTAMP_KEY, timestampMillis);
    }
```

## RuleId[ruleID=ConditionCoveredByFurtherCondition]
### ConditionCoveredByFurtherCondition
Condition 'maxDirectMemoryObj == null' covered by subsequent condition '!(maxDirectMemoryObj instanceof Number)'
in `core/src/main/java/org/apache/druid/utils/RuntimeInfo.java`
#### Snippet
```java
      Object maxDirectMemoryObj = vmClass.getMethod("maxDirectMemory").invoke(null);

      if (maxDirectMemoryObj == null || !(maxDirectMemoryObj instanceof Number)) {
        throw new UOE("Cannot determine maxDirectMemory from [%s]", maxDirectMemoryObj);
      } else {
```

### ConditionCoveredByFurtherCondition
Condition 'statementHandle != null' covered by subsequent condition 'statementHandle instanceof Map'
in `services/src/main/java/org/apache/druid/server/AsyncQueryForwardingServlet.java`
#### Snippet
```java
    if (connectionIdObj == null) {
      Object statementHandle = requestMap.get(AVATICA_STATEMENT_HANDLE);
      if (statementHandle != null && statementHandle instanceof Map) {
        connectionIdObj = ((Map) statementHandle).get(AVATICA_CONNECTION_ID);
      }
```

### ConditionCoveredByFurtherCondition
Condition 'o != null' covered by subsequent condition 'o instanceof IdentityExtractionFn'
in `processing/src/main/java/org/apache/druid/query/extraction/IdentityExtractionFn.java`
#### Snippet
```java
  public boolean equals(Object o)
  {
    return o != null && o instanceof IdentityExtractionFn;
  }

```

### ConditionCoveredByFurtherCondition
Condition 'this == o' covered by subsequent condition 'o instanceof RoaringBitmapSerdeFactory'
in `processing/src/main/java/org/apache/druid/segment/data/RoaringBitmapSerdeFactory.java`
#### Snippet
```java
  public boolean equals(Object o)
  {
    return this == o || o instanceof RoaringBitmapSerdeFactory;
  }

```

### ConditionCoveredByFurtherCondition
Condition 'this == o' covered by subsequent condition 'o instanceof ConciseBitmapSerdeFactory'
in `processing/src/main/java/org/apache/druid/segment/data/ConciseBitmapSerdeFactory.java`
#### Snippet
```java
  public boolean equals(Object o)
  {
    return this == o || o instanceof ConciseBitmapSerdeFactory;
  }

```

### ConditionCoveredByFurtherCondition
Condition 'estimator != null' covered by subsequent condition '"population".equalsIgnoreCase(...)'
in `extensions-core/stats/src/main/java/org/apache/druid/query/aggregation/variance/VarianceAggregatorCollector.java`
#### Snippet
```java
  public static boolean isVariancePop(@Nullable String estimator)
  {
    return estimator != null && "population".equalsIgnoreCase(estimator);
  }

```

### ConditionCoveredByFurtherCondition
Condition 'cookieToken != null' covered by subsequent condition 'cookieToken instanceof String'
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/KerberosAuthenticator.java`
#### Snippet
```java
  {
    Object cookieToken = clientRequest.getAttribute(SIGNED_TOKEN_ATTRIBUTE);
    if (cookieToken != null && cookieToken instanceof String) {
      log.debug("Found cookie token will attache it to proxyRequest as cookie");
      String authResult = (String) cookieToken;
```

### ConditionCoveredByFurtherCondition
Condition 'other != null' covered by subsequent condition 'other instanceof NamespaceLookupExtractorFactory'
in `extensions-core/lookups-cached-global/src/main/java/org/apache/druid/query/lookup/NamespaceLookupExtractorFactory.java`
#### Snippet
```java
  public boolean replaces(@Nullable LookupExtractorFactory other)
  {
    if (other != null && other instanceof NamespaceLookupExtractorFactory) {
      NamespaceLookupExtractorFactory that = (NamespaceLookupExtractorFactory) other;
      if (isInjective() != ((NamespaceLookupExtractorFactory) other).isInjective()) {
```

### ConditionCoveredByFurtherCondition
Condition 'this == o' covered by subsequent condition 'o instanceof ConciseBitMapFactory'
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/ConciseBitMapFactory.java`
#### Snippet
```java
  public boolean equals(Object o)
  {
    return this == o || o instanceof ConciseBitMapFactory;
  }

```

### ConditionCoveredByFurtherCondition
Condition 'this == o' covered by subsequent condition 'o instanceof JavaBitMapFactory'
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/JavaBitMapFactory.java`
#### Snippet
```java
  public boolean equals(Object o)
  {
    return this == o || o instanceof JavaBitMapFactory;
  }

```

### ConditionCoveredByFurtherCondition
Condition 'this == o' covered by subsequent condition 'o instanceof RoaringBitMapFactory'
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/RoaringBitMapFactory.java`
#### Snippet
```java
  public boolean equals(Object o)
  {
    return this == o || o instanceof RoaringBitMapFactory;
  }

```

## RuleId[ruleID=Anonymous2MethodRef]
### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `sql/src/main/java/org/apache/druid/sql/calcite/filtration/Bounds.java`
#### Snippet
```java
        Lists.transform(
            bounds,
            new Function<BoundDimFilter, Range<BoundValue>>()
            {
              @Override
              public Range<BoundValue> apply(BoundDimFilter bound)
```

### Anonymous2MethodRef
Anonymous new Supplier\>() can be replaced with method reference
in `core/src/main/java/org/apache/druid/java/util/http/client/Request.java`
#### Snippet
```java
  private final Multimap<String, String> headers = Multimaps.newListMultimap(
      new HashMap<>(),
      new Supplier<List<String>>()
      {
        @Override
        public List<String> get()
```

### Anonymous2MethodRef
Anonymous new Supplier() can be replaced with method reference
in `core/src/main/java/org/apache/druid/common/guava/DSuppliers.java`
#### Snippet
```java
  public static <T> Supplier<T> of(final AtomicReference<T> ref)
  {
    return new Supplier<T>()
    {
      @Override
      public T get()
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java

    runSegmentCallbacks(
        new Function<SegmentCallback, CallbackAction>()
        {
          @Override
          public CallbackAction apply(SegmentCallback input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
    return Lists.transform(
        dimensions,
        new Function<DimensionSchema, String>()
        {
          @Override
          public String apply(DimensionSchema input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `core/src/main/java/org/apache/druid/data/input/impl/DimensionsSpec.java`
#### Snippet
```java
    List<String> spatialDimNames = Lists.transform(
        spatialDimensions,
        new Function<SpatialDimensionSchema, String>()
        {
          @Override
          public String apply(SpatialDimensionSchema input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `server/src/main/java/org/apache/druid/server/lookup/cache/LookupCoordinatorManager.java`
#### Snippet
```java
    return Collections2.transform(
        lookupNodeDiscovery.getNodesInTier(tier),
        new Function<HostAndPortWithScheme, HostAndPort>()
        {
          @Override
          public HostAndPort apply(HostAndPortWithScheme input)
```

### Anonymous2MethodRef
Anonymous new Runnable() can be replaced with method reference
in `server/src/main/java/org/apache/druid/segment/handoff/CoordinatorBasedSegmentHandoffNotifier.java`
#### Snippet
```java
    scheduledExecutor = Execs.scheduledSingleThreaded("coordinator_handoff_scheduled_%d");
    scheduledExecutor.scheduleAtFixedRate(
        new Runnable()
        {
          @Override
          public void run()
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `services/src/main/java/org/apache/druid/server/router/TieredBrokerHostSelector.java`
#### Snippet
```java
    return Maps.transformValues(
        servers,
        new Function<NodesHolder, List<Server>>()
        {
          @Override
          public List<Server> apply(NodesHolder input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
      aggs = Lists.transform(
          query.getAggregatorSpecs(),
          new Function<AggregatorFactory, AggregatorFactory>()
          {
            @Override
            public AggregatorFactory apply(AggregatorFactory input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/groupby/GroupByQueryHelper.java`
#### Snippet
```java
    final List<String> dimensions = Lists.transform(
        query.getDimensions(),
        new Function<DimensionSpec, String>()
        {
          @Override
          public String apply(DimensionSpec input)
```

### Anonymous2MethodRef
Anonymous new MetricManipulationFn() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/aggregation/MetricManipulatorFns.java`
#### Snippet
```java
  }

  private static final MetricManipulationFn DESERIALIZING_INSTANCE = new MetricManipulationFn()
  {
    @Override
    public Object manipulate(final AggregatorFactory factory, final Object object)
```

### Anonymous2MethodRef
Anonymous new MetricManipulationFn() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/aggregation/MetricManipulatorFns.java`
#### Snippet
```java
  }

  private static final MetricManipulationFn FINALIZING_INSTANCE = new MetricManipulationFn()
  {
    @Override
    public Object manipulate(final AggregatorFactory factory, final Object object)
```

### Anonymous2MethodRef
Anonymous new Comparator() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregatorFactory.java`
#### Snippet
```java
  public Comparator getComparator()
  {
    return new Comparator<HyperLogLogCollector>()
    {
      @Override
      public int compare(HyperLogLogCollector lhs, HyperLogLogCollector rhs)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregatorFactory.java`
#### Snippet
```java
        Lists.transform(
            fields,
            new Function<DimensionSpec, String>()
            {
              @Override
              public String apply(DimensionSpec input)
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/segment/incremental/SpatialDimensionRowTransformer.java`
#### Snippet
```java
            Lists.transform(
                spatialDimensions,
                new Function<SpatialDimensionSchema, List<String>>()
                {
                  @Override
                  public List<String> apply(SpatialDimensionSchema input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
      return Iterables.transform(
          breadthFirstSearch(node, bound),
          new Function<ImmutableNode, ImmutableBitmap>()
          {
            @Override
            public ImmutableBitmap apply(ImmutableNode immutableNode)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
    return Iterables.transform(
        depthFirstSearch(node, bound),
        new Function<ImmutablePoint, ImmutableBitmap>()
        {
          @Override
          public ImmutableBitmap apply(ImmutablePoint immutablePoint)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
          Iterables.transform(
              node.getChildren(),
              new Function<ImmutableNode, ImmutablePoint>()
              {
                @Override
                public ImmutablePoint apply(ImmutableNode tNode)
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
              Iterables.filter(
                  node.getChildren(),
                  new Predicate<ImmutableNode>()
                  {
                    @Override
                    public boolean apply(ImmutableNode child)
```

### Anonymous2MethodRef
Anonymous new Predicate() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
            Iterables.filter(
                nodes,
                new Predicate<ImmutableNode>()
                {
                  @Override
                  public boolean apply(ImmutableNode immutableNode)
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `processing/src/main/java/org/apache/druid/collections/spatial/search/GutmanSearchStrategy.java`
#### Snippet
```java
                  Iterables.transform(
                      overlappingNodes,
                      new Function<ImmutableNode, Iterable<ImmutableNode>>()
                      {
                        @Override
                        public Iterable<ImmutableNode> apply(ImmutableNode immutableNode)
```

### Anonymous2MethodRef
Anonymous new PrivilegedExceptionAction() can be replaced with method reference
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/DruidKerberosAuthenticationHandler.java`
#### Snippet
```java
      }
      try {
        gssManager = Subject.doAs(serverSubject, new PrivilegedExceptionAction<GSSManager>()
        {

          @Override
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `extensions-core/druid-kerberos/src/main/java/org/apache/druid/security/kerberos/ResponseCookieHandler.java`
#### Snippet
```java
    try {
      final HttpHeaders headers = httpResponse.headers();
      manager.put(uri, Maps.asMap(headers.names(), new Function<String, List<String>>()
      {
        @Override
        public List<String> apply(String input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
      final List<String> instanceIds = Lists.transform(
          result.getReservation().getInstances(),
          new Function<Instance, String>()
          {
            @Override
            public String apply(Instance input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
          Lists.transform(
              result.getReservation().getInstances(),
              new Function<Instance, String>()
              {
                @Override
                public String apply(Instance input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
          Lists.transform(
              instances,
              new Function<Instance, String>()
              {
                @Override
                public String apply(Instance input)
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
          }
        })
        .transformAndConcat(new Function<Reservation, Iterable<Instance>>()
        {
          @Override
          public Iterable<Instance> apply(Reservation reservation)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
          }
        })
        .transform(new Function<Instance, String>()
        {
          @Override
          public String apply(Instance instance)
```

### Anonymous2MethodRef
Anonymous new Function\>() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
          }
        })
        .transformAndConcat(new Function<Reservation, Iterable<Instance>>()
        {
          @Override
          public Iterable<Instance> apply(Reservation reservation)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `extensions-core/ec2-extensions/src/main/java/org/apache/druid/indexing/overlord/autoscaling/ec2/EC2AutoScaler.java`
#### Snippet
```java
          }
        })
        .transform(new Function<Instance, String>()
        {
          @Override
          public String apply(Instance instance)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/worker/http/WorkerResource.java`
#### Snippet
```java
              Collections2.transform(
                  taskRunner.getKnownTasks(),
                  new Function<TaskRunnerWorkItem, String>()
                  {
                    @Override
                    public String apply(TaskRunnerWorkItem input)
```

### Anonymous2MethodRef
Anonymous new Function, TaskLock\>() can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/MetadataTaskStorage.java`
#### Snippet
```java
    return ImmutableList.copyOf(
        Iterables.transform(
            getLocksWithIds(taskid).entrySet(), new Function<Map.Entry<Long, TaskLock>, TaskLock>()
            {
              @Override
              public TaskLock apply(Map.Entry<Long, TaskLock> e)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningStrategy.java`
#### Snippet
```java
                  Iterables.transform(
                      runner.getLazyWorkers(),
                      new Function<Worker, String>()
                      {
                        @Override
                        public String apply(Worker input)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/SimpleWorkerProvisioningStrategy.java`
#### Snippet
```java
              Collections2.transform(
                  runner.markWorkersLazy(isLazyWorker, excessWorkers),
                  new Function<Worker, String>()
                  {
                    @Override
                    public String apply(Worker worker)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
            Collections2.transform(
                runner.markWorkersLazy(isLazyWorker, maxWorkersToTerminate),
                new Function<Worker, String>()
                {
                  @Override
                  public String apply(Worker zkWorker)
```

### Anonymous2MethodRef
Anonymous new Function() can be replaced with method reference
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/PendingTaskBasedWorkerProvisioningStrategy.java`
#### Snippet
```java
          Collections2.transform(
              workers,
              new Function<ImmutableWorkerInfo, Worker>()
              {
                @Override
                public Worker apply(ImmutableWorkerInfo input)
```

## RuleId[ruleID=Java8MapApi]
### Java8MapApi
Can be replaced with single 'Map.computeIfAbsent' method call
in `core/src/main/java/org/apache/druid/java/util/emitter/core/Emitters.java`
#### Snippet
```java
          String keyPart = keyPath[i];
          Object nextLevelJson = currentLevelJson.get(keyPart);
          if (nextLevelJson == null) {
            nextLevelJson = new HashMap<String, Object>();
            currentLevelJson.put(keyPart, nextLevelJson);
```

## RuleId[ruleID=Convert2Lambda]
### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `core/src/main/java/org/apache/druid/java/util/common/lifecycle/Lifecycle.java`
#### Snippet
```java
      Runtime.getRuntime().addShutdownHook(
          new Thread(
              new Runnable()
              {
                @Override
                public void run()
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `core/src/main/java/org/apache/druid/java/util/common/granularity/Granularity.java`
#### Snippet
```java
{

  public static Comparator<Granularity> IS_FINER_THAN = new Comparator<Granularity>()
  {
    @Override
    /**
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `core/src/main/java/org/apache/druid/java/util/common/concurrent/ScheduledExecutors.java`
#### Snippet
```java
  )
  {
    scheduleAtFixedRate(exec, initialDelay, period, new Callable<Signal>()
    {
      @Override
      public Signal call()
```

### Convert2Lambda
Anonymous new Callable\>() can be replaced with lambda
in `core/src/main/java/org/apache/druid/common/config/ConfigManager.java`
#### Snippet
```java

        holder = exec.submit(
            new Callable<ConfigHolder<T>>()
            {
              @Override
              @SuppressWarnings("unchecked")
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
    for (final Map.Entry<SegmentCallback, Executor> entry : segmentCallbacks.entrySet()) {
      entry.getValue().execute(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/client/HttpServerInventoryView.java`
#### Snippet
```java
    for (final Map.Entry<ServerRemovedCallback, Executor> entry : serverCallbacks.entrySet()) {
      entry.getValue().execute(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `server/src/main/java/org/apache/druid/server/ClientInfoResource.java`
#### Snippet
```java
    }
    Map<Interval, Object> servedIntervals = new TreeMap<>(
        new Comparator<Interval>()
        {
          @Override
          public int compare(Interval o1, Interval o2)
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/server/log/FileRequestLogger.java`
#### Snippet
```java
          initialDelay,
          Duration.standardDays(1),
          new Callable<ScheduledExecutors.Signal>()
          {
            @Override
            public ScheduledExecutors.Signal call()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/server/log/FileRequestLogger.java`
#### Snippet
```java
            new Duration(0),
            Duration.standardDays(1),
            new Runnable()
            {
              @Override
              public void run()
```

### Convert2Lambda
Anonymous new FileFilter() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/loading/LocalFileTimestampVersionFinder.java`
#### Snippet
```java
    URI latest = null;
    for (File file : dir.toFile().listFiles(
        new FileFilter()
        {
          @Override
          public boolean accept(File pathname)
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/handoff/CoordinatorBasedSegmentHandoffNotifier.java`
#### Snippet
```java
    scheduledExecutor = Execs.scheduledSingleThreaded("coordinator_handoff_scheduled_%d");
    scheduledExecutor.scheduleAtFixedRate(
        new Runnable()
        {
          @Override
          public void run()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/FlushingPlumber.java`
#### Snippet
```java
        flushScheduledExec,
        flushDuration,
        new Callable<ScheduledExecutors.Signal>()
        {
          @Override
          public ScheduledExecutors.Signal call()
```

### Convert2Lambda
Anonymous new FilenameFilter() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
      // To avoid reading and listing of "merged" dir
      final File[] sinkFiles = sinkDir.listFiles(
          new FilenameFilter()
          {
            @Override
            public boolean accept(File dir, String fileName)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
      Arrays.sort(
          sinkFiles,
          new Comparator<File>()
          {
            @Override
            public int compare(File o1, File o2)
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/realtime/plumber/RealtimePlumber.java`
#### Snippet
```java
    handoffNotifier.registerSegmentHandoffCallback(
        new SegmentDescriptor(sink.getInterval(), sink.getVersion(), config.getShardSpec().getPartitionNum()),
        mergeExecutor, new Runnable()
        {
          @Override
          public void run()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/AppenderatorImpl.java`
#### Snippet
```java
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
        new Callable<Object>()
        {
          @Override
          public Object call() throws IOException
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/segment/realtime/appenderator/StreamAppenderator.java`
#### Snippet
```java
    AtomicLong totalPersistedRows = new AtomicLong(numPersistedRows);
    final ListenableFuture<Object> future = persistExecutor.submit(
        new Callable<Object>()
        {
          @Override
          public Object call() throws IOException
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `server/src/main/java/org/apache/druid/metadata/SQLMetadataRuleManager.java`
#### Snippet
```java
      createDefaultRule(dbi, getRulesTable(), config.getDefaultRule(), jsonMapper);
      exec.scheduleWithFixedDelay(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new FilenameFilter() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/guice/ExtensionsLoader.java`
#### Snippet
```java
          if (parentDir.isDirectory()) {
            File[] jars = parentDir.listFiles(
                new FilenameFilter()
                {
                  @Override
                  public boolean accept(File dir, String name)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/query/topn/TopNNumericResultBuilder.java`
#### Snippet
```java
  private final PriorityQueue<DimValHolder> pQueue;
  private final String[] aggFactoryNames;
  private static final Comparator<Comparable> DIM_VALUE_COMPARATOR = new Comparator<Comparable>()
  {
    @Override
    public int compare(Comparable o1, Comparable o2)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/query/search/SearchSortSpec.java`
#### Snippet
```java
  public Comparator<SearchHit> getComparator()
  {
    return new Comparator<SearchHit>()
    {
      @Override
      public int compare(SearchHit searchHit, SearchHit searchHit1)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/query/groupby/epinephelinae/LimitedBufferHashGrouper.java`
#### Snippet
```java
    Collections.sort(
        wrappedOffsets,
        new Comparator<Integer>()
        {
          @Override
          public int compare(Integer lhs, Integer rhs)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/query/ordering/StringComparators.java`
#### Snippet
```java
  public static class StrlenComparator extends StringComparator
  {
    private static final Ordering<String> ORDERING = Ordering.from(new Comparator<String>()
    {
      @Override
      public int compare(String s, String s2)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/query/aggregation/HistogramAggregator.java`
#### Snippet
```java
public class HistogramAggregator implements Aggregator
{
  static final Comparator COMPARATOR = new Comparator()
  {
    @Override
    public int compare(Object o, Object o1)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `processing/src/main/java/org/apache/druid/query/aggregation/cardinality/CardinalityAggregatorFactory.java`
#### Snippet
```java
  public Comparator getComparator()
  {
    return new Comparator<HyperLogLogCollector>()
    {
      @Override
      public int compare(HyperLogLogCollector lhs, HyperLogLogCollector rhs)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extensions-core/histogram/src/main/java/org/apache/druid/query/aggregation/histogram/FixedBucketsHistogramAggregator.java`
#### Snippet
```java
  public static final ColumnType TYPE = ColumnType.ofComplex(TYPE_NAME);

  public static final Comparator COMPARATOR = new Comparator()
  {
    @Override
    public int compare(Object o, Object o1)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
  private static final int CHUNK_SIZE = 10000;

  private static final Comparator<WordIterator> UNION_COMPARATOR = new Comparator<WordIterator>()
  {
    // Comparison is first by index, then one fills < literals < zero fills
    // one fills are sorted by length (longer one fills have priority)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extendedset/src/main/java/org/apache/druid/extendedset/intset/ImmutableConciseSet.java`
#### Snippet
```java
  };

  private static final Comparator<WordIterator> INTERSECTION_COMPARATOR = new Comparator<WordIterator>()
  {
    // Comparison is first by index, then zero fills < literals < one fills
    // zero fills are sorted by length (longer zero fills have priority)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchEstimatePostAggregator.java`
#### Snippet
```java
      return Ordering.natural();
    } else {
      return new Comparator()
      {
        @Override
        public int compare(Object o1, Object o2)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
  ).nullsFirst();

  private static final Comparator<Sketch> SKETCH_COMPARATOR = new Comparator<Sketch>()
  {
    @Override
    public int compare(Sketch o1, Sketch o2)
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchHolder.java`
#### Snippet
```java
  };

  private static final Comparator<Memory> MEMORY_COMPARATOR = new Comparator<Memory>()
  {
    @SuppressWarnings("SubtractionInCompareTo")
    @Override
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `extensions-core/druid-basic-security/src/main/java/org/apache/druid/security/basic/authentication/db/updater/CoordinatorBasicAuthenticatorMetadataStorageUpdater.java`
#### Snippet
```java
          new Duration(commonCacheConfig.getPollingPeriod()),
          new Duration(commonCacheConfig.getPollingPeriod()),
          new Callable<ScheduledExecutors.Signal>()
          {
            @Override
            public ScheduledExecutors.Signal call()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `extensions-core/lookups-cached-single/src/main/java/org/apache/druid/server/lookup/PollingLookup.java`
#### Snippet
```java
  private Runnable pollAndSwap()
  {
    return new Runnable()
    {
      @Override
      public void run()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java
                  task,
                  taskExecutor.submit(
                      new Callable<TaskStatus>() {
                        @Override
                        public TaskStatus call()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ThreadingTaskRunner.java`
#### Snippet
```java

      taskInfo.shutdownFuture = controlThreadExecutor.submit(
          new Callable<Void>()
          {
            @Override
            public Void call()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
      }
      managerExec.submit(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskQueue.java`
#### Snippet
```java
          storageSyncExec,
          config.getStorageSyncRate(),
          new Callable<ScheduledExecutors.Signal>()
          {
            @Override
            public ScheduledExecutors.Signal call()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/ForkingTaskRunner.java`
#### Snippet
```java
            task,
            exec.submit(
              new Callable<TaskStatus>() {
                @Override
                public TaskStatus call()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/helpers/TaskLogAutoCleaner.java`
#### Snippet
```java
        Duration.millis(config.getInitialDelay()),
        Duration.millis(config.getDelay()),
        new Runnable()
        {
          @Override
          public void run()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/AbstractWorkerProvisioningStrategy.java`
#### Snippet
```java
      long rate = provisioningSchedulerConfig.getProvisionPeriod().toStandardDuration().getMillis();
      exec.scheduleAtFixedRate(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/autoscaling/AbstractWorkerProvisioningStrategy.java`
#### Snippet
```java

      exec.scheduleAtFixedRate(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `integration-tests/src/main/java/org/apache/druid/testing/utils/ServerDiscoveryUtil.java`
#### Snippet
```java
  {
    ITRetryUtil.retryUntilTrue(
        new Callable<Boolean>()
        {
          @Override
          public Boolean call()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `integration-tests/src/main/java/org/apache/druid/testing/clients/OverlordResourceTestClient.java`
#### Snippet
```java
  {
    ITRetryUtil.retryUntil(
        new Callable<Boolean>()
        {
          @Override
          public Boolean call()
```

### Convert2Lambda
Anonymous new Callable() can be replaced with lambda
in `integration-tests/src/main/java/org/apache/druid/testing/clients/OverlordResourceTestClient.java`
#### Snippet
```java
  {
    ITRetryUtil.retryUntil(
        new Callable<Boolean>()
        {
          @Override
          public Boolean call()
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `extensions-contrib/distinctcount/src/main/java/org/apache/druid/query/aggregation/distinctcount/DistinctCountAggregatorFactory.java`
#### Snippet
```java
  public Comparator getComparator()
  {
    return new Comparator()
    {
      @Override
      public int compare(Object o, Object o1)
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `extensions-contrib/materialized-view-selection/src/main/java/org/apache/druid/query/materializedview/DerivativeDataSourceManager.java`
#### Snippet
```java
      final Duration delay = config.getPollDuration().toStandardDuration();
      future = exec.scheduleWithFixedDelay(
          new Runnable() {
            @Override
            public void run() 
```

### Convert2Lambda
Anonymous new Runnable() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java
      ListenableFuture<Boolean> future = entry.getValue();
      future.addListener(
          new Runnable()
          {
            @Override
            public void run()
```

### Convert2Lambda
Anonymous new Comparator() can be replaced with lambda
in `indexing-service/src/main/java/org/apache/druid/indexing/seekablestream/supervisor/SeekableStreamSupervisor.java`
#### Snippet
```java

  private static final Comparator<ParseExceptionReport> PARSE_EXCEPTION_REPORT_COMPARATOR =
      new Comparator<ParseExceptionReport>()
      {
        @Override
        public int compare(ParseExceptionReport o1, ParseExceptionReport o2)
```

## RuleId[ruleID=UnnecessaryContinue]
### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `processing/src/main/java/org/apache/druid/query/aggregation/last/StringLastVectorAggregator.java`
#### Snippet
```java
    for (Object obj : objectsWhichMightBeStrings) {
      if (obj == null) {
        continue;
      } else {
        foldNeeded = StringFirstLastUtils.objectNeedsFoldCheck(obj);
```

### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `indexing-service/src/main/java/org/apache/druid/indexing/overlord/TaskLockbox.java`
#### Snippet
```java
              task.getGroupId()
          );
          continue;
        }
      }
```

## RuleId[ruleID=CastCanBeRemovedNarrowingVariableType]
### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'unmap' to 'MethodHandle'
in `core/src/main/java/org/apache/druid/java/util/common/ByteBufferUtils.java`
#### Snippet
```java
    }
    if (unmap != null) {
      UNMAP = (MethodHandle) unmap;
      UNMAP_NOT_SUPPORTED_EXCEPTION = null;
    } else {
```

### CastCanBeRemovedNarrowingVariableType
Cast may be removed by changing the type of 'selector' to 'ColumnValueSelector'
in `extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/aggregation/bloom/BloomFilterMergeAggregatorFactory.java`
#### Snippet
```java
      throw new ISE("Unexpected NilColumnValueSelector");
    }
    return new BloomFilterMergeAggregator((ColumnValueSelector<ByteBuffer>) selector, getMaxNumEntries(), true);
  }
}
```

