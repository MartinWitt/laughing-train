# atlasdb 
 
# Bad smells
I found 3103 bad smells with 120 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| BoundedWildcard | 768 | false |
| UnstableApiUsage | 305 | false |
| OptionalUsedAsFieldOrParameterType | 233 | false |
| RedundantFieldInitialization | 150 | false |
| DefaultAnnotationParam | 146 | false |
| ReturnNull | 139 | false |
| AbstractClassNeverImplemented | 120 | false |
| DataFlowIssue | 119 | false |
| NullableProblems | 111 | false |
| OptionalGetWithoutIsPresent | 60 | false |
| UnstableTypeUsedInSignature | 58 | false |
| DeprecatedIsStillUsed | 49 | false |
| ConstantValue | 48 | false |
| UnnecessaryFullyQualifiedName | 46 | false |
| ZeroLengthArrayInitialization | 44 | false |
| SimplifyOptionalCallChains | 42 | false |
| DoubleBraceInitialization | 33 | false |
| OptionalContainsCollection | 30 | false |
| AssignmentToMethodParameter | 29 | false |
| StaticPseudoFunctionalStyleMethod | 26 | false |
| SystemOutErr | 24 | false |
| NonProtectedConstructorInAbstractClass | 23 | true |
| UtilityClassWithoutPrivateConstructor | 23 | true |
| DynamicRegexReplaceableByCompiledPattern | 22 | false |
| EmptyMethod | 21 | false |
| SizeReplaceableByIsEmpty | 20 | true |
| RedundantSuppression | 20 | false |
| UnnecessarySemicolon | 19 | false |
| StaticCallOnSubclass | 19 | false |
| FieldAccessedSynchronizedAndUnsynchronized | 17 | false |
| NonSerializableFieldInSerializableClass | 16 | false |
| CStyleArrayDeclaration | 15 | false |
| UnnecessaryLocalVariable | 15 | true |
| PublicFieldAccessedInSynchronizedContext | 14 | false |
| SynchronizeOnThis | 13 | false |
| UnnecessaryToStringCall | 13 | true |
| IgnoreResultOfCall | 12 | false |
| MissortedModifiers | 11 | false |
| RedundantImplements | 11 | false |
| RedundantMethodOverride | 9 | false |
| UnusedAssignment | 9 | false |
| TrivialStringConcatenation | 8 | false |
| AssignmentToStaticFieldFromInstanceMethod | 7 | false |
| UnnecessaryUnboxing | 7 | false |
| NestedAssignment | 7 | false |
| UnnecessaryStringEscape | 7 | true |
| RegExpRedundantEscape | 6 | false |
| TestCaseWithConstructor | 6 | false |
| NonShortCircuitBoolean | 6 | false |
| CodeBlock2Expr | 6 | true |
| StringConcatenationInsideStringBufferAppend | 6 | false |
| ClassNameSameAsAncestorName | 5 | false |
| NonSynchronizedMethodOverridesSynchronizedMethod | 5 | false |
| UnnecessaryReturn | 5 | true |
| NonExceptionNameEndsWithException | 5 | false |
| ThrowableNotThrown | 5 | false |
| MismatchedCollectionQueryUpdate | 4 | false |
| BusyWait | 4 | false |
| RedundantArrayCreation | 4 | true |
| RedundantComparatorComparing | 4 | false |
| MismatchedJavadocCode | 4 | false |
| ReplaceNullCheck | 4 | false |
| AccessStaticViaInstance | 3 | false |
| PointlessBitwiseExpression | 3 | false |
| SimplifyStreamApiCallChains | 3 | false |
| RegExpSimplifiable | 3 | false |
| StringBufferReplaceableByString | 3 | false |
| InstanceofCatchParameter | 3 | false |
| ExceptionNameDoesntEndWithException | 3 | false |
| AssignmentToForLoopParameter | 3 | false |
| ToArrayCallWithZeroLengthArrayArgument | 2 | true |
| Finalize | 2 | false |
| OptionalAssignedToNull | 2 | false |
| ReplaceAssignmentWithOperatorAssignment | 2 | false |
| DuplicateThrows | 2 | false |
| SynchronizationOnLocalVariableOrMethodParameter | 2 | false |
| PointlessBooleanExpression | 2 | true |
| DuplicateBranchesInSwitch | 2 | false |
| RedundantStringFormatCall | 2 | false |
| IOResource | 2 | false |
| FieldMayBeStatic | 2 | false |
| UnnecessaryBoxing | 2 | false |
| WrapperTypeMayBePrimitive | 1 | false |
| MarkedForRemoval | 1 | false |
| StaticInitializerReferencesSubClass | 1 | false |
| CommentedOutCode | 1 | false |
| KeySetIterationMayUseEntrySet | 1 | false |
| UnnecessaryQualifierForThis | 1 | false |
| ExplicitArrayFilling | 1 | false |
| StringRepeatCanBeUsed | 1 | false |
| ManualArrayToCollectionCopy | 1 | false |
| CollectionContainsUrl | 1 | false |
| RegExpUnexpectedAnchor | 1 | false |
| SwitchStatementWithConfusingDeclaration | 1 | false |
| CharsetObjectCanBeUsed | 1 | false |
| PrimitiveArrayArgumentToVariableArgMethod | 1 | false |
| UseBulkOperation | 1 | false |
| ConditionalBreakInInfiniteLoop | 1 | false |
| AssertWithSideEffects | 1 | false |
| EmptySynchronizedStatement | 1 | false |
| ManualMinMaxCalculation | 1 | false |
| ThrowFromFinallyBlock | 1 | false |
| IfStatementWithIdenticalBranches | 1 | false |
| UnnecessarySuperQualifier | 1 | false |
| InfiniteLoopStatement | 1 | false |
| GroovyUnusedAssignment | 1 | false |
| FuseStreamOperations | 1 | false |
| NonFinalFieldOfException | 1 | false |
| MethodOverridesStaticMethod | 1 | false |
| OptionalIsPresent | 1 | false |
| RedundantOperationOnEmptyContainer | 1 | false |
| RedundantCollectionOperation | 1 | false |
| AbstractMethodCallInConstructor | 1 | false |
| CatchMayIgnoreException | 1 | false |
| StringEqualsEmptyString | 1 | false |
| ConditionCoveredByFurtherCondition | 1 | false |
| RegExpSingleCharAlternation | 1 | false |
| UnnecessaryContinue | 1 | false |
| EqualsWhichDoesntCheckParameterClass | 1 | false |
| TestCaseWithNoTestMethods | 1 | false |
## RuleId[ruleID=ToArrayCallWithZeroLengthArrayArgument]
### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Class\[interfaces.size()\]'
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java

        checkAreAllInterfaces(interfaces);
        return interfaces.toArray(new Class<?>[interfaces.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Object\[argList.size()\]'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
        public synchronized void close() {
            if (!isClosed) {
                sink.log(String.join(DELIMITER, formatElements), argList.toArray(new Object[argList.size()]));
            }
            isClosed = true;
```

## RuleId[ruleID=Finalize]
### Finalize
'finalize()' should not be overridden
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java
    @Override
    @SuppressWarnings("checkstyle:NoFinalizer") // TODO (jkong): Can we safely remove this without breaking things?
    protected void finalize() throws Throwable {
        super.finalize();
        if (!isClosed) {
```

### Finalize
'finalize()' should not be overridden
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
    @Override
    @SuppressWarnings("checkstyle:NoFinalizer") // TODO (jkong): Can we safely remove this without breaking things?
    protected void finalize() throws Throwable {
        super.finalize();
        if (!isClosed) {
```

## RuleId[ruleID=WrapperTypeMayBePrimitive]
### WrapperTypeMayBePrimitive
Type may be primitive
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    @Override
    public double getStandardDeviationInMillis() {
        Double count = (double) totalCalls;
        if (count == 0) {
            return 0;
```

## RuleId[ruleID=MarkedForRemoval]
### MarkedForRemoval
'setSecurityManager(java.lang.SecurityManager)' is deprecated and marked for removal
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
    public static void callback(Script script, boolean mutationsEnabled)
            throws CompilationFailedException, IOException {
        System.setSecurityManager(null);
        setupBinding(script.getBinding(), mutationsEnabled);
    }
```

## RuleId[ruleID=StaticInitializerReferencesSubClass]
### StaticInitializerReferencesSubClass
Referencing subclass PostgresKeyValueServiceInstrumentation from superclass KeyValueServiceInstrumentation initializer might lead to class loading deadlock
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/KeyValueServiceInstrumentation.java`
#### Snippet
```java
    static {
        addNewBackendType(new CassandraKeyValueServiceInstrumentation());
        addNewBackendType(new PostgresKeyValueServiceInstrumentation());
    }

```

## RuleId[ruleID=CommentedOutCode]
### CommentedOutCode
Commented out code (3 lines)
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        if (field == null) {
            handleMissingField(tokenizer, extensionRegistry, builder);
            // throw tokenizer.parseExceptionPreviousToken("Message type \"" + type.getFullName()
            //                                            + "\" has no field named \"" + name
            //                                            + "\".");
```

## RuleId[ruleID=AssignmentToStaticFieldFromInstanceMethod]
### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `timestampServiceCreationInfo` from instance context
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
        if (collectThreadDumps) {
            if (timestampServiceCreationInfo == null) {
                timestampServiceCreationInfo = ThreadDumps.programmaticThreadDump();
            } else {
                handleMultipleTimestampFetch();
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `additionalBindingsToSetUp` from instance context
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java

            if (cli.hasOption(BIND_FLAG_SHORT)) {
                additionalBindingsToSetUp = cli.getOptionValues(BIND_FLAG_SHORT);
                Preconditions.checkArgument(
                        additionalBindingsToSetUp.length % 2 == 0,
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `batchSizeMultiplier` from instance context
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AdjustableSweepBatchConfigSource.java`
#### Snippet
```java

        if (successiveIncreases.incrementAndGet() > 25) {
            batchSizeMultiplier = Math.min(1.0, batchSizeMultiplier * 2);
        }
    }
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `batchSizeMultiplier` from instance context
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AdjustableSweepBatchConfigSource.java`
#### Snippet
```java
                            + "will not reduce further.",
                    SafeArg.of("batchSizeMultiplier", smallestSensibleBatchSizeMultiplier));
            batchSizeMultiplier = smallestSensibleBatchSizeMultiplier;
        } else {
            batchSizeMultiplier = newBatchSizeMultiplier;
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `batchSizeMultiplier` from instance context
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AdjustableSweepBatchConfigSource.java`
#### Snippet
```java
            batchSizeMultiplier = smallestSensibleBatchSizeMultiplier;
        } else {
            batchSizeMultiplier = newBatchSizeMultiplier;
        }
    }
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `dockerComposeRule` from instance context
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
                DockerMachine.localMachine().withEnvironment(environment).build();

        dockerComposeRule = DockerComposeRule.builder()
                .files(DockerComposeFiles.from(containerDockerComposeFiles.toArray(new String[0])))
                .projectName(PROJECT_NAME)
```

### AssignmentToStaticFieldFromInstanceMethod
Assignment to static field `currentLogCollector` from instance context
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
            currentLogCollector.stopExecutor();
        }
        currentLogCollector = new InterruptibleFileLogCollector(new File(logDirectory));
    }

```

## RuleId[ruleID=CStyleArrayDeclaration]
### CStyleArrayDeclaration
C-style array declaration of local variable `fields`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    @SuppressWarnings("StringSplitter") // Legacy code, uncertainty of full implications of change
    public static String qualifyFields(String fieldList, String tableName) {
        String fields[] = fieldList.split("\\s*,\\s*"); // $NON-NLS-1$
        StringBuilder out = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of local variable `fields`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    @SuppressWarnings("StringSplitter") // Legacy code, uncertainty of full implications of change
    public static String generateUpdateString(String fieldList) {
        String fields[] = fieldList.split("\\s*,\\s*"); // $NON-NLS-1$
        StringBuilder out = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            final Connection c,
            final FinalSQLString sql,
            Object vs[],
            final Long defaultVal,
            final boolean useBrokenBehaviorWithNullAndZero)
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    protected PreparedStatement execute(
            final Connection c, final FinalSQLString sql, final Object vs[], final AutoClose autoClose)
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    PreparedStatement updateInternal(
            final Connection c, final FinalSQLString sql, final Object vs[], final AutoClose autoClose)
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    protected AgnosticLightResultSet selectLightResultSetSpecifyingDBType(
            final Connection c, final FinalSQLString sql, Object vs[], final DBType dbType, @Nullable Integer fetchSize)
            throws PalantirSqlException, PalantirInterruptedException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    @SuppressWarnings("BadAssert") // performance sensitive asserts
    public boolean insertMany(final Connection c, final FinalSQLString sql, final Object vs[][])
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    }

    protected void updateMany(final Connection c, final FinalSQLString sql, final Object vs[][])
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

        @Override
        public int read(byte b[], int off, int len) {
            if (b == null) {
                throw new NullPointerException();
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

    @Override
    public void write(byte b[], int off, int len) throws IOException {
        if (b == null) {
            throw new NullPointerException();
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java

    @Override
    public int read(byte b[], int off, int len) throws IOException {
        if (b == null) {
            throw new NullPointerException();
```

### CStyleArrayDeclaration
C-style array declaration of local variable `elements`
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
        for (Map.Entry<Thread, StackTraceElement[]> entry : map.entrySet()) {
            Thread t = entry.getKey();
            StackTraceElement elements[] = entry.getValue();

            printWriter.println(new StringBuilder().append(t));
```

### CStyleArrayDeclaration
C-style array declaration of parameter `elements`
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
    }

    private static void printStackTrace(PrintWriter printwriter, StackTraceElement elements[]) {
        synchronized (printwriter) {
            for (int i = 0; i < elements.length; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java

        @Override
        public void write(byte b[], int off, int len) throws IOException {
            LZ4CompressingInputStream.this.write(b, off, len);
        }
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java
    }

    private void write(byte b[], int off, int len) throws IOException {
        Preconditions.checkNotNull(b, "Provided byte array b cannot be null.");
        if ((off < 0) || (len < 0) || (off + len > b.length)) {
```

## RuleId[ruleID=RegExpRedundantEscape]
### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java
@SuppressWarnings({"WeakerAccess", "BadAssert"}) // performance sensitive asserts
public class SQLString extends BasicSQLString {
    private static final Pattern ALL_WORD_CHARS_REGEX = Pattern.compile("^[a-zA-Z_0-9\\.\\-]*$"); // $NON-NLS-1$
    private static final String UNREGISTERED_SQL_COMMENT = "/* UnregisteredSQLString */";

```

### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Namespace.java`
#### Snippet
```java
     * Use {@link Namespace#LOOSELY_CHECKED_NAME} or {@link Namespace#STRICTLY_CHECKED_NAME} if possible.
     */
    public static final Pattern UNCHECKED_NAME = Pattern.compile("^[^\\.\\s]+$");

    /**
```

### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresVersionCheck.java`
#### Snippet
```java
    public static void checkDatabaseVersion(String version, Logger log) {
        boolean checkPasses =
                version.matches("^[\\.0-9]+$") && VersionStrings.compareVersions(version, MIN_POSTGRES_VERSION) >= 0;
        if (VersionStrings.compareVersions(version, "9.5") >= 0
                && VersionStrings.compareVersions(version, "9.5.2") < 0) {
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    private String replaceBracesWithStringFormatSpecifier(String msg) {
        return msg.replaceAll("\\{\\}", "%s");
    }

```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Cassandra22XVersion.java`
#### Snippet
```java

public class Cassandra22XVersion implements CassandraVersion {
    private static final Pattern REPLICATION_REGEX = Pattern.compile("^.*\"replication_factor\":\"(\\d+)\"\\}$");
    private static final String ALL_KEYSPACES_CQL = "SELECT * FROM system.schema_keyspaces;";

```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Cassandra3XVersion.java`
#### Snippet
```java

public class Cassandra3XVersion implements CassandraVersion {
    private static final Pattern REPLICATION_REGEX = Pattern.compile("^.*'replication_factor': '(\\d+)'\\}$");
    private static final String ALL_KEYSPACES_CQL = "SELECT * FROM system_schema.keyspaces;";

```

## RuleId[ruleID=KeySetIterationMayUseEntrySet]
### KeySetIterationMayUseEntrySet
Iteration over `ks1` may be replaced with 'entrySet()' iteration
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceValidator.java`
#### Snippet
```java
        Set<Cell> ks2 = cells2.keySet();
        Preconditions.checkArgument(ks1.equals(ks2), "Cells not equal. Expected: %s. Actual: %s", ks1, ks2);
        for (Cell c : ks1) {
            Preconditions.checkArgument(Arrays.equals(cells1.get(c), cells2.get(c)), "Values not equal for cell %s", c);
        }
```

## RuleId[ruleID=UnnecessaryQualifierForThis]
### UnnecessaryQualifierForThis
Qualifier `AbstractTransactionManager` on 'this' is unnecessary in this context
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionManager.java`
#### Snippet
```java
    ExecutorService createGetRangesExecutor(int numThreads, Optional<Integer> sharedExecutorSize) {
        return GetRangesExecutors.createGetRangesExecutor(
                numThreads, AbstractTransactionManager.this.getClass().getSimpleName(), sharedExecutorSize);
    }

```

## RuleId[ruleID=SizeReplaceableByIsEmpty]
### SizeReplaceableByIsEmpty
`entries.size() == 0` can be replaced with 'entries.isEmpty()'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java

    private boolean finishCellIfNoRowsYet() {
        if (entries.size() == 0) {
            flushRowBuffer();
            while (currentCellHasEntriesLeft()) {
```

### SizeReplaceableByIsEmpty
`currentCellTimestamps.size() > 0` can be replaced with '!currentCellTimestamps.isEmpty()'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/sweep/CandidateGroupingIterator.java`
#### Snippet
```java
        for (CellTsPairInfo cellTs : cellTsBatch) {
            checkCurrentCellAndUpdateIfNecessary(cellTs).ifPresent(candidates::add);
            if (currentCellTimestamps.size() > 0) {
                // We expect the timestamps in ascending order. This check costs us a few CPU cycles
                // but it's worth it for paranoia reasons - mistaking a cell with data for an empty one
```

### SizeReplaceableByIsEmpty
`builder.length() != 0` can be replaced with '!builder.isEmpty()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/Renderer.java`
#### Snippet
```java

    protected void line(String... strings) {
        if (builder.length() != 0) {
            builder.append("\n");
        }
```

### SizeReplaceableByIsEmpty
`builder.length() == 0` can be replaced with 'builder.isEmpty()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/Renderer.java`
#### Snippet
```java

    protected String render() {
        Preconditions.checkState(builder.length() == 0);
        run();
        return builder.toString();
```

### SizeReplaceableByIsEmpty
`text.length() > 0` can be replaced with '!text.isEmpty()'
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        }
        Boolean capsType = null; // null for all lower case, false for Camel Case, true for ALL UPPER CASE
        if (text.length() > 0) {
            char[] textArray = text.toCharArray();
            if (Character.isUpperCase(textArray[0])) {
```

### SizeReplaceableByIsEmpty
`plural.length() > 0` can be replaced with '!plural.isEmpty()'
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            return plural; // lower case
        } else if (capsType == false) {
            if (plural != null && plural.length() > 0) {
                return Character.toUpperCase(plural.charAt(0)) + plural.substring(1); // Camel Case
            } else {
```

### SizeReplaceableByIsEmpty
`message.getUnknownFields().asMap().size() > 0` can be replaced with '!message.getUnknownFields().asMap().isEmpty()'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            }
        }
        if (message.getUnknownFields().asMap().size() > 0) {
            generator.print(", ");
        }
```

### SizeReplaceableByIsEmpty
`currentToken.length() == 0` can be replaced with 'currentToken.isEmpty()'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
         */
        public boolean atEnd() {
            return currentToken.length() == 0;
        }

```

### SizeReplaceableByIsEmpty
`currentToken.length() > 0` can be replaced with '!currentToken.isEmpty()'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
         */
        public ByteString consumeByteString() throws ParseException {
            char quote = currentToken.length() > 0 ? currentToken.charAt(0) : '\0';
            if ((quote != '\"') && (quote != '\'')) {
                throw parseException("Expected string.");
```

### SizeReplaceableByIsEmpty
`currentToken.length() > 0` can be replaced with '!currentToken.isEmpty()'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
         */
        public String consumeString() throws ParseException {
            char quote = currentToken.length() > 0 ? currentToken.charAt(0) : '\0';
            if ((quote != '\"') && (quote != '\'')) {
                throw parseException("Expected string.");
```

### SizeReplaceableByIsEmpty
`currentToken.length() == 0` can be replaced with 'currentToken.isEmpty()'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
         */
        public boolean lookingAtBoolean() {
            if (currentToken.length() == 0) {
                return false;
            }
```

### SizeReplaceableByIsEmpty
`currentToken.length() == 0` can be replaced with 'currentToken.isEmpty()'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
         */
        public boolean lookingAtInteger() {
            if (currentToken.length() == 0) {
                return false;
            }
```

### SizeReplaceableByIsEmpty
`completelyUnresponsiveNodes.size() > 0` can be replaced with '!completelyUnresponsiveNodes.isEmpty()'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java

        StringBuilder errorBuilderForEntireCluster = new StringBuilder();
        if (completelyUnresponsiveNodes.size() > 0) {
            errorBuilderForEntireCluster
                    .append("Performing routine startup checks,")
```

### SizeReplaceableByIsEmpty
`aliveButInvalidPartitionerNodes.size() > 0` can be replaced with '!aliveButInvalidPartitionerNodes.isEmpty()'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
        }

        if (aliveButInvalidPartitionerNodes.size() > 0) {
            errorBuilderForEntireCluster
                    .append("Performing routine startup checks,")
```

### SizeReplaceableByIsEmpty
`aliveButInvalidPartitionerNodes.size() == 0` can be replaced with 'aliveButInvalidPartitionerNodes.isEmpty()'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
        }

        if (atLeastOneHostResponded && aliveButInvalidPartitionerNodes.size() == 0) {
            return;
        } else {
```

### SizeReplaceableByIsEmpty
`filteredTablesCompactedAfterSweep.size() > 0` can be replaced with '!filteredTablesCompactedAfterSweep.isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java
                .map(Map.Entry::getKey)
                .collect(Collectors.toList());
        if (filteredTablesCompactedAfterSweep.size() > 0) {
            int randomTableIndex = ThreadLocalRandom.current().nextInt(filteredTablesCompactedAfterSweep.size());
            String randomlyChosenTable = filteredTablesCompactedAfterSweep.get(randomTableIndex);
```

### SizeReplaceableByIsEmpty
`uncompactedTables.size() > 0` can be replaced with '!uncompactedTables.isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java
                .collect(Collectors.toList());

        if (uncompactedTables.size() > 0) {
            int randomTableIndex = ThreadLocalRandom.current().nextInt(uncompactedTables.size());
            String randomlyChosenTable = uncompactedTables.get(randomTableIndex);
```

### SizeReplaceableByIsEmpty
`scrubTimestampToTableNameToCell.size() == 0` can be replaced with 'scrubTimestampToTableNameToCell.isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
        }

        if (scrubTimestampToTableNameToCell.size() == 0) {
            return 0; // No cells left to scrub
        }
```

### SizeReplaceableByIsEmpty
`list.sortedTimestamps().size() > 0` can be replaced with '!list.sortedTimestamps().isEmpty()'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractGetCandidateCellsForSweepingTest.java`
#### Snippet
```java
            return ImmutableList.copyOf(Iterators.filter(
                    Iterators.concat(Iterators.transform(iter, List::iterator)),
                    list -> list.sortedTimestamps().size() > 0));
        }
    }
```

### SizeReplaceableByIsEmpty
`sortedTokens.size() > 0` can be replaced with '!sortedTokens.isEmpty()'
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
    public Map<Token, Float> describeOwnership(final List<Token> sortedTokens) {
        return Maps.asMap(ImmutableSet.copyOf(sortedTokens), token -> {
            if (sortedTokens.size() > 0) {
                return 1f / sortedTokens.size();
            } else {
```

## RuleId[ruleID=TrivialStringConcatenation]
### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java

    private static HealthCheck<DockerPort> toBeOpen() {
        return port -> SuccessOrFailure.fromBoolean(port.isListeningNow(), "" + "" + port + " was not open");
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java

    private static HealthCheck<DockerPort> toBeOpen() {
        return port -> SuccessOrFailure.fromBoolean(port.isListeningNow(), "" + "" + port + " was not open");
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/UpdateExecutor.java`
#### Snippet
```java
        String prefixedTableName = prefixedTableNames.get(tableRef, conns);
        String sqlString = "/* UPDATE (" + prefixedTableName + ") */"
                + " UPDATE " + prefixedTableName + ""
                + " SET row_name = ?, col_name = ?, ts = ?, val = ?"
                + " WHERE row_name = ?"
```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                    if (value == null) {
                        throw tokenizer.parseExceptionPreviousToken(
                                "Enum type \"" + enumType.getFullName() + "\" has no value with number " + number + "");
                    }
                } else {
```

## RuleId[ruleID=NullableProblems]
### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        return delegate().lockAndGetHeldLocks(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        return delegate().lockAndGetHeldLocks(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return delegate().unlock(token);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        return delegate().lock(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        return delegate().lock(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    Long getMinLockedInVersionId(@Safe @PathParam("client") LockClient client);

    /** Returns the options used to configure the lock server. */
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    boolean unlockAndFreeze(HeldLocksToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksGrant convertToGrant(HeldLocksToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    boolean unlockSimple(SimpleHeldLocksToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Deprecated
    @Idempotent
    Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Idempotent
    @Nullable
    HeldLocksGrant refreshGrant(HeldLocksGrant grant);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Deprecated
    @NonIdempotent
    boolean unlock(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Idempotent
    @Nullable
    HeldLocksGrant refreshGrant(BigInteger grantId);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @CancelableServerCall
    @NonIdempotent
    LockResponse lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @CancelableServerCall
    @NonIdempotent
    LockResponse lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Idempotent
    Set<HeldLocksToken> getTokens(@Safe @PathParam("client") LockClient client);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(HeldLocksToken token) {
        return delegate().unlockSimple(SimpleHeldLocksToken.fromHeldLocksToken(token));
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return delegate().unlockSimple(SimpleHeldLocksToken.fromLockRefreshToken(token));
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("min-locked-in-version/{client: .*}")
    Optional<Long> getMinLockedInVersionId(@Safe @PathParam("client") String client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("min-locked-in-version-id-for-client/{client: .*}")
    Optional<Long> getMinLockedInVersionId(@Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("get-debugging-lock-state")
    LockState getLockState(LockDescriptor lock);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("get-tokens/{client: .*}")
    Set<HeldLocksToken> getTokens(@Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant-id")
    Optional<HeldLocksGrant> refreshGrant(BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-tokens")
    Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant")
    Optional<HeldLocksGrant> refreshGrant(HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant-id/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant-id/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-deprecated")
    boolean unlock(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @Path("lock-with-full-response/{client: .*}")
    @CancelableServerCall
    Optional<LockResponse> lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @Path("lock-with-full-response/{client: .*}")
    @CancelableServerCall
    Optional<LockResponse> lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("lock/{client: .*}")
    Optional<LockRefreshToken> lock(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("lock/{client: .*}")
    Optional<LockRefreshToken> lock(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-simple")
    boolean unlockSimple(SimpleHeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-lock-tokens")
    Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("try-lock/{client: .*}")
    Optional<HeldLocksToken> lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("try-lock/{client: .*}")
    Optional<HeldLocksToken> lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-and-freeze")
    boolean unlockAndFreeze(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock")
    boolean unlock(LockRefreshToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("convert-to-grant")
    HeldLocksGrant convertToGrant(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Nullable
    LockRefreshToken lock(@Safe @PathParam("client") String client, LockRequest request) throws InterruptedException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Nullable
    LockRefreshToken lock(@Safe @PathParam("client") String client, LockRequest request) throws InterruptedException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Path("get-debugging-lock-state")
    LockState getLockState(LockDescriptor lock);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Idempotent
    @Nullable
    Long getMinLockedInVersionId(@Safe @PathParam("client") String client);

    /** Returns the current time in milliseconds on the server. */
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Idempotent
    Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    boolean unlock(LockRefreshToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    HeldLocksToken lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    HeldLocksToken lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-deprecated")
    boolean unlock(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-deprecated")
    boolean unlock(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-tokens")
    Set<HeldLocksToken> refreshTokens(@Safe @PathParam("namespace") String namespace, Iterable<HeldLocksToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-tokens")
    Set<HeldLocksToken> refreshTokens(@Safe @PathParam("namespace") String namespace, Iterable<HeldLocksToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("current-time-millis")
    long currentTimeMillis(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("lock-server-options")
    LockServerOptions getLockServerOptions(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("use-grant/{client: .*}")
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            HeldLocksGrant grant);
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            HeldLocksGrant grant);

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock")
    boolean unlock(@Safe @PathParam("namespace") String namespace, LockRefreshToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock")
    boolean unlock(@Safe @PathParam("namespace") String namespace, LockRefreshToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") String client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") String client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version-id-for-client/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version-id-for-client/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("min-locked-in-version-id")
    Optional<Long> getMinLockedInVersionId(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("use-grant-id/{client: .*}")
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            BigInteger grantId);
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            BigInteger grantId);

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("lock/{client: .*}")
    Optional<LockRefreshToken> lock(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    Optional<LockRefreshToken> lock(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("refresh-lock-tokens")
    Set<LockRefreshToken> refreshLockRefreshTokens(
            @Safe @PathParam("namespace") String namespace, Iterable<LockRefreshToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("refresh-lock-tokens")
    Set<LockRefreshToken> refreshLockRefreshTokens(
            @Safe @PathParam("namespace") String namespace, Iterable<LockRefreshToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-and-freeze")
    boolean unlockAndFreeze(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-and-freeze")
    boolean unlockAndFreeze(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @CancelableServerCall
    Optional<LockResponse> lockWithFullLockResponse(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            LockRequest request)
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    Optional<LockResponse> lockWithFullLockResponse(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            LockRequest request)
            throws InterruptedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("get-debugging-lock-state")
    LockState getLockState(LockDescriptor lock);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("log-current-state")
    void logCurrentState(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant-id")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant-id")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("get-tokens/{client: .*}")
    Set<HeldLocksToken> getTokens(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("get-tokens/{client: .*}")
    Set<HeldLocksToken> getTokens(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("try-lock/{client: .*}")
    Optional<HeldLocksToken> lockAndGetHeldLocks(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    Optional<HeldLocksToken> lockAndGetHeldLocks(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("convert-to-grant")
    HeldLocksGrant convertToGrant(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("convert-to-grant")
    HeldLocksGrant convertToGrant(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-simple")
    boolean unlockSimple(@Safe @PathParam("namespace") String namespace, SimpleHeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-simple")
    boolean unlockSimple(@Safe @PathParam("namespace") String namespace, SimpleHeldLocksToken token);

    @POST
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
            ValueType type,
            ValueByteOrder order,
            UniformRowNamePartitioner uniform,
            ExplicitRowNamePartitioner explicit,
            LogSafety logSafety) {
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
            ValueByteOrder order,
            UniformRowNamePartitioner uniform,
            ExplicitRowNamePartitioner explicit,
            LogSafety logSafety) {
        this.componentName = componentName;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexMetadata.java`
#### Snippet
```java
            Iterable<IndexComponent> rowComponents,
            Iterable<IndexComponent> colComponents,
            String colNameToAccessFrom,
            CachePriority cachePriority,
            ConflictHandler conflictHandler,
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
            String canonicalClassName,
            Compression compression,
            Descriptor protoDescriptor) {
        this.compression = Preconditions.checkNotNull(compression);
        this.type = ValueType.BLOB;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
    }

    public Descriptor getProtoDescriptor() {
        return protoDescriptor;
    }
```

### NullableProblems
Constructor parameter for @CheckForNull field might be annotated @CheckForNull itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
    private final StreamCompression compression;

    protected AbstractGenericStreamStore(TransactionManager txManager, StreamCompression compression) {
        this.txnMgr = txManager;
        this.compression = compression;
```

### NullableProblems
Overridden methods are not annotated
in `atlasdb-commons/src/main/java/com/palantir/util/jmx/OperationTimer.java`
#### Snippet
```java
 */
public interface OperationTimer {
    @Nonnull
    TimingState begin(String operationName);

```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `lock-api-objects/src/main/java/com/palantir/lock/LockClient.java`
#### Snippet
```java

    /** Returns the client ID, or the empty string if this is an anonymous client. */
    public String getClientId() {
        return clientId;
    }
```

### NullableProblems
Method annotated with @Nullable must not override @NotNull method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/ShouldNotDeleteAndRollbackTransaction.java`
#### Snippet
```java

        @Override
        public List<Runnable> shutdownNow() {
            return null;
        }
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    private PaxosPromise(PaxosProposalId promisedId, PaxosProposalId lastAcceptedId, PaxosValue val) {
        ack = true;
        this.promisedId = Preconditions.checkNotNull(promisedId, "promisedId cannot be null");
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    private PaxosPromise(PaxosProposalId promisedId, PaxosProposalId lastAcceptedId, PaxosValue val) {
        ack = true;
        this.promisedId = Preconditions.checkNotNull(promisedId, "promisedId cannot be null");
```

### NullableProblems
Getter for @Nonnull field might be annotated @Nonnull itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    public PaxosProposalId getPromisedId() {
        return promisedId;
    }
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    public PaxosProposalId getLastAcceptedId() {
        return lastAcceptedId;
    }
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    public PaxosValue getLastAcceptedValue() {
        return lastAcceptedValue;
    }
```

## RuleId[ruleID=ExplicitArrayFilling]
### ExplicitArrayFilling
Can be replaced with single 'Arrays.fill()' method call
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequests.java`
#### Snippet
```java
    public static byte[] getLastRowName() {
        byte[] ret = new byte[Cell.MAX_NAME_LENGTH];
        for (int i = 0; i < ret.length; i++) {
            ret[i] = (byte) 0xff;
        }
```

## RuleId[ruleID=IgnoreResultOfCall]
### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceTestUtils.java`
#### Snippet
```java
        if (rootDir.isDirectory()) {
            for (File file : rootDir.listFiles()) {
                file.delete();
            }
        }
```

### IgnoreResultOfCall
Result of `File.delete()` is ignored
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceTestUtils.java`
#### Snippet
```java
            }
        }
        rootDir.delete();
    }

```

### IgnoreResultOfCall
Result of `ByteArrayInputStream.read()` is ignored
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
                        ByteArrayInputStream bais = (ByteArrayInputStream) arg;
                        byte[] bytes = new byte[bais.available()];
                        bais.read(bytes, 0, bais.available());
                        prettyPrintByteArray(sb, bytes);
                    } else if (arg instanceof byte[]) {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java

        // create paths if they don't exist
        outputDir.mkdirs();
        outputFile = outputFile.getAbsoluteFile();
        outputFile.createNewFile();
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
        outputDir.mkdirs();
        outputFile = outputFile.getAbsoluteFile();
        outputFile.createNewFile();
        FileWriter os = null;
        try {
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java
    public static void ensureFileExists(File file) throws IOException {
        if (!file.exists()) {
            file.createNewFile();
        }
    }
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java

        for (int i = 0; i < 10 && !f.isDirectory(); ++i) {
            f.mkdirs();
        }

```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
        // overwrite file with tmp
        File file = new File(path, name);
        tmpFile.renameTo(file);

        // update version
```

### IgnoreResultOfCall
Result of `Hex.hexToBytes()` is ignored
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
                    token = "0" + token;
                }
                Hex.hexToBytes(token);
            } catch (NumberFormatException e) {
                throw new ConfigurationException("Token " + token + " contains non-hex digits");
```

### IgnoreResultOfCall
Result of `Iterator.hasNext()` is ignored
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
                    try (ClosableIterator<RowResult<Set<Long>>> iterator = keyValueService.getRangeOfTimestamps(
                            TEST_NONEXISTING_TABLE, RangeRequest.all(), AtlasDbConstants.MAX_TS)) {
                        iterator.hasNext();
                    }
                })
```

### IgnoreResultOfCall
Result of `Iterator.hasNext()` is ignored
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assertThatThrownBy(() -> keyValueService
                        .getRange(TEST_NONEXISTING_TABLE, RangeRequest.all(), AtlasDbConstants.MAX_TS)
                        .hasNext())
                .describedAs("getRange must throw on failure")
                .isInstanceOf(RuntimeException.class);
```

### IgnoreResultOfCall
Result of `Matcher.find()` is ignored
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/CassandraCliParser.java`
#### Snippet
```java
                    Pattern replicationRegex = cassandraVersion.replicationFactorRegex();
                    Matcher matcher = replicationRegex.matcher(line);
                    matcher.find();
                    return Integer.parseInt(matcher.group(1));
                }
```

## RuleId[ruleID=AccessStaticViaInstance]
### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create(java.lang.String)' accessed via instance reference
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
                    .create(BIND_FLAG_SHORT));

    private static String[] additionalBindingsToSetUp = new String[] {};
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.hasArgs(int)' accessed via instance reference
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
                    .create(BIND_FLAG_SHORT));
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
                    .create(BIND_FLAG_SHORT));

```

## RuleId[ruleID=UnnecessaryUnboxing]
### UnnecessaryUnboxing
Unnecessary unboxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
            }
        }
        return colIdx.intValue();
    }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
            return ((BigDecimal) columns.get(col)).doubleValue();
        } else if (dbType == DBType.POSTGRESQL || dbType == DBType.H2_MEMORY) {
            return ((Double) columns.get(col)).doubleValue();
        }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
            Object o = columns.get(col);
            if (o instanceof Integer) {
                return ((Integer) o).intValue();
            } else if (o instanceof Long) {
                return ((Long) o).intValue();
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
    protected boolean getBoolean(int col) throws PalantirSqlException {
        Boolean obj = (Boolean) columns.get(col);
        return obj == null ? false : obj.booleanValue();
    }

```

### UnnecessaryUnboxing
Unnecessary unboxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            // postgres complains because it is strict on column types.
            Boolean b = (Boolean) obj;
            Long converted = b.booleanValue() ? 1L : 0L;
            PreparedStatements.setObject(ps, i, converted);
        } else if (obj instanceof Number) {
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
                try {
                    for (int j = 0; j < stackDepths.length; j++) {
                        stackDepths[j] = ((Integer) getLockedStackDepthMethod.invoke(lockedMonitors[j])).intValue();
                    }
                } catch (InvocationTargetException e) {
```

### UnnecessaryUnboxing
Unnecessary unboxing
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/Blacklist.java`
#### Snippet
```java
                        "host: %s was blacklisted at %s",
                        blacklistedHostToBlacklistTime.getKey().cassandraHostName(),
                        blacklistedHostToBlacklistTime.getValue().longValue()))
                .collect(Collectors.toList());
    }
```

## RuleId[ruleID=ClassNameSameAsAncestorName]
### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingNetworkClientFactories.java`
#### Snippet
```java
    }

    public abstract static class Builder implements NetworkClientFactories.Builder {}
}

```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java
        }

        public abstract static class Builder implements LeaderPingerFactoryContainer.Builder {}
    }
}
```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java
        }

        public abstract static class Builder implements LeaderPingerFactoryContainer.Builder {}
    }

```

### ClassNameSameAsAncestorName
Class name `Builder` is the same as one of its superclass' names
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/SingleLeaderNetworkClientFactories.java`
#### Snippet
```java
    }

    public abstract static class Builder implements NetworkClientFactories.Builder {}
}

```

### ClassNameSameAsAncestorName
Class name `ClientAwareComponents` is the same as one of its superclass' names
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipContextFactory.java`
#### Snippet
```java

    @Value.Immutable
    abstract static class ClientAwareComponents
            implements Dependencies.ClientAwareComponents,
                    Dependencies.LeaderElectionService,
```

## RuleId[ruleID=RedundantMethodOverride]
### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java

        @Override
        public void cleanup() {}
    };

```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java

        @Override
        public void cleanup(T resource, Throwable cleanupException) {
            // Rethrows, because each callback's runWithRetry is responsible for cleanup of any resources needed
            // to be cleaned up for that task.
```

### RedundantMethodOverride
Method `close()` is identical to its super method
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterators.java`
#### Snippet
```java
    private abstract static class EmptyClose<T> implements ClosableIterator<T> {
        @Override
        public void close() {
            // do nothing
        }
```

### RedundantMethodOverride
Method `isInitialized()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/NoOpCleaner.java`
#### Snippet
```java

    @Override
    public boolean isInitialized() {
        return true;
    }
```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/ExternalLocksCondition.java`
#### Snippet
```java

    @Override
    public void cleanup() {}

    @Override
```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AdvisoryLockConditionSuppliers.java`
#### Snippet
```java

        @Override
        public void cleanup() {}
    };
}
```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/PreCommitConditions.java`
#### Snippet
```java

        @Override
        public void cleanup() {}
    };

```

### RedundantMethodOverride
Method `clearTimestampCache()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java

    @Override
    public void clearTimestampCache() {
        timestampValidationReadCache.clear();
    }
```

### RedundantMethodOverride
Method `startTransaction()` is identical to its super method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

    @Override
    protected Transaction startTransaction() {
        return Iterables.getOnlyElement(txMgr.startTransactions(List.of(PreCommitConditions.NO_OP)));
    }
```

## RuleId[ruleID=OptionalAssignedToNull]
### OptionalAssignedToNull
Optional value is compared with null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionConflictDetectionManager.java`
#### Snippet
```java

            Preconditions.checkState(
                    nullableCurrentValue == null || nullableCurrentValue.equals(newValue),
                    "Cannot overwrite conflict behaviour after the table has already been used");
            return newValue;
```

### OptionalAssignedToNull
Null is used for 'Optional' type in return statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        }
        fail("failed to completely sweep a table in 100 runs");
        return null; // should never be reached
    }

```

## RuleId[ruleID=ReplaceAssignmentWithOperatorAssignment]
### ReplaceAssignmentWithOperatorAssignment
`candidate = candidate - offset` could be simplified to 'candidate -= offset'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
                return result;
            } else {
                candidate = candidate - offset;
                offset = offset * 2;
            }
```

### ReplaceAssignmentWithOperatorAssignment
`offset = offset * 2` could be simplified to 'offset \*= 2'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
            } else {
                candidate = candidate - offset;
                offset = offset * 2;
            }
        } while (candidate >= 0);
```

## RuleId[ruleID=NestedAssignment]
### NestedAssignment
Result of assignment expression used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
            int length;
            StringBuilder sb = new StringBuilder();
            while ((length = reader.read(cbuf, 0, SIZE)) > 0) {
                sb.append(cbuf, 0, length);
            }
```

### NestedAssignment
Result of assignment expression used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
        int length;
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        while ((length = bias.read(buf, 0, SIZE)) > 0) {
            baos.write(buf, 0, length);
        }
```

### NestedAssignment
Result of assignment expression used
in `commons-api/src/main/java/com/palantir/util/streams/PTStreams.java`
#### Snippet
```java
        long count = 0;
        int bytesRead = 0;
        while (-1 != (bytesRead = input.read(buffer))) {
            output.write(buffer, 0, bytesRead);
            count += bytesRead;
```

### NestedAssignment
Result of assignment expression used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/DiscoverableSubtypeResolver.java`
#### Snippet
```java
                        BufferedReader reader = new BufferedReader(streamReader)) {
                    String line;
                    while ((line = reader.readLine()) != null) {
                        try {
                            serviceClasses.add(getClassLoader().loadClass(line.trim()));
```

### NestedAssignment
Result of assignment expression used
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static boolean isAssertEnabled() {
        boolean ret = false;
        assert (ret = true) == true;

        return ret;
```

### NestedAssignment
Result of assignment expression used
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java
                perceivedDelegate = delegate;
                if (perceivedDelegate == null) {
                    perceivedDelegate = delegate = delegateFactory.get();
                }
            }
```

### NestedAssignment
Result of assignment expression used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
        // doing more work than necessary), the behavior is still correct
        long nextImmutableTimestamp;
        while ((nextImmutableTimestamp = immutableTimestampSupplier.get()) < commitTimestamp) {
            try {
                log.debug(
```

## RuleId[ruleID=MismatchedCollectionQueryUpdate]
### MismatchedCollectionQueryUpdate
Contents of collection `tests` are queried, but never updated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java

    @Arguments(description = "The performance benchmarks to run. Leave blank to run all performance benchmarks.")
    private Set<String> tests;

    @Option(
```

### MismatchedCollectionQueryUpdate
Contents of collection `dbUris` are queried, but never updated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java
            description = "Docker uri (e.g. POSTGRES@[phost:pport] or CASSANDRA@[chost:cport]).This is an alterative to"
                    + " specifying the --backend options that starts the docker containers locally.")
    private List<String> dbUris;

    @Option(
```

### MismatchedCollectionQueryUpdate
Contents of collection `plurals` are queried, but never updated
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
     * c/p from TextUtils
     */
    private static Map<String, String> plurals = new HashMap<String, String>();

    static {
```

### MismatchedCollectionQueryUpdate
Contents of collection `metricsByHost` are queried, but never updated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraClientPoolMetrics.java`
#### Snippet
```java
    private final MetricsManager metricsManager;
    private final RequestMetrics aggregateRequestMetrics;
    private final Map<CassandraServer, RequestMetrics> metricsByHost = new HashMap<>();
    private final Map<CassandraClientPoolHostLevelMetric, DistributionOutlierController> outlierControllers;

```

## RuleId[ruleID=FieldAccessedSynchronizedAndUnsynchronized]
### FieldAccessedSynchronizedAndUnsynchronized
Field `writeLockHolder` is accessed in both synchronized and unsynchronized contexts
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java
    private final LockClientIndices clients;
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
    private @GuardedBy("this") MutableIntIntMap readLockHolders;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `readLockHolders` is accessed in both synchronized and unsynchronized contexts
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
    private @GuardedBy("this") MutableIntIntMap readLockHolders;

    public LockServerSync(LockClientIndices clients) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `currentLimit` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java

    @GuardedBy("this")
    private Long currentLimit = null;

    /**
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `disabledNamespaces` is accessed in both synchronized and unsynchronized contexts
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/DisabledNamespaces.java`
#### Snippet
```java
    private final Jdbi jdbi;

    private Set<Namespace> disabledNamespaces;

    private DisabledNamespaces(Jdbi jdbi) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `timestampServiceCreationInfo` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(ServiceDiscoveringAtlasSupplier.class);

    private static String timestampServiceCreationInfo = null;

    private final Optional<LeaderConfig> leaderConfig;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `cached` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-commons/src/main/java/com/palantir/util/CachedComposedSupplier.java`
#### Snippet
```java
    private volatile Long lastSuppliedVersion = null;
    private volatile long lastComputedTime = 0;
    private R cached;

    public CachedComposedSupplier(Function<T, R> function, Supplier<VersionedType<T>> supplier) {
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `timelockServer` is accessed in both synchronized and unsynchronized contexts
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockServerHolder.java`
#### Snippet
```java
    private final int timelockPort;

    private DropwizardTestSupport<CombinedTimeLockServerConfiguration> timelockServer;
    private boolean isRunning = false;
    private boolean initialised = false;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `isRunning` is accessed in both synchronized and unsynchronized contexts
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockServerHolder.java`
#### Snippet
```java

    private DropwizardTestSupport<CombinedTimeLockServerConfiguration> timelockServer;
    private boolean isRunning = false;
    private boolean initialised = false;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `currentLimit` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    @GuardedBy("this")
    private long currentLimit = -1;

    private final CassandraClientPool clientPool;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `messager` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java
    private Elements elementUtils;
    private Filer filer;
    private Messager messager;
    private AtomicBoolean abortProcessing = new AtomicBoolean(false);

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `elementUtils` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java

    private Types typeUtils;
    private Elements elementUtils;
    private Filer filer;
    private Messager messager;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `abortProcessing` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java
    private Filer filer;
    private Messager messager;
    private AtomicBoolean abortProcessing = new AtomicBoolean(false);

    @Override
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `typeUtils` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java
    private static final String DELEGATE_METHOD = "delegate";

    private Types typeUtils;
    private Elements elementUtils;
    private Filer filer;
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `filer` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java
    private Types typeUtils;
    private Elements elementUtils;
    private Filer filer;
    private Messager messager;
    private AtomicBoolean abortProcessing = new AtomicBoolean(false);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `daemon` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
    private final CompactionOutcomeMetrics compactionOutcomeMetrics;

    private Thread daemon;

    private final CountDownLatch shuttingDown = new CountDownLatch(1);
```

### FieldAccessedSynchronizedAndUnsynchronized
Field `status` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
        private final Callback<TransactionManager> callback;

        private State status = State.INITIALIZING;
        private Throwable callbackThrowable = null;

```

### FieldAccessedSynchronizedAndUnsynchronized
Field `executor` is accessed in both synchronized and unsynchronized contexts
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/InterruptibleFileLogCollector.java`
#### Snippet
```java
    private final File logDirectory;

    private ExecutorService executor = null;

    public InterruptibleFileLogCollector(File logDirectory) {
```

## RuleId[ruleID=PointlessBitwiseExpression]
### PointlessBitwiseExpression
`ret ^ -1L` can be replaced with '\~ret'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        }
        if (isNegative) {
            return ret ^ -1L;
        }
        return ret;
```

### PointlessBitwiseExpression
`-1L ^ buf.getLong()` can be replaced with '\~buf.getLong()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static UUID decodeFlippedUUID(byte[] bytes, int offset) {
        ByteBuffer buf = ByteBuffer.wrap(bytes, offset, 2 * Longs.BYTES).order(ByteOrder.BIG_ENDIAN);
        long mostSigBits = -1L ^ buf.getLong();
        long leastSigBits = -1L ^ buf.getLong();
        return new UUID(mostSigBits, leastSigBits);
```

### PointlessBitwiseExpression
`-1L ^ buf.getLong()` can be replaced with '\~buf.getLong()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        ByteBuffer buf = ByteBuffer.wrap(bytes, offset, 2 * Longs.BYTES).order(ByteOrder.BIG_ENDIAN);
        long mostSigBits = -1L ^ buf.getLong();
        long leastSigBits = -1L ^ buf.getLong();
        return new UUID(mostSigBits, leastSigBits);
    }
```

## RuleId[ruleID=StringRepeatCanBeUsed]
### StringRepeatCanBeUsed
Can be replaced with 'String.repeat()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/Renderer.java`
#### Snippet
```java
            indent.decrementAndGet();
        }
        for (int i = 0; i < indent.get(); i++) {
            builder.append("    ");
        }
```

## RuleId[ruleID=DuplicateThrows]
### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
     */
    public static void startLocalJMXServer(final int port, final AllowConnections allowConnections)
            throws IOException, MalformedURLException, RemoteException {
        final RMISocketFactory serverSocketFactory = allowConnections == AllowConnections.ALL
                ? RMISocketFactory.getDefaultSocketFactory()
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
     */
    public static void startLocalJMXServer(final int port, final AllowConnections allowConnections)
            throws IOException, MalformedURLException, RemoteException {
        final RMISocketFactory serverSocketFactory = allowConnections == AllowConnections.ALL
                ? RMISocketFactory.getDefaultSocketFactory()
```

## RuleId[ruleID=SynchronizeOnThis]
### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `lock-impl/src/main/java/com/palantir/lock/impl/LockClientIndices.java`
#### Snippet
```java
            return index;
        }
        synchronized (this) {
            index = indexByClient.get(client);
            if (index != null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `timestamp-impl/src/main/java/com/palantir/timestamp/TimestampAllocationFailures.java`
#### Snippet
```java

    public RuntimeException responseTo(Throwable newFailure) {
        synchronized (this) {
            logNewFailure(newFailure);
            previousAllocationFailure = newFailure;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java
    public void blockUntilSafeToShutdown() {
        shutdownSignal = true;
        synchronized (this) {
            // blocking until no thread is in the synchronized blocks anymore
        }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java
    private void replaceIfNecessary(Throwable thrown) {
        if (shouldReplace.test(thrown)) {
            synchronized (this) {
                T replacement = delegateFactory.get();
                if (delegate != replacement) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java
        T perceivedDelegate = delegate;
        if (perceivedDelegate == null) {
            synchronized (this) {
                perceivedDelegate = delegate;
                if (perceivedDelegate == null) {
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
                currentVersion.map(LockWatchVersion::version).map(Sequence::of);
        if (maybeSeq.isPresent()) {
            synchronized (this) {
                snapshotStore.storeSnapshot(maybeSeq.get(), reversedMap.get(maybeSeq.get()), valueStore.getSnapshot());
            }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
                    }

                    synchronized (LockWatchValueScopingCacheImpl.this) {
                        toUpdate.forEach(valueStore::putValue);
                    }
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
        State localState = state;
        if (localState.type == StateType.ZERO) {
            synchronized (this) {
                // need to check again in case init just happened
                localState = state;
```

### SynchronizeOnThis
Lock operations on 'this' may have unforeseen side-effects
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
                case ZERO:
                    // Not yet initialized, no such luck.
                    synchronized (this) {
                        if (state == stateLocal) {
                            // The state hasn't changed on us, we can perform
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
    @VisibleForTesting
    static void onShutdown() {
        synchronized (Containers.class) {
            if (dockerProxyRuleStarted) {
                DOCKER_PROXY_RULE.after();
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java

    public com.palantir.docker.compose.connection.Container getContainer(String containerName) {
        synchronized (Containers.class) {
            return dockerComposeRule.containers().container(containerName);
        }
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java

    public Containers with(Container container) {
        synchronized (Containers.class) {
            containersToStart.add(container);
        }
```

### SynchronizeOnThis
Lock operations on a class may have unforeseen side-effects
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
    @Override
    public void before() throws Throwable {
        synchronized (Containers.class) {
            setupShutdownHook();

```

## RuleId[ruleID=DoubleBraceInitialization]
### DoubleBraceInitialization
Double brace initialization
in `examples/profile-client/src/main/java/com/palantir/example/profile/schema/ProfileSchema.java`
#### Snippet
```java
                OptionalType.JAVA8);

        schema.addTableDefinition("user_profile", new TableDefinition() {
            {
                allSafeForLoggingByDefault();
```

### DoubleBraceInitialization
Double brace initialization
in `examples/profile-client/src/main/java/com/palantir/example/profile/schema/ProfileSchema.java`
#### Snippet
```java
        });

        schema.addIndexDefinition("user_birthdays", new IndexDefinition(IndexType.CELL_REFERENCING) {
            {
                onTable("user_profile");
```

### DoubleBraceInitialization
Double brace initialization
in `examples/profile-client/src/main/java/com/palantir/example/profile/schema/ProfileSchema.java`
#### Snippet
```java
        });

        schema.addIndexDefinition("created", new IndexDefinition(IndexType.CELL_REFERENCING) {
            {
                onTable("user_profile");
```

### DoubleBraceInitialization
Double brace initialization
in `examples/profile-client/src/main/java/com/palantir/example/profile/schema/ProfileSchema.java`
#### Snippet
```java
        });

        schema.addIndexDefinition("cookies", new IndexDefinition(IndexType.CELL_REFERENCING) {
            {
                onTable("user_profile");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/schema/StreamTestSchema.java`
#### Snippet
```java
                OptionalType.JAVA8);

        schema.addTableDefinition("blobs", new TableDefinition() {
            {
                javaTableName("KeyValue");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/Benchmarks.java`
#### Snippet
```java
            String columnName,
            TableMetadataPersistence.SweepStrategy sweepStrategy) {
        TableDefinition tableDef = new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/Benchmarks.java`
#### Snippet
```java
    public static TableReference createTableWithDynamicColumns(
            KeyValueService kvs, TableReference tableRef, String rowComponent, String columnComponent) {
        TableDefinition tableDef = new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/SweepSchema.java`
#### Snippet
```java
        // This table tracks stats about tables that are relevant
        // in determining when and in which order they should be swept.
        schema.addTableDefinition("priority", new TableDefinition() {
            {
                javaTableName("SweepPriority");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/GeneralTaskCheckpointer.java`
#### Snippet
```java
    private Schema getSchema() {
        Schema schema = new Schema(checkpointTable.getNamespace());
        schema.addTableDefinition(checkpointTable.getTableName(), new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/CompactSchema.java`
#### Snippet
```java
        // This table tracks stats about tables that are relevant
        // in determining when and in which order they should be compacted.
        schema.addTableDefinition("metadata", new TableDefinition() {
            {
                javaTableName("CompactMetadata");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("sweepProgressPerShard", new TableDefinition() {
            {
                javaTableName("SweepShardProgress");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepSchema.java`
#### Snippet
```java
    private static void addSweepStateTables(Schema schema) {
        // Stores actual cells to be swept
        schema.addTableDefinition("sweepableCells", new TableDefinition() {
            {
                javaTableName("SweepableCells");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepSchema.java`
#### Snippet
```java

    private static void addTableIdentifierTables(Schema schema) {
        schema.addTableDefinition("sweepNameToId", new TableDefinition() {
            {
                allSafeForLoggingByDefault();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("tableClears", new TableDefinition() {
            {
                allSafeForLoggingByDefault();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("sweepIdToName", new TableDefinition() {
            {
                allSafeForLoggingByDefault();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("sweepableTimestamps", new TableDefinition() {
            {
                javaTableName("SweepableTimestamps");
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java

            case VALUE:
                return new TableDefinition() {
                    {
                        javaTableName(streamTableType.getJavaClassName(prefix));
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java

            case METADATA:
                return new TableDefinition() {
                    {
                        javaTableName(streamTableType.getJavaClassName(prefix));
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java
        switch (streamTableType) {
            case HASH:
                return new TableDefinition() {
                    {
                        javaTableName(streamTableType.getJavaClassName(prefix));
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java

            case INDEX:
                return new TableDefinition() {
                    {
                        javaTableName(streamTableType.getJavaClassName(prefix));
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/blob/BlobSchema.java`
#### Snippet
```java
                new StreamStoreDefinitionBuilder("hotspottyData", "HotspottyData", ValueType.VAR_SIGNED_LONG).build());

        schema.addTableDefinition("auditedData", new TableDefinition() {
            {
                allSafeForLoggingByDefault();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractBackgroundSweeperIntegrationTest.java`
#### Snippet
```java
        kvs.createTable(
                tableReference,
                new TableDefinition() {
                    {
                        rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/DynamicColumnTable.java`
#### Snippet
```java

    @SuppressWarnings({"checkstyle:Indentation", "checkstyle:RightCurly"}) // Table/IndexDefinition syntax
    private static final TableDefinition DYNAMIC_COLUMNS_TABLE = new TableDefinition() {
        {
            rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
        kvs.createTable(
                tableReference,
                new TableDefinition() {
                    {
                        rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/todo/TodoSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition(LATEST_STREAM_TABLE, new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/todo/TodoSchema.java`
#### Snippet
```java
                OptionalType.JAVA8);

        schema.addTableDefinition(TODO_TABLE, new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/todo/TodoSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition(NAMESPACED_TODO_TABLE, new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        byte[] bytesRead = keyValueService.getMetadataForTable(TEST_TABLE);
        assertThat(bytes).isEqualTo(bytesRead);
        bytes = new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/schema/BenchmarksSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("Metadata", new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/schema/BenchmarksSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("BlobsSerializable", new TableDefinition() {
            {
                conflictHandler(ConflictHandler.SERIALIZABLE);
```

### DoubleBraceInitialization
Double brace initialization
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/schema/BenchmarksSchema.java`
#### Snippet
```java

    private static void createTables(Schema schema) {
        schema.addTableDefinition("KvRows", new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/schema/BenchmarksSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("KvDynamicColumns", new TableDefinition() {
            {
                rowName();
```

### DoubleBraceInitialization
Double brace initialization
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/schema/BenchmarksSchema.java`
#### Snippet
```java
        });

        schema.addTableDefinition("Blobs", new TableDefinition() {
            {
                rowName();
```

## RuleId[ruleID=UnstableTypeUsedInSignature]
### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java
    }

    public static LockService create(LockRpcClient lockRpcClient, String namespace) {
        NamespaceAgnosticLockRpcClient namespaceAgnosticClient =
                new NamespaceAgnosticLockClientAdaptor(namespace, lockRpcClient);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public LockService delegate() {
        Preconditions.checkState(!isClosed, "LockRefreshingLockService is closed");
        return delegate;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
    volatile boolean isClosed = false;

    public static LockRefreshingLockService create(LockService delegate) {
        final LockRefreshingLockService ret = new LockRefreshingLockService(delegate);
        ret.task = executor.scheduleWithFixedDelay(
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java
    private final LockClient immutableTsLockClient;

    public LegacyTimelockService(
            TimestampService timestampService, LockService lockService, LockClient immutableTsLockClient) {
        this.timestampService = timestampService;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimeLockServices.java`
#### Snippet
```java
    SafeLogger log = SafeLoggerFactory.get(TimeLockServices.class);

    static TimeLockServices create(
            TimestampService timestampService,
            LockService lockService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimeLockServices.java`
#### Snippet
```java
    TimestampService getTimestampService();

    LockService getLockService();
    // The Jersey endpoints
    AsyncTimelockResource getTimelockResource();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimeLockResource.java`
#### Snippet
```java

    @Path("/lock")
    public LockService getLockService(@Safe @PathParam("namespace") String namespace) {
        return namespaces.get(namespace).getLockService();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/NonTransactionalLockService.java`
#### Snippet
```java

    @Override
    public LockService delegate() {
        return delegate;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/NonTransactionalLockService.java`
#### Snippet
```java
    private final LockService delegate;

    public NonTransactionalLockService(LockService delegate) {
        this.delegate = delegate;
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
    }

    public static ConjureLockV1ShimService jersey(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, LockService> lockServices) {
        return new ConjureLockV1Resource.JerseyAdapter(new ConjureLockV1Resource(redirectRetryTargeter, lockServices));
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
    }

    public static UndertowService undertow(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, LockService> lockServices) {
        return ConjureLockV1ServiceEndpoints.of(new ConjureLockV1Resource(redirectRetryTargeter, lockServices));
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LockAndTimestampServices.java`
#### Snippet
```java
@NoStagedBuilderStyle
public interface LockAndTimestampServices {
    LockService lock();

    TimestampService timestamp();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final Set<Schema> schemas;

    public DefaultLockAndTimestampServiceFactory(
            MetricsManager metricsManager,
            AtlasDbConfig config,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
     */
    @Deprecated
    public static LockAndTimestampServices createLockAndTimestampServicesForCli(
            MetricsManager metricsManager,
            AtlasDbConfig config,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/AtlasDbServices.java`
#### Snippet
```java
    public abstract ManagedTimestampService getManagedTimestampService();

    public abstract LockService getLockService();

    @Named("kvs")
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/LockAndTimestampModule.java`
#### Snippet
```java
    @Provides
    @Singleton
    public LockService provideLockService(LockAndTimestampServices lts) {
        return lts.lock();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockServicesCreator.java`
#### Snippet
```java
     * and lock service supplier.
     */
    TimeLockServices createTimeLockServices(
            Client client,
            Supplier<ManagedTimestampService> rawTimestampServiceSupplier,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java

    @Override
    public TimeLockServices createTimeLockServices(
            Client client,
            Supplier<ManagedTimestampService> rawTimestampServiceSupplier,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.hash.Hasher'
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
    }

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/NamespacedClients.java`
#### Snippet
```java

    @Value.Derived
    default LockService legacyLockService() {
        return RemoteLockServiceAdapter.create(
                proxyFactory().createProxy(LockRpcClient.class, proxyMode()), namespace());
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
    private final LockWatchStateUpdate lastUpdate;

    public VersionedLockWatchStateImpl(
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeMap'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java
    }

    public static List<String> tokenMap(RangeMap<LightweightOppToken, ? extends Collection<CassandraServer>> tokenMap) {
        return tokenMap.asMapOfRanges().entrySet().stream()
                .map(rangeListToHostEntry -> String.format(
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RangesForRepair.java`
#### Snippet
```java
    public abstract Map<InetSocketAddress, RangeSet<LightweightOppToken>> tokenMap();

    public RangeSet<LightweightOppToken> get(InetSocketAddress address) {
        return tokenMap().get(address);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RangesForRepair.java`
#### Snippet
```java
@SuppressWarnings("UnstableApiUsage")
public abstract class RangesForRepair {
    public abstract Map<InetSocketAddress, RangeSet<LightweightOppToken>> tokenMap();

    public RangeSet<LightweightOppToken> get(InetSocketAddress address) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RangesForRepair.java`
#### Snippet
```java
    }

    public static RangesForRepair of(Map<InetSocketAddress, RangeSet<LightweightOppToken>> tokenMap) {
        return ImmutableRangesForRepair.builder().tokenMap(tokenMap).build();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CqlCluster.java`
#### Snippet
```java
    }

    public Map<String, Map<InetSocketAddress, RangeSet<LightweightOppToken>>> getTransactionsTableRangesForRepair(
            List<TransactionsTableInteraction> transactionsTableInteractions) {
        try (CqlSession session = createSessionWithRetry()) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CqlCluster.java`
#### Snippet
```java
    }

    public Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenRanges(String tableName) {
        try (CqlSession session = createSessionWithRetry()) {
            return new TokenRangeFetcher(session, namespace, cassandraServersConfig).getTokenRange(tableName);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
     * @return the lock service for this transaction manager
     */
    LockService getLockService();

    /**
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeMap'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    }

    public RangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> getTokenMap() {
        return tokenMap;
    }
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.google.common.collect.ImmutableRangeMap'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    private final Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig;

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
     */
    @SuppressWarnings("ReverseDnsLookup")
    public static Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenMapping(
            Collection<InetSocketAddress> nodeSet,
            CqlMetadata metadata,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/lock/SingleLockService.java`
#### Snippet
```java
    }

    public static SingleLockService createNamedLockServiceForTable(
            LockService lockService, String safePrefix, TableReference tableRef) {
        String lockId = StringUtils.trim(safePrefix) + " " + tableRef.getQualifiedName();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/lock/SingleLockService.java`
#### Snippet
```java
    }

    public static SingleLockService createSingleLockService(LockService lockService, String lockId) {
        return new SingleLockService(lockService, lockId, false);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/lock/SingleLockService.java`
#### Snippet
```java
    }

    public static SingleLockService createSingleLockServiceWithSafeLockId(LockService lockService, String lockId) {
        return new SingleLockService(lockService, lockId, true);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java

    // VisibleForTesting - used in internal test code
    public static BackgroundSweepThread createForTests(
            LockService lockService,
            NextTableToSweepProvider nextTableToSweepProvider,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/NextTableToSweepProvider.java`
#### Snippet
```java
    }

    public static NextTableToSweepProvider create(
            KeyValueService kvs, LockService lockService, SweepPriorityStore sweepPriorityStore) {
        SweepPriorityCalculator basicCalculator = new SweepPriorityCalculator(kvs, sweepPriorityStore);
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/GlobalClock.java`
#### Snippet
```java
    }

    public static GlobalClock create(LockService lockService) {
        return new GlobalClock(lockService::currentTimeMillis);
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
    private final CountDownLatch shuttingDown = new CountDownLatch(1);

    public static Optional<BackgroundCompactor> createAndRun(
            MetricsManager metricsManager,
            TransactionManager transactionManager,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/ExternalLocksCondition.java`
#### Snippet
```java
    private final Set<HeldLocksToken> lockTokens;

    public ExternalLocksCondition(LockService lockService, Set<HeldLocksToken> lockTokens) {
        this.lockService = lockService;
        this.lockTokens = lockTokens;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CombinedLocksCondition.java`
#### Snippet
```java
    private final TransactionLocksCondition transactionLocksCondition;

    public CombinedLocksCondition(
            LockService lockService, Iterable<HeldLocksToken> externalLockTokens, HeldLocksToken transactionLockToken) {
        this.externalLocksCondition = new ExternalLocksCondition(lockService, ImmutableSet.copyOf(externalLockTokens));
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AdvisoryLockConditionSuppliers.java`
#### Snippet
```java
    private AdvisoryLockConditionSuppliers() {}

    public static Supplier<AdvisoryLocksCondition> get(
            LockService lockService, Iterable<HeldLocksToken> lockTokens, Supplier<LockRequest> lockSupplier) {
        return () -> {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionLocksCondition.java`
#### Snippet
```java
    private final HeldLocksToken heldLock;

    public TransactionLocksCondition(LockService lockService, HeldLocksToken heldLock) {
        this.lockService = lockService;
        this.heldLock = heldLock;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeSet'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/ConcludedRangeState.java`
#### Snippet
```java

    @Value.Parameter
    RangeSet<Long> timestampRanges();

    default boolean encloses(Range<Long> timestampRange) {
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeMap'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    // Visible for internal clients.
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.google.common.collect.RangeMap'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    }

    public static <T> TimestampPartitioningMap<T> of(RangeMap<Long, T> initialState) {
        return ImmutableTimestampPartitioningMap.of(initialState.asMapOfRanges().entrySet().stream()
                .map(entry -> RangeAndValue.of(entry.getKey(), entry.getValue()))
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AssertLockedKeyValueService.java`
#### Snippet
```java
    final LockService lockService;

    public AssertLockedKeyValueService(KeyValueService delegate, LockService lockService) {
        this.delegate = delegate;
        this.lockService = lockService;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java

    @SuppressWarnings("Indentation") // Checkstyle complains about lambda in constructor.
    public TestTransactionManagerImpl(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java

    @SuppressWarnings("Indentation") // Checkstyle complains about lambda in constructor.
    public TestTransactionManagerImpl(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java

    @SuppressWarnings("Indentation") // Checkstyle complains about lambda in constructor.
    public TestTransactionManagerImpl(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Field must be marked with '@com.google.common.annotations.Beta' annotation because its type references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionTestSetup.java`
#### Snippet
```java

    protected LockClient lockClient;
    protected LockService lockService;
    protected TimelockService timelockService;
    protected LockWatchManagerInternal lockWatchManager;
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimeLockRule.java`
#### Snippet
```java

    @Override
    public LockService getLockService() {
        return services.getLockService();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimelockServices.java`
#### Snippet
```java

    @Override
    public LockService getLockService() {
        return delegate.getLockService();
    }
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
    }

    public SerializableTransactionManager(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
    }

    public static TransactionManager createInstrumented(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java

        @Override
        public LockService getLockService() {
            assertOpen();
            return txManager.getLockService();
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
    }

    public static SerializableTransactionManager createForTest(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
    }

    public static TransactionManager create(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

### UnstableTypeUsedInSignature
Method must be marked with '@com.google.common.annotations.Beta' annotation because its signature references unstable type 'com.palantir.lock.LockService'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
    }

    public static TransactionManager create(
            MetricsManager metricsManager,
            KeyValueService keyValueService,
```

## RuleId[ruleID=UnusedAssignment]
### UnusedAssignment
Variable `result` initializer `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java

        boolean interrupted = false;
        T result = null;
        final String oldName = Thread.currentThread().getName();
        final String currentTimestamp = DateTimeFormat.forPattern("HH:mm:ss").print(System.currentTimeMillis());
```

### UnusedAssignment
Variable `varcharType` initializer `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        }

        String varcharType = null;
        switch (cm.getDbType()) {
            case ORACLE:
```

### UnusedAssignment
Variable `inserted` initializer `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
                executeStatementExecutor,
                () -> {
                    int[] inserted = null;
                    PreparedStatement ps = null;

```

### UnusedAssignment
Variable `bytesRead` initializer `0` is redundant
in `commons-api/src/main/java/com/palantir/util/streams/PTStreams.java`
#### Snippet
```java
    public static long copy(InputStream input, OutputStream output, byte[] buffer) throws IOException {
        long count = 0;
        int bytesRead = 0;
        while (-1 != (bytesRead = input.read(buffer))) {
            output.write(buffer, 0, bytesRead);
```

### UnusedAssignment
Variable `result` initializer `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        String numberText = text.substring(pos);

        long result = 0;
        if (numberText.length() < 16) {
            // Can safely assume no overflow.
```

### UnusedAssignment
Variable `extension` initializer `null` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        FieldDescriptor field;
        Descriptor type = builder.getDescriptorForType();
        ExtensionRegistry.ExtensionInfo extension = null;
        boolean unknown = false;

```

### UnusedAssignment
Variable `value` initializer `null` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            throws ParseException {

        Object value = null;
        if (field.getJavaType() == FieldDescriptor.JavaType.MESSAGE) {
            value = handleObject(tokenizer, extensionRegistry, builder, field, extension, unknown);
```

### UnusedAssignment
The value `jp.nextToken()` assigned to `jsonToken` is never used
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/RangeTokenDeserializer.java`
#### Snippet
```java
        for (; jsonToken == JsonToken.FIELD_NAME; jsonToken = jp.nextToken()) {
            String fieldName = jp.getCurrentName();
            jsonToken = jp.nextToken();
            if (fieldName.equals("data")) {
                results = jp.readValueAs(TableRowResult.class);
```

### UnusedAssignment
Variable `thisHostResponded` initializer `false` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
        Map<CassandraServer, Exception> completelyUnresponsiveNodes = new HashMap<>();
        Map<CassandraServer, Exception> aliveButInvalidPartitionerNodes = new HashMap<>();
        boolean thisHostResponded = false;
        boolean atLeastOneHostResponded = false;
        for (CassandraServer cassandraServer : getCachedServers()) {
```

## RuleId[ruleID=ManualArrayToCollectionCopy]
### ManualArrayToCollectionCopy
Manual array to collection copy
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
            FullQuery query = getRowsColumnRangeSubQuery(entry.getKey(), ts, entry.getValue());
            subQueries.add(query.getQuery());
            for (Object arg : query.getArgs()) {
                args.add(arg);
            }
```

## RuleId[ruleID=UnnecessarySemicolon]
### UnnecessarySemicolon
Unnecessary semicolon `;`
in `lock-api/src/main/java/com/palantir/lock/client/TimestampCorroboratingTimelockService.java`
#### Snippet
```java
        FRESH_TIMESTAMP,
        COMMIT_TIMESTAMP,
        TRANSACTION;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        SUCCESSFUL,
        FAILED,
        UNKNOWN;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    public enum OffsetInclusion {
        INCLUDE_OFFSET,
        EXCLUDE_OFFSET;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `commons-api/src/main/java/com/palantir/common/concurrent/ThreadNamingCallable.java`
#### Snippet
```java
        PREPEND,
        REPLACE,
        APPEND;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/CaseSensitivity.java`
#### Snippet
```java
public enum CaseSensitivity {
    CASE_SENSITIVE,
    CASE_INSENSITIVE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/OverflowMigrationState.java`
#### Snippet
```java
    IN_PROGRESS,
    FINISHING,
    FINISHED;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
        DO_NOT_OVERWRITE,
        OVERWRITE_SAME_VALUE,
        OVERWRITE;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java`
#### Snippet
```java
        FULL,
        NONE,
        ;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/CancelDelegate.java`
#### Snippet
```java
public enum CancelDelegate {
    CANCEL,
    ALLOW_TO_FINISH;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `lock-api-objects/src/main/java/com/palantir/lock/BlockingMode.java`
#### Snippet
```java
     * server if you just have to wait for someone to release the lock before you perform a task.
     */
    BLOCK_INDEFINITELY_THEN_RELEASE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `lock-api-objects/src/main/java/com/palantir/lock/LockGroupBehavior.java`
#### Snippet
```java
     * all be acquired. This is the default behavior.
     */
    LOCK_ALL_OR_NONE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/AtomicState.java`
#### Snippet
```java
public enum AtomicState {
    STAGING,
    COMMITTED;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
    private enum DiffStrategy {
        RANGE,
        ROWS;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java
    private enum FollowUpAction {
        PUT,
        NONE;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionCacheValueStoreImpl.java`
#### Snippet
```java
            READ,
            WRITE,
            HIT;
        }
    }
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactions.java`
#### Snippet
```java
         * Perform a remote read against the underlying database if necessary.
         */
        REMOTE_READ;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java
        PENDING_LOAD_FROM_RELIABLE,
        IS_ABORTED,
        IS_NOT_ABORTED;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java

        // Closed state.  closeTrace is set.
        CLOSED;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private enum SentinelType {
        DEFINITE_ORPHANED,
        INDETERMINATE;
    }

```

## RuleId[ruleID=SimplifyStreamApiCallChains]
### SimplifyStreamApiCallChains
'filter()' and 'map()' can be swapped
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/TimeLockManagementResource.java`
#### Snippet
```java
                .flatMap(Set::stream)
                .filter(namespace -> !namespace.value().equals(PaxosTimeLockConstants.LEADER_PAXOS_NAMESPACE))
                .map(Client::value)
                .collect(Collectors.toSet()));
    }
```

### SimplifyStreamApiCallChains
Can be replaced with '.values().stream()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
            recordModifications(values.size());
            recordModificationsSize(values.entrySet().stream()
                    .mapToLong(cellEntry -> cellEntry.getValue().length)
                    .sum());
        }
```

### SimplifyStreamApiCallChains
Can be replaced with '.values().stream()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
                newWrites += entry.getValue().size();
                writesSize += entry.getValue().entrySet().stream()
                        .mapToLong(cellEntry -> cellEntry.getValue().length)
                        .sum();
            }
```

## RuleId[ruleID=OptionalContainsCollection]
### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CheckAndSetRequest.java`
#### Snippet
```java

    @JsonIgnore
    public Optional<byte[]> oldValue() {
        return Optional.ofNullable(oldValueNullable());
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CheckAndSetRequest.java`
#### Snippet
```java

    public static class Builder extends ImmutableCheckAndSetRequest.Builder {
        public Builder oldValue(Optional<byte[]> oldValue) {
            return this.oldValueNullable(oldValue.orElse(null));
        }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java

    @JsonIgnore
    public Optional<byte[]> getNextStartRow() {
        return Optional.ofNullable(getNextStartRowNullable());
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java

    @JsonIgnore
    public Optional<byte[]> getPreviousStartRow() {
        return Optional.ofNullable(getPreviousStartRowNullable());
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
        }

        public Builder nextStartRow(Optional<byte[]> startRow) {
            return this.nextStartRowNullable(startRow.orElse(null));
        }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java

    public static class Builder extends ImmutableSweepResults.Builder {
        public Builder previousStartRow(Optional<byte[]> previousStartRow) {
            return this.previousStartRowNullable(previousStartRow.orElse(null));
        }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    public static SweepResults createEmptySweepResult(Optional<byte[]> startRow) {
        return builder()
                .cellTsPairsExamined(0)
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java
    private final Optional<byte[]> value;

    private CacheValue(Optional<byte[]> value) {
        this.value = value;
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java

public final class CacheValue {
    private final Optional<byte[]> value;

    private CacheValue(Optional<byte[]> value) {
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java

    // This is optional as we also want to cache reads where there is no value present.
    public Optional<byte[]> value() {
        return value;
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
    }

    private String encodeStartRow(Optional<byte[]> rowBytes) {
        return BaseEncoding.base16().encode(rowBytes.orElse(FIRST_ROW));
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
    }

    private String encodeEndRow(Optional<byte[]> rowBytes) {
        if (rowBytes.isPresent() && !Arrays.equals(rowBytes.get(), FIRST_ROW)) {
            return BaseEncoding.base16().encode(rowBytes.get());
```

### OptionalContainsCollection
'Optional' contains collection `List`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/ArrayLockEventSlidingWindow.java`
#### Snippet
```java
    }

    public Optional<List<LockWatchEvent>> getNextEvents(long version) {
        if (versionInTheFuture(version) || versionTooOld(version)) {
            return Optional.empty();
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
        runWithLockForWrites(tableRef, table -> {
            Cell cell = request.cell();
            Optional<byte[]> oldValue = request.oldValue();
            byte[] contents = request.newValue();

```

### OptionalContainsCollection
'Optional' contains collection `Map`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/debug/TransactionPostMortemRunner.java`
#### Snippet
```java

    private static LockDigest lockDigest(
            Set<ConjureLockDescriptor> lockDescriptors, Optional<Map<LockState, Instant>> maybeLockStates) {
        Map<LockState, Instant> lockStates =
                maybeLockStates.orElseGet(() -> ImmutableMap.of(LockState.NOT_PRESENT_ON_TIMELOCK, Instant.EPOCH));
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `timelock-agent/src/main/java/com/palantir/timelock/store/SqliteBlobStore.java`
#### Snippet
```java
    }

    Optional<byte[]> getValue(BlobStoreUseCase useCase) {
        return execute(dao -> dao.getVersion(useCase.getShortName()));
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `timelock-agent/src/main/java/com/palantir/timelock/store/SqliteBlobStore.java`
#### Snippet
```java

        @SqlQuery("SELECT value FROM blob_store WHERE row = ?")
        Optional<byte[]> getVersion(@Bind String row);
    }
}
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    }

    private static Optional<byte[]> lookupClusterSideMetadata(
            Map<TableReference, byte[]> metadataForTables, TableReference tableRef) {
        return Optional.ofNullable(metadataForTables.get(tableRef))
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
            for (CfDef clusterSideCf : knownCfs) {
                TableReference tableRef = CassandraKeyValueServices.tableReferenceFromCfDef(clusterSideCf);
                Optional<byte[]> relevantMetadata = lookupClusterSideMetadata(metadataForTables, tableRef);
                if (relevantMetadata.isPresent()) {
                    byte[] clusterSideMetadata = relevantMetadata.get();
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/InstrumentedConsensusForgettingStore.java`
#### Snippet
```java

    @Override
    public ListenableFuture<Optional<byte[]>> get(Cell cell) {
        return delegate.get(cell);
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ReadableConsensusForgettingStore.java`
#### Snippet
```java

public interface ReadableConsensusForgettingStore {
    ListenableFuture<Optional<byte[]>> get(Cell cell);

    ListenableFuture<Map<Cell, byte[]>> getMultiple(Iterable<Cell> cells);
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ReadableConsensusForgettingStoreImpl.java`
#### Snippet
```java

    @Override
    public ListenableFuture<Optional<byte[]>> get(Cell cell) {
        return Futures.transform(
                getMultiple(ImmutableList.of(cell)),
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/PueConsensusForgettingStore.java`
#### Snippet
```java

    @Override
    public ListenableFuture<Optional<byte[]>> get(Cell cell) {
        return reader.get(cell);
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequest.java`
#### Snippet
```java
    }

    static Exception failure(CasRequest req, Optional<byte[]> actual) {
        return failureInternal(req, actual);
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequest.java`
#### Snippet
```java
    }

    private static Exception failureInternal(CasRequest req, Optional<byte[]> actual) {
        return req.rank().equals(UpdateRank.TOUCH)
                ? new CheckAndSetException(
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java

    @Override
    public ListenableFuture<Optional<byte[]>> get(Cell cell) {
        return reader.get(cell);
    }
```

### OptionalContainsCollection
'Optional' contains array `byte[]`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java
        for (Map.Entry<Long, Cell> startTsAndCell : startTsToCell.entrySet()) {
            Cell cell = startTsAndCell.getValue();
            Optional<byte[]> maybeActual = Optional.ofNullable(reads.get(cell));
            Long startTs = startTsAndCell.getKey();

```

## RuleId[ruleID=NonSynchronizedMethodOverridesSynchronizedMethod]
### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `mark()` overrides synchronized method
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java

    @Override
    public void mark(int readlimit) {
        delegate().mark(readlimit);
    }
```

### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `reset()` overrides synchronized method
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java

    @Override
    public void reset() throws IOException {
        delegate().reset();
    }
```

### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `reset()` overrides synchronized method
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

        @Override
        public void reset() {
            pos = mark;
        }
```

### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `mark()` overrides synchronized method
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

        @Override
        public void mark(int readAheadLimit) {
            mark = pos;
        }
```

### NonSynchronizedMethodOverridesSynchronizedMethod
Unsynchronized method `getCause()` overrides synchronized method
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java

        @Override
        public Exception getCause() {
            return (Exception) super.getCause();
        }
```

## RuleId[ruleID=CollectionContainsUrl]
### CollectionContainsUrl
Map `urlsToHostAndPort` may contain URL objects
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/RedirectRetryTargeter.java`
#### Snippet
```java
public final class RedirectRetryTargeter {
    private final List<URL> otherServers;
    private final BiMap<HostAndPort, URL> urlsToHostAndPort;

    private RedirectRetryTargeter(List<URL> otherServers) {
```

## RuleId[ruleID=RegExpUnexpectedAnchor]
### RegExpUnexpectedAnchor
Anchor `^` in unexpected position
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Namespace.java`
#### Snippet
```java
     * Restrictive name pattern (letters, numbers, and non-initial single underscores).
     */
    public static final Pattern STRICTLY_CHECKED_NAME = Pattern.compile("^^(?!.*__.*)[a-zA-Z0-9][\\w]*$");

    private final String name;
```

## RuleId[ruleID=SwitchStatementWithConfusingDeclaration]
### SwitchStatementWithConfusingDeclaration
Local variable `className` declared in one 'switch' branch and used in another
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
        switch (format) {
            case PERSISTER:
                String className = node.get("type").asText();
                try {
                    Class<?> rawPersister = Class.forName(className);
```

## RuleId[ruleID=PublicFieldAccessedInSynchronizedContext]
### PublicFieldAccessedInSynchronizedContext
Non-private field `doubleSumTimeNanos` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    @Override
    public synchronized void clearStats() {
        doubleSumTimeNanos = 0;
        doubleSumSquaredTimeNanos = 0;
        operationTimeNanos = 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `doubleSumSquaredTimeNanos` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    public synchronized void clearStats() {
        doubleSumTimeNanos = 0;
        doubleSumSquaredTimeNanos = 0;
        operationTimeNanos = 0;
        totalCalls = 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `operationTimeNanos` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        doubleSumTimeNanos = 0;
        doubleSumSquaredTimeNanos = 0;
        operationTimeNanos = 0;
        totalCalls = 0;
        maxCall = 0;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalCalls` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        doubleSumSquaredTimeNanos = 0;
        operationTimeNanos = 0;
        totalCalls = 0;
        maxCall = 0;
        minCall = Long.MAX_VALUE;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `maxCall` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        operationTimeNanos = 0;
        totalCalls = 0;
        maxCall = 0;
        minCall = Long.MAX_VALUE;
        for (AtomicLong al : underStatsMillis) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `minCall` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        totalCalls = 0;
        maxCall = 0;
        minCall = Long.MAX_VALUE;
        for (AtomicLong al : underStatsMillis) {
            al.set(0);
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `operationTimeNanos` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    @SuppressWarnings("cast")
    protected synchronized void collectOperationTimeNanos(long timeInNanos) {
        operationTimeNanos += timeInNanos;
        totalCalls++;
        double doubleTimeInNanos = (double) timeInNanos;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `totalCalls` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    protected synchronized void collectOperationTimeNanos(long timeInNanos) {
        operationTimeNanos += timeInNanos;
        totalCalls++;
        double doubleTimeInNanos = (double) timeInNanos;
        doubleSumTimeNanos += doubleTimeInNanos;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `doubleSumTimeNanos` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        totalCalls++;
        double doubleTimeInNanos = (double) timeInNanos;
        doubleSumTimeNanos += doubleTimeInNanos;
        doubleSumSquaredTimeNanos += doubleTimeInNanos * doubleTimeInNanos;
        if (timeInNanos > maxCall) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `doubleSumSquaredTimeNanos` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        double doubleTimeInNanos = (double) timeInNanos;
        doubleSumTimeNanos += doubleTimeInNanos;
        doubleSumSquaredTimeNanos += doubleTimeInNanos * doubleTimeInNanos;
        if (timeInNanos > maxCall) {
            maxCall = timeInNanos;
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `maxCall` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        doubleSumTimeNanos += doubleTimeInNanos;
        doubleSumSquaredTimeNanos += doubleTimeInNanos * doubleTimeInNanos;
        if (timeInNanos > maxCall) {
            maxCall = timeInNanos;
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `maxCall` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        doubleSumSquaredTimeNanos += doubleTimeInNanos * doubleTimeInNanos;
        if (timeInNanos > maxCall) {
            maxCall = timeInNanos;
        }
        if (timeInNanos < minCall) {
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `minCall` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
            maxCall = timeInNanos;
        }
        if (timeInNanos < minCall) {
            minCall = timeInNanos;
        }
```

### PublicFieldAccessedInSynchronizedContext
Non-private field `minCall` accessed in synchronized context
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        }
        if (timeInNanos < minCall) {
            minCall = timeInNanos;
        }
        populateStatsBuckets(timeInNanos);
```

## RuleId[ruleID=RedundantSuppression]
### RedundantSuppression
Redundant suppression
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java
    @Value.Default
    @Deprecated
    default Integer timestampsGetterBatchSize() {
        return 1_000;
    }
```

### RedundantSuppression
Redundant suppression
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
 */
@SuppressWarnings({"FinalClass", "Not final for mocking in tests"})
public class CassandraKeyValueServiceImpl extends AbstractKeyValueService implements CassandraKeyValueService {

    @VisibleForTesting
```

### RedundantSuppression
Redundant suppression
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraClientPoolMetrics.java`
#### Snippet
```java

    @SuppressWarnings("unchecked") // Guaranteed to have the correct type
    public void registerPoolMetric(CassandraClientPoolHostLevelMetric metric, Gauge<Long> gauge, int poolNumber) {
        MetricPublicationFilter filter = outlierControllers.get(metric).registerAndCreateFilter(gauge);
        registerPoolMetricsToRegistry(metric, gauge, poolNumber, filter);
```

### RedundantSuppression
Redundant suppression
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java

    public static Iterable<TableReference> safeTablesOrPlaceholder(Collection<TableReference> tables) {
        //noinspection StaticPseudoFunctionalStyleMethod - Use lazy iterator.
        return Collections2.transform(tables, LoggingArgs::safeTableOrPlaceholder);
    }
```

### RedundantSuppression
Redundant suppression
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java

    @SuppressWarnings("rawtypes") // StopStrategy uses raw Attempt
    public <T, E extends Exception> T runWithRetry(IntPredicate shouldStopRetrying, Retryable<T, E> task) throws E {
        UUID runId = UUID.randomUUID();
        Retryer<T> retryer = RetryerBuilder.<T>newBuilder()
```

### RedundantSuppression
Redundant suppression
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java

    @SuppressWarnings("rawtypes") // WaitStrategy uses raw Attempt
    private static WaitStrategy randomize(Random random, WaitStrategy strategy) {
        return attempt -> random.nextInt(Ints.checkedCast(strategy.computeSleepTime(attempt)));
    }
```

### RedundantSuppression
Redundant suppression
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java
    private static Optional<TimeLockClientConfig> addFallbackSslConfigurationToTimeLockClientConfig(
            Optional<TimeLockClientConfig> config, Optional<SslConfiguration> sslConfiguration) {
        //noinspection ConstantConditions - function returns an existing ServerListConfig, maybe with different SSL.
        return config.map(clientConfig -> ImmutableTimeLockClientConfig.builder()
                .from(clientConfig)
```

### RedundantSuppression
Redundant suppression
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/startup/TimeLockMigrator.java`
#### Snippet
```java

@SuppressWarnings("FinalClass")
public class TimeLockMigrator extends AsyncInitializer {
    private static final SafeLogger log = SafeLoggerFactory.get(TimeLockMigrator.class);

```

### RedundantSuppression
Redundant suppression
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java

    @SuppressWarnings("ConstantConditions") // class runs in a single thread, so this is fine
    private void updateProgressAndRefreshLock(SweepProgress progress) throws InterruptedException {
        currentTable.get().setProgress(progress);
        currentTable.get().refreshLock();
```

### RedundantSuppression
Redundant suppression
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SpecificTableSweeper.java`
#### Snippet
```java
                    .staleValuesDeleted(results.getStaleValuesDeleted())
                    .cellTsPairsExamined(results.getCellTsPairsExamined())
                    //noinspection OptionalGetWithoutIsPresent // covered by precondition above
                    .startRow(results.getNextStartRow().get())
                    .startColumn(PtBytes.toBytes("unused"))
```

### RedundantSuppression
Redundant suppression
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java

@SuppressWarnings({"FinalClass", "Not final for mocking in tests"})
public class TargetedSweeper implements MultiTableSweepQueueWriter, BackgroundSweeper {
    private static final SafeLogger log = SafeLoggerFactory.get(TargetedSweeper.class);

```

### RedundantSuppression
Redundant suppression
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java

    @SuppressWarnings("unchecked")
    private Pair<List<List<Cell>>, SweepResults> runSweep(
            CellsSweeper cellsSweeper,
            SweepTaskRunner spiedSweepRunner,
```

### RedundantSuppression
Redundant suppression
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
                    sb.append(": '"); // $NON-NLS-1$
                    if (arg instanceof ByteArrayInputStream) {
                        @SuppressWarnings("resource") // Caller is responsible for closing
                        ByteArrayInputStream bais = (ByteArrayInputStream) arg;
                        byte[] bytes = new byte[bais.available()];
                        bais.read(bytes, 0, bais.available());
```

### RedundantSuppression
Redundant suppression
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java
@ThreadSafe
@SuppressWarnings("FinalClass") // mocks
public class NoOpLockWatchEventCache implements LockWatchEventCache {
    private static final LockWatchVersion FAKE_VERSION = LockWatchVersion.of(UUID.randomUUID(), -1L);
    private volatile Optional<LockWatchVersion> currentVersion = Optional.empty();
```

### RedundantSuppression
Redundant suppression
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/PersistedSchemaVersion.java`
#### Snippet
```java

@SuppressWarnings("FinalClass")
public class PersistedSchemaVersion {
    private static final long DUMMY_VERSION = -1;
    private static final String ONLY_ROW = "r";
```

### RedundantSuppression
Redundant suppression
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java

    @SuppressWarnings("ConstantConditions")
    private ListenableFuture<CompleteBackupResponse> completeBackupInternal(
            AuthHeader authHeader, CompleteBackupRequest request) {
        if (!authHeaderValidator.suppliedHeaderMatchesConfig(authHeader)) {
```

### RedundantSuppression
Redundant suppression
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java

    @SuppressWarnings("ConstantConditions") // optional token is never null
    private ListenableFuture<Optional<CompletedBackup>> completeBackupAsync(InProgressBackupToken backupToken) {
        return Futures.transform(
                maybeUnlock(backupToken),
```

### RedundantSuppression
Redundant suppression
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java

    @SuppressWarnings("ConstantConditions") // Set of locks is never null
    private ListenableFuture<Optional<LockToken>> maybeUnlock(InProgressBackupToken backupToken) {
        return Futures.transform(
                timelock(backupToken.getNamespace()).unlock(ImmutableSet.of(backupToken.getLockToken())),
```

### RedundantSuppression
Redundant suppression
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/DisabledNamespaces.java`
#### Snippet
```java

@SuppressWarnings("FinalClass") // mocked in tests
public class DisabledNamespaces {
    private static final SafeLogger log = SafeLoggerFactory.get(DisabledNamespaces.class);

```

### RedundantSuppression
Redundant suppression
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java`
#### Snippet
```java

@SuppressWarnings("FinalClass") // mocks
public class LocalPaxosComponents {
    private static final SafeLogger log = SafeLoggerFactory.get(LocalPaxosComponents.class);

```

## RuleId[ruleID=OptionalUsedAsFieldOrParameterType]
### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'version'
in `lock-api/src/main/java/com/palantir/lock/watch/LockWatchEventCache.java`
#### Snippet
```java
     * that version, and a map associating each start timestamp with its respective lock watch state version.
     */
    TransactionsLockWatchUpdate getUpdateForTransactions(Set<Long> startTimestamps, Optional<LockWatchVersion> version);

    /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'currentVersion'
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java
public class NoOpLockWatchEventCache implements LockWatchEventCache {
    private static final LockWatchVersion FAKE_VERSION = LockWatchVersion.of(UUID.randomUUID(), -1L);
    private volatile Optional<LockWatchVersion> currentVersion = Optional.empty();

    private NoOpLockWatchEventCache() {}
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeNewVersion'
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java
    }

    private void updateVersion(Optional<LockWatchVersion> maybeNewVersion) {
        currentVersion = maybeNewVersion.map(newVersion -> currentVersion
                .map(current -> {
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for parameter 'bufferSize'
in `lock-api/src/main/java/com/palantir/lock/client/LeaderTimeCoalescingBatcher.java`
#### Snippet
```java
    private final DisruptorAutobatcher<Namespace, LeaderTime> batcher;

    public LeaderTimeCoalescingBatcher(InternalMultiClientConjureTimelockService delegate, OptionalInt bufferSize) {
        this.batcher = Autobatchers.coalescing(new LeaderTimeCoalescingConsumer(delegate))
                .bufferSize(bufferSize)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'failure'
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
    }

    private void trackActionAndMaybeLog(String actionName, Stopwatch stopwatch, Optional<Exception> failure) {
        stopwatch.stop();
        accumulateSlowOperationTracking(actionName, stopwatch, failure);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'failure'
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
    }

    private void accumulateSlowOperationTracking(String actionName, Stopwatch stopwatch, Optional<Exception> failure) {
        if (stopwatchDescribesSlowOperation(stopwatch)) {
            slowestOperation.accumulateAndGet(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeRequestBatchers'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java

    private RequestBatchersFactory(
            LockWatchCache cache, Namespace namespace, Optional<MultiClientRequestBatchers> maybeRequestBatchers) {
        this.cache = cache;
        this.namespace = namespace;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maybeRequestBatchers'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java
    private final LockWatchCache cache;
    private final Namespace namespace;
    private final Optional<MultiClientRequestBatchers> maybeRequestBatchers;

    private RequestBatchersFactory(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeRequestBatchers'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java

    public static RequestBatchersFactory create(
            LockWatchCache cache, Namespace namespace, Optional<MultiClientRequestBatchers> maybeRequestBatchers) {
        return new RequestBatchersFactory(cache, namespace, maybeRequestBatchers);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/ConjureLockRequests.java`
#### Snippet
```java
    }

    public static Optional<LockWatchVersion> fromConjure(Optional<ConjureIdentifiedVersion> maybeVersion) {
        return maybeVersion.map(
                identifiedVersion -> LockWatchVersion.of(identifiedVersion.getId(), identifiedVersion.getVersion()));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/ConjureLockRequests.java`
#### Snippet
```java
    }

    public static Optional<ConjureIdentifiedVersion> toConjure(Optional<LockWatchVersion> maybeVersion) {
        return maybeVersion.map(identifiedVersion -> ConjureIdentifiedVersion.builder()
                .id(identifiedVersion.id())
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lastKnownVersion'
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
        private final Queue<BatchElement<NamespacedRequest, Long>> pendingRequestQueue;
        private final LockWatchCache cache;
        private Optional<LockWatchVersion> lastKnownVersion;

        private NamespacedBatchStateManager(LockWatchCache cache) {
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for parameter 'bufferSize'
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
    private final DisruptorAutobatcher<UnlockRequest, Set<ConjureLockTokenV2>> batcher;

    public MultiClientTimeLockUnlocker(InternalMultiClientConjureTimelockService delegate, OptionalInt bufferSize) {
        this.batcher = Autobatchers.independent(new UnlockConsumer(delegate))
                .bufferSize(bufferSize)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/LockLeaseService.java`
#### Snippet
```java
    // Visible for testing
    public ConjureStartTransactionsResponse startTransactionsWithWatches(
            Optional<LockWatchVersion> maybeVersion, int batchSize) {
        ConjureStartTransactionsRequest request = ConjureStartTransactionsRequest.builder()
                .requestorId(clientId)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/LockLeaseService.java`
#### Snippet
```java
    }

    GetCommitTimestampsResponse getCommitTimestamps(Optional<LockWatchVersion> maybeVersion, int batchSize) {
        GetCommitTimestampsRequest request = GetCommitTimestampsRequest.builder()
                .numTimestamps(batchSize)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'leaderElectionReporter'
in `lock-api/src/main/java/com/palantir/lock/client/metrics/TimeLockFeedbackBackgroundTask.java`
#### Snippet
```java
    private final Refreshable<List<TimeLockClientFeedbackService>> timeLockClientFeedbackServices;

    private volatile Optional<LeaderElectionReportingTimelockService> leaderElectionReporter = Optional.empty();

    private ScheduledFuture<?> task;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'runtimeConfigSnapshot'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java
     */
    DerivedSnapshotConfig createDerivedSnapshotConfig(
            KeyValueServiceConfig config, Optional<KeyValueServiceRuntimeConfig> runtimeConfigSnapshot);

    ManagedTimestampService createManagedTimestampService(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'leaderConfig'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java
            KeyValueServiceConfig config,
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            LongSupplier freshTimestampSource,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'namespace'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            LongSupplier freshTimestampSource,
            boolean initializeAsync);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReferenceOverride'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java

    default TimestampStoreInvalidator createTimestampStoreInvalidator(
            KeyValueService rawKvs, Optional<TableReference> tableReferenceOverride) {
        return () -> {
            log.warn(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReferenceOverride'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java

    ManagedTimestampService createManagedTimestampService(
            KeyValueService rawKvs, Optional<TableReference> tableReferenceOverride, boolean initializeAsync);

    default TimestampStoreInvalidator createTimestampStoreInvalidator(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'error'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        private final Optional<Throwable> error;

        private TransactionResult(TransactionStatus status, @Nullable T resultValue, Optional<Throwable> error) {
            this.status = status;
            this.resultValue = resultValue;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'error'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        private final TransactionStatus status;
        private final @Nullable T resultValue;
        private final Optional<Throwable> error;

        private TransactionResult(TransactionStatus status, @Nullable T resultValue, Optional<Throwable> error) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'oldValue'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CheckAndSetRequest.java`
#### Snippet
```java

    public static class Builder extends ImmutableCheckAndSetRequest.Builder {
        public Builder oldValue(Optional<byte[]> oldValue) {
            return this.oldValueNullable(oldValue.orElse(null));
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'startRow'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
        }

        public Builder nextStartRow(Optional<byte[]> startRow) {
            return this.nextStartRowNullable(startRow.orElse(null));
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'previousStartRow'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java

    public static class Builder extends ImmutableSweepResults.Builder {
        public Builder previousStartRow(Optional<byte[]> previousStartRow) {
            return this.previousStartRowNullable(previousStartRow.orElse(null));
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fst'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'snd'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'startRow'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    public static SweepResults createEmptySweepResult(Optional<byte[]> startRow) {
        return builder()
                .cellTsPairsExamined(0)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java
    private final Optional<byte[]> value;

    private CacheValue(Optional<byte[]> value) {
        this.value = value;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'value'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java

public final class CacheValue {
    private final Optional<byte[]> value;

    private CacheValue(Optional<byte[]> value) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'version'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchManager.java`
#### Snippet
```java
     */
    abstract TransactionsLockWatchUpdate getUpdateForTransactions(
            Set<Long> startTimestamps, Optional<LockWatchVersion> version);
}

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeHolder'
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
    }

    private List<LockClient> getLockHolders(List<LockClient> readHolders, Optional<LockClient> writeHolder) {
        return readHolders.isEmpty() ? writeHolder.map(ImmutableList::of).orElseGet(ImmutableList::of) : readHolders;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'rowBytes'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
    }

    private String encodeStartRow(Optional<byte[]> rowBytes) {
        return BaseEncoding.base16().encode(rowBytes.orElse(FIRST_ROW));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'rowBytes'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
    }

    private String encodeEndRow(Optional<byte[]> rowBytes) {
        if (rowBytes.isPresent() && !Arrays.equals(rowBytes.get(), FIRST_ROW)) {
            return BaseEncoding.base16().encode(rowBytes.get());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'uriSuffix'
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/PerformanceResults.java`
#### Snippet
```java
    }

    private static String formatBenchmarkString(String benchmark, Optional<String> uriSuffix) {
        List<String> benchmarkParts = Splitter.on('.').splitToList(benchmark);
        String benchmarkSuite = benchmarkParts.get(benchmarkParts.size() - 2);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableRef'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java

    private static TimestampBoundStore createTimestampBoundStore(
            Optional<TableReference> tableRef, ConnectionManagerAwareDbKvs dbkvs, boolean initializeAsync) {
        // Not using the table prefix here, as the tableRef should contain any necessary prefix.
        return tableRef.map(reference ->
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReference'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java

    private TimestampStoreInvalidator timestampStoreInvalidator(
            ConnectionManagerAwareDbKvs dbKvs, Optional<TableReference> tableReference) {
        return tableReference
                .map(ref -> DbTimestampStoreInvalidator.create(dbKvs, ref, EMPTY_TABLE_PREFIX))
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'runtimeConfig'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/util/SqlConnectionSuppliers.java`
#### Snippet
```java
            ConnectionManager connManager,
            DbKeyValueServiceConfig config,
            Optional<KeyValueServiceRuntimeConfig> runtimeConfig) {
        MaskedValue password = runtimeConfig
                .flatMap(DbKeyValueServiceConfigs::tryCastToDbKeyValueServiceRuntimeConfig)
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'oldLimit'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java

    private interface Operation {
        long run(Connection connection, OptionalLong oldLimit) throws SQLException;
    }

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockService.java`
#### Snippet
```java

    ListenableFuture<GetCommitTimestampsResponse> getCommitTimestamps(
            int numTimestamps, Optional<LockWatchVersion> lastKnownVersion);

    ListenableFuture<LeaderTime> leaderTime();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockWatchVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private ListenableFuture<GetCommitTimestampsResponse> getCommitTimestampsInternal(
            String namespace, int numTimestamps, Optional<ConjureIdentifiedVersion> lockWatchVersion) {
        return forNamespace(namespace)
                .getCommitTimestamps(numTimestamps, lockWatchVersion.map(this::toIdentifiedVersion));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeInfo'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java
    }

    private static Optional<LockInfo> nextLockInfo(Optional<LockInfo> maybeInfo, LockState nextStage) {
        return Optional.ofNullable(maybeInfo)
                .flatMap(Function.identity())
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lockDiagnosticInfoCollector'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java

    private final LockEvents events;
    private final Optional<LockDiagnosticCollector> lockDiagnosticInfoCollector;

    public LockLog(MetricRegistry metricRegistry, Supplier<Long> thresholdMillis) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fromVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLog.java`
#### Snippet
```java

public interface LockEventLog {
    LockWatchStateUpdate getLogDiff(Optional<LockWatchVersion> fromVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLog.java`
#### Snippet
```java
    LockWatchStateUpdate getLogDiff(Optional<LockWatchVersion> fromVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);

    void logLock(Set<LockDescriptor> locksTakenOut, LockToken lockToken);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fromVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
    }

    private Optional<LockWatchStateUpdate> tryGetNextEvents(Optional<LockWatchVersion> fromVersion) {
        if (!fromVersion.isPresent() || !fromVersion.get().id().equals(logId)) {
            return Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingService.java`
#### Snippet
```java
    LockWatchStateUpdate getWatchStateUpdate(Optional<LockWatchVersion> lastKnownVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);

    void registerLock(Set<LockDescriptor> locksTakenOut, LockToken token);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingService.java`
#### Snippet
```java

public interface LockWatchingService extends LockWatchStarter {
    LockWatchStateUpdate getWatchStateUpdate(Optional<LockWatchVersion> lastKnownVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedResourcesConfig'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            DdlConfig config,
            SqlConnectionSupplier connections,
            Optional<SharedResourcesConfig> sharedResourcesConfig) {
        ExecutorService executor = SharedFixedExecutors.createOrGetShared(
                "Atlas Relational KVS",
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheKey'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptor.java`
#### Snippet
```java
     * @return digest containing next cacheKey and updates since provided {@code cacheKey}
     */
    AcceptorCacheDigest latestSequencesPreparedOrAccepted(Optional<AcceptorCacheKey> cacheKey, Set<Client> clients)
            throws InvalidAcceptorCacheKeyException;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeCacheKey'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptorResource.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    public AcceptorCacheDigest latestSequencesPreparedOrAccepted(
            @QueryParam(HttpHeaders.IF_MATCH) Optional<AcceptorCacheKey> maybeCacheKey, Set<Client> clients) {
        try {
            return batchPaxosAcceptor.latestSequencesPreparedOrAccepted(maybeCacheKey, clients);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheKey'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptorResource.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    public Optional<AcceptorCacheDigest> latestSequencesPreparedOrAcceptedCached(
            @QueryParam(HttpHeaders.IF_MATCH) Optional<AcceptorCacheKey> cacheKey) {
        if (!cacheKey.isPresent()) {
            throw Errors.invalidCacheKeyException(null);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'outcome'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/GetSuspectedLeaderWithUuid.java`
#### Snippet
```java
    private static void completeRequest(
            Collection<DisruptorFuture<Optional<ClientAwareLeaderPinger>>> futures,
            Optional<ClientAwareLeaderPinger> outcome) {
        futures.forEach(result -> result.set(outcome));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'internalSchemaMetadata'
in `atlasdb-backup/src/main/java/com/palantir/atlasdb/backup/CoordinationServiceUtilities.java`
#### Snippet
```java

    private static RangeMap<Long, Integer> convertInternalSchemaMetadataToRangeMap(
            Optional<InternalSchemaMetadataState> internalSchemaMetadata) {
        return internalSchemaMetadata
                .flatMap(InternalSchemaMetadataState::value)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'schemaMetadataState'
in `atlasdb-backup/src/main/java/com/palantir/atlasdb/backup/CoordinationServiceUtilities.java`
#### Snippet
```java

    public static Map<FullyBoundedTimestampRange, Integer> getCoordinationMapOnRestore(
            Optional<InternalSchemaMetadataState> schemaMetadataState, long fastForwardTs, long immutableTs) {
        RangeMap<Long, Integer> unbounded = convertInternalSchemaMetadataToRangeMap(schemaMetadataState);

```

### OptionalUsedAsFieldOrParameterType
`Optional`>> used as type for field 'tagFunction'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TaggedMetricsInvocationEventHandler.java`
#### Snippet
```java
    private final String serviceName;

    private final Optional<Function<InvocationContext, Map<String, String>>> tagFunction;

    @Nullable
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'sweeperStrategy'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/SweepStrategy.java`
#### Snippet
```java
    public static final SweepStrategy THOROUGH = new SweepStrategy(Optional.of(SweeperStrategy.THOROUGH), true);

    private final Optional<SweeperStrategy> sweeperStrategy;
    private final boolean mustCheckImmutableLockAfterReads;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sweeperStrategy'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/SweepStrategy.java`
#### Snippet
```java
    private final boolean mustCheckImmutableLockAfterReads;

    private SweepStrategy(Optional<SweeperStrategy> sweeperStrategy, boolean mustCheckImmutableLockAfterReads) {
        this.sweeperStrategy = sweeperStrategy;
        this.mustCheckImmutableLockAfterReads = mustCheckImmutableLockAfterReads;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'allSafeForLogging'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java

    private static volatile KeyValueServiceLogArbitrator logArbitrator = KeyValueServiceLogArbitrator.ALL_UNSAFE;
    private static Optional<Boolean> allSafeForLogging = Optional.empty();

    private LoggingArgs() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedExecutorSize'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionManager.java`
#### Snippet
```java
    }

    ExecutorService createGetRangesExecutor(int numThreads, Optional<Integer> sharedExecutorSize) {
        return GetRangesExecutors.createGetRangesExecutor(
                numThreads, AbstractTransactionManager.this.getClass().getSimpleName(), sharedExecutorSize);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedExecutorThreads'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/GetRangesExecutors.java`
#### Snippet
```java
    @SuppressWarnings("DangerousThreadPoolExecutorUsage")
    public static ExecutorService createGetRangesExecutor(
            int numThreads, String prefix, Optional<Integer> sharedExecutorThreads) {
        String name = prefix + "-get-ranges";
        return wrapWithSizeMonitoring(SharedFixedExecutors.createOrGetShared(name, numThreads, sharedExecutorThreads));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'redirectRetryTargeter'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/NotCurrentLeaderExceptionMapper.java`
#### Snippet
```java
 */
public class NotCurrentLeaderExceptionMapper extends ProtocolAwareExceptionMapper<NotCurrentLeaderException> {
    private final Optional<RedirectRetryTargeter> redirectRetryTargeter;

    public NotCurrentLeaderExceptionMapper() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'leaderHint'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/RedirectRetryTargeter.java`
#### Snippet
```java
    }

    public Optional<URL> redirectRequest(Optional<HostAndPort> leaderHint) {
        if (otherServers.isEmpty()) {
            return Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java`
#### Snippet
```java

    public static <T> T createProxy(
            Optional<TrustContext> trustContext, String uri, Class<T> type, AuxiliaryRemotingParameters parameters) {
        return wrapWithOkHttpBugHandling(type, () -> ConjureJavaRuntimeTargetFactory.DEFAULT
                .createProxy(trustContext, uri, type, parameters)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockLockInfo'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/debug/TransactionPostMortemRunner.java`
#### Snippet
```java
            long startTimestamp,
            WritesDigest<T> writesDigest,
            Optional<LockDiagnosticInfo> timelockLockInfo,
            ClientLockDiagnosticDigest clientLockDigest) {
        Map<UUID, Set<ConjureLockDescriptor>> lockRequests = ImmutableMap.<UUID, Set<ConjureLockDescriptor>>builder()
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'maybeLockStates'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/debug/TransactionPostMortemRunner.java`
#### Snippet
```java

    private static LockDigest lockDigest(
            Set<ConjureLockDescriptor> lockDescriptors, Optional<Map<LockState, Instant>> maybeLockStates) {
        Map<LockState, Instant> lockStates =
                maybeLockStates.orElseGet(() -> ImmutableMap.of(LockState.NOT_PRESENT_ON_TIMELOCK, Instant.EPOCH));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'config'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<ServerListConfig> addFallbackSslConfigurationToServerList(
            Optional<ServerListConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(addSslConfigurationToServerListFunction(sslConfiguration));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<ServerListConfig> addFallbackSslConfigurationToServerList(
            Optional<ServerListConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(addSslConfigurationToServerListFunction(sslConfiguration));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Function<ServerListConfig, ServerListConfig> addSslConfigurationToServerListFunction(
            Optional<SslConfiguration> sslConfiguration) {
        return serverList -> ImmutableServerListConfig.builder()
                .from(serverList)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    public static AtlasDbConfig addFallbackSslConfigurationToAtlasDbConfig(
            AtlasDbConfig config, Optional<SslConfiguration> sslConfiguration) {
        return ImmutableAtlasDbConfig.builder()
                .from(config)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'primary'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    // this behavior mimics guava's "public abstract Optional<T> or(Optional<? extends T> secondChoice)" method
    private static <T> Optional<T> getFirstPresentOptional(Optional<T> primary, Optional<T> secondary) {
        return primary.isPresent() ? primary : secondary;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'secondary'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    // this behavior mimics guava's "public abstract Optional<T> or(Optional<? extends T> secondChoice)" method
    private static <T> Optional<T> getFirstPresentOptional(Optional<T> primary, Optional<T> secondary) {
        return primary.isPresent() ? primary : secondary;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'config'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<TimeLockClientConfig> addFallbackSslConfigurationToTimeLockClientConfig(
            Optional<TimeLockClientConfig> config, Optional<SslConfiguration> sslConfiguration) {
        //noinspection ConstantConditions - function returns an existing ServerListConfig, maybe with different SSL.
        return config.map(clientConfig -> ImmutableTimeLockClientConfig.builder()
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<TimeLockClientConfig> addFallbackSslConfigurationToTimeLockClientConfig(
            Optional<TimeLockClientConfig> config, Optional<SslConfiguration> sslConfiguration) {
        //noinspection ConstantConditions - function returns an existing ServerListConfig, maybe with different SSL.
        return config.map(clientConfig -> ImmutableTimeLockClientConfig.builder()
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'config'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<LeaderConfig> addFallbackSslConfigurationToLeader(
            Optional<LeaderConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(leader -> ImmutableLeaderConfig.builder()
                .from(leader)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<LeaderConfig> addFallbackSslConfigurationToLeader(
            Optional<LeaderConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(leader -> ImmutableLeaderConfig.builder()
                .from(leader)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'serverListOptional'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    }

    private static void checkServersListHasAtLeastOneServerIfPresent(Optional<ServerListConfig> serverListOptional) {
        serverListOptional.ifPresent(serverList -> Preconditions.checkState(
                serverList.hasAtLeastOneServer(), "Server list must have at least one server."));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'atlasDbRuntimeConfig'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/ServerListConfigs.java`
#### Snippet
```java

    public static Refreshable<ServerListConfig> getTimeLockServersFromAtlasDbConfig(
            AtlasDbConfig config, Optional<AtlasDbRuntimeConfig> atlasDbRuntimeConfig) {
        Refreshable<Optional<TimeLockRuntimeConfig>> timelockRuntimeConfig =
                Refreshable.only(atlasDbRuntimeConfig.flatMap(AtlasDbRuntimeConfig::timelockRuntime));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'leaderConfig'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
            KeyValueServiceConfig config,
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            Optional<TableReference> tableReferenceOverride,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'namespace'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            Optional<TableReference> tableReferenceOverride,
            boolean initializeAsync,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReferenceOverride'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            Optional<TableReference> tableReferenceOverride,
            boolean initializeAsync,
            boolean collectThreadDumpOnInit,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'leaderConfig'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
    private static String timestampServiceCreationInfo = null;

    private final Optional<LeaderConfig> leaderConfig;
    private final Supplier<KeyValueService> keyValueService;
    private final Supplier<ManagedTimestampService> timestampService;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            UserAgent userAgent,
            String timelockNamespace,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas,
            LockWatchCachingConfig cachingConfig) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
        this.metricsManager = metricsManager;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final TimestampStoreInvalidator invalidator;
    private final UserAgent userAgent;
    private final Optional<LockDiagnosticComponents> lockDiagnosticComponents;
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> knownSchemas) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> knownSchemas) {
        AtlasDbRuntimeConfig initialRuntimeConfig = runtimeConfig.get();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private static LockTokenUnlocker getTimeLockUnlocker(
            String timelockNamespace,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            NamespacedConjureTimelockService namespacedConjureTimelockService,
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final Optional<LockDiagnosticComponents> lockDiagnosticComponents;
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
    private final Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders;
    private final Set<Schema> schemas;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private static LeaderTimeGetter getLeaderTimeGetter(
            String timelockNamespace,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            NamespacedConjureTimelockService namespacedConjureTimelockService,
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
    private final Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders;
    private final Set<Schema> schemas;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
        Refreshable<ServerListConfig> serverListConfigSupplier =
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/Leaders.java`
#### Snippet
```java
            Collection<String> remoteEndpoints,
            Supplier<RemotingClientConfig> remotingClientConfig,
            Optional<TrustContext> trustContext,
            UserAgent userAgent) {
        return KeyedStream.of(remoteEndpoints)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/Leaders.java`
#### Snippet
```java
            Set<String> remoteUris,
            Supplier<RemotingClientConfig> remotingClientConfig,
            Optional<TrustContext> trustContext,
            Class<T> clazz,
            UserAgent userAgent) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'unreadableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java
    }

    private TestSweeperModule(Optional<LongSupplier> unreadableTs, Optional<LongSupplier> immutableTs) {
        this.unreadableTs = unreadableTs;
        this.immutableTs = immutableTs;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java
    }

    private TestSweeperModule(Optional<LongSupplier> unreadableTs, Optional<LongSupplier> immutableTs) {
        this.unreadableTs = unreadableTs;
        this.immutableTs = immutableTs;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'unreadableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java
public class TestSweeperModule {

    private final Optional<LongSupplier> unreadableTs;
    private final Optional<LongSupplier> immutableTs;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java

    private final Optional<LongSupplier> unreadableTs;
    private final Optional<LongSupplier> immutableTs;

    public static TestSweeperModule create(LongSupplier ts) {
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'undertowRegistrar'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
            Refreshable<TimeLockRuntimeConfiguration> runtime,
            ClusterConfiguration cluster,
            Optional<Consumer<UndertowService>> undertowRegistrar,
            int threadPoolSize,
            long blockingTimeoutMs,
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for field 'undertowRegistrar'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
    private final ClusterConfiguration cluster;
    private final Consumer<Object> registrar;
    private final Optional<Consumer<UndertowService>> undertowRegistrar;
    private final PaxosResources paxosResources;
    private final LockCreator lockCreator;
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'undertowRegistrar'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
            long blockingTimeoutMs,
            Consumer<Object> registrar,
            Optional<Consumer<UndertowService>> undertowRegistrar,
            OrderableSlsVersion timeLockVersion,
            ObjectMapper objectMapper,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeoutDuration'
in `atlasdb-commons/src/main/java/com/palantir/util/SafeShutdownRunner.java`
#### Snippet
```java
    private final List<Throwable> failures = new ArrayList<>();
    private final ExecutorService executor;
    private final Optional<Duration> timeoutDuration;

    private SafeShutdownRunner(Optional<Duration> timeoutDuration, ExecutorService executorService) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeoutDuration'
in `atlasdb-commons/src/main/java/com/palantir/util/SafeShutdownRunner.java`
#### Snippet
```java
    private final Optional<Duration> timeoutDuration;

    private SafeShutdownRunner(Optional<Duration> timeoutDuration, ExecutorService executorService) {
        this.timeoutDuration = timeoutDuration;
        this.executor = executorService;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'serviceHint'
in `atlasdb-commons/src/main/java/com/palantir/common/remoting/ServiceNotAvailableException.java`
#### Snippet
```java
    private static final long serialVersionUID = 2L;

    private final Optional<HostAndPort> serviceHint;

    public ServiceNotAvailableException(String message, Throwable cause, HostAndPort serviceHint) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'proxy'
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ClientOptions.java`
#### Snippet
```java

    public ClientConfiguration create(
            List<String> endpointUris, Optional<ProxySelector> proxy, TrustContext trustContext) {
        ClientConfiguration partialConfig =
                ClientConfigurations.of(endpointUris, trustContext.sslSocketFactory(), trustContext.x509TrustManager());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'diagnosticComponents'
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockTestUtils.java`
#### Snippet
```java
            AtlasDbRuntimeConfig runtimeConfigTemplate,
            ImmutableAtlasDbConfig.Builder installConfigTemplate,
            Optional<LockDiagnosticComponents> diagnosticComponents,
            Schema... schemas) {
        List<String> serverUris = cluster.servers().stream()
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for field 'version'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java

public class VersionedLockWatchStateImpl implements VersionedLockWatchState {
    private final OptionalLong version;
    private final RangeSet<LockDescriptor> watchedRanges;
    private final Map<LockDescriptor, LockWatchInfo> locks;
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'version'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java

    public VersionedLockWatchStateImpl(
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
            Map<LockDescriptor, LockWatchInfo> locks,
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'lastLocked'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchInfo.java`
#### Snippet
```java
    OptionalLong lastLocked();

    static LockWatchInfo of(State state, OptionalLong lastLocked) {
        return ImmutableLockWatchInfo.of(state, lastLocked);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'waitStrategy'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java
            int bufferSize,
            String safeLoggablePurpose,
            Optional<WaitStrategy> waitStrategy,
            Runnable closingCallback) {
        Disruptor<DisruptorBatchElement<T, R>> disruptor = new Disruptor<>(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'waitStrategy'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
        private Optional<WaitStrategy> waitStrategy = Optional.empty();

        @Nullable
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeoutHandler'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
        private Optional<WaitStrategy> waitStrategy = Optional.empty();

```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for parameter 'bufferSizeParam'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        }

        public AutobatcherBuilder<I, O> bufferSize(OptionalInt bufferSizeParam) {
            this.bufferSize = bufferSizeParam;
            return this;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'batchFunctionTimeout'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private Observability observability = Observability.UNDECIDED;
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
        private Optional<WaitStrategy> waitStrategy = Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for field 'bufferSize'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java

        private Observability observability = Observability.UNDECIDED;
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
    }

    private static SSLSocketFactory createSslSocketFactory(Optional<SslConfiguration> sslConfiguration) {
        return sslConfiguration
                .map(sslSocketFactoryCache::get)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableMetadata'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ColumnFamilyDefinitions.java`
#### Snippet
```java
    }

    private static Map<String, String> getCompressionOptions(Optional<TableMetadata> tableMetadata) {
        int explicitCompressionBlockSizeKb = tableMetadata
                .map(TableMetadata::getExplicitCompressionBlockSizeKB)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'overrideStrategyForTest'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraRequestExceptionHandler.java`
#### Snippet
```java
    private final Supplier<Boolean> useConservativeHandler;
    private final Blacklist blacklist;
    private final Optional<RequestExceptionHandlerStrategy> overrideStrategyForTest;

    CassandraRequestExceptionHandler(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideTimestamp'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellValuePutter.java`
#### Snippet
```java
            final TableReference tableRef,
            final Iterable<Map.Entry<Cell, Value>> values,
            Optional<Long> overrideTimestamp) {
        Map<CassandraServer, Map<Cell, Value>> cellsByHost = HostPartitioner.partitionMapByHost(clientPool, values);
        List<Callable<Void>> tasks = new ArrayList<>(cellsByHost.size());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideTimestamp'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellValuePutter.java`
#### Snippet
```java
            final TableReference tableRef,
            final Iterable<Map.Entry<Cell, Value>> values,
            Optional<Long> overrideTimestamp)
            throws Exception {
        clientPool.runWithRetryOnServer(server, new FunctionCheckedException<CassandraClient, Void, Exception>() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideLocation'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java
    }

    static HostLocationSupplier create(Supplier<String> snitchSupplier, Optional<HostLocation> overrideLocation) {
        return new HostLocationSupplier(
                ExceptionHandlingSupplier.create(snitchSupplier, NUM_RETRIES),
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideLocation'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java
            Supplier<Optional<String>> snitchSupplier,
            Supplier<Optional<HostLocation>> ec2Supplier,
            Optional<HostLocation> overrideLocation) {
        this.snitchSupplier = Suppliers.memoize(snitchSupplier::get);
        this.ec2Supplier = Suppliers.memoize(ec2Supplier::get);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'overrideLocation'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java
    private final Supplier<Optional<String>> snitchSupplier;
    private final Supplier<Optional<HostLocation>> ec2Supplier;
    private final Optional<HostLocation> overrideLocation;

    @VisibleForTesting
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/client/creation/ClusterFactory.java`
#### Snippet
```java

    private static Cluster.Builder withSslOptions(
            Cluster.Builder builder, boolean usingSsl, Optional<SslConfiguration> sslConfiguration) {
        if (!usingSsl) {
            return builder;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeKeyspace'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfigs.java`
#### Snippet
```java
     * contradictory keyspaces)
     */
    default CassandraKeyValueServiceConfigs copyWithResolvedKeyspace(Optional<String> maybeKeyspace) {
        String desiredKeyspace =
                OptionalResolver.resolve(maybeKeyspace, installConfig().keyspace());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'runtimeConfig'
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java

    private void ensureTransactionSchemaVersionInstalled(
            AtlasDbConfig config, Optional<AtlasDbRuntimeConfig> runtimeConfig, TransactionManager transactionManager) {
        if (runtimeConfig.isEmpty()
                || runtimeConfig
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedThreads'
in `commons-executors/src/main/java/com/palantir/common/concurrent/SharedFixedExecutors.java`
#### Snippet
```java
    }

    public static ExecutorService createOrGetShared(String threadName, int poolSize, Optional<Integer> sharedThreads) {
        if (sharedThreads.isPresent()) {
            ExecutorService sharedExecutor = getOrCreate(threadName, poolSize);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'startRow'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
    SweepTableResponse sweepTable(
            @QueryParam("tablename") String tableName,
            @QueryParam("startRow") Optional<String> startRow,
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fullSweep'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @QueryParam("tablename") String tableName,
            @QueryParam("startRow") Optional<String> startRow,
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maxCellTsPairsToExamine'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @QueryParam("startRow") Optional<String> startRow,
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
            @Safe @QueryParam("deleteBatchSize") Optional<Integer> deleteBatchSize);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'candidateBatchSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
            @Safe @QueryParam("deleteBatchSize") Optional<Integer> deleteBatchSize);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'deleteBatchSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
            @Safe @QueryParam("deleteBatchSize") Optional<Integer> deleteBatchSize);

    /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'startRow'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
    SweepTableResponse sweepPreviouslyConservativeNowThoroughTable(
            @QueryParam("tablename") String tableName,
            @QueryParam("startRow") Optional<String> startRow,
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fullSweep'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @QueryParam("tablename") String tableName,
            @QueryParam("startRow") Optional<String> startRow,
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maxCellTsPairsToExamine'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @QueryParam("startRow") Optional<String> startRow,
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
            @Safe @QueryParam("deleteBatchSize") Optional<Integer> deleteBatchSize);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'candidateBatchSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @Safe @QueryParam("fullSweep") Optional<Boolean> fullSweep,
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
            @Safe @QueryParam("deleteBatchSize") Optional<Integer> deleteBatchSize);
}
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'deleteBatchSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperService.java`
#### Snippet
```java
            @Safe @QueryParam("maxCellTsPairsToExamine") Optional<Integer> maxCellTsPairsToExamine,
            @Safe @QueryParam("candidateBatchSize") Optional<Integer> candidateBatchSize,
            @Safe @QueryParam("deleteBatchSize") Optional<Integer> deleteBatchSize);
}

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'progress'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/TableToSweep.java`
#### Snippet
```java
    }

    private TableToSweep(TableReference tableRef, SingleLockService sweepLock, Optional<SweepProgress> progress) {
        this.tableRef = tableRef;
        this.sweepLock = sweepLock;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fullSweep'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperServiceImpl.java`
#### Snippet
```java

    private SweepResults runSweep(
            Optional<Boolean> fullSweep,
            TableReference tableRef,
            byte[] decodedStartRow,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maxCellTsPairsToExamine'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperServiceImpl.java`
#### Snippet
```java

    private SweepBatchConfig buildConfigWithOverrides(
            Optional<Integer> maxCellTsPairsToExamine,
            Optional<Integer> candidateBatchSize,
            Optional<Integer> deleteBatchSize) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'candidateBatchSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperServiceImpl.java`
#### Snippet
```java
    private SweepBatchConfig buildConfigWithOverrides(
            Optional<Integer> maxCellTsPairsToExamine,
            Optional<Integer> candidateBatchSize,
            Optional<Integer> deleteBatchSize) {
        ImmutableSweepBatchConfig.Builder batchConfigBuilder =
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'deleteBatchSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperServiceImpl.java`
#### Snippet
```java
            Optional<Integer> maxCellTsPairsToExamine,
            Optional<Integer> candidateBatchSize,
            Optional<Integer> deleteBatchSize) {
        ImmutableSweepBatchConfig.Builder batchConfigBuilder =
                ImmutableSweepBatchConfig.builder().from(sweepBatchConfigSource.getAdjustedSweepConfig());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'metricsManager'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepTaskRunner.java`
#### Snippet
```java
    private final SpecialTimestampsSupplier specialTimestampsSupplier;
    private final CellsSweeper cellsSweeper;
    private final Optional<LegacySweepMetrics> metricsManager;
    private final CommitTsCache commitTsCache;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'currentTable'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    private final int threadIndex;

    private Optional<TableToSweep> currentTable = Optional.empty();

    // VisibleForTesting - used in internal test code
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeOutcome'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    }

    private void sleepUntilNextRun(Optional<SweepOutcome> maybeOutcome) throws InterruptedException {
        sleepFor(getSleepDuration(maybeOutcome));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeOutcome'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    }

    private Duration getSleepDuration(Optional<SweepOutcome> maybeOutcome) {
        return maybeOutcome
                .flatMap(outcome -> {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maybeMetrics'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
    private final TableReference tableRef;
    private final WriteInfoPartitioner partitioner;
    final Optional<TargetedSweepMetrics> maybeMetrics;

    public SweepQueueTable(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java
        }

        private void logUnlockException(Throwable th, Optional<TargetedSweeperLock> maybeLock) {
            if (maybeLock.isPresent()) {
                log.info(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java
        }

        private void logException(Throwable th, Optional<TargetedSweeperLock> maybeLock) {
            if (maybeLock.isPresent()) {
                log.warn(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'filter'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/SweepOutcomeMetrics.java`
#### Snippet
```java
            Map<String, String> additionalTags,
            Class<?> forClass,
            Optional<MetricPublicationFilter> filter) {
        return Suppliers.memoize(() -> {
            Metrics metrics = ImmutableSweepOutcomeMetrics.Metrics.builder().build();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'chosenTable'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/NextTableToSweepProvider.java`
#### Snippet
```java

    private Optional<TableToSweep> logDecision(
            Optional<TableToSweep> chosenTable,
            Map<TableReference, Double> scores,
            SweepPriorityOverrideConfig sweepPriorityOverrideConfig) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeRef'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
    private Map<Cell, byte[]> addCell(
            PartitionInfo info,
            Optional<WriteReference> writeRef,
            boolean isDedicatedRow,
            long dedicatedRowNumber,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeRef'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
    }

    private SweepableCellsColumnValue createColVal(long ts, long index, Optional<WriteReference> writeRef) {
        SweepableCellsTable.SweepableCellsColumn col = SweepableCellsTable.SweepableCellsColumn.of(tsMod(ts), index);
        return SweepableCellsColumnValue.of(col, writeReferencePersister.persist(writeRef));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'actual'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequest.java`
#### Snippet
```java
    }

    static Exception failure(CasRequest req, Optional<byte[]> actual) {
        return failureInternal(req, actual);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'actual'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequest.java`
#### Snippet
```java
    }

    private static Exception failureInternal(CasRequest req, Optional<byte[]> actual) {
        return req.rank().equals(UpdateRank.TOUCH)
                ? new CheckAndSetException(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lowerBoundTimestamp'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
     */
    private static BoundsOrMillis getBoundsForRangeScan(
            KeyValueService kvs, long timestamp, Bounds initialBounds, Optional<Long> lowerBoundTimestamp) {
        MillisAndMaybeTimestamp upperBound = ImmutableMillisAndMaybeTimestamp.builder()
                .millis(initialBounds.upper())
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'startTimestamp'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/restore/V1TransactionsTableRangeDeleter.java`
#### Snippet
```java
    public V1TransactionsTableRangeDeleter(
            KeyValueService kvs,
            OptionalLong startTimestamp,
            boolean skipStartTimestampCheck,
            OutputStateLogger stateLogger) {
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for field 'startTimestamp'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/restore/V1TransactionsTableRangeDeleter.java`
#### Snippet
```java
public class V1TransactionsTableRangeDeleter implements TransactionTableRangeDeleter {
    private final KeyValueService kvs;
    private final OptionalLong startTimestamp;
    private final boolean skipStartTimestampCheck;
    private final OutputStateLogger stateLogger;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeReference'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/WriteReferencePersister.java`
#### Snippet
```java
    }

    public StoredWriteReference persist(Optional<WriteReference> writeReference) {
        if (writeReference.isEmpty()) {
            return DUMMY;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'commitInfo'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    default CommitUpdate toCommitUpdate(
            LockWatchVersion startVersion, LockWatchVersion endVersion, Optional<CommitInfo> commitInfo) {
        if (clearCache()) {
            return CommitUpdate.invalidateAll();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'commitRequestId'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    final class LockEventVisitor implements LockWatchEvent.Visitor<Set<LockDescriptor>> {
        private final Optional<UUID> commitRequestId;

        private LockEventVisitor(Optional<LockToken> commitLocksToken) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'commitLocksToken'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java
        private final Optional<UUID> commitRequestId;

        private LockEventVisitor(Optional<LockToken> commitLocksToken) {
            commitRequestId = commitLocksToken
                    .filter(lockToken -> lockToken instanceof LeasedLockToken)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    default TransactionsLockWatchUpdate toTransactionsLockWatchUpdate(
            TimestampMapping timestampMapping, Optional<LockWatchVersion> lastKnownVersion) {
        /*
         Case 1: client is behind earliest transaction. Therefore we want to ensure that there are events present for
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeStartVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/VersionedEventStore.java`
#### Snippet
```java
    }

    Collection<LockWatchEvent> getEventsBetweenVersionsInclusive(Optional<Long> maybeStartVersion, long endVersion) {
        Optional<Long> startVersion = maybeStartVersion.or(this::getFirstKey).filter(version -> version <= endVersion);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'earliestSequenceToKeep'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/VersionedEventStore.java`
#### Snippet
```java
    }

    LockWatchEvents retentionEvents(Optional<Sequence> earliestSequenceToKeep) {
        if (eventMap.size() < minEvents) {
            return LockWatchEvents.builder().build();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'version'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/CacheUpdate.java`
#### Snippet
```java
    private final Optional<LockWatchVersion> version;

    CacheUpdate(boolean shouldClearCache, Optional<LockWatchVersion> version) {
        this.shouldClearCache = shouldClearCache;
        this.version = version;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'version'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/CacheUpdate.java`
#### Snippet
```java

    private final boolean shouldClearCache;
    private final Optional<LockWatchVersion> version;

    CacheUpdate(boolean shouldClearCache, Optional<LockWatchVersion> version) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'snapshotVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLockWatchSnapshot.java`
#### Snippet
```java
    private final Set<LockDescriptor> locked;
    private final EventVisitor visitor;
    private Optional<LockWatchVersion> snapshotVersion;

    static ClientLockWatchSnapshot create() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'latestVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java
    }

    default void assertNoEventsAreMissingAfterLatestVersion(Optional<LockWatchVersion> latestVersion) {
        if (events().isEmpty()) {
            return;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheValue'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionCacheValueStoreImpl.java`
#### Snippet
```java
    }

    private static CacheValue getReadValue(Optional<CacheValue> cacheValue) {
        return cacheValue.orElseThrow(() -> new SafeIllegalStateException("Reads must have a cache value present"));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'earliestSequence'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
     * that may attempt to read from both of these data structures.
     */
    void retentionEvents(Optional<Sequence> earliestSequence) {
        runWithWriteLock(() -> getLatestKnownVersion().ifPresent(version -> {
            LockWatchEvents eventsToBeRemoved = eventStore.retentionEvents(earliestSequence);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'latestVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
    private final VersionedEventStore eventStore;
    private final ReadWriteLock eventLock;
    private volatile Optional<LockWatchVersion> latestVersion = Optional.empty();

    static LockWatchEventLog create(CacheMetrics metrics, int minEvents, int maxEvents) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeUpdateVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
    }

    private synchronized void updateCurrentVersion(Optional<LockWatchVersion> maybeUpdateVersion) {
        maybeUpdateVersion
                .filter(this::shouldUpdateVersion)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'latestVersionFromUpdate'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java

    private synchronized void clearCache(
            TransactionsLockWatchUpdate updateForTransactions, Optional<LockWatchVersion> latestVersionFromUpdate) {
        LockWatchEvent firstEvent = null;
        LockWatchEvent lastEvent = null;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'currentVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
    private final SnapshotStore snapshotStore;

    private volatile Optional<LockWatchVersion> currentVersion = Optional.empty();

    private final CacheMetrics cacheMetrics;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'latestVersionFromUpdate'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java

    private void registerAllClearEventAndMaybeLog(
            Optional<LockWatchVersion> latestVersionFromUpdate, LockWatchEvent firstEvent, LockWatchEvent lastEvent) {
        cacheMetrics.increaseCacheStateAllClear();
        rateLimitedLogger.log(logger -> logger.info(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
    private static final SafeLogger perfLogger = SafeLoggerFactory.get("dualschema.perf");
    private final TimestampCache timestampCache;
    private final Optional<LockToken> immutableTimestampLock;
    private final Supplier<Long> startTimestampSupplier;
    private final Supplier<TransactionConfig> transactionConfig;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
    public CommitTimestampLoader(
            TimestampCache timestampCache,
            Optional<LockToken> immutableTimestampLock,
            Supplier<Long> startTimestampSupplier,
            Supplier<TransactionConfig> transactionConfig,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        super(metricsManager, timestampCache, () -> transactionConfig.get().retryStrategy());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'oldValue'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsStore.java`
#### Snippet
```java

    private CheckAndSetRequest getCheckAndSetRequest(
            Optional<ReadResult> oldValue, ConcludedRangeState concludedRangeState) {
        byte[] serializedTargetSet = serializeTimestampRangeSet(concludedRangeState);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeSnapshot'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java
    }

    private long getLatestTsSeenSoFar(Set<Long> batch, Optional<PatchyCache> maybeSnapshot) {
        long latestTsRequested = batch.stream().max(Comparator.naturalOrder()).orElse(0L);
        long latestTsSeenSoFar = latestTsRequested;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeSnapshot'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java

    private PatchyCache refreshPatchyCache(
            Optional<PatchyCache> maybeSnapshot, long latestTsSeenSoFar, Bucket latestBucketSeenSoFar) {
        PatchyCache refreshedPatchyCache;

```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'value'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaMetadataState.java`
#### Snippet
```java
    }

    public static InternalSchemaMetadataState of(Optional<ValueAndBound<InternalSchemaMetadata>> value) {
        return value.map(InternalSchemaMetadataState::of)
                .orElseGet(() -> ImmutableInternalSchemaMetadataState.builder().build());
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'valueAndBound'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/ReadOnlyTransactionSchemaManager.java`
#### Snippet
```java

    private static Optional<Integer> extractTimestampVersion(
            Optional<ValueAndBound<InternalSchemaMetadata>> valueAndBound, long timestamp) {
        return valueAndBound
                .flatMap(ValueAndBound::value)
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'timestampMap'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/metrics/MetadataCoordinationServiceMetrics.java`
#### Snippet
```java
    }

    private static Integer getVersionAtTimestamp(Optional<TimestampPartitioningMap<Integer>> timestampMap, long bound) {
        return timestampMap.map(map -> map.getValueForTimestamp(bound)).orElse(null);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'valueAndBound'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java

    private static Optional<Integer> extractTimestampVersion(
            Optional<ValueAndBound<InternalSchemaMetadata>> valueAndBound, long timestamp) {
        return valueAndBound
                .flatMap(ValueAndBound::value)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-remoting-api/src/main/java/com/palantir/atlasdb/http/TargetFactory.java`
#### Snippet
```java
public interface TargetFactory {
    <T> InstanceAndVersion<T> createProxy(
            Optional<TrustContext> trustContext, String uri, Class<T> type, AuxiliaryRemotingParameters parameters);

    /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'protocolVersion'
in `atlasdb-remoting-api/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpProtocolVersion.java`
#### Snippet
```java
    }

    public static AtlasDbHttpProtocolVersion inferFromString(Optional<String> protocolVersion) {
        return protocolVersion.map(KNOWN_VERSION_STRINGS::get).orElse(LEGACY_OR_UNKNOWN);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTsLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            SweepStrategyManager sweepStrategyManager,
            long immutableTimestamp,
            Optional<LockToken> immutableTsLock,
            PreCommitCondition preCommitCondition,
            AtlasDbConstraintCheckingMode constraintCheckingMode,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'conflictHandler'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManager.java`
#### Snippet
```java
    Transaction createNewTransaction();

    void overrideConflictHandlerForTable(TableReference table, Optional<ConflictHandler> conflictHandler);

    void setUnreadableTimestamp(long timestamp);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'unreadableTs'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java
    private final WrapperWithTracker<CallbackAwareTransaction> transactionWrapper;
    private final WrapperWithTracker<KeyValueService> keyValueServiceWrapper;
    private Optional<Long> unreadableTs = Optional.empty();

    @SuppressWarnings("Indentation") // Checkstyle complains about lambda in constructor.
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'migrateFrom'
in `leader-election-impl/src/main/java/com/palantir/paxos/SplittingPaxosStateLog.java`
#### Snippet
```java
            Persistable.Hydrator<V> hydrator,
            LegacyOperationMarkers legacyOperationMarkers,
            OptionalLong migrateFrom) {
        String logDirectory = params.fileBasedLogDirectory()
                .orElseThrow(() -> new SafeIllegalStateException("We currently need to have file-based storage"));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java
    @VisibleForTesting
    PersistedRateLimitingLeadershipPrioritiser(
            Optional<OrderableSlsVersion> timeLockVersion,
            Supplier<Duration> leadershipAttemptBackoff,
            GreenNodeLeadershipAttemptHistory greenNodeLeadershipAttemptHistory,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java

    public static PersistedRateLimitingLeadershipPrioritiser create(
            Optional<OrderableSlsVersion> timeLockVersion,
            Supplier<Duration> leadershipAttemptBackoff,
            DataSource sqliteDataSource) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java
    private static final RateLimitedLogger logger = new RateLimitedLogger(log, 1.0 / 60);

    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final Supplier<Duration> leadershipAttemptBackoff;
    private final GreenNodeLeadershipAttemptHistory greenNodeLeadershipAttemptHistory;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'migrateFrom'
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorImpl.java`
#### Snippet
```java
            PaxosStorageParameters params,
            SplittingPaxosStateLog.LegacyOperationMarkers legacyOperationMarkers,
            Optional<Long> migrateFrom) {
        PaxosStateLog<PaxosAcceptorState> stateLog = SplittingPaxosStateLog.createWithMigration(
                params,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        super(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        TransactionManager transactionManager = new SerializableTransactionManager(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        return create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        return create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        return create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableLockToken'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    private static final class TransactionOptions {
        private PreCommitCondition condition = PreCommitConditions.NO_OP;
        private Optional<LockToken> immutableLockToken = Optional.empty();

        public TransactionOptions withCondition(PreCommitCondition newCondition) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/leader/LocalPingableLeader.java`
#### Snippet
```java
    private final PaxosLearner knowledge;
    private final String localUuid;
    private final Optional<OrderableSlsVersion> timeLockVersion;

    public LocalPingableLeader(PaxosLearner knowledge, UUID localUuid) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'leadershipObserver'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java
    private final String leaderId;
    private final LeadershipEvents events;
    private final Optional<LeadershipObserver> leadershipObserver;

    @GuardedBy("this")
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'observer'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java

    @VisibleForTesting
    PaxosLeadershipEventRecorder(LeadershipEvents events, String leaderUuid, Optional<LeadershipObserver> observer) {
        this.events = events;
        this.leaderId = leaderUuid;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'paxosValue'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private static long getNextSequenceNumber(Optional<PaxosValue> paxosValue) {
        return paxosValue.map(PaxosValue::getRound).orElse(PaxosAcceptor.NO_LOG_ENTRY) + 1;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeGreatestLearnedValue'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private static Optional<UUID> extractLeaderUuid(Optional<PaxosValue> maybeGreatestLearnedValue) {
        return maybeGreatestLearnedValue.map(PaxosValue::getLeaderUUID).map(UUID::fromString);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private void proposeLeadershipAfter(Optional<PaxosValue> value) {
        lock.lock();
        try {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'greatestLearned'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
     * @return true if new state was learned, otherwise false
     */
    private boolean updateLearnedStateFromPeers(Optional<PaxosValue> greatestLearned) {
        final long nextToLearnSeq = getNextSequenceNumber(greatestLearned);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
        }

        static LeadershipState of(Optional<PaxosValue> value, StillLeadingStatus status) {
            return ImmutableLeadershipState.of(value, status);
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeGreatestLearnedValue'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private LeaderPingResult pingLeader(Optional<PaxosValue> maybeGreatestLearnedValue) {
        Optional<LeaderPingResult> maybeLeaderPingResult =
                extractLeaderUuid(maybeGreatestLearnedValue).map(leaderPinger::pingLeaderWithUuid);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'valueIfAny'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private boolean isLatestRound(Optional<PaxosValue> valueIfAny) {
        return valueIfAny.equals(knowledge.getGreatestLearnedValue());
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private StillLeadingStatus determineLeadershipStatus(Optional<PaxosValue> value) {
        return value.map(this::determineLeadershipStatus)
                .map(Futures::getUnchecked)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'recentlyPingedLeaderHost'
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java

    private NotCurrentLeaderException notCurrentLeaderException(
            Optional<HostAndPort> recentlyPingedLeaderHost, String message, @Nullable Throwable cause) {
        return recentlyPingedLeaderHost
                .map(hostAndPort -> new NotCurrentLeaderException(message, cause, hostAndPort))
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID localUuid,
            boolean cancelRemainingCalls,
            Optional<OrderableSlsVersion> timeLockVersion) {
        GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser = new RateLimitedGreenNodeLeadershipPrioritiser();
        return new SingleLeaderPinger(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final UUID localUuid;
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    }

    private static boolean isAtLeastOurVersion(PingResult pingResult, Optional<OrderableSlsVersion> timeLockVersion) {
        return (pingResult.timeLockVersion().isPresent() && timeLockVersion.isPresent())
                ? VersionComparator.INSTANCE.compare(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID uuid,
            @Nullable Future<Map.Entry<LeaderPingerContext<PingableLeader>, PingResult>> pingFuture,
            Optional<OrderableSlsVersion> timeLockVersion,
            BooleanSupplier shouldGreeningNodeBecomeLeader) {
        if (pingFuture == null) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID localUuid,
            boolean cancelRemainingCalls,
            Optional<OrderableSlsVersion> timeLockVersion) {
        GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser =
                PersistedRateLimitingLeadershipPrioritiser.create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID localUuid,
            boolean cancelRemainingCalls,
            Optional<OrderableSlsVersion> timeLockVersion,
            GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser) {
        this.leaderPingExecutors = otherPingableExecutors;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    protected final long immutableTimestamp;
    protected final Optional<LockToken> immutableTimestampLock;
    private final PreCommitCondition preCommitCondition;
    protected final long timeCreated = System.currentTimeMillis();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            SweepStrategyManager sweepStrategyManager,
            long immutableTimestamp,
            Optional<LockToken> immutableTimestampLock,
            PreCommitCondition preCommitCondition,
            AtlasDbConstraintCheckingMode constraintCheckingMode,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'oldValue'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java

    private CheckAndSetResult<SequenceAndBound> getFailedResultWithMostRecentValueAndBound(
            Optional<SequenceAndBound> oldValue, SequenceAndBound newValue) {
        Optional<SequenceAndBound> actualValue = getCoordinationValue();
        if (!actualValue.isPresent()) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
        }

        static <T> CoordinationStoreState<T> of(long sequence, long bound, Optional<T> value) {
            return ImmutableCoordinationStoreState.<T>builder()
                    .sequence(sequence)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'learnedValue'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java

    // This method is only used for paxos rounds run for timestamp consensus (leader paxos rounds are strictly ignored).
    private static byte[] getPaxosValueData(Optional<PaxosValue> learnedValue) {
        return learnedValue.map(PaxosValue::getData).orElse(null);
    }
```

## RuleId[ruleID=CharsetObjectCanBeUsed]
### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java
        try {
            for (String line :
                    Files.readLines(new File("../scripts/benchmarks/servers.txt"), Charset.forName("UTF-8"))) {
                if (line.startsWith("CLIENT")) {
                    String hostname = StringUtils.split(line, '=')[1];
```

## RuleId[ruleID=SystemOutErr]
### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-api/src/main/java/com/palantir/atlasdb/versions/AtlasDbVersion.java`
#### Snippet
```java

    public static String ensureVersionReported() {
        return ensureVersionReported(System.out);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/output/OutputPrinter.java`
#### Snippet
```java
        String infoMessage = MessageFormatter.arrayFormat(message, args).getMessage();
        logger.info(message, (Object[]) args);
        System.out.println(infoMessage);
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/output/OutputPrinter.java`
#### Snippet
```java
        String errorMessage = MessageFormatter.arrayFormat(message, args).getMessage();
        logger.error(message, (Object[]) args);
        System.err.println(errorMessage);
    }
}
```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/output/OutputPrinter.java`
#### Snippet
```java
        String warnMessage = MessageFormatter.arrayFormat(message, args).getMessage();
        logger.warn(message, (Object[]) args);
        System.err.println(warnMessage);
    }

```

### SystemOutErr
Uses of `System.err` should probably be replaced with more robust logging
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SingleBackendCommand.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Exception encountered when running CLI", e);
            System.err.println(String.format("Exception encountered when running CLI: %s", e));
            throw Throwables.rewrapAndThrowUncheckedException(e);
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/ScrubQueueMigrationCommand.java`
#### Snippet
```java
                !truncateOldQueue || batchSize == null,
                "Truncating the old scrub queue and specifying a batch size are mutually exclusive options.");
        PrintWriter output = new PrintWriter(System.out, true, StandardCharsets.UTF_8);
        if (truncateOldQueue) {
            services.getKeyValueService().truncateTable(AtlasDbConstants.OLD_SCRUB_TABLE);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/MinimalReportFormatForTest.java`
#### Snippet
```java

public final class MinimalReportFormatForTest implements OutputFormat {
    private static final PrintStream out = System.out;

    private static final MinimalReportFormatForTest INSTANCE = new MinimalReportFormatForTest();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java

    private static void listAllBenchmarks() {
        getAllBenchmarks().forEach(System.out::println);
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/StdoutTracingTransaction.java`
#### Snippet
```java
    @FormatMethod
    protected void trace(@FormatString String format, Object... args) {
        System.out.println(String.format(format, args)); // (authorized)
    }
}
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            + " \n"
            + "See http://docs.groovy-lang.org/latest/html/documentation/#_groovysh_the_groovy_shell for details.";
        System.out.println(prependMessage); // (authorized)
    }

```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            System.exit(execute(cli));
        } catch (ParseException e) {
            System.out.println("Invalid command line - " + e.getMessage()); // (authorized)
            new HelpFormatter().printHelp("atlasDBConsole", OPTIONS, true);
            System.exit(1); // (authorized)
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            System.exit(1); // (authorized)
        } catch (IOException e) {
            System.out.println("Invalid script file input - " + e.getMessage()); // (authorized)
            System.exit(1); // (authorized)
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
        @Override
        public Object call() {
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
        public Object call() {
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
            return null;
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            String topic = (String) param;
            if (help.containsKey(topic)) {
                System.out.println("\n" + help.get(topic) + "\n"); // (authorized)
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
                System.out.println("\n" + help.get(topic) + "\n"); // (authorized)
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
                System.out.println("Call help(\'topic\') to view information on a topic, " + // (authorized)
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
                System.out.println("Call help(\'topic\') to view information on a topic, " + // (authorized)
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
            }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/MetricsOutput.java`
#### Snippet
```java
    public void printToStdOut() {
        try {
            System.out.println(new ObjectMapper()
                    .enable(SerializationFeature.INDENT_OUTPUT)
                    .writeValueAsString(output));
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/ete/Gradle.java`
#### Snippet
```java
    protected void before() throws Throwable {
        if (isRunningOutsideOfGradle()) {
            System.out.println("It looks like you are not running in gradle,"
                    + " performing the required gradle command: " + command); // (authorized)
            gradle();
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/ete/Gradle.java`
#### Snippet
```java
            gradle();
        } else {
            System.out.println("You are running in gradle," + " allowing gradle task dependencies to make sure "
                    + command + " is run"); // (authorized)
        }
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/ete/Gradle.java`
#### Snippet
```java
                    .start();
            try (InputStream processInputStream = process.getInputStream()) {
                IOUtils.copy(processInputStream, System.out);
            }
            assertThat(process.waitFor()).isEqualTo(0);
```

### SystemOutErr
Uses of `System.out` should probably be replaced with more robust logging
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java
    protected void printResults(Map<String, Object> results) {
        try {
            System.out.println(MAPPER.writeValueAsString(results));
        } catch (JsonProcessingException e) {
            throw new RuntimeException(e);
```

## RuleId[ruleID=DynamicRegexReplaceableByCompiledPattern]
### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    @SuppressWarnings("StringSplitter") // Legacy code, uncertainty of full implications of change
    public static String qualifyFields(String fieldList, String tableName) {
        String fields[] = fieldList.split("\\s*,\\s*"); // $NON-NLS-1$
        StringBuilder out = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
     */
    public static int countFields(String fieldList) {
        return fieldList.split("\\s*,\\s*").length; // $NON-NLS-1$
    }

```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    @SuppressWarnings("StringSplitter") // Legacy code, uncertainty of full implications of change
    public static String generateUpdateString(String fieldList) {
        String fields[] = fieldList.split("\\s*,\\s*"); // $NON-NLS-1$
        StringBuilder out = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/timer/SqlStatsSqlTimer.java`
#### Snippet
```java
        final TimingState timingState;
        if (LoggerFactory.getLogger("com.palantir.nexus.db.SQL").isTraceEnabled()) {
            String sql = rawSql.replaceAll("[\n]+", "");
            String msg = System.currentTimeMillis() + "\tSQL\t" + module + "\t" + sql;
            timingState = timer.begin(msg);
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/ColumnSelection.java`
#### Snippet
```java
    public static ColumnSelection valueOf(String serialized) {
        Set<byte[]> columns = new TreeSet<>(UnsignedBytes.lexicographicalComparator());
        for (String columnString : serialized.split("\\s*,\\s*")) {
            String trimmedColumnString = columnString.trim();
            if (trimmedColumnString.isEmpty()) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    static String fillInQuery(String query, Object[] argArr) {
        for (Object x : argArr) {
            query = query.replaceFirst("\\Q?\\E", x.toString()); // $NON-NLS-1$
        }
        return query;
```

### DynamicRegexReplaceableByCompiledPattern
`matches()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresVersionCheck.java`
#### Snippet
```java
    public static void checkDatabaseVersion(String version, Logger log) {
        boolean checkPasses =
                version.matches("^[\\.0-9]+$") && VersionStrings.compareVersions(version, MIN_POSTGRES_VERSION) >= 0;
        if (VersionStrings.compareVersions(version, "9.5") >= 0
                && VersionStrings.compareVersions(version, "9.5.2") < 0) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexComponent.java`
#### Snippet
```java
            return dynamicColCode + ".get" + Renderers.CamelCase(dynamicColumnComponentName) + "()";
        } else {
            return codeToAccessValue.replaceAll("_value", columnCode);
        }
    }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexCondition.java`
#### Snippet
```java

    public String getValueCode(String columnCode) {
        return booleanExpression.replaceAll("_value", columnCode);
    }
}
```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
    public String getVarArgParameterFromList(String separator, int requiredArgs) {
        Preconditions.checkArgument(isListType());
        String nonListType = getType().replaceFirst("List<", "").replaceAll(">$", "");
        StringBuilder s = new StringBuilder();
        for (int i = 0; i < requiredArgs; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
    public String getVarArgParameterFromList(String separator, int requiredArgs) {
        Preconditions.checkArgument(isListType());
        String nonListType = getType().replaceFirst("List<", "").replaceAll(">$", "");
        StringBuilder s = new StringBuilder();
        for (int i = 0; i < requiredArgs; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
    public String getListFromVarArgParameter(int requiredArgs) {
        Preconditions.checkArgument(isListType());
        StringBuilder s = new StringBuilder(type.replaceFirst("List<", "ImmutableList.<"));
        s.append("builder()");
        for (int i = 0; i < requiredArgs; i++) {
```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
    public String getNonListType() {
        Preconditions.checkArgument(isListType());
        return type.replaceFirst("List<", "").replaceAll(">$", "");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
    public String getNonListType() {
        Preconditions.checkArgument(isListType());
        return type.replaceFirst("List<", "").replaceAll(">$", "");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/ServerListConfigs.java`
#### Snippet
```java
    public static ServerListConfig namespaceUris(ServerListConfig config, String namespace) {
        Set<String> serversWithNamespaces = config.servers().stream()
                .map(serverAddress -> serverAddress.replaceAll("/$", "") + "/" + namespace)
                .collect(Collectors.toSet());
        return ImmutableServerListConfig.builder()
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java

    public static String[] splitStackTrace(String traces) {
        String[] split = traces.split("\n\\s*\n");
        if (split.length == 1) {
            split = traces.split("\r\\s*\r");
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        String[] split = traces.split("\n\\s*\n");
        if (split.length == 1) {
            split = traces.split("\r\\s*\r");
        }
        if (split.length == 1) {
```

### DynamicRegexReplaceableByCompiledPattern
`split()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        }
        if (split.length == 1) {
            split = traces.split("\r\n\\s*\r\n");
        }
        List<String> filteredTraces = new ArrayList<>();
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        List<String> filteredTraces = new ArrayList<>();
        for (String trace : split) {
            if (!trace.replaceAll("\\s", "").isEmpty()) {
                filteredTraces.add(trace + "\r\r");
            }
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            String result = currentToken;
            // Need to clean-up result to remove quotes of any kind
            result = result.replaceAll("\"|'", "");
            nextToken();
            return result;
```

### DynamicRegexReplaceableByCompiledPattern
`replaceAll()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    private String replaceBracesWithStringFormatSpecifier(String msg) {
        return msg.replaceAll("\\{\\}", "%s");
    }

```

### DynamicRegexReplaceableByCompiledPattern
`replaceFirst()` could be replaced with compiled 'java.util.regex.Pattern' construct
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/TableReference.java`
#### Snippet
```java
            return createWithEmptyNamespace(tableName);
        }
        return createUnsafe(tableName.replaceFirst("__", "."));
    }

```

## RuleId[ruleID=NonProtectedConstructorInAbstractClass]
### NonProtectedConstructorInAbstractClass
Constructor `SQL()` of an abstract class should not be declared 'public'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
    }

    public SQL(ExecutorService selectStatementExecutor, ExecutorService executeStatementExecutor) {
        super(selectStatementExecutor, executeStatementExecutor);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `SQL()` of an abstract class should not be declared 'public'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
 */
public abstract class SQL extends BasicSQL {
    public SQL() {
        super();
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractAgnosticResultRow()` of an abstract class should not be declared 'public'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @SuppressWarnings("BadAssert") // performance sensitive asserts
    public AbstractAgnosticResultRow(DBType type, Map<String, Integer> cmap) {
        dbType = type;
        columnMap = cmap;
```

### NonProtectedConstructorInAbstractClass
Constructor `ResourceSharer()` of an abstract class should not be declared 'public'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceSharer.java`
#### Snippet
```java
    private int refs = 0;

    public ResourceSharer(ResourceType<R, E> type) {
        this.type = type;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `BasicSQL()` of an abstract class should not be declared 'public'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    private ExecutorService executeStatementExecutor;

    public BasicSQL() {
        this(DEFAULT_SELECT_EXECUTOR.get(), DEFAULT_EXECUTE_EXECUTOR.get());
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `BasicSQL()` of an abstract class should not be declared 'public'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
     * Management of the life-cycle of these executors is left to the user.
     */
    public BasicSQL(ExecutorService selectStatementExecutor, ExecutorService executeStatementExecutor) {
        this.selectStatementExecutor = selectStatementExecutor;
        this.executeStatementExecutor = executeStatementExecutor;
```

### NonProtectedConstructorInAbstractClass
Constructor `Renderer()` of an abstract class should not be declared 'public'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/Renderer.java`
#### Snippet
```java
    }

    public Renderer(Renderer parent) {
        this.builder = parent.builder;
        this.indent = parent.indent;
```

### NonProtectedConstructorInAbstractClass
Constructor `Renderer()` of an abstract class should not be declared 'public'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/Renderer.java`
#### Snippet
```java
    private final AtomicInteger indent;

    public Renderer() {
        this.builder = new StringBuilder();
        this.indent = new AtomicInteger();
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractTaskCheckpointer()` of an abstract class should not be declared 'public'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/AbstractTaskCheckpointer.java`
#### Snippet
```java
    protected final TransactionManager txManager;

    public AbstractTaskCheckpointer(TransactionManager txManager) {
        this.txManager = txManager;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractKeyValueService()` of an abstract class should not be declared 'public'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueService.java`
#### Snippet
```java
     * value service is closed.
     */
    public AbstractKeyValueService(ExecutorService executor) {
        this.executor = executor;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `JacksonPersister()` of an abstract class should not be declared 'public'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/persister/JacksonPersister.java`
#### Snippet
```java
    private final ObjectMapper mapper;

    public JacksonPersister(Class<T> typeRef, ObjectMapper mapper) {
        this.typeRef = typeRef;
        this.mapper = mapper;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractPoolingContainer()` of an abstract class should not be declared 'public'
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java
     * @param itemsToPool must be at least 1
     */
    public AbstractPoolingContainer(int itemsToPool) {
        if (itemsToPool == Integer.MAX_VALUE) {
            pool = new ConcurrentLinkedQueue<T>();
```

### NonProtectedConstructorInAbstractClass
Constructor `BufferedDelegateInputStream()` of an abstract class should not be declared 'public'
in `atlasdb-commons/src/main/java/com/palantir/common/compression/BufferedDelegateInputStream.java`
#### Snippet
```java
    private int bufferSize;

    public BufferedDelegateInputStream(InputStream delegate, int bufferLength) {
        Preconditions.checkArgument(bufferLength >= 0, "buffer size must be greater than or equal to zero");
        this.delegate = delegate;
```

### NonProtectedConstructorInAbstractClass
Constructor `ResultsExtractor()` of an abstract class should not be declared 'public'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ResultsExtractor.java`
#### Snippet
```java
    protected final MetricsManager metricsManager;

    public ResultsExtractor(MetricsManager metricsManager) {
        this.metricsManager = metricsManager;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractDbKvsKeyValueServiceTest()` of an abstract class should not be declared 'public'
in `atlasdb-dbkvs-tests/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/AbstractDbKvsKeyValueServiceTest.java`
#### Snippet
```java
            "ThisShouldAlwaysBeAVeryLongTableNameThatExceedsPostgresLengthLimit";

    public AbstractDbKvsKeyValueServiceTest(KvsManager kvsManager) {
        super(kvsManager);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `SweepQueueTable()` of an abstract class should not be declared 'public'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
    final Optional<TargetedSweepMetrics> maybeMetrics;

    public SweepQueueTable(
            KeyValueService kvs,
            TableReference tableRef,
```

### NonProtectedConstructorInAbstractClass
Constructor `WrappingTransactionManager()` of an abstract class should not be declared 'public'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    private final TransactionManager delegate;

    public WrappingTransactionManager(TransactionManager delegate) {
        this.delegate = delegate;
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractSweepTaskRunnerTest()` of an abstract class should not be declared 'public'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
    protected final AtomicLong sweepTimestamp = new AtomicLong();

    public AbstractSweepTaskRunnerTest(KvsManager kvsManager, TransactionManagerManager tmManager) {
        super(kvsManager, tmManager);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `WrappingTestTransactionManager()` of an abstract class should not be declared 'public'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTestTransactionManager.java`
#### Snippet
```java
    private final TestTransactionManager delegate;

    public WrappingTestTransactionManager(TestTransactionManager delegate) {
        super(delegate);
        this.delegate = delegate;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractSerializableTransactionTest()` of an abstract class should not be declared 'public'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    private static final byte[] BYTES_TWO = PtBytes.toBytes("b");

    public AbstractSerializableTransactionTest(KvsManager kvsManager, TransactionManagerManager tmManager) {
        super(kvsManager, tmManager);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractKeyValueServiceTest()` of an abstract class should not be declared 'public'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    }

    public AbstractKeyValueServiceTest(KvsManager kvsManager, UnaryOperator<KeyValueService> keyValueServiceWrapper) {
        this.kvsManager = kvsManager;
        this.keyValueServiceWrapper = keyValueServiceWrapper;
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractTransactionTest()` of an abstract class should not be declared 'public'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
            BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 3);

    public AbstractTransactionTest(KvsManager kvsManager, TransactionManagerManager tmManager) {
        super(kvsManager, tmManager);
    }
```

### NonProtectedConstructorInAbstractClass
Constructor `AbstractRangeScanBenchmark()` of an abstract class should not be declared 'public'
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractRangeScanBenchmark.java`
#### Snippet
```java
    protected final int batchSize;

    public AbstractRangeScanBenchmark(
            int numClients, int requestsPerClient, TransactionManager txnManager, int dataSize, int numRows) {
        super(numClients, requestsPerClient);
```

## RuleId[ruleID=TestCaseWithConstructor]
### TestCaseWithConstructor
Initialization logic in constructor `AbstractSweepProgressStoreTest()` instead of 'setup()' life cycle method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/progress/AbstractSweepProgressStoreTest.java`
#### Snippet
```java
    private SweepProgressStore progressStore;

    protected AbstractSweepProgressStoreTest(KvsManager kvsManager) {
        this.kvsManager = kvsManager;
    }
```

### TestCaseWithConstructor
Initialization logic in constructor `AbstractMultiCasTest()` instead of 'setup()' life cycle method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractMultiCasTest.java`
#### Snippet
```java
    private KeyValueService kvs;

    public AbstractMultiCasTest(KvsManager kvsManager) {
        this.kvsManager = kvsManager;
    }
```

### TestCaseWithConstructor
Initialization logic in constructor `AbstractGetCandidateCellsForSweepingTest()` instead of 'setup()' life cycle method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractGetCandidateCellsForSweepingTest.java`
#### Snippet
```java
    private KeyValueService kvs;

    protected AbstractGetCandidateCellsForSweepingTest(KvsManager kvsManager) {
        this.kvsManager = kvsManager;
    }
```

### TestCaseWithConstructor
Initialization logic in constructor `AbstractSweepTest()` instead of 'setup()' life cycle method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
    public static InMemoryTimeLockRule services = new InMemoryTimeLockRule();

    protected AbstractSweepTest(KvsManager kvsManager, TransactionManagerManager tmManager) {
        this.kvsManager = kvsManager;
        this.tmManager = tmManager;
```

### TestCaseWithConstructor
Initialization logic in constructor `AbstractKeyValueServiceTest()` instead of 'setup()' life cycle method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    }

    public AbstractKeyValueServiceTest(KvsManager kvsManager, UnaryOperator<KeyValueService> keyValueServiceWrapper) {
        this.kvsManager = kvsManager;
        this.keyValueServiceWrapper = keyValueServiceWrapper;
```

### TestCaseWithConstructor
Initialization logic in constructor `AbstractKeyValueServiceTest()` instead of 'setup()' life cycle method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    protected KeyValueService keyValueService;

    protected AbstractKeyValueServiceTest(KvsManager kvsManager) {
        this(kvsManager, UnaryOperator.identity());
    }
```

## RuleId[ruleID=AssignmentToMethodParameter]
### AssignmentToMethodParameter
Assignment to method parameter `clobLen`
in `commons-db/src/main/java/com/palantir/sql/Clobs.java`
#### Snippet
```java
            if (clobLen < 0) {
                // then we have to ask Oracle
                clobLen = clob.length();
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `blobLength`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
            if (blobLength < 0) {
                // then we need to ask Oracle what it is
                blobLength = (int) Blobs.length(contentBlob);
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `blobLength`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
            if (blobLength < 0) {
                // then we need to ask Oracle what it is
                blobLength = (int) Blobs.length(contentBlob);
            }

```

### AssignmentToMethodParameter
Assignment to method parameter `query`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    static String fillInQuery(String query, Object[] argArr) {
        for (Object x : argArr) {
            query = query.replaceFirst("\\Q?\\E", x.toString()); // $NON-NLS-1$
        }
        return query;
```

### AssignmentToMethodParameter
Assignment to method parameter `sqlName`
in `commons-api/src/main/java/com/palantir/util/sql/SqlStats.java`
#### Snippet
```java

        if (sqlName == null) {
            sqlName = getNameForUnregisteredQuery(rawSql);
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `num`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/ArrayLockEventSlidingWindow.java`
#### Snippet
```java

    private int incrementAndMod(int num) {
        num++;
        return num >= maxSize ? num % maxSize : num;
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `numberRanges`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/UniformRowNamePartitioner.java`
#### Snippet
```java
        int highestOne = Integer.highestOneBit(numberRanges);
        if (highestOne != numberRanges) {
            numberRanges = highestOne * 2;
        }
        switch (valueType) {
```

### AssignmentToMethodParameter
Assignment to method parameter `components`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexMetadata.java`
#### Snippet
```java

    private static ColumnMetadataDescription getCellReferencingIndexColumn(List<NameComponentDescription> components) {
        components = ImmutableList.<NameComponentDescription>builder()
                .add(NameComponentDescription.of("row_name", ValueType.SIZED_BLOB))
                .add(NameComponentDescription.of("column_name", ValueType.SIZED_BLOB))
```

### AssignmentToMethodParameter
Assignment to method parameter `lastWasUnderscore`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/Renderers.java`
#### Snippet
```java
                }
            }
            lastWasUnderscore = ch == '_';
        }
        return sb.toString();
```

### AssignmentToMethodParameter
Assignment to method parameter `varName`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java

    public String getHydrateCode(String varName) {
        varName = composeVarName(varName);

        if (format == Format.PERSISTABLE) {
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static byte[] decodeFlippedSizedBytes(byte[] bytes, int offset) {
        int len = (int) decodeFlippedVarLong(bytes, offset);
        offset += sizeOfVarLong(len);
        return Arrays.copyOfRange(flipAllBitsInPlace(bytes, offset, len), offset, offset + len);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static String decodeFlippedVarString(byte[] bytes, int offset) {
        int len = (int) decodeFlippedVarLong(bytes, offset);
        offset += sizeOfVarLong(len);
        return PtBytes.toString(flipAllBitsInPlace(bytes, offset, len), offset, len);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `size`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
            ret[0] = (byte) 0xff;
            end = 1;
            size -= 8;
        }
        ret[end] = (byte) ((0xff << (9 - size)) & 0xff);
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        while (index-- > end) {
            ret[index] |= (byte) ((int) value & 0xff);
            value >>>= 8;
        }
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static byte[] decodeSizedBytes(byte[] bytes, int offset) {
        int len = (int) decodeVarLong(bytes, offset);
        offset += sizeOfVarLong(len);
        return Arrays.copyOfRange(bytes, offset, offset + len);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `flipByte`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        boolean isNegative = ((encoded[offset] ^ flipByte) & 0x80) == 0;
        if (isNegative) {
            flipByte ^= -1;
        }
        int first = encoded[offset] ^ flipByte;
```

### AssignmentToMethodParameter
Assignment to method parameter `offset`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static String decodeVarString(byte[] bytes, int offset) {
        int len = (int) decodeVarLong(bytes, offset);
        offset += sizeOfVarLong(len);
        return PtBytes.toString(bytes, offset, len);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `b`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
            EncodingType encodingType = types.get(i);
            if (lastDesc ^ encodingType.getOrder() == ValueByteOrder.DESCENDING) {
                b = EncodingUtils.flipAllBits(b, index);
                index = 0;
                lastDesc = !lastDesc;
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java

    public static int sizeOfSignedVarLong(long value) {
        value ^= (value >> 63);
        value <<= 1;
        return sizeOfVarLong(value);
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static int sizeOfSignedVarLong(long value) {
        value ^= (value >> 63);
        value <<= 1;
        return sizeOfVarLong(value);
    }
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        final boolean negative = value < 0;
        int size = sizeOfSignedVarLong(value);
        value ^= (value >> 63);
        byte[] ret = new byte[size];
        encodeVarLongForSize(value, ret, size + 1);
```

### AssignmentToMethodParameter
Assignment to method parameter `batchSize`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitableFromIterable.java`
#### Snippet
```java
         * it's not too big.
         */
        batchSize = Math.min(batchSize, MAX_BATCH_SIZE);
        for (List<T> list : Iterables.partition(iterable, batchSize)) {
            if (!v.visit(list)) {
```

### AssignmentToMethodParameter
Assignment to method parameter `batchSizeHint`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                    throws K {
                if (batchSizeHint > limit) {
                    batchSizeHint = (int) limit;
                }
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
```

### AssignmentToMethodParameter
Assignment to method parameter `numToVisitArg`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        if (numToVisitArg == Integer.MAX_VALUE) {
            // prevent issue with overflow
            numToVisitArg--;
        }

```

### AssignmentToMethodParameter
Assignment to method parameter `toDeleteInclusive`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
            if (greatestLogEntry >= 0) {
                // We never want to remove our most recent entry
                toDeleteInclusive = Math.min(greatestLogEntry - 1, toDeleteInclusive);
            }
            File dir = new File(path);
```

### AssignmentToMethodParameter
Assignment to method parameter `string`
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
        public Token fromString(String string) {
            if (string.length() % 2 == 1) {
                string = "0" + string;
            }
            return new AtlasBytesToken(Hex.hexToBytes(string));
```

### AssignmentToMethodParameter
Assignment to method parameter `token`
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
            try {
                if (token.length() % 2 == 1) {
                    token = "0" + token;
                }
                Hex.hexToBytes(token);
```

### AssignmentToMethodParameter
Assignment to method parameter `size`
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
            ret[0] = (byte) 0xff;
            end = 1;
            size -= 8;
        }
        ret[end] = (byte) ((0xff << (9 - size)) & 0xff);
```

### AssignmentToMethodParameter
Assignment to method parameter `value`
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
        while (index-- > end) {
            ret[index] |= (byte) ((int) value & 0xff);
            value >>>= 8;
        }
    }
```

## RuleId[ruleID=PrimitiveArrayArgumentToVariableArgMethod]
### PrimitiveArrayArgumentToVariableArgMethod
Confusing primitive array argument to varargs method
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/generation/ColumnValues.java`
#### Snippet
```java
        try {
            Method parseMethod = clazz.getMethod("parseFrom", byte[].class);
            return (T) parseMethod.invoke(null, msg);
        } catch (Exception e) {
            throw Throwables.throwUncheckedException(e);
```

## RuleId[ruleID=SynchronizationOnLocalVariableOrMethodParameter]
### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `sync`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        Optional<LockClient> writeHolder;
        boolean isFrozen;
        synchronized (sync) {
            readHolders = sync.getReadClients();
            writeHolder = sync.getWriteClient();
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `printwriter`
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java

    private static void printStackTrace(PrintWriter printwriter, StackTraceElement elements[]) {
        synchronized (printwriter) {
            for (int i = 0; i < elements.length; i++) {
                printwriter.println("\tat " + elements[i]);
```

## RuleId[ruleID=ReturnNull]
### ReturnNull
Return of `null`
in `examples/profile-client/src/main/java/com/palantir/example/profile/ProfileStore.java`
#### Snippet
```java
        Long photoId = getPhotoStreamId(userId);
        if (photoId == null) {
            return null;
        }
        UserPhotosStreamStore streamStore = UserPhotosStreamStore.of(txnMgr, tables);
```

### ReturnNull
Return of `null`
in `examples/profile-client/src/main/java/com/palantir/example/profile/ProfileStore.java`
#### Snippet
```java
        Map<UserProfileRow, UserProfile> result = table.getMetadatas(ImmutableSet.of(UserProfileRow.of(userId)));
        if (result.isEmpty()) {
            return null;
        } else {
            return Iterables.getOnlyElement(result.values());
```

### ReturnNull
Return of `null`
in `examples/profile-client/src/main/java/com/palantir/example/profile/ProfileStore.java`
#### Snippet
```java
        Map<UserProfileRow, Long> result = table.getPhotoStreamIds(ImmutableSet.of(UserProfileRow.of(userId)));
        if (result.isEmpty()) {
            return null;
        } else {
            return Iterables.getOnlyElement(result.values());
```

### ReturnNull
Return of `null`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
                        .build();
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
            LockClient client = tryLock();
            if (client != null && sync.tryAcquireNanos(clientIndex, unit.toNanos(time))) {
                return null;
            }
            return client;
```

### ReturnNull
Return of `null`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
                synchronized (sync) {
                    if (sync.tryAcquire(clientIndex)) {
                        return null;
                    }
                    LockClient lockHolder = sync.getLockHolder();
```

### ReturnNull
Return of `null`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
            LockClient client = tryLock();
            if (client != null && sync.tryAcquireSharedNanos(clientIndex, unit.toNanos(time))) {
                return null;
            }
            return client;
```

### ReturnNull
Return of `null`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
                synchronized (sync) {
                    if (sync.tryAcquireShared(clientIndex) > 0) {
                        return null;
                    }
                    LockClient lockHolder = sync.getLockHolder();
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/sql/ResultSets.java`
#### Snippet
```java
            final InputStream binaryStream = rs.getBinaryStream(col);
            if (binaryStream == null) {
                return null;
            }
            if (binaryStream instanceof ByteArrayInputStream) {
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
                IOUtils.closeQuietly(is);
            }
            return null;
        } else if (is.getLength() <= Integer.MAX_VALUE) {
            if (DBType.getTypeFromConnection(c) == DBType.POSTGRESQL
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
            }
            PreparedStatements.setBinaryStream(ps, i, is, (int) is.getLength());
            return null;
        } else {
            DBType dbType = DBType.getTypeFromConnection(c);
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
        } else if (obj instanceof ArrayHandler) {
            setOracleStructArray(c, ps, i, (ArrayHandler) obj);
            return null;
        } else {
            return super.setObject(c, ps, i, obj);
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
    protected String convertReaderToString(final InputStreamReader reader) throws PalantirSqlException {
        if (reader == null) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
    protected Double getDoubleObject(int col) throws PalantirSqlException {
        if (columns.get(col) == null) {
            return null;
        }
        return Double.valueOf((double) getLong(col));
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
    protected String getNullableString(int col) {
        Object obj = columns.get(col);
        return (obj != null) ? String.valueOf(obj) : null;
    }

```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
    protected String getClobString(int col, int clobLength) throws PalantirSqlException {
        if (dbType == DBType.ORACLE || dbType == DBType.H2_MEMORY) {
            return columns.get(col) == null ? null : Clobs.getString((Clob) columns.get(col), clobLength);
        } else if (dbType == DBType.POSTGRESQL) {
            return (String) columns.get(col);
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
    protected Long getLongObject(int col) throws PalantirSqlException {
        if (columns.get(col) == null) {
            return null;
        }
        return Long.valueOf(getLong(col));
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
        if (dbType == DBType.ORACLE) {
            return ResultSets.getObject(results, col) == null
                    ? null
                    : Clobs.getString((Clob) ResultSets.getObject(results, col), clobLength);
        } else if (dbType == DBType.POSTGRESQL || dbType == DBType.H2_MEMORY) {
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    protected Double getDoubleObject(int col) throws PalantirSqlException {
        if (ResultSets.getObject(results, col) == null) {
            return null;
        }
        return getDouble(col);
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
        Object rawObj = ResultSets.getObject(results, col);
        if (rawObj == null) {
            return null;
        }
        //		return new DateTime(ResultSets.getTimestamp(col), extractDateTimeZone(rawObj));
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    protected Long getLongObject(int col) throws PalantirSqlException {
        if (ResultSets.getObject(results, col) == null) {
            return null;
        }
        return getLong(col);
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceTypes.java`
#### Snippet
```java
                            if (args.length == 0 && method.getName().equals("close")) {
                                onClose.close();
                                return null;
                            }
                            try {
```

### ReturnNull
Return of `null`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/encoding/PtBytes.java`
#### Snippet
```java
    public static byte[] tail(final byte[] arr, final int length) {
        if (arr.length < length) {
            return null;
        }
        byte[] result = new byte[length];
```

### ReturnNull
Return of `null`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/encoding/PtBytes.java`
#### Snippet
```java
    public static String toString(final byte[] arr, int off, int len) {
        if (arr == null) {
            return null;
        }
        if (len == 0) {
```

### ReturnNull
Return of `null`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/encoding/PtBytes.java`
#### Snippet
```java
    public static String toString(final byte[] arr) {
        if (arr == null) {
            return null;
        }
        return toString(arr, 0, arr.length);
```

### ReturnNull
Return of `null`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/encoding/PtBytes.java`
#### Snippet
```java
    public static byte[] head(final byte[] arr, final int length) {
        if (arr.length < length) {
            return null;
        }
        byte[] result = new byte[length];
```

### ReturnNull
Return of `null`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            PreparedStatements.setObject(ps, i, obj);
        }
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequests.java`
#### Snippet
```java
                }
            }
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                "lock() only supports LockGroupBehavior.LOCK_ALL_OR_NONE. Consider using lockAndGetHeldLocks().");
        LockResponse result = lockWithFullLockResponse(LockClient.of(client), request);
        return result.success() ? result.getLockRefreshToken() : null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/ConsecutiveNarrowTable.java`
#### Snippet
```java
                    Map<Cell, byte[]> values = Tables.generateContinuousBatch(table.getRandom(), 0, table.getNumRows());
                    txn.put(table.getTableRef(), values);
                    return null;
                }));
    }
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/StreamingTable.java`
#### Snippet
```java

            txn.put(table.getTableRef(), ColumnValues.toCellValues(rows));
            return null;
        });
        return streamId;
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/WideRowTable.java`
#### Snippet
```java
            }
            txn.put(this.tableRef, values);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/WideRowsTable.java`
#### Snippet
```java
            }
            txn.put(this.tableRef, values);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/RegeneratingTable.java`
#### Snippet
```java
            getTransactionManager().runTaskThrowOnConflict(txn -> {
                txn.put(getTableRef(), batch);
                return null;
            });
            cells = batch.keySet();
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/RegeneratingTable.java`
#### Snippet
```java
                    getTransactionManager().runTaskThrowOnConflict(txn -> {
                        txn.put(getTableRef(), batch);
                        return null;
                    });
                }
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/RegeneratingTable.java`
#### Snippet
```java
            getTransactionManager().runTaskThrowOnConflict(txn -> {
                txn.put(getTableRef(), batch);
                return null;
            });
            cells = batch.keySet();
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/AbstractWideRowsTable.java`
#### Snippet
```java
            }
            txn.put(getTableRef(), values);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/WideRowTableWithAbortedValues.java`
#### Snippet
```java
            }
            txn.put(this.tableRef, values);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/ConnectionDbTypes.java`
#### Snippet
```java
                        "Could not determine database type from connection with driver name {}",
                        SafeArg.of("driverName", driverName));
                return null;
            }
        } catch (SQLException e) {
```

### ReturnNull
Return of `null`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/ConnectionDbTypes.java`
#### Snippet
```java
        } catch (SQLException e) {
            log.error("Could not determine database type from connection.", e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncResult.java`
#### Snippet
```java
                errorHandler.accept(error);
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncResult.java`
#### Snippet
```java
                timeoutHandler.run();
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
                    request.oldValue().get(),
                    request.newValue());
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
                }
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
                }
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/LeaderElectionDurationAccumulator.java`
#### Snippet
```java
            LeadersContext context, SoakingDuration accumulatedSoakingDuration, Duration duration) {
        if (alreadyReportedLeaderElections.contains(context)) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/LeaderElectionDurationAccumulator.java`
#### Snippet
```java
            alreadyReportedLeaderElections.add(context);
            updateConsumer.accept(updatedDuration.sampleMinimum());
            return null;
        }

```

### ReturnNull
Return of `null`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/timestamp/LeadershipGuardedClientAwareManagedTimestampService.java`
#### Snippet
```java
            // election, but that's fine to help us get out of this race condition.)
            delegate.fastForwardTimestamp(currentTimestamp);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/SuppressedException.java`
#### Snippet
```java
    @Override
    public synchronized Throwable fillInStackTrace() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
            return (Descriptor) method.invoke(null);
        } catch (NoSuchMethodException e) {
            return null;
        } catch (Exception e) {
            throw Throwables.throwUncheckedException(e);
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/GeneralTaskCheckpointer.java`
#### Snippet
```java
                t.put(checkpointTable, values);
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TransactionRangeMigrator.java`
#### Snippet
```java
        byte[] start = getCheckpoint(rangeId, writeT);
        if (start == null) {
            return null;
        }
        RangeRequest.Builder builder = range.getBuilder().startRowInclusive(start);
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TransactionRangeMigrator.java`
#### Snippet
```java
        RangeRequest.Builder builder = range.getBuilder().startRowInclusive(start);
        if (builder.isInvalidRange()) {
            return null;
        }
        RangeRequest rangeToUse = builder.build();
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TransactionRangeMigrator.java`
#### Snippet
```java
        txManager.runTaskWithRetry(transaction -> {
            logStatus(transaction, numRangeBoundaries);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
        txManager.runTaskWithRetry(transaction -> {
            logStatus(transaction, numRangeBoundaries);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
        byte[] start = getCheckpoint(rangeId, writeT);
        if (start == null) {
            return null;
        }
        RangeRequest.Builder builder = range.getBuilder().startRowInclusive(start);
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
        RangeRequest.Builder builder = range.getBuilder().startRowInclusive(start);
        if (builder.isInvalidRange()) {
            return null;
        }
        RangeRequest rangeToUse = builder.build();
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
        Map<Sha256Hash, Long> hashToId = lookupStreamIdsByHash(tx, Sets.newHashSet(hash));
        if (hashToId.isEmpty()) {
            return null;
        }
        return Iterables.getOnlyElement(hashToId.entrySet()).getValue();
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
                    txnMgr.runTaskReadOnly(txn -> {
                        loadNBlocksToOutputStream(txn, id, firstBlock, numBlocks, destination);
                        return null;
                    });
                }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
                (Supplier<Object>) () -> {
                    runnable.run();
                    return null;
                },
                logger);
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                table.remove(new Key(e.getKey(), e.getValue()));
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                            new Key(cell, delete.maxTimestampToDelete()), true)
                    .clear());
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                }
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                }
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                throw tableMappingException(tableRef);
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                table.put(new Key(cell, Value.INVALID_VALUE_TIMESTAMP), ArrayUtils.EMPTY_BYTE_ARRAY);
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static Long decodeFlippedNullableFixedLong(byte[] value, int offset) {
        if (value[offset] == -1) {
            return null;
        } else {
            return Long.MAX_VALUE ^ PtBytes.toLong(value, offset + 1);
```

### ReturnNull
Return of `null`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static Long decodeNullableFixedLong(byte[] value, int offset) {
        if (value[offset] == 0) {
            return null;
        } else {
            return Long.MIN_VALUE ^ PtBytes.toLong(value, offset + 1);
```

### ReturnNull
Return of `null`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java
        JsonNode root = node.at(JsonPointer.valueOf(configRoot));
        if (root.isMissingNode()) {
            return null;
        }
        return root;
```

### ReturnNull
Return of `null`
in `timelock-agent/src/main/java/com/palantir/timelock/store/SqliteBlobStore.java`
#### Snippet
```java
        execute(dao -> {
            dao.putBlob(useCase.getShortName(), blob);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
        } catch (final Exception e) {
            log.warn("Failed to register mbean for name {}", UnsafeArg.of("name", objectName), e);
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
                log.trace("Cache miss (not cached) on {}", UnsafeArg.of("key", key));
            }
            return null;
        }

```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
            }
            cacheEntries.remove(key);
            return null;
        }

```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java

    private V safeValue(CacheEntry<V> entry) {
        return (entry != null) ? entry.getValue() : null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IteratorUtils.java`
#### Snippet
```java
    public static <T> Iterator<T> wrap(final Iterator<? extends T> iterator) {
        if (iterator == null) {
            return null;
        }
        return new ForwardingIterator<T>() {
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/EmptyQueue.java`
#### Snippet
```java
    @Override
    public E poll() {
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/EmptyQueue.java`
#### Snippet
```java
    @Override
    public E peek() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/persist/Persistables.java`
#### Snippet
```java
            int modifiers = field.getModifiers();
            if (!Modifier.isPublic(modifiers) || !Modifier.isStatic(modifiers) || !Modifier.isFinal(modifiers)) {
                return null;
            }
            return (Hydrator<T>) field.get(null);
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/persist/Persistables.java`
#### Snippet
```java
            return (Hydrator<T>) field.get(null);
        } catch (NoSuchFieldException e) {
            return null;
        } catch (Exception e) {
            throw Throwables.throwUncheckedException(e);
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableUtils.java`
#### Snippet
```java
    public static <T> Iterable<T> wrap(final Iterable<? extends T> iterable) {
        if (iterable == null) {
            return null;
        }
        return new Iterable<T>() {
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
        ListenableFuture<Round> done() {
            return FluentFuture.from(future)
                    .catching(Throwable.class, thrown -> null, MoreExecutors.directExecutor())
                    .transform(x -> next, MoreExecutors.directExecutor());
        }
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
        return command -> executor.execute(() -> deferredTracer.withTrace(() -> {
            command.run();
            return null;
        }));
    }
```

### ReturnNull
Return of `null`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    public static <T, S extends T> BatchingVisitable<T> wrap(final BatchingVisitable<S> visitable) {
        if (visitable == null) {
            return null;
        }
        return new BatchingVisitable<T>() {
```

### ReturnNull
Return of `null`
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
            return null;
        }

```

### ReturnNull
Return of `null`
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
            }
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/CoalescingRequestConsumer.java`
#### Snippet
```java
    default Map<REQUEST, Void> apply(Set<REQUEST> input) {
        accept(input);
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                clientPool.runWithRetry(client -> {
                    client.remove("deleteRange", tableRef, row, timestamp, DELETE_CONSISTENCY);
                    return null;
                });
            } catch (RetryLimitReachedException e) {
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
            clientPool.runWithRetry(client -> {
                client.batch_mutate("deleteRows", mutationMap, DELETE_CONSISTENCY);
                return null;
            });
        } catch (RetryLimitReachedException e) {
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                // Done with actual schema mutation, push the metadata
                put(AtlasDbConstants.DEFAULT_METADATA_TABLE, newMetadata, System.currentTimeMillis());
                return null;
            });
        } catch (Exception e) {
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBackupRunner.java`
#### Snippet
```java
                            SafeArg.of("currentBound", PtBytes.toLong(currentBound)));
                }
                return null;
            }

```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBackupRunner.java`
#### Snippet
```java
                    "[RESTORE] Restored the value {}",
                    SafeArg.of("currentBackupBound", PtBytes.toLong(currentBackupBound)));
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableCreator.java`
#### Snippet
```java
                            "adding the column family for table " + entry.getKey() + " in a call to create tables");
                }
                return null;
            });
        } catch (Exception e) {
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoader.java`
#### Snippet
```java
                    }
                }
                return null;
            }

```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
            clientPool.run(client -> {
                waitForSchemaVersions(config.schemaMutationTimeoutMillis(), client, " during an initialization check");
                return null;
            });
        } catch (Exception e) {
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableDropper.java`
#### Snippet
```java
                    }
                }
                return null;
            });
        } catch (Exception e) {
```

### ReturnNull
Return of `null`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/DistributionOutlierController.java`
#### Snippet
```java
                        .collect(Collectors.toList());
                if (gaugeValues.isEmpty()) {
                    return null;
                }
                return gaugeValues.stream()
```

### ReturnNull
Return of `null`
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/todo/TodoClient.java`
#### Snippet
```java
            latestSnapshotTable.putStreamId(row, newStreamId);

            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
                                + "completes.",
                        SafeArg.of("sweepStrategy", tag.get(AtlasDbMetricNames.TAG_STRATEGY)));
                return null;
            }
            long timeBeforeRecomputing = System.currentTimeMillis();
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
                        SafeArg.of("timestamp", shardAndTs.timestamp()),
                        SafeArg.of("lastKnownPunchEntry", lastKnown));
                return null;
            }
            lastMillisAndTsPerShard.put(shardAndTs.shard(), millisAndMaybeTs);
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceValidator.java`
#### Snippet
```java

        if (rrs1.isEmpty()) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceValidator.java`
#### Snippet
```java
        byte[] lastRow = rrs1.get(rrs1.size() - 1).getRowName();
        if (RangeRequests.isLastRowName(lastRow)) {
            return null;
        }
        return RangeRequests.nextLexicographicName(lastRow);
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/SimpleCommitTimestampAtomicTable.java`
#### Snippet
```java
                presentValues -> KeyedStream.stream(startTsToCell)
                        .map(presentValues::get)
                        .map(value -> value == null ? null : value.getContents())
                        .map(encodingStrategy::decodeValueAsCommitStatus)
                        .collectToMap(),
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
                    CompactMetadataTable.CompactMetadataRow.of(tableToCompact), System.currentTimeMillis());

            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
        runWithReadLock(() -> {
            processSuccessInternal(success);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/InstrumentedTimelockService.java`
#### Snippet
```java
        executeWithRecord(() -> {
            timelockService.tryUnlock(tokens);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/ShouldNotDeleteAndRollbackTransaction.java`
#### Snippet
```java
        @Override
        public List<Runnable> shutdownNow() {
            return null;
        }

```

### ReturnNull
Return of `null`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/TransactionKvsWrapper.java`
#### Snippet
```java
            return TransactionConstants.getTimestampForValue(returnMap.get(cell).getContents());
        } else {
            return null;
        }
    }
```

### ReturnNull
Return of `null`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosStateLogs.java`
#### Snippet
```java
        long least = log.getLeastLogEntry();
        if (greatestValid == PaxosAcceptor.NO_LOG_ENTRY) {
            return null;
        }

```

### ReturnNull
Return of `null`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosStateLogs.java`
#### Snippet
```java
        }

        return null;
    }
}
```

### ReturnNull
Return of `null`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/http/JepsenLockClient.java`
#### Snippet
```java

    default TOKEN refreshSingle(TOKEN token) throws InterruptedException {
        return token == null ? null : Iterables.getOnlyElement(refresh(ImmutableSet.of(token)), null);
    }
}
```

### ReturnNull
Return of `null`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/EventVisitor.java`
#### Snippet
```java

    default T visit(FailEvent event) {
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/EventVisitor.java`
#### Snippet
```java

    default T visit(OkEvent event) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/EventVisitor.java`
#### Snippet
```java

    default T visit(InvokeEvent event) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/EventVisitor.java`
#### Snippet
```java
public interface EventVisitor<T> {
    default T visit(InfoEvent event) {
        return null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
                    Collection<Cell> sentinelsToAdd = invocationOnMock.getArgument(2);
                    sweptCells.add(new ArrayList<>(sentinelsToAdd));
                    return null;
                })
                .when(cellsSweeper)
```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        }
        fail("failed to completely sweep a table in 100 runs");
        return null; // should never be reached
    }

```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
        callWithExceptionHandling(() -> {
            rocksDB.dropColumnFamily(availableColumnFamilies.get(handle.id()));
            return null;
        });
        availableColumnFamilies.remove(handle.id());
```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionTestSetup.java`
#### Snippet
```java
        return valueBytes != null
                ? Pair.create(PtBytes.toString(valueBytes.getContents()), valueBytes.getTimestamp())
                : null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionTestSetup.java`
#### Snippet
```java
                                .values())
                .get(cell);
        return valueBytes != null ? PtBytes.toString(valueBytes) : null;
    }

```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionTestSetup.java`
#### Snippet
```java
        Map<Cell, byte[]> map = txn.get(tableRef, ImmutableSet.of(cell));
        byte[] valueBytes = map.get(cell);
        return valueBytes != null ? PtBytes.toString(valueBytes) : null;
    }

```

### ReturnNull
Return of `null`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
            lock.readLock().unlock();
        }
        return null;
    }
}
```

### ReturnNull
Return of `null`
in `leader-election-impl/src/main/java/com/palantir/paxos/LeaderPingResult.java`
#### Snippet
```java
        return () -> {
            runnable.run();
            return null;
        };
    }
```

### ReturnNull
Return of `null`
in `leader-election-impl/src/main/java/com/palantir/paxos/LeaderPingResult.java`
#### Snippet
```java
        return t -> {
            consumer.accept(t);
            return null;
        };
    }
```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
        Cell cell = Cell.create(row.getBytes(StandardCharsets.UTF_8), column.getBytes(StandardCharsets.UTF_8));
        Value val = kvs.get(TABLE_NAME, ImmutableMap.of(cell, ts)).get(cell);
        return val == null ? null : new String(val.getContents(), StandardCharsets.UTF_8);
    }

```

### ReturnNull
Return of `null`
in `leader-election-impl/src/main/java/com/palantir/paxos/SqlitePaxosStateLog.java`
#### Snippet
```java
            OptionalLong greatestLogEntry = dao.getGreatestLogEntry(namespace, useCase);
            greatestLogEntry.ifPresent(toDeleteInclusive -> dao.truncate(namespace, useCase, toDeleteInclusive));
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                            TableReference.createFromFullyQualifiedName("i.amrandom" + UUID.randomUUID())))
                    .isFalse();
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        manager.runTaskThrowOnConflict(tx -> {
            tx.put(TEST_TABLE_SERIALIZABLE, ImmutableMap.of(CELL_ONE, BYTES_ONE));
            return null;
        });

```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                            TEST_TABLE_SERIALIZABLE, ImmutableMap.of(CELL_ONE, BYTES_ONE), commitTimestamp - 1);
                    transactionService.putUnlessExists(commitTimestamp - 1, commitTimestamp + 1);
                    return null;
                }))
                .isInstanceOf(TransactionSerializableConflictException.class)
```

### ReturnNull
Return of `null`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
            tx.put(TEST_TABLE_SERIALIZABLE, ImmutableMap.of(CELL_ONE, BYTES_ONE));
            tx.get(TEST_TABLE_SERIALIZABLE, ImmutableSet.of(CELL_ONE));
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `commons-executors-api/src/main/java/com/palantir/common/concurrent/ExecutorInheritableThreadLocal.java`
#### Snippet
```java
     */
    protected T initialValue() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `commons-executors-api/src/main/java/com/palantir/common/concurrent/ExecutorInheritableThreadLocal.java`
#### Snippet
```java
    private T unwrapNull(Object ret) {
        if (ret == NullWrapper.INSTANCE) {
            return null;
        } else {
            return (T) ret;
```

### ReturnNull
Return of `null`
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
            isClosed = true;
            leadershipStateManager.close();
            return null;
        }

```

### ReturnNull
Return of `null`
in `atlasdb-processors-tests/src/main/java/com/palantir/processors/TestInterfaceImpl.java`
#### Snippet
```java
    @Override
    public TestInterface delegate() {
        return null;
    }

```

### ReturnNull
Return of `null`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/TransactionWriteBenchmarkContended.java`
#### Snippet
```java
            }

            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/TransactionWriteBenchmarkContended.java`
#### Snippet
```java
            BlobsSerializableTable table = tableFactory.getBlobsSerializableTable(txn);
            originalValuesByKey.forEach((key, value) -> table.putData(BlobsSerializableRow.of(key), value));
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractWriteTransactionBenchmark.java`
#### Snippet
```java
        txnManager.runTaskWithRetry(txn -> {
            writeValues(txn, allValues);
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/TransactionReadRowsBenchmark.java`
#### Snippet
```java
                table.putData(BlobsRow.of(key), RandomBytes.ofLength(dataSize));
            }
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractRangeScanBenchmark.java`
#### Snippet
```java
            Metadata metadata = new Metadata(bucket);
            table.putData(MetadataTable.MetadataRow.of(getKeyForParameters()), serialize(metadata));
            return null;
        });
    }
```

### ReturnNull
Return of `null`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractRangeScanBenchmark.java`
#### Snippet
```java

                writeValues(txn, values);
                return null;
            });

```

## RuleId[ruleID=UnnecessaryLocalVariable]
### UnnecessaryLocalVariable
Local variable `name` is redundant
in `commons-api/src/main/java/com/palantir/util/sql/SqlStats.java`
#### Snippet
```java

    private String getNameForUnregisteredQuery(String rawSql) {
        String name = namesByUnregisteredSql.computeIfAbsent(
                rawSql,
                k -> String.format(
```

### UnnecessaryLocalVariable
Local variable `results` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            Iterator<Map<Sha256Hash, Integer>> batches,
            Map<Sha256Hash, Integer> columnCountByRowHash) {
        Iterator<Iterator<Map.Entry<Cell, Value>>> results = new AbstractIterator<Iterator<Map.Entry<Cell, Value>>>() {
            private Sha256Hash lastRowHashInPreviousBatch = null;
            private byte[] lastColumnInPreviousBatch = null;
```

### UnnecessaryLocalVariable
Local variable `result` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java
            checkOpen();
            C condition = conditionSupplier.get();
            T result = runTaskWithConditionThrowOnConflict(condition, task);
            return result;
        });
```

### UnnecessaryLocalVariable
Local variable `kt` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
    public static <K extends Throwable> void throwIfInstance(Throwable t, Class<K> clazz) throws K {
        if (clazz.isInstance(t)) {
            K kt = (K) t;
            throw kt;
        }
```

### UnnecessaryLocalVariable
Local variable `wrapped` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
        if (clazz.isInstance(t)) {
            K kt = (K) t;
            K wrapped = Throwables.rewrap(newMessage, kt);
            throw wrapped;
        }
```

### UnnecessaryLocalVariable
Local variable `rowName` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

    private static CellWithTimestamp getCellFromKeylessRow(CqlRow row, byte[] key) {
        byte[] rowName = key;
        byte[] columnName = row.getColumns().get(0).getValue();
        long timestamp = extractTimestamp(row, 1);
```

### UnnecessaryLocalVariable
Local variable `javaSupplier` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    default <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            com.google.common.base.Supplier<C> guavaSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        Supplier<C> javaSupplier = guavaSupplier;
        return runTaskWithConditionWithRetry(javaSupplier, task);
    }
```

### UnnecessaryLocalVariable
Local variable `javaSupplier` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
            com.google.common.base.Supplier<LockRequest> guavaSupplier, LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException, LockAcquisitionException {
        Supplier<LockRequest> javaSupplier = guavaSupplier;
        return runTaskWithLocksWithRetry(javaSupplier, task);
    }
```

### UnnecessaryLocalVariable
Local variable `javaSupplier` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
            LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException, LockAcquisitionException {
        Supplier<LockRequest> javaSupplier = guavaSupplier;
        return runTaskWithLocksWithRetry(lockTokens, javaSupplier, task);
    }
```

### UnnecessaryLocalVariable
Local variable `threadFactory` is redundant
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
    @SuppressWarnings("ThreadPriorityCheck") // Used internally
    public static ThreadFactory newThreadFactory(final String prefix, final int priority, final boolean isDaemon) {
        ThreadFactory threadFactory = new ThreadFactory() {
            private final AtomicInteger nextThreadId = new AtomicInteger();

```

### UnnecessaryLocalVariable
Local variable `scrubber` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
            Collection<Follower> followers,
            MetricsManager metricsManager) {
        Scrubber scrubber = new Scrubber(
                keyValueService,
                scrubberStore,
```

### UnnecessaryLocalVariable
Local variable `store` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsImpl.java`
#### Snippet
```java
            KnownConcludedTransactionsStore knownConcludedTransactionsStore,
            TaggedMetricRegistry taggedMetricRegistry) {
        KnownConcludedTransactionsImpl store = new KnownConcludedTransactionsImpl(
                knownConcludedTransactionsStore, KnownConcludedTransactionsMetrics.of(taggedMetricRegistry));
        return store;
```

### UnnecessaryLocalVariable
Local variable `seq` is redundant
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
                        ? Collections.max(files, nameAsLongComparator())
                        : Collections.min(files, nameAsLongComparator());
                long seq = getSeqFromFilename(file);
                return seq;
            } catch (NoSuchElementException e) {
```

### UnnecessaryLocalVariable
Local variable `rangeRequest` is redundant
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java

        // Precise test for lower-bounded
        RangeRequest rangeRequest = downbounded;
        try (ClosableIterator<RowResult<Value>> rangeResult =
                keyValueService.getRange(TEST_TABLE, rangeRequest, TEST_TIMESTAMP + 1)) {
```

### UnnecessaryLocalVariable
Local variable `localCorruptionDetector` is redundant
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/LocalCorruptionDetector.java`
#### Snippet
```java
            List<TimeLockCorruptionNotifier> corruptionNotifiers,
            LocalTimestampInvariantsVerifier timestampInvariants) {
        LocalCorruptionDetector localCorruptionDetector =
                new LocalCorruptionDetector(historyProvider, corruptionNotifiers, timestampInvariants);

```

## RuleId[ruleID=BusyWait]
### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    long sleepTimeMs = Math.min(timeUntilTokenExpiredMs, maxAllowedClockDrift.toMillis());
                    if (sleepTimeMs > 0) {
                        Thread.sleep(sleepTimeMs);
                    }
                } catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java
            } catch (RuntimeException e) {
                log.warn("An error occurred while trying to create transaction manager. Retrying...", e);
                Thread.sleep(CREATE_TRANSACTION_MANAGER_POLL_INTERVAL_SECS);
            }
        }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
                        SafeArg.of("nextImmutableTimestamp", nextImmutableTimestamp),
                        SafeArg.of("commitTimestamp", commitTimestamp));
                Thread.sleep(AtlasDbConstants.SCRUBBER_RETRY_DELAY_MILLIS);
            } catch (InterruptedException e) {
                log.error("Interrupted while waiting for immutableTimestamp to advance past commitTimestamp", e);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java
        while (!gainLeadershipBlocking()) {
            try {
                Thread.sleep(GAIN_LEADERSHIP_BACKOFF.toMillis());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

## RuleId[ruleID=PointlessBooleanExpression]
### PointlessBooleanExpression
`(ret = true) == true` can be simplified to '(ret = true)'
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static boolean isAssertEnabled() {
        boolean ret = false;
        assert (ret = true) == true;

        return ret;
```

### PointlessBooleanExpression
`capsType == false` can be simplified to '!capsType'
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        if (capsType == null) {
            return plural; // lower case
        } else if (capsType == false) {
            if (plural != null && plural.length() > 0) {
                return Character.toUpperCase(plural.charAt(0)) + plural.substring(1); // Camel Case
```

## RuleId[ruleID=UseBulkOperation]
### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
            subQueries.add(query.getQuery());
            for (Object arg : query.getArgs()) {
                args.add(arg);
            }
        }
```

## RuleId[ruleID=UnstableApiUsage]
### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java

    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java

    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java

    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }

```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `lock-api/src/main/java/com/palantir/lock/client/BatchingCommitTimestampGetter.java`
#### Snippet
```java
                .boxed()
                .collect(Collectors.toList());
        List<TransactionUpdate> transactionUpdates = Streams.zip(
                        timestamps.stream(), requests.stream(), (commitTs, batchElement) -> TransactionUpdate.builder()
                                .startTs(batchElement.argument().startTs())
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java

        private void processLockWatchUpdate(List<Long> timestamps, LockWatchStateUpdate lockWatchUpdate) {
            List<TransactionUpdate> transactionUpdates = Streams.zip(
                            timestamps.stream(),
                            pendingRequestQueue.stream(),
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    @VisibleForTesting
    Optional<LeaderElectionDuration> calculateLastLeaderElectionDuration() {
        Map<UUID, Instant> lowerBounds = ImmutableMap.copyOf(leadershipLowerBound.entrySet());
        Map<UUID, Instant> upperBounds = ImmutableMap.copyOf(leadershipUpperBound.entrySet());

```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    Optional<LeaderElectionDuration> calculateLastLeaderElectionDuration() {
        Map<UUID, Instant> lowerBounds = ImmutableMap.copyOf(leadershipLowerBound.entrySet());
        Map<UUID, Instant> upperBounds = ImmutableMap.copyOf(leadershipUpperBound.entrySet());

        Set<UUID> leaders = leadersWithBothBounds(lowerBounds, upperBounds);
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
                partitionedTimestamps.stream().mapToObj(timestamp -> TimestampAndPartition.of(timestamp, partition));

        return Streams.zip(immutableTsAndLocks, timestampAndPartitions, StartIdentifiedAtlasDbTransactionResponse::of)
                .collect(Collectors.toList());
    }
```

### UnstableApiUsage
'asMap(com.google.common.collect.SetMultimap)' is marked unstable with @Beta
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java
            String outputDir) {
        this.heldLocks = heldLocksTokenMap;
        this.outstandingLockRequests = Multimaps.asMap(outstandingLockRequestMultimap);
        this.descriptorToLockMap = descriptorToLockMap;
        this.outputDir = outputDir;
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/AwaitingLeadershipProxyBenchmark.java`
#### Snippet
```java
            futures.add(service.somethingAsync());
        }
        ListenableFuture<List<Object>> composition = Futures.allAsList(futures);
        return Futures.getUnchecked(composition);
    }
```

### UnstableApiUsage
'builderWithExpectedSize(int)' is marked unstable with @Beta
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/RowsColumnRangeBatchRequests.java`
#### Snippet
```java
        List<List<byte[]>> partitionedRows = Lists.partition(getAllRowsInOrder(batch), partitionSize);
        ImmutableList.Builder<RowsColumnRangeBatchRequest> partitions =
                ImmutableList.builderWithExpectedSize(partitionedRows.size());

        partitions.add(getFirstRequestInPartition(batch, partitionedRows.get(0)));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasRestoreResource.java`
#### Snippet
```java
                AtlasFutures.allOptionalsAsMap(inFlightRequests, MoreExecutors.newDirectExecutorService());

        return Futures.transform(
                completedRequests,
                map -> CompleteRestoreResponse.of(ImmutableSet.copyOf(map.values())),
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
    private <T> ListenableFuture<T> handleExceptions(ListenableFuture<T> future) {
        return FluentFuture.from(future)
                .catching(
                        BlockingTimeoutException.class,
                        timeout -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        NotCurrentLeaderException.class,
                        notCurrentLeader -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        TooManyRequestsException.class,
                        tooManyRequests -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        InterruptedException.class,
                        interrupted -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        RuntimeException.class,
                        runtimeException -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java
    @SuppressWarnings("ConstantConditions") // optional token is never null
    private ListenableFuture<Optional<CompletedBackup>> completeBackupAsync(InProgressBackupToken backupToken) {
        return Futures.transform(
                maybeUnlock(backupToken),
                maybeToken -> maybeToken.map(_successfulUnlock -> fetchFastForwardTimestamp(backupToken)),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java
                AtlasFutures.allOptionalsAsMap(completedBackupsPerToken, MoreExecutors.newDirectExecutorService());

        return Futures.transform(
                collatedCompletedBackups,
                map -> CompleteBackupResponse.of(ImmutableSet.copyOf(map.values())),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java
                AtlasFutures.allOptionalsAsMap(refreshResponsesPerToken, MoreExecutors.newDirectExecutorService());

        return Futures.transform(collatedRefreshResponse, this::getRefreshedTokens, MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java
    @SuppressWarnings("ConstantConditions") // Set of locks is never null
    private ListenableFuture<Optional<LockToken>> maybeUnlock(InProgressBackupToken backupToken) {
        return Futures.transform(
                timelock(backupToken.getNamespace()).unlock(ImmutableSet.of(backupToken.getLockToken())),
                singletonOrEmptySet -> getUnlockedTokenOrLogFailure(backupToken.getNamespace(), singletonOrEmptySet),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java
    private ListenableFuture<Optional<RefreshLockResponseV2>> refreshBackupAsync(InProgressBackupToken token) {
        Namespace namespace = token.getNamespace();
        return Futures.transform(
                timelock(namespace).refreshLockLeases(ImmutableSet.of(token.getLockToken())),
                Optional::of,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockResource.java`
#### Snippet
```java
    public void getFreshTimestamp(@Suspended final AsyncResponse response) {
        addJerseyCallback(
                Futures.transform(
                        timelock.getFreshTimestampsAsync(1),
                        TimestampRange::getLowerBound,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockResource.java`
#### Snippet
```java
    public void deprecatedLock(@Suspended final AsyncResponse response, IdentifiedLockRequest request) {
        addJerseyCallback(
                Futures.transform(
                        timelock.lock(request),
                        result -> result.accept(LockResponseV2.Visitor.of(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockResource.java`
#### Snippet
```java
                .build();
        addJerseyCallback(
                Futures.transform(
                        timelock.startTransactionsWithWatches(conjureRequest),
                        newResponse -> ImmutableStartTransactionResponseV4.builder()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockResource.java`
#### Snippet
```java
    public void deprecatedRefreshLockLeases(@Suspended final AsyncResponse response, Set<LockToken> tokens) {
        addJerseyCallback(
                Futures.transform(
                        timelock.refreshLockLeases(tokens),
                        RefreshLockResponseV2::refreshedTokens,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    private <T> ListenableFuture<T> refreshLocksInternal(
            String namespace, Set<LockToken> tokens, Function<RefreshLockResponseV2, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).refreshLockLeases(tokens),
                userTokenTranslator::apply,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<WaitForLocksResponse> tokenFuture =
                    forNamespace(namespace).waitForLocks(lockRequest);
            return Futures.transform(
                    tokenFuture,
                    token -> ConjureWaitForLocksResponse.of(token.wasSuccessful()),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    private <T> ListenableFuture<T> unlockInternal(
            String namespace, Set<LockToken> tokens, Function<Set<LockToken>, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).unlock(tokens), userTokenTranslator::apply, MoreExecutors.directExecutor()));
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<TimestampRange> rangeFuture =
                    forNamespace(namespace).getFreshTimestampsAsync(timestampsToRetrieve);
            return Futures.transform(rangeFuture, responseWrappingFunction::apply, MoreExecutors.directExecutor());
        });
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<LockResponseV2> tokenFuture =
                    forNamespace(namespace).lock(lockRequest);
            return Futures.transform(
                    tokenFuture,
                    token -> token.accept(Visitor.of(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<GetCommitTimestampsResponse> responseFuture =
                    getCommitTimestampsInternal(namespace, 1, request.getLastKnownVersion());
            return Futures.transform(
                    responseFuture,
                    response ->
```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @VisibleForTesting
    BlockingTimeLimitedLockService(
            CloseableLockService delegate, TimeLimiter timeLimiter, long blockingTimeLimitMillis) {
        this.delegate = delegate;
        this.timeLimiter = timeLimiter;
```

### UnstableApiUsage
'callWithTimeout(java.util.concurrent.Callable, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.TimeLimiter' marked with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
            throws InterruptedException {
        try {
            return timeLimiter.callWithTimeout(callable, blockingTimeLimitMillis, TimeUnit.MILLISECONDS);
        } catch (InterruptedException e) {
            // In this case, the thread was interrupted for some other reason, perhaps because we lost leadership.
```

### UnstableApiUsage
'com.google.common.util.concurrent.SimpleTimeLimiter' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
        // Currently maintaining existing behaviour.
        return new BlockingTimeLimitedLockService(
                lockService, SimpleTimeLimiter.create(PTExecutors.newCachedThreadPool()), blockingTimeLimitMillis);
    }

```

### UnstableApiUsage
'create(java.util.concurrent.ExecutorService)' is declared in unstable class 'com.google.common.util.concurrent.SimpleTimeLimiter' marked with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
        // Currently maintaining existing behaviour.
        return new BlockingTimeLimitedLockService(
                lockService, SimpleTimeLimiter.create(PTExecutors.newCachedThreadPool()), blockingTimeLimitMillis);
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    private final CloseableLockService delegate;
    private final TimeLimiter timeLimiter;
    private final long blockingTimeLimitMillis;

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
     * NOT guaranteed to return a consistent snapshot of the world.
     */
    private Set<LockDescriptor> calculateOpenLocks(RangeSet<LockDescriptor> watchedRanges) {
        return heldLocksCollection.locksHeld().stream()
                .flatMap(locksHeld -> locksHeld.getLocks().stream().map(AsyncLock::getDescriptor))
```

### UnstableApiUsage
'contains(C)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
        return heldLocksCollection.locksHeld().stream()
                .flatMap(locksHeld -> locksHeld.getLocks().stream().map(AsyncLock::getDescriptor))
                .filter(watchedRanges::contains)
                .collect(Collectors.toSet());
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
                    .refreshLockRefreshTokens(Collections2.transform(
                            request, token -> new LockRefreshToken(token.getTokenId(), token.getExpirationDateMs()))));
            return Futures.transform(
                    serviceTokens,
                    tokens -> ImmutableSet.copyOf(Collections2.transform(tokens, ConjureLockV1Tokens::getConjureToken)),
```

### UnstableApiUsage
'transform(com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/CumulativeLeaderPinger.java`
#### Snippet
```java

        return FluentFuture.from(hasProcessedFirstRequest.computeIfAbsent(client, $ -> SettableFuture.create()))
                .transform(
                        // lastSuccessfulResult will never be null, since the SettableFuture in the above will have been
                        // set after a ping containing the client is made.
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AcceptCoalescingFunction.java`
#### Snippet
```java
    public Map<Map.Entry<Client, PaxosProposal>, BooleanPaxosResponse> apply(
            Set<Map.Entry<Client, PaxosProposal>> request) {
        SetMultimap<Client, PaxosProposal> requests = ImmutableSetMultimap.copyOf(request);
        Map<WithSeq<Client>, BooleanPaxosResponse> results = KeyedStream.stream(delegate.accept(requests))
                .mapKeys((client, booleanResponseWithSeq) -> booleanResponseWithSeq.withNewValue(client))
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LearnCoalescingConsumer.java`
#### Snippet
```java
    @Override
    public Map<Map.Entry<Client, PaxosValue>, PaxosResponse> apply(Set<Map.Entry<Client, PaxosValue>> request) {
        SetMultimap<Client, PaxosValue> requestAsMultimap = ImmutableSetMultimap.copyOf(request);

        for (WithDedicatedExecutor<BatchPaxosLearner> remoteLearner : remoteLearners) {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
                        request.getNumTimestamps(),
                        request.getLastKnownVersion().map(this::toIdentifiedVersion));
        return Futures.transform(
                commitTimestampsResponseListenableFuture,
                response -> Maps.immutableEntry(namespace, response),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    @Override
    public ListenableFuture<LeaderTimes> leaderTimes(AuthHeader authHeader, Set<Namespace> namespaces) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(namespaces, this::getNamespacedLeaderTimes)),
                entryList -> LeaderTimes.of(ImmutableMap.copyOf(entryList)),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<LeaderTimes> leaderTimes(AuthHeader authHeader, Set<Namespace> namespaces) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(namespaces, this::getNamespacedLeaderTimes)),
                entryList -> LeaderTimes.of(ImmutableMap.copyOf(entryList)),
                MoreExecutors.directExecutor()));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
        ListenableFuture<ConjureStartTransactionsResponse> conjureStartTransactionsResponseListenableFuture =
                getServiceForNamespace(namespace).startTransactionsWithWatches(request);
        return Futures.transform(
                conjureStartTransactionsResponseListenableFuture,
                startTransactionsResponse -> Maps.immutableEntry(namespace, startTransactionsResponse),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    private ListenableFuture<Entry<Namespace, ConjureUnlockResponseV2>> unlockForSingleNamespace(
            Namespace namespace, ConjureUnlockRequestV2 request) {
        ListenableFuture<ConjureUnlockResponseV2> unlockResponseFuture = Futures.transform(
                getServiceForNamespace(namespace).unlock(toServerLockTokens(request.get())),
                response -> ConjureUnlockResponseV2.of(fromServerLockTokens(response)),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
                response -> ConjureUnlockResponseV2.of(fromServerLockTokens(response)),
                MoreExecutors.directExecutor());
        return Futures.transform(
                unlockResponseFuture,
                response -> Maps.immutableEntry(namespace, response),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<Map<Namespace, ConjureStartTransactionsResponse>> startTransactionsForClients(
            AuthHeader authHeader, Map<Namespace, ConjureStartTransactionsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> startTransactionsForSingleNamespace(e.getKey(), e.getValue()))),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
            AuthHeader authHeader, Map<Namespace, ConjureStartTransactionsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> startTransactionsForSingleNamespace(e.getKey(), e.getValue()))),
                ImmutableMap::copyOf,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<Map<Namespace, ConjureUnlockResponseV2>> unlock(
            AuthHeader authHeader, Map<Namespace, ConjureUnlockRequestV2> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> unlockForSingleNamespace(e.getKey(), e.getValue()))),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
            AuthHeader authHeader, Map<Namespace, ConjureUnlockRequestV2> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> unlockForSingleNamespace(e.getKey(), e.getValue()))),
                ImmutableMap::copyOf,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<Map<Namespace, GetCommitTimestampsResponse>> getCommitTimestampsForClients(
            AuthHeader authHeader, Map<Namespace, GetCommitTimestampsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> getCommitTimestampsForSingleNamespace(e.getKey(), e.getValue()))),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
            AuthHeader authHeader, Map<Namespace, GetCommitTimestampsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> getCommitTimestampsForSingleNamespace(e.getKey(), e.getValue()))),
                ImmutableMap::copyOf,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
        ListenableFuture<LeaderTime> leaderTimeListenableFuture =
                getServiceForNamespace(namespace).leaderTime();
        return Futures.transform(
                leaderTimeListenableFuture,
                leaderTime -> Maps.immutableEntry(namespace, leaderTime),
```

### UnstableApiUsage
'asMap(com.google.common.collect.SetMultimap)' is marked unstable with @Beta
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

        NavigableMap<byte[], NavigableMap<byte[], Set<Long>>> cellsByRow =
                Cells.breakCellsUpByRow(Multimaps.asMap(result.entries));
        if (range.isReverse()) {
            cellsByRow = cellsByRow.descendingMap();
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PrepareCoalescingFunction.java`
#### Snippet
```java
    public Map<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosPromise> apply(
            Set<Map.Entry<Client, WithSeq<PaxosProposalId>>> requestEntries) {
        SetMultimap<Client, WithSeq<PaxosProposalId>> requests = ImmutableSetMultimap.copyOf(requestEntries);

        SetMultimap<Client, WithSeq<PaxosPromise>> prepareResult = delegate.prepare(requests);
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
                int sizeIncrease = Sets.difference(request, response.entrySet()).size();
                cacheDescriptor.currentSize().addAndGet(sizeIncrease);
                offHeapCache.persistentStore.put(cacheDescriptor.handle(), ImmutableMap.copyOf(serializedRequest));
            } catch (SafeIllegalArgumentException exception) {
                // happens when a store is dropped by a concurrent call to clear
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/StreamStoreRenderer.java`
#### Snippet
```java
        Sets.class,
        Sets.SetView.class,
        CountingInputStream.class,
        Ints.class,
        ByteString.class,
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
    protected final StreamMetadata storeBlocksAndGetHashlessMetadata(
            @Nullable Transaction tx, long id, InputStream stream) {
        CountingInputStream countingStream = new CountingInputStream(stream);

        // Try to store the bytes in the stream and get length
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
    protected final StreamMetadata storeBlocksAndGetHashlessMetadata(
            @Nullable Transaction tx, long id, InputStream stream) {
        CountingInputStream countingStream = new CountingInputStream(stream);

        // Try to store the bytes in the stream and get length
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
    protected final StreamMetadata storeBlocksAndGetHashlessMetadata(
            @Nullable Transaction tx, long id, InputStream stream) {
        CountingInputStream countingStream = new CountingInputStream(stream);

        // Try to store the bytes in the stream and get length
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
            storeBlocksFromStream(tx, id, countingStream);
        } catch (IOException e) {
            long length = countingStream.getCount();
            StreamMetadata metadata = StreamMetadata.newBuilder()
                    .setStatus(Status.FAILED)
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
        }

        long length = countingStream.getCount();
        return StreamMetadata.newBuilder()
                .setStatus(Status.STORED)
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
        while (true) {
            byte[] bytesToStore = new byte[BLOCK_SIZE_IN_BYTES];
            int length = ByteStreams.read(stream, bytesToStore, 0, BLOCK_SIZE_IN_BYTES);
            // Store only relevant data if it only filled a partial block
            if (length == 0) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
    }

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
        }
        for (ReleasableCloseable<?> c : closeables) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
                return candidateBatch;
            });
            Closer closer = createCloserAndRelease(valueResults, tsResults);
            return ClosableIterators.wrap(candidates, closer);
        }
```

### UnstableApiUsage
'withRetryListener(com.github.rholder.retry.RetryListener)' is unstable because its signature references unstable interface 'com.github.rholder.retry.RetryListener' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
                .withStopStrategy(
                        failedAttempt -> shouldStopRetrying.test(Ints.checkedCast(failedAttempt.getAttemptNumber())))
                .withRetryListener(new RetryListener() {
                    @Override
                    public <V> void onRetry(Attempt<V> attempt) {
```

### UnstableApiUsage
Overridden method 'onRetry(com.github.rholder.retry.Attempt)' is declared in unstable interface 'com.github.rholder.retry.RetryListener' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
                .withRetryListener(new RetryListener() {
                    @Override
                    public <V> void onRetry(Attempt<V> attempt) {
                        logAttempt(runId, attempt, shouldStopRetrying);
                    }
```

### UnstableApiUsage
'com.github.rholder.retry.RetryListener' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
                .withStopStrategy(
                        failedAttempt -> shouldStopRetrying.test(Ints.checkedCast(failedAttempt.getAttemptNumber())))
                .withRetryListener(new RetryListener() {
                    @Override
                    public <V> void onRetry(Attempt<V> attempt) {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/CachingTransaction.java`
#### Snippet
```java
        }

        return Futures.transform(
                cellLoader.load(tableRef, toLoad),
                loadedCells -> {
```

### UnstableApiUsage
'shutdownAndAwaitTermination(java.util.concurrent.ExecutorService, long, java.util.concurrent.TimeUnit)' is marked unstable with @Beta
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/AtlasDbRuntimeConfigRefreshable.java`
#### Snippet
```java

        return new AtlasDbRuntimeConfigRefreshable(refreshable, () -> {
            if (!MoreExecutors.shutdownAndAwaitTermination(
                    executor, GRACEFUL_SHUTDOWN.toMillis(), TimeUnit.MILLISECONDS)) {
                log.warn("Executor did not terminate within graceful shutdown duration");
```

### UnstableApiUsage
'builderWithExpectedSize(int)' is marked unstable with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/TimeLockPaxosExecutors.java`
#### Snippet
```java
        int numRemotes = localAndRemotes.remotes().size();
        ImmutableMap.Builder<T, CheckedRejectionExecutorService> remoteExecutors =
                ImmutableMap.builderWithExpectedSize(numRemotes);
        for (int index = 0; index < numRemotes; index++) {
            T remote = localAndRemotes.remotes().get(index);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

        synchronized void register(Closeable closeable) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

        synchronized void register(Closeable closeable) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

        synchronized void register(Closeable closeable) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
                throw new NotCurrentLeaderException("This timelock node is being shutdown");
            } else {
                closeables.forEach(closer::register);
            }
        }
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java

            try {
                closer.close();
            } catch (IOException e) {
                log.warn("Received exceptions whilst trying to shutdown this timelock node.", e);
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockPaxosAcceptorAdapters.java`
#### Snippet
```java
        switch (paxosUseCase) {
            case LEADER_FOR_ALL_CLIENTS:
                return Streams.zip(
                                remoteClients.batchAcceptorsWithExecutors().stream(),
                                remoteClients.singleLeaderAcceptorsWithExecutors().stream(),
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockPaxosLearnerAdapters.java`
#### Snippet
```java
        switch (paxosUseCase) {
            case LEADER_FOR_ALL_CLIENTS:
                return Streams.zip(
                                remoteClients.batchLearner().stream(),
                                remoteClients.singleLeaderLearner().stream(),
```

### UnstableApiUsage
'nullOutputStream()' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
            MessageDigest digest = getMessageDigest();
            DigestInputStream digestInputStream = new DigestInputStream(is, digest);
            ByteStreams.copy(digestInputStream, ByteStreams.nullOutputStream());
            digestInputStream.close();
            return createFrom(digest);
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
    }

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
    }

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }

```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
        ListenableFuture<Round> done() {
            return FluentFuture.from(future)
                    .catching(Throwable.class, thrown -> null, MoreExecutors.directExecutor())
                    .transform(x -> next, MoreExecutors.directExecutor());
        }
```

### UnstableApiUsage
'transform(com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
            return FluentFuture.from(future)
                    .catching(Throwable.class, thrown -> null, MoreExecutors.directExecutor())
                    .transform(x -> next, MoreExecutors.directExecutor());
        }

```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
                    executor);
        }
        return Futures.transformAsync(
                present.done(),
                next -> {
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/BufferedDelegateInputStream.java`
#### Snippet
```java
     * To read from the buffer until either the end of the stream is reached
     * or {@code len} bytes have been read, use
     * {@link com.google.common.io.ByteStreams#read(InputStream, byte[], int, int)
     * ByteStreams.read}.
     */
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
        InputStream content = new DeflaterInputStream(checked, new Deflater(compressionLevel, true), bufferSize);
        List<Supplier<InputStream>> allStreams =
                ImmutableList.of(() -> header, () -> content, () -> trailerStream(counting.getCount(), crc));
        return new SequenceInputStream(Collections.enumeration(Lists.transform(allStreams, Supplier::get)));
    }
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java

        // Read a block of data from the delegate input stream.
        int bytesRead = ByteStreams.read(delegate, uncompressedBuffer, BUFFER_START, blockSize);
        if (bytesRead == 0) {
            // The delegate input stream has been exhausted, so we notify
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/StreamCompression.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            Closeables.closeQuietly(unbuffered);
            // This avoids awkward cases of us having to close many returned InputStreams in wrapping code.
            return new ThrowingInputStream(e);
```

### UnstableApiUsage
'closeQuietly(java.io.InputStream)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/StreamCompression.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            Closeables.closeQuietly(unbuffered);
            // This avoids awkward cases of us having to close many returned InputStreams in wrapping code.
            return new ThrowingInputStream(e);
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(UnknownRemoteDebuggingProxy.class);
    private final Refreshable<SafeArg<T>> safeLoggableRefreshable;
    private final RateLimiter rateLimiter;
    private final V delegate;

```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        } catch (Throwable th) {
            Throwable ex = Throwables.unwrapIfPossible(th);
            if (ex instanceof UnknownRemoteException && rateLimiter.tryAcquire()) {
                log.warn(
                        "Encountered UnknownRemoteException; logging current state of refreshable",
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        this.safeLoggableRefreshable = safeLoggableRefreshable;
        this.delegate = delegate;
        this.rateLimiter = RateLimiter.create(0.05);
    }

```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        this.safeLoggableRefreshable = safeLoggableRefreshable;
        this.delegate = delegate;
        this.rateLimiter = RateLimiter.create(0.05);
    }

```

### UnstableApiUsage
'whenAllSucceed(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
        Executor tracingExecutor = traceRestoringExecutor(executor, "AtlasFutures: allOptionalsAsMap");

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
                                .map(AtlasFutures::getDone)
```

### UnstableApiUsage
'whenAllSucceed(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
        Executor tracingExecutor = traceRestoringExecutor(executor, "AtlasFutures: allAsMap");

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
                                .map(AtlasFutures::getDone)
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockCluster.java`
#### Snippet
```java
                .collect(Collectors.toSet());

        Futures.getDone(Futures.allAsList(shutdownFutures));
    }

```

### UnstableApiUsage
'contains(C)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java

    private LockWatchInfo deriveWatchInfo(LockDescriptor lockDescriptor) {
        if (watchedRanges.contains(lockDescriptor)) {
            return LockWatchInfo.of(LockWatchInfo.State.UNLOCKED, OptionalLong.empty());
        }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
public class VersionedLockWatchStateImpl implements VersionedLockWatchState {
    private final OptionalLong version;
    private final RangeSet<LockDescriptor> watchedRanges;
    private final Map<LockDescriptor, LockWatchInfo> locks;
    private final UUID leaderId;
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
    public VersionedLockWatchStateImpl(
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
            Map<LockDescriptor, LockWatchInfo> locks,
            UUID leaderId,
```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
    private static <I, O> CoalescingRequestFunction<I, O> wrapWithTimeout(
            CoalescingRequestFunction<I, O> delegate, String safeLoggablePurpose, TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'com.google.common.util.concurrent.SimpleTimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
    private static <I, O> CoalescingRequestFunction<I, O> wrapWithTimeout(
            CoalescingRequestFunction<I, O> delegate, String safeLoggablePurpose, TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'create(java.util.concurrent.ExecutorService)' is declared in unstable class 'com.google.common.util.concurrent.SimpleTimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
    private static <I, O> CoalescingRequestFunction<I, O> wrapWithTimeout(
            CoalescingRequestFunction<I, O> delegate, String safeLoggablePurpose, TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'callWithTimeout(java.util.concurrent.Callable, java.time.Duration)' is declared in unstable interface 'com.google.common.util.concurrent.TimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        return elements -> {
            try {
                return limiter.callWithTimeout(() -> delegate.apply(elements), context.batchFunctionTimeout());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'com.google.common.util.concurrent.SimpleTimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'create(java.util.concurrent.ExecutorService)' is declared in unstable class 'com.google.common.util.concurrent.SimpleTimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'runWithTimeout(java.lang.Runnable, java.time.Duration)' is declared in unstable interface 'com.google.common.util.concurrent.TimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        return elements -> {
            try {
                limiter.runWithTimeout(() -> delegate.accept(elements), context.batchFunctionTimeout());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java

    @VisibleForTesting
    RangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> getTokenMap() {
        return cassandra.getTokenMap();
    }
```

### UnstableApiUsage
'catching(com.google.common.util.concurrent.ListenableFuture, java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
        if (asyncKeyValueService.isValid()) {
            try {
                return Futures.catching(
                        asyncKeyValueService.getAsync(tableRef, timestampByCell),
                        IllegalStateException.class,
```

### UnstableApiUsage
'asMap(com.google.common.collect.ListMultimap)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java

        ValueExtractor extractor = new ValueExtractor(metricsManager, Maps.newHashMapWithExpectedSize(result.size()));
        extractor.extractResults(Multimaps.asMap(result), startTs, ColumnSelection.all());
        return extractor.asMap();
    }
```

### UnstableApiUsage
'asMap(com.google.common.collect.ListMultimap)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoadingBatcher.java`
#### Snippet
```java
        List<Cell> cellsForCrossColumnBatching = new ArrayList<>();
        for (Map.Entry<byte[], List<Cell>> cellColumnPair :
                Multimaps.asMap(cellsByColumn).entrySet()) {
            if (shouldExplicitlyAllocateBatchToColumn(config, cellColumnPair.getValue())) {
                batches.addAll(partitionBySingleQueryLoadBatchLimit(
```

### UnstableApiUsage
'asMap(com.google.common.collect.ListMultimap)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/HostPartitioner.java`
#### Snippet
```java
            valuesByHost.putAll(host, partitionedByKey.get(key));
        }
        return Multimaps.asMap(valuesByHost);
    }
}
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java
    }

    public static List<String> tokenMap(RangeMap<LightweightOppToken, ? extends Collection<CassandraServer>> tokenMap) {
        return tokenMap.asMapOfRanges().entrySet().stream()
                .map(rangeListToHostEntry -> String.format(
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java

    public static List<String> tokenMap(RangeMap<LightweightOppToken, ? extends Collection<CassandraServer>> tokenMap) {
        return tokenMap.asMapOfRanges().entrySet().stream()
                .map(rangeListToHostEntry -> String.format(
                        "range from %s to %s is on host %s",
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/CqlClientImpl.java`
#### Snippet
```java
            } else {
                ListenableFuture<ResultSet> future = resultSet.fetchMoreResults();
                return Futures.transformAsync(future, iterate(executor, rowStreamAccumulator), executor);
            }
        };
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/CqlClientImpl.java`
#### Snippet
```java
    private <V> ListenableFuture<V> execute(
            Statement executableStatement, Executor executor, RowStreamAccumulator<V> rowStreamAccumulator) {
        return Futures.transformAsync(
                session.executeAsync(executableStatement), iterate(executor, rowStreamAccumulator), executor);
    }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/TokenRangeFetcher.java`
#### Snippet
```java
    }

    public Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenRange(String tableName) {
        KeyspaceMetadata keyspaceMetadata = cqlMetadata.getKeyspaceMetadata(namespace);
        if (keyspaceMetadata == null) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/TokenRangeFetcher.java`
#### Snippet
```java

        Set<LightweightOppToken> partitionTokens = getPartitionTokens(tableMetadata);
        Map<InetSocketAddress, RangeSet<LightweightOppToken>> tokenRangesByNode = ClusterMetadataUtils.getTokenMapping(
                CassandraServersConfigs.getCqlHosts(cassandraServersConfig), cqlMetadata, namespace, partitionTokens);

```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/TokenRangeFetcher.java`
#### Snippet
```java
        if (!partitionTokens.isEmpty() && log.isDebugEnabled()) {
            int numTokenRanges = tokenRangesByNode.values().stream()
                    .mapToInt(ranges -> ranges.asRanges().size())
                    .sum();

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CqlCluster.java`
#### Snippet
```java
    }

    public Map<String, Map<InetSocketAddress, RangeSet<LightweightOppToken>>> getTransactionsTableRangesForRepair(
            List<TransactionsTableInteraction> transactionsTableInteractions) {
        try (CqlSession session = createSessionWithRetry()) {
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CqlCluster.java`
#### Snippet
```java
    }

    public Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenRanges(String tableName) {
        try (CqlSession session = createSessionWithRetry()) {
            return new TokenRangeFetcher(session, namespace, cassandraServersConfig).getTokenRange(tableName);
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/TransactionAborter.java`
#### Snippet
```java
                txnInteraction.createSelectStatementsForScanningFullTimestampRange(transactionsTable).stream()
                        .map(select -> cqlSession.execute(select).iterator())
                        .flatMap(Streams::stream);

        return KeyedStream.of(rowResults)
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RepairRangeFetcher.java`
#### Snippet
```java
    }

    public Map<String, Map<InetSocketAddress, RangeSet<LightweightOppToken>>> getTransactionTableRangesForRepair(
            List<TransactionsTableInteraction> transactionsTableInteractions) {

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    }

    public RangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> getTokenMap() {
        return tokenMap;
    }
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
public class CassandraService implements AutoCloseable {
    private static final SafeLogger log = SafeLoggerFactory.get(CassandraService.class);
    private static final Interner<ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>>>
            tokensInterner = Interners.newWeakInterner();

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

            // grab latest token ring view from a random node in the cluster and update local hosts
```

### UnstableApiUsage
'builder()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

            // grab latest token ring view from a random node in the cluster and update local hosts
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                        Iterables.getOnlyElement(tokenRanges).getEndpoint_details());
                CassandraServer onlyHost = getAddressForHost(onlyEndpoint.getHost());
                newTokenRing.put(Range.all(), ImmutableSet.of(onlyHost));
                servers.add(onlyHost);
                hostToDatacentersThisRefresh.put(onlyHost, onlyEndpoint.getDatacenter());
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                            .decode(tokenRange.getEnd_token().toUpperCase(Locale.ROOT)));
                    if (startToken.compareTo(endToken) <= 0) {
                        newTokenRing.put(Range.openClosed(startToken, endToken), hosts);
                    } else {
                        // Handle wrap-around
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                    } else {
                        // Handle wrap-around
                        newTokenRing.put(Range.greaterThan(startToken), hosts);
                        newTokenRing.put(Range.atMost(endToken), hosts);
                    }
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                        // Handle wrap-around
                        newTokenRing.put(Range.greaterThan(startToken), hosts);
                        newTokenRing.put(Range.atMost(endToken), hosts);
                    }
                }
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                }
            }
            tokenMap = tokensInterner.intern(newTokenRing.build());
            hostToDatacenter = ImmutableMap.copyOf(hostToDatacentersThisRefresh);
            logHostToDatacenterMapping(hostToDatacenter);
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
            ImmutableSet<CassandraServer> resolvedConfigAddresses = getCurrentServerListFromConfig();

            ImmutableSet<CassandraServer> lastKnownAddresses = tokenMap.asMapOfRanges().values().stream()
                    .flatMap(Collection::stream)
                    .collect(ImmutableSet.toImmutableSet());
```

### UnstableApiUsage
'get(K)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private ImmutableSet<CassandraServer> getHostsFor(byte[] key) {
        return tokenMap.get(new LightweightOppToken(key));
    }

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    private final Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig;

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
    private volatile ImmutableMap<CassandraServer, String> hostToDatacenter = ImmutableMap.of();
```

### UnstableApiUsage
'of()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
    private volatile ImmutableMap<CassandraServer, String> hostToDatacenter = ImmutableMap.of();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
    }

    private static Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenMappingForPartitionKeys(
            CqlMetadata metadata, Namespace namespace, Set<LightweightOppToken> partitionKeyTokens) {
        Set<Range<LightweightOppToken>> tokenRanges = metadata.getTokenRanges();
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
        return KeyedStream.stream(tokenMapping.asMap())
                .map(Collection::stream)
                .map(stream -> (RangeSet<LightweightOppToken>) stream.collect(toImmutableRangeSet()))
                .collectToMap();
    }
```

### UnstableApiUsage
'toImmutableRangeSet()' is declared in unstable class 'com.google.common.collect.ImmutableRangeSet' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
        return KeyedStream.stream(tokenMapping.asMap())
                .map(Collection::stream)
                .map(stream -> (RangeSet<LightweightOppToken>) stream.collect(toImmutableRangeSet()))
                .collectToMap();
    }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
     */
    @SuppressWarnings("ReverseDnsLookup")
    public static Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenMapping(
            Collection<InetSocketAddress> nodeSet,
            CqlMetadata metadata,
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
        Map<String, InetSocketAddress> nodeMetadataHostMap =
                KeyedStream.of(nodeSet).mapKeys(InetSocketAddress::getHostName).collectToMap();
        Map<InetSocketAddress, RangeSet<LightweightOppToken>> hostToTokenRangeMap =
                getTokenMappingForPartitionKeys(metadata, namespace, partitionKeyTokens);

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CassandraRepairHelper.java`
#### Snippet
```java
    public static RangesForRepair getRangesToRepair(
            CqlCluster cqlCluster, AtlasService atlasService, String tableName) {
        Map<InetSocketAddress, RangeSet<LightweightOppToken>> tokenRanges =
                getTokenRangesToRepair(cqlCluster, atlasService, tableName);
        return RangesForRepair.of(tokenRanges);
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CassandraRepairHelper.java`
#### Snippet
```java
    }

    private Map<String, Map<InetSocketAddress, RangeSet<LightweightOppToken>>> getRawRangesForRepairByTable(
            AtlasService atlasService, List<TransactionsTableInteraction> transactionsTableInteractions) {
        return cqlClusterContainers
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CassandraRepairHelper.java`
#### Snippet
```java
    }

    private static Map<InetSocketAddress, RangeSet<LightweightOppToken>> getTokenRangesToRepair(
            CqlCluster cqlCluster, AtlasService atlasService, String tableName) {
        String cassandraTableName = getCassandraTableName(atlasService.getNamespace(), tableName);
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LocalLockTracker.java`
#### Snippet
```java

    public LocalLockTracker(int sizeLimit) {
        eventBuffer = Queues.synchronizedQueue(EvictingQueue.create(sizeLimit));
    }

```

### UnstableApiUsage
'create(int)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LocalLockTracker.java`
#### Snippet
```java

    public LocalLockTracker(int sizeLimit) {
        eventBuffer = Queues.synchronizedQueue(EvictingQueue.create(sizeLimit));
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Runnables' is marked unstable with @Beta
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
        // fall back to create a thread, and capture the name
        // Thread isn't started, allow it to be collected immediately.
        String threadName = factory.newThread(Runnables.doNothing()).getName();
        if (!Strings.isNullOrEmpty(threadName)) {
            String trimmed = THREAD_NAME_TRIMMED_CHARS.trimTrailingFrom(threadName);
```

### UnstableApiUsage
'doNothing()' is declared in unstable class 'com.google.common.util.concurrent.Runnables' marked with @Beta
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
        // fall back to create a thread, and capture the name
        // Thread isn't started, allow it to be collected immediately.
        String threadName = factory.newThread(Runnables.doNothing()).getName();
        if (!Strings.isNullOrEmpty(threadName)) {
            String trimmed = THREAD_NAME_TRIMMED_CHARS.trimTrailingFrom(threadName);
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
        return new LocalRowColumnRangeIterator(Streams.stream(rows)
                .flatMap(row -> getBatchForRow(row, columnRange, batchSize))
                .flatMap(Streams::stream)
                .iterator());
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/AtomicTable.java`
#### Snippet
```java

    default ListenableFuture<V> get(K key) {
        return Futures.transform(get(ImmutableList.of(key)), result -> result.get(key), MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/KnowledgeableTimestampExtractingAtomicTable.java`
#### Snippet
```java
        } else {
            ListenableFuture<TransactionStatus> presentValueFuture = delegate.get(startTimestamp);
            return Futures.transform(
                    presentValueFuture,
                    presentValue -> TransactionStatusUtils.getCommitTsFromStatus(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/KnowledgeableTimestampExtractingAtomicTable.java`
#### Snippet
```java
    public ListenableFuture<Long> get(Long startTimestamp) {
        if (IS_VALIDATION_MODE) {
            return Futures.transform(
                    delegate.get(startTimestamp),
                    status -> verifyAndGetCommitTs(startTimestamp, status).orElse(null),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/KnowledgeableTimestampExtractingAtomicTable.java`
#### Snippet
```java
        if (IS_VALIDATION_MODE) {
            // No verification for in-progress transactions right now.
            return Futures.transform(
                    delegate.get(keys),
                    statuses -> KeyedStream.stream(statuses)
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
        return batch.add(
                dedicatedRows,
                Streams.stream(iterator)
                        .map(entry -> getWriteInfo(getTimestamp(row, col), entry.getValue()))
                        .collect(Collectors.toList()));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ReadableConsensusForgettingStoreImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Optional<byte[]>> get(Cell cell) {
        return Futures.transform(
                getMultiple(ImmutableList.of(cell)),
                result -> Optional.ofNullable(result.get(cell)),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ReadableConsensusForgettingStoreImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Map<Cell, byte[]>> getMultiple(Iterable<Cell> cells) {
        return Futures.transform(
                kvs.getAsync(
                        tableRef,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/TimestampExtractingAtomicTable.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Map<Long, Long>> get(Iterable<Long> keys) {
        return Futures.transform(
                delegate.get(keys),
                statuses -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/SimpleCommitTimestampAtomicTable.java`
#### Snippet
```java
        ListenableFuture<Map<Cell, Value>> result = kvs.getAsync(
                tableRef, startTsToCell.values().stream().collect(Collectors.toMap(x -> x, _ignore -> Long.MAX_VALUE)));
        return Futures.transform(
                result,
                presentValues -> KeyedStream.stream(startTsToCell)
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java
                .collect(Collectors.toMap(x -> x, encodingStrategy::encodeStartTimestampAsCell));
        ListenableFuture<Map<Cell, byte[]>> asyncReads = store.getMultiple(startTsToCell.values());
        return Futures.transform(
                asyncReads,
                presentValues -> processReads(presentValues, startTsToCell),
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
                .ifPresent(sequence -> liveSequences.remove(sequence, timestamp));

        if (retentionRateLimiter.tryAcquire()) {
            retentionSnapshots();
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
    private final Multimap<Sequence, StartTimestamp> liveSequences;
    private final Map<StartTimestamp, Sequence> timestampMap;
    private final RateLimiter retentionRateLimiter = RateLimiter.create(1.0);
    private final int minimumUnusedSnapshots;
    private final int maximumSize;
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
    private final Multimap<Sequence, StartTimestamp> liveSequences;
    private final Map<StartTimestamp, Sequence> timestampMap;
    private final RateLimiter retentionRateLimiter = RateLimiter.create(1.0);
    private final int minimumUnusedSnapshots;
    private final int maximumSize;
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
    private final Multimap<Sequence, StartTimestamp> liveSequences;
    private final Map<StartTimestamp, Sequence> timestampMap;
    private final RateLimiter retentionRateLimiter = RateLimiter.create(1.0);
    private final int minimumUnusedSnapshots;
    private final int maximumSize;
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    public void removeTransactionStateFromCache(long startTimestamp) {
        timestampStateStore.remove(startTimestamp);
        if (rateLimiter.tryAcquire()) {
            retentionEvents();
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    private final LockWatchEventLog eventLog;
    private final TimestampStateStore timestampStateStore;
    private final RateLimiter rateLimiter = RateLimiter.create(1.0);

    public static LockWatchEventCache create(CacheMetrics metrics, int maxEvents) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    private final LockWatchEventLog eventLog;
    private final TimestampStateStore timestampStateStore;
    private final RateLimiter rateLimiter = RateLimiter.create(1.0);

    public static LockWatchEventCache create(CacheMetrics metrics, int maxEvents) {
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    private final LockWatchEventLog eventLog;
    private final TimestampStateStore timestampStateStore;
    private final RateLimiter rateLimiter = RateLimiter.create(1.0);

    public static LockWatchEventCache create(CacheMetrics metrics, int maxEvents) {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
                    tableReference,
                    cells,
                    cellsToRead -> Futures.transform(
                            remoteReads, reads -> getCells(reads, cellsToRead), MoreExecutors.directExecutor()));

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
                            remoteReads, reads -> getCells(reads, cellsToRead), MoreExecutors.directExecutor()));

            return Futures.transform(
                    cacheReads,
                    reads -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
        if (startTimestamps.size() == 1) {
            Long singleTs = Iterables.getOnlyElement(startTimestamps);
            return Futures.transform(
                    asyncTransactionService.getAsyncV2(singleTs),
                    commitState -> ImmutableMap.of(singleTs, commitState),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
        }

        return Futures.transform(
                loadCommitTimestamps(asyncTransactionService, pendingGets),
                rawResults -> {
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/GetRowsColumnRangeIterator.java`
#### Snippet
```java

            BatchSizeIncreasingIterator.BatchResult<Map.Entry<Cell, Value>> batchResult = batchIterator.getBatch();
            Map<Cell, Value> raw = ImmutableMap.copyOf(batchResult.batch());

            if (firstBatchReturned) {
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/GetRowsColumnRangeIterator.java`
#### Snippet
```java
            }

            SortedMap<Cell, byte[]> postFiltered = ImmutableSortedMap.copyOf(postFilterer.postFilter(raw));
            batchIterator.markNumResultsNotDeleted(postFiltered.size());
            return postFiltered.entrySet().iterator();
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            return Futures.immediateFuture(filterEmptyValues(cacheLookup.cacheHits()));
        } else {
            return Futures.transform(
                    valueLoader.apply(cacheLookup.missedCells()),
                    uncachedValues -> processUncachedCells(
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
            cleaner.punch(responses.get(0).startTimestampAndPartition().timestamp());

            List<OpenTransaction> transactions = Streams.zip(
                            responses.stream(), conditions.stream(), (response, condition) -> {
                                LockToken immutableTsLock =
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingKeyValueServiceImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Map<Cell, Value>> getAsync(TableReference tableRef, Map<Cell, Long> timestampByCell) {
        return Futures.transform(
                delegate.getAsync(tableRef, timestampByCell),
                result -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/PreStartHandlingTransactionService.java`
#### Snippet
```java
        List<Long> validTimestamps = classifiedTimestamps.get(true);
        if (!validTimestamps.isEmpty()) {
            return Futures.transform(
                    getter.apply(validTimestamps),
                    timestampMap -> {
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownAbandonedTransactionsStore.java`
#### Snippet
```java
        }

        RangeMap<Long, Integer> transactionsSchemaMap = latestTimestampRangesSnapshot(
                abandonedTimestamps.stream().max(Comparator.naturalOrder()).get());

```

### UnstableApiUsage
'get(K)' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownAbandonedTransactionsStore.java`
#### Snippet
```java

        for (long ts : abandonedTimestamps) {
            Optional<Integer> maybeSchema = Optional.ofNullable(transactionsSchemaMap.get(ts));
            Preconditions.checkState(
                    maybeSchema.isPresent(),
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownAbandonedTransactionsStore.java`
#### Snippet
```java
    }

    private RangeMap<Long, Integer> latestTimestampRangesSnapshot(long lastSweptTimestamp) {
        InternalSchemaMetadata internalSchemaMeta = coordinationService
                .getValueForTimestamp(lastSweptTimestamp)
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaMetadata.java`
#### Snippet
```java
    default TimestampPartitioningMap<Integer> timestampToTransactionsTableSchemaVersion() {
        Range<Long> startOfTime = Range.atLeast(1L);
        return TimestampPartitioningMap.of(ImmutableRangeMap.of(startOfTime, 1));
    }

```

### UnstableApiUsage
'of(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaMetadata.java`
#### Snippet
```java
    default TimestampPartitioningMap<Integer> timestampToTransactionsTableSchemaVersion() {
        Range<Long> startOfTime = Range.atLeast(1L);
        return TimestampPartitioningMap.of(ImmutableRangeMap.of(startOfTime, 1));
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    // Visible for internal clients.
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'Builder()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
    }
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
     * Set representation of range-value mappings.
     * This representation is for serialisation, because a {@link Range} serializes to an object, so it's not
     * permissible for them to be used as keys in a Map; {@link RangeMap} doesn't seem to be supported in Jackson at
     * time of writing.
     */
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private void copyOldRangesFromPreviousMap(
            RangeAndValue<T> latestRangeAndValue, @Output ImmutableRangeMap.Builder<Long, T> builder) {
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private void copyOldRangesFromPreviousMap(
            RangeAndValue<T> latestRangeAndValue, @Output ImmutableRangeMap.Builder<Long, T> builder) {
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
                .forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    }

    public static <T> TimestampPartitioningMap<T> of(RangeMap<Long, T> initialState) {
        return ImmutableTimestampPartitioningMap.of(initialState.asMapOfRanges().entrySet().stream()
                .map(entry -> RangeAndValue.of(entry.getKey(), entry.getValue()))
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    public static <T> TimestampPartitioningMap<T> of(RangeMap<Long, T> initialState) {
        return ImmutableTimestampPartitioningMap.of(initialState.asMapOfRanges().entrySet().stream()
                .map(entry -> RangeAndValue.of(entry.getKey(), entry.getValue()))
                .collect(Collectors.toSet()));
```

### UnstableApiUsage
'asDescendingMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    private RangeAndValue<T> getLatestEntry() {
        return RangeAndValue.fromMapEntry(
                rangeMapView().asDescendingMapOfRanges().entrySet().iterator().next());
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    }

    private static <T> void validateCoversPreciselyAllTimestamps(RangeMap<Long, T> timestampRangeMap) {
        if (timestampRangeMap.asMapOfRanges().isEmpty()
                || !timestampRangeMap.span().equals(ALL_TIMESTAMPS)) {
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private static <T> void validateCoversPreciselyAllTimestamps(RangeMap<Long, T> timestampRangeMap) {
        if (timestampRangeMap.asMapOfRanges().isEmpty()
                || !timestampRangeMap.span().equals(ALL_TIMESTAMPS)) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'span()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    private static <T> void validateCoversPreciselyAllTimestamps(RangeMap<Long, T> timestampRangeMap) {
        if (timestampRangeMap.asMapOfRanges().isEmpty()
                || !timestampRangeMap.span().equals(ALL_TIMESTAMPS)) {
            throw new SafeIllegalArgumentException(
                    "Attempted to initialize a timestamp partitioning map, but its span does not cover precisely all "
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        }

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'create(java.lang.Iterable\>)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
                    "Attempted to initialize a timestamp partitioning map."
```

### UnstableApiUsage
'get(K)' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    public T getValueForTimestamp(long timestamp) {
        return rangeMapView().get(timestamp);
    }

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            T newValue,
            RangeAndValue<T> latestRangeAndValue,
            @Output ImmutableRangeMap.Builder<Long, T> builder) {
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            T newValue,
            RangeAndValue<T> latestRangeAndValue,
            @Output ImmutableRangeMap.Builder<Long, T> builder) {
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
            builder.put(latestRangeAndValue.longRange(), latestRangeAndValue.value());
        } else {
            builder.put(
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            builder.put(latestRangeAndValue.longRange(), latestRangeAndValue.value());
        } else {
            builder.put(
                    Range.closedOpen(latestRangeAndValue.longRange().lowerEndpoint(), lowerBoundForNewVersion),
                    latestRangeAndValue.value());
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
                    Range.closedOpen(latestRangeAndValue.longRange().lowerEndpoint(), lowerBoundForNewVersion),
                    latestRangeAndValue.value());
            builder.put(Range.atLeast(lowerBoundForNewVersion), newValue);
        }
    }
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'builder()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
        return ImmutableTimestampPartitioningMap.of(builder.build());
    }

```

### UnstableApiUsage
'getEntry(K)' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java
                .timestampToTransactionsTableSchemaVersion()
                .rangeMapView()
                .getEntry(valueAndBound.bound());
    }

```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownConcludedTransactionsStore.java`
#### Snippet
```java
                .apply(lastSweptTimestamp)
                .rangeMapView()
                .asMapOfRanges();
    }
}
```

### UnstableApiUsage
'asMap(com.google.common.collect.Multimap)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
                Maps.newHashMapWithExpectedSize(requests.keySet().size());
        for (Map.Entry<Long, Collection<BatchElement<TimestampPair, Void>>> entry :
                Multimaps.asMap(requests).entrySet()) {
            result.put(entry.getKey(), entry.getValue().iterator().next());
        }
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, Event> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();

        private final List<Event> errors = new ArrayList<>();
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, Event> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();

        private final List<Event> errors = new ArrayList<>();
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, Event> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();

        private final List<Event> errors = new ArrayList<>();
```

### UnstableApiUsage
'subRangeSet(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
                        if (lastLockTime < invokeEvent.time()) {
                            Range<Long> newRange = Range.closedOpen(lastLockTime, invokeEvent.time());
                            if (!locksHeld.subRangeSet(newRange).isEmpty()) {
                                log.error(
                                        "A {} request for lock {} by process {} invoked at time {} was granted at "
```

### UnstableApiUsage
'isEmpty()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
                        if (lastLockTime < invokeEvent.time()) {
                            Range<Long> newRange = Range.closedOpen(lastLockTime, invokeEvent.time());
                            if (!locksHeld.subRangeSet(newRange).isEmpty()) {
                                log.error(
                                        "A {} request for lock {} by process {} invoked at time {} was granted at "
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
                                errors.add(event);
                            }
                            locksHeld.add(newRange);
                            lastHeldLock.put(process, invokeEvent);
                        }
```

### UnstableApiUsage
'encloses(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private boolean intervalCovered(InvokeEvent invokeEvent, OkEvent okEvent) {
            Range<Long> interval = Range.closed(invokeEvent.time(), okEvent.time());
            return locksHeld.encloses(interval);
        }

```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, OkEvent> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();
        private final List<Pair<InvokeEvent, OkEvent>> locksAtSomePoint = new ArrayList<>();

```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, OkEvent> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();
        private final List<Pair<InvokeEvent, OkEvent>> locksAtSomePoint = new ArrayList<>();

```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, OkEvent> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();
        private final List<Pair<InvokeEvent, OkEvent>> locksAtSomePoint = new ArrayList<>();

```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
                        long lastLockTime = lastHeldLock.get(process).time();
                        if (lastLockTime < invokeEvent.time()) {
                            locksHeld.add(Range.open(lastLockTime, invokeEvent.time()));
                        }
                    }
```

### UnstableApiUsage
'whenAllSucceed(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
                .values();

        return Futures.whenAllSucceed(futures)
                .call(
                        () -> futures.stream()
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java

        return Futures.whenAllSucceed(futures)
                .call(
                        () -> futures.stream()
                                .map(AtlasFutures::getDone)
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java

            List<Map.Entry<Cell, ByteBuffer>> actualReadList =
                    Streams.stream(readValues).collect(Collectors.toList());
            List<Map.Entry<Cell, ByteBuffer>> storedValuesWithoutLocalWrites = filterWritesFromCells(
                    Streams.stream(truncatedStoredValues).collect(Collectors.toList()), request.getTableRef());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                    Streams.stream(readValues).collect(Collectors.toList());
            List<Map.Entry<Cell, ByteBuffer>> storedValuesWithoutLocalWrites = filterWritesFromCells(
                    Streams.stream(truncatedStoredValues).collect(Collectors.toList()), request.getTableRef());

            if (!actualReadList.equals(storedValuesWithoutLocalWrites)) {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
    private ListenableFuture<Map<Cell, byte[]>> getWithLoader(
            TableReference tableRef, Set<Cell> cells, CellLoader cellLoader) {
        return Futures.transform(
                cellLoader.load(tableRef, cells),
                loadedCells -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                }

                return Futures.transform(
                        // We do not block when waiting for results that were written after our start timestamp.
                        // If we block here it may lead to deadlock if two transactions (or a cycle of any length) have
```

### UnstableApiUsage
'whenAllComplete(com.google.common.util.concurrent.ListenableFuture...)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                        asyncTransactionService);

                return Futures.whenAllComplete(postStartCommitTimestamps, preStartCommitTimestamps)
                        .call(
                                () -> ImmutableMap.<Long, Long>builder()
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java

                return Futures.whenAllComplete(postStartCommitTimestamps, preStartCommitTimestamps)
                        .call(
                                () -> ImmutableMap.<Long, Long>builder()
                                        .putAll(AtlasFutures.getDone(preStartCommitTimestamps))
```

### UnstableApiUsage
'orderedPermutations(java.lang.Iterable, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/UnstableOrderedIterable.java`
#### Snippet
```java

    public static <T> Iterable<T> create(Collection<T> underlying, Comparator<T> comparator) {
        return new UnstableOrderedIterable<T>(Iterables.cycle(Collections2.orderedPermutations(underlying, comparator))
                .iterator());
    }
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
        }

        return KeyedStream.ofEntries(Streams.zip(keys.stream(), byteValues.stream(), Maps::immutableEntry))
                .filter(Objects::nonNull)
                .collectToMap();
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogBatchReader.java`
#### Snippet
```java
     */
    public List<PaxosRound<V>> readBatch(long startSequence, int numEntries) {
        return AtlasFutures.getUnchecked(Futures.allAsList(LongStream.range(startSequence, startSequence + numEntries)
                        .mapToObj(sequence -> executor.submit(() -> singleRead(sequence)))
                        .collect(Collectors.toList())))
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java

class RateLimitedGreenNodeLeadershipPrioritiser implements GreenNodeLeadershipPrioritiser {
    private final RateLimiter greeningNodeShouldBecomeLeaderRateLimiter = RateLimiter.create(1.0 / (10 * 60));

    @Override
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java

class RateLimitedGreenNodeLeadershipPrioritiser implements GreenNodeLeadershipPrioritiser {
    private final RateLimiter greeningNodeShouldBecomeLeaderRateLimiter = RateLimiter.create(1.0 / (10 * 60));

    @Override
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java

class RateLimitedGreenNodeLeadershipPrioritiser implements GreenNodeLeadershipPrioritiser {
    private final RateLimiter greeningNodeShouldBecomeLeaderRateLimiter = RateLimiter.create(1.0 / (10 * 60));

    @Override
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java
    @Override
    public boolean shouldGreeningNodeBecomeLeader() {
        return greeningNodeShouldBecomeLeaderRateLimiter.tryAcquire();
    }
}
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLatestRoundVerifierImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<PaxosQuorumStatus> isLatestRoundAsync(long round) {
        return Futures.transform(
                collectResponses(round), PaxosResponses::getQuorumResult, MoreExecutors.directExecutor());
    }
```

### UnstableApiUsage
'transform(com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLatestRoundVerifierImpl.java`
#### Snippet
```java
    private ListenableFuture<PaxosResponses<PaxosResponse>> collectResponses(long round) {
        return FluentFuture.from(acceptorClient.getLatestSequencePreparedOrAcceptedAsync())
                .transform(
                        responses -> responses.map(paxosLong -> acceptorAgreesIsLatestRound(paxosLong, round)),
                        MoreExecutors.directExecutor());
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    public void leaderOnOlderTimeLockVersion(OrderableSlsVersion version) {
        // TODO(snanda): Kill log after few successful runs of blue-green deployment.
        if (leaderOnOlderVersionLoggingRateLimiter.tryAcquire()) {
            leaderLog.info(
                    "We contacted the leader and it reported that it is on an older version of TimeLock - {}",
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    private final Object[] contextArgs;
    private final LeaderElectionServiceMetrics leaderElectionServiceMetrics;
    private final RateLimiter leaderOnOlderVersionLoggingRateLimiter = RateLimiter.create(0.03);

    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    private final Object[] contextArgs;
    private final LeaderElectionServiceMetrics leaderElectionServiceMetrics;
    private final RateLimiter leaderOnOlderVersionLoggingRateLimiter = RateLimiter.create(0.03);

    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    private final Object[] contextArgs;
    private final LeaderElectionServiceMetrics leaderElectionServiceMetrics;
    private final RateLimiter leaderOnOlderVersionLoggingRateLimiter = RateLimiter.create(0.03);

    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                BatchColumnRangeSelection.create(
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));
        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);
    }
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        assertThat(cells).isEmpty();
        assertThatCode(t1::commit).doesNotThrowAnyException();
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    private ListenableFuture<StillLeadingStatus> determineAndRecordLeadershipStatus(PaxosLeadershipToken paxosToken) {
        ListenableFuture<StillLeadingStatus> statusFuture = determineLeadershipStatus(paxosToken.value);
        return Futures.transform(
                statusFuture,
                status -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
        }

        return Futures.transform(
                latestRoundVerifier.isLatestRoundAsync(value.getRound()),
                PaxosQuorumStatus::toStillLeadingStatus,
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java

    private boolean shouldUsePingV2(LeaderPingerContext<PingableLeader> leader) {
        return pingV2StatusOnRemotes.getOrDefault(leader, true) || pingV2RateLimiter.tryAcquire();
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
                        "validate-leadership-attempt", () -> leadershipCoordinator.isStillLeading(leadershipToken))));

        ListenableFuture<T> delegateFuture = Futures.transformAsync(
                leadingFuture,
                leading -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
        } else {
            return FluentFuture.from(delegateFuture)
                    .transformAsync(
                            delegate -> Tracers.wrapListenableFuture("execute-on-delegate-async", () -> {
                                try {
```

### UnstableApiUsage
'catchingAsync(java.lang.Class, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
                            }),
                            executionExecutor)
                    .catchingAsync(
                            InvocationTargetException.class,
                            e -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java`
#### Snippet
```java
     */
    private ListenableFuture<T> execute(Supplier<ListenableFuture<T>> supplier, int retriesRemaining) {
        return Futures.transformAsync(
                executeSupplier(supplier),
                result -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java`
#### Snippet
```java
                    } else {
                        // if we have to try again, this time don't consume the thread to do it
                        return Futures.transformAsync(
                                schedulingExecutor.schedule(
                                        () -> {}, delayBetweenAttempts.toMillis(), TimeUnit.MILLISECONDS),
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
                .get()
                .getValue();
        List<ByteBuffer> columns = Streams.stream(iterator)
                .map(entry -> entry.getKey().getColumnName())
                .map(ByteBuffer::wrap)
```

### UnstableApiUsage
'putAll(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            TableReference tableRef, Map<Cell, Value> rawResults, ImmutableMap.Builder<Cell, byte[]> resultCollector) {
        ImmutableMap<Cell, byte[]> collected = resultCollector
                .putAll(getWithPostFilteringSync(tableRef, rawResults, Value.GET_VALUE))
                .buildOrThrow();
        Map<Cell, byte[]> filterDeletedValues = removeEmptyColumns(collected, tableRef);
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private Map<Cell, Value> validateBatch(TableReference tableRef, List<Map.Entry<Cell, Value>> batch) {
        validatePreCommitRequirementsOnReadIfNecessary(tableRef, getStartTimestamp());
        return ImmutableMap.copyOf(batch);
    }

```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        }

        return Futures.transformAsync(
                getWithPostFilteringInternal(
                        tableReference,
```

### UnstableApiUsage
'builderWithExpectedSize(int)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

        validatePreCommitRequirementsOnReadIfNecessary(tableRef, getStartTimestamp());
        return filterRowResults(tableRef, rawResults, ImmutableMap.builderWithExpectedSize(rawResults.size()));
    }

```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        }

        return ImmutableSortedMap.copyOf(getWithPostFilteringSync(tableRef, rawResults, transformer));
    }

```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        }

        return Futures.transformAsync(
                Futures.immediateFuture(rawResults),
                remainingResultsToPostFilter -> getWithPostFilteringIterate(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

        // We don't need to read any cells that were written locally.
        return Futures.transform(
                getFromKeyValueService(
                        tableRef,
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

            SortedMap<Cell, Value> postFiltered =
                    ImmutableSortedMap.copyOf(getWithPostFilteringSync(tableRef, raw, x -> x), cellComparator);
            return postFiltered.entrySet().iterator();
        }));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    private <T> ListenableFuture<T> scopeToTransaction(ListenableFuture<T> transactionFuture) {
        return Futures.transform(
                transactionFuture,
                txnTaskResult -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        Set<Long> valuesStartTimestamps = getStartTimestampsForValues(rawResults.values());

        return Futures.transformAsync(
                getCommitTimestamps(tableRef, valuesStartTimestamps, true, asyncTransactionService),
                commitTimestamps -> collectCellsToPostFilter(
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                return Collections.emptyIterator();
            }
            SortedMap<Cell, Value> postFiltered = ImmutableSortedMap.copyOf(
                    getWithPostFilteringSync(tableRef, raw, x -> x), preserveInputRowOrder(batch));
            return postFiltered.entrySet().iterator();
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            AsyncTransactionService asyncTransactionService) {
        Map<Cell, Long> toRead = Cells.constantValueMap(cells, getStartTimestamp());
        ListenableFuture<Collection<Map.Entry<Cell, byte[]>>> postFilteredResults = Futures.transformAsync(
                asyncKeyValueService.getAsync(tableRef, toRead),
                rawResults -> getWithPostFilteringAsync(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                MoreExecutors.directExecutor());

        return Futures.transform(postFilteredResults, ImmutableMap::copyOf, MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                MoreExecutors.directExecutor());

        return Futures.transform(postFilteredResults, ImmutableMap::copyOf, MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Iterable<? extends Iterator<Map.Entry<Cell, V>>> iterators, Comparator<Cell> cellComparator) {
        Comparator<Map.Entry<Cell, V>> comp = Comparator.comparing(Map.Entry::getKey, cellComparator);
        return Iterators.mergeSorted(iterators, comp);
    }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

        if (!keysToReload.isEmpty()) {
            return Futures.transform(
                    asyncKeyValueService.getAsync(tableRef, keysToReload),
                    nextRawResults -> {
```

## RuleId[ruleID=ConditionalBreakInInfiniteLoop]
### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            throw new SafeIllegalStateException("this transaction has already failed");
        }
        while (true) {
            ensureUncommitted();
            if (state.compareAndSet(State.UNCOMMITTED, State.COMMITTING)) {
```

## RuleId[ruleID=StaticCallOnSubclass]
### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameUnmapper.java`
#### Snippet
```java
            ConnectionSupplier connectionSupplier, String tablePrefix, TableReference tableRef)
            throws TableMappingNotFoundException {
        String fullTableName = tablePrefix + DbKvs.internalTableName(tableRef);
        try {
            return unmappingCache.get(fullTableName, () -> {
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameGetterImpl.java`
#### Snippet
```java
    @Override
    public String getPrefixedTableName(TableReference tableRef) {
        return tablePrefix + DbKvs.internalTableName(tableRef);
    }

```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameGetterImpl.java`
#### Snippet
```java
    @Override
    public String getPrefixedOverflowTableName(TableReference tableRef) {
        return overflowTablePrefix + DbKvs.internalTableName(tableRef);
    }

```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameMapper.java`
#### Snippet
```java
        TableReference shortenedNamespaceTableRef = truncateNamespace(tableRef);

        String prefixedTableName = tablePrefix + DbKvs.internalTableName(shortenedNamespaceTableRef);
        String truncatedTableName = truncate(prefixedTableName, NAMESPACED_TABLE_NAME_LENGTH);

```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameMapper.java`
#### Snippet
```java
        String truncatedTableName = truncate(prefixedTableName, NAMESPACED_TABLE_NAME_LENGTH);

        String fullTableName = tablePrefix + DbKvs.internalTableName(tableRef);
        return truncatedTableName + "_" + getTableNumber(connectionSupplier, fullTableName, truncatedTableName);
    }
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/PostgresDbTableFactory.java`
#### Snippet
```java
    @Override
    public DbReadTable createRead(TableReference tableRef, ConnectionSupplier conns) {
        return new DbReadTable(conns, new PostgresQueryFactory(DbKvs.internalTableName(tableRef), config));
    }

```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresCellTsPageLoader.java`
#### Snippet
```java
                request,
                Math.max(1, request.batchSizeHint().orElse(DEFAULT_BATCH_SIZE)),
                DbKvs.internalTableName(tableRef),
                prefixedTableNames.get(tableRef),
                request.startRowInclusive());
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java
        return String.format(
                SIMPLE_ROW_SELECT_ONE_POSTGRES_TEMPLATE,
                DbKvs.internalTableName(tableRef),
                getPrefixedTableName(tableRef, conns),
                extraWhere,
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java
                String query = String.format(
                        SIMPLE_ROW_SELECT_TEMPLATE,
                        DbKvs.internalTableName(tableRef),
                        getPrimaryKeyConstraintName(tableRef, conns),
                        getPrefixedTableName(tableRef, conns),
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java
        return String.format(
                SIMPLE_ROW_SELECT_ONE_ORACLE_TEMPLATE,
                DbKvs.internalTableName(tableRef),
                getPrimaryKeyConstraintName(tableRef, conns),
                minMax,
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresPrefixedTableNames.java`
#### Snippet
```java

    public String get(TableReference tableRef) {
        return config.tablePrefix() + DbKvs.internalTableName(tableRef);
    }
}
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresDdlTable.java`
#### Snippet
```java

    private String prefixedTableName() {
        return config.tablePrefix() + DbKvs.internalTableName(tableName);
    }

```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.dbkvs.impl.DbKvs'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresGetRange.java`
#### Snippet
```java
        int maxCellsPerPage = DbKvsGetRanges.getMaxCellsPerPage(
                tableRef, rangeRequest, maxRowsPerPage, connectionPool, tableMetadataCache);
        String tableName = DbKvs.internalTableName(tableRef);
        Iterator<Iterator<RowResult<Value>>> pageIterator = new PageIterator(
                rangeRequest.getStartInclusive(),
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.cassandra.CassandraKeyValueServiceImpl'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableTruncator.java`
#### Snippet
```java
                for (TableReference tableRef : tablesToTruncate) {
                    queryRunner.run(client, tableRef, () -> {
                        client.truncate(CassandraKeyValueServiceImpl.internalTableName(tableRef));
                        return true;
                    });
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.cassandra.CassandraKeyValueServiceImpl'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableCreator.java`
#### Snippet
```java

    private UUID getUuidForTable(TableReference tableRef) {
        String internalTableName = CassandraKeyValueServiceImpl.internalTableName(tableRef);
        String keyspace = config.getKeyspaceOrThrow();
        String fullTableNameForUuid = keyspace + "." + internalTableName;
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.cassandra.CassandraKeyValueServiceImpl'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableCreator.java`
#### Snippet
```java
        boolean appendHeavyReadLight = tableMetadata.isAppendHeavyAndReadLight();
        String keyspace = wrapInQuotes(config.getKeyspaceOrThrow());
        String internalTableName = wrapInQuotes(CassandraKeyValueServiceImpl.internalTableName(tableRef));

        String query = SchemaBuilder.createTable(keyspace, internalTableName)
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.cassandra.CassandraKeyValueServiceImpl'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java
    @Unsafe // Should log the Arg directly, rather than wrapping it in another Arg layer.
    private static Arg<String> quotedTableName(TableReference tableRef) {
        String tableNameWithQuotes = "\"" + CassandraKeyValueServiceImpl.internalTableName(tableRef) + "\"";
        return LoggingArgs.customTableName(tableRef, tableNameWithQuotes);
    }
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.cassandra.CassandraKeyValueServiceImpl'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoader.java`
#### Snippet
```java
            final CassandraKeyValueServices.ThreadSafeResultVisitor visitor,
            final ConsistencyLevel consistency) {
        final ColumnParent colFam = new ColumnParent(CassandraKeyValueServiceImpl.internalTableName(tableRef));
        List<List<Cell>> batches = batcher.partitionIntoBatches(cells, cassandraServer, tableRef);
        List<Callable<Void>> tasks = new ArrayList<>(batches.size());
```

### StaticCallOnSubclass
Static method `internalTableName()` declared in class 'com.palantir.atlasdb.keyvalue.impl.AbstractKeyValueService' but referenced via subclass 'com.palantir.atlasdb.keyvalue.cassandra.CassandraKeyValueServiceImpl'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableDropper.java`
#### Snippet
```java
    private void truncateThenDrop(TableReference tableRef, CassandraClient client) throws TException {
        cassandraTableTruncator.runTruncateOnClient(ImmutableSet.of(tableRef), client);
        client.system_drop_column_family(CassandraKeyValueServiceImpl.internalTableName(tableRef));
    }
}
```

## RuleId[ruleID=UnnecessaryStringEscape]
### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
                System.out.println("Call help(\'topic\') to view information on a topic, " + // (authorized)
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
            }
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
                System.out.println("Call help(\'topic\') to view information on a topic, " + // (authorized)
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
            }
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                        "\"([^\"\n\\\\]|\\\\.)*+(\"|\\\\?$)|"
                        + // a double-quoted string
                        "\'([^\'\n\\\\]|\\\\.)*+(\'|\\\\?$)", // a single-quoted string
                Pattern.MULTILINE);

```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                        "\"([^\"\n\\\\]|\\\\.)*+(\"|\\\\?$)|"
                        + // a double-quoted string
                        "\'([^\'\n\\\\]|\\\\.)*+(\'|\\\\?$)", // a single-quoted string
                Pattern.MULTILINE);

```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                        "\"([^\"\n\\\\]|\\\\.)*+(\"|\\\\?$)|"
                        + // a double-quoted string
                        "\'([^\'\n\\\\]|\\\\.)*+(\'|\\\\?$)", // a single-quoted string
                Pattern.MULTILINE);

```

## RuleId[ruleID=AssertWithSideEffects]
### AssertWithSideEffects
`assert` has side effects: ret = ...
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static boolean isAssertEnabled() {
        boolean ret = false;
        assert (ret = true) == true;

        return ret;
```

## RuleId[ruleID=RedundantArrayCreation]
### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            sql = String.format(POSTGRESQL_SINGLE_ID_COLUMN, sequenceName);
        } else {
            sql = String.format(ORACLE_SINGLE_ID_COLUMN, new Object[] {sequenceName});
        }
        if (label != null) {
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java
     */
    long selectCount(Connection c, String tableName) throws PalantirSqlException, PalantirInterruptedException {
        return selectCount(c, tableName, null, new Object[] {});
    }

```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
    public static boolean isToString(Method method) throws ProxyException {
        try {
            return method.equals(Object.class.getMethod("toString", new Class[] {}));
        } catch (NoSuchMethodException nsme) {
            throw new ProxyException(nsme);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
    public static boolean isHashCode(Method method) throws ProxyException {
        try {
            return method.equals(Object.class.getMethod("hashCode", new Class[] {}));
        } catch (NoSuchMethodException nsme) {
            throw new ProxyException(nsme);
```

## RuleId[ruleID=StaticPseudoFunctionalStyleMethod]
### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java
    public Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens) {
        Set<LockRefreshToken> refreshTokens =
                ImmutableSet.copyOf(Iterables.transform(tokens, HeldLocksTokens.getRefreshTokenFun()));
        Set<LockRefreshToken> goodTokens = delegate().refreshLockRefreshTokens(refreshTokens);
        Set<HeldLocksToken> ret = Sets.newHashSetWithExpectedSize(refreshTokens.size());
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
            log.trace(
                    ".refreshTokens({}) returns {}",
                    UnsafeArg.of("oldTokens", Iterables.transform(tokens, LockServiceImpl::tokenToId)),
                    UnsafeArg.of("newTokens", Collections2.transform(refreshedTokenSet, LockServiceImpl::tokenToId)));
        }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/BatchingStrategies.java`
#### Snippet
```java
        @Override
        public Iterable<? extends Map<K, V>> partitionIntoBatches(Map<K, V> collection, int batchSizeHint) {
            return Iterables.transform(Iterables.partition(collection.entrySet(), batchSizeHint), Maps2::fromEntries);
        }
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            long timestamp,
            KeyAlreadyExistsException ex) {
        List<Map.Entry<Cell, Value>> batchValues = Lists.transform(
                batch, input -> Maps.immutableEntry(input.getKey(), Value.create(input.getValue(), timestamp)));
        putIfNotUpdate(readTable, writeTable, tableRef, batchValues, ex);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
                kvs.getRowsColumnRange(tableRef, rows, batchColumnRangeSelection, timestamp);
        // Return results in the same order as the provided rows.
        Iterable<RowColumnRangeIterator> orderedRanges = Iterables.transform(rows, rowsColumnRanges::get);
        return new LocalRowColumnRangeIterator(Iterators.concat(orderedRanges.iterator()));
    }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/base/AbortingVisitors.java`
#### Snippet
```java
            final AbortingVisitor<? super List<T>, K> v, final Predicate<? super T> p) {
        return item -> {
            List<T> list = ImmutableList.copyOf(Iterables.filter(item, p));
            if (list.isEmpty()) {
                return true;
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    public <U> IterableView<U> filter(final Class<? extends U> type) {
        return of(Iterables.filter(delegate(), type));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java
         */
        if (delegate() instanceof List) {
            return of(Lists.transform((List<T>) delegate(), function));
        } else if (delegate() instanceof Collection) {
            return of(Collections2.transform((Collection<T>) delegate(), function));
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java
            return of(Collections2.transform((Collection<T>) delegate(), function));
        }
        return of(Iterables.transform(delegate(), function));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    public IterableView<T> filter(Predicate<? super T> predicate) {
        return of(Iterables.filter(delegate(), predicate));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    public boolean any(Predicate<? super T> predicate) {
        return Iterables.any(delegate(), predicate);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    public boolean all(Predicate<? super T> predicate) {
        return Iterables.all(delegate(), predicate);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    public T find(Predicate<? super T> predicate) {
        return Iterables.find(delegate(), predicate);
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableUtils.java`
#### Snippet
```java
    public static <T, U> Iterable<Pair<T, U>> zip(
            final Iterable<? extends T> itT, final Function<T, U> transformationToU) {
        return zip(itT, Iterables.transform(itT, transformationToU));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    public static <T> BatchingVisitableView<T> filter(BatchingVisitable<T> visitable, final Predicate<? super T> pred) {
        Preconditions.checkNotNull(pred);
        return transformBatch(visitable, input -> ImmutableList.copyOf(Iterables.filter(input, pred)));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksToken.java`
#### Snippet
```java

    public List<LockWithMode> getLocks() {
        return ImmutableList.copyOf(Iterables.transform(lockMap.entries(), HeldLocksToken::toLockWithMode));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java

    public List<LockWithMode> getLocks() {
        return ImmutableList.copyOf(Iterables.transform(lockMap.entries(), LockRequest::toLockWithMode));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java

    public List<LockWithMode> getLocksWithMode() {
        return ImmutableList.copyOf(Iterables.transform(lockMap.entries(), HeldLocksGrant::toLockWithMode));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                    "addGarbageCollectionSentinelValues",
                    tableRef,
                    Iterables.transform(cells, cell -> Maps.immutableEntry(cell, value)));
        } catch (Exception e) {
            throw Throwables.unwrapAndThrowAtlasDbDependencyException(e);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
        try {
            Long firstTs = timestampByCell.values().iterator().next();
            if (Iterables.all(timestampByCell.values(), Predicates.equalTo(firstTs))) {
                return get("get", tableRef, timestampByCell.keySet(), firstTs);
            }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java

        // Fetch all columns for the above rows directly
        return Lists.transform(
                table.getRows(Lists.transform(rows, SweepPriorityRowResult::getRowName)),
                SweepPriorityStoreImpl::hydrate);
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
            } else {
                toRemove = tx.getRows(
                                minusTable, Lists.transform(batch, RowResult.getRowNameFun()), ColumnSelection.all())
                        .values();
            }
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            TableReference table, Iterable<byte[]> rows, BatchColumnRangeSelection range, Comparator<Cell> comparator) {
        Iterator<Map.Entry<Cell, byte[]>> merged = mergeByComparator(
                Iterables.transform(rows, row -> getReadsInColumnRangeSkippingWrites(table, row, range)
                        .entrySet()
                        .iterator()),
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
        Iterable<BatchingVisitable<RowResult<byte[]>>> ret = super.getRanges(tableRef, rangeRequests);
        Iterable<Pair<RangeRequest, BatchingVisitable<RowResult<byte[]>>>> zip = IterableUtils.zip(rangeRequests, ret);
        return Iterables.transform(zip, pair -> wrapRange(tableRef, pair.lhSide, pair.rhSide));
    }

```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                // NB: If the value has changed between read and write, our normal SI checking handles this case
                Iterable<Cell> batchWithoutWrites = writesByTable.get(table) != null
                        ? Iterables.filter(
                                batch,
                                Predicates.not(
```

### StaticPseudoFunctionalStyleMethod
Pseudo functional style code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Comparator<Cell> cellComparator) {
        return mergeByComparator(
                Iterables.transform(rows, row -> getLocalWritesForColumnRange(tableRef, columns, row)
                        .entrySet()
                        .iterator()),
```

## RuleId[ruleID=DuplicateBranchesInSwitch]
### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                 * but until then we need duplicate Google's method of storing the two's complement.
                 */
                value = tokenizer.consumeInt64();
                break;

```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java

                case CLOSED:
                    break;
            }
        } finally {
```

## RuleId[ruleID=RegExpSimplifiable]
### RegExpSimplifiable
`[\n]` can be simplified to ' '
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/timer/SqlStatsSqlTimer.java`
#### Snippet
```java
        final TimingState timingState;
        if (LoggerFactory.getLogger("com.palantir.nexus.db.SQL").isTraceEnabled()) {
            String sql = rawSql.replaceAll("[\n]+", "");
            String msg = System.currentTimeMillis() + "\tSQL\t" + module + "\t" + sql;
            timingState = timer.begin(msg);
```

### RegExpSimplifiable
`[\\w]` can be simplified to '\\w'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Namespace.java`
#### Snippet
```java
     * Restrictive name pattern (letters, numbers, and non-initial single underscores).
     */
    public static final Pattern STRICTLY_CHECKED_NAME = Pattern.compile("^^(?!.*__.*)[a-zA-Z0-9][\\w]*$");

    private final String name;
```

### RegExpSimplifiable
`{` can be simplified to '\*'
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/module/AtlasCoreModule.groovy`
#### Snippet
```java

        // Regular expression for inserting a '\n' every <width> characters
        val = val.replaceAll('(.{' + (width - COLUMN_PADDING) + '})', '$1\n')

        if (val == null) {
```

## RuleId[ruleID=EmptySynchronizedStatement]
### EmptySynchronizedStatement
Empty `synchronized` statement
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java
    public void blockUntilSafeToShutdown() {
        shutdownSignal = true;
        synchronized (this) {
            // blocking until no thread is in the synchronized blocks anymore
        }
```

## RuleId[ruleID=StringBufferReplaceableByString]
### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `commons-api/src/main/java/com/palantir/util/sql/VerboseSQLException.java`
#### Snippet
```java
            return super.getMessage();
        }
        StringBuilder sb = new StringBuilder();
        sb.append(verboseErrorMessage);
        sb.append(": ");
```

### StringBufferReplaceableByString
`StringBuilder out` can be replaced with 'String'
in `atlasdb-commons/src/main/java/com/palantir/util/Pair.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder out = new StringBuilder("Pair(");
        out.append(lhSide).append(", ").append(rhSide).append(")");
        return out.toString();
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
            StackTraceElement elements[] = entry.getValue();

            printWriter.println(new StringBuilder().append(t));
            printStackTrace(printWriter, elements);
            printWriter.println();
```

## RuleId[ruleID=NonShortCircuitBoolean]
### NonShortCircuitBoolean
Non-short-circuit boolean expression `isValid &= cmap.containsKey(colName.toLowerCase(Locale.ROOT))`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
        boolean isValid = true;
        for (String colName : cmap.keySet()) {
            isValid &= cmap.containsKey(colName.toLowerCase(Locale.ROOT));
            isValid &= cmap.containsKey(colName.toUpperCase(Locale.ROOT));
            isValid &= (cmap.get(colName.toLowerCase(Locale.ROOT)) == cmap.get(colName.toUpperCase(Locale.ROOT)));
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `isValid &= cmap.containsKey(colName.toUpperCase(Locale.ROOT))`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
        for (String colName : cmap.keySet()) {
            isValid &= cmap.containsKey(colName.toLowerCase(Locale.ROOT));
            isValid &= cmap.containsKey(colName.toUpperCase(Locale.ROOT));
            isValid &= (cmap.get(colName.toLowerCase(Locale.ROOT)) == cmap.get(colName.toUpperCase(Locale.ROOT)));
        }
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `isValid &= (cmap.get(colName.toLowerCase(Locale.ROOT)) == cmap.get(colName.toUpperCase(Locale.ROOT))...`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
            isValid &= cmap.containsKey(colName.toLowerCase(Locale.ROOT));
            isValid &= cmap.containsKey(colName.toUpperCase(Locale.ROOT));
            isValid &= (cmap.get(colName.toLowerCase(Locale.ROOT)) == cmap.get(colName.toUpperCase(Locale.ROOT)));
        }
        return isValid;
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `hasUniform |= p instanceof UniformRowNamePartitioner`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
        boolean hasUniform = false;
        for (RowNamePartitioner p : partitioners) {
            hasUniform |= p instanceof UniformRowNamePartitioner;
            if (p instanceof ExplicitRowNamePartitioner) {
                explicit.addAll(((ExplicitRowNamePartitioner) p).values);
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `success &= Arrays.equals(actual, entry.getValue())`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                    actualValues.put(cell, actual);
                }
                success &= Arrays.equals(actual, entry.getValue());
            }
            if (!success) {
```

### NonShortCircuitBoolean
Non-short-circuit boolean expression `visitorAlwaysReturnedTrue &= ret`
in `atlasdb-commons/src/main/java/com/palantir/common/base/AbstractBatchingVisitable.java`
#### Snippet
```java
        private boolean visitBufferWithDelegate(List<T> list) throws K {
            boolean ret = v.visit(list);
            visitorAlwaysReturnedTrue &= ret;
            return ret;
        }
```

## RuleId[ruleID=UnnecessaryReturn]
### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `lock-api/src/main/java/com/palantir/lock/client/TimestampCorroboratingTimelockService.java`
#### Snippet
```java
            case TRANSACTION:
                lowerBoundFromTransaction.accumulateAndGet(boundsRecord, this::maxBoundsRecord);
                return;
        }
    }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
                        c.commit();

                        return;
                    } finally {
                        c.close();
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java

        if (atLeastOneHostResponded && aliveButInvalidPartitionerNodes.size() == 0) {
            return;
        } else {
            throw new RuntimeException(errorBuilderForEntireCluster.toString());
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
            }
        } catch (TException e) {
            return;
        }
    }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java

        if (isClosed) {
            return;
        } else {
            leadershipTokenRef.set(leadershipToken);
```

## RuleId[ruleID=ManualMinMaxCalculation]
### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        }
        double ret = lerp(prevPerc, millis / 2.0, percent, (double) millis, mustBeBellow);
        if (ret > maxInMillis) {
            return maxInMillis;
        }
```

## RuleId[ruleID=AbstractClassNeverImplemented]
### AbstractClassNeverImplemented
Abstract class `SimpleLockRequest` has no concrete subclass
in `lock-impl/src/main/java/com/palantir/lock/logger/SimpleLockRequest.java`
#### Snippet
```java

@Value.Immutable
public abstract class SimpleLockRequest {

    public static SimpleLockRequest of(LockRequest request, String lockDescriptor, LockMode lockMode, String clientId) {
```

### AbstractClassNeverImplemented
Abstract class `SimpleTokenInfo` has no concrete subclass
in `lock-impl/src/main/java/com/palantir/lock/logger/SimpleTokenInfo.java`
#### Snippet
```java

@Value.Immutable
public abstract class SimpleTokenInfo {
    public static SimpleTokenInfo of(HeldLocksToken token, LockMode lockMode) {
        return ImmutableSimpleTokenInfo.builder()
```

### AbstractClassNeverImplemented
Abstract class `DerivedSnapshotConfig` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/DerivedSnapshotConfig.java`
#### Snippet
```java
 */
@Value.Immutable
public abstract class DerivedSnapshotConfig {

    /**
```

### AbstractClassNeverImplemented
Abstract class `LeaderRuntimeConfig` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/config/LeaderRuntimeConfig.java`
#### Snippet
```java

@Value.Immutable
public abstract class LeaderRuntimeConfig {

    @Value.Default
```

### AbstractClassNeverImplemented
Abstract class `LeaderConfig` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/config/LeaderConfig.java`
#### Snippet
```java
@Value.Immutable
@SuppressWarnings("DesignForExtension")
public abstract class LeaderConfig {

    public abstract int quorumSize();
```

### AbstractClassNeverImplemented
Abstract class `CellReference` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CellReference.java`
#### Snippet
```java

@Value.Immutable
public abstract class CellReference {
    private static final HashFunction rowHash = Hashing.murmur3_32(0);
    private static final HashFunction colHash = Hashing.murmur3_32(1);
```

### AbstractClassNeverImplemented
Abstract class `Supported` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CheckAndSetCompatibility.java`
#### Snippet
```java

    @Value.Immutable
    abstract class Supported implements CheckAndSetCompatibility {
        @Override
        public boolean supportsCheckAndSetOperations() {
```

### AbstractClassNeverImplemented
Abstract class `TargetedSweepMetadata` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/TargetedSweepMetadata.java`
#### Snippet
```java

@Value.Immutable
public abstract class TargetedSweepMetadata implements Persistable {
    public abstract boolean conservative();

```

### AbstractClassNeverImplemented
Abstract class `CheckAndSetRequest` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CheckAndSetRequest.java`
#### Snippet
```java
 */
@Value.Immutable
public abstract class CheckAndSetRequest {
    public abstract TableReference table();

```

### AbstractClassNeverImplemented
Abstract class `SweepResults` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableSweepResults.class)
@Value.Immutable
public abstract class SweepResults {

    @Nullable
```

### AbstractClassNeverImplemented
Abstract class `RowLockDescriptorMapping` has no concrete subclass
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/RowLockDescriptorMapping.java`
#### Snippet
```java
@Value.Immutable
@PackageVisibleImmutablesStyle
public abstract class RowLockDescriptorMapping {
    abstract Map<LockDescriptor, RowReference> mapping();

```

### AbstractClassNeverImplemented
Abstract class `MigratorSpec` has no concrete subclass
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KeyValueServiceMigrators.java`
#### Snippet
```java

    @Value.Immutable
    abstract static class MigratorSpec {
        public abstract AtlasDbServices fromServices();

```

### AbstractClassNeverImplemented
Abstract class `PerformanceResult` has no concrete subclass
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/PerformanceResults.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutablePerformanceResult.class)
    @Value.Immutable
    abstract static class PerformanceResult {
        public abstract long date();

```

### AbstractClassNeverImplemented
Abstract class `AbstractWideRowsTable` has no concrete subclass
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/AbstractWideRowsTable.java`
#### Snippet
```java

@State(Scope.Benchmark)
public abstract class AbstractWideRowsTable {
    private final int numRows;
    private final int numColumnsPerRow;
```

### AbstractClassNeverImplemented
Abstract class `DbKeyValueServiceRuntimeConfig` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
@JsonTypeName(DbAtlasDbFactory.TYPE)
@Value.Immutable
public abstract class DbKeyValueServiceRuntimeConfig implements KeyValueServiceRuntimeConfig {

    @Override
```

### AbstractClassNeverImplemented
Abstract class `H2DdlConfig` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/H2DdlConfig.java`
#### Snippet
```java
@JsonTypeName(H2DdlConfig.TYPE)
@Value.Immutable
public abstract class H2DdlConfig extends DdlConfig {
    public static final String TYPE = "h2";

```

### AbstractClassNeverImplemented
Abstract class `DdlConfig` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DdlConfig.java`
#### Snippet
```java
    @JsonSubTypes.Type(H2DdlConfig.class)
})
public abstract class DdlConfig {
    public abstract String type();

```

### AbstractClassNeverImplemented
Abstract class `OracleDdlConfig` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleDdlConfig.java`
#### Snippet
```java
@Value.Immutable
@JsonIgnoreProperties("jdbcHandler")
public abstract class OracleDdlConfig extends DdlConfig {
    public static final String TYPE = "oracle";

```

### AbstractClassNeverImplemented
Abstract class `PostgresDdlConfig` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/PostgresDdlConfig.java`
#### Snippet
```java
@JsonTypeName(PostgresDdlConfig.TYPE)
@Value.Immutable
public abstract class PostgresDdlConfig extends DdlConfig {
    public static final String TYPE = "postgres";

```

### AbstractClassNeverImplemented
Abstract class `DbKeyValueServiceConfig` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbKeyValueServiceConfig.java`
#### Snippet
```java
@JsonTypeName(DbAtlasDbFactory.TYPE)
@Value.Immutable
public abstract class DbKeyValueServiceConfig implements KeyValueServiceConfig {
    public abstract DdlConfig ddl();

```

### AbstractClassNeverImplemented
Abstract class `RowsColumnRangeBatchRequest` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/RowsColumnRangeBatchRequest.java`
#### Snippet
```java
 */
@Value.Immutable
public abstract class RowsColumnRangeBatchRequest {
    public abstract Optional<Map.Entry<byte[], BatchColumnRangeSelection>> getPartialFirstRow();

```

### AbstractClassNeverImplemented
Abstract class `Token` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/Token.java`
#### Snippet
```java
@Value.Immutable
@SuppressWarnings("ClassInitializationDeadlock")
abstract class Token {
    @Nullable
    abstract byte[] row();
```

### AbstractClassNeverImplemented
Abstract class `CellTsPairToken` has no concrete subclass
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/sweep/CellTsPairToken.java`
#### Snippet
```java

@Value.Immutable
public abstract class CellTsPairToken {
    public abstract byte[] startRowInclusive();

```

### AbstractClassNeverImplemented
Abstract class `BCryptedSecret` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/api/BCryptedSecret.java`
#### Snippet
```java

@Value.Immutable
public abstract class BCryptedSecret {
    private static final SafeLogger log = SafeLoggerFactory.get(BCryptedSecret.class);

```

### AbstractClassNeverImplemented
Abstract class `NamespacePrivileges` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/config/NamespacePrivileges.java`
#### Snippet
```java

@Value.Immutable
public abstract class NamespacePrivileges implements Privileges {
    abstract Set<TimelockNamespace> namespaces();

```

### AbstractClassNeverImplemented
Abstract class `AdminPrivilegesConfiguration` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/config/AdminPrivilegesConfiguration.java`
#### Snippet
```java
@JsonTypeName(AdminPrivilegesConfiguration.TYPE)
@Value.Immutable
public abstract class AdminPrivilegesConfiguration implements PrivilegesConfiguration {
    static final String TYPE = "admin";

```

### AbstractClassNeverImplemented
Abstract class `ClientPrivilegesConfiguration` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/config/ClientPrivilegesConfiguration.java`
#### Snippet
```java
@JsonTypeName(ClientPrivilegesConfiguration.TYPE)
@Value.Immutable
public abstract class ClientPrivilegesConfiguration implements PrivilegesConfiguration {
    static final String TYPE = "client";

```

### AbstractClassNeverImplemented
Abstract class `LockRequestSpecification` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Value.Immutable
    abstract static class LockRequestSpecification {
        @Value.Parameter
        abstract String method();
```

### AbstractClassNeverImplemented
Abstract class `AcceptorCacheKey` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AcceptorCacheKey.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableAcceptorCacheKey.class)
@JsonSerialize(as = ImmutableAcceptorCacheKey.class)
public abstract class AcceptorCacheKey {

    @JsonValue
```

### AbstractClassNeverImplemented
Abstract class `TimelockPaxosMetrics` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/TimelockPaxosMetrics.java`
#### Snippet
```java

@Value.Immutable
public abstract class TimelockPaxosMetrics {

    abstract PaxosUseCase paxosUseCase();
```

### AbstractClassNeverImplemented
Abstract class `TimeLimiterConfiguration` has no concrete subclass
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/config/TimeLimiterConfiguration.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableTimeLimiterConfiguration.class)
@Value.Immutable
public abstract class TimeLimiterConfiguration {
    public static final double DEFAULT_BLOCKING_TIMEOUT_ERROR_MARGIN = 0.03;

```

### AbstractClassNeverImplemented
Abstract class `TableMetadata` has no concrete subclass
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableMetadata.java`
#### Snippet
```java
@Value.Immutable
@TableMetadataStyle
public abstract class TableMetadata implements Persistable {

    @Value.Default
```

### AbstractClassNeverImplemented
Abstract class `SafeLoggableData` has no concrete subclass
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/SafeLoggableData.java`
#### Snippet
```java

@Value.Immutable
public abstract class SafeLoggableData implements KeyValueServiceLogArbitrator {
    public abstract Set<TableReference> permittedTableReferences();

```

### AbstractClassNeverImplemented
Abstract class `WriteReference` has no concrete subclass
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/api/WriteReference.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableWriteReference.class)
@Value.Immutable
public abstract class WriteReference {

    @JsonProperty("t")
```

### AbstractClassNeverImplemented
Abstract class `SweepConfig` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/SweepConfig.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableSweepConfig.class)
@Value.Immutable
public abstract class SweepConfig {
    /**
     * If true, a background thread will periodically delete cells that have been overwritten or deleted. This differs
```

### AbstractClassNeverImplemented
Abstract class `TimeLockRuntimeConfig` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimeLockRuntimeConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableTimeLockRuntimeConfig.class)
@Value.Immutable
public abstract class TimeLockRuntimeConfig {
    @Value.Default
    public ServerListConfig serversList() {
```

### AbstractClassNeverImplemented
Abstract class `AtlasDbRuntimeConfig` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbRuntimeConfig.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableAtlasDbRuntimeConfig.class)
@Value.Immutable
public abstract class AtlasDbRuntimeConfig {

    /**
```

### AbstractClassNeverImplemented
Abstract class `TimestampClientConfig` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimestampClientConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableTimestampClientConfig.class)
@Value.Immutable(singleton = true)
public abstract class TimestampClientConfig {
    /**
     * @deprecated this is ignored since timestamp batching is now always on.
```

### AbstractClassNeverImplemented
Abstract class `AtlasDbConfig` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
@JsonIgnoreProperties(value = {"enableSweep", "persistentStorage"})
@Value.Immutable
public abstract class AtlasDbConfig {

    private static final SafeLogger log = SafeLoggerFactory.get(AtlasDbConfig.class);
```

### AbstractClassNeverImplemented
Abstract class `TimeLockClientConfig` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimeLockClientConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableTimeLockClientConfig.class)
@Value.Immutable
public abstract class TimeLockClientConfig {

    /**
```

### AbstractClassNeverImplemented
Abstract class `TransactionManagers` has no concrete subclass
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
@Value.Immutable
@StagedBuilderStyle
public abstract class TransactionManagers {
    private static final SafeLogger log = SafeLoggerFactory.get(TransactionManagers.class);
    public static final LockClient LOCK_CLIENT = LockClient.of("atlas instance");
```

### AbstractClassNeverImplemented
Abstract class `AtlasDbServices` has no concrete subclass
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/AtlasDbServices.java`
#### Snippet
```java
            TransactionManagerModule.class
        })
public abstract class AtlasDbServices implements AutoCloseable {

    public abstract AtlasDbConfig getAtlasDbConfig();
```

### AbstractClassNeverImplemented
Abstract class `Bindings` has no concrete subclass
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/LockAndTimestampModule.java`
#### Snippet
```java

    @Module
    public abstract static class Bindings {
        @Binds
        abstract TimestampService asTimestampService(ManagedTimestampService unused);
```

### AbstractClassNeverImplemented
Abstract class `ServicesConfig` has no concrete subclass
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/ServicesConfig.java`
#### Snippet
```java

@Value.Immutable
public abstract class ServicesConfig {

    public abstract AtlasDbConfig atlasDbConfig();
```

### AbstractClassNeverImplemented
Abstract class `TestAtlasDbServices` has no concrete subclass
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestAtlasDbServices.java`
#### Snippet
```java
            TestTransactionManagerModule.class
        })
public abstract class TestAtlasDbServices extends AtlasDbServices {

    public abstract LockClient getTestLockClient();
```

### AbstractClassNeverImplemented
Abstract class `PaxosResources` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosResources.java`
#### Snippet
```java

@Value.Immutable
public abstract class PaxosResources {

    public abstract NetworkClientFactories.Factory<ManagedTimestampService> timestampServiceFactory();
```

### AbstractClassNeverImplemented
Abstract class `BatchingNetworkClientFactories` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingNetworkClientFactories.java`
#### Snippet
```java
@SuppressWarnings("immutables:subtype")
@Value.Immutable
abstract class BatchingNetworkClientFactories implements NetworkClientFactories, Dependencies.NetworkClientFactories {

    @Value.Auxiliary
```

### AbstractClassNeverImplemented
Abstract class `Builder` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingNetworkClientFactories.java`
#### Snippet
```java
    }

    public abstract static class Builder implements NetworkClientFactories.Builder {}
}

```

### AbstractClassNeverImplemented
Abstract class `SingleLeaderPingerFactory` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java

    @Value.Immutable
    abstract class SingleLeaderPingerFactory implements LeaderPingerFactoryContainer, Dependencies.LeaderPinger {

        @Value.Derived
```

### AbstractClassNeverImplemented
Abstract class `Builder` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java
        }

        public abstract static class Builder implements LeaderPingerFactoryContainer.Builder {}
    }
}
```

### AbstractClassNeverImplemented
Abstract class `BatchingLeaderPingerFactory` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java

    @Value.Immutable
    abstract class BatchingLeaderPingerFactory implements LeaderPingerFactoryContainer, Dependencies.LeaderPinger {

        @Value.Derived
```

### AbstractClassNeverImplemented
Abstract class `Builder` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java
        }

        public abstract static class Builder implements LeaderPingerFactoryContainer.Builder {}
    }

```

### AbstractClassNeverImplemented
Abstract class `TimelockLeadershipMetrics` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/TimelockLeadershipMetrics.java`
#### Snippet
```java

@Value.Immutable
public abstract class TimelockLeadershipMetrics implements Dependencies.LeadershipMetrics {
    @Value.Derived
    List<SafeArg<String>> namespaceAsLoggingArgs() {
```

### AbstractClassNeverImplemented
Abstract class `Builder` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/SingleLeaderNetworkClientFactories.java`
#### Snippet
```java
    }

    public abstract static class Builder implements NetworkClientFactories.Builder {}
}

```

### AbstractClassNeverImplemented
Abstract class `SingleLeaderNetworkClientFactories` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/SingleLeaderNetworkClientFactories.java`
#### Snippet
```java
@SuppressWarnings("immutables:subtype")
@Value.Immutable
abstract class SingleLeaderNetworkClientFactories
        implements NetworkClientFactories, Dependencies.NetworkClientFactories {

```

### AbstractClassNeverImplemented
Abstract class `ClientAwareComponents` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipContextFactory.java`
#### Snippet
```java

    @Value.Immutable
    abstract static class ClientAwareComponents
            implements Dependencies.ClientAwareComponents,
                    Dependencies.LeaderElectionService,
```

### AbstractClassNeverImplemented
Abstract class `LeadershipContextFactory` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipContextFactory.java`
#### Snippet
```java

@Value.Immutable
public abstract class LeadershipContextFactory
        implements NetworkClientFactories.Factory<LeadershipContext>,
                Dependencies.NetworkClientFactories,
```

### AbstractClassNeverImplemented
Abstract class `LeadershipContext` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java

    @Value.Immutable
    abstract static class LeadershipContext {
        abstract LeaderElectionService leaderElectionService();

```

### AbstractClassNeverImplemented
Abstract class `PaxosRemoteClients` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosRemoteClients.java`
#### Snippet
```java

@Value.Immutable
public abstract class PaxosRemoteClients {

    @Value.Parameter
```

### AbstractClassNeverImplemented
Abstract class `DatabaseTsBoundPersisterConfiguration` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/timelock/config/DatabaseTsBoundPersisterConfiguration.java`
#### Snippet
```java
@JsonTypeName("database")
@Value.Immutable
public abstract class DatabaseTsBoundPersisterConfiguration implements TsBoundPersisterConfiguration {

    @JsonProperty("key-value-service")
```

### AbstractClassNeverImplemented
Abstract class `PaxosTsBoundPersisterConfiguration` has no concrete subclass
in `timelock-agent/src/main/java/com/palantir/timelock/config/PaxosTsBoundPersisterConfiguration.java`
#### Snippet
```java
@JsonTypeName("paxos")
@Value.Immutable
public abstract class PaxosTsBoundPersisterConfiguration implements TsBoundPersisterConfiguration {
    @Override
    public boolean isLocationallyIncompatible(TsBoundPersisterConfiguration other) {
```

### AbstractClassNeverImplemented
Abstract class `FullyBoundedTimestampRange` has no concrete subclass
in `timestamp-impl/src/main/java/com/palantir/timestamp/FullyBoundedTimestampRange.java`
#### Snippet
```java

@Value.Immutable
public abstract class FullyBoundedTimestampRange {
    abstract Range<Long> delegate();

```

### AbstractClassNeverImplemented
Abstract class `NanoTime` has no concrete subclass
in `atlasdb-commons/src/main/java/com/palantir/common/time/NanoTime.java`
#### Snippet
```java
@Value.Immutable
@PackageVisibleImmutablesStyle
public abstract class NanoTime implements Comparable<NanoTime> {
    @JsonValue
    abstract long time();
```

### AbstractClassNeverImplemented
Abstract class `AbstractDelegatingInvocationHandler` has no concrete subclass
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/AbstractDelegatingInvocationHandler.java`
#### Snippet
```java
import java.lang.reflect.Method;

public abstract class AbstractDelegatingInvocationHandler implements DelegatingInvocationHandler {

    @Override
```

### AbstractClassNeverImplemented
Abstract class `ForwardingPoolingContainer` has no concrete subclass
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/ForwardingPoolingContainer.java`
#### Snippet
```java
import com.palantir.common.base.FunctionCheckedException;

public abstract class ForwardingPoolingContainer<T> extends ForwardingObject implements PoolingContainer<T> {

    @Override
```

### AbstractClassNeverImplemented
Abstract class `AbstractPoolingContainer` has no concrete subclass
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java
 * resource if there are none in the pool.
 */
public abstract class AbstractPoolingContainer<T> implements PoolingContainer<T> {
    private static final SafeLogger log = SafeLoggerFactory.get(AbstractPoolingContainer.class);

```

### AbstractClassNeverImplemented
Abstract class `ClientOptions` has no concrete subclass
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ClientOptions.java`
#### Snippet
```java

@Value.Immutable
public abstract class ClientOptions {

    public abstract Duration connectTimeout();
```

### AbstractClassNeverImplemented
Abstract class `LockWithClient` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/LockWithClient.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableLockWithClient.class)
@JsonDeserialize(as = ImmutableLockWithClient.class)
public abstract class LockWithClient {
    @Value.Parameter
    public abstract LockDescriptor getLockDescriptor();
```

### AbstractClassNeverImplemented
Abstract class `Lease` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/v2/Lease.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableLease.class)
@JsonDeserialize(as = ImmutableLease.class)
public abstract class Lease {
    @Value.Parameter
    public abstract LeaderTime leaderTime();
```

### AbstractClassNeverImplemented
Abstract class `LeadershipId` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LeadershipId.java`
#### Snippet
```java
@Value.Immutable
@PackageVisibleImmutablesStyle
public abstract class LeadershipId {
    @JsonValue
    @Value.Parameter
```

### AbstractClassNeverImplemented
Abstract class `StartAtlasDbTransactionResponseV3` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/v2/StartAtlasDbTransactionResponseV3.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableStartAtlasDbTransactionResponseV3.class)
@JsonDeserialize(as = ImmutableStartAtlasDbTransactionResponseV3.class)
public abstract class StartAtlasDbTransactionResponseV3 {
    @Value.Parameter
    public abstract LockImmutableTimestampResponse immutableTimestamp();
```

### AbstractClassNeverImplemented
Abstract class `LeaderTime` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LeaderTime.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableLeaderTime.class)
@JsonDeserialize(as = ImmutableLeaderTime.class)
public abstract class LeaderTime {
    @Value.Parameter
    public abstract LeadershipId id();
```

### AbstractClassNeverImplemented
Abstract class `ExactRow` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchReferences.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutableExactRow.class)
    @JsonTypeName(ExactRow.TYPE)
    abstract static class ExactRow implements LockWatchReference {
        static final String TYPE = "exactRow";

```

### AbstractClassNeverImplemented
Abstract class `RowRange` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchReferences.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutableRowRange.class)
    @JsonTypeName(RowRange.TYPE)
    abstract static class RowRange implements LockWatchReference {
        static final String TYPE = "rowRange";

```

### AbstractClassNeverImplemented
Abstract class `RowPrefix` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchReferences.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutableRowPrefix.class)
    @JsonTypeName(RowPrefix.TYPE)
    abstract static class RowPrefix implements LockWatchReference {
        static final String TYPE = "rowPrefix";

```

### AbstractClassNeverImplemented
Abstract class `ExactCell` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchReferences.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutableExactCell.class)
    @JsonTypeName(ExactCell.TYPE)
    abstract static class ExactCell implements LockWatchReference {
        static final String TYPE = "exactCell";

```

### AbstractClassNeverImplemented
Abstract class `EntireTable` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchReferences.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutableEntireTable.class)
    @JsonTypeName(EntireTable.TYPE)
    abstract static class EntireTable implements LockWatchReference {
        static final String TYPE = "fullTable";

```

### AbstractClassNeverImplemented
Abstract class `LockEvent` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockEvent.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableLockEvent.class)
@JsonTypeName(LockEvent.TYPE)
public abstract class LockEvent implements LockWatchEvent {
    static final String TYPE = "lock";

```

### AbstractClassNeverImplemented
Abstract class `UnlockEvent` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/UnlockEvent.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableUnlockEvent.class)
@JsonTypeName(UnlockEvent.TYPE)
public abstract class UnlockEvent implements LockWatchEvent {
    static final String TYPE = "unlock";

```

### AbstractClassNeverImplemented
Abstract class `LockWatchCreatedEvent` has no concrete subclass
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchCreatedEvent.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableLockWatchCreatedEvent.class)
@JsonTypeName(LockWatchCreatedEvent.TYPE)
public abstract class LockWatchCreatedEvent implements LockWatchEvent {
    static final String TYPE = "created";

```

### AbstractClassNeverImplemented
Abstract class `CqlQuery` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlQuery.java`
#### Snippet
```java

@Value.Immutable
public abstract class CqlQuery {
    public abstract String safeQueryFormat();

```

### AbstractClassNeverImplemented
Abstract class `CqlSinglePartitionBatchQuery` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlSinglePartitionBatchQuery.java`
#### Snippet
```java

@Value.Immutable
public abstract class CqlSinglePartitionBatchQuery {
    abstract List<CqlQuery> individualQueryStatements();

```

### AbstractClassNeverImplemented
Abstract class `CellWithTimestamp` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/sweep/CellWithTimestamp.java`
#### Snippet
```java

@Value.Immutable
public abstract class CellWithTimestamp {
    public abstract Cell cell();

```

### AbstractClassNeverImplemented
Abstract class `CassandraTracingConfig` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraTracingConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableCassandraTracingConfig.class)
@JsonSerialize(as = ImmutableCassandraTracingConfig.class)
public abstract class CassandraTracingConfig {
    private static final SafeLogger log = SafeLoggerFactory.get(CassandraTracingConfig.class);
    private static final AtomicBoolean loggedWarning = new AtomicBoolean();
```

### AbstractClassNeverImplemented
Abstract class `CassandraJmxCompactionConfig` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraJmxCompactionConfig.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableCassandraJmxCompactionConfig.class)
@Value.Immutable
public abstract class CassandraJmxCompactionConfig {
    @Value.Default
    public boolean ssl() {
```

### AbstractClassNeverImplemented
Abstract class `CassandraCellLoadingConfig` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraCellLoadingConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableCassandraCellLoadingConfig.class)
@Value.Immutable
public abstract class CassandraCellLoadingConfig {
    /**
     * Implementations of Cassandra KVS may combine requests for different columns in a single call to the database.
```

### AbstractClassNeverImplemented
Abstract class `CqlCapableConfig` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraServersConfigs.java`
#### Snippet
```java
    @JsonTypeName(CqlCapableConfig.TYPE)
    @Value.Immutable
    public abstract static class CqlCapableConfig implements CassandraServersConfig {
        static final String TYPE = "cqlCapable";

```

### AbstractClassNeverImplemented
Abstract class `DefaultConfig` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraServersConfigs.java`
#### Snippet
```java
    @JsonSerialize(as = ImmutableDefaultConfig.class)
    @JsonTypeName(DefaultConfig.TYPE)
    public abstract static class DefaultConfig implements CassandraServersConfig {
        static final String TYPE = "default";

```

### AbstractClassNeverImplemented
Abstract class `RangesForRepair` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RangesForRepair.java`
#### Snippet
```java
@Value.Immutable
@SuppressWarnings("UnstableApiUsage")
public abstract class RangesForRepair {
    public abstract Map<InetSocketAddress, RangeSet<LightweightOppToken>> tokenMap();

```

### AbstractClassNeverImplemented
Abstract class `TransactionTableEntry` has no concrete subclass
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/transaction/TransactionTableEntry.java`
#### Snippet
```java

@Data
public abstract class TransactionTableEntry {
    public interface Cases<R> {
        R explicitlyAborted(long startTimestamp);
```

### AbstractClassNeverImplemented
Abstract class `Todo` has no concrete subclass
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/todo/Todo.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableTodo.class)
@JsonDeserialize(as = ImmutableTodo.class)
public abstract class Todo {
    @JsonProperty
    @Value.Parameter
```

### AbstractClassNeverImplemented
Abstract class `AbstractForwardingScheduledExecutorService` has no concrete subclass
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java
import java.util.concurrent.TimeUnit;

public abstract class AbstractForwardingScheduledExecutorService extends AbstractExecutorService
        implements ScheduledExecutorService {

```

### AbstractClassNeverImplemented
Abstract class `SweepPerformanceResults` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepPerformanceResults.java`
#### Snippet
```java

@Value.Immutable
public abstract class SweepPerformanceResults {

    public abstract SweepResults sweepResults();
```

### AbstractClassNeverImplemented
Abstract class `SweepCompactionPerformanceResults` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepCompactionPerformanceResults.java`
#### Snippet
```java

@Value.Immutable
public abstract class SweepCompactionPerformanceResults {

    public abstract String tableName();
```

### AbstractClassNeverImplemented
Abstract class `SweepIterationResult` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepIterationResult.java`
#### Snippet
```java

@Data
public abstract class SweepIterationResult {
    public interface Cases<R> {
        R success(long entriesSwept);
```

### AbstractClassNeverImplemented
Abstract class `ShardAndStrategy` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/ShardAndStrategy.java`
#### Snippet
```java

@Value.Immutable
public abstract class ShardAndStrategy {
    public abstract int shard();

```

### AbstractClassNeverImplemented
Abstract class `TargetedSweepRuntimeConfig` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/config/TargetedSweepRuntimeConfig.java`
#### Snippet
```java
@JsonIgnoreProperties("batchShardIterations")
@Value.Immutable
public abstract class TargetedSweepRuntimeConfig {
    /**
     * If true, targeted sweep will be performed in the background. Setting this to false will cause the background
```

### AbstractClassNeverImplemented
Abstract class `SweepPriorityOverrideConfig` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityOverrideConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableSweepPriorityOverrideConfig.class)
@Value.Immutable
public abstract class SweepPriorityOverrideConfig {
    /**
     * Fully qualified table references (of the form namespace.tablename) that the background sweeper should
```

### AbstractClassNeverImplemented
Abstract class `TransactionConfig` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/TransactionConfig.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableTransactionConfig.class)
@Value.Immutable
public abstract class TransactionConfig {

    @Value.Default
```

### AbstractClassNeverImplemented
Abstract class `TimestampCorroborationConsistencyCheck` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/consistency/TimestampCorroborationConsistencyCheck.java`
#### Snippet
```java
 */
@Value.Immutable
public abstract class TimestampCorroborationConsistencyCheck implements TransactionManagerConsistencyCheck {
    private static final SafeLogger log = SafeLoggerFactory.get(TimestampCorroborationConsistencyCheck.class);

```

### AbstractClassNeverImplemented
Abstract class `InternalSchemaMetadataState` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaMetadataState.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableInternalSchemaMetadataState.class)
@JsonDeserialize(as = ImmutableInternalSchemaMetadataState.class)
public abstract class InternalSchemaMetadataState {
    public abstract Optional<ValueAndBound<InternalSchemaMetadata>> value();

```

### AbstractClassNeverImplemented
Abstract class `InternalSchemaInstallConfig` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaInstallConfig.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableInternalSchemaInstallConfig.class)
@JsonDeserialize(as = ImmutableInternalSchemaInstallConfig.class)
public abstract class InternalSchemaInstallConfig {

    /**
```

### AbstractClassNeverImplemented
Abstract class `InternalSchemaRuntimeConfig` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaRuntimeConfig.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableInternalSchemaRuntimeConfig.class)
@JsonDeserialize(as = ImmutableInternalSchemaRuntimeConfig.class)
public abstract class InternalSchemaRuntimeConfig {
    /**
     * If specified, attempts to install the provided transactions schema version to this AtlasDB installation.
```

### AbstractClassNeverImplemented
Abstract class `TimestampPartitioningMap` has no concrete subclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableTimestampPartitioningMap.class)
@JsonDeserialize(as = ImmutableTimestampPartitioningMap.class)
public abstract class TimestampPartitioningMap<T> {
    private static final Range<Long> ALL_TIMESTAMPS = Range.atLeast(1L);

```

### AbstractClassNeverImplemented
Abstract class `PaxosRound` has no concrete subclass
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosRound.java`
#### Snippet
```java

@Value.Immutable
public abstract class PaxosRound<V extends Persistable & Versionable> {
    public abstract long sequence();

```

### AbstractClassNeverImplemented
Abstract class `Client` has no concrete subclass
in `leader-election-api/src/main/java/com/palantir/paxos/Client.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableClient.class)
@JsonSerialize(as = ImmutableClient.class)
public abstract class Client {

    private static final BitSet allowedCharacters = new BitSet();
```

### AbstractClassNeverImplemented
Abstract class `MaskedValue` has no concrete subclass
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/MaskedValue.java`
#### Snippet
```java
@JsonSerialize(as = ImmutableMaskedValue.class)
@Value.Immutable(builder = false)
public abstract class MaskedValue {
    @Value.Parameter
    abstract String value();
```

### AbstractClassNeverImplemented
Abstract class `H2ConnectionConfig` has no concrete subclass
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/H2ConnectionConfig.java`
#### Snippet
```java
@JsonTypeName(H2ConnectionConfig.TYPE)
@Value.Immutable
public abstract class H2ConnectionConfig extends ConnectionConfig {

    public static final String TYPE = "h2";
```

### AbstractClassNeverImplemented
Abstract class `PostgresConnectionConfig` has no concrete subclass
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/PostgresConnectionConfig.java`
#### Snippet
```java
@JsonTypeName(PostgresConnectionConfig.TYPE)
@Value.Immutable
public abstract class PostgresConnectionConfig extends ConnectionConfig {

    public static final String TYPE = "postgres";
```

### AbstractClassNeverImplemented
Abstract class `ConnectionConfig` has no concrete subclass
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/ConnectionConfig.java`
#### Snippet
```java
    @JsonSubTypes.Type(H2ConnectionConfig.class)
})
public abstract class ConnectionConfig {

    public abstract String type();
```

### AbstractClassNeverImplemented
Abstract class `OracleConnectionConfig` has no concrete subclass
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/OracleConnectionConfig.java`
#### Snippet
```java
@JsonTypeName(OracleConnectionConfig.TYPE)
@Value.Immutable
public abstract class OracleConnectionConfig extends ConnectionConfig {
    private static final SafeLogger log = SafeLoggerFactory.get(OracleConnectionConfig.class);

```

### AbstractClassNeverImplemented
Abstract class `CheckerResult` has no concrete subclass
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/CheckerResult.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableCheckerResult.class)
@Value.Immutable
public abstract class CheckerResult {
    public static CheckerResult combine(List<CheckerResult> results) {
        return ImmutableCheckerResult.builder()
```

### AbstractClassNeverImplemented
Abstract class `InvokeEvent` has no concrete subclass
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/InvokeEvent.java`
#### Snippet
```java
@JsonTypeName(InvokeEvent.TYPE)
@Value.Immutable
public abstract class InvokeEvent implements Event {
    public static final String TYPE = "invoke";

```

### AbstractClassNeverImplemented
Abstract class `InfoEvent` has no concrete subclass
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/InfoEvent.java`
#### Snippet
```java
@JsonTypeName(InfoEvent.TYPE)
@Value.Immutable
public abstract class InfoEvent implements Event {
    public static final String TYPE = "info";

```

### AbstractClassNeverImplemented
Abstract class `RequestType` has no concrete subclass
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/RequestType.java`
#### Snippet
```java
package com.palantir.atlasdb.jepsen.events;

public abstract class RequestType {
    // This is the actual type used in Jepsen for timestamp requests.
    public static final String TIMESTAMP = "timestamp";
```

### AbstractClassNeverImplemented
Abstract class `FailEvent` has no concrete subclass
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/FailEvent.java`
#### Snippet
```java
@JsonTypeName(FailEvent.TYPE)
@Value.Immutable
public abstract class FailEvent implements Event {
    public static final String TYPE = "fail";

```

### AbstractClassNeverImplemented
Abstract class `OkEvent` has no concrete subclass
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/OkEvent.java`
#### Snippet
```java
@JsonTypeName(OkEvent.TYPE)
@Value.Immutable
public abstract class OkEvent implements Event {
    public static final String TYPE = "ok";

```

### AbstractClassNeverImplemented
Abstract class `PaxosResponses` has no concrete subclass
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponses.java`
#### Snippet
```java

@Value.Immutable
public abstract class PaxosResponses<T extends PaxosResponse> {
    abstract int quorum();

```

### AbstractClassNeverImplemented
Abstract class `LeaderPingResult` has no concrete subclass
in `leader-election-impl/src/main/java/com/palantir/paxos/LeaderPingResult.java`
#### Snippet
```java

@Data
public abstract class LeaderPingResult {

    interface Cases<R> {
```

### AbstractClassNeverImplemented
Abstract class `PaxosResponsesWithRemote` has no concrete subclass
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponsesWithRemote.java`
#### Snippet
```java

@Value.Immutable
public abstract class PaxosResponsesWithRemote<S, T extends PaxosResponse> {

    abstract int quorum();
```

## RuleId[ruleID=BoundedWildcard]
### BoundedWildcard
Can generalize to `? extends LockWatchVersion`
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java
    }

    private void updateVersion(Optional<LockWatchVersion> maybeNewVersion) {
        currentVersion = maybeNewVersion.map(newVersion -> currentVersion
                .map(current -> {
```

### BoundedWildcard
Can generalize to `? extends MultiClientRequestBatchers`
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java

    private RequestBatchersFactory(
            LockWatchCache cache, Namespace namespace, Optional<MultiClientRequestBatchers> maybeRequestBatchers) {
        this.cache = cache;
        this.namespace = namespace;
```

### BoundedWildcard
Can generalize to `? extends Timer.Context`
in `lock-api/src/main/java/com/palantir/lock/client/DialogueAdaptingConjureTimelockService.java`
#### Snippet
```java

    private <T> T executeInstrumented(
            Supplier<T> supplier, Supplier<Timer.Context> timerSupplier, Supplier<Meter> meterSupplier) {
        try (Timer.Context timer = timerSupplier.get()) {
            return supplier.get();
```

### BoundedWildcard
Can generalize to `? extends Meter`
in `lock-api/src/main/java/com/palantir/lock/client/DialogueAdaptingConjureTimelockService.java`
#### Snippet
```java

    private <T> T executeInstrumented(
            Supplier<T> supplier, Supplier<Timer.Context> timerSupplier, Supplier<Meter> meterSupplier) {
        try (Timer.Context timer = timerSupplier.get()) {
            return supplier.get();
```

### BoundedWildcard
Can generalize to `? extends MultiClientTimeLockUnlocker`
in `lock-api/src/main/java/com/palantir/lock/client/NamespacedLockTokenUnlocker.java`
#### Snippet
```java

    public NamespacedLockTokenUnlocker(
            String namespace, ReferenceTrackingWrapper<MultiClientTimeLockUnlocker> referenceTrackingBatcher) {
        this.namespace = Namespace.of(namespace);
        this.referenceTrackingBatcher = referenceTrackingBatcher;
```

### BoundedWildcard
Can generalize to `? super Set`
in `lock-api/src/main/java/com/palantir/lock/client/AsyncTimeLockUnlocker.java`
#### Snippet
```java
    private final DisruptorAutobatcher<Set<LockToken>, Void> autobatcher;

    private AsyncTimeLockUnlocker(DisruptorAutobatcher<Set<LockToken>, Void> autobatcher) {
        this.autobatcher = autobatcher;
    }
```

### BoundedWildcard
Can generalize to `? super S`
in `lock-api/src/main/java/com/palantir/lock/client/BlockEnforcingLockService.java`
#### Snippet
```java
                S request,
                Duration duration,
                BiFunction<S, Duration, S> durationLimiter,
                Function<S, T> query,
                Predicate<T> isTimedOutResponse) {
```

### BoundedWildcard
Can generalize to `? super Duration`
in `lock-api/src/main/java/com/palantir/lock/client/BlockEnforcingLockService.java`
#### Snippet
```java
                S request,
                Duration duration,
                BiFunction<S, Duration, S> durationLimiter,
                Function<S, T> query,
                Predicate<T> isTimedOutResponse) {
```

### BoundedWildcard
Can generalize to `? extends S`
in `lock-api/src/main/java/com/palantir/lock/client/BlockEnforcingLockService.java`
#### Snippet
```java
                S request,
                Duration duration,
                BiFunction<S, Duration, S> durationLimiter,
                Function<S, T> query,
                Predicate<T> isTimedOutResponse) {
```

### BoundedWildcard
Can generalize to `? super S`
in `lock-api/src/main/java/com/palantir/lock/client/BlockEnforcingLockService.java`
#### Snippet
```java
                Duration duration,
                BiFunction<S, Duration, S> durationLimiter,
                Function<S, T> query,
                Predicate<T> isTimedOutResponse) {
            Instant now = clock.instant();
```

### BoundedWildcard
Can generalize to `? extends T`
in `lock-api/src/main/java/com/palantir/lock/client/BlockEnforcingLockService.java`
#### Snippet
```java
                Duration duration,
                BiFunction<S, Duration, S> durationLimiter,
                Function<S, T> query,
                Predicate<T> isTimedOutResponse) {
            Instant now = clock.instant();
```

### BoundedWildcard
Can generalize to `? super T`
in `lock-api/src/main/java/com/palantir/lock/client/BlockEnforcingLockService.java`
#### Snippet
```java
                BiFunction<S, Duration, S> durationLimiter,
                Function<S, T> query,
                Predicate<T> isTimedOutResponse) {
            Instant now = clock.instant();
            Instant deadline = now.plus(duration);
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
        }

        static BatchStateManager createFromRequestBatch(List<BatchElement<NamespacedRequest, Long>> batch) {
            Map<Namespace, NamespacedBatchStateManager> requestMap = new HashMap<>();

```

### BoundedWildcard
Can generalize to `? extends LeaderTimeCoalescingBatcher`
in `lock-api/src/main/java/com/palantir/lock/client/NamespacedCoalescingLeaderTimeGetter.java`
#### Snippet
```java

    public NamespacedCoalescingLeaderTimeGetter(
            String namespace, ReferenceTrackingWrapper<LeaderTimeCoalescingBatcher> referenceTrackingBatcher) {
        this.namespace = Namespace.of(namespace);
        this.referenceTrackingBatcher = referenceTrackingBatcher;
```

### BoundedWildcard
Can generalize to `? extends LockToken`
in `lock-api/src/main/java/com/palantir/lock/client/LockLeaseService.java`
#### Snippet
```java

    @SuppressWarnings("unchecked")
    private static Set<LeasedLockToken> leasedTokens(Set<LockToken> tokens) {
        for (LockToken token : tokens) {
            Preconditions.checkArgument(
```

### BoundedWildcard
Can generalize to `? extends T`
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    }

    private <T> T runTimed(Supplier<T> method, Function<T, UUID> leaderExtractor) {
        UUID currentLeader = leaderId;
        Instant startTime = clock.instant();
```

### BoundedWildcard
Can generalize to `? super T`
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    }

    private <T> T runTimed(Supplier<T> method, Function<T, UUID> leaderExtractor) {
        UUID currentLeader = leaderId;
        Instant startTime = clock.instant();
```

### BoundedWildcard
Can generalize to `? super Integer`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingIdentifiedAtlasDbTransactionStarter.java`
#### Snippet
```java

    private BatchingIdentifiedAtlasDbTransactionStarter(
            DisruptorAutobatcher<Integer, List<StartIdentifiedAtlasDbTransactionResponse>> autobatcher) {
        this.autobatcher = autobatcher;
    }
```

### BoundedWildcard
Can generalize to `? extends List`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingIdentifiedAtlasDbTransactionStarter.java`
#### Snippet
```java

    private BatchingIdentifiedAtlasDbTransactionStarter(
            DisruptorAutobatcher<Integer, List<StartIdentifiedAtlasDbTransactionResponse>> autobatcher) {
        this.autobatcher = autobatcher;
    }
```

### BoundedWildcard
Can generalize to `? extends StartIdentifiedAtlasDbTransactionResponse`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
        }

        private void processResponse(List<StartIdentifiedAtlasDbTransactionResponse> responses) {
            transientResponseList.addAll(responses);
            serveRequests();
```

### BoundedWildcard
Can generalize to `? super NamespaceAndRequestParams`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java

    private MultiClientTransactionStarter(
            DisruptorAutobatcher<NamespaceAndRequestParams, List<StartIdentifiedAtlasDbTransactionResponse>>
                    autobatcher) {
        this.autobatcher = autobatcher;
```

### BoundedWildcard
Can generalize to `? extends List`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java

    private MultiClientTransactionStarter(
            DisruptorAutobatcher<NamespaceAndRequestParams, List<StartIdentifiedAtlasDbTransactionResponse>>
                    autobatcher) {
        this.autobatcher = autobatcher;
```

### BoundedWildcard
Can generalize to `? extends BatchElement`>
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java

    private static Map<Namespace, ResponseHandler> getResponseHandlers(
            List<BatchElement<NamespaceAndRequestParams, List<StartIdentifiedAtlasDbTransactionResponse>>> batch) {
        Map<Namespace, ResponseHandler> responseHandlers = new HashMap<>();

```

### BoundedWildcard
Can generalize to `? extends BatchElement`>
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
    @VisibleForTesting
    static Map<Namespace, RequestParams> partitionRequestsByNamespace(
            List<BatchElement<NamespaceAndRequestParams, List<StartIdentifiedAtlasDbTransactionResponse>>> batch) {
        return batch.stream()
                .map(BatchElement::argument)
```

### BoundedWildcard
Can generalize to `? super Namespace`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
        private final Map<Namespace, RequestParams> requestMap;

        private MultiClientRequestManager(Map<Namespace, RequestParams> requestMap) {
            this.requestMap = requestMap;
        }
```

### BoundedWildcard
Can generalize to `? extends Timer`
in `lock-api/src/main/java/com/palantir/lock/client/metrics/TimeLockFeedbackBackgroundTask.java`
#### Snippet
```java
    }

    private double getP99(Supplier<Timer> timerSupplier) {
        return timerSupplier.get().getSnapshot().get99thPercentile();
    }
```

### BoundedWildcard
Can generalize to `? super F`
in `lock-impl/src/main/java/com/palantir/lock/impl/ThreadPooledWrapper.java`
#### Snippet
```java
    }

    private <T, K extends Exception> T applyAndRelease(Semaphore semaphore, FunctionCheckedException<F, T, K> function)
            throws K {
        try {
```

### BoundedWildcard
Can generalize to `? extends StartIdentifiedAtlasDbTransactionResponse`
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
    }

    static void cleanUpCaches(LockWatchCache cache, Collection<StartIdentifiedAtlasDbTransactionResponse> responses) {
        responses.stream()
                .map(StartIdentifiedAtlasDbTransactionResponse::startTimestampAndPartition)
```

### BoundedWildcard
Can generalize to `? super Set`
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
    private static Set<LockToken> unlock(
            Set<LockToken> tokens,
            Function<Set<LockToken>, Set<LockToken>> refreshLockLeases,
            Function<Set<LockToken>, Set<LockToken>> unlock) {
        Set<LockToken> lockTokens = filterOutTokenShares(tokens);
```

### BoundedWildcard
Can generalize to `? extends Set`
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
    private static Set<LockToken> unlock(
            Set<LockToken> tokens,
            Function<Set<LockToken>, Set<LockToken>> refreshLockLeases,
            Function<Set<LockToken>, Set<LockToken>> unlock) {
        Set<LockToken> lockTokens = filterOutTokenShares(tokens);
```

### BoundedWildcard
Can generalize to `? super Set`
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
            Set<LockToken> tokens,
            Function<Set<LockToken>, Set<LockToken>> refreshLockLeases,
            Function<Set<LockToken>, Set<LockToken>> unlock) {
        Set<LockToken> lockTokens = filterOutTokenShares(tokens);
        Set<LockTokenShare> lockTokenShares = filterLockTokenShares(tokens);
```

### BoundedWildcard
Can generalize to `? extends Set`
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
            Set<LockToken> tokens,
            Function<Set<LockToken>, Set<LockToken>> refreshLockLeases,
            Function<Set<LockToken>, Set<LockToken>> unlock) {
        Set<LockToken> lockTokens = filterOutTokenShares(tokens);
        Set<LockTokenShare> lockTokenShares = filterLockTokenShares(tokens);
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java
    }

    private SortedMap<LockDescriptor, LockMode> buildLockMap(Set<LockDescriptor> lockDescriptors, LockMode lockMode) {
        SortedMap<LockDescriptor, LockMode> locks = new TreeMap<>();
        for (LockDescriptor descriptor : lockDescriptors) {
```

### BoundedWildcard
Can generalize to `? extends LockToken`
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java

    @Override
    public Set<LockToken> unlock(Set<LockToken> tokens) {
        Set<LockToken> unlocked = new HashSet<>();
        for (LockToken tokenV2 : tokens) {
```

### BoundedWildcard
Can generalize to `? extends LockToken`
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java

    @Override
    public Set<LockToken> refreshLockLeases(Set<LockToken> tokens) {
        Set<LockRefreshToken> refreshTokens =
                tokens.stream().map(LockTokenConverter::toLegacyToken).collect(Collectors.toSet());
```

### BoundedWildcard
Can generalize to `? extends List`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultSetImpl.java`
#### Snippet
```java
    }

    public AgnosticResultSetImpl(List<List<Object>> rs, DBType type, ResultSetMetaData meta)
            throws PalantirSqlException {
        results = rs;
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java
    }

    private Map<String, Object> generateSyncState(Map<LockDescriptor, ClientAwareReadWriteLock> descriptorToLockMap) {
        return nameObjectForYamlConversion(
                SYNC_STATE_TITLE,
```

### BoundedWildcard
Can generalize to `? extends Set`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java

    private Map<String, Object> generateOutstandingLocksYaml(
            Map<LockClient, Set<LockRequest>> outstandingLockRequestsMap) {
        Map<String, SimpleLockRequestsWithSameDescriptor> outstandingRequestMap = new HashMap<>();

```

### BoundedWildcard
Can generalize to `? extends SimpleLockRequestsWithSameDescriptor`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java

    private List<SimpleLockRequestsWithSameDescriptor> sortOutstandingRequests(
            Collection<SimpleLockRequestsWithSameDescriptor> outstandingRequestsByDescriptor) {

        List<SimpleLockRequestsWithSameDescriptor> sortedEntries = new ArrayList<>(outstandingRequestsByDescriptor);
```

### BoundedWildcard
Can generalize to `? extends LockServiceImpl.HeldLocks`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java

    private Map<String, Object> generateHeldLocks(
            ConcurrentMap<HeldLocksToken, LockServiceImpl.HeldLocks<HeldLocksToken>> heldLocksTokenMap) {
        Map<String, Object> mappedLocksToToken = new HashMap<>();
        heldLocksTokenMap
```

### BoundedWildcard
Can generalize to `? extends Map`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java
    }

    private void dumpYaml(List<Map<String, Object>> objects, File file, String prefix) throws IOException {
        try (LockStateYamlWriter writer = LockStateYamlWriter.create(file)) {
            writer.appendComment(prefix);
```

### BoundedWildcard
Can generalize to `? extends Map`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java
    }

    private void dumpYaml(List<Map<String, Object>> objects, File file) throws IOException {
        try (LockStateYamlWriter writer = LockStateYamlWriter.create(file)) {
            for (Map<String, Object> object : objects) {
```

### BoundedWildcard
Can generalize to `? super Set`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java
     */
    public static void registerQueryVariants(
            String baseKey, Map<Set<String>, String> map, String sqlFormat, DBType type, List<SqlClause> clauses) {
        Validate.noNullElements(clauses);
        Set<Integer> indexes = new HashSet<Integer>();
```

### BoundedWildcard
Can generalize to `? super String`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java
     */
    public static void registerQueryVariants(
            String baseKey, Map<Set<String>, String> map, String sqlFormat, DBType type, List<SqlClause> clauses) {
        Validate.noNullElements(clauses);
        Set<Integer> indexes = new HashSet<Integer>();
```

### BoundedWildcard
Can generalize to `? extends SqlClause`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java
     */
    public static void registerQueryVariants(
            String baseKey, Map<Set<String>, String> map, String sqlFormat, DBType type, List<SqlClause> clauses) {
        Validate.noNullElements(clauses);
        Set<Integer> indexes = new HashSet<Integer>();
```

### BoundedWildcard
Can generalize to `? extends SQLException`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceTypes.java`
#### Snippet
```java
                @Override
                public ConnectionManager closeWrapper(
                        final ConnectionManager delegate, final ResourceOnClose<SQLException> onClose) {
                    return new BaseConnectionManager() {
                        @Override
```

### BoundedWildcard
Can generalize to `? extends SqlTimer`
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/timer/SqlTimers.java`
#### Snippet
```java
    }

    public static CombinedSqlTimer createCombinedSqlTimer(Iterable<SqlTimer> sqlTimers) {
        return new CombinedSqlTimer(ImmutableList.copyOf(sqlTimers));
    }
```

### BoundedWildcard
Can generalize to `? extends SqlTimer`
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/timer/CombinedSqlTimer.java`
#### Snippet
```java
    private final List<SqlTimer> sqlTimers;

    public CombinedSqlTimer(List<SqlTimer> sqlTimers) {
        this.sqlTimers = sqlTimers;
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
    private static final String TABLE_NAME = "pt_retriable_txn_log_v1";

    private static <T> TransactionResult<T> runSimple(ConnectionManager cm, RetriableWriteTransaction<T> tx) {
        Connection c = null;
        try {
```

### BoundedWildcard
Can generalize to `? extends Throwable`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        private final Optional<Throwable> error;

        private TransactionResult(TransactionStatus status, @Nullable T resultValue, Optional<Throwable> error) {
            this.status = status;
            this.resultValue = resultValue;
```

### BoundedWildcard
Can generalize to `? super MetricName`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/metrics/FilteredTaggedMetricSet.java`
#### Snippet
```java

    public FilteredTaggedMetricSet(
            TaggedMetricSet unfiltered, Predicate<MetricName> metricNameFilter, Refreshable<Boolean> performFiltering) {
        this.unfiltered = unfiltered;
        this.metricNameFilter = metricNameFilter;
```

### BoundedWildcard
Can generalize to `? extends DeduplicatingFilterHolder`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/metrics/MetricPublicationArbiter.java`
#### Snippet
```java
    }

    private static boolean allFiltersMatch(MetricName metricName, Set<DeduplicatingFilterHolder> relevantFilters) {
        return relevantFilters.stream().allMatch(filter -> safeShouldPublish(metricName, filter.filter()));
    }
```

### BoundedWildcard
Can generalize to `? extends BlobHandler`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    }

    private static void cleanupBlobs(Collection<BlobHandler> toCleanup) {
        if (!toCleanup.isEmpty()) {
            for (BlobHandler cleanup : toCleanup) {
```

### BoundedWildcard
Can generalize to `? extends ExecutorService`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        private final List<Future<?>> taskFutures;

        private LockReapRunner(Ownable<ExecutorService> executor) {
            this.executor = executor;

```

### BoundedWildcard
Can generalize to `? extends HeldLocks`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
    }

    private <T extends ExpiringToken> boolean unlockInternal(T token, ConcurrentMap<T, HeldLocks<T>> heldLocksMap) {
        @Nullable HeldLocks<T> heldLocks = heldLocksMap.remove(token);
        if (heldLocks == null) {
```

### BoundedWildcard
Can generalize to `? super Set`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/NoOpTransactionScopedCache.java`
#### Snippet
```java
            TableReference tableReference,
            Set<Cell> cells,
            Function<Set<Cell>, ListenableFuture<Map<Cell, byte[]>>> valueLoader) {
        return valueLoader.apply(cells);
    }
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`>
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/NoOpTransactionScopedCache.java`
#### Snippet
```java
            TableReference tableReference,
            Set<Cell> cells,
            Function<Set<Cell>, ListenableFuture<Map<Cell, byte[]>>> valueLoader) {
        return valueLoader.apply(cells);
    }
```

### BoundedWildcard
Can generalize to `? super Iterable`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/NoOpTransactionScopedCache.java`
#### Snippet
```java
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        return rowLoader.apply(rows);
    }
```

### BoundedWildcard
Can generalize to `? extends NavigableMap`>
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/NoOpTransactionScopedCache.java`
#### Snippet
```java
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        return rowLoader.apply(rows);
    }
```

### BoundedWildcard
Can generalize to `? super MetricName`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/util/MetricsManager.java`
#### Snippet
```java
    }

    public void deregisterTaggedMetrics(Predicate<MetricName> predicate) {
        lock.writeLock().lock();
        try {
```

### BoundedWildcard
Can generalize to `? super TableReference`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/util/MetricsManager.java`
#### Snippet
```java
            TaggedMetricRegistry taggedMetricRegistry,
            Refreshable<Boolean> performFiltering,
            Predicate<TableReference> isSafeToLog) {
        this.metricRegistry = metricRegistry;
        this.taggedMetricRegistry = taggedMetricRegistry;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockAwareTransactionTasks.java`
#### Snippet
```java

    public static <T, E extends Exception> TransactionTask<T, E> asLockUnaware(
            final LockAwareTransactionTask<T, E> task, final Iterable<HeldLocksToken> locks) {
        return tx -> task.execute(tx, locks);
    }
```

### BoundedWildcard
Can generalize to `? extends E`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockAwareTransactionTasks.java`
#### Snippet
```java

    public static <T, E extends Exception> TransactionTask<T, E> asLockUnaware(
            final LockAwareTransactionTask<T, E> task, final Iterable<HeldLocksToken> locks) {
        return tx -> task.execute(tx, locks);
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockAwareTransactionTasks.java`
#### Snippet
```java

    public static <T, E extends Exception> LockAwareTransactionTask<T, E> asLockAware(
            final TransactionTask<T, E> task) {
        return new LockAwareTransactionTask<T, E>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends E`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockAwareTransactionTasks.java`
#### Snippet
```java

    public static <T, E extends Exception> LockAwareTransactionTask<T, E> asLockAware(
            final TransactionTask<T, E> task) {
        return new LockAwareTransactionTask<T, E>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends CellConflict`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionConflictException.java`
#### Snippet
```java
    }

    private static void formatConflicts(Collection<CellConflict> conflicts, StringBuilder sb) {
        sb.append("[\n");
        for (CellConflict conflict : conflicts) {
```

### BoundedWildcard
Can generalize to `? super F`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java

    private static <F, T, K extends IOException> Function<F, T> rethrowIoExceptionAsUnchecked(
            FunctionCheckedException<F, T, K> function) {
        return f -> {
            try {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java

    private static <F, T, K extends IOException> Function<F, T> rethrowIoExceptionAsUnchecked(
            FunctionCheckedException<F, T, K> function) {
        return f -> {
            try {
```

### BoundedWildcard
Can generalize to `? extends K`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
    }

    private static <K> Optional<K> loadFromFile(@Nullable File configFile, String fileConfigRoot, Class<K> clazz) {
        return Optional.ofNullable(configFile)
                .map(rethrowIoExceptionAsUnchecked(file -> AtlasDbConfigs.load(file, fileConfigRoot, clazz)));
```

### BoundedWildcard
Can generalize to `? extends T`
in `commons-api/src/main/java/com/palantir/common/concurrent/ThreadNamingCallable.java`
#### Snippet
```java
    }

    private ThreadNamingCallable(Callable<T> delegate, String name, Type type) {
        this.delegate = delegate;
        this.name = name;
```

### BoundedWildcard
Can generalize to `? extends DockerizedDatabaseUri`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java
    }

    private static void runJmh(AtlasDbPerfCli cli, List<DockerizedDatabaseUri> uris)
            throws RunnerException, IOException {
        ChainedOptionsBuilder optBuilder = new OptionsBuilder()
```

### BoundedWildcard
Can generalize to `? super String`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/PerformanceResults.java`
#### Snippet
```java
    }

    private static String formatBenchmarkString(String benchmark, Optional<String> uriSuffix) {
        List<String> benchmarkParts = Splitter.on('.').splitToList(benchmark);
        String benchmarkSuite = benchmarkParts.get(benchmarkParts.size() - 2);
```

### BoundedWildcard
Can generalize to `? extends KeyValueServiceInstrumentation`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DatabasesContainer.java`
#### Snippet
```java
public final class DatabasesContainer implements AutoCloseable {

    public static DatabasesContainer startup(List<KeyValueServiceInstrumentation> backends) {
        List<DockerizedDatabase> dbs = new ArrayList<>();
        try {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
public class TransactionDeleteBenchmarks {

    private Object doDelete(RegeneratingTable<Set<Cell>> table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
            txn.delete(table.getTableRef(), table.getTableCells());
```

### BoundedWildcard
Can generalize to `? super Integer`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    }

    private void getAllRowsAndAssert(WideRowTable table, Blackhole blackhole, Consumer<Integer> assertion) {
        int rowsRead = table.getTransactionManager().runTaskThrowOnConflict(txn -> {
            Iterator<Map.Entry<Cell, byte[]>> iter = txn.getRowsColumnRange(
```

### BoundedWildcard
Can generalize to `? extends Multimap`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
public class KvsDeleteBenchmarks {

    private Object doDelete(RegeneratingTable<Multimap<Cell, Long>> table) {
        table.getKvs().delete(table.getTableRef(), table.getTableCells());
        return table.getTableCells();
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameUnmapper.java`
#### Snippet
```java
    }

    private static <T> T runIgnoringTableNotFound(Supplier<T> task, Supplier<T> defaultValueSupplier) {
        try {
            return task.get();
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameUnmapper.java`
#### Snippet
```java
    }

    private static <T> T runIgnoringTableNotFound(Supplier<T> task, Supplier<T> defaultValueSupplier) {
        try {
            return task.get();
```

### BoundedWildcard
Can generalize to `? extends TimestampRangeDelete`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java

    @Override
    public void deleteAllTimestamps(Map<Cell, TimestampRangeDelete> deletes) {
        List<Object[]> args = new ArrayList<>(deletes.size());
        deletes.forEach((cell, ts) -> args.add(new Object[] {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java

    @Override
    public void put(Collection<Map.Entry<Cell, byte[]>> data, long ts) {
        List<Object[]> args = new ArrayList<>(data.size());
        for (Map.Entry<Cell, byte[]> entry : data) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java

    @Override
    public void delete(List<Map.Entry<Cell, Long>> entries) {
        List<Object[]> args = new ArrayList<>(entries.size());
        for (Map.Entry<Cell, Long> entry : entries) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java

    @Override
    public void put(Collection<Map.Entry<Cell, Value>> data) {
        List<Object[]> args = new ArrayList<>(data.size());
        for (Map.Entry<Cell, Value> entry : data) {
```

### BoundedWildcard
Can generalize to `? extends SqlConnection`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ConnectionSupplier.java`
#### Snippet
```java
    private final Supplier<SqlConnection> delegate;

    public ConnectionSupplier(Supplier<SqlConnection> delegate) {
        this.delegate = delegate;
    }
```

### BoundedWildcard
Can generalize to `? super InT`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ImmediateSingleBatchTaskRunner.java`
#### Snippet
```java
            BatchingStrategy<InT> batchingStrategy,
            ResultAccumulatorStrategy<OutT> resultAccumulatingStrategy,
            Function<InT, OutT> task) {
        return task.apply(input);
    }
```

### BoundedWildcard
Can generalize to `? extends OutT`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ImmediateSingleBatchTaskRunner.java`
#### Snippet
```java
            BatchingStrategy<InT> batchingStrategy,
            ResultAccumulatorStrategy<OutT> resultAccumulatingStrategy,
            Function<InT, OutT> task) {
        return task.apply(input);
    }
```

### BoundedWildcard
Can generalize to `? super InT`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ParallelTaskRunner.java`
#### Snippet
```java
            BatchingStrategy<InT> batchingStrategy,
            ResultAccumulatorStrategy<OutT> resultAccumulatingStrategy,
            Function<InT, OutT> task) {
        Iterable<? extends InT> batches = batchingStrategy.partitionIntoBatches(input, batchSize);
        List<Future<OutT>> futures = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends OutT`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ParallelTaskRunner.java`
#### Snippet
```java
            BatchingStrategy<InT> batchingStrategy,
            ResultAccumulatorStrategy<OutT> resultAccumulatingStrategy,
            Function<InT, OutT> task) {
        Iterable<? extends InT> batches = batchingStrategy.partitionIntoBatches(input, batchSize);
        List<Future<OutT>> futures = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/sweep/CandidateGroupingIterator.java`
#### Snippet
```java
    private boolean currentIsLatestValueEmpty = false;

    private CandidateGroupingIterator(Iterator<List<CellTsPairInfo>> cellTsIterator) {
        this.cellTsIterator = cellTsIterator;
    }
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
    }

    private ArrayHandler rowsAndTimestampsToOracleArray(Collection<Map.Entry<byte[], Long>> rows) {
        List<Object[]> oraRows = new ArrayList<>(rows.size());
        for (Map.Entry<byte[], Long> entry : rows) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
    }

    private ArrayHandler cellsAndTimestampsToOracleArray(Collection<Map.Entry<Cell, Long>> cells) {
        List<Object[]> oraRows = new ArrayList<>(cells.size());
        for (Map.Entry<Cell, Long> entry : cells) {
```

### BoundedWildcard
Can generalize to `? extends CellTsPairInfo`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleCellTsPageLoader.java`
#### Snippet
```java
        }

        private CellTsPairToken computeNextStartPosition(List<CellTsPairInfo> results, boolean scannedSingleRow) {
            if (results.size() < sqlRowLimit) {
                if (scannedSingleRow) {
```

### BoundedWildcard
Can generalize to `? extends CellTsPairInfo`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleCellTsPageLoader.java`
#### Snippet
```java
        }

        private void updateCountOfExaminedCellTsPairsInCurrentRow(List<CellTsPairInfo> results) {
            byte[] currentRow = token.startRowInclusive();
            for (CellTsPairInfo cellTs : results) {
```

### BoundedWildcard
Can generalize to `? extends TimestampRangeDelete`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java

    @Override
    public void deleteAllTimestamps(Map<Cell, TimestampRangeDelete> deletes) {
        List<Object[]> args = new ArrayList<>(deletes.size());
        deletes.forEach((cell, ts) -> args.add(new Object[] {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java

    @Override
    public void delete(List<Map.Entry<Cell, Long>> entries) {
        List<Object[]> args = new ArrayList<>(entries.size());
        for (Map.Entry<Cell, Long> entry : entries) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java

    @Override
    public void put(Collection<Map.Entry<Cell, Value>> data) {
        List<Object[]> args = new ArrayList<>(data.size());
        List<Object[]> overflowArgs = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java

    @Override
    public void put(Collection<Map.Entry<Cell, byte[]>> data, long ts) {
        List<Object[]> args = new ArrayList<>(data.size());
        List<Object[]> overflowArgs = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends TableMappingNotFoundException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleDdlTable.java`
#### Snippet
```java

    private static void executeIgnoringTableMappingNotFound(
            RunnableCheckedException<TableMappingNotFoundException> runnable) {
        try {
            runnable.run();
```

### BoundedWildcard
Can generalize to `? extends CellTsPairInfo`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresCellTsPageLoader.java`
#### Snippet
```java
        }

        private CellTsPairToken computeNextStartPosition(List<CellTsPairInfo> results) {
            if (results.size() < sqlRowLimit) {
                return CellTsPairToken.end();
```

### BoundedWildcard
Can generalize to `? extends RawSqlRow`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleGetRange.java`
#### Snippet
```java

    private static List<RowResult<Value>> createRowResults(
            List<RawSqlRow> sqlRows, Map<Long, byte[]> overflowValues, int expectedNumRows) {
        List<RowResult<Value>> rowResults = new ArrayList<>(expectedNumRows);
        ImmutableSortedMap.Builder<byte[], Value> currentRowCells = null;
```

### BoundedWildcard
Can generalize to `? super Integer`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java
    private Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> breakUpByBatch(
            List<RangeRequest> requests,
            SortedSetMultimap<Integer, byte[]> rowsForBatches,
            NavigableMap<byte[], NavigableMap<byte[], Value>> cellsByRow) {
        Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> ret = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends SqlConnection`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java

    private static SortedSetMultimap<Integer, byte[]> getRowsForBatches(
            Supplier<SqlConnection> connectionSupplier, String query, Object[] args) {
        SqlConnection connection = connectionSupplier.get();
        try {
```

### BoundedWildcard
Can generalize to `? super PalantirSqlException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresDdlTable.java`
#### Snippet
```java
    }

    private static void ignoringError(Runnable fn, Predicate<PalantirSqlException> shouldIgnoreException) {
        try {
            fn.run();
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
    }

    private FullQuery addCellTsArgs(FullQuery fullQuery, Collection<Map.Entry<Cell, Long>> cells) {
        for (Map.Entry<Cell, Long> entry : cells) {
            Cell cell = entry.getKey();
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
    }

    private FullQuery addRowTsArgs(FullQuery fullQuery, Iterable<Map.Entry<byte[], Long>> rows) {
        for (Map.Entry<byte[], Long> entry : rows) {
            fullQuery.withArgs(entry.getKey(), entry.getValue());
```

### BoundedWildcard
Can generalize to `? extends KeyValueServiceRuntimeConfig`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/util/SqlConnectionSuppliers.java`
#### Snippet
```java
            ConnectionManager connManager,
            DbKeyValueServiceConfig config,
            Optional<KeyValueServiceRuntimeConfig> runtimeConfig) {
        MaskedValue password = runtimeConfig
                .flatMap(DbKeyValueServiceConfigs::tryCastToDbKeyValueServiceRuntimeConfig)
```

### BoundedWildcard
Can generalize to `? super Connection`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/PhysicalBoundStoreDatabaseUtils.java`
#### Snippet
```java

    public static void createTimestampTable(
            Connection connection, Function<Connection, DBType> dbTypeExtractor, CreateTimestampTableQueries queries)
            throws SQLException {
        try (Statement statement = connection.createStatement()) {
```

### BoundedWildcard
Can generalize to `? super RowResult`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresGetRange.java`
#### Snippet
```java
        }

        private void flushCurrentRow(@Output List<RowResult<Value>> results) {
            getCurrentRowResult().ifPresent(results::add);
            currentRowCells = RangeHelpers.newColumnMap();
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasRestoreResource.java`
#### Snippet
```java
            AuthHeaderValidator authHeaderValidator,
            RedirectRetryTargeter redirectRetryTargeter,
            Function<String, ? extends BackupTimeLockServiceView> timelockServices) {
        this.authHeaderValidator = authHeaderValidator;
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
    }

    public <T> ListenableFuture<T> handleExceptions(Supplier<ListenableFuture<T>> supplier) {
        return handleExceptions(Futures.submitAsync(supplier::get, MoreExecutors.directExecutor()));
    }
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureLockWatchingResource.java`
#### Snippet
```java

    private ConjureLockWatchingResource(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, AsyncTimelockService> timelockServices) {
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
        this.timelockServices = timelockServices;
```

### BoundedWildcard
Can generalize to `? extends AsyncTimelockService`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureLockWatchingResource.java`
#### Snippet
```java

    private ConjureLockWatchingResource(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, AsyncTimelockService> timelockServices) {
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
        this.timelockServices = timelockServices;
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-impl/src/main/java/com/palantir/atlasdb/backup/AtlasBackupResource.java`
#### Snippet
```java
            AuthHeaderValidator authHeaderValidator,
            RedirectRetryTargeter redirectRetryTargeter,
            Function<String, ? extends BackupTimeLockServiceView> timelockServices) {
        this.authHeaderValidator = authHeaderValidator;
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimelockNamespaces.java`
#### Snippet
```java
    public TimelockNamespaces(
            MetricsManager metrics,
            Function<String, TimeLockServices> factory,
            Supplier<Integer> maxNumberOfClients,
            DisabledNamespaces disabledNamespaces) {
```

### BoundedWildcard
Can generalize to `? extends TimeLockServices`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimelockNamespaces.java`
#### Snippet
```java
    public TimelockNamespaces(
            MetricsManager metrics,
            Function<String, TimeLockServices> factory,
            Supplier<Integer> maxNumberOfClients,
            DisabledNamespaces disabledNamespaces) {
```

### BoundedWildcard
Can generalize to `? extends Privileges`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/impl/PrivilegeBasedNamespaceLocker.java`
#### Snippet
```java
    private List<Privileges> nonAdminPrivileges;

    PrivilegeBasedNamespaceLocker(Map<ClientId, Privileges> privileges) {
        this.nonAdminPrivileges = privileges.values().stream()
                .filter(privilege -> privilege != Privileges.ADMIN)
```

### BoundedWildcard
Can generalize to `? super RefreshLockResponseV2`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private <T> ListenableFuture<T> refreshLocksInternal(
            String namespace, Set<LockToken> tokens, Function<RefreshLockResponseV2, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).refreshLockLeases(tokens),
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private <T> ListenableFuture<T> refreshLocksInternal(
            String namespace, Set<LockToken> tokens, Function<RefreshLockResponseV2, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).refreshLockLeases(tokens),
```

### BoundedWildcard
Can generalize to `? super Set`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private <T> ListenableFuture<T> unlockInternal(
            String namespace, Set<LockToken> tokens, Function<Set<LockToken>, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).unlock(tokens), userTokenTranslator::apply, MoreExecutors.directExecutor()));
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private <T> ListenableFuture<T> unlockInternal(
            String namespace, Set<LockToken> tokens, Function<Set<LockToken>, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).unlock(tokens), userTokenTranslator::apply, MoreExecutors.directExecutor()));
```

### BoundedWildcard
Can generalize to `? super TimestampRange`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private <T> ListenableFuture<T> getFreshTimestamps(
            String namespace, int timestampsToRetrieve, Function<TimestampRange, T> responseWrappingFunction) {
        return handleExceptions(() -> {
            ListenableFuture<TimestampRange> rangeFuture =
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private <T> ListenableFuture<T> getFreshTimestamps(
            String namespace, int timestampsToRetrieve, Function<TimestampRange, T> responseWrappingFunction) {
        return handleExceptions(() -> {
            ListenableFuture<TimestampRange> rangeFuture =
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    @VisibleForTesting
    ConjureTimelockResource(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, AsyncTimelockService> timelockServices) {
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
        this.timelockServices = timelockServices;
```

### BoundedWildcard
Can generalize to `? extends AsyncTimelockService`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    @VisibleForTesting
    ConjureTimelockResource(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, AsyncTimelockService> timelockServices) {
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
        this.timelockServices = timelockServices;
```

### BoundedWildcard
Can generalize to `? extends HeldLocks`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/HeldLocksCollection.java`
#### Snippet
```java
    }

    private boolean shouldRemove(AsyncResult<HeldLocks> lockResult) {
        return lockResult.isFailed() || lockResult.isTimedOut() || lockResult.test(HeldLocks::unlockIfExpired);
    }
```

### BoundedWildcard
Can generalize to `? extends LockToken`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/HeldLocksCollection.java`
#### Snippet
```java
    }

    private Set<LockToken> filter(Set<LockToken> tokens, Predicate<HeldLocks> predicate) {
        Set<LockToken> filtered = Sets.newHashSetWithExpectedSize(tokens.size());

```

### BoundedWildcard
Can generalize to `? extends AsyncResult`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/HeldLocksCollection.java`
#### Snippet
```java

    public AsyncResult<Leased<LockToken>> getExistingOrAcquire(
            UUID requestId, Supplier<AsyncResult<HeldLocks>> lockAcquirer) {
        return heldLocksById
                .computeIfAbsent(requestId, ignored -> lockAcquirer.get())
```

### BoundedWildcard
Can generalize to `? super AsyncLock`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockAcquirer.java`
#### Snippet
```java
                OrderedLocks locks,
                TimeLimit timeout,
                Function<AsyncLock, AsyncResult<Void>> lockFunction) {
            this.requestId = requestId;
            this.locks = locks;
```

### BoundedWildcard
Can generalize to `? extends AsyncResult`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockAcquirer.java`
#### Snippet
```java
                OrderedLocks locks,
                TimeLimit timeout,
                Function<AsyncLock, AsyncResult<Void>> lockFunction) {
            this.requestId = requestId;
            this.locks = locks;
```

### BoundedWildcard
Can generalize to `? super T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncResult.java`
#### Snippet
```java
     * not yet completed, or has failed or timed out, the predicate is not executed and {@code false} is returned.
     */
    public boolean test(Predicate<T> predicateIfCompletedSuccessfully) {
        if (isCompletedSuccessfully()) {
            return predicateIfCompletedSuccessfully.test(get());
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncResult.java`
#### Snippet
```java
    }

    public void onError(Consumer<Throwable> errorHandler) {
        future.exceptionally(error -> {
            if (!isTimeout(error)) {
```

### BoundedWildcard
Can generalize to `? super T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncResult.java`
#### Snippet
```java
     * called, and the returned AsyncResult will contain the error or timeout status associated with this instance.
     */
    public <U> AsyncResult<U> map(Function<T, U> mapper) {
        return new AsyncResult<U>(future.thenApply(mapper));
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncResult.java`
#### Snippet
```java
     * called, and the returned AsyncResult will contain the error or timeout status associated with this instance.
     */
    public <U> AsyncResult<U> map(Function<T, U> mapper) {
        return new AsyncResult<U>(future.thenApply(mapper));
    }
```

### BoundedWildcard
Can generalize to `? extends LockInfo`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java
    }

    private static Optional<LockInfo> nextLockInfo(Optional<LockInfo> maybeInfo, LockState nextStage) {
        return Optional.ofNullable(maybeInfo)
                .flatMap(Function.identity())
```

### BoundedWildcard
Can generalize to `? extends LockEvents`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/CombinedLockEvents.java`
#### Snippet
```java
    private final List<LockEvents> lockEvents;

    CombinedLockEvents(List<LockEvents> lockEvents) {
        this.lockEvents = lockEvents;
    }
```

### BoundedWildcard
Can generalize to `? extends NanoTime`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LeaderClock.java`
#### Snippet
```java

    @VisibleForTesting
    LeaderClock(LeadershipId leadershipId, Supplier<NanoTime> clock) {
        this.leadershipId = leadershipId;
        this.clock = clock;
```

### BoundedWildcard
Can generalize to `? extends AsyncResult`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AwaitedLocksCollection.java`
#### Snippet
```java
    final ConcurrentMap<UUID, AsyncResult<Void>> requestsById = new ConcurrentHashMap<>();

    public AsyncResult<Void> getExistingOrAwait(UUID requestId, Supplier<AsyncResult<Void>> lockAwaiter) {
        AsyncResult<Void> result = requestsById.computeIfAbsent(requestId, ignored -> lockAwaiter.get());

```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockCollection.java`
#### Snippet
```java
    }

    private static List<LockDescriptor> sort(Set<LockDescriptor> descriptors) {
        List<LockDescriptor> orderedDescriptors = new ArrayList<>(descriptors);
        orderedDescriptors.sort(Comparator.naturalOrder());
```

### BoundedWildcard
Can generalize to `? extends NanoTime`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LeaseExpirationTimer.java`
#### Snippet
```java
    private final Supplier<NanoTime> clock;

    public LeaseExpirationTimer(Supplier<NanoTime> clock) {
        this.clock = clock;
        this.lastRefreshTime = clock.get();
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingServiceImpl.java`
#### Snippet
```java

    private void runIfDescriptorsMatchLockWatches(
            Set<LockDescriptor> unfiltered, Consumer<Set<LockDescriptor>> consumer) {
        watchesLock.readLock().lock();
        try {
```

### BoundedWildcard
Can generalize to `? super Set`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingServiceImpl.java`
#### Snippet
```java

    private void runIfDescriptorsMatchLockWatches(
            Set<LockDescriptor> unfiltered, Consumer<Set<LockDescriptor>> consumer) {
        watchesLock.readLock().lock();
        try {
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
    @Override
    public synchronized <T> ValueAndLockWatchStateUpdate<T> runTask(
            Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task) {
        T t = task.get();
        LockWatchStateUpdate logDiff = getLogDiff(lastKnownVersion);
```

### BoundedWildcard
Can generalize to `? super LockDescriptor`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
     * NOT guaranteed to return a consistent snapshot of the world.
     */
    private Set<LockDescriptor> calculateOpenLocks(RangeSet<LockDescriptor> watchedRanges) {
        return heldLocksCollection.locksHeld().stream()
                .flatMap(locksHeld -> locksHeld.getLocks().stream().map(AsyncLock::getDescriptor))
```

### BoundedWildcard
Can generalize to `? extends LockWatches`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
    private final HeldLocksCollection heldLocksCollection;

    LockEventLogImpl(UUID logId, Supplier<LockWatches> watchesSupplier, HeldLocksCollection heldLocksCollection) {
        this.logId = logId;
        this.watchesSupplier = watchesSupplier;
```

### BoundedWildcard
Can generalize to `? extends LockWatchVersion`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
    }

    private Optional<LockWatchStateUpdate> tryGetNextEvents(Optional<LockWatchVersion> fromVersion) {
        if (!fromVersion.isPresent() || !fromVersion.get().id().equals(logId)) {
            return Optional.empty();
```

### BoundedWildcard
Can generalize to `? super Long`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LearnedValuesSinceCoalescingFunction.java`
#### Snippet
```java

    private static Collection<PaxosValue> getPaxosValuesSinceSeq(
            WithSeq<Client> clientWithSeq, ImmutableSortedMap<Long, PaxosValue> paxosValuesByRound) {
        return paxosValuesByRound.tailMap(clientWithSeq.seq()).values();
    }
```

### BoundedWildcard
Can generalize to `? extends PaxosValue`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LearnedValuesSinceCoalescingFunction.java`
#### Snippet
```java
    }

    private static ImmutableSortedMap<Long, PaxosValue> toNavigableMapBySeq(Collection<PaxosValue> values) {
        return KeyedStream.of(values)
                .mapKeys(PaxosValue::getRound)
```

### BoundedWildcard
Can generalize to `? super T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithDedicatedExecutor.java`
#### Snippet
```java
    CheckedRejectionExecutorService executor();

    default <U> WithDedicatedExecutor<U> transformService(Function<T, U> transform) {
        return WithDedicatedExecutor.of(transform.apply(service()), executor());
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithDedicatedExecutor.java`
#### Snippet
```java
    CheckedRejectionExecutorService executor();

    default <U> WithDedicatedExecutor<U> transformService(Function<T, U> transform) {
        return WithDedicatedExecutor.of(transform.apply(service()), executor());
    }
```

### BoundedWildcard
Can generalize to `? extends WithDedicatedExecutor`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithDedicatedExecutor.java`
#### Snippet
```java
    }

    static <T> Map<T, CheckedRejectionExecutorService> convert(Collection<WithDedicatedExecutor<T>> services) {
        return KeyedStream.of(services)
                .map(WithDedicatedExecutor::executor)
```

### BoundedWildcard
Can generalize to `? extends Client`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPingableLeaderResource.java`
#### Snippet
```java

    @Override
    public Set<Client> ping(Set<Client> clients) {
        return KeyedStream.of(clients)
                .map(components::learner)
```

### BoundedWildcard
Can generalize to `? extends BatchPaxosResources`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/UseCaseAwareBatchPaxosResource.java`
#### Snippet
```java
    private final EnumMap<PaxosUseCase, BatchPaxosResources> resourcesByUseCase;

    UseCaseAwareBatchPaxosResource(EnumMap<PaxosUseCase, BatchPaxosResources> resourcesByUseCase) {
        this.resourcesByUseCase = resourcesByUseCase;
    }
```

### BoundedWildcard
Can generalize to `? extends WithSeq`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AcceptorCacheImpl.java`
#### Snippet
```java

    @Override
    public void updateSequenceNumbers(Set<WithSeq<Client>> clientsAndSeqs) {
        if (clientsAndSeqs.isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? extends AcceptorCacheKey`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosAcceptor.java`
#### Snippet
```java
    @Override
    public AcceptorCacheDigest latestSequencesPreparedOrAccepted(
            @QueryParam(HttpHeaders.IF_MATCH) Optional<AcceptorCacheKey> maybeCacheKey, Set<Client> clients)
            throws InvalidAcceptorCacheKeyException {
        primeCache(clients);
```

### BoundedWildcard
Can generalize to `? extends WithSeq`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosAcceptor.java`
#### Snippet
```java
    @Override
    public SetMultimap<Client, WithSeq<PaxosPromise>> prepare(
            SetMultimap<Client, WithSeq<PaxosProposalId>> promiseWithSeqRequestsByClient) {
        SetMultimap<Client, WithSeq<PaxosPromise>> results = KeyedStream.stream(promiseWithSeqRequestsByClient)
                .map((client, paxosProposalIdWithSeq) -> {
```

### BoundedWildcard
Can generalize to `? extends PaxosProposal`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosAcceptor.java`
#### Snippet
```java
    @Override
    public SetMultimap<Client, WithSeq<BooleanPaxosResponse>> accept(
            SetMultimap<Client, PaxosProposal> proposalRequestsByClient) {
        SetMultimap<Client, WithSeq<BooleanPaxosResponse>> results = KeyedStream.stream(proposalRequestsByClient)
                .map((client, paxosProposal) -> {
```

### BoundedWildcard
Can generalize to `? extends WithSeq`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosLearner.java`
#### Snippet
```java

    @Override
    public SetMultimap<Client, PaxosValue> getLearnedValues(Set<WithSeq<Client>> clientAndSeqs) {
        return KeyedStream.of(clientAndSeqs)
                .mapKeys(WithSeq::value)
```

### BoundedWildcard
Can generalize to `? extends Client`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosLearner.java`
#### Snippet
```java

    @Override
    public void learn(SetMultimap<Client, PaxosValue> paxosValuesByClient) {
        paxosValuesByClient.forEach(
                (client, paxosValue) -> paxosComponents.learner(client).learn(paxosValue.getRound(), paxosValue));
```

### BoundedWildcard
Can generalize to `? extends PaxosValue`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosLearner.java`
#### Snippet
```java

    @Override
    public void learn(SetMultimap<Client, PaxosValue> paxosValuesByClient) {
        paxosValuesByClient.forEach(
                (client, paxosValue) -> paxosComponents.learner(client).learn(paxosValue.getRound(), paxosValue));
```

### BoundedWildcard
Can generalize to `? extends BatchPaxosLearner`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LearnCoalescingConsumer.java`
#### Snippet
```java

    LearnCoalescingConsumer(
            WithDedicatedExecutor<BatchPaxosLearner> localLearner,
            List<WithDedicatedExecutor<BatchPaxosLearner>> remoteLearners) {
        this.localLearner = localLearner;
```

### BoundedWildcard
Can generalize to `? extends WithDedicatedExecutor`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LearnCoalescingConsumer.java`
#### Snippet
```java
    LearnCoalescingConsumer(
            WithDedicatedExecutor<BatchPaxosLearner> localLearner,
            List<WithDedicatedExecutor<BatchPaxosLearner>> remoteLearners) {
        this.localLearner = localLearner;
        this.remoteLearners = remoteLearners;
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    @VisibleForTesting
    MultiClientConjureTimelockResource(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, AsyncTimelockService> timelockServices) {
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
        this.timelockServices = timelockServices;
```

### BoundedWildcard
Can generalize to `? extends AsyncTimelockService`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    @VisibleForTesting
    MultiClientConjureTimelockResource(
            RedirectRetryTargeter redirectRetryTargeter, Function<String, AsyncTimelockService> timelockServices) {
        this.exceptionHandler = new ConjureResourceExceptionHandler(redirectRetryTargeter);
        this.timelockServices = timelockServices;
```

### BoundedWildcard
Can generalize to `? extends BatchPaxosLearner`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java

    public static AutobatchingPaxosLearnerNetworkClientFactory createForTests(
            LocalAndRemotes<BatchPaxosLearner> learners, ExecutorService executorService, int quorumSize) {
        return create(
                learners.map(batchPaxosLearner -> WithDedicatedExecutor.of(batchPaxosLearner, executorService)),
```

### BoundedWildcard
Can generalize to `? super Map.Entry`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java

    private AutobatchingPaxosLearnerNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, PaxosValue>, PaxosResponse> learn,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosContainer<Optional<PaxosValue>>>>
                    getLearnedValues,
```

### BoundedWildcard
Can generalize to `? super WithSeq`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
    private AutobatchingPaxosLearnerNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, PaxosValue>, PaxosResponse> learn,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosContainer<Optional<PaxosValue>>>>
                    getLearnedValues,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosUpdate>> getLearnedValuesSince) {
```

### BoundedWildcard
Can generalize to `? extends PaxosResponses`>>
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
    private AutobatchingPaxosLearnerNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, PaxosValue>, PaxosResponse> learn,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosContainer<Optional<PaxosValue>>>>
                    getLearnedValues,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosUpdate>> getLearnedValuesSince) {
```

### BoundedWildcard
Can generalize to `? super WithSeq`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosContainer<Optional<PaxosValue>>>>
                    getLearnedValues,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosUpdate>> getLearnedValuesSince) {
        this.learn = learn;
        this.getLearnedValues = getLearnedValues;
```

### BoundedWildcard
Can generalize to `? extends PaxosResponses`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosContainer<Optional<PaxosValue>>>>
                    getLearnedValues,
            DisruptorAutobatcher<WithSeq<Client>, PaxosResponses<PaxosUpdate>> getLearnedValuesSince) {
        this.learn = learn;
        this.getLearnedValues = getLearnedValues;
```

### BoundedWildcard
Can generalize to `? super Optional`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
        @Override
        public <T extends PaxosResponse> PaxosResponses<T> getLearnedValue(
                long seq, Function<Optional<PaxosValue>, T> mapper) {
            try {
                return getLearnedValues.apply(WithSeq.of(client, seq)).get().map(c -> mapper.apply(c.get()));
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
        @Override
        public <T extends PaxosResponse> PaxosResponses<T> getLearnedValue(
                long seq, Function<Optional<PaxosValue>, T> mapper) {
            try {
                return getLearnedValues.apply(WithSeq.of(client, seq)).get().map(c -> mapper.apply(c.get()));
```

### BoundedWildcard
Can generalize to `? super DbReadTable`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
    }

    private <T> T runRead(TableReference tableRef, Function<DbReadTable, T> runner) {
        ConnectionSupplier conns = new ConnectionSupplier(connections);
        try {
```

### BoundedWildcard
Can generalize to `? super DbMetadataTable`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
    }

    private <T> T runMetadata(TableReference tableRef, Function<DbMetadataTable, T> runner) {
        ConnectionSupplier conns = new ConnectionSupplier(connections);
        try {
```

### BoundedWildcard
Can generalize to `? super DbWriteTable`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
     */
    private <T> T runWriteFreshConnection(
            ConnectionSupplier conns, TableReference tableRef, Function<DbWriteTable, T> runner) {
        log.debug("Running in a new thread to turn autocommit on for write");
        AtomicReference<T> result = Atomics.newReference();
```

### BoundedWildcard
Can generalize to `? super DbDdlTable`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
    }

    private <T> T runDdl(TableReference tableRef, Function<DbDdlTable, T> runner) {
        ConnectionSupplier conns = new ConnectionSupplier(connections);
        try {
```

### BoundedWildcard
Can generalize to `? super SqlConnection`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
    }

    private <T> T run(Function<SqlConnection, T> runner) {
        SqlConnection conn = connections.get();
        try {
```

### BoundedWildcard
Can generalize to `? super DbTableInitializer`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
    }

    private <T> T runInitialization(Function<DbTableInitializer, T> runner) {
        ConnectionSupplier conns = new ConnectionSupplier(connections);
        try {
```

### BoundedWildcard
Can generalize to `? super DbReadTable`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

    private Map<Cell, Value> runReadAndExtractResults(
            TableReference tableRef, Function<DbReadTable, ClosableIterator<AgnosticLightResultRow>> query) {
        return runRead(tableRef, table -> extractResults(table, tableRef, query.apply(table)));
    }
```

### BoundedWildcard
Can generalize to `? extends ClosableIterator`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

    private Map<Cell, Value> runReadAndExtractResults(
            TableReference tableRef, Function<DbReadTable, ClosableIterator<AgnosticLightResultRow>> query) {
        return runRead(tableRef, table -> extractResults(table, tableRef, query.apply(table)));
    }
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            TableReference tableRef,
            Map<Cell, OverflowValue> overflowValues,
            @Output Map<Cell, Value> values) {
        Iterator<Map.Entry<Cell, OverflowValue>> overflowIterator =
                overflowValues.entrySet().iterator();
```

### BoundedWildcard
Can generalize to `? super DbWriteTable`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
    }

    private <T> T runWrite(TableReference tableRef, Function<DbWriteTable, T> runner) {
        ConnectionSupplier conns = new ConnectionSupplier(connections);
        try {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            DbWriteTable writeTable,
            TableReference tableRef,
            List<Map.Entry<Cell, byte[]>> batch,
            long timestamp,
            KeyAlreadyExistsException ex) {
```

### BoundedWildcard
Can generalize to `? extends Client`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java`
#### Snippet
```java
    }

    private static void migrate(LocalPaxosComponents components, Set<Client> namespaces) {
        log.info("Performing asynchronous migration of {} namespaces", SafeArg.of("numNamespaces", namespaces.size()));
        Instant startInstant = Instant.now();
```

### BoundedWildcard
Can generalize to `? extends WithDedicatedExecutor`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/UseCaseAwareBatchPaxosAcceptorAdapter.java`
#### Snippet
```java

    public static List<WithDedicatedExecutor<BatchPaxosAcceptor>> wrap(
            PaxosUseCase useCase, List<WithDedicatedExecutor<BatchPaxosAcceptorRpcClient>> remotes) {
        return remotes.stream()
                .map(withExecutor -> withExecutor.transformService(rpcClient -> wrapInAdapter(useCase, rpcClient)))
```

### BoundedWildcard
Can generalize to `? extends AcceptorCacheKey`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/UseCaseAwareBatchPaxosAcceptorAdapter.java`
#### Snippet
```java
    @Override
    public AcceptorCacheDigest latestSequencesPreparedOrAccepted(
            Optional<AcceptorCacheKey> cacheKey, Set<Client> clients) throws InvalidAcceptorCacheKeyException {
        try {
            return rpcClient.latestSequencesPreparedOrAccepted(useCase, cacheKey.orElse(null), clients);
```

### BoundedWildcard
Can generalize to `? super T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithSeq.java`
#### Snippet
```java
    }

    default <U> WithSeq<U> map(Function<T, U> mapper) {
        return WithSeq.of(mapper.apply(value()), seq());
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithSeq.java`
#### Snippet
```java
    }

    default <U> WithSeq<U> map(Function<T, U> mapper) {
        return WithSeq.of(mapper.apply(value()), seq());
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithSeq.java`
#### Snippet
```java
    T value();

    default <U> WithSeq<U> map(BiFunction<T, Long, U> mapper) {
        return WithSeq.of(mapper.apply(value(), seq()), seq());
    }
```

### BoundedWildcard
Can generalize to `? super Long`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithSeq.java`
#### Snippet
```java
    T value();

    default <U> WithSeq<U> map(BiFunction<T, Long, U> mapper) {
        return WithSeq.of(mapper.apply(value(), seq()), seq());
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/WithSeq.java`
#### Snippet
```java
    T value();

    default <U> WithSeq<U> map(BiFunction<T, Long, U> mapper) {
        return WithSeq.of(mapper.apply(value(), seq()), seq());
    }
```

### BoundedWildcard
Can generalize to `? extends AcceptorCacheKey`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptorResource.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    public Optional<AcceptorCacheDigest> latestSequencesPreparedOrAcceptedCached(
            @QueryParam(HttpHeaders.IF_MATCH) Optional<AcceptorCacheKey> cacheKey) {
        if (!cacheKey.isPresent()) {
            throw Errors.invalidCacheKeyException(null);
```

### BoundedWildcard
Can generalize to `? extends BatchPaxosLearnerRpcClient`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/UseCaseAwareBatchPaxosLearnerAdapter.java`
#### Snippet
```java
    }

    public static List<BatchPaxosLearner> wrap(PaxosUseCase useCase, List<BatchPaxosLearnerRpcClient> remotes) {
        return remotes.stream().map(rpcClient -> wrap(useCase, rpcClient)).collect(Collectors.toList());
    }
```

### BoundedWildcard
Can generalize to `? super Map.Entry`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingLeadershipObserverFactory.java`
#### Snippet
```java

    private AutobatchingLeadershipObserverFactory(
            DisruptorAutobatcher<Map.Entry<Client, LeadershipEvent>, Void> leadershipEventProcessor) {
        this.leadershipEventProcessor = leadershipEventProcessor;
    }
```

### BoundedWildcard
Can generalize to `? super SetMultimap`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingLeadershipObserverFactory.java`
#### Snippet
```java

    private static void processEvents(
            Consumer<SetMultimap<LeadershipEvent, Client>> consumer,
            List<BatchElement<Map.Entry<Client, LeadershipEvent>, Void>> events) {

```

### BoundedWildcard
Can generalize to `? extends BatchElement`, Void>
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingLeadershipObserverFactory.java`
#### Snippet
```java
    private static void processEvents(
            Consumer<SetMultimap<LeadershipEvent, Client>> consumer,
            List<BatchElement<Map.Entry<Client, LeadershipEvent>, Void>> events) {

        SetMultimap<LeadershipEvent, Client> leadershipEventsToClients = KeyedStream.ofEntries(
```

### BoundedWildcard
Can generalize to `? super Client`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/TimeLockClientFeedbackResource.java`
#### Snippet
```java
    private TimeLockClientFeedbackResource(
            FeedbackHandler feedbackHandler,
            Predicate<Client> leadershipCheck,
            LeaderElectionMetricAggregator leaderElectionAggregator) {
        this.feedbackHandler = feedbackHandler;
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/Utils.java`
#### Snippet
```java
public class Utils {

    static <T> Map<T, Long> getFrequencyMap(Stream<T> stream) {
        return stream.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));
    }
```

### BoundedWildcard
Can generalize to `? super Map.Entry`>
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java

    private AutobatchingPaxosAcceptorNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosResponses<PaxosPromise>> prepare,
            DisruptorAutobatcher<Map.Entry<Client, PaxosProposal>, PaxosResponses<BooleanPaxosResponse>> accept,
            DisruptorAutobatcher<Client, PaxosResponses<PaxosLong>> latestSequence) {
```

### BoundedWildcard
Can generalize to `? extends PaxosResponses`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java

    private AutobatchingPaxosAcceptorNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosResponses<PaxosPromise>> prepare,
            DisruptorAutobatcher<Map.Entry<Client, PaxosProposal>, PaxosResponses<BooleanPaxosResponse>> accept,
            DisruptorAutobatcher<Client, PaxosResponses<PaxosLong>> latestSequence) {
```

### BoundedWildcard
Can generalize to `? super Map.Entry`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java
    private AutobatchingPaxosAcceptorNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosResponses<PaxosPromise>> prepare,
            DisruptorAutobatcher<Map.Entry<Client, PaxosProposal>, PaxosResponses<BooleanPaxosResponse>> accept,
            DisruptorAutobatcher<Client, PaxosResponses<PaxosLong>> latestSequence) {
        this.prepare = prepare;
```

### BoundedWildcard
Can generalize to `? extends PaxosResponses`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java
    private AutobatchingPaxosAcceptorNetworkClientFactory(
            DisruptorAutobatcher<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosResponses<PaxosPromise>> prepare,
            DisruptorAutobatcher<Map.Entry<Client, PaxosProposal>, PaxosResponses<BooleanPaxosResponse>> accept,
            DisruptorAutobatcher<Client, PaxosResponses<PaxosLong>> latestSequence) {
        this.prepare = prepare;
```

### BoundedWildcard
Can generalize to `? super Client`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java
            DisruptorAutobatcher<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosResponses<PaxosPromise>> prepare,
            DisruptorAutobatcher<Map.Entry<Client, PaxosProposal>, PaxosResponses<BooleanPaxosResponse>> accept,
            DisruptorAutobatcher<Client, PaxosResponses<PaxosLong>> latestSequence) {
        this.prepare = prepare;
        this.accept = accept;
```

### BoundedWildcard
Can generalize to `? extends PersistentNamespaceLoader`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/TimeLockManagementResource.java`
#### Snippet
```java

    private TimeLockManagementResource(
            Set<PersistentNamespaceLoader> namespaceLoaders,
            AllNodesDisabledNamespacesUpdater allNodesDisabledNamespacesUpdater,
            TimelockNamespaces timelockNamespaces,
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/FeedbackHandler.java`
#### Snippet
```java
    }

    private <T> HealthStatus getHealthStatusOfMajority(Collection<T> feedbacks, Function<T, HealthStatus> mapper) {
        int majorityThreshold = (feedbacks.size() / 2) + 1;
        return KeyedStream.stream(Utils.getFrequencyMap(feedbacks.stream().map(mapper)))
```

### BoundedWildcard
Can generalize to `? super T`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/FeedbackHandler.java`
#### Snippet
```java
    }

    private <T> HealthStatus getHealthStatusOfMajority(Collection<T> feedbacks, Function<T, HealthStatus> mapper) {
        int majorityThreshold = (feedbacks.size() / 2) + 1;
        return KeyedStream.stream(Utils.getFrequencyMap(feedbacks.stream().map(mapper)))
```

### BoundedWildcard
Can generalize to `? super UUID`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/timestamp/DelegatingClientAwareManagedTimestampService.java`
#### Snippet
```java
    @VisibleForTesting
    DelegatingClientAwareManagedTimestampService(
            NumericPartitionAllocator<UUID> allocator, ManagedTimestampService delegate) {
        this.allocator = allocator;
        this.delegate = delegate;
```

### BoundedWildcard
Can generalize to `? super Queries`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/DisabledNamespaces.java`
#### Snippet
```java
    }

    private <T> T execute(Function<Queries, T> call) {
        return jdbi.withExtension(Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? extends Namespace`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/DisabledNamespaces.java`
#### Snippet
```java
        }

        private void unlockNamespaces(Set<Namespace> namespaces) {
            namespaces.stream().map(Namespace::get).forEach(this::delete);
        }
```

### BoundedWildcard
Can generalize to `? extends SingleNodeUpdateResponse`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/AllNodesDisabledNamespacesUpdater.java`
#### Snippet
```java

    private static boolean updateWasSuccessfulOnAllNodes(
            List<SingleNodeUpdateResponse> responses, int expectedResponseCount) {
        if (responses.size() < expectedResponseCount) {
            log.error(
```

### BoundedWildcard
Can generalize to `? extends SingleNodeUpdateResponse`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/AllNodesDisabledNamespacesUpdater.java`
#### Snippet
```java

    private SingleNodeUpdateResponse updateLocallyOrCheckState(
            Collection<SingleNodeUpdateResponse> responses,
            Set<Namespace> namespaces,
            String lockId,
```

### BoundedWildcard
Can generalize to `? extends SingleNodeUpdateResponse`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/AllNodesDisabledNamespacesUpdater.java`
#### Snippet
```java
            Set<Namespace> namespaces,
            String lockId,
            Supplier<SingleNodeUpdateResponse> localUpdate,
            boolean alwaysAttemptOnLocalNode) {
        if (alwaysAttemptOnLocalNode || allRemoteNodesSucceeded(responses)) {
```

### BoundedWildcard
Can generalize to `? extends InternalSchemaMetadataState`
in `atlasdb-backup/src/main/java/com/palantir/atlasdb/backup/CoordinationServiceUtilities.java`
#### Snippet
```java

    private static RangeMap<Long, Integer> convertInternalSchemaMetadataToRangeMap(
            Optional<InternalSchemaMetadataState> internalSchemaMetadata) {
        return internalSchemaMetadata
                .flatMap(InternalSchemaMetadataState::value)
```

### BoundedWildcard
Can generalize to `? extends InternalSchemaMetadata`
in `atlasdb-backup/src/main/java/com/palantir/atlasdb/backup/CoordinationServiceUtilities.java`
#### Snippet
```java

    private static Optional<RangeMap<Long, Integer>> convertValueAndBoundToRangeMap(
            ValueAndBound<InternalSchemaMetadata> valueAndBound) {
        return valueAndBound
                .value()
```

### BoundedWildcard
Can generalize to `? extends Path`
in `atlasdb-backup/src/main/java/com/palantir/atlasdb/backup/ExternalBackupPersister.java`
#### Snippet
```java
    private final Function<AtlasService, Path> pathFactory;

    public ExternalBackupPersister(Function<AtlasService, Path> pathFactory) {
        this.pathFactory = pathFactory;
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/AnnotatedCallable.java`
#### Snippet
```java
    }

    private AnnotatedCallable(Callable<T> delegate, String name, AnnotationType type) {
        this.delegate = delegate;
        this.name = name;
```

### BoundedWildcard
Can generalize to `? extends WeightedEntry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/SlidingWindowWeightedMeanGauge.java`
#### Snippet
```java
    }

    private double summarize(List<WeightedEntry> snapshot) {
        long totalWeight = snapshot.stream().mapToLong(WeightedEntry::weight).sum();
        if (totalWeight == 0) {
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/OffHeapTimestampCache.java`
#### Snippet
```java
    }

    private OffHeapTimestampCache(OffHeapCache<Long, Long> offHeapCache) {
        this.offHeapCache = offHeapCache;
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TopNMetricPublicationController.java`
#### Snippet
```java

    @VisibleForTesting
    TopNMetricPublicationController(Comparator<T> comparator, int maxPermittedRank, Duration refreshInterval) {
        this.comparator = comparator;
        this.maxPermittedRank = maxPermittedRank;
```

### BoundedWildcard
Can generalize to `? extends Function`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/generation/Triggers.java`
#### Snippet
```java
public class Triggers {
    public static <T, U extends T> List<T> getAllTriggers(
            Transaction t, List<Function<? super Transaction, U>> sharedTriggers, T[] triggers) {
        int totalTriggers = sharedTriggers.size() + triggers.length;
        if (totalTriggers == 0) {
```

### BoundedWildcard
Can generalize to `? extends SERVICE`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosQuorumCheckingCoalescingFunction.java`
#### Snippet
```java
    public static <REQ, RESP extends PaxosResponse, SERVICE, F extends CoalescingRequestFunction<REQ, RESP>>
            PaxosQuorumCheckingCoalescingFunction<REQ, RESP, F> wrapWithRemotes(
                    List<SERVICE> services,
                    Map<SERVICE, CheckedRejectionExecutorService> executors,
                    int quorumSize,
```

### BoundedWildcard
Can generalize to `? super SERVICE`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosQuorumCheckingCoalescingFunction.java`
#### Snippet
```java
                    Map<SERVICE, CheckedRejectionExecutorService> executors,
                    int quorumSize,
                    Function<SERVICE, F> functionFactory) {
        List<F> functions = new ArrayList<>(services.size());
        Map<F, CheckedRejectionExecutorService> executorMap = Maps.newHashMapWithExpectedSize(services.size());
```

### BoundedWildcard
Can generalize to `? extends F`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosQuorumCheckingCoalescingFunction.java`
#### Snippet
```java
                    Map<SERVICE, CheckedRejectionExecutorService> executors,
                    int quorumSize,
                    Function<SERVICE, F> functionFactory) {
        List<F> functions = new ArrayList<>(services.size());
        Map<F, CheckedRejectionExecutorService> executorMap = Maps.newHashMapWithExpectedSize(services.size());
```

### BoundedWildcard
Can generalize to `? extends FUNC`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosQuorumCheckingCoalescingFunction.java`
#### Snippet
```java

    public PaxosQuorumCheckingCoalescingFunction(
            List<FUNC> delegateFunctions, Map<FUNC, CheckedRejectionExecutorService> executors, int quorumSize) {
        this.delegates = delegateFunctions;
        this.executors = executors;
```

### BoundedWildcard
Can generalize to `? extends FUNC`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosQuorumCheckingCoalescingFunction.java`
#### Snippet
```java

    public PaxosQuorumCheckingCoalescingFunction(
            List<FUNC> delegateFunctions, Map<FUNC, CheckedRejectionExecutorService> executors, int quorumSize) {
        this.delegates = delegateFunctions;
        this.executors = executors;
```

### BoundedWildcard
Can generalize to `? extends K`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
        }

        private Map.Entry<ByteString, ByteString> serializeEntry(Map.Entry<K, V> entry) {
            return Maps.immutableEntry(
                    offHeapCache.entryMapper.serializeKey(entry.getKey()),
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
        }

        private Map.Entry<ByteString, ByteString> serializeEntry(Map.Entry<K, V> entry) {
            return Maps.immutableEntry(
                    offHeapCache.entryMapper.serializeKey(entry.getKey()),
```

### BoundedWildcard
Can generalize to `? super K`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
        DefaultOffHeapCache<K, V> offHeapCache;

        WriteBatcher(DefaultOffHeapCache<K, V> offHeapCache) {
            this.offHeapCache = offHeapCache;
        }
```

### BoundedWildcard
Can generalize to `? super V`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
        DefaultOffHeapCache<K, V> offHeapCache;

        WriteBatcher(DefaultOffHeapCache<K, V> offHeapCache) {
            this.offHeapCache = offHeapCache;
        }
```

### BoundedWildcard
Can generalize to `? super K`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
    private DefaultOffHeapCache(
            PersistentStore persistentStore,
            EntryMapper<K, V> entryMapper,
            CacheDescriptor cacheDescriptor,
            LongSupplier maxSize,
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
    private DefaultOffHeapCache(
            PersistentStore persistentStore,
            EntryMapper<K, V> entryMapper,
            CacheDescriptor cacheDescriptor,
            LongSupplier maxSize,
```

### BoundedWildcard
Can generalize to `? extends NamedColumnDescription`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/NamedRowResultRenderer.java`
#### Snippet
```java
    private final SortedSet<NamedColumnDescription> cols;

    NamedRowResultRenderer(Renderer parent, String name, SortedSet<NamedColumnDescription> cols) {
        super(parent);
        this.row = name + "Row";
```

### BoundedWildcard
Can generalize to `? extends NamedColumnDescription`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/NamedColumnRenderer.java`
#### Snippet
```java
    private final SortedSet<NamedColumnDescription> cols;

    public NamedColumnRenderer(Renderer parent, String tableName, SortedSet<NamedColumnDescription> cols) {
        super(parent);
        this.namedColumn = tableName + "NamedColumn";
```

### BoundedWildcard
Can generalize to `? extends TableConstraint`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/constraints/ConstraintMetadata.java`
#### Snippet
```java
        }

        public Builder addTableConstraints(List<TableConstraint> constraints) {
            tableConstraints.addAll(constraints);
            return this;
```

### BoundedWildcard
Can generalize to `? extends Future`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
    }

    private void waitForFutures(List<Future<Void>> futures) {
        try {
            for (Future<Void> f : futures) {
```

### BoundedWildcard
Can generalize to `? extends RowNamePartitioner`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
            TableReference srcTable,
            int partitions,
            List<RowNamePartitioner> partitioners,
            int readBatchSize,
            ExecutorService executor,
```

### BoundedWildcard
Can generalize to `? super RowResult`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TransactionRangeMigrator.java`
#### Snippet
```java
            TransactionManager txManager,
            AbstractTaskCheckpointer checkpointer,
            Function<RowResult<byte[]>, Map<Cell, byte[]>> rowTransform) {
        this.srcTable = srcTable;
        this.destTable = destTable;
```

### BoundedWildcard
Can generalize to `? extends Map`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TransactionRangeMigrator.java`
#### Snippet
```java
            TransactionManager txManager,
            AbstractTaskCheckpointer checkpointer,
            Function<RowResult<byte[]>, Map<Cell, byte[]>> rowTransform) {
        this.srcTable = srcTable;
        this.destTable = destTable;
```

### BoundedWildcard
Can generalize to `? super RowResult`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
            long migrationTimestamp,
            AbstractTaskCheckpointer checkpointer,
            Function<RowResult<byte[]>, Map<Cell, byte[]>> rowTransform) {
        this.srcTable = srcTable;
        this.destTable = destTable;
```

### BoundedWildcard
Can generalize to `? extends Map`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
            long migrationTimestamp,
            AbstractTaskCheckpointer checkpointer,
            Function<RowResult<byte[]>, Map<Cell, byte[]>> rowTransform) {
        this.srcTable = srcTable;
        this.destTable = destTable;
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
            RowResult<byte[]> rr,
            long maxBytes,
            @Output Map<Cell, byte[]> writeMap,
            @Output MutableLong bytesPut,
            @Output Mutable<byte[]> lastRowName) {
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/BlockLoader.java`
#### Snippet
```java
    private final int blockSizeInBytes;

    public BlockLoader(BiConsumer<Long, OutputStream> singleBlockLoader, int blockSizeInBytes) {
        this.singleBlockLoader = singleBlockLoader;
        this.blockSizeInBytes = blockSizeInBytes;
```

### BoundedWildcard
Can generalize to `? super OutputStream`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/BlockLoader.java`
#### Snippet
```java
    private final int blockSizeInBytes;

    public BlockLoader(BiConsumer<Long, OutputStream> singleBlockLoader, int blockSizeInBytes) {
        this.singleBlockLoader = singleBlockLoader;
        this.blockSizeInBytes = blockSizeInBytes;
```

### BoundedWildcard
Can generalize to `? extends StreamStorePersistenceConfiguration`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/StandardPeriodicBackoffStrategy.java`
#### Snippet
```java
    @VisibleForTesting
    StandardPeriodicBackoffStrategy(
            Supplier<StreamStorePersistenceConfiguration> persistenceConfiguration, BackoffMechanism backoff) {
        this.persistenceConfiguration = persistenceConfiguration;
        this.backoff = backoff;
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
     */
    public static <T, E extends Exception> ListenableFuture<T> maybeLogAsync(
            CallableCheckedException<ListenableFuture<T>, E> action,
            BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
            BiConsumer<LoggingFunction, T> additionalLoggerWithAccessToResult)
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
     */
    public static <T, E extends Exception> T maybeLog(
            CallableCheckedException<T, E> action,
            BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
            BiConsumer<LoggingFunction, T> additionalLoggerWithAccessToResult)
```

### BoundedWildcard
Can generalize to `? super LoggingFunction`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
        private Monitor(
                Stopwatch stopwatch,
                BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
                BiConsumer<LoggingFunction, R> additionalLoggerWithAccessToResult,
                Predicate<Stopwatch> slowLogPredicate) {
```

### BoundedWildcard
Can generalize to `? super Stopwatch`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
        private Monitor(
                Stopwatch stopwatch,
                BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
                BiConsumer<LoggingFunction, R> additionalLoggerWithAccessToResult,
                Predicate<Stopwatch> slowLogPredicate) {
```

### BoundedWildcard
Can generalize to `? super LoggingFunction`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
                Stopwatch stopwatch,
                BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
                BiConsumer<LoggingFunction, R> additionalLoggerWithAccessToResult,
                Predicate<Stopwatch> slowLogPredicate) {
            this.stopwatch = stopwatch;
```

### BoundedWildcard
Can generalize to `? super R`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
                Stopwatch stopwatch,
                BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
                BiConsumer<LoggingFunction, R> additionalLoggerWithAccessToResult,
                Predicate<Stopwatch> slowLogPredicate) {
            this.stopwatch = stopwatch;
```

### BoundedWildcard
Can generalize to `? super Stopwatch`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
                BiConsumer<LoggingFunction, Stopwatch> primaryLogger,
                BiConsumer<LoggingFunction, R> additionalLoggerWithAccessToResult,
                Predicate<Stopwatch> slowLogPredicate) {
            this.stopwatch = stopwatch;
            this.primaryLogger = primaryLogger;
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/LocalRowColumnRangeIterator.java`
#### Snippet
```java
    private final Iterator<Map.Entry<Cell, Value>> it;

    public LocalRowColumnRangeIterator(Iterator<Map.Entry<Cell, Value>> it) {
        this.it = it;
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/IterablePartitioner.java`
#### Snippet
```java
    @VisibleForTesting
    static <T> Iterable<List<T>> partitionByCountAndBytes(
            final Iterable<T> iterable,
            final int maximumCountPerPartition,
            final long maximumBytesPerPartition,
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/IterablePartitioner.java`
#### Snippet
```java
            final long maximumBytesPerPartition,
            final String tableNameForLoggingPurposesOnly,
            final Function<T, Long> sizingFunction,
            final Logger log) {
        return () -> new UnmodifiableIterator<List<T>>() {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/Cells.java`
#### Snippet
```java

    public static <T> NavigableMap<byte[], NavigableMap<byte[], T>> breakCellsUpByRow(
            Iterable<Map.Entry<Cell, T>> map) {
        NavigableMap<byte[], NavigableMap<byte[], T>> ret = new TreeMap<>(UnsignedBytes.lexicographicalComparator());
        for (Map.Entry<Cell, T> e : map) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/Cells.java`
#### Snippet
```java
     * The Collection provided to this function has to be sorted and strictly increasing.
     */
    public static <T> Iterator<RowResult<T>> createRowView(final Collection<Map.Entry<Cell, T>> sortedIterator) {
        final PeekingIterator<Map.Entry<Cell, T>> it = Iterators.peekingIterator(sortedIterator.iterator());
        Iterator<Map.Entry<byte[], NavigableMap<byte[], T>>> resultIt =
```

### BoundedWildcard
Can generalize to `? super Table`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
     * does not contend with other writes.
     */
    private void runWithExclusiveLock(TableReference tableRef, Consumer<Table> task) {
        Table table = getTableMap(tableRef);
        Lock lock = table.lock.writeLock();
```

### BoundedWildcard
Can generalize to `? extends TimestampRangeDelete`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java

    @Override
    public void deleteAllTimestamps(TableReference tableRef, Map<Cell, TimestampRangeDelete> deletes) {
        runWithLockForWrites(tableRef, table -> {
            deletes.forEach((cell, delete) -> table.subMap(
```

### BoundedWildcard
Can generalize to `? super ConcurrentSkipListMap`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
     * {@link #multiCheckAndSet(MultiCheckAndSetRequest)}.
     */
    private <T> T runWithLockForWrites(TableReference tableRef, Function<ConcurrentSkipListMap<Key, byte[]>, T> task) {
        Table tableEntry = getTableMap(tableRef);
        Lock lock = tableEntry.lock.readLock();
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
            byte[] col,
            Iterator<Map.Entry<Key, byte[]>> timestampValues,
            @Output ImmutableSortedMap.Builder<byte[], T> results,
            RangeRequest range,
            ResultProducer<T> resultProducer) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
            @Output ImmutableSortedMap.Builder<byte[], T> results,
            RangeRequest range,
            ResultProducer<T> resultProducer) {
        T result = null;
        if (range.containsColumn(col)) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java

    private void putInternal(
            TableReference tableRef, Collection<Map.Entry<Cell, Value>> values, OverwriteBehaviour overwriteBehaviour) {
        runWithLockForWrites(tableRef, table -> {
            List<Cell> knownSuccessfullyCommittedKeys = new ArrayList<>();
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
            byte[] row,
            Key key,
            Iterator<Map.Entry<Key, byte[]>> cellIter,
            long timestamp,
            @Output Map<Cell, Value> result) {
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
            Iterator<Map.Entry<Key, byte[]>> cellIter,
            long timestamp,
            @Output Map<Cell, Value> result) {
        Map.Entry<Key, byte[]> lastEntry = null;
        while (cellIter.hasNext()) {
```

### BoundedWildcard
Can generalize to `? super Value`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
            Iterator<Map.Entry<Key, byte[]>> cellIter,
            long timestamp,
            @Output Map<Cell, Value> result) {
        Map.Entry<Key, byte[]> lastEntry = null;
        while (cellIter.hasNext()) {
```

### BoundedWildcard
Can generalize to `? super Key`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java

    // Returns the existing contents, if any, and null otherwise
    private byte[] putIfAbsent(ConcurrentSkipListMap<Key, byte[]> table, Key key, final byte[] contents) {
        return table.putIfAbsent(key, copyOf(contents));
    }
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java

    private static Iterator<Map.Entry<Key, byte[]>> takeCell(
            final PeekingIterator<Map.Entry<Key, byte[]>> it, final Key key) {
        return new AbstractIterator<Map.Entry<Key, byte[]>>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java

    public static Collection<Map.Entry<Cell, Value>> toConstantTimestampValues(
            final Collection<Map.Entry<Cell, byte[]>> cells, final long timestamp) {
        return Collections2.transform(
                cells, entry -> Maps.immutableEntry(entry.getKey(), Value.create(entry.getValue(), timestamp)));
```

### BoundedWildcard
Can generalize to `? super RangeRequest`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
            RangeRequest request,
            long timestamp,
            @Output Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> ret) {
        if (ret.containsKey(request)) {
            return;
```

### BoundedWildcard
Can generalize to `? super TokenBackedBasicResultsPage`, byte[]>
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
            RangeRequest request,
            long timestamp,
            @Output Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> ret) {
        if (ret.containsKey(request)) {
            return;
```

### BoundedWildcard
Can generalize to `? super TagConsumer`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
    @MustBeClosed
    private static CloseableTracer startLocalTrace(
            @CompileTimeConstant final String operation, Consumer<TagConsumer> tagTranslator) {
        TraceStatistic original = TraceStatistics.getCurrentAndClear();

```

### BoundedWildcard
Can generalize to `? super TagConsumer`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
    @MustBeClosed
    private static <V> ClosableIterator<V> attachDetachedSpanCompletion(
            DetachedSpan detachedSpan, ClosableIterator<V> closableIterator, Consumer<TagConsumer> tagTranslator) {
        if (!Tracer.isTraceObservable()) {
            return closableIterator;
```

### BoundedWildcard
Can generalize to `? extends C`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java
    @Override
    public <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            Supplier<C> conditionSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        return retryStrategy.get().runWithRetry(this::shouldStopRetrying, () -> {
            checkOpen();
```

### BoundedWildcard
Can generalize to `? super C`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java
    @Override
    public <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            Supplier<C> conditionSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        return retryStrategy.get().runWithRetry(this::shouldStopRetrying, () -> {
            checkOpen();
```

### BoundedWildcard
Can generalize to `? extends NavigableMap`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java
    }

    private static <T> RowResult<T> createRowResult(Map.Entry<byte[], NavigableMap<byte[], T>> entry) {
        return RowResult.create(entry.getKey(), entry.getValue());
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java
    }

    public static <T> RowResult<T> merge(RowResult<T> base, RowResult<T> overwrite) {
        Preconditions.checkArgument(Arrays.equals(base.getRowName(), overwrite.getRowName()));
        ImmutableSortedMap.Builder<byte[], T> colBuilder =
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java
    }

    public static <T> RowResult<T> merge(RowResult<T> base, RowResult<T> overwrite) {
        Preconditions.checkArgument(Arrays.equals(base.getRowName(), overwrite.getRowName()));
        ImmutableSortedMap.Builder<byte[], T> colBuilder =
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`>
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java

    public static <T> Iterator<RowResult<T>> viewOfEntries(
            Iterator<Map.Entry<byte[], NavigableMap<byte[], T>>> mapEntries) {
        return Iterators.transform(mapEntries, RowResults::createRowResult);
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java
    }

    public static <T, U> Function<RowResult<T>, RowResult<U>> transformValues(final Function<T, U> transform) {
        return row -> RowResult.create(row.getRowName(), Maps.transformValues(row.getColumns(), transform));
    }
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`>
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java

    public static <T> IterableView<RowResult<T>> viewOfEntries(
            Iterable<Map.Entry<byte[], NavigableMap<byte[], T>>> mapEntries) {
        return IterableView.of(mapEntries).transform(RowResults::createRowResult);
    }
```

### BoundedWildcard
Can generalize to `? extends NavigableMap`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/RowResults.java`
#### Snippet
```java

    public static <T> NavigableMap<byte[], RowResult<T>> viewOfSortedMap(
            NavigableMap<byte[], NavigableMap<byte[], T>> map) {
        return Maps.transformEntries(map, RowResult::create);
    }
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionStatusUtils.java`
#### Snippet
```java
    }

    public static long getCommitTsForConcludedTransaction(long startTs, Function<Long, Boolean> isAborted) {
        return isAborted.apply(startTs)
                ? TransactionConstants.FAILED_COMMIT_TS
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java`
#### Snippet
```java

    private static <T> T instrument(
            TaggedMetricRegistry taggedMetricRegistry, TargetFactory.InstanceAndVersion<T> client, Class<T> clazz) {
        return AtlasDbMetrics.instrumentWithTaggedMetrics(taggedMetricRegistry, clazz, client.instance());
    }
```

### BoundedWildcard
Can generalize to `? extends ClientLockDiagnosticDigest`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/debug/TransactionPostMortemRunner.java`
#### Snippet
```java
    }

    private static Set<UUID> requestIds(Map<Long, ClientLockDiagnosticDigest> clientDigests) {
        return clientDigests.values().stream()
                .map(TransactionPostMortemRunner::requestIds)
```

### BoundedWildcard
Can generalize to `? extends ServerListConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<ServerListConfig> addFallbackSslConfigurationToServerList(
            Optional<ServerListConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(addSslConfigurationToServerListFunction(sslConfiguration));
    }
```

### BoundedWildcard
Can generalize to `? extends ServerListConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    }

    private static void checkServersListHasAtLeastOneServerIfPresent(Optional<ServerListConfig> serverListOptional) {
        serverListOptional.ifPresent(serverList -> Preconditions.checkState(
                serverList.hasAtLeastOneServer(), "Server list must have at least one server."));
```

### BoundedWildcard
Can generalize to `? extends SweepConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/ShouldRunBackgroundSweepSupplier.java`
#### Snippet
```java
    private final Supplier<SweepConfig> runtimeConfigSupplier;

    public ShouldRunBackgroundSweepSupplier(Supplier<SweepConfig> runtimeConfig) {
        this.runtimeConfigSupplier = runtimeConfig;
    }
```

### BoundedWildcard
Can generalize to `? extends AtlasDbRuntimeConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/ServerListConfigs.java`
#### Snippet
```java

    public static Refreshable<ServerListConfig> getTimeLockServersFromAtlasDbConfig(
            AtlasDbConfig config, Optional<AtlasDbRuntimeConfig> atlasDbRuntimeConfig) {
        Refreshable<Optional<TimeLockRuntimeConfig>> timelockRuntimeConfig =
                Refreshable.only(atlasDbRuntimeConfig.flatMap(AtlasDbRuntimeConfig::timelockRuntime));
```

### BoundedWildcard
Can generalize to `? extends AtlasDbRuntimeConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/ServerListConfigs.java`
#### Snippet
```java

    public static Refreshable<ServerListConfig> getTimeLockServersFromAtlasDbConfig(
            AtlasDbConfig config, Refreshable<AtlasDbRuntimeConfig> runtimeConfigSupplier) {
        Refreshable<Optional<TimeLockRuntimeConfig>> timelockRuntimeConfig =
                runtimeConfigSupplier.map(AtlasDbRuntimeConfig::timelockRuntime);
```

### BoundedWildcard
Can generalize to `? extends Map`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/AtlasDbDialogueServiceProvider.java`
#### Snippet
```java
    private static DialogueClients.ReloadingFactory decorateForFailoverServices(
            DialogueClients.ReloadingFactory baseFactory,
            Refreshable<Map<String, RemoteServiceConfiguration>> serviceToRemoteConfiguration) {
        return baseFactory
                .reloading(serviceToRemoteConfiguration.map(DialogueClientOptions::toServicesConfigBlock))
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/AtlasDbServiceDiscovery.java`
#### Snippet
```java

    private static <T> T createAtlasDbServiceOfCorrectType(
            KeyValueServiceConfig config, Function<T, String> typeExtractor, Class<T> clazz) {
        for (T element : ServiceLoader.load(clazz)) {
            if (config.type().equalsIgnoreCase(typeExtractor.apply(element))) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/AtlasDbServiceDiscovery.java`
#### Snippet
```java

    private static <T> T createAtlasDbServiceOfCorrectType(
            KeyValueServiceConfig config, Function<T, String> typeExtractor, Class<T> clazz) {
        for (T element : ServiceLoader.load(clazz)) {
            if (config.type().equalsIgnoreCase(typeExtractor.apply(element))) {
```

### BoundedWildcard
Can generalize to `? extends SslConfiguration`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceCreator.java`
#### Snippet
```java
     */
    @SuppressWarnings("OptionalUsedAsFieldOrParameterType") // Just mapping
    public static Optional<TrustContext> createTrustContext(Optional<SslConfiguration> sslConfiguration) {
        return sslConfiguration.map(SslSocketFactories::createTrustContext);
    }
```

### BoundedWildcard
Can generalize to `? extends ServerListConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/BroadcastDialogueClientFactory.java`
#### Snippet
```java

    private BroadcastDialogueClientFactory(
            DialogueClients.ReloadingFactory reloadingFactory, Refreshable<ServerListConfig> serverListConfigSupplier) {
        this.reloadingFactory = reloadingFactory;
        this.serverListConfigSupplier = serverListConfigSupplier;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/BroadcastDialogueClientFactory.java`
#### Snippet
```java
    }

    public <T> Refreshable<List<T>> getSingleNodeProxies(Class<T> clazz, boolean shouldRetry) {
        return this.serverListConfigSupplier.map(serverListConfig -> serverListConfig.servers().stream()
                .map(uri -> createDialogueProxy(clazz, reloadingFactory.getChannel(getServiceName(uri, shouldRetry))))
```

### BoundedWildcard
Can generalize to `? extends TimeLockRequestBatcherProviders`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private static LockTokenUnlocker getTimeLockUnlocker(
            String timelockNamespace,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            NamespacedConjureTimelockService namespacedConjureTimelockService,
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {
```

### BoundedWildcard
Can generalize to `? extends TimeLockRequestBatcherProviders`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private static LeaderTimeGetter getLeaderTimeGetter(
            String timelockNamespace,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            NamespacedConjureTimelockService namespacedConjureTimelockService,
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {
```

### BoundedWildcard
Can generalize to `? extends Schema`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagersInitializer.java`
#### Snippet
```java

    @VisibleForTesting
    TransactionManagersInitializer(KeyValueService keyValueService, Set<Schema> schemas, boolean allSafeForLogging) {
        this.keyValueService = keyValueService;
        this.schemas = schemas;
```

### BoundedWildcard
Can generalize to `? extends AtlasDbRuntimeConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
            MetricsManager metricsManager,
            AtlasDbConfig config,
            Supplier<AtlasDbRuntimeConfig> runtimeConfigSupplier,
            Consumer<Object> env,
            KeyValueService kvs,
```

### BoundedWildcard
Can generalize to `? extends AtlasDbRuntimeConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
    }

    private static boolean targetedSweepIsEnabled(Supplier<AtlasDbRuntimeConfig> runtime) {
        return runtime.get().targetedSweep().enabled();
    }
```

### BoundedWildcard
Can generalize to `? super AutoCloseable`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
    @SuppressWarnings("OptionalUsedAsFieldOrParameterType")
    private static <T extends AutoCloseable> Optional<T> initializeCloseable(
            Optional<T> closeableOptional, @Output List<AutoCloseable> closeables) {
        closeableOptional.ifPresent(closeables::add);
        return closeableOptional;
```

### BoundedWildcard
Can generalize to `? super AutoCloseable`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java

    private static <T extends AutoCloseable> T initializeCloseable(
            Supplier<T> closeableSupplier, @Output List<AutoCloseable> closeables) {
        T ret = closeableSupplier.get();
        closeables.add(ret);
```

### BoundedWildcard
Can generalize to `? extends AtlasDbRuntimeConfig`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
    private static TransactionSchemaInstaller initializeTransactionSchemaInstaller(
            @Output List<AutoCloseable> closeables,
            Supplier<AtlasDbRuntimeConfig> runtimeConfigSupplier,
            TransactionSchemaManager transactionSchemaManager) {
        return initializeCloseable(
```

### BoundedWildcard
Can generalize to `? extends TransactionManagerConsistencyCheck`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/startup/ConsistencyCheckRunner.java`
#### Snippet
```java

    @VisibleForTesting
    ConsistencyCheckRunner(List<TransactionManagerConsistencyCheck> consistencyChecks) {
        this.consistencyChecks = consistencyChecks;
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/Leaders.java`
#### Snippet
```java

    private static <T> Map<T, ExecutorService> createExecutorsForService(
            MetricsManager metricsManager, List<T> services, String useCase) {
        Map<T, ExecutorService> executors = new HashMap<>();
        for (int index = 0; index < services.size(); index++) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/TimeLockPaxosExecutors.java`
#### Snippet
```java
     */
    static <T> Map<T, CheckedRejectionExecutorService> createBoundedExecutors(
            int poolSize, LocalAndRemotes<T> localAndRemotes, String useCase) {
        int numRemotes = localAndRemotes.remotes().size();
        ImmutableMap.Builder<T, CheckedRejectionExecutorService> remoteExecutors =
```

### BoundedWildcard
Can generalize to `? extends LeadershipContext`
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java

    LeadershipComponents(
            NetworkClientFactories.Factory<LeadershipContext> leadershipContextFactory,
            LocalAndRemotes<HealthCheckPinger> healthCheckPingers) {
        this.leadershipContextFactory = leadershipContextFactory;
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosRemoteClients.java`
#### Snippet
```java
    }

    private <T> List<WithDedicatedExecutor<T>> assignDedicatedRemotePaxosExecutors(KeyedStream<String, T> remotes) {
        return remotes.mapKeys(uri -> paxosExecutors().get(uri))
                .entries()
```

### BoundedWildcard
Can generalize to `? extends Map`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockDialogueServiceProvider.java`
#### Snippet
```java
    private static DialogueClients.ReloadingFactory decorate(
            DialogueClients.ReloadingFactory baseFactory,
            Refreshable<Map<String, RemoteServiceConfiguration>> serviceToRemoteConfiguration) {
        return baseFactory
                .reloading(serviceToRemoteConfiguration.map(DialogueClientOptions::toServicesConfigBlock))
```

### BoundedWildcard
Can generalize to `? extends LockService`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java
            Client client,
            Supplier<ManagedTimestampService> rawTimestampServiceSupplier,
            Supplier<LockService> rawLockServiceSupplier) {
        log.info("Creating async timelock services for client {}", SafeArg.of("client", client));
        LockLog maybeEnhancedLockLog = maybeEnhancedLockLog(client);
```

### BoundedWildcard
Can generalize to `? extends ManagedTimestampService`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java

    private AsyncTimelockService createRawAsyncTimelockService(
            Client client, Supplier<ManagedTimestampService> timestampServiceSupplier, LockLog maybeEnhancedLockLog) {
        ScheduledExecutorService reaperExecutor = new InstrumentedScheduledExecutorService(
                PTExecutors.newSingleThreadScheduledExecutor(
```

### BoundedWildcard
Can generalize to `? extends LockDiagnosticConfig`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java
            LeadershipComponents leadershipComponents,
            // TODO(fdesouza): Remove this once PDS-95791 is resolved.
            Map<Client, LockDiagnosticConfig> lockDiagnosticConfig) {
        this.metricsManager = metricsManager;
        this.lockLog = lockLog;
```

### BoundedWildcard
Can generalize to `? super E`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockUndertowExceptionWrapper.java`
#### Snippet
```java

        private static <T, E> T forVersion(
                HttpServerExchange exchange, E exception, Function<E, T> legacy, Function<E, T> cjr) {
            AtlasDbHttpProtocolVersion version = ProtocolAwareness.getHttpProtocolVersion(
                    exchange.getRequestHeaders().get(Headers.USER_AGENT));
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockUndertowExceptionWrapper.java`
#### Snippet
```java

        private static <T, E> T forVersion(
                HttpServerExchange exchange, E exception, Function<E, T> legacy, Function<E, T> cjr) {
            AtlasDbHttpProtocolVersion version = ProtocolAwareness.getHttpProtocolVersion(
                    exchange.getRequestHeaders().get(Headers.USER_AGENT));
```

### BoundedWildcard
Can generalize to `? super E`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockUndertowExceptionWrapper.java`
#### Snippet
```java

        private static <T, E> T forVersion(
                HttpServerExchange exchange, E exception, Function<E, T> legacy, Function<E, T> cjr) {
            AtlasDbHttpProtocolVersion version = ProtocolAwareness.getHttpProtocolVersion(
                    exchange.getRequestHeaders().get(Headers.USER_AGENT));
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockUndertowExceptionWrapper.java`
#### Snippet
```java

        private static <T, E> T forVersion(
                HttpServerExchange exchange, E exception, Function<E, T> legacy, Function<E, T> cjr) {
            AtlasDbHttpProtocolVersion version = ProtocolAwareness.getHttpProtocolVersion(
                    exchange.getRequestHeaders().get(Headers.USER_AGENT));
```

### BoundedWildcard
Can generalize to `? super Queries`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/PersistedSchemaVersion.java`
#### Snippet
```java
    }

    private <T> T execute(Function<Queries, T> call) {
        return jdbi.withExtension(Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? super UndertowService`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java

    private void registerCorruptionHandlerWrappedService(
            Consumer<UndertowService> presentUndertowRegistrar, UndertowService service) {
        presentUndertowRegistrar.accept(
                UndertowCorruptionHandlerService.of(service, corruptionComponents.timeLockCorruptionHealthCheck()));
```

### BoundedWildcard
Can generalize to `? extends ManagedTimestampService`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/PaxosTimestampCreator.java`
#### Snippet
```java
    private final NetworkClientFactories.Factory<ManagedTimestampService> timestampServiceFactory;

    PaxosTimestampCreator(NetworkClientFactories.Factory<ManagedTimestampService> timestampServiceFactory) {
        this.timestampServiceFactory = timestampServiceFactory;
    }
```

### BoundedWildcard
Can generalize to `? super SqliteBlobStore.Queries`
in `timelock-agent/src/main/java/com/palantir/timelock/store/SqliteBlobStore.java`
#### Snippet
```java
    }

    private <T> T execute(Function<SqliteBlobStore.Queries, T> call) {
        return jdbi.withExtension(SqliteBlobStore.Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? extends BatchPaxosLearnerRpcClient`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockPaxosLearnerAdapters.java`
#### Snippet
```java

    private static WithDedicatedExecutor<PaxosLearner> createSwitchingClient(
            WithDedicatedExecutor<BatchPaxosLearnerRpcClient> batched,
            WithDedicatedExecutor<PaxosRemoteClients.TimelockSingleLeaderPaxosLearnerRpcClient> legacy,
            Supplier<Boolean> useBatched) {
```

### BoundedWildcard
Can generalize to `? extends PaxosRemoteClients.TimelockSingleLeaderPaxosLearnerRpcClient`
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockPaxosLearnerAdapters.java`
#### Snippet
```java
    private static WithDedicatedExecutor<PaxosLearner> createSwitchingClient(
            WithDedicatedExecutor<BatchPaxosLearnerRpcClient> batched,
            WithDedicatedExecutor<PaxosRemoteClients.TimelockSingleLeaderPaxosLearnerRpcClient> legacy,
            Supplier<Boolean> useBatched) {
        Preconditions.checkState(
```

### BoundedWildcard
Can generalize to `? extends TimeLockActivityChecker`
in `timelock-agent/src/main/java/com/palantir/timelock/invariants/NoSimultaneousServiceCheck.java`
#### Snippet
```java
    @VisibleForTesting
    NoSimultaneousServiceCheck(
            List<TimeLockActivityChecker> timeLockActivityCheckers,
            Consumer<String> failureMechanism,
            ExecutorService executorService,
```

### BoundedWildcard
Can generalize to `? super String`
in `timelock-agent/src/main/java/com/palantir/timelock/invariants/NoSimultaneousServiceCheck.java`
#### Snippet
```java
    NoSimultaneousServiceCheck(
            List<TimeLockActivityChecker> timeLockActivityCheckers,
            Consumer<String> failureMechanism,
            ExecutorService executorService,
            Duration backoff) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/OptionalResolver.java`
#### Snippet
```java
     */
    @SuppressWarnings("OptionalUsedAsFieldOrParameterType") // Used to process existing configuration files.
    public static <T> T resolve(Optional<T> optional1, Optional<T> optional2) {
        Set<T> values = Stream.of(optional1, optional2)
                .filter(Objects::nonNull)
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/OptionalResolver.java`
#### Snippet
```java
     */
    @SuppressWarnings("OptionalUsedAsFieldOrParameterType") // Used to process existing configuration files.
    public static <T> T resolve(Optional<T> optional1, Optional<T> optional2) {
        Set<T> values = Stream.of(optional1, optional2)
                .filter(Objects::nonNull)
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
     * Returns proxy interfaces to all beans registered to the server implementing the class mbeanClazz.
     */
    public static <T> Iterable<T> getInstanceBeanProxies(final Class<T> mbeanClazz) {
        return Collections2.transform(
                ManagementFactory.getPlatformMBeanServer()
```

### BoundedWildcard
Can generalize to `? super SafeLogger`
in `atlasdb-commons/src/main/java/com/palantir/util/RateLimitedLogger.java`
#### Snippet
```java
    }

    public void log(Consumer<SafeLogger> loggingFunction) {
        if (rateLimiter.tryAcquire()) {
            loggingFunction.accept(delegate);
```

### BoundedWildcard
Can generalize to `? super K`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
    }

    public synchronized Set<V> removeMatchingKeys(Predicate<K> predicate) {
        Set<V> removedValues = new HashSet<>();

```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
    }

    private V safeValue(CacheEntry<V> entry) {
        return (entry != null) ? entry.getValue() : null;
    }
```

### BoundedWildcard
Can generalize to `? super Collection`
in `atlasdb-commons/src/main/java/com/palantir/util/AggregatingVersionedSupplier.java`
#### Snippet
```java
     * applying aggregator and increase the returned version.
     */
    public AggregatingVersionedSupplier(Function<Collection<T>, T> aggregator, long expirationMillis) {
        this.aggregator = aggregator;
        this.memoizedValue =
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/AggregatingVersionedSupplier.java`
#### Snippet
```java
     * applying aggregator and increase the returned version.
     */
    public AggregatingVersionedSupplier(Function<Collection<T>, T> aggregator, long expirationMillis) {
        this.aggregator = aggregator;
        this.memoizedValue =
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     * @param items collection of items, not null
     */
    public boolean isLocked(Iterable<T> items) {
        for (T t : items) {
            ReentrantLock lock = syncMap.getUnchecked(t);
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
    }

    private SortedMap<T, ReentrantLock> getSortedLocks(Collection<T> lockObjects) {
        final TreeMap<T, ReentrantLock> sortedLocks = new TreeMap<T, ReentrantLock>(comparator);
        for (T t : lockObjects) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
    }

    private ImmutableSet<T> validateLockInput(Iterable<T> lockObjects) {
        if (lockObjects == null) {
            throw new SafeIllegalArgumentException("lockObjects is null");
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/util/CachedComposedSupplier.java`
#### Snippet
```java

    public CachedComposedSupplier(
            Function<T, R> function, Supplier<VersionedType<T>> supplier, long maxTimeBetweenRecomputes, Clock clock) {
        this.function = function;
        this.supplier = supplier;
```

### BoundedWildcard
Can generalize to `? extends R`
in `atlasdb-commons/src/main/java/com/palantir/util/CachedComposedSupplier.java`
#### Snippet
```java

    public CachedComposedSupplier(
            Function<T, R> function, Supplier<VersionedType<T>> supplier, long maxTimeBetweenRecomputes, Clock clock) {
        this.function = function;
        this.supplier = supplier;
```

### BoundedWildcard
Can generalize to `? extends VersionedType`
in `atlasdb-commons/src/main/java/com/palantir/util/CachedComposedSupplier.java`
#### Snippet
```java

    public CachedComposedSupplier(
            Function<T, R> function, Supplier<VersionedType<T>> supplier, long maxTimeBetweenRecomputes, Clock clock) {
        this.function = function;
        this.supplier = supplier;
```

### BoundedWildcard
Can generalize to `? super R`
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/LambdaCallback.java`
#### Snippet
```java
    private final BiConsumer<R, Throwable> onInitializationFailure;

    private LambdaCallback(Consumer<R> initialize, BiConsumer<R, Throwable> onInitializationFailure) {
        this.initialize = initialize;
        this.onInitializationFailure = onInitializationFailure;
```

### BoundedWildcard
Can generalize to `? super R`
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/LambdaCallback.java`
#### Snippet
```java
    private final BiConsumer<R, Throwable> onInitializationFailure;

    private LambdaCallback(Consumer<R> initialize, BiConsumer<R, Throwable> onInitializationFailure) {
        this.initialize = initialize;
        this.onInitializationFailure = onInitializationFailure;
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/LambdaCallback.java`
#### Snippet
```java
    private final BiConsumer<R, Throwable> onInitializationFailure;

    private LambdaCallback(Consumer<R> initialize, BiConsumer<R, Throwable> onInitializationFailure) {
        this.initialize = initialize;
        this.onInitializationFailure = onInitializationFailure;
```

### BoundedWildcard
Can generalize to `? extends Callback`
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java
        private final List<Callback<T>> callbacks;

        public CallChain(List<Callback<T>> callbacks) {
            this.callbacks = callbacks;
        }
```

### BoundedWildcard
Can generalize to `? extends K`
in `atlasdb-commons/src/main/java/com/palantir/common/base/AbortingVisitors.java`
#### Snippet
```java
    @Deprecated
    public static <T, K extends Exception> AbortingVisitor<Iterable<T>, K> filterBatch(
            final AbortingVisitor<? super List<T>, K> v, final Predicate<? super T> p) {
        return item -> {
            List<T> list = ImmutableList.copyOf(Iterables.filter(item, p));
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterator.java`
#### Snippet
```java
    }

    default <U> ClosableIterator<U> flatMap(Function<T, Collection<U>> mapper) {
        return ClosableIterators.wrap(
                stream().flatMap(obj -> mapper.apply(obj).stream()).iterator(), this);
```

### BoundedWildcard
Can generalize to `? extends Collection`
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterator.java`
#### Snippet
```java
    }

    default <U> ClosableIterator<U> flatMap(Function<T, Collection<U>> mapper) {
        return ClosableIterators.wrap(
                stream().flatMap(obj -> mapper.apply(obj).stream()).iterator(), this);
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterator.java`
#### Snippet
```java
    default void close() {}

    default <U> ClosableIterator<U> map(Function<T, U> mapper) {
        return ClosableIterators.wrap(Iterators.transform(this, mapper::apply), this);
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterator.java`
#### Snippet
```java
    default void close() {}

    default <U> ClosableIterator<U> map(Function<T, U> mapper) {
        return ClosableIterators.wrap(Iterators.transform(this, mapper::apply), this);
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterator.java`
#### Snippet
```java
    }

    default ClosableIterator<T> stopWhen(Predicate<T> shouldStop) {
        PeekingIterator<T> peekingIterator = Iterators.peekingIterator(this);
        return new ClosableIterator<T>() {
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitableView.java`
#### Snippet
```java
    }

    public void forEach(int batchSize, final Visitor<T> visitor) {
        delegate().batchAccept(batchSize, batch -> {
            for (T item : batch) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitableView.java`
#### Snippet
```java
    protected abstract BatchingVisitable<T> delegate();

    public static <T> BatchingVisitableView<T> of(final BatchingVisitable<T> underlyingVisitable) {
        Preconditions.checkNotNull(underlyingVisitable, "Cannot wrap a null visitable");
        return new BatchingVisitableView<T>() {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterators.java`
#### Snippet
```java
     * method fails.
     */
    public static <T> ClosableIterator<T> appendOnClose(ClosableIterator<T> closableIterator, final Closeable onClose) {
        return new ClosableIterator<T>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java
    public static <T> T create(
            Class<T> interfaceClass,
            Supplier<T> delegate,
            Duration minCreationInterval,
            Predicate<Throwable> shouldReplace) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java
    private volatile T delegate;

    private ReplaceIfExceptionMatchingProxy(Supplier<T> delegateFactory, Predicate<Throwable> shouldReplace) {
        this.delegateFactory = delegateFactory;
        this.shouldReplace = shouldReplace;
```

### BoundedWildcard
Can generalize to `? super Throwable`
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java
    private volatile T delegate;

    private ReplaceIfExceptionMatchingProxy(Supplier<T> delegateFactory, Predicate<Throwable> shouldReplace) {
        this.delegateFactory = delegateFactory;
        this.shouldReplace = shouldReplace;
```

### BoundedWildcard
Can generalize to `? extends K`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/Maps2.java`
#### Snippet
```java
    }

    public static <K, V> Map<K, V> createConstantValueMap(Iterable<K> keys, V v) {
        Map<K, V> ret = new HashMap<>();
        for (K k : keys) {
```

### BoundedWildcard
Can generalize to `? extends K`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/Maps2.java`
#### Snippet
```java
    }

    public static <K, V> Map<K, V> createConstantValueMap(Set<K> keys, V v) {
        Map<K, V> ret = Maps.newHashMapWithExpectedSize(keys.size());
        for (K k : keys) {
```

### BoundedWildcard
Can generalize to `? super F`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <L, F, T> Function<Map.Entry<L, F>, Map.Entry<L, T>> applyValue(final Function<F, T> f) {
        return from -> Maps.immutableEntry(from.getKey(), f.apply(from.getValue()));
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <L, F, T> Function<Map.Entry<L, F>, Map.Entry<L, T>> applyValue(final Function<F, T> f) {
        return from -> Maps.immutableEntry(from.getKey(), f.apply(from.getValue()));
    }
```

### BoundedWildcard
Can generalize to `? super F`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <F, T, R> Function<Map.Entry<F, R>, Map.Entry<T, R>> applyKey(final Function<F, T> f) {
        return from -> Maps.immutableEntry(f.apply(from.getKey()), from.getValue());
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <F, T, R> Function<Map.Entry<F, R>, Map.Entry<T, R>> applyKey(final Function<F, T> f) {
        return from -> Maps.immutableEntry(f.apply(from.getKey()), from.getValue());
    }
```

### BoundedWildcard
Can generalize to `? super Map.Entry`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java

    public static <K, V1, V2> EntryTransformer<K, V1, V2> entryTransformerFromFun(
            final Function<Map.Entry<K, V1>, V2> f) {
        return (k, v1) -> f.apply(Maps.immutableEntry(k, v1));
    }
```

### BoundedWildcard
Can generalize to `? extends V2`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java

    public static <K, V1, V2> EntryTransformer<K, V1, V2> entryTransformerFromFun(
            final Function<Map.Entry<K, V1>, V2> f) {
        return (k, v1) -> f.apply(Maps.immutableEntry(k, v1));
    }
```

### BoundedWildcard
Can generalize to `? super K`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <K, V> Predicate<Map.Entry<K, V>> applyKey(final Predicate<K> f) {
        return input -> f.apply(input.getKey());
    }
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <K, V> ImmutableMap<K, V> toMap(Iterable<Map.Entry<K, V>> it) {
        ImmutableMap.Builder<K, V> builder = ImmutableMap.builder();
        for (Map.Entry<K, V> e : it) {
```

### BoundedWildcard
Can generalize to `? super K`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java

    public static <K, V1, V2> Function<Map.Entry<K, V1>, V2> funFromEntryTransformer(
            final EntryTransformer<K, V1, V2> et) {
        return input -> et.transformEntry(input.getKey(), input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? super V1`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java

    public static <K, V1, V2> Function<Map.Entry<K, V1>, V2> funFromEntryTransformer(
            final EntryTransformer<K, V1, V2> et) {
        return input -> et.transformEntry(input.getKey(), input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? extends V2`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java

    public static <K, V1, V2> Function<Map.Entry<K, V1>, V2> funFromEntryTransformer(
            final EntryTransformer<K, V1, V2> et) {
        return input -> et.transformEntry(input.getKey(), input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? super V`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/MapEntries.java`
#### Snippet
```java
    }

    public static <K, V> Predicate<Map.Entry<K, V>> applyValue(final Predicate<V> f) {
        return input -> f.apply(input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableUtils.java`
#### Snippet
```java

    public static <T, U> Iterable<Pair<T, U>> zip(
            final Iterable<? extends T> itT, final Function<T, U> transformationToU) {
        return zip(itT, Iterables.transform(itT, transformationToU));
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableUtils.java`
#### Snippet
```java

    public static <T, U> Iterable<Pair<T, U>> zip(
            final Iterable<? extends T> itT, final Function<T, U> transformationToU) {
        return zip(itT, Iterables.transform(itT, transformationToU));
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java
    }

    private void discardFromPool(Queue<T> currentPool) {
        T item = currentPool.poll();
        while (item != null) {
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java

    @Override
    public <V, K extends Exception> V runWithPooledResource(FunctionCheckedException<T, V, K> f) throws K {
        T resource = getResource();
        try {
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java
     */
    @Override
    public <V> V runWithPooledResource(Function<T, V> f) {
        T resource = getResource();
        try {
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/InterruptibleFuture.java`
#### Snippet
```java
    }

    public static <V> InterruptibleFuture<V> of(final Callable<V> callable) {
        return new InterruptibleFuture<V>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
    private volatile Round round = new Round();

    public CoalescingSupplier(Supplier<T> delegate) {
        this.delegate = delegate;
    }
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/MultiplexingCompletionService.java`
#### Snippet
```java
    }

    private Future<Map.Entry<K, V>> submitAndPrepareForQueueing(ExecutorService delegate, K key, Callable<V> callable)
            throws CheckedRejectedExecutionException {
        FutureTask<Map.Entry<K, V>> futureTask = new FutureTask<>(() -> Maps.immutableEntry(key, callable.call()));
```

### BoundedWildcard
Can generalize to `? extends ExecutorService`
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/MultiplexingCompletionService.java`
#### Snippet
```java

    private MultiplexingCompletionService(
            ImmutableMap<K, ExecutorService> executors, BlockingQueue<Future<Map.Entry<K, V>>> taskQueue) {
        this.executors = executors;
        this.taskQueue = taskQueue;
```

### BoundedWildcard
Can generalize to `? extends ExecutorService`
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/MultiplexingCompletionService.java`
#### Snippet
```java
    }

    public static <K, V> MultiplexingCompletionService<K, V> create(Map<? extends K, ExecutorService> executors) {
        return new MultiplexingCompletionService<>(ImmutableMap.copyOf(executors), new LinkedBlockingQueue<>());
    }
```

### BoundedWildcard
Can generalize to `? extends ProxySelector`
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ClientOptions.java`
#### Snippet
```java

    public ClientConfiguration create(
            List<String> endpointUris, Optional<ProxySelector> proxy, TrustContext trustContext) {
        ClientConfiguration partialConfig =
                ClientConfigurations.of(endpointUris, trustContext.sslSocketFactory(), trustContext.x509TrustManager());
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`>
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
     */
    public static <T, R> ListenableFuture<Map<T, R>> allOptionalsAsMap(
            Map<T, ListenableFuture<Optional<R>>> inputToListenableFutureMap, Executor executor) {
        Executor tracingExecutor = traceRestoringExecutor(executor, "AtlasFutures: allOptionalsAsMap");

```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java

    public static <T, R> ListenableFuture<Map<T, R>> allAsMap(
            Map<T, ListenableFuture<R>> inputToListenableFutureMap, Executor executor) {
        Executor tracingExecutor = traceRestoringExecutor(executor, "AtlasFutures: allAsMap");

```

### BoundedWildcard
Can generalize to `? extends RemoteServiceConfiguration`
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/DialogueClientOptions.java`
#### Snippet
```java

    public static ServicesConfigBlock toServicesConfigBlock(
            Map<String, RemoteServiceConfiguration> serviceNameToRemoteConfiguration) {
        Map<String, PartialServiceConfiguration> configMap = KeyedStream.stream(serviceNameToRemoteConfiguration)
                .map(remoteServiceConfiguration -> toPartialServiceConfiguration(
```

### BoundedWildcard
Can generalize to `? extends ServerListConfig`
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ConjureJavaRuntimeTargetFactory.java`
#### Snippet
```java
    @Override
    public <T> InstanceAndVersion<T> createLiveReloadingProxyWithFailover(
            Refreshable<ServerListConfig> serverListConfigRefreshable,
            Class<T> type,
            AuxiliaryRemotingParameters parameters) {
```

### BoundedWildcard
Can generalize to `? extends TrustContext`
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ConjureJavaRuntimeTargetFactory.java`
#### Snippet
```java
    @Override
    public <T> InstanceAndVersion<T> createProxy(
            Optional<TrustContext> trustContext, String uri, Class<T> type, AuxiliaryRemotingParameters parameters) {
        ClientOptions relevantOptions = ClientOptions.fromRemotingParameters(parameters);
        ClientConfiguration clientConfiguration = relevantOptions.create(
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ConjureJavaRuntimeTargetFactory.java`
#### Snippet
```java
    @Override
    public <T> InstanceAndVersion<T> createProxy(
            Optional<TrustContext> trustContext, String uri, Class<T> type, AuxiliaryRemotingParameters parameters) {
        ClientOptions relevantOptions = ClientOptions.fromRemotingParameters(parameters);
        ClientConfiguration clientConfiguration = relevantOptions.create(
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        return BatchingVisitableView.of(new AbstractBatchingVisitable<T>() {
            @Override
            protected <K extends Exception> void batchAcceptSizeHint(int batchSizeHint, final ConsistentVisitor<T, K> v)
                    throws K {
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
     */
    public static <T> BatchingVisitableView<T> visitWhile(
            final BatchingVisitable<T> visitable, final Predicate<T> condition) {
        return BatchingVisitableView.of(new AbstractBatchingVisitable<T>() {
            @Override
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
     */
    public static <T> BatchingVisitableView<T> visitWhile(
            final BatchingVisitable<T> visitable, final Predicate<T> condition) {
        return BatchingVisitableView.of(new AbstractBatchingVisitable<T>() {
            @Override
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        return BatchingVisitableView.of(new AbstractBatchingVisitable<T>() {
            @Override
            protected <K extends Exception> void batchAcceptSizeHint(int batchSizeHint, final ConsistentVisitor<T, K> v)
                    throws K {
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        return BatchingVisitableView.of(new AbstractBatchingVisitable<T>() {
            @Override
            protected <K extends Exception> void batchAcceptSizeHint(int batchSizeHint, final ConsistentVisitor<T, K> v)
                    throws K {
                if (batchSizeHint > limit) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    }

    private static <T> long nextIdStart(List<T> recentlyVisited, long batchSizeHint, Function<T, Long> idFunction) {
        if (recentlyVisited.size() < batchSizeHint) {
            return -1L;
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    }

    private static <T> long nextIdStart(List<T> recentlyVisited, long batchSizeHint, Function<T, Long> idFunction) {
        if (recentlyVisited.size() < batchSizeHint) {
            return -1L;
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        return BatchingVisitableView.of(new AbstractBatchingVisitable<T>() {
            @Override
            protected <K extends Exception> void batchAcceptSizeHint(int batchSizeHint, final ConsistentVisitor<T, K> v)
                    throws K {
                visitable.batchAccept(batchSizeHint, batch -> {
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java

    public static <T> BatchingVisitableView<T> uniqueOn(
            final BatchingVisitable<T> visitable, final Function<T, ?> function) {
        Preconditions.checkNotNull(visitable);
        Preconditions.checkNotNull(function);
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    }

    public static <T> BatchingVisitableView<T> filter(BatchingVisitable<T> visitable, final Predicate<? super T> pred) {
        Preconditions.checkNotNull(pred);
        return transformBatch(visitable, input -> ImmutableList.copyOf(Iterables.filter(input, pred)));
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java

    public static <T, TOKEN> TokenBackedBasicResultsPage<T, TOKEN> getFirstPage(
            BatchingVisitable<T> v, int numToVisitArg, Function<T, TOKEN> tokenExtractor) {
        Preconditions.checkArgument(
                numToVisitArg >= 0, "numToVisit cannot be negative.", SafeArg.of("numToVisit", numToVisitArg));
```

### BoundedWildcard
Can generalize to `? extends TOKEN`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java

    public static <T, TOKEN> TokenBackedBasicResultsPage<T, TOKEN> getFirstPage(
            BatchingVisitable<T> v, int numToVisitArg, Function<T, TOKEN> tokenExtractor) {
        Preconditions.checkArgument(
                numToVisitArg >= 0, "numToVisit cannot be negative.", SafeArg.of("numToVisit", numToVisitArg));
```

### BoundedWildcard
Can generalize to `? extends Map`
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleJoins.java`
#### Snippet
```java

    public static Iterable<Map<String, Object>> join(
            Iterable<Map<?, ?>> input, int batchSize, Function<List<?>, List<Map<String, ?>>> getRowsFunction) {
        Iterable<Entry<?, ?>> entries = Iterables.concat(Iterables.transform(input, Map::entrySet));
        return FluentIterable.from(Iterables.partition(entries, batchSize)).transformAndConcat(batch -> {
```

### BoundedWildcard
Can generalize to `? super List`
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleJoins.java`
#### Snippet
```java

    public static Iterable<Map<String, Object>> join(
            Iterable<Map<?, ?>> input, int batchSize, Function<List<?>, List<Map<String, ?>>> getRowsFunction) {
        Iterable<Entry<?, ?>> entries = Iterables.concat(Iterables.transform(input, Map::entrySet));
        return FluentIterable.from(Iterables.partition(entries, batchSize)).transformAndConcat(batch -> {
```

### BoundedWildcard
Can generalize to `? extends List`>
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleJoins.java`
#### Snippet
```java

    public static Iterable<Map<String, Object>> join(
            Iterable<Map<?, ?>> input, int batchSize, Function<List<?>, List<Map<String, ?>>> getRowsFunction) {
        Iterable<Entry<?, ?>> entries = Iterables.concat(Iterables.transform(input, Map::entrySet));
        return FluentIterable.from(Iterables.partition(entries, batchSize)).transformAndConcat(batch -> {
```

### BoundedWildcard
Can generalize to `? super JsonNode`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
        private final Function<JsonNode, T> generator;

        JsonNodeIterable(JsonNode node, Function<JsonNode, T> generator) {
            this.node = node;
            this.generator = generator;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
        private final Function<JsonNode, T> generator;

        JsonNodeIterable(JsonNode node, Function<JsonNode, T> generator) {
            this.node = node;
            this.generator = generator;
```

### BoundedWildcard
Can generalize to `? extends TestableTimelockServer`
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockCluster.java`
#### Snippet
```java
    }

    void killAndAwaitTermination(Iterable<TestableTimelockServer> serversToKill) throws ExecutionException {
        Set<ListenableFuture<Void>> shutdownFutures = ImmutableSet.copyOf(serversToKill).stream()
                .map(TestableTimelockServer::killAsync)
```

### BoundedWildcard
Can generalize to `? extends T`
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/util/ParameterInjector.java`
#### Snippet
```java
    private T currentInstance = null;

    private ParameterInjector(Supplier<T> factory) {
        this.factory = factory;
    }
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksToken.java`
#### Snippet
```java
    }

    private static LockWithMode toLockWithMode(Map.Entry<LockDescriptor, LockMode> input) {
        return new LockWithMode(input.getKey(), input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
    }

    private static LockWithMode toLockWithMode(Map.Entry<LockDescriptor, LockMode> input) {
        return new LockWithMode(input.getKey(), input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
    }

    private static LockWithMode toLockWithMode(Map.Entry<LockDescriptor, LockMode> input) {
        return new LockWithMode(input.getKey(), input.getValue());
    }
```

### BoundedWildcard
Can generalize to `? super Successful`
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LockResponseV2.java`
#### Snippet
```java
        T visit(Unsuccessful failure);

        static <T> Visitor<T> of(Function<Successful, T> successFunction, Function<Unsuccessful, T> failureFunction) {
            return new Visitor<T>() {
                @Override
```

### BoundedWildcard
Can generalize to `? extends T`
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LockResponseV2.java`
#### Snippet
```java
        T visit(Unsuccessful failure);

        static <T> Visitor<T> of(Function<Successful, T> successFunction, Function<Unsuccessful, T> failureFunction) {
            return new Visitor<T>() {
                @Override
```

### BoundedWildcard
Can generalize to `? super Unsuccessful`
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LockResponseV2.java`
#### Snippet
```java
        T visit(Unsuccessful failure);

        static <T> Visitor<T> of(Function<Successful, T> successFunction, Function<Unsuccessful, T> failureFunction) {
            return new Visitor<T>() {
                @Override
```

### BoundedWildcard
Can generalize to `? extends T`
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LockResponseV2.java`
#### Snippet
```java
        T visit(Unsuccessful failure);

        static <T> Visitor<T> of(Function<Successful, T> successFunction, Function<Unsuccessful, T> failureFunction) {
            return new Visitor<T>() {
                @Override
```

### BoundedWildcard
Can generalize to `? super LockDescriptor`
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
    public VersionedLockWatchStateImpl(
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
            Map<LockDescriptor, LockWatchInfo> locks,
            UUID leaderId,
```

### BoundedWildcard
Can generalize to `? extends LockWatchInfo`
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
            Map<LockDescriptor, LockWatchInfo> locks,
            UUID leaderId,
            LockWatchStateUpdate lastUpdate) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `timestamp-client/src/main/java/com/palantir/timestamp/RequestBatchingTimestampService.java`
#### Snippet
```java

    private RequestBatchingTimestampService(
            TimestampService delegate, DisruptorAutobatcher<Integer, TimestampRange> batcher) {
        this.delegate = delegate;
        this.batcher = batcher;
```

### BoundedWildcard
Can generalize to `? super List`>
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/IndependentBatchingEventHandler.java`
#### Snippet
```java
    private final List<BatchElement<T, R>> pending;

    IndependentBatchingEventHandler(Consumer<List<BatchElement<T, R>>> batchFunction, int bufferSize) {
        this.batchFunction = batchFunction;
        this.pending = new ArrayList<>(bufferSize);
```

### BoundedWildcard
Can generalize to `? super BatchElement`
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java

    static <T, R> DisruptorAutobatcher<T, R> create(
            EventHandler<BatchElement<T, R>> eventHandler,
            int bufferSize,
            String safeLoggablePurpose,
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/CoalescingRequestSupplier.java`
#### Snippet
```java
    private final Supplier<T> supplier;

    public CoalescingRequestSupplier(Supplier<T> supplier) {
        this.supplier = supplier;
    }
```

### BoundedWildcard
Can generalize to `? super BatchElement`
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/TracingEventHandler.java`
#### Snippet
```java
    private final List<BatchElement<I, O>> pending;

    TracingEventHandler(EventHandler<BatchElement<I, O>> delegate, int bufferSize) {
        this.handler = delegate;
        this.pending = new ArrayList<>(bufferSize);
```

### BoundedWildcard
Can generalize to `? super List`>
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java

    private static <I, O> Consumer<List<BatchElement<I, O>>> wrapWithTimeout(
            Consumer<List<BatchElement<I, O>>> delegate,
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
```

### BoundedWildcard
Can generalize to `? super BatchElement`
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/ProfilingEventHandler.java`
#### Snippet
```java

    ProfilingEventHandler(
            EventHandler<BatchElement<T, R>> delegateHandler, String safeIdentifier, Map<String, String> tags) {
        this.delegateHandler = delegateHandler;
        this.batchSizeRecorder = BatchSizeRecorder.create(safeIdentifier, tags);
```

### BoundedWildcard
Can generalize to `? super KeyValueService`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/backup/NonClosingKvsRunner.java`
#### Snippet
```java

    @Override
    public <T> T run(AtlasService _atlasService, Function<KeyValueService, T> function) {
        return function.apply(txnManager.getKeyValueService());
    }
```

### BoundedWildcard
Can generalize to `? super KeyValueService`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/backup/ClosingKvsRunner.java`
#### Snippet
```java

    @Override
    public <T> T run(AtlasService atlasService, Function<KeyValueService, T> function) {
        try (KeyValueService kvs = keyValueServiceFactory.apply(atlasService)) {
            return function.apply(kvs);
```

### BoundedWildcard
Can generalize to `? extends KeyValueService`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/backup/ClosingKvsRunner.java`
#### Snippet
```java
    private final Function<AtlasService, KeyValueService> keyValueServiceFactory;

    ClosingKvsRunner(Function<AtlasService, KeyValueService> keyValueServiceFactory) {
        this.keyValueServiceFactory = keyValueServiceFactory;
    }
```

### BoundedWildcard
Can generalize to `? extends LightweightOppToken`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/LightweightOppToken.java`
#### Snippet
```java
    }

    public static LightweightOppToken getLowerExclusive(Range<LightweightOppToken> range) {
        Preconditions.checkArgument(
                !range.hasLowerBound() || range.lowerBoundType().equals(BoundType.OPEN),
```

### BoundedWildcard
Can generalize to `? extends LightweightOppToken`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/LightweightOppToken.java`
#### Snippet
```java
    }

    public static LightweightOppToken getUpperInclusive(Range<LightweightOppToken> range) {
        Preconditions.checkArgument(
                !range.hasUpperBound() || range.upperBoundType().equals(BoundType.CLOSED),
```

### BoundedWildcard
Can generalize to `? extends Callable`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/TaskRunner.java`
#### Snippet
```java
     */
    @SuppressWarnings("MixedMutabilityReturnType") // Want to be immutable, but need to support null also
    <V> List<V> runAllTasksCancelOnFailure(List<Callable<V>> tasks) {
        if (tasks.size() == 1) {
            try {
```

### BoundedWildcard
Can generalize to `? extends CassandraKeyValueServiceRuntimeConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
    private CassandraClientPoolImpl(
            CassandraKeyValueServiceConfig config,
            Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig,
            StartupChecks startupChecks,
            ScheduledExecutorServiceFactory refreshDaemonFactory,
```

### BoundedWildcard
Can generalize to `? extends CassandraClientPoolingContainer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
    @VisibleForTesting
    Set<CassandraServer> validateNewHostsTopologiesAndMaybeAddToPool(
            Map<CassandraServer, CassandraClientPoolingContainer> currentContainers,
            Set<CassandraServer> serversToAdd) {
        if (serversToAdd.isEmpty()) {
```

### BoundedWildcard
Can generalize to `? extends Column`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampUtils.java`
#### Snippet
```java
    }

    private static Column getNamedColumn(List<Column> columns, String columnName) {
        return Iterables.getOnlyElement(columns.stream()
                .filter(column -> columnName.equals(PtBytes.toString(column.getName())))
```

### BoundedWildcard
Can generalize to `? extends CassandraKeyValueServiceRuntimeConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
            CassandraKeyValueServiceConfig config,
            AsyncKeyValueService asyncKeyValueService,
            Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig,
            CassandraClientPool clientPool,
            CassandraMutationTimestampProvider mutationTimestampProvider) {
```

### BoundedWildcard
Can generalize to `? extends TableCellAndValue`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    }

    private static Set<TableReference> extractTableNames(Iterable<TableCellAndValue> tableCellAndValues) {
        Set<TableReference> tableRefs = new HashSet<>();
        for (TableCellAndValue tableCellAndValue : tableCellAndValues) {
```

### BoundedWildcard
Can generalize to `? extends ColumnOrSuperColumn`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    }

    private SlicePredicate getNextLexicographicalSlicePredicate(List<ColumnOrSuperColumn> columns) {
        Preconditions.checkState(!columns.isEmpty(), "Columns was empty. This is probably an AtlasDb bug");

```

### BoundedWildcard
Can generalize to `? extends CfDef`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    }

    private static String schemaChangeDescriptionForPutMetadataForTables(Collection<CfDef> updatedCfs) {
        String tables = updatedCfs.stream()
                .map(CassandraKeyValueServices::tableReferenceFromCfDef)
```

### BoundedWildcard
Can generalize to `? extends TableCellAndValue`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    }

    private static MutationMap convertToMutations(List<TableCellAndValue> batch, long timestamp) {
        MutationMap mutationMap = new MutationMap();
        for (TableCellAndValue tableCellAndValue : batch) {
```

### BoundedWildcard
Can generalize to `? super CfDef`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTables.java`
#### Snippet
```java
    }

    private Set<String> getTableNames(CassandraClient client, String keyspace, Function<CfDef, String> nameGetter)
            throws TException {
        try {
```

### BoundedWildcard
Can generalize to `? extends CassandraClient`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraNamespaceDeleter.java`
#### Snippet
```java

    public CassandraNamespaceDeleter(
            CassandraKeyValueServiceConfig config, Supplier<CassandraClient> cassandraClientSupplier) {
        this.config = config;
        this.cassandraClientSupplier = cassandraClientSupplier;
```

### BoundedWildcard
Can generalize to `? extends SslConfiguration`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
    }

    private static SSLSocketFactory createSslSocketFactory(Optional<SslConfiguration> sslConfiguration) {
        return sslConfiguration
                .map(sslSocketFactoryCache::get)
```

### BoundedWildcard
Can generalize to `? super CassandraClient`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolingContainer.java`
#### Snippet
```java

    @SuppressWarnings("unchecked")
    private <V, K extends Exception> V runWithGoodResource(FunctionCheckedException<CassandraClient, V, K> fn)
            throws K {
        boolean shouldReuse = true;
```

### BoundedWildcard
Can generalize to `? extends TableMetadata`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ColumnFamilyDefinitions.java`
#### Snippet
```java
    }

    private static Map<String, String> getCompressionOptions(Optional<TableMetadata> tableMetadata) {
        int explicitCompressionBlockSizeKb = tableMetadata
                .map(TableMetadata::getExplicitCompressionBlockSizeKB)
```

### BoundedWildcard
Can generalize to `? extends TimestampRangeDelete`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellRangeDeleter.java`
#### Snippet
```java
    private void insertTombstones(
            CassandraClient client,
            Map<Cell, TimestampRangeDelete> deletes,
            TableReference tableRef,
            long rangeTombstoneCassandraTs,
```

### BoundedWildcard
Can generalize to `? extends CassandraCellLoadingConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoadingBatcher.java`
#### Snippet
```java

    CellLoadingBatcher(
            Supplier<CassandraCellLoadingConfig> loadingConfigSupplier,
            BatchCallback rebatchingManyRowsForColumnCallback) {
        this.loadingConfigSupplier = loadingConfigSupplier;
```

### BoundedWildcard
Can generalize to `? extends LinkedHashMap`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/RowColumnRangeExtractor.java`
#### Snippet
```java

        private RowColumnRangeResult(
                Map<byte[], LinkedHashMap<Cell, Value>> results,
                Map<byte[], Column> rowsToLastCompositeColumns,
                Set<byte[]> emptyRows,
```

### BoundedWildcard
Can generalize to `? extends Column`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/RowColumnRangeExtractor.java`
#### Snippet
```java
        private RowColumnRangeResult(
                Map<byte[], LinkedHashMap<Cell, Value>> results,
                Map<byte[], Column> rowsToLastCompositeColumns,
                Set<byte[]> emptyRows,
                Map<byte[], Integer> rowsToRawColumnCount) {
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/Blacklist.java`
#### Snippet
```java
    }

    void addAll(Set<CassandraServer> hosts) {
        hosts.forEach(this::add);
    }
```

### BoundedWildcard
Can generalize to `? extends CassandraClientPoolingContainer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/Blacklist.java`
#### Snippet
```java
    }

    void checkAndUpdate(Map<CassandraServer, CassandraClientPoolingContainer> pools) {
        if (blacklist.isEmpty()) {
            return; // nothing to review, no need to iterate
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/HostPartitioner.java`
#### Snippet
```java

    static <V> Map<CassandraServer, List<V>> partitionByHost(
            CassandraClientPool clientPool, Iterable<V> iterable, Function<V, byte[]> keyExtractor) {
        // Ensure that the same key goes to the same partition. This is important when writing multiple columns
        // to the same row, since this is a normally a single write in cassandra, whereas splitting the columns
```

### BoundedWildcard
Can generalize to `? super V`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/HostPartitioner.java`
#### Snippet
```java

    static <V> Map<CassandraServer, List<V>> partitionByHost(
            CassandraClientPool clientPool, Iterable<V> iterable, Function<V, byte[]> keyExtractor) {
        // Ensure that the same key goes to the same partition. This is important when writing multiple columns
        // to the same row, since this is a normally a single write in cassandra, whereas splitting the columns
```

### BoundedWildcard
Can generalize to `? extends CassandraTracingConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/TracingQueryRunner.java`
#### Snippet
```java
    private final Supplier<CassandraTracingConfig> tracingPrefs;

    public TracingQueryRunner(Logger log, Supplier<CassandraTracingConfig> tracingPrefs) {
        this.log = log;
        this.tracingPrefs = tracingPrefs;
```

### BoundedWildcard
Can generalize to `? extends CassandraClientPoolingContainer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTopologyValidator.java`
#### Snippet
```java

    private Map<CassandraServer, HostIdResult> fetchHostIdsIgnoringSoftFailures(
            Map<CassandraServer, CassandraClientPoolingContainer> servers) {
        Map<CassandraServer, HostIdResult> results =
                EntryStream.of(servers).mapValues(this::fetchHostIds).toMap();
```

### BoundedWildcard
Can generalize to `? extends CqlResult`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

        private CqlResult executeFunctionOnHost(
                FunctionCheckedException<CassandraClient, CqlResult, TException> cqlFunction,
                CassandraServer cassandraServer) {
            try {
```

### BoundedWildcard
Can generalize to `? extends TException`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

        private CqlResult executeFunctionOnHost(
                FunctionCheckedException<CassandraClient, CqlResult, TException> cqlFunction,
                CassandraServer cassandraServer) {
            try {
```

### BoundedWildcard
Can generalize to `? super CqlRow`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

    private static List<CellWithTimestamp> getCells(
            Function<CqlRow, CellWithTimestamp> cellTsExtractor, CqlResult cqlResult) {
        return cqlResult.getRows().stream().map(cellTsExtractor).collect(Collectors.toList());
    }
```

### BoundedWildcard
Can generalize to `? extends CellWithTimestamp`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

    private static List<CellWithTimestamp> getCells(
            Function<CqlRow, CellWithTimestamp> cellTsExtractor, CqlResult cqlResult) {
        return cqlResult.getRows().stream().map(cellTsExtractor).collect(Collectors.toList());
    }
```

### BoundedWildcard
Can generalize to `? extends Future`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java
    }

    private void cancelFutures(List<Future<CqlResult>> futures) {
        futures.stream().filter(Objects::nonNull).forEach(f -> f.cancel(true));
    }
```

### BoundedWildcard
Can generalize to `? super Future`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

    private void scheduleSweepRowTask(
            @Output List<Future<CqlResult>> futures,
            int queryId,
            int rowIndex,
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoader.java`
#### Snippet
```java
     */
    @VisibleForTesting
    static <E> List<E> flattenReadOnlyLists(List<List<E>> lists) {
        // assume underlying collections will not change size
        int size = lists.stream().mapToInt(List::size).sum();
```

### BoundedWildcard
Can generalize to `? extends CassandraKeyValueServiceRuntimeConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoader.java`
#### Snippet
```java
            WrappingQueryRunner queryRunner,
            TaskRunner taskRunner,
            Supplier<CassandraKeyValueServiceRuntimeConfig> configSupplier) {
        CellLoadingBatcher batcher = new CellLoadingBatcher(
                () -> configSupplier.get().cellLoadingConfig(), CellLoader::logRebatchingWarnMessage);
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java
    }

    static List<String> tokenRangesToServer(Multimap<Set<TokenRange>, CassandraServer> tokenRangesToHost) {
        return tokenRangesToHost.entries().stream()
                .map(entry ->
```

### BoundedWildcard
Can generalize to `? extends TokenRange`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java
    }

    public static List<String> tokenRangeHashes(Set<TokenRange> tokenRanges) {
        return tokenRanges.stream()
                .map(range -> "(" + range.getStart_token().hashCode() + ", "
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java
    }

    static Collection<String> collectionOfHosts(Collection<CassandraServer> hosts) {
        return hosts.stream().map(CassandraServer::cassandraHostName).collect(Collectors.toSet());
    }
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java

    private static void extractTimestampResults(
            @Output Multimap<Cell, Long> ret, Map<ByteBuffer, List<ColumnOrSuperColumn>> results) {
        for (Map.Entry<ByteBuffer, List<ColumnOrSuperColumn>> result : results.entrySet()) {
            byte[] row = CassandraKeyValueServices.getBytesFromByteBuffer(result.getKey());
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java

    private static void extractTimestampResults(
            @Output Multimap<Cell, Long> ret, Map<ByteBuffer, List<ColumnOrSuperColumn>> results) {
        for (Map.Entry<ByteBuffer, List<ColumnOrSuperColumn>> result : results.entrySet()) {
            byte[] row = CassandraKeyValueServices.getBytesFromByteBuffer(result.getKey());
```

### BoundedWildcard
Can generalize to `? extends TException`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java

    static void runWithWaitingForSchemas(
            RunnableCheckedException<TException> task,
            CassandraKeyValueServiceConfig config,
            CassandraClient client,
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraAbsentHostTracker.java`
#### Snippet
```java
    }

    private ImmutableSet<CassandraServer> cleanupAbsentServer(ImmutableSet<CassandraServer> absentServersSnapshot) {
        absentServersSnapshot.forEach(this::incrementAbsenceCountIfPresent);
        return absentServersSnapshot.stream()
```

### BoundedWildcard
Can generalize to `? extends CassandraKeyValueServiceRuntimeConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellValuePutter.java`
#### Snippet
```java

    public CellValuePutter(
            Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig,
            CassandraClientPool clientPool,
            TaskRunner taskRunner,
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/ExceptionHandlingSupplier.java`
#### Snippet
```java
    private final AtomicInteger numFailures;

    private ExceptionHandlingSupplier(Supplier<T> delegate, int numRetries) {
        this.delegate = delegate;
        this.numRetries = numRetries;
```

### BoundedWildcard
Can generalize to `? super RequestMetrics`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraClientPoolMetrics.java`
#### Snippet
```java

    private void updateMetricOnAggregateAndHost(
            CassandraClientPoolingContainer hostPool, Consumer<RequestMetrics> metricsConsumer) {
        metricsConsumer.accept(aggregateRequestMetrics);
        RequestMetrics requestMetricsForHost = metricsByHost.get(hostPool.getCassandraServer());
```

### BoundedWildcard
Can generalize to `? extends List`>
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostnamesByIpSupplier.java`
#### Snippet
```java

    @VisibleForTesting
    HostnamesByIpSupplier(Supplier<List<PoolingContainer<CassandraClient>>> hosts, Duration timeout) {
        this.hosts = hosts;
        this.timeout = timeout;
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/CqlClientImpl.java`
#### Snippet
```java
    }

    private <V> AsyncFunction<ResultSet, V> iterate(Executor executor, RowStreamAccumulator<V> rowStreamAccumulator) {
        return resultSet -> {
            rowStreamAccumulator.accumulateRowStream(
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/CqlClientImpl.java`
#### Snippet
```java

    private <V> ListenableFuture<V> execute(
            Statement executableStatement, Executor executor, RowStreamAccumulator<V> rowStreamAccumulator) {
        return Futures.transformAsync(
                session.executeAsync(executableStatement), iterate(executor, rowStreamAccumulator), executor);
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/WeightedServers.java`
#### Snippet
```java
    final NavigableMap<Integer, CassandraServer> hosts;

    private WeightedServers(NavigableMap<Integer, CassandraServer> hosts) {
        this.hosts = hosts;
    }
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/WeightedServers.java`
#### Snippet
```java
    }

    public static WeightedServers create(Map<CassandraServer, CassandraClientPoolingContainer> pools) {
        Preconditions.checkArgument(!pools.isEmpty(), "pools should be non-empty");
        return new WeightedServers(buildHostsWeightedByActiveConnections(ImmutableMap.copyOf(pools)));
```

### BoundedWildcard
Can generalize to `? extends CassandraClientPoolingContainer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/WeightedServers.java`
#### Snippet
```java
    }

    public static WeightedServers create(Map<CassandraServer, CassandraClientPoolingContainer> pools) {
        Preconditions.checkArgument(!pools.isEmpty(), "pools should be non-empty");
        return new WeightedServers(buildHostsWeightedByActiveConnections(ImmutableMap.copyOf(pools)));
```

### BoundedWildcard
Can generalize to `? extends Row`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/queries/GetQuerySpec.java`
#### Snippet
```java

        @Override
        public void accumulateRowStream(Stream<Row> rowStream) {
            Preconditions.checkState(
                    !assigned, "Multiple calls to accumulateRowStream, wrong usage of this implementation");
```

### BoundedWildcard
Can generalize to `? extends CassandraServersConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/client/creation/DefaultCqlClientFactory.java`
#### Snippet
```java
    public ReloadingCloseableContainer<CqlClient> constructReloadingClientContainer(
            TaggedMetricRegistry taggedMetricRegistry,
            Refreshable<CassandraServersConfig> cassandraServersConfigRefreshable,
            CassandraClusterConfig cassandraClusterConfig,
            boolean initializeAsync) {
```

### BoundedWildcard
Can generalize to `? extends CellWithTimestamps`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/sweep/GetEmptyLatestValues.java`
#### Snippet
```java
    }

    private Set<Cell> getSingleBatch(List<CellWithTimestamps> batch) {
        Set<Cell> cells = batch.stream().map(CellWithTimestamps::cell).collect(Collectors.toSet());

```

### BoundedWildcard
Can generalize to `? extends KeySlice`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/paging/ColumnGetters.java`
#### Snippet
```java
    }

    static Map<ByteBuffer, List<ColumnOrSuperColumn>> getColsByKey(List<KeySlice> firstPage) {
        Map<ByteBuffer, List<ColumnOrSuperColumn>> ret = Maps.newHashMapWithExpectedSize(firstPage.size());
        for (KeySlice e : firstPage) {
```

### BoundedWildcard
Can generalize to `? super TimestampRangeDelete`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/Mutations.java`
#### Snippet
```java
            TimestampRangeDelete delete,
            long rangeTombstoneCassandraTimestamp,
            ToLongFunction<TimestampRangeDelete> exclusiveTimestampExtractor) {
        Deletion deletion = new Deletion()
                .setTimestamp(rangeTombstoneCassandraTimestamp)
```

### BoundedWildcard
Can generalize to `? extends Cluster.Builder`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/client/creation/ClusterFactory.java`
#### Snippet
```java
    private final Supplier<Cluster.Builder> cqlClusterBuilderFactory;

    public ClusterFactory(Supplier<Cluster.Builder> cqlClusterBuilderFactory) {
        this.cqlClusterBuilderFactory = cqlClusterBuilderFactory;
    }
```

### BoundedWildcard
Can generalize to `? extends SslConfiguration`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/client/creation/ClusterFactory.java`
#### Snippet
```java

    private static Cluster.Builder withSslOptions(
            Cluster.Builder builder, boolean usingSsl, Optional<SslConfiguration> sslConfiguration) {
        if (!usingSsl) {
            return builder;
```

### BoundedWildcard
Can generalize to `? extends ResultsExtractor`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/paging/CassandraRangePagingIterable.java`
#### Snippet
```java
            ColumnGetter columnGetter,
            RangeRequest rangeRequest,
            Supplier<ResultsExtractor<T>> resultsExtractor,
            long timestamp) {
        this.rowGetter = rowGetter;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/ReloadingCloseableContainerImpl.java`
#### Snippet
```java
    }

    private <K> T createNewResource(K factoryArg, Function<K, T> factory) {
        return runIfNotClosed(
                () -> factory.apply(factoryArg), "Attempted to create a new resource after the container was closed.");
```

### BoundedWildcard
Can generalize to `? extends InetSocketAddress`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraServersConfigs.java`
#### Snippet
```java
    private static final String PORT_NUMBER_ERROR = "%s port number should be a positive number";

    private static void checkPortNumbers(Set<InetSocketAddress> socketAddresses, String portName) {
        socketAddresses.forEach(host ->
                Preconditions.checkState(host.getPort() > 0, PORT_NUMBER_ERROR, SafeArg.of(portName, host.getPort())));
```

### BoundedWildcard
Can generalize to `? extends CassandraKeyValueServiceRuntimeConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    static Refreshable<CassandraReloadableKeyValueServiceRuntimeConfig> fromConfigs(
            CassandraKeyValueServiceConfig installConfig,
            Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfigRefreshable) {
        return runtimeConfigRefreshable.map(runtimeConfig ->
                validate(new CassandraReloadableKeyValueServiceRuntimeConfig(installConfig, runtimeConfig)));
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    private static long getByteBufferStringMapSize(Map<ByteBuffer, String> nameTypes) {
        return getCollectionSize(
                nameTypes.entrySet(),
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getApproximateSizeOfColsByKey(Map<ByteBuffer, List<ColumnOrSuperColumn>> result) {
        return getCollectionSize(
                result.entrySet(),
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getApproximateSizeOfColsByKey(Map<ByteBuffer, List<ColumnOrSuperColumn>> result) {
        return getCollectionSize(
                result.entrySet(),
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getApproximateSizeOfMutationMap(Map<ByteBuffer, Map<String, List<Mutation>>> batchMutateMap) {
        long approxBytesForKeys = getCollectionSize(batchMutateMap.keySet(), ThriftObjectSizeUtils::getByteBufferSize);
        long approxBytesForValues = getCollectionSize(
```

### BoundedWildcard
Can generalize to `? extends Map`>
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getApproximateSizeOfMutationMap(Map<ByteBuffer, Map<String, List<Mutation>>> batchMutateMap) {
        long approxBytesForKeys = getCollectionSize(batchMutateMap.keySet(), ThriftObjectSizeUtils::getByteBufferSize);
        long approxBytesForValues = getCollectionSize(
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static <T> long getCollectionSize(Collection<T> collection, Function<T, Long> sizeFunction) {
        if (collection == null) {
            return getNullSize();
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static <T> long getCollectionSize(Collection<T> collection, Function<T, Long> sizeFunction) {
        if (collection == null) {
            return getNullSize();
```

### BoundedWildcard
Can generalize to `? extends KeySlice`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getApproximateSizeOfKeySlices(List<KeySlice> slices) {
        return getCollectionSize(slices, ThriftObjectSizeUtils::getKeySliceSize);
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    private static <T> long getBytesSize(T data, Function<T, ByteBuffer> toByteBuffer, Function<T, byte[]> toBytes) {
        // determine the size of bytes for the given slice of data,
        // ideally without having to copy that data into an array.
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    private static <T> long getBytesSize(T data, Function<T, ByteBuffer> toByteBuffer, Function<T, byte[]> toBytes) {
        // determine the size of bytes for the given slice of data,
        // ideally without having to copy that data into an array.
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    private static <T> long getBytesSize(T data, Function<T, ByteBuffer> toByteBuffer, Function<T, byte[]> toBytes) {
        // determine the size of bytes for the given slice of data,
        // ideally without having to copy that data into an array.
```

### BoundedWildcard
Can generalize to `? extends List`>
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getApproximateSizeOfColListsByKey(Map<ByteBuffer, List<List<ColumnOrSuperColumn>>> result) {
        Map<ByteBuffer, List<ColumnOrSuperColumn>> flattenedColumnListMap = Maps.transformValues(
                result, lists -> lists.stream().flatMap(List::stream).collect(Collectors.toList()));
```

### BoundedWildcard
Can generalize to `? extends Column`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java
    }

    public static long getCasByteCount(List<Column> updates) {
        // TODO(nziebart): CAS actually writes more bytes than this, because the associated Paxos negotations must
        // be persisted
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java

    public static Map<String, Long> getSizeOfMutationPerTable(
            Map<ByteBuffer, Map<String, List<Mutation>>> batchMutateMap) {
        Map<String, Long> tableToSize = new HashMap<>();

```

### BoundedWildcard
Can generalize to `? extends Map`>
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/thrift/ThriftObjectSizeUtils.java`
#### Snippet
```java

    public static Map<String, Long> getSizeOfMutationPerTable(
            Map<ByteBuffer, Map<String, List<Mutation>>> batchMutateMap) {
        Map<String, Long> tableToSize = new HashMap<>();

```

### BoundedWildcard
Can generalize to `? extends Statement`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CqlSession.java`
#### Snippet
```java
    }

    public Set<LightweightOppToken> retrieveRowKeysAtConsistencyAll(List<Statement> selectStatements) {
        return selectStatements.stream()
                .map(statement -> statement.setConsistencyLevel(ConsistencyLevel.ALL))
```

### BoundedWildcard
Can generalize to `? extends TransactionTableEntry`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/TransactionAborter.java`
#### Snippet
```java
            PreparedStatement preparedAbortStatement,
            PreparedStatement preparedCheckStatement,
            Stream<TransactionTableEntry> entries) {
        entries.forEach(entry -> {
            Statement abortStatement = txnInteraction.bindAbortStatement(preparedAbortStatement, entry);
```

### BoundedWildcard
Can generalize to `? extends TransactionsTableInteraction`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/TransactionAborter.java`
#### Snippet
```java
    }

    public void abortTransactions(long timestamp, List<TransactionsTableInteraction> transactionsTableInteractions) {
        CqlMetadata clusterMetadata = cqlSession.getMetadata();
        transactionsTableInteractions.forEach(
```

### BoundedWildcard
Can generalize to `? extends LightweightOppToken`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CqlMetadata.java`
#### Snippet
```java

    @VisibleForTesting
    TokenRange toTokenRange(Range<LightweightOppToken> range) {
        Preconditions.checkArgument(
                !range.hasLowerBound() || range.lowerBoundType().equals(BoundType.OPEN),
```

### BoundedWildcard
Can generalize to `? extends FullyBoundedTimestampRange`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/transaction/TransactionsTableInteraction.java`
#### Snippet
```java

    static List<TransactionsTableInteraction> getTransactionTableInteractions(
            Map<FullyBoundedTimestampRange, Integer> coordinationMap, RetryPolicy casRetryPolicy) {
        return coordinationMap.entrySet().stream()
                .map(entry -> {
```

### BoundedWildcard
Can generalize to `? extends Set`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RepairRangeFetcher.java`
#### Snippet
```java
    private static void maybeLogTokenRanges(
            List<TransactionsTableInteraction> transactionsTableInteractions,
            Map<String, Set<LightweightOppToken>> partitionKeysByTable) {
        if (log.isDebugEnabled()) {
            Multimap<String, TransactionsTableInteraction> indexedInteractions = Multimaps.index(
```

### BoundedWildcard
Can generalize to `? extends TransactionsTableInteraction`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/RepairRangeFetcher.java`
#### Snippet
```java

    private Set<LightweightOppToken> getPartitionsTokenForSingleTransactionsTable(
            Collection<TransactionsTableInteraction> interactions) {
        return interactions.stream()
                .map(this::getPartitionTokensForTransactionsTable)
```

### BoundedWildcard
Can generalize to `? extends TokenRange`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    }

    private ImmutableSet<CassandraServer> refreshLocalHosts(List<TokenRange> tokenRanges) {
        Optional<HostLocation> myLocation = myLocationSupplier.get();

```

### BoundedWildcard
Can generalize to `? extends CassandraKeyValueServiceRuntimeConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
            MetricsManager metricsManager,
            CassandraKeyValueServiceConfig config,
            Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig,
            Blacklist blacklist,
            CassandraClientPoolMetrics poolMetrics) {
```

### BoundedWildcard
Can generalize to `? extends CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    }

    private void logHostToDatacenterMapping(Map<CassandraServer, String> hostToDatacentersThisRefresh) {
        if (log.isDebugEnabled()) {
            Map<String, String> hostAddressToDatacenter = KeyedStream.stream(hostToDatacentersThisRefresh)
```

### BoundedWildcard
Can generalize to `? super CassandraServer`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    public Optional<CassandraClientPoolingContainer> getRandomGoodHostForPredicate(
            Predicate<CassandraServer> predicate, Set<CassandraServer> triedNodes) {
        ImmutableSet<CassandraServer> hostsMatchingPredicate =
                currentPools.keySet().stream().filter(predicate).collect(ImmutableSet.toImmutableSet());
```

### BoundedWildcard
Can generalize to `? extends AtlasDbRuntimeConfig`
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java

    private void ensureTransactionSchemaVersionInstalled(
            AtlasDbConfig config, Optional<AtlasDbRuntimeConfig> runtimeConfig, TransactionManager transactionManager) {
        if (runtimeConfig.isEmpty()
                || runtimeConfig
```

### BoundedWildcard
Can generalize to `? extends LightweightOppToken`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
    // Needs to be Set<Range<>> as we don't want to merge ranges yet
    static Set<Range<LightweightOppToken>> getMinimalSetOfRangesForTokens(
            Set<LightweightOppToken> partitionKeyTokens,
            SortedMap<LightweightOppToken, Range<LightweightOppToken>> tokenRangesByStart) {
        Map<LightweightOppToken, Range<LightweightOppToken>> tokenRangesByStartToken = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends InetSocketAddress`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/ClusterMetadataUtils.java`
#### Snippet
```java
    @SuppressWarnings("ReverseDnsLookup")
    private static InetSocketAddress lookUpAddress(
            Map<String, InetSocketAddress> nodeMetadataHostMap, InetSocketAddress host) {
        String hostname = host.getHostName();
        Preconditions.checkArgument(
```

### BoundedWildcard
Can generalize to `? super String`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CassandraRepairHelper.java`
#### Snippet
```java

    public Void repairInternalTables(
            KeyValueService kvs, AtlasService atlasService, BiConsumer<String, RangesForRepair> repairTable) {
        CqlCluster cqlCluster = cqlClusterContainers.get(atlasService).get();
        KeyedStream.of(getTableNamesToRepair(kvs))
```

### BoundedWildcard
Can generalize to `? super RangesForRepair`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/CassandraRepairHelper.java`
#### Snippet
```java

    public Void repairInternalTables(
            KeyValueService kvs, AtlasService atlasService, BiConsumer<String, RangesForRepair> repairTable) {
        CqlCluster cqlCluster = cqlClusterContainers.get(atlasService).get();
        KeyedStream.of(getTableNamesToRepair(kvs))
```

### BoundedWildcard
Can generalize to `? extends TargetedSweeper`
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/todo/TodoClient.java`
#### Snippet
```java
            TransactionManager transactionManager,
            Supplier<SweepTaskRunner> sweepTaskRunner,
            Supplier<TargetedSweeper> targetedSweeper) {
        this.transactionManager = transactionManager;
        this.kvs = Suppliers.memoize(transactionManager::getKeyValueService);
```

### BoundedWildcard
Can generalize to `? extends T`
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java
    }

    protected <T> Callable<T> wrap(Callable<T> callable) {
        return PTExecutors.wrap(callable);
    }
```

### BoundedWildcard
Can generalize to `? extends TokenBackedBasicResultsPage`, byte[]>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java
     */
    public static long sizeOfPageByRangeRequestMap(
            Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> pageByRange) {
        return pageByRange.values().stream()
                .flatMap(page -> page.getResults().stream())
```

### BoundedWildcard
Can generalize to `? extends Set`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java
    }

    public static long sizeOfLongSetRowResult(RowResult<Set<Long>> rowResult) {
        return sizeOfRowResult(rowResult, set -> ((long) set.size()) * Long.BYTES);
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java
    }

    private static <T> long sizeOfRowResult(RowResult<T> rowResult, ToLongFunction<T> measurer) {
        return rowResult.getRowNameSize()
                + rowResult.getColumns().entrySet().stream()
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java
    }

    private static <T> long sizeOfRowResult(RowResult<T> rowResult, ToLongFunction<T> measurer) {
        return rowResult.getRowNameSize()
                + rowResult.getColumns().entrySet().stream()
```

### BoundedWildcard
Can generalize to `? extends K`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java

    private static <K, V> long sizeOfMap(
            Map<K, V> map, ToLongFunction<K> keyMeasurer, ToLongFunction<V> valueMeasurer) {
        return map.entrySet().stream()
                .mapToLong(
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java

    private static <K, V> long sizeOfMap(
            Map<K, V> map, ToLongFunction<K> keyMeasurer, ToLongFunction<V> valueMeasurer) {
        return map.entrySet().stream()
                .mapToLong(
```

### BoundedWildcard
Can generalize to `? super K`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java

    private static <K, V> long sizeOfMap(
            Map<K, V> map, ToLongFunction<K> keyMeasurer, ToLongFunction<V> valueMeasurer) {
        return map.entrySet().stream()
                .mapToLong(
```

### BoundedWildcard
Can generalize to `? super V`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java

    private static <K, V> long sizeOfMap(
            Map<K, V> map, ToLongFunction<K> keyMeasurer, ToLongFunction<V> valueMeasurer) {
        return map.entrySet().stream()
                .mapToLong(
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java
    }

    private static <T> long sizeOfCollection(Collection<T> collection, ToLongFunction<T> measurer) {
        return collection.stream().mapToLong(measurer).sum();
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/util/MeasuringUtils.java`
#### Snippet
```java
    }

    private static <T> long sizeOfCollection(Collection<T> collection, ToLongFunction<T> measurer) {
        return collection.stream().mapToLong(measurer).sum();
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java

            @Override
            protected <T> Callable<T> wrap(Callable<T> callable) {
                return PTExecutors.wrap(operationName, callable);
            }
```

### BoundedWildcard
Can generalize to `? super SpecialTimestampsSupplier`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/Sweeper.java`
#### Snippet
```java

    Sweeper(
            Function<SpecialTimestampsSupplier, Long> sweepTimestampSupplier,
            boolean shouldSweepLastCommitted,
            boolean shouldAddSentinels,
```

### BoundedWildcard
Can generalize to `? extends CandidateCellForSweeping`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepableCellFilter.java`
#### Snippet
```java
    }

    private static Set<Long> getAllValidTimestamps(Collection<CandidateCellForSweeping> candidates) {
        return candidates.stream()
                .map(CandidateCellForSweeping::sortedTimestamps)
```

### BoundedWildcard
Can generalize to `? extends SweepBatchConfig`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AdjustableSweepBatchConfigSource.java`
#### Snippet
```java
    private final AtomicInteger successiveIncreases = new AtomicInteger(0);

    private AdjustableSweepBatchConfigSource(Supplier<SweepBatchConfig> rawSweepBatchConfig) {
        this.rawSweepBatchConfig = rawSweepBatchConfig;
    }
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepTaskRunner.java`
#### Snippet
```java
     */
    private Iterator<BatchOfCellsToSweep> getBatchesToSweep(
            Iterator<List<CandidateCellForSweeping>> candidates,
            SweepBatchConfig batchConfig,
            SweepableCellFilter sweepableCellFilter,
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepTaskRunner.java`
#### Snippet
```java
    private boolean addCurrentCellTimestamps(
            TableReference tableRef,
            Multimap<Cell, Long> currentBatch,
            Cell currentCell,
            List<Long> currentCellTimestamps,
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepTaskRunner.java`
#### Snippet
```java
    private boolean addCurrentCellTimestamps(
            TableReference tableRef,
            Multimap<Cell, Long> currentBatch,
            Cell currentCell,
            List<Long> currentCellTimestamps,
```

### BoundedWildcard
Can generalize to `? extends CellToSweep`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepTaskRunner.java`
#### Snippet
```java
     * Returns the number of blocks - (cell, timestamp) pairs - that were deleted.
     */
    private int sweepBatch(TableReference tableRef, List<CellToSweep> batch, RunType runType, int deleteBatchSize) {
        int numberOfSweptCells = 0;

```

### BoundedWildcard
Can generalize to `? extends Follower`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/CellsSweeper.java`
#### Snippet
```java
    private final Collection<Follower> followers;

    public CellsSweeper(TransactionManager txManager, KeyValueService keyValueService, Collection<Follower> followers) {
        this.txManager = txManager;
        this.keyValueService = keyValueService;
```

### BoundedWildcard
Can generalize to `? extends SweepPriorityOverrideConfig`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
            Supplier<Boolean> isSweepEnabled,
            Supplier<Long> sweepPauseMillis,
            Supplier<SweepPriorityOverrideConfig> sweepPriorityOverrideConfig,
            SpecificTableSweeper specificTableSweeper,
            SweepOutcomeMetrics sweepOutcomeMetrics,
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueUtils.java`
#### Snippet
```java
    }

    public static void validateNumberOfCellsWritten(Collection<List<WriteInfo>> writes) {
        writes.forEach(writesForShard -> {
            int cellsWritten = writesForShard.size();
```

### BoundedWildcard
Can generalize to `? extends WriteInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/WriteInfoPartitioner.java`
#### Snippet
```java
    }

    private Map<PartitionInfo, List<WriteInfo>> partitionWritesByShardStrategyTimestamp(List<WriteInfo> writes) {
        int shards = numShards.get();
        return writes.stream()
```

### BoundedWildcard
Can generalize to `? extends Follower`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweepFollower.java`
#### Snippet
```java
     * @param txManager fixed transaction manager
     */
    public TargetedSweepFollower(List<Follower> followers, TransactionManager txManager) {
        this.followers = followers;
        this.txManager = txManager;
```

### BoundedWildcard
Can generalize to `? extends ShardAndStrategy`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/ShardProgress.java`
#### Snippet
```java
    }

    private Map<Cell, Value> getEntries(Set<ShardAndStrategy> shardAndStrategies) {
        Map<Cell, Long> queryMap = KeyedStream.of(shardAndStrategies)
                .mapEntries((shardAndStrategy, _unused) ->
```

### BoundedWildcard
Can generalize to `? extends SweepIterationResult`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/ScalingSweepTaskScheduler.java`
#### Snippet
```java
    }

    private void retryingTask(Callable<SweepIterationResult> task) {
        try {
            SweepIterationResult sweepResult = task.call();
```

### BoundedWildcard
Can generalize to `? extends PartitionInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
    }

    private void updateWriteMetrics(Map<PartitionInfo, List<WriteInfo>> partitionedWrites) {
        maybeMetrics.ifPresent(metrics -> partitionedWrites.forEach(
                (info, writes) -> metrics.updateEnqueuedWrites(info.shardAndStrategy(), writes.size())));
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
    }

    private void updateWriteMetrics(Map<PartitionInfo, List<WriteInfo>> partitionedWrites) {
        maybeMetrics.ifPresent(metrics -> partitionedWrites.forEach(
                (info, writes) -> metrics.updateEnqueuedWrites(info.shardAndStrategy(), writes.size())));
```

### BoundedWildcard
Can generalize to `? extends WriteInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueDeleter.java`
#### Snippet
```java

    private Map<TableReference, Map<Cell, TimestampRangeDelete>> writesPerTable(
            Collection<WriteInfo> writes, Sweeper sweeper) {
        return writes.stream()
                .collect(Collectors.groupingBy(
```

### BoundedWildcard
Can generalize to `? super Set`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
    }

    private void execute(Set<TableReference> tables, Consumer<Set<TableReference>> destructiveAction) {
        Set<TableReference> conservativeTables = getConservativeTables(tables);
        Set<TableReference> safeTables = Sets.difference(tables, conservativeTables);
```

### BoundedWildcard
Can generalize to `? super TableReference`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/StreamStoreRemappingSweepPriorityCalculator.java`
#### Snippet
```java
    }

    private void doNotSweepTable(TableReference table, @Output Map<TableReference, Double> scores) {
        scores.put(table, 0.0);
    }
```

### BoundedWildcard
Can generalize to `? super Double`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/StreamStoreRemappingSweepPriorityCalculator.java`
#### Snippet
```java
    }

    private void doNotSweepTable(TableReference table, @Output Map<TableReference, Double> scores) {
        scores.put(table, 0.0);
    }
```

### BoundedWildcard
Can generalize to `? extends SweepPriority`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/StreamStoreRemappingSweepPriorityCalculator.java`
#### Snippet
```java
    }

    private long getLastSweptTime(TableReference table, Map<TableReference, SweepPriority> tableToSweepPriority) {
        if (!tableToSweepPriority.containsKey(table)) {
            return 0L;
```

### BoundedWildcard
Can generalize to `? extends Metrics`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/SweepOutcomeMetrics.java`
#### Snippet
```java
    private final Supplier<Metrics> metrics;

    private SweepOutcomeMetrics(Supplier<Metrics> metrics) {
        this.metrics = metrics;
    }
```

### BoundedWildcard
Can generalize to `? extends SweepPriority`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
            Transaction tx,
            Set<TableReference> allTables,
            List<SweepPriority> oldPriorities,
            List<SweepPriority> newPriorities) {

```

### BoundedWildcard
Can generalize to `? extends SweepPriority`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
            Set<TableReference> allTables,
            List<SweepPriority> oldPriorities,
            List<SweepPriority> newPriorities) {

        Set<TableReference> unsweptTables = Sets.difference(
```

### BoundedWildcard
Can generalize to `? extends WriteInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java

    @Override
    Map<Cell, byte[]> populateCells(PartitionInfo partitionInfo, List<WriteInfo> writes) {
        Map<Cell, byte[]> cells = new HashMap<>();
        boolean dedicate = writes.size() > SweepQueueUtils.MAX_CELLS_GENERIC;
```

### BoundedWildcard
Can generalize to `? extends WriteInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
        }

        WriteBatch add(List<WriteInfo> writeInfos) {
            writeInfos.forEach(info -> writesByStartTs.put(info.timestamp(), info));
            return this;
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
    }

    private Collection<WriteInfo> getWritesToSweep(Multimap<Long, WriteInfo> writesByStartTs, SortedSet<Long> startTs) {
        Map<CellReference, WriteInfo> writesToSweepFor = new HashMap<>();
        startTs.stream()
```

### BoundedWildcard
Can generalize to `? extends WriteInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
    }

    private Collection<WriteInfo> getWritesToSweep(Multimap<Long, WriteInfo> writesByStartTs, SortedSet<Long> startTs) {
        Map<CellReference, WriteInfo> writesToSweepFor = new HashMap<>();
        startTs.stream()
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java

    private WriteBatch getBatchOfWrites(
            SweepableCellsRow row, PeekingIterator<Map.Entry<Cell, Value>> resultIterator, long sweepTs) {
        WriteBatch writeBatch = new WriteBatch();
        while (resultIterator.hasNext() && writeBatch.writesByStartTs.size() < SweepQueueUtils.SWEEP_BATCH_SIZE) {
```

### BoundedWildcard
Can generalize to `? super BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java

    void processBatchWithException(
            BiFunction<BatchElement<CasRequest, Void>, MultiCheckAndSetException, Boolean> shouldRetry,
            MultiCheckAndSetException ex) {
        ImmutableList.Builder<BatchElement<CasRequest, Void>> requestsToRetry = ImmutableList.builder();
```

### BoundedWildcard
Can generalize to `? super MultiCheckAndSetException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java

    void processBatchWithException(
            BiFunction<BatchElement<CasRequest, Void>, MultiCheckAndSetException, Boolean> shouldRetry,
            MultiCheckAndSetException ex) {
        ImmutableList.Builder<BatchElement<CasRequest, Void>> requestsToRetry = ImmutableList.builder();
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java

    private static Map<Cell, byte[]> extractValueMap(
            List<BatchElement<CasRequest, Void>> requests, Function<CasRequest, ByteBuffer> valueExtractor) {
        return KeyedStream.of(requests)
                .mapKeys(elem -> elem.argument().cell())
```

### BoundedWildcard
Can generalize to `? super CasRequest`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java

    private static Map<Cell, byte[]> extractValueMap(
            List<BatchElement<CasRequest, Void>> requests, Function<CasRequest, ByteBuffer> valueExtractor) {
        return KeyedStream.of(requests)
                .mapKeys(elem -> elem.argument().cell())
```

### BoundedWildcard
Can generalize to `? extends ByteBuffer`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java

    private static Map<Cell, byte[]> extractValueMap(
            List<BatchElement<CasRequest, Void>> requests, Function<CasRequest, ByteBuffer> valueExtractor) {
        return KeyedStream.of(requests)
                .mapKeys(elem -> elem.argument().cell())
```

### BoundedWildcard
Can generalize to `? super MetricsForStrategy`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
    }

    private void updateMetricsIfPresent(SweeperStrategy strategy, Consumer<MetricsForStrategy> update) {
        Optional.ofNullable(getMetrics(strategy)).ifPresent(update);
    }
```

### BoundedWildcard
Can generalize to `? extends TimestampAndShard`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
        }

        private Long extractTimestamp(Gauge<TimestampAndShard> gauge) {
            TimestampAndShard result = gauge.getValue();
            return Optional.ofNullable(result).map(TimestampAndShard::timestamp).orElse(null);
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
                TimestampAndShard shardAndTs,
                Clock clock,
                BiFunction<Long, MillisAndMaybeTimestamp, MillisAndMaybeTimestamp> tsToMillis) {
            if (shardAndTs == null) {
                log.info(
```

### BoundedWildcard
Can generalize to `? super MillisAndMaybeTimestamp`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
                TimestampAndShard shardAndTs,
                Clock clock,
                BiFunction<Long, MillisAndMaybeTimestamp, MillisAndMaybeTimestamp> tsToMillis) {
            if (shardAndTs == null) {
                log.info(
```

### BoundedWildcard
Can generalize to `? extends MillisAndMaybeTimestamp`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java
                TimestampAndShard shardAndTs,
                Clock clock,
                BiFunction<Long, MillisAndMaybeTimestamp, MillisAndMaybeTimestamp> tsToMillis) {
            if (shardAndTs == null) {
                log.info(
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/CachingPuncherStore.java`
#### Snippet
```java

    private CachingPuncherStore(
            PuncherStore puncherStore, LoadingCache<Long, Long> timeMillisToTimestamp, long granularityMillis) {
        this.puncherStore = puncherStore;
        this.timeMillisToTimestamp = timeMillisToTimestamp;
```

### BoundedWildcard
Can generalize to `? extends CasRequest`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
    // we only want to retry the requests where the actual matches the expected.
    @VisibleForTesting
    static boolean shouldRetry(BatchElement<CasRequest, Void> req, MultiCheckAndSetException ex) {
        CasRequest casRequest = req.argument();
        Cell cell = casRequest.cell();
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
    // `CheckAndSetException` and those for atomic updates will fail with `KeyAlreadyExistsException`.
    private static List<BatchElement<CasRequest, Void>> filterOptimalUpdatePerCell(
            List<BatchElement<CasRequest, Void>> batch) {

        Map<Cell, List<BatchElement<CasRequest, Void>>> partitionedElems = batch.stream()
```

### BoundedWildcard
Can generalize to `? extends Schema`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/CleanupFollower.java`
#### Snippet
```java
    private final ImmutableMultimap<TableReference, OnCleanupTask> cleanupTasksByTable;

    public static CleanupFollower create(Iterable<Schema> schemas) {
        ImmutableMultimap.Builder<TableReference, OnCleanupTask> cleanupTasksByTable = ImmutableMultimap.builder();
        for (Schema schema : schemas) {
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/MillisAndMaybeTimestamp.java`
#### Snippet
```java
    Optional<Long> timestamp();

    default boolean timestampSatisfies(Predicate<Long> predicate) {
        return timestamp().isPresent() && predicate.test(timestamp().get());
    }
```

### BoundedWildcard
Can generalize to `? super SortedMap`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java
            @Override
            protected <K extends Exception> void batchAcceptSizeHint(
                    int batchSizeHint, ConsistentVisitor<SortedMap<Long, Multimap<TableReference, Cell>>, K> visitor)
                    throws K {
                try (ClosableIterator<RowResult<Value>> iterator =
```

### BoundedWildcard
Can generalize to `? extends TransactionStatus`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/SimpleCommitTimestampAtomicTable.java`
#### Snippet
```java

    @Override
    public void updateMultiple(Map<Long, TransactionStatus> values) throws KeyAlreadyExistsException {
        kvs.putUnlessExists(
                tableRef,
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/StructureHolder.java`
#### Snippet
```java
    private V structure;

    private StructureHolder(Supplier<V> initialValueSupplier) {
        this.initialValueSupplier = initialValueSupplier;
        this.structure = initialValueSupplier.get();
```

### BoundedWildcard
Can generalize to `? super V`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/StructureHolder.java`
#### Snippet
```java
    }

    synchronized <K> K apply(Function<V, K> function) {
        return function.apply(structure);
    }
```

### BoundedWildcard
Can generalize to `? super V`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/StructureHolder.java`
#### Snippet
```java
    }

    synchronized void with(Function<V, V> mutator) {
        structure = mutator.apply(structure);
    }
```

### BoundedWildcard
Can generalize to `? extends V`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/StructureHolder.java`
#### Snippet
```java
    }

    synchronized void with(Function<V, V> mutator) {
        structure = mutator.apply(structure);
    }
```

### BoundedWildcard
Can generalize to `? super Integer`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheMetrics.java`
#### Snippet
```java
            Counter getRowsRowLookups,
            Counter stateClearEvents,
            CurrentValueMetric<Integer> eventCacheValidationFailures,
            CurrentValueMetric<Integer> valueCacheValidationFailures,
            MetricsManager metricsManager) {
```

### BoundedWildcard
Can generalize to `? super Integer`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheMetrics.java`
#### Snippet
```java
            Counter stateClearEvents,
            CurrentValueMetric<Integer> eventCacheValidationFailures,
            CurrentValueMetric<Integer> valueCacheValidationFailures,
            MetricsManager metricsManager) {
        this.hits = hits;
```

### BoundedWildcard
Can generalize to `? extends TransactionStatus`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java

    @Override
    public void updateMultiple(Map<Long, TransactionStatus> keyValues) throws KeyAlreadyExistsException {
        Map<Cell, Long> cellToStartTs = keyValues.keySet().stream()
                .collect(Collectors.toMap(encodingStrategy::encodeStartTimestampAsCell, x -> x));
```

### BoundedWildcard
Can generalize to `? extends CompactorConfig`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java

    @VisibleForTesting
    static long getSleepTime(Supplier<CompactorConfig> compactorConfigSupplier, CompactionOutcome outcome) {
        switch (outcome) {
            case SUCCESS:
```

### BoundedWildcard
Can generalize to `? extends StartTimestamp`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java

    @Override
    public void storeSnapshot(Sequence sequence, Collection<StartTimestamp> timestamps, ValueCacheSnapshot snapshot) {
        validateStateSize();

```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValueStoreImpl.java`
#### Snippet
```java
    }

    private Stream<CellReference> getCandidateCells(Set<LockDescriptor> lockDescriptors) {
        return lockDescriptors.stream()
                .map(AtlasLockDescriptorUtils::tryParseTableRef)
```

### BoundedWildcard
Can generalize to `? extends CommitInfo`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    default CommitUpdate toCommitUpdate(
            LockWatchVersion startVersion, LockWatchVersion endVersion, Optional<CommitInfo> commitInfo) {
        if (clearCache()) {
            return CommitUpdate.invalidateAll();
```

### BoundedWildcard
Can generalize to `? extends TransactionUpdate`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/TimestampStateStore.java`
#### Snippet
```java
    }

    void putCommitUpdates(Collection<TransactionUpdate> transactionUpdates, LockWatchVersion newVersion) {
        transactionUpdates.forEach(transactionUpdate -> {
            StartTimestamp startTimestamp = StartTimestamp.of(transactionUpdate.startTs());
```

### BoundedWildcard
Can generalize to `? extends Schema`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchManagerImpl.java`
#### Snippet
```java
    public static LockWatchManagerInternal create(
            MetricsManager metricsManager,
            Set<Schema> schemas,
            LockWatchStarter lockWatchingService,
            LockWatchCachingConfig config) {
```

### BoundedWildcard
Can generalize to `? extends LockWatchReferences.LockWatchReference`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchManagerImpl.java`
#### Snippet
```java

    @Override
    public void registerPreciselyWatches(Set<LockWatchReferences.LockWatchReference> newLockWatches) {
        lockWatchReferences.clear();
        lockWatchReferences.addAll(referencesFromSchema);
```

### BoundedWildcard
Can generalize to `? extends LockWatchReference`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchManagerImpl.java`
#### Snippet
```java
    @VisibleForTesting
    LockWatchManagerImpl(
            Set<LockWatchReference> referencesFromSchema,
            LockWatchEventCache eventCache,
            LockWatchValueScopingCache valueCache,
```

### BoundedWildcard
Can generalize to `? extends LockWatchVersion`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java
    }

    default void assertNoEventsAreMissingAfterLatestVersion(Optional<LockWatchVersion> latestVersion) {
        if (events().isEmpty()) {
            return;
```

### BoundedWildcard
Can generalize to `? super Iterable`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        if (shouldValidate()) {
            NavigableMap<byte[], RowResult<byte[]>> remoteReads = rowLoader.apply(rows);
```

### BoundedWildcard
Can generalize to `? extends NavigableMap`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        if (shouldValidate()) {
            NavigableMap<byte[], RowResult<byte[]>> remoteReads = rowLoader.apply(rows);
```

### BoundedWildcard
Can generalize to `? super Set`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
            TableReference tableReference,
            Set<Cell> cells,
            Function<Set<Cell>, ListenableFuture<Map<Cell, byte[]>>> valueLoader) {
        if (shouldValidate()) {
            ListenableFuture<Map<Cell, byte[]>> remoteReads = valueLoader.apply(cells);
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
            TableReference tableReference,
            Set<Cell> cells,
            Function<Set<Cell>, ListenableFuture<Map<Cell, byte[]>>> valueLoader) {
        if (shouldValidate()) {
            ListenableFuture<Map<Cell, byte[]>> remoteReads = valueLoader.apply(cells);
```

### BoundedWildcard
Can generalize to `? extends LockWatchVersion`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
    }

    private synchronized void updateCurrentVersion(Optional<LockWatchVersion> maybeUpdateVersion) {
        maybeUpdateVersion
                .filter(this::shouldUpdateVersion)
```

### BoundedWildcard
Can generalize to `? extends LockDescriptor`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java

                @Override
                public Void invalidateSome(Set<LockDescriptor> invalidatedLocks) {
                    Set<CellReference> invalidatedCells = invalidatedLocks.stream()
                            .map(AtlasLockDescriptorUtils::candidateCells)
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/monitoring/TrackerUtils.java`
#### Snippet
```java
            Clock clock,
            String shortName,
            Supplier<T> supplier,
            T initialValue,
            BinaryOperator<T> reducer) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/LockCheckingTransactionTask.java`
#### Snippet
```java

    public LockCheckingTransactionTask(
            TransactionTask<T, E> delegate, TimelockService timelockService, LockToken immutableTsLock) {
        this.delegate = delegate;
        this.timelockService = timelockService;
```

### BoundedWildcard
Can generalize to `? extends E`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/LockCheckingTransactionTask.java`
#### Snippet
```java

    public LockCheckingTransactionTask(
            TransactionTask<T, E> delegate, TimelockService timelockService, LockToken immutableTsLock) {
        this.delegate = delegate;
        this.timelockService = timelockService;
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/ColumnRangeBatchProvider.java`
#### Snippet
```java

    @Override
    public byte[] getLastToken(List<Map.Entry<Cell, Value>> batch) {
        Preconditions.checkArgument(!batch.isEmpty());
        return batch.get(batch.size() - 1).getKey().getColumnName();
```

### BoundedWildcard
Can generalize to `? extends TransactionConfig`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
            Optional<LockToken> immutableTimestampLock,
            Supplier<Long> startTimestampSupplier,
            Supplier<TransactionConfig> transactionConfig,
            MetricsManager metricsManager,
            TimelockService timelockService,
```

### BoundedWildcard
Can generalize to `? super Set`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            TableReference tableReference,
            Set<Cell> cells,
            Function<Set<Cell>, ListenableFuture<Map<Cell, byte[]>>> valueLoader) {
        ensureNotFinalised();
        // Short-cut all the logic below if the table is not watched.
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            TableReference tableReference,
            Set<Cell> cells,
            Function<Set<Cell>, ListenableFuture<Map<Cell, byte[]>>> valueLoader) {
        ensureNotFinalised();
        // Short-cut all the logic below if the table is not watched.
```

### BoundedWildcard
Can generalize to `? super Set`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            Iterable<byte[]> rows,
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        ensureNotFinalised();
```

### BoundedWildcard
Can generalize to `? extends Map`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            Iterable<byte[]> rows,
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        ensureNotFinalised();
```

### BoundedWildcard
Can generalize to `? super Iterable`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        ensureNotFinalised();

```

### BoundedWildcard
Can generalize to `? extends NavigableMap`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            ColumnSelection columnSelection,
            Function<Set<Cell>, Map<Cell, byte[]>> cellLoader,
            Function<Iterable<byte[]>, NavigableMap<byte[], RowResult<byte[]>>> rowLoader) {
        ensureNotFinalised();

```

### BoundedWildcard
Can generalize to `? extends Follower`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
            int threadCount,
            int readThreadCount,
            Collection<Follower> followers,
            MetricsManager metricsManager) {
        this.keyValueService = keyValueService;
```

### BoundedWildcard
Can generalize to `? super TableReference`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/metrics/TransactionOutcomeMetrics.java`
#### Snippet
```java

    @VisibleForTesting
    TransactionOutcomeMetrics(MetricsManager metricsManager, Predicate<TableReference> safeForLogging) {
        this.metricsManager = metricsManager;
        this.safeForLogging = safeForLogging;
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingIterator.java`
#### Snippet
```java
    private final BytesReadTracker tracker;

    public TrackingIterator(I delegate, BytesReadTracker tracker, ToLongFunction<T> measurer) {
        this.delegate = delegate;
        this.tracker = tracker;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    }

    private <T, E extends Exception> LockAwareTransactionTask<T, E> wrapTask(LockAwareTransactionTask<T, E> task) {
        return (transaction, locks) -> task.execute(wrap(transaction), locks);
    }
```

### BoundedWildcard
Can generalize to `? extends E`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    }

    private <T, E extends Exception> LockAwareTransactionTask<T, E> wrapTask(LockAwareTransactionTask<T, E> task) {
        return (transaction, locks) -> task.execute(wrap(transaction), locks);
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    protected abstract Transaction wrap(Transaction transaction);

    private <T, E extends Exception> TransactionTask<T, E> wrapTask(TransactionTask<T, E> task) {
        return transaction -> task.execute(wrap(transaction));
    }
```

### BoundedWildcard
Can generalize to `? extends E`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    protected abstract Transaction wrap(Transaction transaction);

    private <T, E extends Exception> TransactionTask<T, E> wrapTask(TransactionTask<T, E> task) {
        return transaction -> task.execute(wrap(transaction));
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java

    private <T, C extends PreCommitCondition, E extends Exception> ConditionAwareTransactionTask<T, C, E> wrapTask(
            ConditionAwareTransactionTask<T, C, E> task) {
        return (transaction, condition) -> task.execute(wrap(transaction), condition);
    }
```

### BoundedWildcard
Can generalize to `? super C`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java

    private <T, C extends PreCommitCondition, E extends Exception> ConditionAwareTransactionTask<T, C, E> wrapTask(
            ConditionAwareTransactionTask<T, C, E> task) {
        return (transaction, condition) -> task.execute(wrap(transaction), condition);
    }
```

### BoundedWildcard
Can generalize to `? extends E`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java

    private <T, C extends PreCommitCondition, E extends Exception> ConditionAwareTransactionTask<T, C, E> wrapTask(
            ConditionAwareTransactionTask<T, C, E> task) {
        return (transaction, condition) -> task.execute(wrap(transaction), condition);
    }
```

### BoundedWildcard
Can generalize to `? super Iterable`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/PreStartHandlingTransactionService.java`
#### Snippet
```java
    private <T> ListenableFuture<Map<Long, T>> getFromDelegate(
            Iterable<Long> startTimestamps,
            Function<Iterable<Long>, ListenableFuture<Map<Long, T>>> getter,
            T invalidCommit) {
        Map<Boolean, List<Long>> classifiedTimestamps = StreamSupport.stream(startTimestamps.spliterator(), false)
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/PreStartHandlingTransactionService.java`
#### Snippet
```java
    private <T> ListenableFuture<Map<Long, T>> getFromDelegate(
            Iterable<Long> startTimestamps,
            Function<Iterable<Long>, ListenableFuture<Map<Long, T>>> getter,
            T invalidCommit) {
        Map<Boolean, List<Long>> classifiedTimestamps = StreamSupport.stream(startTimestamps.spliterator(), false)
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/PreStartHandlingTransactionService.java`
#### Snippet
```java

    private <T> ListenableFuture<T> getFromDelegate(
            long startTimestamp, Function<Long, ListenableFuture<T>> getter, T commitValueForInvalidStart) {
        if (!isTimestampValid(startTimestamp)) {
            return Futures.immediateFuture(commitValueForInvalidStart);
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/PreStartHandlingTransactionService.java`
#### Snippet
```java

    private <T> ListenableFuture<T> getFromDelegate(
            long startTimestamp, Function<Long, ListenableFuture<T>> getter, T commitValueForInvalidStart) {
        if (!isTimestampValid(startTimestamp)) {
            return Futures.immediateFuture(commitValueForInvalidStart);
```

### BoundedWildcard
Can generalize to `? extends ReadResult`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsStore.java`
#### Snippet
```java

    private CheckAndSetRequest getCheckAndSetRequest(
            Optional<ReadResult> oldValue, ConcludedRangeState concludedRangeState) {
        byte[] serializedTargetSet = serializeTimestampRangeSet(concludedRangeState);

```

### BoundedWildcard
Can generalize to `? super ConcludedRangeState`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsStore.java`
#### Snippet
```java
    }

    private boolean checkAndSet(Function<ConcludedRangeState, ConcludedRangeState> newConcludedRangeStateFunction) {
        for (int attempt = 0; attempt < MAX_ATTEMPTS; attempt++) {
            Optional<ReadResult> readResult = getInternal();
```

### BoundedWildcard
Can generalize to `? extends ConcludedRangeState`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsStore.java`
#### Snippet
```java
    }

    private boolean checkAndSet(Function<ConcludedRangeState, ConcludedRangeState> newConcludedRangeStateFunction) {
        for (int attempt = 0; attempt < MAX_ATTEMPTS; attempt++) {
            Optional<ReadResult> readResult = getInternal();
```

### BoundedWildcard
Can generalize to `? extends ValueAndBound`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/ReadOnlyTransactionSchemaManager.java`
#### Snippet
```java

    private static Optional<Integer> extractTimestampVersion(
            Optional<ValueAndBound<InternalSchemaMetadata>> valueAndBound, long timestamp) {
        return valueAndBound
                .flatMap(ValueAndBound::value)
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private void copyOldRangesFromPreviousMap(
            RangeAndValue<T> latestRangeAndValue, @Output ImmutableRangeMap.Builder<Long, T> builder) {
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            long lowerBoundForNewVersion,
            T newValue,
            RangeAndValue<T> latestRangeAndValue,
            @Output ImmutableRangeMap.Builder<Long, T> builder) {
        // RangeMaps do not coalesce adjacent entries.
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            T newValue,
            RangeAndValue<T> latestRangeAndValue,
            @Output ImmutableRangeMap.Builder<Long, T> builder) {
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
```

### BoundedWildcard
Can generalize to `? extends TimestampPartitioningMap`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/metrics/MetadataCoordinationServiceMetrics.java`
#### Snippet
```java
    }

    private static Integer getVersionAtTimestamp(Optional<TimestampPartitioningMap<Integer>> timestampMap, long bound) {
        return timestampMap.map(map -> map.getValueForTimestamp(bound)).orElse(null);
    }
```

### BoundedWildcard
Can generalize to `? super ValueAndBound`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/metrics/MetadataCoordinationServiceMetrics.java`
#### Snippet
```java
            String metricName,
            Supplier<Optional<ValueAndBound<TimestampPartitioningMap<Integer>>>> timestampMapSupplier,
            Function<ValueAndBound<TimestampPartitioningMap<Integer>>, Long> timestampQuery) {
        metricsManager.registerMetric(
                MetadataCoordinationServiceMetrics.class,
```

### BoundedWildcard
Can generalize to `? extends ValueAndBound`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java

    private static Optional<Integer> extractTimestampVersion(
            Optional<ValueAndBound<InternalSchemaMetadata>> valueAndBound, long timestamp) {
        return valueAndBound
                .flatMap(ValueAndBound::value)
```

### BoundedWildcard
Can generalize to `? extends InternalSchemaMetadata`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java

    @VisibleForTesting
    Map.Entry<Range<Long>, Integer> getRangeAtBoundThreshold(ValueAndBound<InternalSchemaMetadata> valueAndBound) {
        return valueAndBound
                .value()
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownConcludedTransactionsStore.java`
#### Snippet
```java

    public CoordinationAwareKnownConcludedTransactionsStore(
            Function<Long, TimestampPartitioningMap<Integer>> internalSchemaSnapshotGetter,
            KnownConcludedTransactionsImpl delegate) {
        this.internalSchemaSnapshotGetter = internalSchemaSnapshotGetter;
```

### BoundedWildcard
Can generalize to `? extends TimestampPartitioningMap`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownConcludedTransactionsStore.java`
#### Snippet
```java

    public CoordinationAwareKnownConcludedTransactionsStore(
            Function<Long, TimestampPartitioningMap<Integer>> internalSchemaSnapshotGetter,
            KnownConcludedTransactionsImpl delegate) {
        this.internalSchemaSnapshotGetter = internalSchemaSnapshotGetter;
```

### BoundedWildcard
Can generalize to `? extends PaxosRound`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosStateLog.java`
#### Snippet
```java
     * iterable.
     */
    default void writeBatchOfRounds(Iterable<PaxosRound<V>> rounds) {
        rounds.forEach(round -> writeRound(round.sequence(), round.value()));
    }
```

### BoundedWildcard
Can generalize to `? extends TimestampPair`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java

    private static void markPreemptivelyAsFailure(
            EncodingTransactionService delegate, BatchElement<TimestampPair, Void> batchElem) {
        Cell cell = delegate.getCellEncodingStrategy()
                .encodeStartTimestampAsCell(batchElem.argument().startTimestamp());
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
    @VisibleForTesting
    static void processBatch(
            EncodingTransactionService delegate, List<BatchElement<TimestampPair, Void>> batchElements) {
        Multimap<Long, BatchElement<TimestampPair, Void>> startTimestampKeyedBatchElements =
                MultimapBuilder.hashKeys().hashSetValues().build();
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
    private static void markAllRemainingRequestsForTimestampsAsFailed(
            EncodingTransactionService delegate,
            Multimap<Long, BatchElement<TimestampPair, Void>> startTimestampKeyedBatchElements,
            Set<Long> timestampsToFail) {
        timestampsToFail.stream()
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
    private static void markBatchSuccessful(
            Multimap<Long, BatchElement<TimestampPair, Void>> startTimestampKeyedBatchElements,
            Map<Long, BatchElement<TimestampPair, Void>> batch) {
        batch.forEach((startTimestamp, batchElement) -> {
            startTimestampKeyedBatchElements.remove(startTimestamp, batchElement);
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java

    private static void handleUnexpectedFailedTimestamps(
            Map<Long, BatchElement<TimestampPair, Void>> batch, Map<Boolean, List<Long>> wereFailedTimestampsExpected) {
        List<Long> unexpectedFailedTimestamps = wereFailedTimestampsExpected.get(false);
        if (unexpectedFailedTimestamps != null) {
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java

    private static void markAllRemainingRequestsAsFailed(
            EncodingTransactionService delegate, Collection<BatchElement<TimestampPair, Void>> batchElementsToFail) {
        batchElementsToFail.forEach(batchElem -> markPreemptivelyAsFailure(delegate, batchElem));
    }
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java

    private static void handleExpectedSuccesses(
            Map<Long, BatchElement<TimestampPair, Void>> batch,
            Map<Boolean, List<Long>> wereSuccessfulTimestampsExpected) {
        List<Long> expectedSuccessfulTimestamps = wereSuccessfulTimestampsExpected.get(true);
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
    private static void handleExpectedSuccesses(
            Map<Long, BatchElement<TimestampPair, Void>> batch,
            Map<Boolean, List<Long>> wereSuccessfulTimestampsExpected) {
        List<Long> expectedSuccessfulTimestamps = wereSuccessfulTimestampsExpected.get(true);
        if (expectedSuccessfulTimestamps != null) {
```

### BoundedWildcard
Can generalize to `? super TimestampPair`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java

    private WriteBatchingTransactionService(
            EncodingTransactionService delegate, DisruptorAutobatcher<TimestampPair, Void> autobatcher) {
        this.delegate = delegate;
        this.autobatcher = autobatcher;
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java

    private static void handleExpectedFailedTimestamps(
            Map<Long, BatchElement<TimestampPair, Void>> batch,
            KeyAlreadyExistsException exception,
            Set<Long> failedTimestamps,
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
            KeyAlreadyExistsException exception,
            Set<Long> failedTimestamps,
            Map<Boolean, List<Long>> wereFailedTimestampsExpected) {
        List<Long> expectedFailedTimestamps = wereFailedTimestampsExpected.get(true);
        if (expectedFailedTimestamps == null) {
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
    private static void handleUnexpectedSuccesses(
            Map<Long, BatchElement<TimestampPair, Void>> batch,
            Map<Boolean, List<Long>> wereSuccessfulTimestampsExpected) {
        List<Long> unexpectedSuccessfulTimestamps = wereSuccessfulTimestampsExpected.get(false);
        if (unexpectedSuccessfulTimestamps != null) {
```

### BoundedWildcard
Can generalize to `? super Connection`
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/ConnectionConfig.java`
#### Snippet
```java
    }

    private static DataSource wrapDataSourceWithVisitor(DataSource ds, final Visitor<Connection> visitor) {
        return InterceptorDataSource.wrapInterceptor(new InterceptorDataSource(ds) {
            @Override
```

### BoundedWildcard
Can generalize to `? extends Supplier`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/JepsenHistoryCheckers.java`
#### Snippet
```java

    @VisibleForTesting
    static JepsenHistoryChecker createWithCheckers(List<Supplier<Checker>> checkers) {
        return new JepsenHistoryChecker(checkers.stream().map(Supplier::get).collect(Collectors.toList()));
    }
```

### BoundedWildcard
Can generalize to `? extends Checker`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/PartitionByInvokeNameCheckerHelper.java`
#### Snippet
```java
    private final Supplier<Checker> checkerSupplier;

    public PartitionByInvokeNameCheckerHelper(Supplier<Checker> checkerSupplier) {
        this.checkerSupplier = checkerSupplier;
    }
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/PartitionByInvokeNameCheckerHelper.java`
#### Snippet
```java
    }

    private List<CheckerResult> runCheckerOnEachHistory(Collection<List<Event>> histories) {
        return histories.stream().map(this::runChecker).collect(Collectors.toList());
    }
```

### BoundedWildcard
Can generalize to `? extends Event`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/PartitionByInvokeNameCheckerHelper.java`
#### Snippet
```java
    }

    private Map<String, List<Event>> partitionEventsByInvokeValue(List<Event> events) {
        Map<String, List<Event>> partitionedEvents = new HashMap<>();
        Map<Integer, String> lastInvokeValueForProcess = new HashMap<>();
```

### BoundedWildcard
Can generalize to `? extends Map`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/JepsenHistoryChecker.java`
#### Snippet
```java
    }

    private static List<Event> convertClojureHistoryToEventList(List<Map<Keyword, ?>> clojureHistory) {
        return clojureHistory.stream().map(Event::fromKeywordMap).collect(Collectors.toList());
    }
```

### BoundedWildcard
Can generalize to `? extends Event`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/JepsenHistoryChecker.java`
#### Snippet
```java
    }

    private static List<Map<Keyword, Object>> convertEventListToClojureHistory(List<Event> events) {
        return events.stream().map(Event::toKeywordMap).collect(Collectors.toList());
    }
```

### BoundedWildcard
Can generalize to `? extends Checker`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/JepsenHistoryChecker.java`
#### Snippet
```java
    }

    public JepsenHistoryChecker(List<Checker> checkers) {
        this.checkers = ImmutableList.copyOf(checkers);
    }
```

### BoundedWildcard
Can generalize to `? super AsyncTransactionService`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    private <StatusT> ListenableFuture<Map<Long, StatusT>> getFromDelegate(
            Map<T, ? extends AsyncTransactionService> keyedTransactionServices,
            BiFunction<AsyncTransactionService, Iterable<Long>, ListenableFuture<Map<Long, StatusT>>> statusGetter,
            Iterable<Long> startTimestamps) {
        Multimap<T, Long> queryMap = HashMultimap.create();
```

### BoundedWildcard
Can generalize to `? super Iterable`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    private <StatusT> ListenableFuture<Map<Long, StatusT>> getFromDelegate(
            Map<T, ? extends AsyncTransactionService> keyedTransactionServices,
            BiFunction<AsyncTransactionService, Iterable<Long>, ListenableFuture<Map<Long, StatusT>>> statusGetter,
            Iterable<Long> startTimestamps) {
        Multimap<T, Long> queryMap = HashMultimap.create();
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java

    SplitKeyDelegatingTransactionService(
            Function<Long, T> timestampToServiceKey, Map<T, TransactionService> keyedServices) {
        this.timestampToServiceKey = timestampToServiceKey;
        this.keyedServices = keyedServices;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java

    SplitKeyDelegatingTransactionService(
            Function<Long, T> timestampToServiceKey, Map<T, TransactionService> keyedServices) {
        this.timestampToServiceKey = timestampToServiceKey;
        this.keyedServices = keyedServices;
```

### BoundedWildcard
Can generalize to `? extends TransactionService`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java

    SplitKeyDelegatingTransactionService(
            Function<Long, T> timestampToServiceKey, Map<T, TransactionService> keyedServices) {
        this.timestampToServiceKey = timestampToServiceKey;
        this.keyedServices = keyedServices;
```

### BoundedWildcard
Can generalize to `? extends R`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    }

    private <R> Optional<R> getServiceForTimestamp(Map<T, R> servicesMap, long startTimestamp) {
        T key = timestampToServiceKey.apply(startTimestamp);
        if (key == null) {
```

### BoundedWildcard
Can generalize to `? super AsyncTransactionService`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    private <StatusT> ListenableFuture<StatusT> getFromDelegate(
            Map<T, ? extends AsyncTransactionService> keyedTransactionServices,
            BiFunction<AsyncTransactionService, Long, ListenableFuture<StatusT>> statusGetter,
            long startTimestamp) {
        return getServiceForTimestamp(keyedTransactionServices, startTimestamp)
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    private <StatusT> ListenableFuture<StatusT> getFromDelegate(
            Map<T, ? extends AsyncTransactionService> keyedTransactionServices,
            BiFunction<AsyncTransactionService, Long, ListenableFuture<StatusT>> statusGetter,
            long startTimestamp) {
        return getServiceForTimestamp(keyedTransactionServices, startTimestamp)
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java

    private static List<Map.Entry<Cell, ByteBuffer>> filterWritesFromCells(
            Iterable<Map.Entry<Cell, byte[]>> cells, @Nullable Map<Cell, byte[]> writes) {
        List<Map.Entry<Cell, ByteBuffer>> cellsWithoutWrites = new ArrayList<>();
        for (Map.Entry<Cell, byte[]> cell : cells) {
```

### BoundedWildcard
Can generalize to `? super ColumnSelection`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            TableReference table,
            ConcurrentNavigableMap<Cell, byte[]> readsForTable,
            Multimap<ColumnSelection, byte[]> rowsReadByColumns,
            ColumnSelection columns) {
        for (List<byte[]> batch : Iterables.partition(rowsReadByColumns.get(columns), BATCH_SIZE)) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java

    private void markRowColumnRangeRead(
            TableReference table, byte[] row, BatchColumnRangeSelection range, List<Map.Entry<Cell, byte[]>> result) {
        if (!isSerializableTable(table)) {
            return;
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            BatchColumnRangeSelection columnRangeSelection,
            byte[] row,
            Iterator<Map.Entry<Cell, byte[]>> iterator) {
        return new Iterator<Map.Entry<Cell, byte[]>>() {
            Map.Entry<Cell, byte[]> next = null;
```

### BoundedWildcard
Can generalize to `? extends List`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/UnstableOrderedIterable.java`
#### Snippet
```java
    private final Iterator<List<T>> orderingIterator;

    private UnstableOrderedIterable(Iterator<List<T>> orderingIterator) {
        this.orderingIterator = orderingIterator;
    }
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/UnstableOrderedIterable.java`
#### Snippet
```java
    }

    public static <T> Iterable<T> create(Collection<T> underlying, Comparator<T> comparator) {
        return new UnstableOrderedIterable<T>(Iterables.cycle(Collections2.orderedPermutations(underlying, comparator))
                .iterator());
```

### BoundedWildcard
Can generalize to `? extends ByteString`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
    }

    private List<ByteString> multiGetValueByteStrings(ColumnFamilyHandle columnFamilyHandle, List<ByteString> keys) {
        List<byte[]> values = multiGetValueBytes(
                columnFamilyHandle, keys.stream().map(ByteString::toByteArray).collect(Collectors.toList()));
```

### BoundedWildcard
Can generalize to `? extends RocksDBException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
    }

    private static <T> T callWithExceptionHandling(ThrowingCallable<T, RocksDBException> throwingCallable) {
        try {
            return throwingCallable.call();
```

### BoundedWildcard
Can generalize to `? extends ByteString`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java

    @Override
    public void put(PersistentStore.Handle handle, Map<ByteString, ByteString> toWrite) {
        KeyedStream.stream(toWrite).forEach((key, value) -> put(handle, key, value));
    }
```

### BoundedWildcard
Can generalize to `? extends ByteString`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java

    @Override
    public void put(PersistentStore.Handle handle, Map<ByteString, ByteString> toWrite) {
        KeyedStream.stream(toWrite).forEach((key, value) -> put(handle, key, value));
    }
```

### BoundedWildcard
Can generalize to `? super V`
in `leader-election-impl/src/main/java/com/palantir/paxos/SplittingPaxosStateLog.java`
#### Snippet
```java

    private SplittingPaxosStateLog(
            PaxosStateLog<V> legacyLog,
            PaxosStateLog<V> currentLog,
            Runnable markLegacyWrite,
```

### BoundedWildcard
Can generalize to `? super V`
in `leader-election-impl/src/main/java/com/palantir/paxos/SplittingPaxosStateLog.java`
#### Snippet
```java
    private SplittingPaxosStateLog(
            PaxosStateLog<V> legacyLog,
            PaxosStateLog<V> currentLog,
            Runnable markLegacyWrite,
            Runnable markLegacyRead,
```

### BoundedWildcard
Can generalize to `? super T`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponses.java`
#### Snippet
```java
    }

    public <U extends PaxosResponse> PaxosResponses<U> map(Function<T, U> mapper) {
        return of(quorum(), responses().stream().map(mapper).collect(Collectors.toList()));
    }
```

### BoundedWildcard
Can generalize to `? extends U`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponses.java`
#### Snippet
```java
    }

    public <U extends PaxosResponse> PaxosResponses<U> map(Function<T, U> mapper) {
        return of(quorum(), responses().stream().map(mapper).collect(Collectors.toList()));
    }
```

### BoundedWildcard
Can generalize to `? extends V`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogBatchReader.java`
#### Snippet
```java
    private final ListeningExecutorService executor;

    public PaxosStateLogBatchReader(PaxosStateLog<V> delegate, Persistable.Hydrator<V> hydrator, int numThreads) {
        this.delegate = delegate;
        this.hydrator = hydrator;
```

### BoundedWildcard
Can generalize to `? super T`
in `leader-election-impl/src/main/java/com/palantir/paxos/LeaderPingResult.java`
#### Snippet
```java
    }

    private static <T, R> Function<T, R> wrap(Consumer<T> consumer) {
        return t -> {
            consumer.accept(t);
```

### BoundedWildcard
Can generalize to `? super Queries`
in `leader-election-impl/src/main/java/com/palantir/paxos/SqlitePaxosStateLogMigrationState.java`
#### Snippet
```java
    }

    private <T> T execute(Function<Queries, T> call) {
        return jdbi.withExtension(Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? super GreenNodeLeadershipAttemptHistory.Queries`
in `leader-election-impl/src/main/java/com/palantir/paxos/GreenNodeLeadershipAttemptHistory.java`
#### Snippet
```java
    }

    private <T> T execute(Function<GreenNodeLeadershipAttemptHistory.Queries, T> call) {
        return jdbi.withExtension(GreenNodeLeadershipAttemptHistory.Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? extends OrderableSlsVersion`
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java
    @VisibleForTesting
    PersistedRateLimitingLeadershipPrioritiser(
            Optional<OrderableSlsVersion> timeLockVersion,
            Supplier<Duration> leadershipAttemptBackoff,
            GreenNodeLeadershipAttemptHistory greenNodeLeadershipAttemptHistory,
```

### BoundedWildcard
Can generalize to `? super InProgressResponseState`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponseAccumulator.java`
#### Snippet
```java

    private PaxosResponseAccumulator(
            int totalRequests, int quorum, Predicate<InProgressResponseState<S, T>> shouldShortcutPredicate) {
        this.totalRequests = totalRequests;
        this.quorum = quorum;
```

### BoundedWildcard
Can generalize to `? super T`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponsesWithRemote.java`
#### Snippet
```java
    }

    public <U extends PaxosResponse> PaxosResponsesWithRemote<S, U> map(Function<T, U> mapper) {
        return of(quorum(), KeyedStream.stream(responses()).map(mapper).collectToMap());
    }
```

### BoundedWildcard
Can generalize to `? super Long`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
    }

    void assertEqualsDisregardingExtraSentinels(Set<Long> expectedTimestamps, Set<Long> actualTimestamps) {
        if (expectedTimestamps.contains(-1L)) {
            assertThat(actualTimestamps).containsExactlyInAnyOrderElementsOf(expectedTimestamps);
```

### BoundedWildcard
Can generalize to `? super PaxosAcceptorState`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorImpl.java`
#### Snippet
```java
    private PaxosAcceptorImpl(
            ConcurrentSkipListMap<Long, PaxosAcceptorState> state,
            PaxosStateLog<PaxosAcceptorState> acceptorStateLog,
            long greatestInLogAtStartup) {
        this.state = state;
```

### BoundedWildcard
Can generalize to `? super TransactionManager`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
                TransactionManager manager,
                Supplier<Boolean> initializationPrerequisite,
                Callback<TransactionManager> callback,
                ScheduledExecutorService initializer) {
            this.txManager = manager;
```

### BoundedWildcard
Can generalize to `? extends SERVICE`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
    private static <SERVICE, RESPONSE extends PaxosResponse>
            PaxosResponsesWithRemote<SERVICE, RESPONSE> collectResponses(
                    ImmutableList<SERVICE> remotes,
                    Function<SERVICE, RESPONSE> request,
                    int quorumSize,
```

### BoundedWildcard
Can generalize to `? super SERVICE`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
            PaxosResponsesWithRemote<SERVICE, RESPONSE> collectResponses(
                    ImmutableList<SERVICE> remotes,
                    Function<SERVICE, RESPONSE> request,
                    int quorumSize,
                    Duration remoteRequestTimeout,
```

### BoundedWildcard
Can generalize to `? extends RESPONSE`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
            PaxosResponsesWithRemote<SERVICE, RESPONSE> collectResponses(
                    ImmutableList<SERVICE> remotes,
                    Function<SERVICE, RESPONSE> request,
                    int quorumSize,
                    Duration remoteRequestTimeout,
```

### BoundedWildcard
Can generalize to `? extends Future`>
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java

    private static <SERVICE, RESPONSE extends PaxosResponse> void cancelOutstandingRequestsAfterTimeout(
            List<Future<Map.Entry<SERVICE, RESPONSE>>> responseFutures) {

        boolean areAllRequestsComplete = responseFutures.stream().allMatch(Future::isDone);
```

### BoundedWildcard
Can generalize to `? extends SERVICE`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java

    private static <SERVICE> Map<SERVICE, ExecutorService> mapToSingleExecutorService(
            Collection<SERVICE> remotes, ExecutorService executorService) {
        return remotes.stream().collect(Collectors.toMap(remote -> remote, unused -> executorService));
    }
```

### BoundedWildcard
Can generalize to `? extends SERVICE`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
            ImmutableList<SERVICE> remotes,
            Function<SERVICE, RESPONSE> request,
            Map<SERVICE, CheckedRejectionExecutorService> executors,
            Duration remoteRequestTimeout,
            Predicate<InProgressResponseState<SERVICE, RESPONSE>> predicate,
```

### BoundedWildcard
Can generalize to `? extends SERVICE`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
                    ImmutableList<SERVICE> remotes,
                    Function<SERVICE, RESPONSE> request,
                    Map<SERVICE, CheckedRejectionExecutorService> executors,
                    Duration remoteRequestTimeout,
                    boolean cancelRemainingCalls) {
```

### BoundedWildcard
Can generalize to `? extends V`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogMigrator.java`
#### Snippet
```java
        private final Persistable.Hydrator<V> hydrator;

        private LogReader(PaxosStateLog<V> delegate, Persistable.Hydrator<V> hydrator) {
            this.delegate = delegate;
            this.hydrator = hydrator;
```

### BoundedWildcard
Can generalize to `? super Queries`
in `leader-election-impl/src/main/java/com/palantir/paxos/SqlitePaxosStateLog.java`
#### Snippet
```java
    }

    private <T> T execute(Function<Queries, T> call) {
        return jdbi.withExtension(Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? extends BatchElement`
in `leader-election-impl/src/main/java/com/palantir/leader/BatchingLeaderElectionService.java`
#### Snippet
```java
    }

    private void processBatch(List<BatchElement<Void, LeadershipToken>> batch) {
        try {
            LeaderElectionService.LeadershipToken leadershipToken = delegate.blockOnBecomingLeader();
```

### BoundedWildcard
Can generalize to `? extends ExecutorService`
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderLearnerNetworkClient.java`
#### Snippet
```java
            List<PaxosLearner> remoteLearners,
            int quorumSize,
            Map<PaxosLearner, ExecutorService> executors,
            boolean cancelRemainingCalls) {
        return new SingleLeaderLearnerNetworkClient(
```

### BoundedWildcard
Can generalize to `? extends PaxosLearner`
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderLearnerNetworkClient.java`
#### Snippet
```java
            List<PaxosLearner> remoteLearners,
            int quorumSize,
            Map<PaxosLearner, CheckedRejectionExecutorService> executors,
            boolean cancelRemainingCalls) {
        this.localLearner = localLearner;
```

### BoundedWildcard
Can generalize to `? super Optional`
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderLearnerNetworkClient.java`
#### Snippet
```java
    @Override
    public <T extends PaxosResponse> PaxosResponses<T> getLearnedValue(
            long seq, Function<Optional<PaxosValue>, T> mapper) {
        return PaxosQuorumChecker.collectQuorumResponses(
                        allLearners,
```

### BoundedWildcard
Can generalize to `? super Long`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLearnerImpl.java`
#### Snippet
```java

    private PaxosLearnerImpl(
            SortedMap<Long, PaxosValue> stateWithGreatestValueFromLog,
            PaxosStateLog<PaxosValue> learnerStateLog,
            PaxosKnowledgeEventRecorder eventRecorder) {
```

### BoundedWildcard
Can generalize to `? super PaxosValue`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLearnerImpl.java`
#### Snippet
```java
    private PaxosLearnerImpl(
            SortedMap<Long, PaxosValue> stateWithGreatestValueFromLog,
            PaxosStateLog<PaxosValue> learnerStateLog,
            PaxosKnowledgeEventRecorder eventRecorder) {
        this.state = stateWithGreatestValueFromLog;
```

### BoundedWildcard
Can generalize to `? extends LeadershipObserver`
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java

    @VisibleForTesting
    PaxosLeadershipEventRecorder(LeadershipEvents events, String leaderUuid, Optional<LeadershipObserver> observer) {
        this.events = events;
        this.leaderId = leaderUuid;
```

### BoundedWildcard
Can generalize to `? extends PaxosValue`
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private static long getNextSequenceNumber(Optional<PaxosValue> paxosValue) {
        return paxosValue.map(PaxosValue::getRound).orElse(PaxosAcceptor.NO_LOG_ENTRY) + 1;
    }
```

### BoundedWildcard
Can generalize to `? extends PaxosValue`
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private static Optional<UUID> extractLeaderUuid(Optional<PaxosValue> maybeGreatestLearnedValue) {
        return maybeGreatestLearnedValue.map(PaxosValue::getLeaderUUID).map(UUID::fromString);
    }
```

### BoundedWildcard
Can generalize to `? extends PaxosValue`
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private StillLeadingStatus determineLeadershipStatus(Optional<PaxosValue> value) {
        return value.map(this::determineLeadershipStatus)
                .map(Futures::getUnchecked)
```

### BoundedWildcard
Can generalize to `? extends ExecutorService`
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderAcceptorNetworkClient.java`
#### Snippet
```java
            List<PaxosAcceptor> acceptors,
            int quorumSize,
            Map<PaxosAcceptor, ExecutorService> executors,
            boolean cancelRemainingCalls) {
        return new SingleLeaderAcceptorNetworkClient(
```

### BoundedWildcard
Can generalize to `? extends T`
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipStateManager.java`
#### Snippet
```java
    private volatile boolean isClosed;

    public LeadershipStateManager(LeadershipCoordinator leadershipCoordinator, Supplier<T> delegateSupplier) {
        this.leadershipTokenCoalescingSupplier = new CoalescingSupplier<>(this::getOrUpdateLeadershipToken);
        this.leadershipCoordinator = leadershipCoordinator;
```

### BoundedWildcard
Can generalize to `? extends ExecutorService`
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java

    public static SingleLeaderPinger createLegacy(
            Map<LeaderPingerContext<PingableLeader>, ExecutorService> otherPingableExecutors,
            Duration leaderPingResponseWait,
            UUID localUuid,
```

### BoundedWildcard
Can generalize to `? extends OrderableSlsVersion`
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    }

    private static boolean isAtLeastOurVersion(PingResult pingResult, Optional<OrderableSlsVersion> timeLockVersion) {
        return (pingResult.timeLockVersion().isPresent() && timeLockVersion.isPresent())
                ? VersionComparator.INSTANCE.compare(
```

### BoundedWildcard
Can generalize to `? extends WeakReference``>`
in `commons-executors-api/src/main/java/com/palantir/common/concurrent/ExecutorInheritableThreadLocal.java`
#### Snippet
```java
     */
    static ConcurrentMap<WeakReference<? extends ExecutorInheritableThreadLocal<?>>, Object> installMapOnThread(
            Map<WeakReference<? extends ExecutorInheritableThreadLocal<?>>, Object> map) {
        ConcurrentMap<WeakReference<? extends ExecutorInheritableThreadLocal<?>>, Object> oldMap =
                mapForThisThread.get();
```

### BoundedWildcard
Can generalize to `? super T`
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java`
#### Snippet
```java
            ListeningScheduledExecutorService schedulingExecutor,
            ListeningExecutorService executionExecutor,
            Predicate<T> predicate) {
        this.maxAttempts = maxAttempts;
        this.delayBetweenAttempts = delayBetweenAttempts;
```

### BoundedWildcard
Can generalize to `? extends ListenableFuture`
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java`
#### Snippet
```java
    }

    private ListenableFuture<T> executeSupplier(Supplier<ListenableFuture<T>> supplier) {
        try {
            return supplier.get();
```

### BoundedWildcard
Can generalize to `? extends RowColumnRangeIterator`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    }

    static Map<Cell, Value> getValuesForRow(Map<byte[], RowColumnRangeIterator> values, byte[] row, int number) {
        Map<Cell, Value> results = new HashMap<>();

```

### BoundedWildcard
Can generalize to `? extends ValueAndBound`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/CoordinationServiceImpl.java`
#### Snippet
```java

    @SuppressWarnings("OptionalUsedAsFieldOrParameterType")
    private void accumulateCachedValue(Optional<ValueAndBound<T>> valueAndBound) {
        valueAndBound.ifPresent(
                presentValue -> cache.accumulateAndGet(presentValue, this::chooseValueWithGreaterBound));
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java

    protected void verifyMatchingResult(
            List<Map.Entry<Cell, byte[]>> expected,
            byte[] row,
            Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange) {
```

### BoundedWildcard
Can generalize to `? extends BatchingVisitable`>
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
            List<Map.Entry<Cell, byte[]>> expected,
            byte[] row,
            Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange) {
        assertThat(columnRange).hasSize(1);
        assertThat(Iterables.getOnlyElement(columnRange.keySet())).isEqualTo(row);
```

### BoundedWildcard
Can generalize to `? extends BatchingVisitable`>
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
    }

    private List<String> extractStringsFromVisitables(Iterable<BatchingVisitable<RowResult<byte[]>>> visitables) {
        return BatchingVisitables.concat(visitables)
                .transform(RowResult::getOnlyColumnValue)
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java

    protected void verifyMatchingResultForIterator(
            List<Map.Entry<Cell, byte[]>> expected,
            byte[] row,
            Map<byte[], Iterator<Map.Entry<Cell, byte[]>>> columnRange) {
```

### BoundedWildcard
Can generalize to `? extends Iterator`>
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
            List<Map.Entry<Cell, byte[]>> expected,
            byte[] row,
            Map<byte[], Iterator<Map.Entry<Cell, byte[]>>> columnRange) {
        assertThat(columnRange).hasSize(1);
        assertThat(Iterables.getOnlyElement(columnRange.keySet())).isEqualTo(row);
```

### BoundedWildcard
Can generalize to `? super T2`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/TransformingCoordinationService.java`
#### Snippet
```java
            CoordinationService<T1> delegate,
            Function<T1, T2> transformFromUnderlying,
            Function<T2, T1> transformToUnderlying) {
        this.delegate = delegate;
        this.transformFromUnderlying = transformFromUnderlying;
```

### BoundedWildcard
Can generalize to `? extends T1`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/TransformingCoordinationService.java`
#### Snippet
```java
            CoordinationService<T1> delegate,
            Function<T1, T2> transformFromUnderlying,
            Function<T2, T1> transformToUnderlying) {
        this.delegate = delegate;
        this.transformFromUnderlying = transformFromUnderlying;
```

### BoundedWildcard
Can generalize to `? super F`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/TransformingCoordinationService.java`
#### Snippet
```java
    }

    private static <F, T> Function<ValueAndBound<F>, ValueAndBound<T>> preservingBounds(Function<F, T> base) {
        return fromValueAndBound -> ValueAndBound.of(fromValueAndBound.value().map(base), fromValueAndBound.bound());
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/TransformingCoordinationService.java`
#### Snippet
```java
    }

    private static <F, T> Function<ValueAndBound<F>, ValueAndBound<T>> preservingBounds(Function<F, T> base) {
        return fromValueAndBound -> ValueAndBound.of(fromValueAndBound.value().map(base), fromValueAndBound.bound());
    }
```

### BoundedWildcard
Can generalize to `? extends NamespaceAndUseCase`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/PaxosLogHistoryProgressTracker.java`
#### Snippet
```java

    public void updateProgressState(
            Map<NamespaceAndUseCase, HistoryQuerySequenceBounds> namespaceAndUseCaseWiseLoadedSequenceRange) {
        namespaceAndUseCaseWiseLoadedSequenceRange.forEach(this::updateProgressStateForNamespaceAndUseCase);
    }
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    }

    private <T> Iterator<T> scopeToTransaction(Iterator<T> delegateIterator) {
        return new Iterator<T>() {
            @Override
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    }

    private Map<Cell, Value> validateBatch(TableReference tableRef, List<Map.Entry<Cell, Value>> batch) {
        validatePreCommitRequirementsOnReadIfNecessary(tableRef, getStartTimestamp());
        return ImmutableMap.copyOf(batch);
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private List<Map.Entry<Cell, byte[]>> mergeInLocalWrites(
            TableReference tableRef,
            Iterator<Map.Entry<Cell, byte[]>> postFilterIterator,
            Iterator<Map.Entry<Cell, byte[]>> localWritesInRange,
            boolean isReverse) {
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    }

    private void putWritesAndLogIfTooLarge(Map<Cell, byte[]> values, SortedMap<Cell, byte[]> writes) {
        for (Map.Entry<Cell, byte[]> e : values.entrySet()) {
            byte[] val = MoreObjects.firstNonNull(e.getValue(), PtBytes.EMPTY_BYTE_ARRAY);
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
     */
    private Iterator<Map.Entry<byte[], RowColumnRangeIterator>> partitionByRow(
            Iterator<Map.Entry<Cell, Value>> rawResults) {
        PeekingIterator<Map.Entry<Cell, Value>> peekableRawResults = Iterators.peekingIterator(rawResults);
        return new AbstractIterator<Map.Entry<byte[], RowColumnRangeIterator>>() {
```

### BoundedWildcard
Can generalize to `? super CellConflict`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            TableReference tableRef,
            Map<Cell, Long> keysToLoad,
            @Output Set<CellConflict> spanningWrites,
            @Output Set<CellConflict> dominatingWrites,
            TransactionService transactionService) {
```

### BoundedWildcard
Can generalize to `? super CellConflict`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Map<Cell, Long> keysToLoad,
            @Output Set<CellConflict> spanningWrites,
            @Output Set<CellConflict> dominatingWrites,
            TransactionService transactionService) {
        Map<Cell, Long> rawResults = keyValueService.getLatestTimestamps(tableRef, keysToLoad);
```

### BoundedWildcard
Can generalize to `? extends RowColumnRangeIterator`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            BatchColumnRangeSelection batchColumnRangeSelection,
            Iterable<byte[]> distinctRows,
            Map<byte[], RowColumnRangeIterator> rawResults) {
        Comparator<Cell> cellComparator = columnOrderThenPreserveInputRowOrder(distinctRows);

```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            }

            private void finishConsumingPreviousRow(PeekingIterator<Map.Entry<Cell, Value>> iter) {
                int numConsumed = 0;
                while (iter.hasNext() && Arrays.equals(iter.peek().getKey().getRowName(), prevRowName)) {
```

### BoundedWildcard
Can generalize to `? extends TokenBackedBasicResultsPage`, byte[]>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    private SortedMap<Cell, byte[]> postFilterPages(
            TableReference tableRef, Iterable<TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> rangeRows) {
        List<RowResult<Value>> results = new ArrayList<>();
        for (TokenBackedBasicResultsPage<RowResult<Value>, byte[]> page : rangeRows) {
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    private <T> SortedMap<Cell, T> postFilterRows(
            TableReference tableRef, List<RowResult<Value>> rangeRows, Function<Value, T> transformer) {
        ensureUncommitted();

```

### BoundedWildcard
Can generalize to `? super KeyValueService`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
     * large write or serializable read transactions may have allocated a lot of memory).
     */
    private void runTaskOnDeleteExecutor(Consumer<KeyValueService> task) {
        // Do not inline this without thinking carefully about exactly what this means
        KeyValueService theKeyValueService = keyValueService;
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Iterator<Map.Entry<Cell, Value>> iterator,
            int batchHint,
            Comparator<Cell> cellComparator) {
        return Iterators.concat(Iterators.transform(Iterators.partition(iterator, batchHint), batch -> {
            Map<Cell, Value> raw = validateBatch(tableRef, batch);
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    }

    private <T> ListenableFuture<T> scopeToTransaction(ListenableFuture<T> transactionFuture) {
        return Futures.transform(
                transactionFuture,
```

### BoundedWildcard
Can generalize to `? super List`>
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            RangeRequest range,
            int userRequestedSize,
            AbortingVisitor<List<RowResult<byte[]>>, K> visitor,
            int preFilterBatchSize)
            throws K {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    private static ClosableIterator<Map.Entry<Cell, byte[]>> mergeLocalAndRemoteWrites(
            Iterator<Map.Entry<Cell, byte[]>> localWrites,
            ClosableIterator<Map.Entry<Cell, byte[]>> remoteWrites,
            Comparator<Cell> cellComparator) {
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private static ClosableIterator<Map.Entry<Cell, byte[]>> mergeLocalAndRemoteWrites(
            Iterator<Map.Entry<Cell, byte[]>> localWrites,
            ClosableIterator<Map.Entry<Cell, byte[]>> remoteWrites,
            Comparator<Cell> cellComparator) {
        // always override remote values with locally written values
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Iterator<Map.Entry<Cell, byte[]>> localWrites,
            ClosableIterator<Map.Entry<Cell, byte[]>> remoteWrites,
            Comparator<Cell> cellComparator) {
        // always override remote values with locally written values
        return ClosableIterators.wrap(
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
     */
    private void extractLocalWritesForRow(
            @Output ImmutableMap.Builder<Cell, byte[]> result,
            SortedMap<Cell, byte[]> writes,
            byte[] row,
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    private List<Map.Entry<Cell, byte[]>> postFilterEmptyValues(
            TableReference tableRef, Iterator<Map.Entry<Cell, byte[]>> mergeIterators) {
        List<Map.Entry<Cell, byte[]>> mergedWritesWithoutEmptyValues = new ArrayList<>();
        Predicate<Map.Entry<Cell, byte[]>> nonEmptyValuePredicate =
```

### BoundedWildcard
Can generalize to `? extends Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    }

    private Comparator<Cell> preserveInputRowOrder(List<Map.Entry<Cell, Value>> inputEntries) {
        // N.B. This batch could be spread across multiple rows, and those rows might extend into other
        // batches. We are given cells for a row grouped together, so easiest way to ensure they stay together
```

### BoundedWildcard
Can generalize to `? super Cell`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    protected static <V> Iterator<Map.Entry<Cell, V>> mergeByComparator(
            Iterable<? extends Iterator<Map.Entry<Cell, V>>> iterators, Comparator<Cell> cellComparator) {
        Comparator<Map.Entry<Cell, V>> comp = Comparator.comparing(Map.Entry::getKey, cellComparator);
        return Iterators.mergeSorted(iterators, comp);
```

### BoundedWildcard
Can generalize to `? super Map.Entry`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            TableReference tableRef,
            Map<Cell, Value> rawResults,
            @Output Collection<Map.Entry<Cell, T>> resultsCollector,
            Function<Value, T> transformer,
            AsyncKeyValueService asyncKeyValueService,
```

### BoundedWildcard
Can generalize to `? super Value`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Map<Cell, Value> rawResults,
            @Output Collection<Map.Entry<Cell, T>> resultsCollector,
            Function<Value, T> transformer,
            AsyncKeyValueService asyncKeyValueService,
            Set<Cell> orphanedSentinels,
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Map<Cell, Value> rawResults,
            @Output Collection<Map.Entry<Cell, T>> resultsCollector,
            Function<Value, T> transformer,
            AsyncKeyValueService asyncKeyValueService,
            Set<Cell> orphanedSentinels,
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
            byte[] coordinationRow,
            LongSupplier sequenceNumberSupplier,
            BiPredicate<T, T> shouldReuseExtantValue,
            Class<T> clazz) {
        this.objectMapper = objectMapper;
```

### BoundedWildcard
Can generalize to `? super T`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
            byte[] coordinationRow,
            LongSupplier sequenceNumberSupplier,
            BiPredicate<T, T> shouldReuseExtantValue,
            Class<T> clazz) {
        this.objectMapper = objectMapper;
```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
            LongSupplier sequenceNumberSupplier,
            BiPredicate<T, T> shouldReuseExtantValue,
            Class<T> clazz) {
        this.objectMapper = objectMapper;
        this.kvs = kvs;
```

### BoundedWildcard
Can generalize to `? extends SequenceAndBound`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java

    private CheckAndSetResult<ValueAndBound<T>> extractRelevantValues(
            T targetValue, long newBound, CheckAndSetResult<SequenceAndBound> casResult) {
        if (casResult.successful()) {
            return CheckAndSetResult.of(true, ImmutableList.of(ValueAndBound.of(Optional.of(targetValue), newBound)));
```

### BoundedWildcard
Can generalize to `? super ValueAndBound`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
     */
    @Override
    public CheckAndSetResult<ValueAndBound<T>> transformAgreedValue(Function<ValueAndBound<T>, T> transform) {
        Optional<CoordinationStoreState<T>> storeState = readLatestState();

```

### BoundedWildcard
Can generalize to `? extends T`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
     */
    @Override
    public CheckAndSetResult<ValueAndBound<T>> transformAgreedValue(Function<ValueAndBound<T>, T> transform) {
        Optional<CoordinationStoreState<T>> storeState = readLatestState();

```

### BoundedWildcard
Can generalize to `? extends CoordinationStoreState`
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java

    @SuppressWarnings("OptionalUsedAsFieldOrParameterType") // Passed from other operations returning Optional
    private boolean reuseExtantValue(Optional<CoordinationStoreState<T>> oldState, T targetValue) {
        if (!oldState.isPresent()) {
            return false;
```

### BoundedWildcard
Can generalize to `? super LogVerificationProgressState.Queries`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/sqlite/LogVerificationProgressState.java`
#### Snippet
```java
    }

    private <T> T execute(Function<LogVerificationProgressState.Queries, T> call) {
        return jdbi.withExtension(LogVerificationProgressState.Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? super Queries`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/sqlite/SqlitePaxosStateLogHistory.java`
#### Snippet
```java
    }

    private <T> T execute(Function<Queries, T> call) {
        return jdbi.withExtension(Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? super SqlitePaxosStateLog.Queries`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/sqlite/SqlitePaxosStateLogHistory.java`
#### Snippet
```java
    }

    private <T> T executeSqlitePaxosStateLogQuery(Function<SqlitePaxosStateLog.Queries, T> call) {
        return jdbi.withExtension(SqlitePaxosStateLog.Queries.class, call::apply);
    }
```

### BoundedWildcard
Can generalize to `? extends Map`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java
    }

    protected void runAndPrintResults(Supplier<Map<String, Object>> benchmark) {
        Map<String, Object> results = benchmark.get();
        printResults(results);
```

### BoundedWildcard
Can generalize to `? super Integer`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java

    protected void runAndPrintResults(
            BiFunction<Integer, Integer, Map<String, Object>> test, int numClients, int numRequestsPerClient) {
        Map<String, Object> results = test.apply(numClients, numRequestsPerClient);
        printResults(results);
```

### BoundedWildcard
Can generalize to `? super Integer`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java

    protected void runAndPrintResults(
            BiFunction<Integer, Integer, Map<String, Object>> test, int numClients, int numRequestsPerClient) {
        Map<String, Object> results = test.apply(numClients, numRequestsPerClient);
        printResults(results);
```

### BoundedWildcard
Can generalize to `? extends Map`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java

    protected void runAndPrintResults(
            BiFunction<Integer, Integer, Map<String, Object>> test, int numClients, int numRequestsPerClient) {
        Map<String, Object> results = test.apply(numClients, numRequestsPerClient);
        printResults(results);
```

### BoundedWildcard
Can generalize to `? extends Map`
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/SlaVerifier.java`
#### Snippet
```java
    }

    private Map<String, Object> getUnchecked(Future<Map<String, Object>> future) {
        try {
            return future.get();
```

### BoundedWildcard
Can generalize to `? extends ConsolidatedPaxosHistoryOnSingleNode`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/PaxosLogHistoryProvider.java`
#### Snippet
```java
    private List<ConsolidatedLearnerAndAcceptorRecord> extractRemoteHistoryLogsForNamespaceAndUseCase(
            NamespaceAndUseCase namespaceAndUseCase,
            List<ConsolidatedPaxosHistoryOnSingleNode> historyLogsFromRemotes) {
        return historyLogsFromRemotes.stream()
                .map(history -> history.getRecordForNamespaceAndUseCase(namespaceAndUseCase))
```

### BoundedWildcard
Can generalize to `? extends ConsolidatedLearnerAndAcceptorRecord`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/PaxosLogHistoryProvider.java`
#### Snippet
```java
    private List<ConsolidatedLearnerAndAcceptorRecord> combineLocalAndRemoteHistoryLogs(
            ConsolidatedLearnerAndAcceptorRecord consolidatedLocalRecord,
            List<ConsolidatedLearnerAndAcceptorRecord> consolidatedRemoteRecords) {
        return ImmutableList.<ConsolidatedLearnerAndAcceptorRecord>builder()
                .addAll(consolidatedRemoteRecords)
```

### BoundedWildcard
Can generalize to `? extends NamespaceAndUseCase`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/PaxosLogHistoryProvider.java`
#### Snippet
```java

    private List<CompletePaxosHistoryForNamespaceAndUseCase> consolidateAndGetHistoriesAcrossAllNodes(
            Map<NamespaceAndUseCase, HistoryQuerySequenceBounds> namespaceAndUseCaseWiseSequenceRangeToBeVerified,
            PaxosHistoryOnSingleNode localPaxosHistory,
            List<ConsolidatedPaxosHistoryOnSingleNode> historyFromAllRemotes) {
```

### BoundedWildcard
Can generalize to `? extends ConsolidatedLearnerAndAcceptorRecord`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java

    private static Set<PaxosValue> getLearnedValuesForRound(
            List<ConsolidatedLearnerAndAcceptorRecord> recordList, Long seq) {
        return recordList.stream()
                .map(consolidatedLearnerAndAcceptorRecord ->
```

### BoundedWildcard
Can generalize to `? extends PaxosValue`
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java

    // This method is only used for paxos rounds run for timestamp consensus (leader paxos rounds are strictly ignored).
    private static byte[] getPaxosValueData(Optional<PaxosValue> learnedValue) {
        return learnedValue.map(PaxosValue::getData).orElse(null);
    }
```

## RuleId[ruleID=MissortedModifiers]
### MissortedModifiers
Missorted modifiers `private @GuardedBy("this")`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java
    private final LockClientIndices clients;
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
    private @GuardedBy("this") MutableIntIntMap readLockHolders;

```

### MissortedModifiers
Missorted modifiers `private @GuardedBy("this")`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
    private @GuardedBy("this") MutableIntIntMap readLockHolders;

    public LockServerSync(LockClientIndices clients) {
```

### MissortedModifiers
Missorted modifiers `private @GuardedBy("this")`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java

    private final LockClientIndices clients;
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
    private @GuardedBy("this") MutableIntIntMap readLockHolders;
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            final Callable<T> callable,
            String threadString,
            final @Nullable Connection connection)
            throws PalantirSqlException {
        Future<T> future = executorService.submit(ThreadNamingCallable.wrapWithThreadName(
```

### MissortedModifiers
Missorted modifiers `final @Nullable`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
     */
    public static <T> T runUninterruptably(
            final Callable<T> callable, String threadString, final @Nullable Connection connection)
            throws PalantirSqlException {
        return runUninterruptably(BasicSQL.DEFAULT_EXECUTE_EXECUTOR.get(), callable, threadString, connection);
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
    public static final class TransactionResult<T> {
        private final TransactionStatus status;
        private final @Nullable T resultValue;
        private final Optional<Throwable> error;

```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java

        // May only be called if the result is SUCCESSFUL.
        public @Nullable T getResultValue() {
            Preconditions.checkState(
                    status.equals(TransactionStatus.SUCCESSFUL),
```

### MissortedModifiers
Missorted modifiers `protected @Nullable`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/AbstractTaskCheckpointer.java`
#### Snippet
```java
     * Removes the indicator from the byte array and returns null if it is complete.
     */
    protected @Nullable byte[] fromDb(byte[] bytes) {
        if (bytes[0] == COMPLETE) {
            return null;
```

### MissortedModifiers
Missorted modifiers `public abstract @Nullable`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/AbstractTaskCheckpointer.java`
#### Snippet
```java
     * Get the next row name for this range. Returns null if the checkpoint is done.
     */
    public abstract @Nullable byte[] getCheckpoint(String extraId, long rangeId, Transaction tx);

    /**
```

### MissortedModifiers
Missorted modifiers `public @Nullable`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/api/RangeToken.java`
#### Snippet
```java
    }

    public @Nullable TableRange getNextRange() {
        return nextRange;
    }
```

### MissortedModifiers
Missorted modifiers `private final @Nullable`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/api/RangeToken.java`
#### Snippet
```java
public class RangeToken {
    private final TableRowResult results;
    private final @Nullable TableRange nextRange;

    public RangeToken(TableRowResult results, @Nullable TableRange nextRange) {
```

## RuleId[ruleID=DefaultAnnotationParam]
### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceRuntimeConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueServiceRuntime config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceRuntimeConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceRuntimeConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueServiceRuntime config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceRuntimeConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueService config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueService config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            title = "BATCH SIZE",
            description = "batch size of rows to read",
            required = false,
            arity = 1)
    private int batchSize = 100;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            description = "path to yaml runtime configuration file for the KVS you're migrating from. Note that this "
                    + "config will not be reloaded while the CLI is running",
            required = false)
    private File fromRuntimeConfigFile;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            title = "THREADS",
            description = "number of threads to use for migration",
            required = false,
            arity = 1)
    private int threads = 16;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            description = "path to yaml runtime configuration file for the KVS you're migrating to. Note that this "
                    + "config will not be reloaded while the CLI is running",
            required = false)
    private File toRuntimeConfigFile;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            title = "CONFIG PATH",
            description = "path to yaml configuration file for the KVS you're migrating to",
            required = false)
    private File toConfigFile;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanConservative(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanConservative(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return fullTableScan(table, false);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanThorough(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanThorough(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return fullTableScan(table, true);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanOneWideRowThorough(VeryWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanOneWideRowThorough(VeryWideRowTable table) {
        return fullTableScan(table.getTableRef(), table.getKvs(), table.getNumCols(), true);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyThorough(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyThorough(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return fullTableScan(table, true);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyConservative(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyConservative(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return fullTableScan(table, false);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
        return tables.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
        return tables.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/HttpBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void parseHttpHeaders(Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/HttpBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void parseHttpHeaders(Blackhole blackhole) {
        blackhole.consume(HeaderAccessUtils.shortcircuitingCaseInsensitiveContainsEntry(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 4, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.TransactionBatchRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 4, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.TransactionBatchRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.TransactionRowRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.TransactionRowRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 25, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 25, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 65, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 65, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 40, timeUnit = TimeUnit.SECONDS)
    public Object getRanges(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 40, timeUnit = TimeUnit.SECONDS)
    public Object getRanges(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getRangesInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 70, timeUnit = TimeUnit.SECONDS)
    public Object getRangesDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 70, timeUnit = TimeUnit.SECONDS)
    public Object getRangesDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getRangesInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCell(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCell(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleCellInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQueryDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQueryDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleRowWithRangeQueryInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getCells(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getCells(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getCellsInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCellDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCellDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleCellInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQuery(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQuery(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleRowWithRangeQueryInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object getRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object getRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getCellsDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getCellsDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getCellsInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
        Map<Cell, Value> result = table.getKvs().get(table.getTableRef(), table.getAllCellsAtMaxTimestamp());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
        Map<Cell, Value> result = table.getKvs()
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
        Map<Cell, Value> result = table.getKvs()
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
        Map<Cell, Value> result = table.getKvs().get(table.getTableRef(), table.getFirstCellAtMaxTimestampAsMap());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRow(ModeratelyWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRow(ModeratelyWideRowTable table, Blackhole blackhole) {
        getAllRowsAndAssert(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
        getAllRowsAndAssert(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithManyUncommitted(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithManyUncommitted(
            DirtyModeratelyWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithSomeUncommitted(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithSomeUncommitted(
            CleanModeratelyWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadLargeStream(StreamingTable table) throws IOException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadLargeStream(StreamingTable table) throws IOException {
        long id = table.getLargeStreamId();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void loadSmallStream(StreamingTable table) throws IOException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void loadSmallStream(StreamingTable table) throws IOException {
        long id = table.getSmallStreamId();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadVeryLargeStream(StreamingTable table) throws IOException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadVeryLargeStream(StreamingTable table) throws IOException {
        long id = table.getVeryLargeStreamId();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
        RowColumnRangeIterator iter = table.getKvs()
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsUnaligned(WideRowsTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsUnaligned(WideRowsTable table) {
        List<byte[]> rows = IntStream.rangeClosed(0, WideRowsTable.NUM_ROWS - 1)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsAligned(WideRowsTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsAligned(WideRowsTable table) {
        List<byte[]> rows = IntStream.rangeClosed(0, WideRowsTable.NUM_ROWS - 1)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(BATCH_SIZE);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsDoesNotExist(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsDoesNotExist(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsAndExists(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsAndExists(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomMultiPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomMultiPut(EmptyTables tables) {
        Map<TableReference, Map<Cell, byte[]>> multiPutMap = new HashMap<>();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchedUniformSingleSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchedUniformSingleSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
        return runSingleSweep(table, BATCH_SIZE);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 90, timeUnit = TimeUnit.SECONDS)
    public Object multipleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 90, timeUnit = TimeUnit.SECONDS)
    public Object multipleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
        return runMultiSweep(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 75, timeUnit = TimeUnit.SECONDS)
    public Object batchedSingleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 75, timeUnit = TimeUnit.SECONDS)
    public Object batchedSingleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
        return runSingleSweep(table, BATCH_SIZE);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object multipleUniformSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object multipleUniformSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
        return runMultiSweep(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object singleSweepRun(RegeneratingTable.SweepRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object singleSweepRun(RegeneratingTable.SweepRegeneratingTable table) {
        return runSingleSweep(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
    public long manyThreadsGetFreshTimestampWithBackoff(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
    public long manyThreadsGetFreshTimestamp(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
    public TimestampRange fewThreadsGetBatchOfTimestamps(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(32)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(32)
    public TimestampRange manyThreadsGetBatchOfTimestamps(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
public class TimestampServiceBenchmarks {
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
    public long fewThreadsGetFreshTimestamp(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object batchRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object batchRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
        return doDeleteRange(table, 4);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object deleteAllTimestamps(RegeneratingTable.VersionedCellRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object deleteAllTimestamps(RegeneratingTable.VersionedCellRegeneratingTable table) {
        return doDeleteAllTimestamps(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object allRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object allRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
        return doDeleteRange(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.KvsRowRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.KvsRowRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 22, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.KvsBatchRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 22, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.KvsBatchRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getMultiRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleRangeInner(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleRangeInner(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getMultiRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleRangeInner(table, (int) (0.1 * table.getNumRows()));
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleRangeInner(table, 1000);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DdlConfig.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
@JsonSubTypes({
    @JsonSubTypes.Type(PostgresDdlConfig.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DdlConfig.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
@JsonSubTypes({
    @JsonSubTypes.Type(PostgresDdlConfig.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `timelock-agent/src/main/java/com/palantir/timelock/config/TsBoundPersisterRuntimeConfiguration.java`
#### Snippet
```java
import com.fasterxml.jackson.annotation.JsonTypeInfo;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes(@JsonSubTypes.Type(value = DatabaseTsBoundPersisterRuntimeConfiguration.class, name = "database"))
public interface TsBoundPersisterRuntimeConfiguration {}
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `timelock-agent/src/main/java/com/palantir/timelock/config/TsBoundPersisterConfiguration.java`
#### Snippet
```java
import com.fasterxml.jackson.annotation.JsonTypeInfo;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(value = PaxosTsBoundPersisterConfiguration.class, name = "paxos"),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-commons/src/main/java/com/palantir/common/annotations/ImmutablesStyles.java`
#### Snippet
```java
    @Target({ElementType.PACKAGE, ElementType.TYPE})
    @Retention(RetentionPolicy.SOURCE)
    @Value.Style(stagedBuilder = false) // Intentional: used for e.g. inner classes of staged builder public classes.
    @SuppressWarnings("RedundantModifier") // Unexpected bug in baseline check?
    @interface NoStagedBuilderStyle {}
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `lock-api-objects/src/main/java/com/palantir/lock/watch/CommitUpdate.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(value = InvalidateAll.class, name = InvalidateAll.TYPE),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/ConnectionConfig.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(PostgresConnectionConfig.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/Event.java`
#### Snippet
```java
import java.util.Objects;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(InfoEvent.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/config/TimelockBenchmarkClientConfig.java`
#### Snippet
```java
    private final AtlasDbConfig atlas;

    public TimelockBenchmarkClientConfig(@JsonProperty(value = "atlas", required = false) AtlasDbConfig atlasDbConfig) {
        this.atlas = atlasDbConfig;
    }
```

## RuleId[ruleID=ThrowFromFinallyBlock]
### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
            } catch (Throwable e) { // (authorized)
                log.error("Internal lock server error: state has been corrupted!!", e);
                throw Throwables.throwUncheckedException(e);
            }
        }
```

## RuleId[ruleID=IfStatementWithIdenticalBranches]
### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingPaxosLatestSequenceCache.java`
#### Snippet
```java
            throws InvalidAcceptorCacheKeyException {
        Set<Client> newClients = ImmutableSet.copyOf(Sets.difference(requestedClients, currentCachedEntries.keySet()));
        if (newClients.isEmpty()) {
            delegate.latestSequencesPreparedOrAcceptedCached(timestampedCacheKey.cacheKey())
                    .ifPresent(digest -> processDigest(currentCachedEntries, digest));
```

## RuleId[ruleID=UnnecessarySuperQualifier]
### UnnecessarySuperQualifier
Qualifier `super` is unnecessary in this context
in `commons-api/src/main/java/com/palantir/util/sql/SqlCallStats.java`
#### Snippet
```java

    public void collectCallTimeNanos(long timeInNs) {
        super.collectOperationTimeNanos(timeInNs);
    }

```

## RuleId[ruleID=SimplifyOptionalCallChains]
### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
                    Optional.of(ImmutableActionProfile.of(actionName, stopwatch.elapsed(), failure)),
                    (existing, update) -> {
                        if (!existing.isPresent()) {
                            return update;
                        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java
        Optional<ReferenceTrackingWrapper<MultiClientTransactionStarter>> transactionStarter =
                maybeRequestBatchers.map(MultiClientRequestBatchers::transactionStarter);
        if (!transactionStarter.isPresent()) {
            return BatchingIdentifiedAtlasDbTransactionStarter.create(lockLeaseService, cache);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java
        Optional<ReferenceTrackingWrapper<MultiClientCommitTimestampGetter>> commitTimestampGetter =
                maybeRequestBatchers.map(MultiClientRequestBatchers::commitTimestampGetter);
        if (!commitTimestampGetter.isPresent()) {
            return BatchingCommitTimestampGetter.create(lockLeaseService, cache);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java
            }
        } else {
            return !other.value().isPresent();
        }
    }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java

        Set<UUID> requestIdsEvictedMidLockRequest = KeyedStream.stream(snapshot)
                .filter(lockInfo -> !lockInfo.isPresent())
                .keys()
                .collect(Collectors.toSet());
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java
    @Deprecated
    public LockLog withLockRequestDiagnosticCollection(LockDiagnosticConfig lockDiagnosticConfig) {
        Preconditions.checkState(!lockDiagnosticInfoCollector.isPresent(), "diagnostics are already being collected");
        return new LockLog(events, new LockDiagnosticCollector(lockDiagnosticConfig));
    }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java

    private Optional<LockWatchStateUpdate> tryGetNextEvents(Optional<LockWatchVersion> fromVersion) {
        if (!fromVersion.isPresent() || !fromVersion.get().id().equals(logId)) {
            return Optional.empty();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPingableLeaderFactory.java`
#### Snippet
```java
                Optional<ClientAwareLeaderPinger> maybePingableLeader =
                        uuidToRemoteAutobatcher.apply(uuid).get();
                if (!maybePingableLeader.isPresent()) {
                    return LeaderPingResults.pingReturnedFalse();
                }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosAcceptor.java`
#### Snippet
```java
            throws InvalidAcceptorCacheKeyException {
        primeCache(clients);
        if (!maybeCacheKey.isPresent()) {
            return acceptorCache.getAllUpdates();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosTimestampBoundStore.java`
#### Snippet
```java
        // In the common case seq - 1 will be agreed upon before seq is prepared.
        Optional<SequenceAndBound> lastState = getLearnedState(seq - 1);
        if (!lastState.isPresent()) {
            // We know that even in the case of a truncate, seq - 2 will always be agreed upon.
            SequenceAndBound forced = forceAgreedState(seq - 2, null);
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptorResource.java`
#### Snippet
```java
    public Optional<AcceptorCacheDigest> latestSequencesPreparedOrAcceptedCached(
            @QueryParam(HttpHeaders.IF_MATCH) Optional<AcceptorCacheKey> cacheKey) {
        if (!cacheKey.isPresent()) {
            throw Errors.invalidCacheKeyException(null);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java
    public static synchronized void combineAndSetNewAllSafeForLoggingFlag(
            boolean isNewKeyValueServiceAllSafeForLogging) {
        if (!allSafeForLogging.isPresent()) {
            // if allSafeForLogging is never set, set it to the new keyValueService's allSafeForLogging setting
            allSafeForLogging = Optional.of(isNewKeyValueServiceAllSafeForLogging);
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java

    private boolean areTimeAndLockConfigsAbsent() {
        return !lock().isPresent() && !timestamp().isPresent();
    }

```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java

    private boolean areTimeAndLockConfigsAbsent() {
        return !lock().isPresent() && !timestamp().isPresent();
    }

```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
                    "If the leader block is present, then the lock and timestamp server blocks must both be absent.");
            Preconditions.checkState(
                    !timelock().isPresent(), "If the leader block is present, then the timelock block must be absent.");
            Preconditions.checkState(
                    !leader().get().leaders().isEmpty(), "Leader config must have at least one server.");
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
        // There is no top level namespace
        if (keyValueService() instanceof InMemoryAtlasDbConfig) {
            if (timelock().isPresent() && !timelock().get().client().isPresent()) {
                throw new SafeIllegalStateException("For InMemoryKVS, the TimeLock client should not be empty");
            }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimeLockClientConfig.java`
#### Snippet
```java
    protected final void check() {
        Preconditions.checkArgument(
                !client().isPresent() || !client().get().isEmpty(), "Timelock client string cannot be empty");
    }
}
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java

    private void reportMultipleTimestampFetch(String path) {
        if (!leaderConfig.isPresent()) {
            log.warn(
                    "[timestamp-service-creation] Timestamp service fetched for a second time, and there is no leader"
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {

        if (!timelockRequestBatcherProviders.isPresent()) {
            return new LegacyLeaderTimeGetter(namespacedConjureTimelockService);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java

    private void registerTimeLockCorruptionJerseyFilter() {
        if (!undertowRegistrar.isPresent()) {
            registrar.accept(new JerseyCorruptionFilter(corruptionComponents.timeLockCorruptionHealthCheck()));
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
        Optional<TsBoundPersisterConfiguration> configInDatabase = store.getPersistedConfig();

        if (!configInDatabase.isPresent()) {
            log.info(
                    "There is no config in the SQLite database indicating where timestamps are being stored. We are"
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/cas/CheckAndSetQueries.java`
#### Snippet
```java
    private static CqlQuery insertIfNotExists(CheckAndSetRequest request) {
        Preconditions.checkState(
                !request.oldValue().isPresent(),
                "insertIfNotExists queries should only be made if we don't have an old value");
        return ImmutableCqlQuery.builder()
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweeperServiceImpl.java`
#### Snippet
```java
            SweepBatchConfig config,
            SweepTaskRunner.RunType runType) {
        if (!fullSweep.isPresent()) {
            log.warn("fullSweep parameter was not specified, defaulting to true");
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
            return 0.0;
        }
        if (!newPriority.lastSweepTimeMillis().isPresent()) {
            // Highest priority if we've never swept it before.
            return Double.MAX_VALUE;
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
                        .build(),
                lowerBoundToUse.timestamp());
        if (!boundsOrMillis.bounds().isPresent()) {
            return boundsOrMillis.millis();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
            return rangeScanResult;
        }
        if (!boundsOrMillis.millis().isPresent()) {
            log.info(
                    "Did not find a match for timestamp {} with initial bounds {} and {}. Bounds for range scan were "
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/restore/V1TransactionsTableRangeDeleter.java`
#### Snippet
```java
        try (ClosableIterator<RowResult<Value>> range = kvs.getRange(
                TransactionConstants.TRANSACTION_TABLE,
                !startTimestamp.isPresent()
                        ? RangeRequest.all()
                        : RangeRequest.builder().startRowInclusive(startBytes).build(),
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java

        Optional<String> tableToCompact = maybeChooseUncompactedTable(tableToLastTimeSwept, tableToLastTimeCompacted);
        if (!tableToCompact.isPresent()) {
            tableToCompact = maybeChooseTableSweptAfterCompact(tableToLastTimeSwept, tableToLastTimeCompacted);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java
            tableToCompact = maybeChooseTableSweptAfterCompact(tableToLastTimeSwept, tableToLastTimeCompacted);
        }
        if (!tableToCompact.isPresent()) {
            tableToCompact = maybeChooseTableCompactedOver1HourAgo(tableToLastTimeCompacted);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java
            tableToCompact = maybeChooseTableCompactedOver1HourAgo(tableToLastTimeCompacted);
        }
        if (!tableToCompact.isPresent()) {
            log.info("Not compacting, because it does not appear that any table has been swept"
                    + " or they were compacted too recently (the past hour).");
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
            return CompactionOutcome.NOTHING_TO_COMPACT;
        }
        if (!tableToCompactOptional.isPresent()) {
            log.debug("No table to compact.");
            return CompactionOutcome.NOTHING_TO_COMPACT;
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheStoreImpl.java`
#### Snippet
```java

        default Caches withReadOnlyCache(CommitUpdate commitUpdate) {
            Preconditions.checkState(!readOnlyCache().isPresent(), "Read-only cache is already present");
            return ImmutableCaches.builder()
                    .from(this)
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java
    default void rangeOnlyPresentIffEventsAre() {
        if (events().isEmpty()) {
            Preconditions.checkState(!versionRange().isPresent(), "Cannot have a version range with no events");
        } else {
            Preconditions.checkState(versionRange().isPresent(), "Non-empty events must have a version range");
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java
    private InternalSchemaMetadata installNewVersionInMapOrDefault(
            int newVersion, ValueAndBound<InternalSchemaMetadata> valueAndBound) {
        if (!valueAndBound.value().isPresent()) {
            log.warn(
                    "Attempting to install a new transactions schema version {}, but no past data was found,"
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java
        Optional<Integer> possibleVersion =
                extractTimestampVersion(coordinationService.getValueForTimestamp(timestamp), timestamp);
        while (!possibleVersion.isPresent()) {
            List<ValueAndBound<InternalSchemaMetadata>> existingValues = boundPerpetuator.get();
            possibleVersion = extractTimestampVersion(
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
            totalStaleValuesDeleted += results.getStaleValuesDeleted();
            totalCellsExamined += results.getCellTsPairsExamined();
            if (!results.getNextStartRow().isPresent()) {
                return Optional.of(SweepResults.builder()
                        .staleValuesDeleted(totalStaleValuesDeleted)
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLearnerImpl.java`
#### Snippet
```java
    public Collection<PaxosValue> getLearnedValuesSince(long seq) {
        Optional<Long> greatestSeq = getGreatestLearnedValue().map(PaxosValue::getRound);
        if (!greatestSeq.isPresent()) {
            return ImmutableList.of();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
            ImmutableCollection<PaxosValue> values = update.getValues();
            for (PaxosValue value : values) {
                if (!knowledge.getLearnedValue(value.getRound()).isPresent()) {
                    knowledge.learn(value.getRound(), value);
                    learned = true;
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    public LeaderPingResult pingLeaderWithUuid(UUID uuid) {
        Optional<LeaderPingerContext<PingableLeader>> suspectedLeader = getSuspectedLeader(uuid);
        if (!suspectedLeader.isPresent()) {
            return LeaderPingResults.pingReturnedFalse();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
            Optional<SequenceAndBound> oldValue, SequenceAndBound newValue) {
        Optional<SequenceAndBound> actualValue = getCoordinationValue();
        if (!actualValue.isPresent()) {
            throw new SafeIllegalStateException(
                    "Failed to check and set coordination value from oldValue to newValue, but "
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
    @SuppressWarnings("OptionalUsedAsFieldOrParameterType") // Passed from other operations returning Optional
    private boolean reuseExtantValue(Optional<CoordinationStoreState<T>> oldState, T targetValue) {
        if (!oldState.isPresent()) {
            return false;
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java
            List<ConsolidatedLearnerAndAcceptorRecord> records, int quorum, Long seq) {
        Optional<PaxosValue> optionalLearnedValue = getLearnedValue(records, seq);
        if (!optionalLearnedValue.isPresent()) {
            return true;
        }
```

## RuleId[ruleID=InfiniteLoopStatement]
### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
            sleepFor(getBackoffTimeWhenSweepHasNotRun());
            log.info("Starting background sweeper with thread index {}", SafeArg.of("threadIndex", threadIndex));
            while (true) {
                // InterruptedException might be wrapped in RuntimeException (i.e. AtlasDbDependencyException),
                // which would be caught downstream.
```

## RuleId[ruleID=CodeBlock2Expr]
### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/AllNodesDisabledNamespacesUpdater.java`
#### Snippet
```java
        Map<Namespace, ModifiableUpdateFailureRecord> failuresByNamespace = new HashMap<>();
        for (SingleNodeUpdateResponse response : responses) {
            KeyedStream.stream(response.lockedNamespaces()).forEach((namespace, lockId) -> {
                failuresByNamespace.merge(namespace, UpdateFailureRecord.of(lockId), UpdateFailureRecord::merge);
            });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        TraceStatistic current = TraceStatistics.getReferenceToCurrent();

        return ClosableIterators.appendOnClose(closableIterator, () -> {
            detachedSpan.complete(FunctionalTagTranslator.INSTANCE, sink -> {
                sink.statistics(current);
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/TimelockLeadershipMetrics.java`
#### Snippet
```java
    private static Consumer<SetMultimap<LeadershipEvent, Client>> deregisterMetricsForPartitionedLeader(
            TimelockPaxosMetrics metrics) {
        return eventsToDeregister -> eventsToDeregister.forEach((event, client) -> {
            metrics.clientScopedMetrics()
                    .deregisterMetric(client, withTagIsCurrentSuspectedLeader(event.isCurrentSuspectedLeader()));
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/SlaVerifier.java`
#### Snippet
```java
                .collect(Collectors.toList());

        futures.stream().map(this::getUnchecked).forEach(results -> {
            assertThat((Double) results.get("totalTime")).isLessThan(120_000);
        });
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/RangeScanDynamicColumnsBenchmark.java`
#### Snippet
```java
        KvDynamicColumnsTable table = BenchmarksTableFactory.of().getKvDynamicColumnsTable(txn);

        valuesByKey.forEach((key, value) -> {
            table.put(
                    KvDynamicColumnsRow.of(bucket),
```

### CodeBlock2Expr
Statement lambda can be replaced with expression lambda
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/RangeScanRowsBenchmark.java`
#### Snippet
```java
        KvRowsTable table = BenchmarksTableFactory.of().getKvRowsTable(txn);

        valuesByKey.forEach((key, value) -> {
            table.putData(KvRowsRow.of(bucket, key), value);
        });
```

## RuleId[ruleID=EmptyMethod]
### EmptyMethod
All implementations of this method are empty
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockWatchingCache.java`
#### Snippet
```java
     * @param writes actual writes
     */
    void maybeCacheCommittedWrites(TableReference tableRef, Map<Cell, byte[]> writes);

    /**
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockWatchingCache.java`
#### Snippet
```java
     * @param lockWatchState lock watch state at the start of the transaction that read the entries
     */
    void maybeCacheEntriesRead(TableReference tableRef, Map<Cell, byte[]> writes, LockWatchStateUpdate lockWatchState);

    /**
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionLockWatchingCacheView.java`
#### Snippet
```java
     * @param lwState lock watch state when the view was created
     */
    void tryCacheNewValuesRead(TableReference tableRef, Map<Cell, byte[]> writes, LockWatchStateUpdate lwState);

    /**
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionLockWatchingCacheView.java`
#### Snippet
```java
     * @param lockTs lock timestamp of the {@link com.palantir.lock.watch.TimestampedLockResponse} from acquiring locks
     */
    void tryCacheWrittenValues(TableReference tableRef, Map<Cell, byte[]> writes, long lockTs);
}

```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TaskProgress.java`
#### Snippet
```java
    void beginTask(String message, int tasks);

    void subTaskComplete();

    void taskComplete();
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TaskProgress.java`
#### Snippet
```java
    void subTaskComplete();

    void taskComplete();
}

```

### EmptyMethod
The method is empty
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java
     * This should not throw because it is called in finally blocks.
     */
    protected void cleanupForDiscard(T discardedResource) {
        // nothing to do here
    }
```

### EmptyMethod
The method is empty
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/AbstractPoolingContainer.java`
#### Snippet
```java
     * This should not throw because it is called in finally blocks.
     */
    protected void cleanupForReturnToPool(T resourceToReturn) {
        // nothing here
    }
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-commons/src/main/java/com/palantir/util/MBeanCache.java`
#### Snippet
```java
    public abstract int getMaxCacheSize();

    public abstract void setMaxCacheSize(int size);

    public static final String OBJECT_NAME_PREFIX = "com.palantir.caching:type=";
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweeperPerformanceLogger.java`
#### Snippet
```java
     * Log the performance of a single batch run for the background sweeper.
     */
    void logSweepResults(SweepPerformanceResults results);

    /**
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweeperPerformanceLogger.java`
#### Snippet
```java
     * Log the performance for internal compaction when compacting tables that have just been swept.
     */
    void logInternalCompaction(SweepCompactionPerformanceResults results);
}

```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/Event.java`
#### Snippet
```java
    }

    long time();

    int process();
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/Event.java`
#### Snippet
```java
    long time();

    int process();

    <T> T accept(EventVisitor<T> visitor);
```

### EmptyMethod
All implementations of this method are empty
in `atlasdb-processors-tests/src/main/java/com/palantir/processors/TestInterface.java`
#### Snippet
```java
    default void defaultMethod() {}

    void overriddenMethod(Integer p1, Integer p2, Integer p3);

    static void staticMethod() {}
```

### EmptyMethod
The method is empty
in `atlasdb-processors-tests/src/main/java/com/palantir/processors/TestInterfaceImpl.java`
#### Snippet
```java

    @Override
    public void methodThatMustBeImplemented() {}
}

```

### EmptyMethod
All implementations of this method are empty
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java

    protected interface OnUseCallback {
        void noteUse(SQLString used);
    }

```

### EmptyMethod
The method is empty
in `commons-executors-api/src/main/java/com/palantir/common/concurrent/ExecutorInheritableThreadLocal.java`
#### Snippet
```java

    @Override
    public final int hashCode() {
        return super.hashCode();
    }
```

### EmptyMethod
All implementations of this method are empty
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchEvent.java`
#### Snippet
```java
})
public interface LockWatchEvent {
    long sequence();

    int size();
```

### EmptyMethod
All implementations of this method are empty
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Dependencies.java`
#### Snippet
```java
        UUID leaderUuid();

        Client proxyClient();
    }

```

### EmptyMethod
All implementations of this method are empty
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Dependencies.java`
#### Snippet
```java
        AutobatchingLeadershipObserverFactory leadershipObserverFactory();

        Factories.PaxosLatestRoundVerifierFactory latestRoundVerifierFactory();
    }

```

### EmptyMethod
All implementations of this method are empty
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/config/PrivilegesConfiguration.java`
#### Snippet
```java
})
public interface PrivilegesConfiguration {
    ClientId clientId();

    Privileges privileges();
```

## RuleId[ruleID=GroovyUnusedAssignment]
### GroovyUnusedAssignment
Assignment is not used
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/module/Table.groovy`
#### Snippet
```java
        }
        def query = [table:name as Object]
        List data = []
        List entryList = convertToListIfNotAlreadyList(entries)
        if (isDynamic()) {
```

## RuleId[ruleID=RedundantFieldInitialization]
### RedundantFieldInitialization
Field initialization to `false` is redundant
in `lock-api/src/main/java/com/palantir/lock/client/LeasedLockToken.java`
#### Snippet
```java

    @GuardedBy("this")
    private boolean invalidated = false;

    static LeasedLockToken of(ConjureLockToken serverToken, Lease lease) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java
    final ScheduledExecutorService exec;
    final long refreshFrequencyMillis = 5000;
    volatile boolean isClosed = false;

    public static LockRefreshingRemoteLockService create(RemoteLockService delegate) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    private final Clock clock;
    private volatile UUID leaderId = null;
    private volatile LeaderElectionDuration lastComputedDuration = null;
    private Map<UUID, Instant> leadershipUpperBound = new ConcurrentHashMap<>();
    private Map<UUID, Instant> leadershipLowerBound = new ConcurrentHashMap<>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    private volatile LeaderElectionMetrics metrics;
    private final Clock clock;
    private volatile UUID leaderId = null;
    private volatile LeaderElectionDuration lastComputedDuration = null;
    private Map<UUID, Instant> leadershipUpperBound = new ConcurrentHashMap<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
    final long refreshFrequencyMillis = 5000;
    ScheduledFuture<?> task;
    volatile boolean isClosed = false;

    public static LockRefreshingLockService create(LockService delegate) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java
    private final LockClientIndices clients;
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
    private @GuardedBy("this") MutableIntIntMap readLockHolders;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-db/src/main/java/com/palantir/sql/ResultSets.java`
#### Snippet
```java
            // Otherwise, make sure the underlying stream is closed only once.
            return new FilterInputStream(binaryStream) {
                boolean closed = false;

                @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
    public ArrayHandler createStructArray(String structType, String arrayType, List<Object[]> elements) {
        return new ArrayHandler() {
            private ARRAY array = null;

            @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultSetImpl.java`
#### Snippet
```java
     */
    private final class AgnosticIterator implements Iterator<AgnosticLightResultRow> {
        private int numRowsFetchedSinceLastChange = 0;
        private boolean hasReadRow = true; // $NON-NLS-1$  // Effectively "has already read row # -1"
        private boolean hasNext = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultSetImpl.java`
#### Snippet
```java
        private int numRowsFetchedSinceLastChange = 0;
        private boolean hasReadRow = true; // $NON-NLS-1$  // Effectively "has already read row # -1"
        private boolean hasNext = false;

        private AgnosticIterator() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultSetImpl.java`
#### Snippet
```java
            singletonResultRow; // This is here and not in the iterator so we can throw a SQLException when constructing
    // it
    private volatile boolean hasBeenClosed = false;
    private SqlTimer.Handle timerKey;
    private final String timingModule;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/CloseTracking.java`
#### Snippet
```java
        private final Throwable createTrace;

        private boolean closed = false;

        public Tracking(String typeName) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceSharer.java`
#### Snippet
```java

    private R delegate = null;
    private int refs = 0;

    public ResourceSharer(ResourceType<R, E> type) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceSharer.java`
#### Snippet
```java
        final R delegateLocal = delegate;
        return type.closeWrapper(delegate, new ResourceOnClose<E>() {
            private boolean closed = false;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceSharer.java`
#### Snippet
```java
    private final ResourceType<R, E> type;

    private R delegate = null;
    private int refs = 0;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        class LexicalHelper {
            long startTimeMs = System.currentTimeMillis();
            boolean pending = false;
            UUID id = null;
            T result = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
            long startTimeMs = System.currentTimeMillis();
            boolean pending = false;
            UUID id = null;
            T result = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
            boolean pending = false;
            UUID id = null;
            T result = null;

            public TransactionResult<T> run() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/ColumnSelection.java`
#### Snippet
```java

    private final SortedSet<byte[]> selectedColumns;
    private transient int hashCode = 0;

    private ColumnSelection(SortedSet<byte[]> selectedColumns) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Cell.java`
#### Snippet
```java
    private final byte[] rowName;
    private final byte[] columnName;
    private transient int hashCode = 0;

    // NOTE: This constructor doesn't copy the arrays for performance reasons.
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequest.java`
#### Snippet
```java
        private byte[] endExclusive = PtBytes.EMPTY_BYTE_ARRAY;
        private Set<byte[]> columns = new TreeSet<>(UnsignedBytes.lexicographicalComparator());
        private Integer batchHint = null;
        private final boolean reverse;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequest.java`
#### Snippet
```java
    private final Integer batchHint;
    private final boolean reverse;
    private transient int hashCode = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/versions/AtlasDbVersion.java`
#### Snippet
```java
    public static final String VERSION_UNKNOWN_STRING = "VERSION UNKNOWN";

    private static volatile boolean versionPrinted = false;

    private static final Supplier<String> version = Suppliers.memoize(AtlasDbVersion::readVersion);
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/AbstractCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "run this cli offline")
    private boolean offline = false;

    private AtlasDbConfig config;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            description = "Run sweep in dry run mode to get how much would have been deleted and check safety."
                    + " This will not delete any data.")
    boolean dryRun = false;

    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            description = "Time to wait in milliseconds after each sweep batch"
                    + " (throttles long-running sweep jobs, default: 0)")
    long sleepTimeInMs = 0;

    @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-m", "--migrate"},
            description = "Start or continue migration.")
    private boolean migrate = false;

    @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "run this cli offline")
    private boolean offline = false;

    // TODO(bgrabham): Hide this argument once https://github.com/airlift/airline/issues/51 is fixed
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-s", "--setup"},
            description = "Setup migration by dropping and creating tables.")
    private boolean setup = false;

    @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-v", "--validate"},
            description = "Validate migration.")
    private boolean validate = false;

    @Option(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `commons-api/src/main/java/com/palantir/util/sql/SqlStats.java`
#### Snippet
```java
    }

    private boolean collectCallStatsEnabled = false;

    /** Map which holds all SQL query stats beans. */
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java

    volatile double doubleSumTimeNanos = 0;
    volatile double doubleSumSquaredTimeNanos = 0;
    volatile long operationTimeNanos = 0;
    volatile long totalCalls = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    private static final long ONE_MILLION = 1000000;

    volatile double doubleSumTimeNanos = 0;
    volatile double doubleSumSquaredTimeNanos = 0;
    volatile long operationTimeNanos = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    volatile long operationTimeNanos = 0;
    volatile long totalCalls = 0;
    volatile long maxCall = 0;
    volatile long minCall = Long.MAX_VALUE;
    final List<AtomicLong> underStatsMillis = new CopyOnWriteArrayList<AtomicLong>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    volatile double doubleSumSquaredTimeNanos = 0;
    volatile long operationTimeNanos = 0;
    volatile long totalCalls = 0;
    volatile long maxCall = 0;
    volatile long minCall = Long.MAX_VALUE;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    volatile double doubleSumTimeNanos = 0;
    volatile double doubleSumSquaredTimeNanos = 0;
    volatile long operationTimeNanos = 0;
    volatile long totalCalls = 0;
    volatile long maxCall = 0;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
    final SetMultimap<Cell, Long> entries;
    private SetMultimap<Cell, Long> rowBuffer;
    private boolean moreResults = false;
    private Token token = Tokens.INITIAL;
    private final boolean reverse;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java

final class TimestampsByCellResultWithToken {
    private byte[] currentRow = null;
    private byte[] currentCol = null;
    private PeekingIterator<AgnosticLightResultRow> iterator;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
final class TimestampsByCellResultWithToken {
    private byte[] currentRow = null;
    private byte[] currentCol = null;
    private PeekingIterator<AgnosticLightResultRow> iterator;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/sweep/CandidateGroupingIterator.java`
#### Snippet
```java
    private byte[] currentColName = PtBytes.EMPTY_BYTE_ARRAY;
    private final MutableLongList currentCellTimestamps = LongLists.mutable.empty();
    private boolean currentIsLatestValueEmpty = false;

    private CandidateGroupingIterator(Iterator<List<CellTsPairInfo>> cellTsIterator) {
```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleCellTsPageLoader.java`
#### Snippet
```java

        CellTsPairToken token;
        long cellTsPairsAlreadyExaminedInCurrentRow = 0L;

        PageIterator(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleGetRange.java`
#### Snippet
```java
    private class PageIterator extends AbstractIterator<Iterator<RowResult<Value>>> {
        private byte[] startInclusive;
        private boolean endOfResults = false;
        private final byte[] endExclusive;
        private final Set<byte[]> columnSelection;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresGetRange.java`
#### Snippet
```java
        private ImmutableSortedMap.Builder<byte[], Value> currentRowCells = RangeHelpers.newColumnMap();
        private byte[] firstRowStartColumnInclusive = PtBytes.EMPTY_BYTE_ARRAY;
        private boolean endOfResults = false;

        private final byte[] endExclusive;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java

    @GuardedBy("this")
    private Long currentLimit = null;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/HeldLocks.java`
#### Snippet
```java

    @GuardedBy("this")
    private boolean isUnlocked = false;

    @VisibleForTesting
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/ExclusiveLock.java`
#### Snippet
```java

    @GuardedBy("this")
    private UUID currentHolder = null;

    public ExclusiveLock(LockDescriptor descriptor) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/ArrayLockEventSlidingWindow.java`
#### Snippet
```java
    private final LockWatchEvent[] buffer;
    private final int maxSize;
    private long nextSequence = 0;

    ArrayLockEventSlidingWindow(int maxSize) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
        Iterator<Iterator<Map.Entry<Cell, Value>>> results = new AbstractIterator<Iterator<Map.Entry<Cell, Value>>>() {
            private Sha256Hash lastRowHashInPreviousBatch = null;
            private byte[] lastColumnInPreviousBatch = null;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            Map<Sha256Hash, Integer> columnCountByRowHash) {
        Iterator<Iterator<Map.Entry<Cell, Value>>> results = new AbstractIterator<Iterator<Map.Entry<Cell, Value>>>() {
            private Sha256Hash lastRowHashInPreviousBatch = null;
            private byte[] lastColumnInPreviousBatch = null;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/timestamp/LeadershipGuardedClientAwareManagedTimestampService.java`
#### Snippet
```java

    private final ClientAwareManagedTimestampService delegate;
    private volatile boolean isClosed = false;

    public LeadershipGuardedClientAwareManagedTimestampService(ClientAwareManagedTimestampService delegate) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-backup/src/main/java/com/palantir/atlasdb/backup/AtlasBackupService.java`
#### Snippet
```java
    private final ScheduledExecutorService refreshExecutor;

    private volatile boolean isClosed = false;

    @VisibleForTesting
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/CurrentValueMetric.java`
#### Snippet
```java
@ThreadSafe
public class CurrentValueMetric<T> implements Gauge<T> {
    volatile T value = null;

    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
        private LogSafety logSafety = LogSafety.UNSAFE;

        private boolean uniformPartitionerExplicitlyNull = false;

        public Builder componentName(String name) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    boolean negativeLookups = false;
    boolean appendHeavyAndReadLight = false;
    boolean enableCaching = false;

    public void cachePriority(CachePriority priority) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    boolean rangeScanAllowed = false;
    boolean negativeLookups = false;
    boolean appendHeavyAndReadLight = false;
    boolean enableCaching = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    SweepStrategy sweepStrategy = SweepStrategy.CONSERVATIVE;
    boolean ignoreHotspottingChecks = false;
    boolean explicitCompressionRequested = false;
    int explicitCompressionBlockSizeKb = 0;
    boolean rangeScanAllowed = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    int explicitCompressionBlockSizeKb = 0;
    boolean rangeScanAllowed = false;
    boolean negativeLookups = false;
    boolean appendHeavyAndReadLight = false;
    boolean enableCaching = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    ConflictHandler conflictHandler = defaultConflictHandler();
    SweepStrategy sweepStrategy = SweepStrategy.CONSERVATIVE;
    boolean ignoreHotspottingChecks = false;
    boolean explicitCompressionRequested = false;
    int explicitCompressionBlockSizeKb = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    boolean ignoreHotspottingChecks = false;
    boolean explicitCompressionRequested = false;
    int explicitCompressionBlockSizeKb = 0;
    boolean rangeScanAllowed = false;
    boolean negativeLookups = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java
    boolean explicitCompressionRequested = false;
    int explicitCompressionBlockSizeKb = 0;
    boolean rangeScanAllowed = false;
    boolean negativeLookups = false;
    boolean appendHeavyAndReadLight = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private boolean logSafetyDeclared = false;

    private boolean hashFirstRowComponent = false;
    private int numberOfComponentsHashed = 0;
    private String sourceTableName = null;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java

    private boolean hashFirstRowComponent = false;
    private int numberOfComponentsHashed = 0;
    private String sourceTableName = null;
    private String javaIndexTableName = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private List<IndexComponent> rowComponents = new ArrayList<>();
    private List<IndexComponent> colComponents = new ArrayList<>();
    private IndexCondition indexCondition = null;
    private final IndexType indexType;
    private TableMetadataPersistence.LogSafety tableNameSafety = TableMetadataPersistence.LogSafety.UNSAFE;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private boolean hashFirstRowComponent = false;
    private int numberOfComponentsHashed = 0;
    private String sourceTableName = null;
    private String javaIndexTableName = null;
    private List<IndexComponent> rowComponents = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private int numberOfComponentsHashed = 0;
    private String sourceTableName = null;
    private String javaIndexTableName = null;
    private List<IndexComponent> rowComponents = new ArrayList<>();
    private List<IndexComponent> colComponents = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    // State machine variables, that ensure the index definition is well-formed
    private State state = State.NONE;
    private boolean logSafetyDeclared = false;

    private boolean hashFirstRowComponent = false;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private String genericTableName = null;
    private String javaTableName = null;
    private int numberOfComponentsHashed = 0;
    private List<NameComponentDescription> rowNameComponents = new ArrayList<>();
    private List<NamedColumnDescription> fixedColumns = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private int maxValueSize = Integer.MAX_VALUE;
    private String genericTableName = null;
    private String javaTableName = null;
    private int numberOfComponentsHashed = 0;
    private List<NameComponentDescription> rowNameComponents = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    // State machine variables, that ensure the table definition is well-formed
    private State state = State.NONE;
    private boolean logSafetyDeclared = false;

    // Table definition properties
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private List<NamedColumnDescription> fixedColumns = new ArrayList<>();
    private List<NameComponentDescription> dynamicColumnNameComponents = new ArrayList<>();
    private ColumnValueDescription dynamicColumnValue = null;
    private ConstraintMetadata.Builder constraintBuilder = ConstraintMetadata.builder();
    private Set<String> fixedColumnShortNames = new HashSet<>();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private Set<String> fixedColumnShortNames = new HashSet<>();
    private Set<String> fixedColumnLongNames = new HashSet<>();
    private boolean noColumns = false;
    private LogSafety tableNameSafety = LogSafety.UNSAFE;
    private LogSafety defaultNamedComponentLogSafety = LogSafety.UNSAFE;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private LogSafety tableNameSafety = LogSafety.UNSAFE;
    private LogSafety defaultNamedComponentLogSafety = LogSafety.UNSAFE;
    private boolean v2TableEnabled = false;

    public TableMetadata toTableMetadata() {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    // Table definition properties
    private int maxValueSize = Integer.MAX_VALUE;
    private String genericTableName = null;
    private String javaTableName = null;
    private int numberOfComponentsHashed = 0;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
    private final Namespace namespace;
    private final OptionalType optionalType;
    private boolean ignoreTableNameLengthChecks = false;

    private final Multimap<String, Supplier<OnCleanupTask>> cleanupTasks = ArrayListMultimap.create();
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java

    private TableMetadataPersistence.LogSafety tableNameLogSafety = TableMetadataPersistence.LogSafety.UNSAFE;
    private boolean hashFirstRowComponent = false;
    private boolean appendHeavyAndReadLight = false;
    private boolean dbSideCompressionForBlocks = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java
    private boolean hashFirstRowComponent = false;
    private boolean appendHeavyAndReadLight = false;
    private boolean dbSideCompressionForBlocks = false;
    private int numberOfComponentsHashed = 0;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java
    private TableMetadataPersistence.LogSafety tableNameLogSafety = TableMetadataPersistence.LogSafety.UNSAFE;
    private boolean hashFirstRowComponent = false;
    private boolean appendHeavyAndReadLight = false;
    private boolean dbSideCompressionForBlocks = false;
    private int numberOfComponentsHashed = 0;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java
    private boolean appendHeavyAndReadLight = false;
    private boolean dbSideCompressionForBlocks = false;
    private int numberOfComponentsHashed = 0;

    public StreamTableDefinitionBuilder(StreamTableType type, String prefix, ValueType idType) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
        private final LoggingFunction sink;

        private boolean isClosed = false;

        LogAccumulator(LoggingFunction sink) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/Cells.java`
#### Snippet
```java
        Iterator<Map.Entry<byte[], NavigableMap<byte[], T>>> resultIt =
                new AbstractIterator<Map.Entry<byte[], NavigableMap<byte[], T>>>() {
                    byte[] row = null;
                    NavigableMap<byte[], T> map = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/Cells.java`
#### Snippet
```java
                new AbstractIterator<Map.Entry<byte[], NavigableMap<byte[], T>>>() {
                    byte[] row = null;
                    NavigableMap<byte[], T> map = null;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionManager.java`
#### Snippet
```java
public abstract class AbstractTransactionManager implements TransactionManager {
    final TimestampCache timestampValidationReadCache;
    private volatile boolean closed = false;

    private final TimelockHealthCheck timelockHealthCheck;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(ServiceDiscoveringAtlasSupplier.class);

    private static String timestampServiceCreationInfo = null;

    private final Optional<LeaderConfig> leaderConfig;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java

    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timestamp-impl/src/main/java/com/palantir/timestamp/TimestampAllocationFailures.java`
#### Snippet
```java

    private volatile Throwable previousAllocationFailure;
    private volatile boolean encounteredMultipleRunningTimestamps = false;

    @VisibleForTesting
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java
    private final class Input extends InputStream {
        private int pos = 0;
        private int mark = 0;
        private final int size;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java
public class ByteArrayIOStream extends OutputStream {
    private byte[] bytes;
    private int outputPos = 0;

    public ByteArrayIOStream() {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

    private final class Input extends InputStream {
        private int pos = 0;
        private int mark = 0;
        private final int size;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/file/DeleteOnCloseFileInputStream.java`
#### Snippet
```java

    private File file;
    private boolean closed = false;

    public DeleteOnCloseFileInputStream(File file) throws FileNotFoundException {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/CachedComposedSupplier.java`
#### Snippet
```java
    private final long maxTimeBetweenRecomputes;
    private final Clock clock;
    private volatile Long lastSuppliedVersion = null;
    private volatile long lastComputedTime = 0;
    private R cached;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/CachedComposedSupplier.java`
#### Snippet
```java
    private final Clock clock;
    private volatile Long lastSuppliedVersion = null;
    private volatile long lastComputedTime = 0;
    private R cached;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java

    private final byte[] bytes;
    private transient int hashCode = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/paging/AbstractPagingIterable.java`
#### Snippet
```java
        private P currentPage = null;
        private Iterator<T> currentIterator = null;
        private volatile P lastPageProcessedInFull = null;

        protected PagingIterator(AbstractPagingIterable<T, P> iterable) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/paging/AbstractPagingIterable.java`
#### Snippet
```java
        private final AbstractPagingIterable<T, P> iterable;
        private P currentPage = null;
        private Iterator<T> currentIterator = null;
        private volatile P lastPageProcessedInFull = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/paging/AbstractPagingIterable.java`
#### Snippet
```java
    public static class PagingIterator<T, P extends BasicResultsPage<T>> extends AbstractIterator<T> {
        private final AbstractPagingIterable<T, P> iterable;
        private P currentPage = null;
        private Iterator<T> currentIterator = null;
        private volatile P lastPageProcessedInFull = null;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/AsyncInitializationState.java`
#### Snippet
```java
public class AsyncInitializationState {
    private volatile State state = State.INITIALIZING;
    private volatile Runnable cleanupTask = null;

    synchronized State initToDone() {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java
 */
public abstract class Callback<R> {
    private volatile boolean shutdownSignal = false;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                DEFAULT_BATCH_SIZE,
                AbortingVisitors.<T, RuntimeException>batching(new AbortingVisitor<T, RuntimeException>() {
                    boolean hasSeenFirst = false;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                DEFAULT_BATCH_SIZE,
                AbortingVisitors.<T, RuntimeException>batching(new AbortingVisitor<T, RuntimeException>() {
                    boolean hasSeenFirst = false;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                    throws K {
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
                    long visited = 0;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                    throws K {
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
                    boolean hasVisitedFirst = false;
                    Object lastVisited = null;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
                    boolean hasVisitedFirst = false;
                    Object lastVisited = null;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
                }
                visitable.batchAccept(batchSizeHint, new AbortingVisitor<List<T>, K>() {
                    long visited = 0;

                    @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        // The line and column numbers of the current token.
        private int line = 0;
        private int column = 0;

        // The line and column numbers of the previous token (allows throwing
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        // errors *after* consuming).
        private int previousLine = 0;
        private int previousColumn = 0;

        // We use possesive quantifiers (*+ and ++) because otherwise the Java
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java

        // The character index within this.text at which the current token begins.
        private int pos = 0;

        // The line and column numbers of the current token.
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        // The line and column numbers of the previous token (allows throwing
        // errors *after* consuming).
        private int previousLine = 0;
        private int previousColumn = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java

        // The line and column numbers of the current token.
        private int line = 0;
        private int column = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
            }
            return new AbstractIterator<T>() {
                private int index = 0;

                @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockServerHolder.java`
#### Snippet
```java
    private DropwizardTestSupport<CombinedTimeLockServerConfiguration> timelockServer;
    private boolean isRunning = false;
    private boolean initialised = false;

    TimeLockServerHolder(Supplier<String> configFilePathSupplier, TemplateVariables variables) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockServerHolder.java`
#### Snippet
```java

    private DropwizardTestSupport<CombinedTimeLockServerConfiguration> timelockServer;
    private boolean isRunning = false;
    private boolean initialised = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockServer.java`
#### Snippet
```java

    private final Map<String, NamespacedClients> clientsByNamespace = new ConcurrentHashMap<>();
    private volatile boolean switchToBatched = false;

    TestableTimelockServer(String baseUri, TimeLockServerHolder serverHolder) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/util/ParameterInjector.java`
#### Snippet
```java
    private final Supplier<T> factory;
    private boolean outsideSuite;
    private T currentInstance = null;

    private ParameterInjector(Supplier<T> factory) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `lock-api-objects/src/main/java/com/palantir/lock/LockCollection.java`
#### Snippet
```java
    public Iterable<Map.Entry<T, LockMode>> entries() {
        return () -> new AbstractIterator<Map.Entry<T, LockMode>>() {
            private int index = 0;

            @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java

        @Nullable
        private DetachedSpan runningSpan = null;

        public DisruptorFuture(String safeLoggablePurpose) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java
    private final Runnable closingCallback;

    private volatile boolean closed = false;

    DisruptorAutobatcher(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/RetryableCassandraRequest.java`
#### Snippet
```java
    private final FunctionCheckedException<CassandraClient, V, K> fn;

    private boolean shouldGiveUpOnPreferredHost = false;
    private Map<CassandraServer, Integer> triedHosts = new ConcurrentHashMap<>();
    private List<Exception> encounteredExceptions = new ArrayList<>();
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellDeleter.java`
#### Snippet
```java
        try {
            clientPool.runWithRetryOnServer(host, new FunctionCheckedException<CassandraClient, Void, Exception>() {
                private int numVersions = 0;

                @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamStoreDefinitionBuilder.java`
#### Snippet
```java
    private int inMemoryThreshold = AtlasDbConstants.DEFAULT_STREAM_IN_MEMORY_THRESHOLD;
    private StreamCompression compressStreamType;
    private int numberOfRowComponentsHashed = 0;

    /**
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/queries/GetQuerySpec.java`
#### Snippet
```java

        private volatile Value resultValue = null;
        private volatile boolean assigned = false;

        @Override
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/queries/GetQuerySpec.java`
#### Snippet
```java
    private static final class GetQueryAccumulator implements RowStreamAccumulator<Optional<Value>> {

        private volatile Value resultValue = null;
        private volatile boolean assigned = false;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/lock/SingleLockService.java`
#### Snippet
```java
    private final boolean isLockIdSafeForLogging;

    private LockRefreshToken token = null;

    private SingleLockService(LockService lockService, String lockId, boolean isLockIdSafeForLogging) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/CellsToSweepPartitioningIterator.java`
#### Snippet
```java
    private final int deleteBatchSize;
    private final ExaminedCellLimit limit;
    private boolean limitReached = false;

    public CellsToSweepPartitioningIterator(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepBatchAccumulator.java`
#### Snippet
```java
    private long progressTimestamp;
    private long lastSeenCommitTimestamp = 0L;
    private long entriesRead = 0;
    private boolean anyBatchesPresent = false;
    private boolean nextBatchAvailable = true;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepBatchAccumulator.java`
#### Snippet
```java
    private long lastSeenCommitTimestamp = 0L;
    private long entriesRead = 0;
    private boolean anyBatchesPresent = false;
    private boolean nextBatchAvailable = true;

```

### RedundantFieldInitialization
Field initialization to `0L` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepBatchAccumulator.java`
#### Snippet
```java

    private long progressTimestamp;
    private long lastSeenCommitTimestamp = 0L;
    private long entriesRead = 0;
    private boolean anyBatchesPresent = false;
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java
    private TimelockService timeLock;

    private volatile boolean isInitialized = false;

    private TargetedSweeper(
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
    private static final class PartialCopyStats {
        private long rowsCopied = 0;
        private long cellsCopied = 0;
    }

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
        return () -> new AbstractIterator<Cell>() {
            private final Iterator<RowResult<byte[]>> outerIter = results.iterator();
            private byte[] row = null;
            private Iterator<byte[]> innerIter = null;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java

    private static final class PartialCopyStats {
        private long rowsCopied = 0;
        private long cellsCopied = 0;
    }
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
            private final Iterator<RowResult<byte[]>> outerIter = results.iterator();
            private byte[] row = null;
            private Iterator<byte[]> innerIter = null;

            @Override
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/GetRowsColumnRangeIterator.java`
#### Snippet
```java
    private final PostFilterer postFilterer;

    private boolean firstBatchReturned = false;
    private boolean lastBatchReached = false;

```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/GetRowsColumnRangeIterator.java`
#### Snippet
```java

    private boolean firstBatchReturned = false;
    private boolean lastBatchReached = false;

    GetRowsColumnRangeIterator(
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
    private final TransactionCacheValueStore valueStore;
    private final CacheMetrics metrics;
    private volatile boolean finalised = false;

    private TransactionScopedCacheImpl(TransactionCacheValueStore valueStore, CacheMetrics metrics) {
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/BatchSizeIncreasingIterator.java`
#### Snippet
```java

    private long numReturned = 0;
    private long numNotDeleted = 0;
    private int lastBatchSize;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/BatchSizeIncreasingIterator.java`
#### Snippet
```java
    private byte[] lastToken;

    private long numReturned = 0;
    private long numNotDeleted = 0;
    private int lastBatchSize;
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/metrics/ZeroBasedDeltaGauge.java`
#### Snippet
```java
    private final LongSupplier underlying;

    private long previousValue = 0;

    public ZeroBasedDeltaGauge(LongSupplier underlying) {
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java

    @GuardedBy("this")
    private boolean scrubTaskLaunched = false;

    private final KeyValueService keyValueService;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java
    private final DisruptorAutobatcher<Long, TransactionSoftCacheStatus> autobatcher;

    private volatile PatchyCache patchyCache = null;
    private final AbandonedTimestampStore abandonedTimestampStore;
    private final KnownConcludedTransactions knownConcludedTransactions;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final List<Event> errors = new ArrayList<>();

        private String lockName = null;

        @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractBackgroundSweeperIntegrationTest.java`
#### Snippet
```java
    protected static final class PeriodicTrueSupplier implements BooleanSupplier {
        private int truePeriod = 1;
        private long count = 0;
        private boolean deterministic = true;

```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TestResourceManager.java`
#### Snippet
```java
    private final List<AutoCloseable> closeableResources = new ArrayList<>();

    private TransactionManager transactionManager = null;

    public TestResourceManager(Supplier<KeyValueService> kvsSupplier) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            Iterator<Map.Entry<Cell, byte[]>> iterator) {
        return new Iterator<Map.Entry<Cell, byte[]>>() {
            Map.Entry<Cell, byte[]> next = null;

            @Override
```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponseAccumulator.java`
#### Snippet
```java
    private final Map<S, T> responsesByService;

    private int successes = 0;
    private int failures = 0;

```

### RedundantFieldInitialization
Field initialization to `0` is redundant
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponseAccumulator.java`
#### Snippet
```java

    private int successes = 0;
    private int failures = 0;

    private PaxosResponseAccumulator(
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java

        private State status = State.INITIALIZING;
        private Throwable callbackThrowable = null;

        private final ScheduledExecutorService executorService;
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java

    @GuardedBy("this")
    private PaxosValue currentRound = null;

    @GuardedBy("this")
```

### RedundantFieldInitialization
Field initialization to `false` is redundant
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java

    @GuardedBy("this")
    private boolean isLeading = false;

    public static PaxosLeadershipEventRecorder create(TaggedMetricRegistry metrics, String leaderUuid) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/InterruptibleFileLogCollector.java`
#### Snippet
```java
    private final File logDirectory;

    private ExecutorService executor = null;

    public InterruptibleFileLogCollector(File logDirectory) {
```

### RedundantFieldInitialization
Field initialization to `null` is redundant
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractBenchmark.java`
#### Snippet
```java
    private final AtomicLongArray times;
    private volatile long totalTime;
    private volatile Throwable error = null;
    private volatile long[] sortedTimes;
    private final AtomicInteger counter = new AtomicInteger(0);
```

## RuleId[ruleID=RedundantImplements]
### RedundantImplements
Redundant interface declaration `AutoCloseable`
in `lock-api/src/main/java/com/palantir/lock/client/AsyncTimeLockUnlocker.java`
#### Snippet
```java
 * Thus not retrying is reasonably safe (as long as we can guarantee that the lock won't otherwise be refreshed).
 */
public final class AsyncTimeLockUnlocker implements TimeLockUnlocker, AutoCloseable {
    private static final SafeLogger log = SafeLoggerFactory.get(AsyncTimeLockUnlocker.class);
    private final DisruptorAutobatcher<Set<LockToken>, Void> autobatcher;
```

### RedundantImplements
Redundant interface declaration `Closeable`
in `commons-db/src/main/java/com/palantir/nexus/db/ReentrantConnectionSupplier.java`
#### Snippet
```java
import java.sql.Connection;

public interface ReentrantConnectionSupplier extends ConnectionSupplier, Closeable {

    /**
```

### RedundantImplements
Redundant interface declaration `AutoCloseable`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyValueService.java`
#### Snippet
```java
 */
@AutoDelegate
public interface KeyValueService extends AutoCloseable, AsyncKeyValueService {
    /**
     * Performs non-destructive cleanup when the KVS is no longer needed.
```

### RedundantImplements
Redundant interface declaration `LockService`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
@ThreadSafe
public final class LockServiceImpl
        implements LockService,
                CloseableRemoteLockService,
                CloseableLockService,
```

### RedundantImplements
Redundant interface declaration `RemoteLockService`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                CloseableRemoteLockService,
                CloseableLockService,
                RemoteLockService,
                LockServiceImplMBean {

```

### RedundantImplements
Redundant interface declaration `Serializable`
in `atlasdb-commons/src/main/java/com/palantir/util/paging/TokenBackedBasicResultsPage.java`
#### Snippet
```java
 * @param <TOKEN> the token for the page.
 */
public interface TokenBackedBasicResultsPage<T, TOKEN> extends BasicResultsPage<T>, Serializable {
    /**
     * Gets the token for the next page. This method may return null if you are paging from the beginning of time and there are no changes.
```

### RedundantImplements
Redundant interface declaration `Serializable`
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
    }

    private enum StackTraceComparator implements Comparator<String>, Serializable {
        INSTANCE;
        private static final long serialVersionUID = 1L;
```

### RedundantImplements
Redundant interface declaration `Serializable`
in `atlasdb-commons/src/main/java/com/palantir/util/paging/SimpleTokenBackedResultsPage.java`
#### Snippet
```java

public class SimpleTokenBackedResultsPage<T, TOKEN> extends SimpleResultsPage<T>
        implements TokenBackedBasicResultsPage<T, TOKEN>, Serializable {
    private static final long serialVersionUID = 1L;

```

### RedundantImplements
Redundant interface declaration `Serializable`
in `atlasdb-commons/src/main/java/com/palantir/util/paging/SimpleResultsPage.java`
#### Snippet
```java
 */
@Immutable
public class SimpleResultsPage<T> implements BasicResultsPage<T>, Serializable {
    private static final long serialVersionUID = 2L;

```

### RedundantImplements
Redundant interface declaration `InvocationHandler`
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorConnection.java`
#### Snippet
```java
 * Allows you to intercept and override methods in {@link Connection}.
 */
public final class InterceptorConnection extends AbstractInvocationHandler implements InvocationHandler {
    private final Connection delegate;

```

### RedundantImplements
Redundant interface declaration `InvocationHandler`
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorStatement.java`
#### Snippet
```java
@SuppressWarnings("ProxyNonConstantType")
public final class InterceptorStatement<T extends Statement> extends AbstractInvocationHandler
        implements InvocationHandler {
    private static final SafeLogger log = SafeLoggerFactory.get(InterceptorStatement.class);

```

## RuleId[ruleID=InstanceofCatchParameter]
### InstanceofCatchParameter
'instanceof' on 'catch' parameter `t`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolingContainer.java`
#### Snippet
```java
        } catch (Throwable t) {
            log.warn("Error occurred talking to host '{}'", SafeArg.of("host", cassandraServer), t);
            if (t instanceof NoSuchElementException && t.getMessage().contains("Pool exhausted")) {
                log.warn(
                        "Extra information about exhausted pool",
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolingContainer.java`
#### Snippet
```java
                shouldReuse = false;
            }
            if (e instanceof TTransportException
                    && ((TTransportException) e).getType() == TTransportException.END_OF_FILE) {
                // If we have an end of file this is most likely due to this cassandra node being bounced.
```

### InstanceofCatchParameter
'instanceof' on 'catch' parameter `e`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTopologyValidator.java`
#### Snippet
```java
        } catch (Exception e) {
            // If the get_host_ids API endpoint does not exist, then return a soft failure.
            if (e instanceof TApplicationException) {
                TApplicationException applicationException = (TApplicationException) e;
                if (applicationException.getType() == TApplicationException.UNKNOWN_METHOD) {
```

## RuleId[ruleID=ExceptionNameDoesntEndWithException]
### ExceptionNameDoesntEndWithException
Exception class name `ResourceCreationLocation` does not end with 'Exception'
in `commons-db/src/main/java/com/palantir/nexus/db/ResourceCreationLocation.java`
#### Snippet
```java
 * resource creation as well as the thread name and ID of the creator.
 */
public class ResourceCreationLocation extends RuntimeException {
    private static final long serialVersionUID = 1L;

```

### ExceptionNameDoesntEndWithException
Exception class name `MultipleRunningTimestampServiceError` does not end with 'Exception'
in `timestamp-api/src/main/java/com/palantir/timestamp/MultipleRunningTimestampServiceError.java`
#### Snippet
```java
 * same database.
 */
public class MultipleRunningTimestampServiceError extends RuntimeException {
    private static final long serialVersionUID = 1L;

```

### ExceptionNameDoesntEndWithException
Exception class name `InvalidEscapeSequence` does not end with 'Exception'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
     * invalid escape sequence is seen.
     */
    static class InvalidEscapeSequence extends IOException {

        private static final long serialVersionUID = 1L;
```

## RuleId[ruleID=FuseStreamOperations]
### FuseStreamOperations
Stream may be extended replacing 'toArray'
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
                .map(Container::getDockerComposeFile)
                .map(dockerComposeFilesToTemporaryCopies::getUnchecked)
                .collect(Collectors.toSet());

        Map<String, String> environment = containersToStart.stream()
```

## RuleId[ruleID=ZeroLengthArrayInitialization]
### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
    protected byte[] convertToBytes(final InputStream bias) throws IOException {
        if (bias == null) {
            return new byte[0];
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java
     */
    long selectCount(Connection c, String tableName) throws PalantirSqlException, PalantirInterruptedException {
        return selectCount(c, tableName, null, new Object[] {});
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
        }
        if (columns.get(col) == null) {
            return new byte[0];
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java

            if (contentBlob == null || blobLength == 0) {
                return new byte[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
            byte[] blob = (byte[]) columns.get(col);
            if (blob == null) {
                return new byte[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
            Blob contentBlob = ResultSets.getBlob(results, col);
            if (contentBlob == null || blobLength == 0) {
                return new byte[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
            byte[] blob = ResultSets.getBytes(results, col);
            if (blob == null) {
                return new byte[0];
            }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
                    .collect(Collectors.toSet());
            for (TableReference tableInNamespace : tablesInNamespace) {
                tableToStartRow.put(tableInNamespace, new byte[0]);
            }
        } else if (sweepAllTables) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            tableToStartRow.putAll(Maps.asMap(
                    Sets.difference(services.getKeyValueService().getAllTableNames(), AtlasDbConstants.HIDDEN_TABLES),
                    Functions.constant(new byte[0])));
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java
    @Override
    public void putSentinels(Iterable<Cell> cells) {
        byte[] value = new byte[0];
        long ts = Value.INVALID_VALUE_TIMESTAMP;
        for (List<Cell> batch : Lists.partition(Ordering.natural().immutableSortedCopy(cells), 1000)) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java
    @Override
    public void putSentinels(Iterable<Cell> cells) {
        byte[] value = new byte[0];
        long ts = Value.INVALID_VALUE_TIMESTAMP;
        for (List<Cell> batch : Lists.partition(Ordering.natural().immutableSortedCopy(cells), 1000)) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
    public static boolean isToString(Method method) throws ProxyException {
        try {
            return method.equals(Object.class.getMethod("toString", new Class[] {}));
        } catch (NoSuchMethodException nsme) {
            throw new ProxyException(nsme);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
    public static boolean isHashCode(Method method) throws ProxyException {
        try {
            return method.equals(Object.class.getMethod("hashCode", new Class[] {}));
        } catch (NoSuchMethodException nsme) {
            throw new ProxyException(nsme);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
                } else if (message.hasProtoFileDescriptor()) {
                    FileDescriptorProto fileProto = FileDescriptorProto.parseFrom(message.getProtoFileDescriptor());
                    FileDescriptor fileDescriptor = FileDescriptor.buildFrom(fileProto, new FileDescriptor[0]);
                    protoDescriptor = fileDescriptor.findMessageTypeByName(message.getProtoMessageName());
                }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
            try {
                FileDescriptorProto fileProto = FileDescriptorProto.parseFrom(message.getProtoFileDescriptor());
                FileDescriptor fileDescriptor = FileDescriptor.buildFrom(fileProto, new FileDescriptor[0]);
                protoDescriptor = fileDescriptor.findMessageTypeByName(message.getProtoMessageName());
            } catch (Exception e) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TransactionRangeMigrator.java`
#### Snippet
```java
    private byte[] getNextRowName(byte[] lastRow) {
        if (isRangeDone(lastRow)) {
            return new byte[0];
        }
        return RangeRequests.nextLexicographicName(lastRow);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
    private byte[] getNextRowName(byte[] lastRow) {
        if (isRangeDone(lastRow)) {
            return new byte[0];
        }
        return RangeRequests.nextLexicographicName(lastRow);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/BlockConsumingInputStream.java`
#### Snippet
```java
        this.nextBlockToRead = 0L;
        this.positionInBuffer = 0;
        this.buffer = new byte[0];
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
        checkStreamStored(id, metadata);
        if (metadata.getLength() == 0) {
            return new ByteArrayInputStream(new byte[0]);
        } else if (metadata.getLength() <= Math.min(getInMemoryThreshold(), BLOCK_SIZE_IN_BYTES)) {
            ByteArrayIOStream ios = new ByteArrayIOStream(Ints.saturatedCast(metadata.getLength()));
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/NoDuplicateWritesTransaction.java`
#### Snippet
```java
        Map<Cell, byte[]> values = new HashMap<>();
        for (Cell c : keys) {
            values.put(c, new byte[0]);
        }
        validateWrites(tableRef, values);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java

        return ImmutableLeaderConfig.builder()
                .addLeaders(uris.toArray(new String[0]))
                .localServer(cluster.localServer())
                .sslConfiguration(PaxosRemotingUtils.getSslConfigurationOptional(cluster))
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static void assertAndLogWithException(Logger log, boolean cheapTest, String msg, Throwable t) {
        if (!cheapTest) {
            assertAndLogWithException(log, cheapTest, msg, t, new Object[] {});
        }
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        for (int i = 0; i < resultData.length; i++) {
            ThreadInfo info = ThreadInfo.from(threadData[i]);
            Object[] lockedMonitors = new Object[0];
            if (java16 && detail.includeLockedMonitorsAndSynchronizers) {
                try {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            }
        }
        return filteredTraces.toArray(new String[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
                    .create(BIND_FLAG_SHORT));

    private static String[] additionalBindingsToSetUp = new String[] {};

    protected AtlasConsoleMain() {}
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
                args.add(cli.getOptionValue(CLASSPATH_FLAG_SHORT));
            }
            String[] groovyArgs = args.toArray(new String[0]);
            Main.main(groovyArgs);
        }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeDeserializer.java`
#### Snippet
```java
        int batchSize = optBatchSize == null ? 2000 : optBatchSize.asInt();
        Iterable<byte[]> columns = AtlasDeserializers.deserializeNamedCols(metadata.getColumns(), node.get("cols"));
        byte[] startRow = new byte[0];
        byte[] endRow = new byte[0];
        if (node.has("prefix")) {
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeDeserializer.java`
#### Snippet
```java
        Iterable<byte[]> columns = AtlasDeserializers.deserializeNamedCols(metadata.getColumns(), node.get("cols"));
        byte[] startRow = new byte[0];
        byte[] endRow = new byte[0];
        if (node.has("prefix")) {
            startRow = AtlasDeserializers.deserializeRowPrefix(metadata.getRowMetadata(), node.get("prefix"));
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
    private static byte[] deserializeRowish(NameMetadataDescription description, JsonNode node, boolean mustBeFull) {
        if (node == null) {
            return new byte[0];
        }
        int size = node.size();
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/LightweightOppToken.java`
#### Snippet
```java
                SafeArg.of("range", range));

        return range.hasLowerBound() ? range.lowerEndpoint() : new LightweightOppToken(new byte[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/LightweightOppToken.java`
#### Snippet
```java
                SafeArg.of("range", range));

        return range.hasUpperBound() ? range.upperEndpoint() : new LightweightOppToken(new byte[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java

        List<TypeElement> superTypes = fetchSuperinterfaces(annotatedElement);
        return new TypeToExtend(typePackage, annotatedElement, superTypes.toArray(new TypeElement[0]));
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-dbkvs-tests/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/AbstractDbKvsKeyValueServiceTest.java`
#### Snippet
```java

    private RangeRequest normalRange(int rowBatchSize) {
        return getRangeRequest(false, new byte[0], rowBatchSize);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/RangeVisitor.java`
#### Snippet
```java
    private final TableReference tableRef;
    private byte[] startRow = new byte[0];
    private byte[] endRow = new byte[0];
    private int batchSize = 1000;
    private int threadCount = 1;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/RangeVisitor.java`
#### Snippet
```java
    private final TransactionManager txManager;
    private final TableReference tableRef;
    private byte[] startRow = new byte[0];
    private byte[] endRow = new byte[0];
    private int batchSize = 1000;
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
        Preconditions.checkState(threadCount > 0, "threadCount must be positive");
        if (threadCount == 1) {
            return ImmutableList.of(new MutableRange(new byte[0], new byte[0], batchSize));
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
        Preconditions.checkState(threadCount > 0, "threadCount must be positive");
        if (threadCount == 1) {
            return ImmutableList.of(new MutableRange(new byte[0], new byte[0], batchSize));
        }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
        byte curr = step;
        Collection<MutableRange> ranges = new ArrayList<>(threadCount);
        ranges.add(new MutableRange(new byte[0], new byte[] {step}, batchSize));
        for (int i = 1; i < threadCount - 1; i++) {
            byte next = (byte) (curr + step);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
            curr = next;
        }
        ranges.add(new MutableRange(new byte[] {curr}, new byte[0], batchSize));
        return ranges;
    }
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceValidator.java`
#### Snippet
```java
        final int limit = getBatchSize(table);
        // read only, but need to use a write tx in case the source table has SweepStrategy.THOROUGH
        byte[] nextRowName = new byte[0];
        while (nextRowName != null) {
            nextRowName = validateNextBatchOfRows(table, limit, nextRowName);
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractBackgroundSweeperIntegrationTest.java`
#### Snippet
```java
            cells.put(
                    Cell.create(Ints.toByteArray(i), "c".getBytes(StandardCharsets.UTF_8)),
                    (i % 3 == 0) ? new byte[] {} : Ints.toByteArray(123456 + i));
            if (i % 2 == 0) {
                cells.put(
```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
        leaderElectionServiceMetrics = LeaderElectionServiceMetrics.of(metrics);
        this.contextArgs = safeLoggingArgs.toArray(new Object[0]);
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assertThat(getAllTimestampsForTestCell()).containsExactlyInAnyOrder(Value.INVALID_VALUE_TIMESTAMP, latestTs);
        assertThat(keyValueService.get(TEST_TABLE, ImmutableMap.of(TEST_CELL, Value.INVALID_VALUE_TIMESTAMP + 1L)))
                .containsEntry(TEST_CELL, Value.create(new byte[0], Value.INVALID_VALUE_TIMESTAMP));
    }

```

### ZeroLengthArrayInitialization
Allocation of zero length array
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java

        dockerComposeRule = DockerComposeRule.builder()
                .files(DockerComposeFiles.from(containerDockerComposeFiles.toArray(new String[0])))
                .projectName(PROJECT_NAME)
                .machine(machine)
```

## RuleId[ruleID=NonFinalFieldOfException]
### NonFinalFieldOfException
Non-final field `knownSuccessfullyCommittedKeys` of exception class
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyAlreadyExistsException.java`
#### Snippet
```java
     */
    @SuppressWarnings("checkstyle:MutableException") // Not final for backwards compatibility in serialization.
    private ImmutableList<Cell> knownSuccessfullyCommittedKeys;

    public KeyAlreadyExistsException(String msg, Throwable ex) {
```

## RuleId[ruleID=RedundantStringFormatCall]
### RedundantStringFormatCall
Redundant call to `format()`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SingleBackendCommand.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Exception encountered when running CLI", e);
            System.err.println(String.format("Exception encountered when running CLI: %s", e));
            throw Throwables.rewrapAndThrowUncheckedException(e);
        }
```

### RedundantStringFormatCall
Redundant call to `format()`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/StdoutTracingTransaction.java`
#### Snippet
```java
    @FormatMethod
    protected void trace(@FormatString String format, Object... args) {
        System.out.println(String.format(format, args)); // (authorized)
    }
}
```

## RuleId[ruleID=NonExceptionNameEndsWithException]
### NonExceptionNameEndsWithException
Non-exception class name `CallableCheckedException` ends with 'Exception'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java
    };

    protected interface CallableCheckedException<T, E extends Exception> {
        T call() throws E;
    }
```

### NonExceptionNameEndsWithException
Non-exception class name `CallableCheckedException` ends with 'Exception'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
    }

    public interface CallableCheckedException<T, E extends Exception> {
        T call() throws E;
    }
```

### NonExceptionNameEndsWithException
Non-exception class name `RunnableCheckedException` ends with 'Exception'
in `atlasdb-commons/src/main/java/com/palantir/common/base/RunnableCheckedException.java`
#### Snippet
```java

@FunctionalInterface
public interface RunnableCheckedException<E extends Exception> {
    void run() throws E;
}
```

### NonExceptionNameEndsWithException
Non-exception class name `FunctionCheckedException` ends with 'Exception'
in `atlasdb-commons/src/main/java/com/palantir/common/base/FunctionCheckedException.java`
#### Snippet
```java
package com.palantir.common.base;

public interface FunctionCheckedException<F, T, K extends Exception> {
    T apply(F input) throws K;
}
```

### NonExceptionNameEndsWithException
Non-exception class name `VisitorCheckedException` ends with 'Exception'
in `atlasdb-commons/src/main/java/com/palantir/common/visitor/VisitorCheckedException.java`
#### Snippet
```java
package com.palantir.common.visitor;

public interface VisitorCheckedException<T, K extends Exception> {
    void visit(T obj) throws K;
}
```

## RuleId[ruleID=OptionalGetWithoutIsPresent]
### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        // May only be called if the result is not SUCCESSFUL.
        public Throwable getError() {
            return error.get();
        }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
            sweepResults =
                    sweepTaskRunner.run(table.getTableRef(), batchConfig, nextStartRow, SweepTaskRunner.RunType.FULL);
            nextStartRow = sweepResults.getNextStartRow().get();
            assertThat(sweepResults.getStaleValuesDeleted()).isEqualTo((long) DELETED_COUNT);
        }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/InvalidationRunner.java`
#### Snippet
```java

            if (tableStatus == TableStatus.POISONED) {
                return limits.legacyUpperLimit().get().value();
            }
            return poisonStoreAndGetLastAllocatedTimestamp(connection, limits, tableStatus);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/InvalidationRunner.java`
#### Snippet
```java
        long lastAllocated = tableStatus == TableStatus.NO_DATA
                ? AtlasDbFactory.NO_OP_FAST_FORWARD_TIMESTAMP
                : limits.upperLimit().get().value();
        poisonTable(connection);
        return lastAllocated;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultTimestampCache.java`
#### Snippet
```java
        this.size = size;
        startToCommitTimestampCache = createCache(size.getAsLong());
        evictionPolicy = startToCommitTimestampCache.policy().eviction().get();
        AtlasDbMetrics.registerCache(
                metricRegistry,
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
        while ((numRetries < MAX_NUM_RETRIES) && !attempt.isSuccessful()) {
            numRetries++;
            Throwable cause = attempt.throwable().get();
            ResultOrThrowable retriableExceptionCheck = isRetriable(cause);
            if (!retriableExceptionCheck.isSuccessful()) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
            ResultOrThrowable retriableExceptionCheck = isRetriable(cause);
            if (!retriableExceptionCheck.isSuccessful()) {
                throw retriableExceptionCheck.throwable().get();
            }
            attempt = singleInvocation(method, args);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
            return attempt.result().orElse(null);
        }
        throw Throwables.unwrapIfPossible(attempt.throwable().get());
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java
        ResultOrThrowable attempt = singleInvocation(method, args);
        while (clock.instant().isBefore(lastRetryInstant) && !attempt.isSuccessful()) {
            Throwable cause = attempt.throwable().get();
            ResultOrThrowable fastFailoverCheck = isRetriable(cause);
            if (!fastFailoverCheck.isSuccessful()) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java
            ResultOrThrowable fastFailoverCheck = isRetriable(cause);
            if (!fastFailoverCheck.isSuccessful()) {
                throw fastFailoverCheck.throwable().get();
            }
            attempt = singleInvocation(method, args);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java
            return attempt.result().orElse(null);
        }
        throw Throwables.unwrapIfPossible(attempt.throwable().get());
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LockResponse.java`
#### Snippet
```java
            throw new SafeIllegalStateException("This lock response was not successful");
        }
        return getTokenOrEmpty().get();
    }

```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellRangeDeleter.java`
#### Snippet
```java
                .mapToLong(TimestampRangeDelete::timestamp)
                .max()
                .getAsLong();
        long rangeTombstoneCassandraTimestamp = rangeTombstoneTimestampProvider.applyAsLong(maxTimestampForAllCells);
        for (Map.Entry<CassandraServer, Map<Cell, TimestampRangeDelete>> entry : keysByHost.entrySet()) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepBatchAccumulator.java`
#### Snippet
```java
                .filter(info -> info.writeRef().isPresent())
                .collect(Collectors.toMap(
                        info -> info.writeRef().get().cellReference(), x -> x, WriteInfo::higherTimestamp))
                .values());
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    @SuppressWarnings("ConstantConditions") // class runs in a single thread, so this is fine
    private void updateProgressAndRefreshLock(SweepProgress progress) throws InterruptedException {
        currentTable.get().setProgress(progress);
        currentTable.get().refreshLock();
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/WriteInfoPartitioner.java`
#### Snippet
```java
    private Map<PartitionInfo, List<WriteInfo>> filterAndPartitionForSingleTimestamp(List<WriteInfo> writes) {
        if (writes.stream().allMatch(writeInfo -> getStrategy(writeInfo) == SweeperStrategy.NON_SWEEPABLE)) {
            long startTs = writes.stream().findFirst().get().timestamp();
            return SweepQueueUtils.partitioningForNonSweepable(startTs);
        }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/WriteInfo.java`
#### Snippet
```java
        return new TimestampRangeDelete.Builder()
                .timestamp(timestamp())
                .endInclusive(writeRef().get().isTombstone() && sweeper.shouldSweepLastCommitted())
                .deleteSentinels(!sweeper.shouldAddSentinels())
                .build();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/id/IdsToNames.java`
#### Snippet
```java
            return true;
        } catch (CheckAndSetException e) {
            return get(id).get().equals(table);
        }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/id/NamesToIds.java`
#### Snippet
```java
            kvs.checkAndSet(request);
        } catch (CheckAndSetException e) {
            SweepTableIdentifier actual = currentMapping(table).get();
            Preconditions.checkState(
                    newValue.equals(actual),
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/id/NamesToIds.java`
#### Snippet
```java
            return newValue;
        } catch (CheckAndSetException e) {
            return currentMapping(table).get();
        }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueDeleter.java`
#### Snippet
```java
        return writes.stream()
                .collect(Collectors.groupingBy(
                        info -> info.writeRef().get().tableRef(),
                        Collectors.toMap(info -> info.writeRef().get().cell(), write -> write.toDelete(sweeper))));
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueDeleter.java`
#### Snippet
```java
                .collect(Collectors.groupingBy(
                        info -> info.writeRef().get().tableRef(),
                        Collectors.toMap(info -> info.writeRef().get().cell(), write -> write.toDelete(sweeper))));
    }
}
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
    public Collection<WriteInfo> filter(Collection<WriteInfo> writeInfos) {
        Set<TableReference> tablesToCareAbout = getConservativeTables(writeInfos.stream()
                .map(info -> info.writeRef().get().tableRef())
                .collect(Collectors.toSet()));

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
        return writeInfos.stream()
                .filter(write -> !truncationTimes.containsKey(
                                write.writeRef().get().tableRef())
                        || write.timestamp()
                                > truncationTimes.get(write.writeRef().get().tableRef()))
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
                                write.writeRef().get().tableRef())
                        || write.timestamp()
                                > truncationTimes.get(write.writeRef().get().tableRef()))
                .collect(Collectors.toList());
    }
```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
    private double getStreamStorePriorityScore(SweepPriority newPriority) {
        long millisSinceSweep =
                System.currentTimeMillis() - newPriority.lastSweepTimeMillis().getAsLong();

        if (millisSinceSweep < WAIT_BEFORE_SWEEPING_STREAM_STORE_VALUE_TABLE.toMillis()) {
```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
        double estimatedCellTsPairsToSweep = previousEfficacy * writeCount;
        long millisSinceSweep =
                System.currentTimeMillis() - newPriority.lastSweepTimeMillis().getAsLong();

        if (tooFewWritesToBother(writeCount, cellTsPairsExamined, millisSinceSweep)) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/progress/SweepProgressStoreImpl.java`
#### Snippet
```java
                    AtlasDbConstants.SWEEP_PROGRESS_TABLE,
                    cell,
                    progressToBytes(hydrateProgress(storedProgress).get()),
                    progressToBytes(newProgress));
        }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
                        .filter(info -> info.writeRef().isPresent())
                        .forEach(write -> cellsToDelete
                                .computeIfAbsent(write.writeRef().get().tableRef(), ignore -> HashMultimap.create())
                                .put(write.writeRef().get().cell(), write.timestamp()));
            } else if (commitTs < sweepTs) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
                        .forEach(write -> cellsToDelete
                                .computeIfAbsent(write.writeRef().get().tableRef(), ignore -> HashMultimap.create())
                                .put(write.writeRef().get().cell(), write.timestamp()));
            } else if (commitTs < sweepTs) {
                lastSweptTs = startTs;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
                .filter(write -> write.writeRef().isPresent())
                .forEach(write ->
                        writesToSweepFor.putIfAbsent(write.writeRef().get().cellReference(), write));
        return writesToSweepFor.values();
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLockWatchSnapshot.java`
#### Snippet
```java
        events.events().forEach(event -> event.accept(visitor));
        snapshotVersion = Optional.of(LockWatchVersion.of(
                versionId, events.versionRange().map(Range::upperEndpoint).get()));
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java

        if (latestVersion.isPresent()) {
            long firstVersion = versionRange().get().lowerEndpoint();
            Preconditions.checkArgument(
                    firstVersion <= latestVersion.get().version()
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
        if (startVersion.isEmpty()
                || differentLeaderOrTooFarBehind(
                        currentVersion, versionBounds.startVersion().get(), startVersion.get())) {
            long snapshotVersion = versionBounds.snapshotVersion() + 1;
            Collection<LockWatchEvent> afterSnapshotEvents;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
    private LockWatchVersion getLatestVersionAndVerify(LockWatchVersion endVersion) {
        Preconditions.checkState(latestVersion.isPresent(), "Cannot get events when log does not know its version");
        LockWatchVersion currentVersion = latestVersion.get();
        Preconditions.checkArgument(
                endVersion.version() <= currentVersion.version(),
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
    CacheUpdate processUpdate(LockWatchStateUpdate update) {
        if (latestVersion.isEmpty()
                || !update.logId().equals(latestVersion.get().id())) {
            return update.accept(new NewLeaderVisitor());
        } else {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
        }

        if (success.lastKnownVersion() > latestVersion.get().version()) {
            LockWatchEvents events =
                    LockWatchEvents.builder().events(success.events()).build();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
        return KeyedStream.stream(snapshotCachedValues)
                .filter(value -> value.value().isPresent())
                .map(value -> value.value().get())
                .collectToMap();
    }
```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
                    .mapToLong(response -> response.immutableTimestamp().getImmutableTimestamp())
                    .max()
                    .getAsLong();
            recordImmutableTimestamp(immutableTs);
            cleaner.punch(responses.get(0).startTimestampAndPartition().timestamp());
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/OracleConnectionConfig.java`
#### Snippet
```java
        if (getProtocol() == ConnectionProtocol.TCPS) {
            // Create the truststore
            File clientTruststore = new File(getTruststorePath().get());
            props.setProperty("javax.net.ssl.trustStore", clientTruststore.getAbsolutePath());
            props.setProperty(
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/OracleConnectionConfig.java`
#### Snippet
```java
            props.setProperty("javax.net.ssl.trustStore", clientTruststore.getAbsolutePath());
            props.setProperty(
                    "javax.net.ssl.trustStorePassword", getTruststorePassword().get());

            // Enable server domain matching
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "foo", 125);
        putUncommitted("foo", "", 150);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(5);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo3", "baz", 100);
        putIntoDefaultColumn("foo4", "buzz", 125);
        byte[] nextStartRow = partialSweep(150).getNextStartRow().get();

        kvs.dropTable(TABLE_NAME);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "buzz", 125);
        putUncommitted("foo", "foo", 150);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(5);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        }

        SweepResults results = completeSweep(350).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(28);
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "buzz", 125);
        putUncommitted("foo", "foo", 150);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(5);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java

        Optional<SweepResults> results = completeSweep(TABLE_NAME, 100_000, 1);
        assertThat(results.get().getStaleValuesDeleted()).isEqualTo(1_000 - 1);
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "bar", 50);
        putUncommitted("foo", "baz", 100);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "bar", 50);
        putUncommitted("foo", "baz", 100);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("zzz", "bar", 51);

        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(6);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        assertThat(getAllTsFromDefaultColumn("foo")).containsExactlyInAnyOrder(125L);

        results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
            if (status() == StillLeadingStatus.LEADING) {
                return Optional.of(
                        new PaxosLeadershipToken(greatestLearnedValue().get()));
            }
            return Optional.empty();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
                case LEADING:
                    log.info("Successfully became leader!");
                    return currentState.confirmedToken().get();
                case NO_QUORUM:
                    // If we don't have quorum we should just retry our calls.
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
                            uuid, Futures.getDone(pingFuture).getKey().hostAndPort())
                    : LeaderPingResults.pingReturnedTrueWithOlderVersion(
                            pingResult.timeLockVersion().get());
        } catch (ExecutionException e) {
            return LeaderPingResults.pingCallFailedWithExecutionException(e.getCause());
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
                .filter(entry -> Arrays.equals(row(1), entry.getKey()))
                .findFirst()
                .get()
                .getValue();
        List<ByteBuffer> columns = Streams.stream(iterator)
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
        if (reuseExtantValue(oldState, targetValue)) {
            // Safe as we're only on this branch if the value is present
            CoordinationStoreState<T> extantState = oldState.get();
            sequenceNumber = extantState.sequence();
            long freshSequenceNumber = sequenceNumberSupplier.getAsLong();
```

### OptionalGetWithoutIsPresent
`Optional::get` without 'isPresent()' check
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java
                .filter(optionalPaxosValue -> optionalPaxosValue.isPresent()
                        && optionalPaxosValue.get().equals(learnedValue))
                .map(Optional::get)
                .collect(Collectors.toList());
    }
```

### OptionalGetWithoutIsPresent
`Optional::get` without 'isPresent()' check
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java
                        .orElseGet(Optional::empty))
                .filter(paxosValue -> getPaxosValueData(paxosValue) != null)
                .map(Optional::get)
                .max(Comparator.comparingLong(paxosValue -> PtBytes.toLong(paxosValue.getData())));
    }
```

### OptionalGetWithoutIsPresent
`OptionalDouble.getAsDouble()` without 'isPresent()' check
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractBenchmark.java`
#### Snippet
```java

    private double getAverageTimeInMillis() {
        return Arrays.stream(sortedTimes).average().getAsDouble() / 1_000_000.0;
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/TransactionWriteBenchmarkContended.java`
#### Snippet
```java

            byte[] currentValue =
                    table.getRow(BlobsSerializableRow.of(key)).get().getData();

            if (Arrays.equals(currentValue, originalValue)) {
```

## RuleId[ruleID=ConstantValue]
### ConstantValue
Condition `varcharType == null` is always `false`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
                throw new IllegalStateException();
        }
        if (varcharType == null) {
            throw new IllegalStateException();
        }
```

### ConstantValue
Value `ret` is always 'true'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
                        // we can't throw.
                        squelch(e);
                        return ret;
                    }
                    throw e;
```

### ConstantValue
Condition `obj != null` is always `true`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    static long getLongFromNumber(Object obj) {
        assert (obj != null);
        return (obj != null) ? ((BigDecimal) obj).longValue() : 0L;
    }

```

### ConstantValue
Condition `versionsForClient != null` is always `true`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        synchronized (versionIdMap) {
            Collection<Long> versionsForClient = versionIdMap.get(client);
            if (versionsForClient != null && !versionsForClient.isEmpty()) {
                versionId = versionsForClient.iterator().next();
            }
```

### ConstantValue
Condition `currentHolder == null` is always `false`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    SafeArg.of("durationMillis", durationMillis),
                    UnsafeArg.of("lockId", lockId),
                    SafeArg.of("outcome", currentHolder == null ? "successfully" : "unsuccessfully"));
        } else if (log.isDebugEnabled() && durationMillis > DEBUG_SLOW_LOG_TRIGGER_MILLIS) {
            log.debug(
```

### ConstantValue
Condition `currentHolder == null` is always `false`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    SafeArg.of("durationMillis", durationMillis),
                    UnsafeArg.of("lockId", lockId),
                    SafeArg.of("outcome", currentHolder == null ? "successfully" : "unsuccessfully"));
        }
    }
```

### ConstantValue
Condition `sweepAllTables` is always `true`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
                tableToStartRow.put(tableInNamespace, new byte[0]);
            }
        } else if (sweepAllTables) {
            tableToStartRow.putAll(Maps.asMap(
                    Sets.difference(services.getKeyValueService().getAllTableNames(), AtlasDbConstants.HIDDEN_TABLES),
```

### ConstantValue
Condition `rawKvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/RelationalDbTimeLockFactory.java`
#### Snippet
```java
            KeyValueService rawKvs, DbTimestampCreationSetting dbTimestampCreationSetting, boolean initializeAsync) {
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
                rawKvs.getClass());
```

### ConstantValue
Condition `rawKvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java
                "Cannot specify the DB TimeLock timestamp table as a timestamp table override!");
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "[Unexpected type] | DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs.",
                SafeArg.of("kvsClass", rawKvs.getClass()));
```

### ConstantValue
Value `dbkvs` is always 'null'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java
            KeyValueService rawKvs, Optional<TableReference> tableReference) {
        ConnectionManagerAwareDbKvs dbkvs = (ConnectionManagerAwareDbKvs) rawKvs;
        return timestampStoreInvalidator(dbkvs, tableReference);
    }

```

### ConstantValue
Condition `kvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbTimestampStoreInvalidator.java`
#### Snippet
```java
            KeyValueService kvs, TableReference timestampTable, String tablePrefixString) {
        Preconditions.checkArgument(
                kvs instanceof ConnectionManagerAwareDbKvs,
                "DbTimestampStoreInvalidator should be instantiated with a ConnectionManagerAwareDbKvs!");
        return new DbTimestampStoreInvalidator((ConnectionManagerAwareDbKvs) kvs, timestampTable, tablePrefixString);
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ConnectionManagerAwareDbKvs.java`
#### Snippet
```java
    @Deprecated
    public static ConnectionManagerAwareDbKvs create(DbKeyValueServiceConfig config) {
        return create(config, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `includeValue` is always 'true'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   /*+ USE_NL(i wrap) LEADING(i wrap) NO_MERGE(i) NO_PUSH_PRED(i)"
                + "       INDEX(wrap " + PrimaryKeyConstraintNames.get(tableName) + ") */ "
                + "   wrap.row_name, wrap.col_name, wrap.ts" + getValueSubselect("wrap", includeValue)
                + " FROM " + tableName + " wrap, ( " + query + " ) i "
                + " WHERE wrap.row_name = i.row_name "
```

### ConstantValue
Condition `rawKvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/MultiSequenceTimestampSeriesProvider.java`
#### Snippet
```java

        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
                rawKvs.getClass());
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
                connManager,
                new MultiSequencePhysicalBoundStoreStrategy(timestampTable, series),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
                connManager,
                new LegacyPhysicalBoundStoreStrategy(timestampTable, tablePrefixString),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

    public static DbKeyValueService create(DbKeyValueServiceConfig config, SqlConnectionSupplier sqlConnSupplier) {
        return create(config, sqlConnSupplier, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `isNewKeyValueServiceAllSafeForLogging` is always 'false'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java
            // set the global allSafeForLogging flag to false
            if (!isNewKeyValueServiceAllSafeForLogging) {
                allSafeForLogging = Optional.of(isNewKeyValueServiceAllSafeForLogging);
            }
        }
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Value.Default
    public boolean initializeAsync() {
        return AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC;
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/startup/TimeLockMigrator.java`
#### Snippet
```java
    public static TimeLockMigrator create(
            TimestampManagementService timestampManagementService, TimestampStoreInvalidator invalidator) {
        return create(timestampManagementService, invalidator, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `timelock-agent/src/main/java/com/palantir/timelock/config/DatabaseTsBoundPersisterConfiguration.java`
#### Snippet
```java
    @Value.Default
    public boolean initializeAsync() {
        return AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC;
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `timestamp-impl/src/main/java/com/palantir/timestamp/PersistentTimestampServiceImpl.java`
#### Snippet
```java

    public static PersistentTimestampService create(ErrorCheckingTimestampBoundStore store) {
        return create(store, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `timestamp-impl/src/main/java/com/palantir/timestamp/PersistentTimestampServiceImpl.java`
#### Snippet
```java

    public static PersistentTimestampService create(TimestampBoundStore store) {
        return create(new ErrorCheckingTimestampBoundStore(store), AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Condition `(ret = true) == true` is always `true`
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static boolean isAssertEnabled() {
        boolean ret = false;
        assert (ret = true) == true;

        return ret;
```

### ConstantValue
Value `ret` is always 'true'
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
        assert (ret = true) == true;

        return ret;
    }

```

### ConstantValue
Value `cheapTest` is always 'false'
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static void assertAndLogWithException(Logger log, boolean cheapTest, String msg, Throwable t) {
        if (!cheapTest) {
            assertAndLogWithException(log, cheapTest, msg, t, new Object[] {});
        }
    }
```

### ConstantValue
Condition `i < MAX_FRAMES` is always `true` when reached
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        int curLock = 0;
        StackTraceElement[] stackTrace = info.getStackTrace();
        for (int i = 0; i < stackTrace.length && i < MAX_FRAMES; i++) {
            StackTraceElement ste = stackTrace[i];
            sb.append(INDENT + "at ").append(ste.toString());
```

### ConstantValue
Condition `detail.includeLockedMonitorsAndSynchronizers` is always `true` when reached
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            }
            int[] stackDepths = new int[lockedMonitors.length];
            if (lockedMonitors.length != 0 && detail.includeLockedMonitorsAndSynchronizers) {
                try {
                    for (int j = 0; j < stackDepths.length; j++) {
```

### ConstantValue
Value `cause` is always 'null'
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java

        if (cause == null) {
            log.warn("Exceptions passed to throwCauseAsUnchecked should have a cause", cause);
            throw new SafeIllegalStateException("Exceptions passed to throwCauseAsUnchecked should have a cause");
        }
```

### ConstantValue
Condition `c >= 0x0000` is always `true`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                default:
                    // Check for other control characters
                    if (c >= 0x0000 && c <= 0x001F) {
                        appendEscapedUnicode(builder, c);
                    } else if (Character.isHighSurrogate(c)) {
```

### ConstantValue
Value `value` is always 'null'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        if ("null".equals(tokenizer.currentToken())) {
            tokenizer.consume("null");
            return value;
        }
        switch (field.getType()) {
```

### ConstantValue
Condition `serverName == null` is always `false`
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java

    public static void setLocalServerName(String serverName) {
        if (serverName == null || serverName.trim().isEmpty()) {
            localServerName = "";
            return;
```

### ConstantValue
Condition `lockWithClients == null` is always `false`
in `lock-api-objects/src/main/java/com/palantir/lock/LockResponse.java`
#### Snippet
```java
                @JsonProperty("locks") List<LockWithClient> lockWithClients,
                @JsonProperty("blockAndRelease") boolean isBlockAndRelease) {
            if (lockWithClients == null) {
                lockHolders = ImmutableSortedMap.of();
            } else {
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
                cassandraTopologyValidator,
                absentHostTracker);
        cassandraClientPool.wrapper.initialize(AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
        return cassandraClientPool;
    }
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
                cassandraTopologyValidator,
                cassandraAbsentHostTracker);
        cassandraClientPool.wrapper.initialize(AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
        return cassandraClientPool;
    }
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                runtimeConfig,
                mutationTimestampProvider,
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                mutationTimestampProvider,
                log,
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                mutationTimestampProvider,
                LoggerFactory.getLogger(CassandraKeyValueService.class),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                CassandraMutationTimestampProviders.legacyModeForTestsOnly(),
                LoggerFactory.getLogger(CassandraKeyValueService.class),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    public static TimestampBoundStore create(CassandraKeyValueService kvs) {
        return create(kvs, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java

    public static ScrubberStore create(KeyValueService keyValueService) {
        return create(keyValueService, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java

    public static PuncherStore create(KeyValueService keyValueService) {
        return create(keyValueService, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Condition `promisedId == null` is always `false`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
            return false;
        }
        if (promisedId == null) {
            if (other.promisedId != null) {
                return false;
```

### ConstantValue
Condition `promisedId == null` is always `false` when reached
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
        result = prime * result + ((lastAcceptedId == null) ? 0 : lastAcceptedId.hashCode());
        result = prime * result + ((lastAcceptedValue == null) ? 0 : lastAcceptedValue.hashCode());
        result = prime * result + ((promisedId == null) ? 0 : promisedId.hashCode());
        return result;
    }
```

### ConstantValue
Condition `proposerUuid == null` is always `false` when reached
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposalId.java`
#### Snippet
```java
        int result = 1;
        result = prime * result + (int) (number ^ (number >>> 32));
        result = prime * result + ((proposerUuid == null) ? 0 : proposerUuid.hashCode());
        return result;
    }
```

### ConstantValue
Condition `proposerUuid == null` is always `false`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposalId.java`
#### Snippet
```java
            return false;
        }
        if (proposerUuid == null) {
            if (other.proposerUuid != null) {
                return false;
```

### ConstantValue
Condition `val == null` is always `false`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposal.java`
#### Snippet
```java
            return false;
        }
        if (val == null) {
            if (other.val != null) {
                return false;
```

### ConstantValue
Condition `val == null` is always `false` when reached
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposal.java`
#### Snippet
```java
        int result = 1;
        result = prime * result + ((id == null) ? 0 : id.hashCode());
        result = prime * result + ((val == null) ? 0 : val.hashCode());
        return result;
    }
```

## RuleId[ruleID=MethodOverridesStaticMethod]
### MethodOverridesStaticMethod
Method `create()` tries to override a static method of a superclass
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/NoOpLockWatchValueScopingCache.java`
#### Snippet
```java
public final class NoOpLockWatchValueScopingCache extends NoOpLockWatchValueCache
        implements LockWatchValueScopingCache {
    public static LockWatchValueScopingCache create() {
        return new NoOpLockWatchValueScopingCache();
    }
```

## RuleId[ruleID=StringConcatenationInsideStringBufferAppend]
### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
        try {
            StringBuilder why = new StringBuilder();
            why.append("While attempting to execute the SQL '" + sql
                    + "' we caught a SQLException.\n" //$NON-NLS-1$ //$NON-NLS-2$
                    + "The SQL was executed with the following bind args:\n"); //$NON-NLS-1$
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            }
            StringBuilder why = new StringBuilder();
            why.append("While attempting to execute the SQL '" + sql
                    + "' we caught a SQLException.\n" //$NON-NLS-1$ //$NON-NLS-2$
                    + "The SQL was executed with the following bind args:\n"); //$NON-NLS-1$
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
        StringBuilder s = new StringBuilder();
        for (int i = 0; i < requiredArgs; i++) {
            s.append(nonListType + " " + name + i).append(separator);
        }
        return s.append(nonListType + "... " + name + requiredArgs).toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
            s.append(nonListType + " " + name + i).append(separator);
        }
        return s.append(nonListType + "... " + name + requiredArgs).toString();
    }

```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
        s.append("builder()");
        for (int i = 0; i < requiredArgs; i++) {
            s.append(".add(").append(name + i).append(")");
        }
        return s.append(".add(").append(name + requiredArgs).append(").build()").toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
            s.append(".add(").append(name + i).append(")");
        }
        return s.append(".add(").append(name + requiredArgs).append(").build()").toString();
    }
}
```

## RuleId[ruleID=IOResource]
### IOResource
'OracleDbTableFactory' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/cleaner/DbKvsNamespaceDeleterFactory.java`
#### Snippet
```java
        ExecutorService executorService = MoreExecutors.newDirectExecutorService();
        OracleDbTableFactory factory =
                new OracleDbTableFactory(ddlConfig, tableNameGetter, prefixedTableNames, cache, executorService);
        ConnectionSupplier connectionSupplier = createConnectionSupplier(config, runtimeConfig, connectionConfig);

```

### IOResource
'DeflaterInputStream' should be opened in front of a 'try' block and closed in the corresponding 'finally' block
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
        InputStream content = new DeflaterInputStream(checked, new Deflater(compressionLevel, true), bufferSize);
        List<Supplier<InputStream>> allStreams =
                ImmutableList.of(() -> header, () -> content, () -> trailerStream(counting.getCount(), crc));
```

## RuleId[ruleID=OptionalIsPresent]
### OptionalIsPresent
Can be replaced with single expression in functional style
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLearnerImpl.java`
#### Snippet
```java
    public Collection<PaxosValue> getLearnedValuesSince(long seq) {
        Optional<Long> greatestSeq = getGreatestLearnedValue().map(PaxosValue::getRound);
        if (!greatestSeq.isPresent()) {
            return ImmutableList.of();
        }
```

## RuleId[ruleID=RedundantOperationOnEmptyContainer]
### RedundantOperationOnEmptyContainer
Collection `e.getValue()` is always empty
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            List<Map.Entry<Cell, Value>> results = e.getValue();
            if (results.isEmpty()) {
                ret.put(e.getKey(), new LocalRowColumnRangeIterator(e.getValue().iterator()));
                continue;
            }
```

## RuleId[ruleID=FieldMayBeStatic]
### FieldMayBeStatic
Field `refreshFrequencyMillis` may be 'static'
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java
    final Set<LockRefreshToken> toRefresh;
    final ScheduledExecutorService exec;
    final long refreshFrequencyMillis = 5000;
    volatile boolean isClosed = false;

```

### FieldMayBeStatic
Field `refreshFrequencyMillis` may be 'static'
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
    final LockService delegate;
    final Set<LockRefreshToken> toRefresh;
    final long refreshFrequencyMillis = 5000;
    ScheduledFuture<?> task;
    volatile boolean isClosed = false;
```

## RuleId[ruleID=UtilityClassWithoutPrivateConstructor]
### UtilityClassWithoutPrivateConstructor
Class `LockServiceTestUtils` has only 'static' members, and lacks a 'private' constructor
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceTestUtils.java`
#### Snippet
```java
import java.util.List;

public class LockServiceTestUtils {
    public static final String TEST_LOG_STATE_DIR = "log-state";

```

### UtilityClassWithoutPrivateConstructor
Class `Blobs` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/sql/Blobs.java`
#### Snippet
```java
import java.sql.SQLException;

public class Blobs {
    public static long length(Blob b) throws PalantirSqlException {
        try {
```

### UtilityClassWithoutPrivateConstructor
Class `PreparedStatements` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/sql/PreparedStatements.java`
#### Snippet
```java
import java.sql.Timestamp;

public class PreparedStatements {
    public static int getUpdateCount(PreparedStatement ps) throws PalantirSqlException {
        try {
```

### UtilityClassWithoutPrivateConstructor
Class `ResultSets` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/sql/ResultSets.java`
#### Snippet
```java
import java.util.Map;

public class ResultSets {

    public static Object getObject(ResultSet rs, int col) throws PalantirSqlException {
```

### UtilityClassWithoutPrivateConstructor
Class `Clobs` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/sql/Clobs.java`
#### Snippet
```java
import java.sql.SQLException;

public class Clobs {

    public static String getString(Clob clob, long clobLen) throws PalantirSqlException {
```

### UtilityClassWithoutPrivateConstructor
Class `Connections` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/sql/Connections.java`
#### Snippet
```java
import java.sql.Statement;

public class Connections {

    public static String getUrl(Connection c) throws PalantirSqlException {
```

### UtilityClassWithoutPrivateConstructor
Class `BasicSQLUtils` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java

@SuppressWarnings("InlineFormatString") // the strings being formatted here are complex and legacy; leaving in constants
public class BasicSQLUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `SqlLoggers` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/nexus/db/sql/monitoring/logger/SqlLoggers.java`
#### Snippet
```java

@SuppressFBWarnings("SLF4J_LOGGER_SHOULD_BE_PRIVATE")
public class SqlLoggers {
    public static final SafeLogger LOGGER = SafeLoggerFactory.get("com.palantir.nexus.db.SQL");
    public static final SafeLogger CANCEL_LOGGER = SafeLoggerFactory.get("com.palantir.nexus.db.SQL.cancel");
```

### UtilityClassWithoutPrivateConstructor
Class `SqlTimers` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/timer/SqlTimers.java`
#### Snippet
```java
import com.google.common.collect.ImmutableList;

public class SqlTimers {
    public static DurationSqlTimer createDurationSqlTimer() {
        return new DurationSqlTimer();
```

### UtilityClassWithoutPrivateConstructor
Class `SqlProfilers` has only 'static' members, and lacks a 'private' constructor
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/profiler/SqlProfilers.java`
#### Snippet
```java
package com.palantir.nexus.db.monitoring.profiler;

public class SqlProfilers {
    public static SqlProfiler getSqlProfiler() {
        return SimpleSqlProfiler.INSTANCE;
```

### UtilityClassWithoutPrivateConstructor
Class `Utils` has only 'static' members, and lacks a 'private' constructor
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/Utils.java`
#### Snippet
```java
import java.util.stream.Stream;

public class Utils {

    static <T> Map<T, Long> getFrequencyMap(Stream<T> stream) {
```

### UtilityClassWithoutPrivateConstructor
Class `NamespacedConsensus` has only 'static' members, and lacks a 'private' constructor
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/NamespacedConsensus.java`
#### Snippet
```java
import com.palantir.timestamp.TimestampService;

public class NamespacedConsensus {
    /**
     * Gets a fresh timestamp for namespace from {@link TimestampService#getFreshTimestamp()} and fast forwards
```

### UtilityClassWithoutPrivateConstructor
Class `Triggers` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/generation/Triggers.java`
#### Snippet
```java
import java.util.stream.Stream;

public class Triggers {
    public static <T, U extends T> List<T> getAllTriggers(
            Transaction t, List<Function<? super Transaction, U>> sharedTriggers, T[] triggers) {
```

### UtilityClassWithoutPrivateConstructor
Class `TargetedSweepTables` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TargetedSweepTables.java`
#### Snippet
```java
import com.palantir.atlasdb.schema.generated.TargetedSweepTableFactory;

public class TargetedSweepTables {
    static final Namespace NAMESPACE = Namespace.create("sweep");

```

### UtilityClassWithoutPrivateConstructor
Class `KvsProfilingLogger` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
import org.slf4j.LoggerFactory;

public class KvsProfilingLogger {

    public static final String SLOW_LOGGER_NAME = "kvs-slow-log-2";
```

### UtilityClassWithoutPrivateConstructor
Class `Mutables` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/util/Mutables.java`
#### Snippet
```java
package com.palantir.util;

public class Mutables {
    /**
     * Type-inferred factory method for {@link Mutable}
```

### UtilityClassWithoutPrivateConstructor
Class `AssertUtils` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java

@SuppressWarnings("BadAssert") // explicitly using asserts for test-only
public class AssertUtils {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `ThreadDumps` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/util/debug/ThreadDumps.java`
#### Snippet
```java
// and we lack tests, however this is covered by testing in the internal product
// DO NOT CHANGE THIS CLASS!
public class ThreadDumps {
    public static String programmaticThreadDump() {
        return programmaticThreadDump(/* include locks and synchronizers= */ true);
```

### UtilityClassWithoutPrivateConstructor
Class `SQLConstants` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/nexus/db/SQLConstants.java`
#### Snippet
```java
package com.palantir.nexus.db;

public class SQLConstants {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `Visitors` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/common/base/Visitors.java`
#### Snippet
```java
 *
 */
public class Visitors {

    /**
```

### UtilityClassWithoutPrivateConstructor
Class `Persistables` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/common/persist/Persistables.java`
#### Snippet
```java
import java.util.List;

public class Persistables {
    @SuppressWarnings("unchecked")
    public static <T extends Persistable> Hydrator<T> getHydrator(Class<T> clazz) {
```

### UtilityClassWithoutPrivateConstructor
Class `GzipCompressingInputStream` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
import java.util.zip.DeflaterInputStream;

public final class GzipCompressingInputStream {
    private static final int GZIP_MAGIC = 0x8b1f;
    private static final byte[] GZIP_HEADER = new byte[] {
```

### UtilityClassWithoutPrivateConstructor
Class `AtlasConsoleJoins` has only 'static' members, and lacks a 'private' constructor
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleJoins.java`
#### Snippet
```java
 * Utility for joins.
 */
public class AtlasConsoleJoins {

    public enum JoinComponent {
```

## RuleId[ruleID=DataFlowIssue]
### DataFlowIssue
Argument `lock` might be null
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java
        for (LockRefreshToken goodToken : goodTokens) {
            HeldLocksToken lock = tokenMap.get(goodToken);
            ret.add(goodToken.refreshTokenWithExpriationDate(lock));
        }
        return ret;
```

### DataFlowIssue
Method reference invocation `Collection::stream` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/AsyncTimeLockUnlocker.java`
#### Snippet
```java
                    Set<LockToken> allTokensToUnlock = batch.stream()
                            .map(BatchElement::argument)
                            .flatMap(Collection::stream)
                            .collect(Collectors.toSet());
                    try {
```

### DataFlowIssue
Method invocation `startTs` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingCommitTimestampGetter.java`
#### Snippet
```java
        List<TransactionUpdate> transactionUpdates = Streams.zip(
                        timestamps.stream(), requests.stream(), (commitTs, batchElement) -> TransactionUpdate.builder()
                                .startTs(batchElement.argument().startTs())
                                .commitTs(commitTs)
                                .writesToken(batchElement.argument().commitLocksToken())
```

### DataFlowIssue
Method invocation `commitLocksToken` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingCommitTimestampGetter.java`
#### Snippet
```java
                                .startTs(batchElement.argument().startTs())
                                .commitTs(commitTs)
                                .writesToken(batchElement.argument().commitLocksToken())
                                .build())
                .collect(Collectors.toList());
```

### DataFlowIssue
Method invocation `startTs` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
                            pendingRequestQueue.stream(),
                            (commitTs, batchElement) -> TransactionUpdate.builder()
                                    .startTs(batchElement.argument().startTs())
                                    .commitTs(commitTs)
                                    .writesToken(batchElement.argument().commitLocksToken())
```

### DataFlowIssue
Method invocation `commitLocksToken` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
                                    .startTs(batchElement.argument().startTs())
                                    .commitTs(commitTs)
                                    .writesToken(batchElement.argument().commitLocksToken())
                                    .build())
                    .collect(Collectors.toList());
```

### DataFlowIssue
Method invocation `namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
            for (BatchElement<NamespacedRequest, Long> elem : batch) {
                NamespacedRequest argument = elem.argument();
                Namespace namespace = argument.namespace();
                NamespacedBatchStateManager namespacedBatchStateManager = requestMap.computeIfAbsent(
                        namespace, _unused -> new NamespacedBatchStateManager(argument.cache()));
```

### DataFlowIssue
Method invocation `result` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java

            for (Long commitTimestamp : commitTimestamps) {
                pendingRequestQueue.poll().result().set(commitTimestamp);
            }
        }
```

### DataFlowIssue
Method invocation `lockSet` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
            for (BatchElement<UnlockRequest, Set<ConjureLockTokenV2>> batchElement : requests) {
                Set<ConjureLockTokenV2> plausibleUnlocks = ImmutableSet.copyOf(
                        Sets.intersection(batchElement.argument().lockSet(), unlockedTokens));
                batchElement.result().set(plausibleUnlocks);
                unlockedTokens.removeAll(plausibleUnlocks);
```

### DataFlowIssue
Method invocation `namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
                UnlockRequest unlockRequest = batchElement.argument();
                batchManagers
                        .computeIfAbsent(unlockRequest.namespace(), unused -> new SingleClientBatchManager())
                        .addBatchElement(batchElement);
            }
```

### DataFlowIssue
Method invocation `lockSet` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
            for (BatchElement<UnlockRequest, Set<ConjureLockTokenV2>> batchElement : requests) {
                UnlockRequest lockSet = batchElement.argument();
                lockTokens.addAll(lockSet.lockSet());
            }
            return ConjureUnlockRequestV2.of(lockTokens);
```

### DataFlowIssue
Unboxing of `batchElement.argument()` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingIdentifiedAtlasDbTransactionStarter.java`
#### Snippet
```java
            int start = 0;
            for (BatchElement<Integer, List<StartIdentifiedAtlasDbTransactionResponse>> batchElement : batch) {
                int end = start + batchElement.argument();
                batchElement.result().set(ImmutableList.copyOf(startTransactionResponses.subList(start, end)));
                start = end;
```

### DataFlowIssue
Method invocation `startTransactionsFuture` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
                    builder.add(Preconditions.checkNotNull(transientResponseList.poll()));
                }
                pendingFutures.poll().startTransactionsFuture().set(builder.build());
            }
        }
```

### DataFlowIssue
Method invocation `namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
        for (BatchElement<NamespaceAndRequestParams, List<StartIdentifiedAtlasDbTransactionResponse>> element : batch) {
            NamespaceAndRequestParams requestParams = element.argument();
            Namespace namespace = requestParams.namespace();
            responseHandlers
                    .computeIfAbsent(
```

### DataFlowIssue
Argument `params` might be null
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
        private void updatePendingStartTransactionsCount(Namespace namespace, int startedTransactionsCount) {
            requestMap.compute(
                    namespace, (_unused, params) -> remainingRequestsForNamespace(params, startedTransactionsCount));
        }

```

### DataFlowIssue
Method reference invocation `NamespaceAndRequestParams::namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
                .map(BatchElement::argument)
                .collect(Collectors.toMap(
                        NamespaceAndRequestParams::namespace, NamespaceAndRequestParams::params, RequestParams::merge));
    }

```

### DataFlowIssue
Argument `immutableTsLockClient.getClientId()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java

        try {
            lock = lockService.lock(immutableTsLockClient.getClientId(), lockRequest);
        } catch (InterruptedException e) {
            throw Throwables.throwUncheckedException(e);
```

### DataFlowIssue
Argument `lock` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java
        try {
            return LockImmutableTimestampResponse.of(
                    getImmutableTimestampInternal(immutableLockTs), LockTokenConverter.toTokenV2(lock));
        } catch (Throwable e) {
            if (lock != null) {
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java
    private LockRefreshToken lockAnonymous(com.palantir.lock.LockRequest request) {
        try {
            return lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
        } catch (InterruptedException ex) {
            Thread.currentThread().interrupt();
```

### DataFlowIssue
Argument `immutableTsLockClient.getClientId()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java

    private long getImmutableTimestampInternal(long ts) {
        Long minLocked = lockService.getMinLockedInVersionId(immutableTsLockClient.getClientId());
        return minLocked == null ? ts : minLocked;
    }
```

### DataFlowIssue
Argument `rootDir.listFiles()` might be null
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceTestUtils.java`
#### Snippet
```java
    static List<File> logStateDirFiles() {
        File rootDir = new File(TEST_LOG_STATE_DIR);
        return Lists.newArrayList(rootDir.listFiles());
    }

```

### DataFlowIssue
Dereference of `rootDir.listFiles()` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceTestUtils.java`
#### Snippet
```java
        File rootDir = new File(TEST_LOG_STATE_DIR);
        if (rootDir.isDirectory()) {
            for (File file : rootDir.listFiles()) {
                file.delete();
            }
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `commons-db/src/main/java/com/palantir/nexus/db/ThreadConfinedProxy.java`
#### Snippet
```java
                break;
            case VALIDATE:
                Validate.isTrue(false, message);
                break;
        }
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
            if (DBType.getTypeFromConnection(c) == DBType.POSTGRESQL
                    && is.getLength() > SQL.POSTGRES_BLOB_WRITE_LIMIT) {
                com.palantir.logsafe.Preconditions.checkArgument(
                        false, "Postgres only supports blobs up to 1G"); // $NON-NLS-1$
            }
```

### DataFlowIssue
The call to 'checkState' always fails, according to its method contracts
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            }
        }
        Preconditions.checkState(
                false,
                "limitQuery() only supports POSTGRES, H2, HSQL, and ORACLE db type.",
```

### DataFlowIssue
Unboxing of `deadline` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                return lock.tryLock();
            case BLOCK_UNTIL_TIMEOUT:
                return lock.tryLock(deadline - System.nanoTime(), TimeUnit.NANOSECONDS);
            case BLOCK_INDEFINITELY:
            case BLOCK_INDEFINITELY_THEN_RELEASE:
```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
    private boolean isFromAtlasTransactionWithLockedImmutable(ExpiringToken token) {
        return token.getClient() != null
                && token.getClient().getClientId().startsWith(ATLAS_LOCK_PREFIX)
                && token.getVersionId() != null;
    }
```

### DataFlowIssue
Argument `heldLocks.realToken.getClient()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        }
        try {
            changeOwner(heldLocks.locks, heldLocks.realToken.getClient(), INTERNAL_LOCK_GRANT_CLIENT);
        } catch (IllegalMonitorStateException e) {
            heldLocksTokenMap.put(token, heldLocks);
```

### DataFlowIssue
Argument `currentHolder` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                if (log.isDebugEnabled() || isSlowLogEnabled()) {
                    long responseTimeMillis = System.currentTimeMillis() - startTime;
                    logSlowLockAcquisition(entry.getKey().toString(), currentHolder, responseTimeMillis);
                }
                if (currentHolder == null) {
```

### DataFlowIssue
Method invocation `isAnonymous` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        }
        LockClient client = heldLocks.realToken.getClient();
        if (client.isAnonymous()) {
            heldLocksTokenMap.put(token, heldLocks);
            lockTokenReaperQueue.add(token);
```

### DataFlowIssue
Condition `ts instanceof TimestampManagementService` is redundant and can be replaced with a null check
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/FastForwardTimestamp.java`
#### Snippet
```java

        TimestampService ts = services.getManagedTimestampService();
        if (!(ts instanceof TimestampManagementService)) {
            printer.error(
                    "Timestamp service must be of type {}, but yours is {}.  Exiting.",
```

### DataFlowIssue
Method invocation `getClass` will produce `NullPointerException`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/FastForwardTimestamp.java`
#### Snippet
```java
                    "Timestamp service must be of type {}, but yours is {}.  Exiting.",
                    SafeArg.of("expected type", TimestampManagementService.class.toString()),
                    SafeArg.of("found type", ts.getClass().toString()));
            return 1;
        }
```

### DataFlowIssue
Method invocation `getFile` may produce `NullPointerException`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java
        URL resource = clazz.getResource("/" + resourcePath);
        File file = File.createTempFile(
                FilenameUtils.getBaseName(resource.getFile()), FilenameUtils.getExtension(resource.getFile()));
        IOUtils.copy(resource.openStream(), FileUtils.openOutputStream(file));
        file.deleteOnExit();
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
        try {
            tables.getKvs().putUnlessExists(tables.getFirstTableRef(), batch);
            Preconditions.checkArgument(false, "putUnlessExists should have failed");
        } catch (KeyAlreadyExistsException e) {
            // success
```

### DataFlowIssue
Unboxing of `result.getResultValue()` may produce `NullPointerException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/InvalidationRunner.java`
#### Snippet
```java
        switch (result.getStatus()) {
            case SUCCESSFUL:
                return result.getResultValue();
            case UNKNOWN:
            case FAILED:
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/RelationalDbTimeLockFactory.java`
#### Snippet
```java
    public ManagedTimestampService createManagedTimestampService(
            KeyValueService rawKvs, DbTimestampCreationSetting dbTimestampCreationSetting, boolean initializeAsync) {
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java
                        .orElse(false),
                "Cannot specify the DB TimeLock timestamp table as a timestamp table override!");
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "[Unexpected type] | DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs.",
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbTimestampStoreInvalidator.java`
#### Snippet
```java
    public static TimestampStoreInvalidator create(
            KeyValueService kvs, TableReference timestampTable, String tablePrefixString) {
        Preconditions.checkArgument(
                kvs instanceof ConnectionManagerAwareDbKvs,
                "DbTimestampStoreInvalidator should be instantiated with a ConnectionManagerAwareDbKvs!");
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/MultiSequenceTimestampSeriesProvider.java`
#### Snippet
```java
        }

        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
```

### DataFlowIssue
Unboxing of `currentLimit` may produce `NullPointerException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
            case SUCCESSFUL:
                currentLimit = result.getResultValue();
                return currentLimit;
            case UNKNOWN:
            case FAILED:
```

### DataFlowIssue
Method invocation `getTimestamps` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockResource.java`
#### Snippet
```java
                        timelock.startTransactionsWithWatches(conjureRequest),
                        newResponse -> ImmutableStartTransactionResponseV4.builder()
                                .timestamps(newResponse.getTimestamps())
                                .immutableTimestamp(newResponse.getImmutableTimestamp())
                                .lease(newResponse.getLease())
```

### DataFlowIssue
Method invocation `getInclusiveLower` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
                    responseFuture,
                    response ->
                            GetCommitTimestampResponse.of(response.getInclusiveLower(), response.getLockWatchUpdate()),
                    MoreExecutors.directExecutor());
        });
```

### DataFlowIssue
Method invocation `getTokenId` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
                    .apply(namespace)
                    .refreshLockRefreshTokens(Collections2.transform(
                            request, token -> new LockRefreshToken(token.getTokenId(), token.getExpirationDateMs()))));
            return Futures.transform(
                    serviceTokens,
```

### DataFlowIssue
Method reference argument might be null
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
            return Futures.transform(
                    serviceTokens,
                    tokens -> ImmutableSet.copyOf(Collections2.transform(tokens, ConjureLockV1Tokens::getConjureToken)),
                    MoreExecutors.directExecutor());
        });
```

### DataFlowIssue
Unboxing of `value` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/client/CachingPartitionAllocator.java`
#### Snippet
```java
                .executor(executor)
                .ticker(ticker)
                .removalListener((T key, Integer value, RemovalCause cause) -> modulusGenerator.unmarkResidue(value))
                .build(unused -> modulusGenerator.getAndMarkResidue());
    }
```

### DataFlowIssue
Argument `value` might be null
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value == null || value instanceof java.util.UUID);
            return EncodingUtils.encodeUUID((java.util.UUID) value);
        }

```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addJavadoc("Returns the value for column $L and specified row components.", VarName(col));

        getterBuilder = addParametersFromRowComponents(getterBuilder, tableMetadata);

        getterBuilder.returns(ParameterizedTypeName.get(
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addJavadoc("Delete the value at column $L (if it exists) for the specified row-key.", VarName(col));

        deleteColumnBuilder = addParametersFromRowComponents(deleteColumnBuilder, tableMetadata);

        return deleteColumnBuilder
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addModifiers(Modifier.PUBLIC);

        updateColumnIfExistsBuilder = addParametersFromRowComponents(updateColumnIfExistsBuilder, tableMetadata);
        updateColumnIfExistsBuilder.addParameter(
                ParameterizedTypeName.get(
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addModifiers(Modifier.PUBLIC);

        putColumnBuilder = addParametersFromRowComponents(putColumnBuilder, tableMetadata);

        TypeName columnValueType = tableType.nestedClass(VarName(col));
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addJavadoc("Delete all columns for specified row components.");

        deleteRowBuilder = addParametersFromRowComponents(deleteRowBuilder, tableMetadata);

        SortedSet<NamedColumnDescription> namedColumns = ColumnRenderers.namedColumns(tableMetadata);
```

### DataFlowIssue
Method invocation `runTaskReadOnly` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
                    loadNBlocksToOutputStream(parent, id, firstBlock, numBlocks, destination);
                } else {
                    txnMgr.runTaskReadOnly(txn -> {
                        loadNBlocksToOutputStream(txn, id, firstBlock, numBlocks, destination);
                        return null;
```

### DataFlowIssue
Unboxing of `range.getBatchHint()` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
            PeekingIterator<RowResult<Value>> peekingValues = Iterators.peekingIterator(valueResults.get());

            Iterator<List<RowResult<Set<Long>>>> tsBatches = Iterators.partition(tsResults.get(), range.getBatchHint());
            Iterator<List<CandidateCellForSweeping>> candidates = Iterators.transform(tsBatches, tsBatch -> {
                List<CandidateCellForSweeping> candidateBatch = new ArrayList<>();
```

### DataFlowIssue
Unboxing of `requestWithHint.getBatchHint()` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
        final ClosableIterator<RowResult<Value>> range = kv.getRange(tableRef, requestWithHint, timestamp);
        try {
            int batchSize = requestWithHint.getBatchHint();
            final Iterator<RowResult<Value>> withLimit = Iterators.limit(range, batchSize);
            ImmutableList<RowResult<Value>> results = ImmutableList.copyOf(withLimit);
```

### DataFlowIssue
The call to 'checkState' always fails, according to its method contracts
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
            }
        } else {
            Preconditions.checkState(
                    false,
                    "All references should be of type KeyedReference",
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
        @Override
        public String toString() {
            return (valueRef.get() != null) ? valueRef.get().toString() : "null";
        }
    }
```

### DataFlowIssue
Method invocation `invoke` may produce `NullPointerException`
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            if (java16 && detail.includeLockedMonitorsAndSynchronizers) {
                try {
                    lockedMonitors = (Object[]) getLockedMonitorsMethod.invoke(info);
                } catch (InvocationTargetException e) {
                    assert false : "anonymous assert FF3FEF";
```

### DataFlowIssue
Method invocation `invoke` may produce `NullPointerException`
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
                try {
                    for (int j = 0; j < stackDepths.length; j++) {
                        stackDepths[j] = ((Integer) getLockedStackDepthMethod.invoke(lockedMonitors[j])).intValue();
                    }
                } catch (InvocationTargetException e) {
```

### DataFlowIssue
Method invocation `getColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeDeserializer.java`
#### Snippet
```java
        JsonNode optBatchSize = node.get("batch_size");
        int batchSize = optBatchSize == null ? 2000 : optBatchSize.asInt();
        Iterable<byte[]> columns = AtlasDeserializers.deserializeNamedCols(metadata.getColumns(), node.get("cols"));
        byte[] startRow = new byte[0];
        byte[] endRow = new byte[0];
```

### DataFlowIssue
Method invocation `getRowMetadata` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultDeserializer.java`
#### Snippet
```java
        TableMetadata metadata = metadataCache.getMetadata(tableName);
        for (JsonNode rowResult : node.get("data")) {
            byte[] row = AtlasDeserializers.deserializeRow(metadata.getRowMetadata(), rowResult.get("row"));
            ImmutableSortedMap.Builder<byte[], byte[]> cols =
                    ImmutableSortedMap.orderedBy(UnsignedBytes.lexicographicalComparator());
```

### DataFlowIssue
Method invocation `getColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeSerializer.java`
#### Snippet
```java
            jgen.writeArrayFieldStart("cols");
            for (byte[] column : value.getColumns()) {
                AtlasSerializers.serializeCol(jgen, metadata.getColumns(), column);
            }
            jgen.writeEndArray();
```

### DataFlowIssue
Argument `value.getProtoDescriptor()` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataSerializer.java`
#### Snippet
```java
            case PROTO:
                jgen.writeObjectFieldStart("type");
                serialize(jgen, value.getProtoDescriptor());
                jgen.writeEndObject();
                break;
```

### DataFlowIssue
Argument `description.getProtoDescriptor()` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
                break;
            case PROTO:
                Message.Builder builder = DynamicMessage.newBuilder(description.getProtoDescriptor());
                try {
                    ForkedJsonFormat.merge(node.toString(), builder);
```

### DataFlowIssue
Method invocation `getRowMetadata` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowSelectionDeserializer.java`
#### Snippet
```java
        String tableName = node.get("table").textValue();
        TableMetadata metadata = metadataCache.getMetadata(tableName);
        Iterable<byte[]> rows = AtlasDeserializers.deserializeRows(metadata.getRowMetadata(), node.get("rows"));
        Iterable<byte[]> columns = AtlasDeserializers.deserializeNamedCols(metadata.getColumns(), node.get("cols"));
        if (Iterables.isEmpty(columns)) {
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksTokens.java`
#### Snippet
```java
        return new Function<HeldLocksToken, LockRefreshToken>() {
            @Override
            @Nullable
            public LockRefreshToken apply(@Nullable HeldLocksToken input) {
                return input.getLockRefreshToken();
```

### DataFlowIssue
Method invocation `getLockRefreshToken` may produce `NullPointerException`
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksTokens.java`
#### Snippet
```java
            @Nullable
            public LockRefreshToken apply(@Nullable HeldLocksToken input) {
                return input.getLockRefreshToken();
            }
        };
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `lock-api-objects/src/main/java/com/palantir/lock/LockClient.java`
#### Snippet
```java
    @JsonIgnore
    public boolean isAnonymous() {
        return clientId.isEmpty();
    }

```

### DataFlowIssue
Argument `blockingDuration` might be null
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
                builder.doNotBlock();
            } else if (blockingMode == BlockingMode.BLOCK_UNTIL_TIMEOUT) {
                builder.blockForAtMost(blockingDuration);
            } else if (blockingMode == BlockingMode.BLOCK_INDEFINITELY_THEN_RELEASE) {
                builder.lockAndRelease();
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
                    + ", versionId=" + versionId //
                    + ", lockGroupBehavior=" + lockGroupBehavior //
                    + ", lockCount=" + lockMap.size() //
                    + ", firstLock=" + Iterables.getFirst(lockMap.entries(), "") //
                    + '}';
```

### DataFlowIssue
Argument `lockTimeout` might be null
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
     */
    public HeldLocksGrant refresh(long newExpirationDateMs) {
        return new HeldLocksGrant(grantId, creationDateMs, newExpirationDateMs, lockMap, lockTimeout, versionId);
    }

```

### DataFlowIssue
Argument `lockTimeout` might be null
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
            return lockMap.isEmpty()
                    ? new HeldLocksGrant(grantId)
                    : new HeldLocksGrant(grantId, creationDateMs, expirationDateMs, lockMap, lockTimeout, versionId);
        }
    }
```

### DataFlowIssue
Unboxing of `element.argument()` may produce `NullPointerException`
in `timestamp-client/src/main/java/com/palantir/timestamp/RequestBatchingTimestampService.java`
#### Snippet
```java
            long endExclusive = 0;
            for (BatchElement<Integer, TimestampRange> element : batch) {
                int timestampsRequired = element.argument();
                if (element.argument() <= endExclusive - startInclusive) {
                    element.result().set(createExclusiveRange(startInclusive, startInclusive + timestampsRequired));
```

### DataFlowIssue
Unboxing of `element.argument()` may produce `NullPointerException`
in `timestamp-client/src/main/java/com/palantir/timestamp/RequestBatchingTimestampService.java`
#### Snippet
```java
            for (BatchElement<Integer, TimestampRange> element : batch) {
                int timestampsRequired = element.argument();
                if (element.argument() <= endExclusive - startInclusive) {
                    element.result().set(createExclusiveRange(startInclusive, startInclusive + timestampsRequired));
                    startInclusive += timestampsRequired;
```

### DataFlowIssue
Argument `latestStreamId` might be null
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/todo/TodoClient.java`
#### Snippet
```java
                        SafeArg.of("latestStreamId", latestStreamId),
                        UnsafeArg.of("streamReference", PtBytes.toString(streamReference)));
                Map<Long, byte[]> theMap = ImmutableMap.of(latestStreamId, streamReference);
                streamStore.unmarkStreamsAsUsed(transaction, theMap);
            });
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/lock/SingleLockService.java`
#### Snippet
```java
                    .doNotBlock()
                    .build();
            token = lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
            log.info(
                    "Attempted to acquire the lock {} in a single lock service; got {}",
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepableCellFilter.java`
#### Snippet
```java
        }

        tsToSweep = checkIfLastShouldBeSwept(tsToSweep, candidate.isLatestValueEmpty(), lastIsCommittedBeforeSweepTs);
        boolean shouldAddSentinel = sweeper.shouldAddSentinels() && !tsToSweep.isEmpty();
        tsToSweep.addAll(uncommittedTs);
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueCleaner.java`
#### Snippet
```java
                .map(SweepQueueUtils::partitionFineToCoarse)
                .collect(Collectors.toSet());
        coarsePartitions = removeLastPartitionIfNotComplete(coarsePartitions, lastTs);

        sweepableTimestamps.deleteCoarsePartitions(shardStrategy, coarsePartitions);
```

### DataFlowIssue
Unboxing of `rr.getWriteCount()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
        return ImmutableSweepPriority.builder()
                .tableRef(TableReference.createUnsafe(rr.getRowName().getFullTableName()))
                .writeCount(rr.hasWriteCount() ? rr.getWriteCount() : 0L)
                .lastSweepTimeMillis(
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
```

### DataFlowIssue
Argument `rr.getLastSweepTime()` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                .writeCount(rr.hasWriteCount() ? rr.getWriteCount() : 0L)
                .lastSweepTimeMillis(
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
```

### DataFlowIssue
Unboxing of `rr.getMinimumSweptTimestamp()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                .lastSweepTimeMillis(
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
                .cellTsPairsExamined(rr.hasCellsExamined() ? rr.getCellsExamined() : 0L)
```

### DataFlowIssue
Unboxing of `rr.getCellsDeleted()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
                .cellTsPairsExamined(rr.hasCellsExamined() ? rr.getCellsExamined() : 0L)
                .build();
```

### DataFlowIssue
Unboxing of `rr.getCellsExamined()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
                .cellTsPairsExamined(rr.hasCellsExamined() ? rr.getCellsExamined() : 0L)
                .build();
    }
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java
            } else {
                // The request failed because my actual and expected did not match
                byte[] actualValue = ex.getActualValues().get(req.argument().cell());
                req.result().setException(CasRequest.failure(req.argument(), Optional.ofNullable(actualValue)));
            }
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java
            List<BatchElement<CasRequest, Void>> requests, Function<CasRequest, ByteBuffer> valueExtractor) {
        return KeyedStream.of(requests)
                .mapKeys(elem -> elem.argument().cell())
                .map(elem -> valueExtractor.apply(elem.argument()).array())
                .collectToMap();
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
        List<CasRequestBatch> pendingBatchedRequests = KeyedStream.stream(pendingUpdates.stream()
                        .collect(Collectors.groupingBy(
                                elem -> ByteBuffer.wrap(elem.argument().cell().getRowName()))))
                .map((row, requests) -> new CasRequestBatch(tableRef, row.array(), requests))
                .values()
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
    static boolean shouldRetry(BatchElement<CasRequest, Void> req, MultiCheckAndSetException ex) {
        CasRequest casRequest = req.argument();
        Cell cell = casRequest.cell();

        if (!ex.getActualValues().containsKey(cell)) {
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java

        Map<Cell, List<BatchElement<CasRequest, Void>>> partitionedElems = batch.stream()
                .collect(Collectors.groupingBy(elem -> elem.argument().cell()));

        ImmutableList.Builder<BatchElement<CasRequest, Void>> requestsToProcess = ImmutableList.builder();
```

### DataFlowIssue
Method invocation `rank` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
                partitionedElems.entrySet()) {
            List<BatchElement<CasRequest, Void>> sortedPendingRequests = requestedUpdatesForCell.getValue().stream()
                    .sorted(Comparator.comparing(elem -> elem.argument().rank()))
                    .collect(Collectors.toList());
            if (!sortedPendingRequests.isEmpty()) {
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java
        RangeRequest.Builder range = RangeRequest.builder();
        if (startRow != null) {
            range = range.startRowInclusive(startRow);
        }
        if (endRow != null) {
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java
        }
        if (endRow != null) {
            range = range.endRowExclusive(endRow);
        }
        return keyValueService.getRange(
```

### DataFlowIssue
Argument `cellReference` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValueStoreImpl.java`
#### Snippet
```java
                        values.with(map -> map.remove(cellReference));
                    }
                    metrics.decreaseCacheSize(EntryWeigher.INSTANCE.weigh(cellReference, value));
                })
                .build();
```

### DataFlowIssue
Argument `value` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValueStoreImpl.java`
#### Snippet
```java
                        values.with(map -> map.remove(cellReference));
                    }
                    metrics.decreaseCacheSize(EntryWeigher.INSTANCE.weigh(cellReference, value));
                })
                .build();
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AdvisoryLockConditionSuppliers.java`
#### Snippet
```java
            HeldLocksToken response;
            try {
                response = lockService.lockAndGetHeldLocks(LockClient.ANONYMOUS.getClientId(), lockRequest);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### DataFlowIssue
Unboxing of `Defaults.defaultValue(long.class)` may produce `NullPointerException`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosValue.java`
#### Snippet
```java
            leaderUuid = message.getLeaderUUID();
        }
        long seq = Defaults.defaultValue(long.class);
        if (message.hasSeq()) {
            seq = message.getSeq();
```

### DataFlowIssue
Method invocation `startTimestamp` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
            EncodingTransactionService delegate, BatchElement<TimestampPair, Void> batchElem) {
        Cell cell = delegate.getCellEncodingStrategy()
                .encodeStartTimestampAsCell(batchElem.argument().startTimestamp());
        KeyAlreadyExistsException exception = new KeyAlreadyExistsException(
                "Failed because other client-side element succeeded", ImmutableList.of(cell));
```

### DataFlowIssue
Method invocation `startTimestamp` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
                MultimapBuilder.hashKeys().hashSetValues().build();
        batchElements.forEach(batchElement ->
                startTimestampKeyedBatchElements.put(batchElement.argument().startTimestamp(), batchElement));

        while (!startTimestampKeyedBatchElements.isEmpty()) {
```

### DataFlowIssue
Method invocation `commitTimestamp` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
            try {
                delegate.putUnlessExists(KeyedStream.stream(batch)
                        .map(batchElement -> batchElement.argument().commitTimestamp())
                        .collectToMap());
                markBatchSuccessful(startTimestampKeyedBatchElements, batch);
```

### DataFlowIssue
Argument `poolName` might be null
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
                    e);
        }
        return JMX.newMBeanProxy(mbeanServer, poolName, HikariPoolMXBean.class);
    }

```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
        switch (event.function()) {
            case RequestType.UNLOCK:
                return event.value().equals(OkEvent.UNLOCK_FAILURE);
            case RequestType.LOCK:
                return event.value().equals(OkEvent.LOCK_FAILURE);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
                return event.value().equals(OkEvent.UNLOCK_FAILURE);
            case RequestType.LOCK:
                return event.value().equals(OkEvent.LOCK_FAILURE);
            case RequestType.REFRESH:
                return event.value().equals(OkEvent.REFRESH_FAILURE);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
                return event.value().equals(OkEvent.LOCK_FAILURE);
            case RequestType.REFRESH:
                return event.value().equals(OkEvent.REFRESH_FAILURE);
            case RequestType.TIMESTAMP:
                return event.value().equals(OkEvent.TIMESTAMP_FAILURE);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
                return event.value().equals(OkEvent.REFRESH_FAILURE);
            case RequestType.TIMESTAMP:
                return event.value().equals(OkEvent.TIMESTAMP_FAILURE);
            default:
                return false;
```

### DataFlowIssue
Argument `previousEvent.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/MonotonicChecker.java`
#### Snippet
```java
            if (latestEventPerProcess.containsKey(process)) {
                OkEvent previousEvent = latestEventPerProcess.get(process);
                long previousTimestamp = Long.parseLong(previousEvent.value());
                long timestamp = Long.parseLong(event.value());
                if (timestamp <= previousTimestamp) {
```

### DataFlowIssue
Argument `event.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/MonotonicChecker.java`
#### Snippet
```java
                OkEvent previousEvent = latestEventPerProcess.get(process);
                long previousTimestamp = Long.parseLong(previousEvent.value());
                long timestamp = Long.parseLong(event.value());
                if (timestamp <= previousTimestamp) {
                    errors.add(previousEvent);
```

### DataFlowIssue
Argument `event.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/NonOverlappingReadsMonotonicChecker.java`
#### Snippet
```java
            OkEvent lastAcknowledgedRead = lastAcknowledgedReadBefore(invoke.time());
            if (lastAcknowledgedRead != null) {
                long timestamp = Long.parseLong(event.value());
                long lastAcknowledgedTimestamp = Long.parseLong(lastAcknowledgedRead.value());
                if (lastAcknowledgedTimestamp >= timestamp) {
```

### DataFlowIssue
Argument `lastAcknowledgedRead.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/NonOverlappingReadsMonotonicChecker.java`
#### Snippet
```java
            if (lastAcknowledgedRead != null) {
                long timestamp = Long.parseLong(event.value());
                long lastAcknowledgedTimestamp = Long.parseLong(lastAcknowledgedRead.value());
                if (lastAcknowledgedTimestamp >= timestamp) {
                    errors.add(lastAcknowledgedRead);
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AssertLockedKeyValueService.java`
#### Snippet
```java
                            .lockAsManyAsPossible()
                            .build();
                    LockRefreshToken lock = lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
                    Preconditions.checkArgument(lock == null, "these should already be held");
                }
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AssertLockedKeyValueService.java`
#### Snippet
```java
                            .doNotBlock()
                            .build();
                    LockRefreshToken lock = lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
                    Preconditions.checkArgument(lock != null, "these should already be waited for");
                }
```

### DataFlowIssue
Method invocation `getCells` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                }

                Map<Cell, byte[]> currentCells = Maps2.fromEntries(currentRow.getCells());
                if (writesByTable.get(table) != null) {
                    // We don't want to verify any reads that we wrote to cause
```

### DataFlowIssue
Unboxing of `Defaults.defaultValue(long.class)` may produce `NullPointerException`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorState.java`
#### Snippet
```java
            val = PaxosValue.hydrateFromProto(message.getLastAcceptedValue());
        }
        return new PaxosAcceptorState(pid, aid, val, Defaults.defaultValue(long.class));
    }

```

### DataFlowIssue
Unboxing of `Defaults.defaultValue(long.class)` may produce `NullPointerException`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorState.java`
#### Snippet
```java
        this.lastAcceptedId = null;
        this.lastAcceptedValue = null;
        this.version = Defaults.defaultValue(long.class);
    }

```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");
```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");
```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        long storedCommit = commitTimestamps.get(getStartTimestamp());
        if (storedCommit != commitTs && storedCommit != TransactionConstants.FAILED_COMMIT_TS) {
            Validate.isTrue(false, "Commit value is wrong. startTs %s  commitTs: %s", getStartTimestamp(), commitTs);
        }
        return storedCommit == commitTs;
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Cell cell = cellEntry.getKey();
            if (!writes.containsKey(cell)) {
                Validate.isTrue(false, "Missing write for cell: %s for table %s", cellToConflict.get(cell), table);
            }
            if (!conflictingValues.containsKey(cell)) {
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                // This error case could happen if our locks expired.
                throwIfPreCommitRequirementsNotMet(commitLocksToken, getStartTimestamp());
                Validate.isTrue(
                        false, "Missing conflicting value for cell: %s for table %s", cellToConflict.get(cell), table);
            }
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                // This error case could happen if our locks expired.
                throwIfPreCommitRequirementsNotMet(commitLocksToken, getStartTimestamp());
                Validate.isTrue(
                        false,
                        "Wrong timestamp for cell in table %s Expected: %s Actual: %s",
```

### DataFlowIssue
Argument `Containers.class.getResourceAsStream(configResource)` might be null
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
        try {
            File configFile = File.createTempFile("config", ".yml");
            IOUtils.copy(Containers.class.getResourceAsStream(configResource), new FileOutputStream(configFile));
            return configFile.getPath();
        } catch (IOException e) {
```

## RuleId[ruleID=DeprecatedIsStillUsed]
### DeprecatedIsStillUsed
Deprecated member 'getRandomBitCount' is still used
in `lock-api/src/main/java/com/palantir/lock/LockServerOptions.java`
#### Snippet
```java
    @SuppressWarnings("InlineMeSuggester")
    @Value.Default
    public int getRandomBitCount() {
        return Long.SIZE;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getMaxAllowedBlockingDuration' is still used
in `lock-api/src/main/java/com/palantir/lock/LockServerOptions.java`
#### Snippet
```java
    @SuppressWarnings("InlineMeSuggester")
    @Value.Default
    public TimeDuration getMaxAllowedBlockingDuration() {
        return SimpleTimeDuration.of(60, TimeUnit.SECONDS);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getInteger' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract int getInteger(int col) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getLongObject' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract Long getLongObject(int col) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getDoubleObject' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract Double getDoubleObject(int col) throws PalantirSqlException;

    @Deprecated // use the get by colname variant instead
```

### DeprecatedIsStillUsed
Deprecated member 'getLong' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    long getLong(int col) throws PalantirSqlException {
        return getLong(col, 0);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getDouble' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract double getDouble(int col) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getBlob' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
    @Override
    @Deprecated
    public abstract byte[] getBlob(int col, int blobLength) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getClobString' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract String getClobString(int col, int clobLength) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getDateTime' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    DateTime getDateTime(int col) throws PalantirSqlException {
        Object rawObj = ResultSets.getObject(results, col);
        if (rawObj == null) {
```

### DeprecatedIsStillUsed
Deprecated member 'getBinaryInputStream' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    InputStream getBinaryInputStream(int col) throws PalantirSqlException {
        return ResultSets.getBinaryStream(results, col);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'registerOrGetMeter' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/util/MetricsManager.java`
#### Snippet
```java
     */
    @Deprecated
    public Meter registerOrGetMeter(Class<?> clazz, String metricPrefix, String meterName) {
        return registerOrGetTaggedMeter(clazz, MetricRegistry.name(metricPrefix, meterName), Map.of());
    }
```

### DeprecatedIsStillUsed
Deprecated member 'batchSize' is still used
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            description =
                    "Sweeper row batch size. This option has been deprecated " + "in favor of --candidate-batch-hint")
    Integer batchSize;

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'cellBatchSize' is still used
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            name = {"--cell-batch-size"},
            description = "Sweeper cell batch size. This option has been deprecated " + "in favor of --read-limit")
    Integer cellBatchSize;

    @Option(
```

### DeprecatedIsStillUsed
Deprecated member 'TimeLockResource' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimeLockResource.java`
#### Snippet
```java
@Path("/{namespace: (?!(tl|lw)/)[a-zA-Z0-9_-]+}")
@Deprecated
public final class TimeLockResource {
    private final TimelockNamespaces namespaces;

```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticCollector' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java
 */
@Deprecated
public class LockDiagnosticCollector implements LockEvents {

    private static final SafeLogger log = SafeLoggerFactory.get(LockDiagnosticCollector.class);
```

### DeprecatedIsStillUsed
Deprecated member 'logLockDiagnosticInfo' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java
     */
    @Deprecated
    void logLockDiagnosticInfo() {
        lockDiagnosticInfoCollector.ifPresent(LockDiagnosticCollector::logCurrentState);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'registerLockImmutableTimestampRequest' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java
     */
    @Deprecated
    public void registerLockImmutableTimestampRequest(UUID requestId, long timestamp, AsyncResult<?> result) {
        registerRequest(ImmutableRequestInfo.of(requestId, Long.toString(timestamp), ImmutableSet.of()), result);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'forPersister' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
     */
    @Deprecated
    public static ColumnValueDescription forPersister(Class<? extends Persister<?>> clazz, Compression compression) {
        return new ColumnValueDescription(
                Format.PERSISTER, clazz.getName(), clazz.getCanonicalName(), compression, null);
```

### DeprecatedIsStillUsed
Deprecated member 'getPersister' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
     */
    @Deprecated
    public Persister<?> getPersister() {
        Preconditions.checkArgument(Format.PERSISTER == format);
        Class<?> importClass = getImportClass();
```

### DeprecatedIsStillUsed
Deprecated member 'forPersister' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
     */
    @Deprecated
    public static ColumnValueDescription forPersister(Class<? extends Persister<?>> clazz) {
        return forPersister(clazz, Compression.NONE);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'loadStream' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/GenericStreamStore.java`
#### Snippet
```java
     */
    @Deprecated
    InputStream loadStream(Transaction tx, ID id);

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'enableTimestampBatching' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimestampClientConfig.java`
#### Snippet
```java
    @SuppressWarnings("InlineMeSuggester")
    @Deprecated
    public boolean enableTimestampBatching() {
        return true;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepCellBatchSize' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepCellBatchSize();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepDeleteBatchHint' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepDeleteBatchHint();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepCandidateBatchHint' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepCandidateBatchHint();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepBatchSize' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepBatchSize();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepReadLimit' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepReadLimit();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'createLockAndTimestampServicesForCli' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
     */
    @Deprecated
    public static LockAndTimestampServices createLockAndTimestampServicesForCli(
            MetricsManager metricsManager,
            AtlasDbConfig config,
```

### DeprecatedIsStillUsed
Deprecated member 'maybeEnhancedLockLog' is still used
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java
     */
    @Deprecated
    private LockLog maybeEnhancedLockLog(Client client) {
        return Optional.ofNullable(lockDiagnosticConfig.get(client))
                .map(lockLog::withLockRequestDiagnosticCollection)
```

### DeprecatedIsStillUsed
Deprecated member 'lockDiagnosticConfig' is still used
in `timelock-agent/src/main/java/com/palantir/timelock/config/TimeLockInstallConfiguration.java`
#### Snippet
```java
    @Deprecated
    @JsonProperty("lock-diagnostic-config")
    Map<Client, LockDiagnosticConfig> lockDiagnosticConfig();

    @Value.Default
```

### DeprecatedIsStillUsed
Deprecated member 'registerForCleanup' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
     */
    @Deprecated
    private static void registerForCleanup(SoftCache<?, ?> cache) {
        cacheQueue.add(new WeakReference<SoftCache<?, ?>>(cache));
    }
```

### DeprecatedIsStillUsed
Deprecated member 'MutuallyExclusiveSetLock' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     */
    @Deprecated
    public MutuallyExclusiveSetLock() {
        this(false);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'MutuallyExclusiveSetLock' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     */
    @Deprecated
    public MutuallyExclusiveSetLock(boolean fair) {
        this(fair, null);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'MutuallyExclusiveSetLock' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     */
    @Deprecated
    public MutuallyExclusiveSetLock(boolean fair, Comparator<? super T> comparator) {
        this.fair = fair;
        this.comparator = comparator;
```

### DeprecatedIsStillUsed
Deprecated member 'compressBlocksInDb' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamStoreDefinitionBuilder.java`
#### Snippet
```java
     */
    @Deprecated
    public StreamStoreDefinitionBuilder compressBlocksInDb() {
        streamTables.forEach((tableName, streamTableBuilder) -> streamTableBuilder.compressBlocksInDb());
        return this;
```

### DeprecatedIsStillUsed
Deprecated member 'fromInternalTableName' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/TableReference.java`
#### Snippet
```java
     */
    @Deprecated
    public static TableReference fromInternalTableName(String tableName) {
        if (tableName.startsWith("_")) {
            return createWithEmptyNamespace(tableName);
```

### DeprecatedIsStillUsed
Deprecated member 'sweepReadThreads' is still used
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java
     */
    @Deprecated
    Optional<Integer> sweepReadThreads();

    Optional<CassandraJmxCompactionConfig> jmx();
```

### DeprecatedIsStillUsed
Deprecated member 'mutationBatchSizeBytes' is still used
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java
     */
    @Deprecated
    Optional<Integer> mutationBatchSizeBytes();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'runTaskWithConditionWithRetry' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    @Deprecated
    @Timed
    default <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            com.google.common.base.Supplier<C> guavaSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        Supplier<C> javaSupplier = guavaSupplier;
```

### DeprecatedIsStillUsed
Deprecated member 'runTaskWithLocksWithRetry' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    @Deprecated
    @Timed
    default <T, E extends Exception> T runTaskWithLocksWithRetry(
            com.google.common.base.Supplier<LockRequest> guavaSupplier, LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException, LockAcquisitionException {
```

### DeprecatedIsStillUsed
Deprecated member 'runTaskWithLocksWithRetry' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    @Deprecated
    @Timed
    default <T, E extends Exception> T runTaskWithLocksWithRetry(
            Iterable<HeldLocksToken> lockTokens,
            com.google.common.base.Supplier<LockRequest> guavaSupplier,
```

### DeprecatedIsStillUsed
Deprecated member 'withArgs' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArgs(Object arg1, Object arg2, Object arg3) {
        this.args.add(arg1);
        this.args.add(arg2);
```

### DeprecatedIsStillUsed
Deprecated member 'withArgs' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArgs(Object arg1, Object arg2) {
        this.args.add(arg1);
        this.args.add(arg2);
```

### DeprecatedIsStillUsed
Deprecated member 'withArgs' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArgs(Iterable<?> newArgs) {
        Iterables.addAll(args, newArgs);
        return this;
```

### DeprecatedIsStillUsed
Deprecated member 'withArg' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArg(Object arg) {
        this.args.add(arg);
        return this;
```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticConfig' is still used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LockDiagnosticConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableLockDiagnosticConfig.class)
@JsonSerialize(as = ImmutableLockDiagnosticConfig.class)
public interface LockDiagnosticConfig {

    @JsonProperty("maximum-size")
```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticConjureTimelockService' is still used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LockDiagnosticConjureTimelockService.java`
#### Snippet
```java
 */
@Deprecated
public class LockDiagnosticConjureTimelockService implements ConjureTimelockService {
    private final ConjureTimelockService conjureDelegate;
    private final ClientLockDiagnosticCollector lockDiagnosticCollector;
```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticComponents' is still used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LockDiagnosticComponents.java`
#### Snippet
```java
@Deprecated
@Value.Immutable
public interface LockDiagnosticComponents {
    ClientLockDiagnosticCollector clientLockDiagnosticCollector();

```

## RuleId[ruleID=RedundantComparatorComparing]
### RedundantComparatorComparing
'Entry.comparingByValue()' can be used instead
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TopNMetricPublicationController.java`
#### Snippet
```java
                .filter(Objects::nonNull)
                .entries()
                .sorted(Comparator.comparing(Map.Entry::getValue, comparator.reversed()))
                .limit(maxPermittedRank)
                .map(Map.Entry::getKey)
```

### RedundantComparatorComparing
'Entry.comparingByKey()' can be used instead
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/CellsSweeper.java`
#### Snippet
```java
    private String getMessage(Multimap<Cell, Long> cellTsPairsToSweep) {
        return cellTsPairsToSweep.entries().stream()
                .sorted(Comparator.comparing(Map.Entry::getKey))
                .map(entry -> entry.getKey().toString() + "->" + entry.getValue())
                .collect(Collectors.joining(", ", "[", "]"));
```

### RedundantComparatorComparing
'Entry.comparingByKey()' can be used instead
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                        localWrites,
                        remoteWrites,
                        Comparator.comparing(Map.Entry::getKey, cellComparator),
                        com.palantir.util.Pair::getLhSide),
                remoteWrites);
```

### RedundantComparatorComparing
'Entry.comparingByKey()' can be used instead
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    protected static <V> Iterator<Map.Entry<Cell, V>> mergeByComparator(
            Iterable<? extends Iterator<Map.Entry<Cell, V>>> iterators, Comparator<Cell> cellComparator) {
        Comparator<Map.Entry<Cell, V>> comp = Comparator.comparing(Map.Entry::getKey, cellComparator);
        return Iterators.mergeSorted(iterators, comp);
    }
```

## RuleId[ruleID=RedundantCollectionOperation]
### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsKey()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java

        List<String> uncompactedTables = tableToLastTimeSwept.keySet().stream()
                .filter(table -> !tableToLastTimeCompacted.keySet().contains(table))
                .collect(Collectors.toList());

```

## RuleId[ruleID=AbstractMethodCallInConstructor]
### AbstractMethodCallInConstructor
Call to 'abstract' method `defaultConflictHandler()` during object construction
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/AbstractDefinition.java`
#### Snippet
```java

    CachePriority cachePriority = CachePriority.WARM;
    ConflictHandler conflictHandler = defaultConflictHandler();
    SweepStrategy sweepStrategy = SweepStrategy.CONSERVATIVE;
    boolean ignoreHotspottingChecks = false;
```

## RuleId[ruleID=NonSerializableFieldInSerializableClass]
### NonSerializableFieldInSerializableClass
Non-serializable field 'clients' in a Serializable class
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerSync.java`
#### Snippet
```java
    private static final long serialVersionUID = 1L;

    private final LockClientIndices clients;
    private @GuardedBy("this") boolean frozen;
    private @GuardedBy("this") int writeLockHolder = 0;
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'currentTrace' in a Serializable class
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/profiler/SimpleSqlProfiler.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(SimpleSqlProfiler.class);

    private final ExecutorInheritableThreadLocal<ConcurrentMap<String, SqlCallStats>> currentTrace =
            new ExecutorInheritableThreadLocal<ConcurrentMap<String, SqlCallStats>>();

```

### NonSerializableFieldInSerializableClass
Non-serializable field 'conflictingTable' in a Serializable class
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionSerializableConflictException.java`
#### Snippet
```java
    private static final long serialVersionUID = 1L;

    private final TableReference conflictingTable;

    public TransactionSerializableConflictException(String message, TableReference conflictingTable) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'conflictingTable' in a Serializable class
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionConflictException.java`
#### Snippet
```java
    private final ImmutableList<CellConflict> spanningWrites;
    private final ImmutableList<CellConflict> dominatingWrites;
    private final TableReference conflictingTable;

    /**
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'strategy' in a Serializable class
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
        EXPONENTIAL(createExponential(BlockStrategies.threadSleepStrategy(), new Random()));

        private final TransactionRetryStrategy strategy;

        Strategies(TransactionRetryStrategy strategy) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'serviceHint' in a Serializable class
in `atlasdb-commons/src/main/java/com/palantir/common/remoting/ServiceNotAvailableException.java`
#### Snippet
```java
    private static final long serialVersionUID = 2L;

    private final Optional<HostAndPort> serviceHint;

    public ServiceNotAvailableException(String message, Throwable cause, HostAndPort serviceHint) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellSerializer.java`
#### Snippet
```java
public class TableCellSerializer extends StdSerializer<TableCell> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    public TableCellSerializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellValSerializer.java`
#### Snippet
```java
public class TableCellValSerializer extends StdSerializer<TableCellVal> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    public TableCellValSerializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeDeserializer.java`
#### Snippet
```java
public class TableRangeDeserializer extends StdDeserializer<TableRange> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    protected TableRangeDeserializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultDeserializer.java`
#### Snippet
```java
public class TableRowResultDeserializer extends StdDeserializer<TableRowResult> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    protected TableRowResultDeserializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowSelectionSerializer.java`
#### Snippet
```java
public class TableRowSelectionSerializer extends StdSerializer<TableRowSelection> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    public TableRowSelectionSerializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellDeserializer.java`
#### Snippet
```java
public class TableCellDeserializer extends StdDeserializer<TableCell> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    protected TableCellDeserializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeSerializer.java`
#### Snippet
```java
public class TableRangeSerializer extends StdSerializer<TableRange> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    public TableRangeSerializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellValDeserializer.java`
#### Snippet
```java
public class TableCellValDeserializer extends StdDeserializer<TableCellVal> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    protected TableCellValDeserializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultSerializer.java`
#### Snippet
```java
public class TableRowResultSerializer extends StdSerializer<TableRowResult> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    public TableRowResultSerializer(TableMetadataCache metadataCache) {
```

### NonSerializableFieldInSerializableClass
Non-serializable field 'metadataCache' in a Serializable class
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowSelectionDeserializer.java`
#### Snippet
```java
public class TableRowSelectionDeserializer extends StdDeserializer<TableRowSelection> {
    private static final long serialVersionUID = 1L;
    private final TableMetadataCache metadataCache;

    protected TableRowSelectionDeserializer(TableMetadataCache metadataCache) {
```

## RuleId[ruleID=MismatchedJavadocCode]
### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java

    /**
     * Returns true if at least one row comes back for the provided Otherwise, returns false.
     */
    long selectCount(Connection c, String tableName) throws PalantirSqlException, PalantirInterruptedException {
```

### MismatchedJavadocCode
Method is specified to return set but the return type is array
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
     * Returns a set of interfaces implemented by a collection of classes.
     *
     * @return the set of interfaces for the specified classes
     * @throws IllegalArgumentException if the specified iface is not an interface
     */
```

### MismatchedJavadocCode
Method is specified to return set but the return type is array
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
     * additionalInterfaces set.
     *
     * @return the set of interfaces for the specified classes
     * @throws IllegalArgumentException if the specified iface is not an interface
     */
```

### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java

    /**
     * Returns true iff the component has an explicit partitioner.
     *
     * NB: a component can have both an explicit partitioner and a uniform partitioner
```

## RuleId[ruleID=CatchMayIgnoreException]
### CatchMayIgnoreException
'catch' parameter named `ignored` is used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            try {
                ps.close();
            } catch (SQLException ignored) {
                SqlLoggers.SQL_EXCEPTION_LOG.info("Caught ignored SQLException", ignored);
                SqlLoggers.LOGGER.error("ignored sql exception on preparedStatement close", ignored); // $NON-NLS-1$
```

## RuleId[ruleID=AssignmentToForLoopParameter]
### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            if (ch == '\\') {
                if (i + 1 < array.length) {
                    ++i;
                    ch = array[i];
                    switch (ch) {
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                            // read the next 4 chars
                            if (i + 4 < array.length) {
                                ++i;
                                int code = Integer.parseInt(new String(array, i, 4), 16);
                                // this cast is safe because we know how many chars we read
```

### AssignmentToForLoopParameter
Assignment to for-loop parameter `i`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                                // this cast is safe because we know how many chars we read
                                builder.append((char) code);
                                i += 3;
                            } else {
                                throw new InvalidEscapeSequence("Invalid escape sequence: '\\u' at end of string.");
```

## RuleId[ruleID=UnnecessaryToStringCall]
### UnnecessaryToStringCall
Unnecessary `toString()` call
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
        } else {
            throw new IllegalArgumentException(
                    "Method should be not be invoked directly on proxyObject: " + method.toString());
        }
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java`
#### Snippet
```java
                .resolve(client.value());
        Path learnerLogDir = Paths.get(legacyDir.toString(), PaxosTimeLockConstants.LEARNER_SUBDIRECTORY_PATH);
        String learnerUseCase = String.format("%s!learner", paxosUseCase.toString());
        return ImmutablePaxosStorageParameters.builder()
                .fileBasedLogDirectory(learnerLogDir.toString())
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java`
#### Snippet
```java
                .resolve(client.value());
        Path acceptorLogDir = Paths.get(legacyDir.toString(), PaxosTimeLockConstants.ACCEPTOR_SUBDIRECTORY_PATH);
        String acceptorUseCase = String.format("%s!acceptor", paxosUseCase.toString());
        return ImmutablePaxosStorageParameters.builder()
                .fileBasedLogDirectory(acceptorLogDir.toString())
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameMetadataDescription.java`
#### Snippet
```java
            throw new IllegalArgumentException("This name has extra trailing bytes: "
                    + Cells.getNameFromBytes(PtBytes.tail(name, offset))
                    + " trailing " + sb.toString());
        }
        sb.append("}");
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
    @Override
    public synchronized String toString() {
        return "SoftCache named " + getName() + ": " + cacheEntries.values().toString();
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
        public Object call() {
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/TimeLockServerLauncher.java`
#### Snippet
```java
    public void initialize(Bootstrap<CombinedTimeLockServerConfiguration> bootstrap) {
        MetricRegistry metricRegistry = SharedMetricRegistries.getOrCreate(
                "AtlasDbTest" + UUID.randomUUID().toString());
        bootstrap.setMetricRegistry(metricRegistry);
        bootstrap.setObjectMapper(ObjectMappers.newServerObjectMapper());
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
        for (StackTraceElement element : stackTrace) {
            if (element.getClassName().contains(filter)) {
                sb.append(element.toString()).append("\n");
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
                        + " above, then they may have never joined the cluster. Verify your configuration is correct"
                        + " and that the nodes specified in the config are up and joined the cluster. %s",
                unsafeSchemaChangeDescription, schemaVersions.toString(), clusterNodes);
        throw new IllegalStateException(errorMessage);
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
            currentState.append(String.format(
                    "POOL STATUS: Current blacklist = %s,%n current hosts in pool = %s%n",
                    blacklist.describeBlacklistedHosts(), currentPools.keySet().toString()));
            for (Map.Entry<CassandraServer, CassandraClientPoolingContainer> entry : currentPools.entrySet()) {
                int activeCheckouts = entry.getValue().getActiveCheckouts();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/CellsSweeper.java`
#### Snippet
```java
        return cellTsPairsToSweep.entries().stream()
                .sorted(Comparator.comparing(Map.Entry::getKey))
                .map(entry -> entry.getKey().toString() + "->" + entry.getValue())
                .collect(Collectors.joining(", ", "[", "]"));
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceMigratorUtils.java`
#### Snippet
```java
        PrintWriter writer = new PrintWriter(result);
        ex.printStackTrace(writer); // (authorized)
        return string + "\n" + result.toString();
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `leader-election-impl/src/main/java/com/palantir/paxos/SqliteConnections.java`
#### Snippet
```java
        createDirectoryIfNotExists(path);
        String target = String.format(
                "jdbc:sqlite:%s", path.resolve(DEFAULT_SQLITE_DATABASE_NAME).toString());

        SQLiteConfig config = new SQLiteConfig();
```

## RuleId[ruleID=StringEqualsEmptyString]
### StringEqualsEmptyString
`equals("")` can be replaced with 'isEmpty()'
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
     */
    public static String pluralize(String text) {
        if (text == null || "".equals(text)) {
            return "";
        }
```

## RuleId[ruleID=UnnecessaryBoxing]
### UnnecessaryBoxing
Unnecessary boxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
            return null;
        }
        return Double.valueOf((double) getLong(col));
    }

```

### UnnecessaryBoxing
Unnecessary boxing
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
            return null;
        }
        return Long.valueOf(getLong(col));
    }

```

## RuleId[ruleID=ConditionCoveredByFurtherCondition]
### ConditionCoveredByFurtherCondition
Condition 'value != null' covered by subsequent condition 'value instanceof Keyword'
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/Event.java`
#### Snippet
```java
        Map<String, Object> convertedMap = KeyedStream.stream(encodedMap)
                .mapKeys(Keyword::getName)
                .map(value -> value != null && value instanceof Keyword ? ((Keyword) value).getName() : value)
                .collectToMap();
        return OBJECT_MAPPER.convertValue(convertedMap, Event.class);
```

## RuleId[ruleID=UnnecessaryFullyQualifiedName]
### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.persist.api` is unnecessary, and can be replaced with an import
in `examples/profile-client/src/main/java/com/palantir/example/profile/schema/CreationData.java`
#### Snippet
```java
    }

    public static class Persister implements com.palantir.atlasdb.persist.api.ReusablePersister<CreationData> {
        @Override
        public Class<CreationData> getPersistingClassType() {
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `examples/profile-client/src/main/java/com/palantir/example/profile/ProfileStore.java`
#### Snippet
```java
    public void updateImage(UUID userId, Sha256Hash hash, InputStream imageData) {
        UserProfile userData = getUserData(userId);
        com.palantir.logsafe.Preconditions.checkNotNull(userData, "userData cannot be null");

        UserPhotosStreamStore streamStore = UserPhotosStreamStore.of(txnMgr, tables);
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.keyvalue.dbkvs.impl` is unnecessary and can be removed
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/CaseSensitivity.java`
#### Snippet
```java

/**
 * Defines the deletion method for {@link com.palantir.atlasdb.keyvalue.dbkvs.impl.DbDdlTable#drop(CaseSensitivity)}.
 */
public enum CaseSensitivity {
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.keyvalue.api` is unnecessary and can be removed
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

    /**
     * @see com.palantir.atlasdb.keyvalue.api.KeyValueService#multiPut(java.util.Map, long)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `java.util` is unnecessary and can be removed
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

    /**
     * @see com.palantir.atlasdb.keyvalue.api.KeyValueService#multiPut(java.util.Map, long)
     */
    @Override
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Sha256Hash);
            return 32;
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value == null || value instanceof Long);
            return EncodingUtils.encodeNullableFixedLong((Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof String);
            return EncodingUtils.sizeOfVarString((String) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public java.util.UUID convertToJava(byte[] value, int offset) {
            com.palantir.logsafe.Preconditions.checkArgument(
                    offset + 16 <= value.length, "Field does not contain enough remaining bytes to hold a UUID");
            return EncodingUtils.decodeUUID(value, offset);
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof byte[]);
            // This value doesn't matter because blob is always the last thing
            return 0;
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof byte[]);
            return (byte[]) value;
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return EncodingUtils.sizeOfSignedVarLong((Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value == null || value instanceof java.util.UUID);
            return EncodingUtils.encodeUUID((java.util.UUID) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof String);
            // This value doesn't matter because string is always the last thing
            return 0;
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return PtBytes.toBytes(Long.MIN_VALUE ^ (Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return EncodingUtils.encodeSignedVarLong((Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof String);
            return PtBytes.toBytes((String) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return 8;
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Sha256Hash);
            return ((Sha256Hash) value).getBytes();
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof byte[]);
            return EncodingUtils.encodeSizedBytes((byte[]) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return EncodingUtils.sizeOfUnsignedVarLong((Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return 8;
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof byte[]);
            return EncodingUtils.sizeOfSizedBytes((byte[]) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return EncodingUtils.encodeUnsignedVarLong((Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public int sizeOf(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value == null || value instanceof Long);
            return 9;
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof String);
            return EncodingUtils.encodeVarString((String) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        @Override
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value instanceof Long);
            return EncodingUtils.encodeLittleEndian((Long) value);
        }
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.tracing` is unnecessary and can be removed
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java

/**
 * Wraps a {@link KeyValueService}'s methods with {@link com.palantir.tracing.Tracer}
 * instrumentation.
 */
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.conjure.java.api.config.service` is unnecessary and can be removed
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/AtlasDbDialogueServiceProvider.java`
#### Snippet
```java
 * <p>
 * Proxies must be resilient to servers repeatedly returning 308s that are large in number, but persist for only a short
 * duration. Furthermore, proxies should include in their {@link com.palantir.conjure.java.api.config.service.UserAgent}
 * information to allow client services to identify the protocol they are using to talk, via {@link
 * AtlasDbHttpProtocolVersion}.
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.conjure.java.api.config.service` is unnecessary and can be removed
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/BroadcastDialogueClientFactory.java`
#### Snippet
```java
 * zero or more nodes, where contacting any of the nodes is legitimate (subject to redirects via 308s and 503s).
 *
 * Furthermore, proxies should include in their {@link com.palantir.conjure.java.api.config.service.UserAgent}
 * information to allow client services to identify the protocol they are using to talk, via
 * {@link AtlasDbHttpProtocolVersion}.
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.dialogue.clients` is unnecessary and can be removed
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java

    /**
     * If set, a {@link com.palantir.dialogue.clients.DialogueClients.ReloadingFactory} that a
     * {@link com.palantir.atlasdb.transaction.api.TransactionManager} based on this configuration should use.
     * This may be useful for ensuring that connection pools are shared between multiple TransactionManagers in
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.transaction.api` is unnecessary and can be removed
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
    /**
     * If set, a {@link com.palantir.dialogue.clients.DialogueClients.ReloadingFactory} that a
     * {@link com.palantir.atlasdb.transaction.api.TransactionManager} based on this configuration should use.
     * This may be useful for ensuring that connection pools are shared between multiple TransactionManagers in
     * the same JVM.
```

### UnnecessaryFullyQualifiedName
Qualifier `ch.qos.logback.core.spi` is unnecessary, and can be replaced with an import
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/logging/NonBlockingFileAppenderFactory.java`
#### Snippet
```java
 */
@JsonTypeName("non-blocking-file")
public class NonBlockingFileAppenderFactory<E extends ch.qos.logback.core.spi.DeferredProcessingAware>
        extends FileAppenderFactory<E> {

```

### UnnecessaryFullyQualifiedName
Qualifier `ch.qos.logback.core` is unnecessary, and can be replaced with an import
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/logging/NonBlockingFileAppenderFactory.java`
#### Snippet
```java

    @Override
    public ch.qos.logback.core.Appender<E> build(
            ch.qos.logback.classic.LoggerContext context,
            String applicationName,
```

### UnnecessaryFullyQualifiedName
Qualifier `ch.qos.logback.classic` is unnecessary, and can be replaced with an import
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/logging/NonBlockingFileAppenderFactory.java`
#### Snippet
```java
    @Override
    public ch.qos.logback.core.Appender<E> build(
            ch.qos.logback.classic.LoggerContext context,
            String applicationName,
            LayoutFactory<E> layoutFactory,
```

### UnnecessaryFullyQualifiedName
Qualifier `ch.qos.logback.core` is unnecessary, and can be replaced with an import
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/logging/NonBlockingFileAppenderFactory.java`
#### Snippet
```java
            LevelFilterFactory<E> levelFilterFactory,
            AsyncAppenderFactory<E> asyncAppenderFactory) {
        ch.qos.logback.core.Appender<E> appender =
                super.build(context, applicationName, layoutFactory, levelFilterFactory, asyncAppenderFactory);

```

### UnnecessaryFullyQualifiedName
Qualifier `ch.qos.logback.core` is unnecessary, and can be replaced with an import
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/logging/NonBlockingFileAppenderFactory.java`
#### Snippet
```java

        Preconditions.checkState(
                appender instanceof ch.qos.logback.core.AsyncAppenderBase,
                "The Dropwizard logging factory returned an unexpected appender type. "
                        + "NonBlockingFileAppenderFactory requires an async appender to set the neverBlock "
```

### UnnecessaryFullyQualifiedName
Qualifier `ch.qos.logback.core` is unnecessary, and can be replaced with an import
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/logging/NonBlockingFileAppenderFactory.java`
#### Snippet
```java
                        + "property.",
                SafeArg.of("appenderClass", appender.getClass()));
        ((ch.qos.logback.core.AsyncAppenderBase<?>) appender).setNeverBlock(true);

        return appender;
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.common.base` is unnecessary, and can be replaced with an import
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
                throw context.timeoutHandler().handle(e);
            } catch (ExecutionException | UncheckedExecutionException e) {
                throw com.palantir.common.base.Throwables.throwCauseAsUnchecked(e);
            }
        };
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.common.base` is unnecessary, and can be replaced with an import
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
                throw context.timeoutHandler().handle(e);
            } catch (UncheckedExecutionException e) {
                throw com.palantir.common.base.Throwables.throwCauseAsUnchecked(e);
            }
        };
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.keyvalue.cassandra` is unnecessary and can be removed
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
    /**
     * Validates new servers to add to the cassandra client container pool,
     * by checking them with the {@link com.palantir.atlasdb.keyvalue.cassandra.CassandraTopologyValidator}.
     * If any servers come back and are not in consensus this is OK, we will simply add them to the absent host
     * tracker, as we most likely will retry this host in subsequent calls.
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java

        short shouldBeZero = composite.getShort();
        com.palantir.logsafe.Preconditions.checkArgument(shouldBeZero == 0);

        byte shouldBe8 = composite.get();
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.logsafe` is unnecessary, and can be replaced with an import
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java

        byte shouldBe8 = composite.get();
        com.palantir.logsafe.Preconditions.checkArgument(shouldBe8 == 8);
        long ts = composite.getLong();

```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.sweep.queue` is unnecessary and can be removed
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/config/TargetedSweepRuntimeConfig.java`
#### Snippet
```java
     * exceed. This value must not exceed {@link SweepQueueUtils#MAX_CELLS_DEDICATED}.
     *
     * Must be less than or equal to {@link com.palantir.atlasdb.sweep.queue.SweepQueueUtils#SWEEP_BATCH_SIZE}
     */
    @Default
```

### UnnecessaryFullyQualifiedName
Qualifier `io.vavr.collection` is unnecessary, and can be replaced with an import
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValueStoreImpl.java`
#### Snippet
```java
    static final int CACHE_OVERHEAD = 128;

    private final StructureHolder<io.vavr.collection.Map<CellReference, CacheEntry>> values;
    private final StructureHolder<io.vavr.collection.Set<TableReference>> watchedTables;
    private final Set<TableReference> allowedTables;
```

### UnnecessaryFullyQualifiedName
Qualifier `com.palantir.atlasdb.transaction.impl.expectations` is unnecessary and can be removed
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/BytesReadTracker.java`
#### Snippet
```java
/**
 * Allows lazy Atlas KVS calls to record bytes read as they come in for tracking purposes.
 * See {@link com.palantir.atlasdb.transaction.impl.expectations.TrackingIterator} for a use case.
 */
@FunctionalInterface
```

## RuleId[ruleID=RegExpSingleCharAlternation]
### RegExpSingleCharAlternation
Single character alternation in RegExp
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            String result = currentToken;
            // Need to clean-up result to remove quotes of any kind
            result = result.replaceAll("\"|'", "");
            nextToken();
            return result;
```

## RuleId[ruleID=ReplaceNullCheck]
### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElse()'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
        if (newOption != null) {
            return newOption;
        } else if (oldOption != null) {
            return oldOption;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IteratorUtils.java`
#### Snippet
```java
        Preconditions.checkNotNull(predicate);
        final Visitor<? super T> actualPassVisitor;
        if (passVisitor != null) {
            actualPassVisitor = passVisitor;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IteratorUtils.java`
#### Snippet
```java
        }
        final Visitor<? super T> actualFailVisitor;
        if (failVisitor != null) {
            actualFailVisitor = failVisitor;
        } else {
```

### ReplaceNullCheck
'if' statement can be replaced with call to 'Objects.requireNonNullElseGet()'
in `leader-election-impl/src/main/java/com/palantir/leader/LeaderElectionServiceBuilder.java`
#### Snippet
```java

    private PaxosLatestRoundVerifier latestRoundVerifier() {
        if (latestRoundVerifier == null) {
            return new CoalescingPaxosLatestRoundVerifier(new PaxosLatestRoundVerifierImpl(acceptorClient()));
        } else {
```

## RuleId[ruleID=UnnecessaryContinue]
### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            if (tokenizer.tryConsume(",")) {
                // there are more fields in the object, so continue
                continue;
            }
        }
```

## RuleId[ruleID=ThrowableNotThrown]
### ThrowableNotThrown
Result of `rewrapAndThrowUncheckedException()` not thrown
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleDdlTable.java`
#### Snippet
```java
                }
            } catch (TableMappingNotFoundException e) {
                Throwables.rewrapAndThrowUncheckedException(
                        "Unable to alter table to have overflow column due to a table mapping error.", e);
            }
```

### ThrowableNotThrown
Result of `throwUncheckedException()` not thrown
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
            }
        } catch (InterruptedException e) {
            Throwables.throwUncheckedException(e);
        } catch (ExecutionException e) {
            Throwables.throwUncheckedException(e.getCause());
```

### ThrowableNotThrown
Result of `throwUncheckedException()` not thrown
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
            Throwables.throwUncheckedException(e);
        } catch (ExecutionException e) {
            Throwables.throwUncheckedException(e.getCause());
        }
    }
```

### ThrowableNotThrown
Result of `throwUncheckedException()` not thrown
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterators.java`
#### Snippet
```java
                    closable.close();
                } catch (IOException e) {
                    Throwables.throwUncheckedException(e);
                }
            }
```

### ThrowableNotThrown
Result of `throwUncheckedException()` not thrown
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterators.java`
#### Snippet
```java
                        onClose.close();
                    } catch (IOException e) {
                        Throwables.throwUncheckedException(e);
                    }
                }
```

## RuleId[ruleID=EqualsWhichDoesntCheckParameterClass]
### EqualsWhichDoesntCheckParameterClass
`equals()` should check the class of its parameter
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java

    @Override
    public boolean equals(Object obj) {
        return delegate().equals(obj);
    }
```

## RuleId[ruleID=TestCaseWithNoTestMethods]
### TestCaseWithNoTestMethods
Test class `InMemoryTimelockServices` has no tests
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimelockServices.java`
#### Snippet
```java
import org.junit.rules.TemporaryFolder;

public final class InMemoryTimelockServices extends ExternalResource implements TimeLockServices, Closeable {
    private static final String USER_AGENT_NAME = "user-agent";
    private static final String USER_AGENT_VERSION = "3.1415926.5358979";
```

