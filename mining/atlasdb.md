# atlasdb 
 
# Bad smells
I found 2727 bad smells with 47 repairable:
| ruleID | number | fixable |
| --- | --- | --- |
| NullableProblems | 405 | false |
| Deprecation | 350 | false |
| UnstableApiUsage | 312 | false |
| OptionalUsedAsFieldOrParameterType | 226 | false |
| BlockingMethodInNonBlockingContext | 186 | false |
| AutoCloseableResource | 157 | false |
| DataFlowIssue | 148 | false |
| DefaultAnnotationParam | 146 | false |
| FieldMayBeFinal | 96 | false |
| DuplicatedCode | 87 | false |
| OptionalGetWithoutIsPresent | 60 | false |
| TrivialIf | 56 | false |
| DeprecatedIsStillUsed | 49 | false |
| ConstantValue | 46 | false |
| JavadocReference | 43 | false |
| SimplifyOptionalCallChains | 41 | false |
| RedundantTypeArguments | 30 | false |
| UnnecessarySemicolon | 21 | false |
| FieldCanBeLocal | 19 | false |
| UNCHECKED_WARNING | 17 | false |
| CStyleArrayDeclaration | 15 | false |
| JavadocLinkAsPlainText | 15 | false |
| UnnecessaryLocalVariable | 15 | true |
| UnnecessaryToStringCall | 13 | true |
| IgnoreResultOfCall | 11 | false |
| RedundantMethodOverride | 10 | false |
| TrivialStringConcatenation | 8 | false |
| UnusedAssignment | 8 | false |
| UnnecessaryStringEscape | 7 | true |
| DanglingJavadoc | 7 | false |
| RegExpRedundantEscape | 6 | false |
| StringConcatenationInsideStringBufferAppend | 6 | false |
| EmptyStatementBody | 4 | false |
| RedundantArrayCreation | 4 | true |
| UnnecessaryReturn | 4 | true |
| MismatchedCollectionQueryUpdate | 4 | false |
| MismatchedJavadocCode | 4 | false |
| JavadocDeclaration | 4 | false |
| BusyWait | 4 | false |
| RegExpSimplifiable | 3 | false |
| StringBufferReplaceableByString | 3 | false |
| AccessStaticViaInstance | 3 | false |
| PointlessBitwiseExpression | 3 | false |
| NonAtomicOperationOnVolatileField | 3 | false |
| SimplifyStreamApiCallChains | 3 | false |
| RedundantComparatorComparing | 3 | false |
| CollectionAddAllCanBeReplacedWithConstructor | 3 | false |
| SuspiciousMethodCalls | 3 | false |
| ThrowableNotThrown | 3 | false |
| ToArrayCallWithZeroLengthArrayArgument | 2 | true |
| DuplicateBranchesInSwitch | 2 | false |
| SimplifiableConditionalExpression | 2 | false |
| ExplicitArrayFilling | 2 | false |
| OptionalAssignedToNull | 2 | false |
| JUnitMalformedDeclaration | 2 | false |
| DuplicateThrows | 2 | false |
| RedundantStringFormatCall | 2 | false |
| RedundantCast | 2 | false |
| SynchronizationOnLocalVariableOrMethodParameter | 2 | false |
| NewClassNamingConvention | 2 | false |
| PointlessBooleanExpression | 2 | true |
| WrapperTypeMayBePrimitive | 1 | false |
| ConditionalBreakInInfiniteLoop | 1 | false |
| StaticInitializerReferencesSubClass | 1 | false |
| CommentedOutCode | 1 | false |
| AssertWithSideEffects | 1 | false |
| EmptySynchronizedStatement | 1 | false |
| ManualMinMaxCalculation | 1 | false |
| ThrowFromFinallyBlock | 1 | false |
| IfStatementWithIdenticalBranches | 1 | false |
| InfiniteLoopStatement | 1 | false |
| OptionalIsPresent | 1 | false |
| RedundantOperationOnEmptyContainer | 1 | false |
| ManualArrayToCollectionCopy | 1 | false |
| PlaceholderCountMatchesArgumentCount | 1 | false |
| RedundantCollectionOperation | 1 | false |
| SwitchStatementWithTooFewBranches | 1 | false |
| CollectionContainsUrl | 1 | false |
| CatchMayIgnoreException | 1 | false |
| RegExpUnexpectedAnchor | 1 | false |
| SwitchStatementWithConfusingDeclaration | 1 | false |
| CharsetObjectCanBeUsed | 1 | false |
| ConditionCoveredByFurtherCondition | 1 | false |
| EmptyInitializer | 1 | false |
| RegExpSingleCharAlternation | 1 | false |
| UnnecessaryContinue | 1 | false |
| PrimitiveArrayArgumentToVariableArgMethod | 1 | false |
| ArraysAsListWithZeroOrOneArgument | 1 | false |
| EqualsWhichDoesntCheckParameterClass | 1 | false |
| UseBulkOperation | 1 | false |
## RuleId[id=ToArrayCallWithZeroLengthArrayArgument]
### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Class\[interfaces.size()\]'
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java

        checkAreAllInterfaces(interfaces);
        return interfaces.toArray(new Class<?>[interfaces.size()]);
    }

```

### ToArrayCallWithZeroLengthArrayArgument
Call to `toArray()` with pre-sized array argument 'new Object\[argList.size()\]'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java
        public synchronized void close() {
            if (!isClosed) {
                sink.log(String.join(DELIMITER, formatElements), argList.toArray(new Object[argList.size()]));
            }
            isClosed = true;
```

## RuleId[id=WrapperTypeMayBePrimitive]
### WrapperTypeMayBePrimitive
Type may be primitive
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
    @Override
    public double getStandardDeviationInMillis() {
        Double count = (double) totalCalls;
        if (count == 0) {
            return 0;
```

## RuleId[id=ConditionalBreakInInfiniteLoop]
### ConditionalBreakInInfiniteLoop
Conditional break inside loop
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            throw new SafeIllegalStateException("this transaction has already failed");
        }
        while (true) {
            ensureUncommitted();
            if (state.compareAndSet(State.UNCOMMITTED, State.COMMITTING)) {
```

## RuleId[id=EmptyStatementBody]
### EmptyStatementBody
`else` statement has empty body
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
                                + "Please contact support.");
                    }
                } else {
                    // first read, no check to be done
                }
```

### EmptyStatementBody
`if` statement has empty body
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            for (int i = 0; i < currentToken.length(); i++) {
                char ch = currentToken.charAt(i);
                if ((('a' <= ch) && (ch <= 'z'))
                        || (('A' <= ch) && (ch <= 'Z'))
                        || (('0' <= ch) && (ch <= '9'))
```

### EmptyStatementBody
`else` statement has empty body
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/StreamStoreRemappingSweepPriorityCalculator.java`
#### Snippet
```java
            doNotSweepTable(valueTable, scores);
            doNotSweepTable(indexTable, scores);
        } else {
            // The index table has been swept long enough ago that we can now sweep the value table
        }
```

### EmptyStatementBody
`else` statement has empty body
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
                            // the initialization and start over again.
                            state = normalState();
                        } else {
                            // Someone else changed the state on us, just start over.
                        }
```

## RuleId[id=UnnecessaryStringEscape]
### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
                System.out.println("Call help(\'topic\') to view information on a topic, " + // (authorized)
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
            }
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            } else {
                System.out.println("\nNo help topics found for " + topic + ".\n"); // (authorized)
                System.out.println("Call help(\'topic\') to view information on a topic, " + // (authorized)
                        "or help() to view a list of topics with help messages.\n"); // (authorized)
            }
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
                    + " 'mutations_enabled' flag\n"); // (authorized)
```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                        "\"([^\"\n\\\\]|\\\\.)*+(\"|\\\\?$)|"
                        + // a double-quoted string
                        "\'([^\'\n\\\\]|\\\\.)*+(\'|\\\\?$)", // a single-quoted string
                Pattern.MULTILINE);

```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                        "\"([^\"\n\\\\]|\\\\.)*+(\"|\\\\?$)|"
                        + // a double-quoted string
                        "\'([^\'\n\\\\]|\\\\.)*+(\'|\\\\?$)", // a single-quoted string
                Pattern.MULTILINE);

```

### UnnecessaryStringEscape
`\'` is unnecessarily escaped
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                        "\"([^\"\n\\\\]|\\\\.)*+(\"|\\\\?$)|"
                        + // a double-quoted string
                        "\'([^\'\n\\\\]|\\\\.)*+(\'|\\\\?$)", // a single-quoted string
                Pattern.MULTILINE);

```

## RuleId[id=StaticInitializerReferencesSubClass]
### StaticInitializerReferencesSubClass
Referencing subclass PostgresKeyValueServiceInstrumentation from superclass KeyValueServiceInstrumentation initializer might lead to class loading deadlock
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/KeyValueServiceInstrumentation.java`
#### Snippet
```java
    static {
        addNewBackendType(new CassandraKeyValueServiceInstrumentation());
        addNewBackendType(new PostgresKeyValueServiceInstrumentation());
    }

```

## RuleId[id=CommentedOutCode]
### CommentedOutCode
Commented out code (3 lines)
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        if (field == null) {
            handleMissingField(tokenizer, extensionRegistry, builder);
            // throw tokenizer.parseExceptionPreviousToken("Message type \"" + type.getFullName()
            //                                            + "\" has no field named \"" + name
            //                                            + "\".");
```

## RuleId[id=CStyleArrayDeclaration]
### CStyleArrayDeclaration
C-style array declaration of local variable `fields`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    @SuppressWarnings("StringSplitter") // Legacy code, uncertainty of full implications of change
    public static String generateUpdateString(String fieldList) {
        String fields[] = fieldList.split("\\s*,\\s*"); // $NON-NLS-1$
        StringBuilder out = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of local variable `fields`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    @SuppressWarnings("StringSplitter") // Legacy code, uncertainty of full implications of change
    public static String qualifyFields(String fieldList, String tableName) {
        String fields[] = fieldList.split("\\s*,\\s*"); // $NON-NLS-1$
        StringBuilder out = new StringBuilder();
        for (int i = 0; i < fields.length; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            final Connection c,
            final FinalSQLString sql,
            Object vs[],
            final Long defaultVal,
            final boolean useBrokenBehaviorWithNullAndZero)
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    }

    protected void updateMany(final Connection c, final FinalSQLString sql, final Object vs[][])
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    @SuppressWarnings("BadAssert") // performance sensitive asserts
    public boolean insertMany(final Connection c, final FinalSQLString sql, final Object vs[][])
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    protected PreparedStatement execute(
            final Connection c, final FinalSQLString sql, final Object vs[], final AutoClose autoClose)
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    protected AgnosticLightResultSet selectLightResultSetSpecifyingDBType(
            final Connection c, final FinalSQLString sql, Object vs[], final DBType dbType, @Nullable Integer fetchSize)
            throws PalantirSqlException, PalantirInterruptedException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `vs`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    PreparedStatement updateInternal(
            final Connection c, final FinalSQLString sql, final Object vs[], final AutoClose autoClose)
            throws PalantirSqlException {
        if (SqlLoggers.LOGGER.isTraceEnabled()) {
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

    @Override
    public void write(byte b[], int off, int len) throws IOException {
        if (b == null) {
            throw new NullPointerException();
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

        @Override
        public int read(byte b[], int off, int len) {
            if (b == null) {
                throw new NullPointerException();
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java

    @Override
    public int read(byte b[], int off, int len) throws IOException {
        if (b == null) {
            throw new NullPointerException();
```

### CStyleArrayDeclaration
C-style array declaration of parameter `elements`
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
    }

    private static void printStackTrace(PrintWriter printwriter, StackTraceElement elements[]) {
        synchronized (printwriter) {
            for (int i = 0; i < elements.length; i++) {
```

### CStyleArrayDeclaration
C-style array declaration of local variable `elements`
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
        for (Map.Entry<Thread, StackTraceElement[]> entry : map.entrySet()) {
            Thread t = entry.getKey();
            StackTraceElement elements[] = entry.getValue();

            printWriter.println(new StringBuilder().append(t));
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java

        @Override
        public void write(byte b[], int off, int len) throws IOException {
            LZ4CompressingInputStream.this.write(b, off, len);
        }
```

### CStyleArrayDeclaration
C-style array declaration of parameter `b`
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java
    }

    private void write(byte b[], int off, int len) throws IOException {
        Preconditions.checkNotNull(b, "Provided byte array b cannot be null.");
        if ((off < 0) || (len < 0) || (off + len > b.length)) {
```

## RuleId[id=AssertWithSideEffects]
### AssertWithSideEffects
`assert` has side effects: ret = ...
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static boolean isAssertEnabled() {
        boolean ret = false;
        assert (ret = true) == true;

        return ret;
```

## RuleId[id=RegExpRedundantEscape]
### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQLString.java`
#### Snippet
```java
@SuppressWarnings({"WeakerAccess", "BadAssert"}) // performance sensitive asserts
public class SQLString extends BasicSQLString {
    private static final Pattern ALL_WORD_CHARS_REGEX = Pattern.compile("^[a-zA-Z_0-9\\.\\-]*$"); // $NON-NLS-1$
    private static final String UNREGISTERED_SQL_STRING = "UnregisteredSQLString"; // $NON-NLS-1$
    private static final String UNREGISTERED_SQL_COMMENT =
```

### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Namespace.java`
#### Snippet
```java
     * Use {@link Namespace#LOOSELY_CHECKED_NAME} or {@link Namespace#STRICTLY_CHECKED_NAME} if possible.
     */
    public static final Pattern UNCHECKED_NAME = Pattern.compile("^[^\\.\\s]+$");

    /**
```

### RegExpRedundantEscape
Redundant character escape `\\.` in RegExp
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresVersionCheck.java`
#### Snippet
```java
    public static void checkDatabaseVersion(String version, Logger log) {
        boolean checkPasses =
                version.matches("^[\\.0-9]+$") && VersionStrings.compareVersions(version, MIN_POSTGRES_VERSION) >= 0;
        if (VersionStrings.compareVersions(version, "9.5") >= 0
                && VersionStrings.compareVersions(version, "9.5.2") < 0) {
```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    private String replaceBracesWithStringFormatSpecifier(String msg) {
        return msg.replaceAll("\\{\\}", "%s");
    }

```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Cassandra22XVersion.java`
#### Snippet
```java

public class Cassandra22XVersion implements CassandraVersion {
    private static final Pattern REPLICATION_REGEX = Pattern.compile("^.*\"replication_factor\":\"(\\d+)\"\\}$");
    private static final String ALL_KEYSPACES_CQL = "SELECT * FROM system.schema_keyspaces;";

```

### RegExpRedundantEscape
Redundant character escape `\\}` in RegExp
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Cassandra3XVersion.java`
#### Snippet
```java

public class Cassandra3XVersion implements CassandraVersion {
    private static final Pattern REPLICATION_REGEX = Pattern.compile("^.*'replication_factor': '(\\d+)'\\}$");
    private static final String ALL_KEYSPACES_CQL = "SELECT * FROM system_schema.keyspaces;";

```

## RuleId[id=RedundantArrayCreation]
### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java
     */
    long selectCount(Connection c, String tableName) throws PalantirSqlException, PalantirInterruptedException {
        return selectCount(c, tableName, null, new Object[] {});
    }

```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            sql = String.format(POSTGRESQL_SINGLE_ID_COLUMN, sequenceName);
        } else {
            sql = String.format(ORACLE_SINGLE_ID_COLUMN, new Object[] {sequenceName});
        }
        if (label != null) {
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
    public static boolean isToString(Method method) throws ProxyException {
        try {
            return method.equals(Object.class.getMethod("toString", new Class[] {}));
        } catch (NoSuchMethodException nsme) {
            throw new ProxyException(nsme);
```

### RedundantArrayCreation
Redundant array creation for calling varargs method
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
    public static boolean isHashCode(Method method) throws ProxyException {
        try {
            return method.equals(Object.class.getMethod("hashCode", new Class[] {}));
        } catch (NoSuchMethodException nsme) {
            throw new ProxyException(nsme);
```

## RuleId[id=DuplicateBranchesInSwitch]
### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                 * but until then we need duplicate Google's method of storing the two's complement.
                 */
                value = tokenizer.consumeInt64();
                break;

```

### DuplicateBranchesInSwitch
Duplicate branch in 'switch'
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java

                case CLOSED:
                    break;
            }
        } finally {
```

## RuleId[id=RegExpSimplifiable]
### RegExpSimplifiable
`[\n]` can be simplified to ' '
in `commons-db/src/main/java/com/palantir/nexus/db/monitoring/timer/SqlStatsSqlTimer.java`
#### Snippet
```java
        final TimingState timingState;
        if (LoggerFactory.getLogger("com.palantir.nexus.db.SQL").isTraceEnabled()) {
            String sql = rawSql.replaceAll("[\n]+", "");
            String msg = System.currentTimeMillis() + "\tSQL\t" + module + "\t" + sql;
            timingState = timer.begin(msg);
```

### RegExpSimplifiable
`[\\w]` can be simplified to '\\w'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Namespace.java`
#### Snippet
```java
     * Restrictive name pattern (letters, numbers, and non-initial single underscores).
     */
    public static final Pattern STRICTLY_CHECKED_NAME = Pattern.compile("^^(?!.*__.*)[a-zA-Z0-9][\\w]*$");

    private final String name;
```

### RegExpSimplifiable
`{` can be simplified to '\*'
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/module/AtlasCoreModule.groovy`
#### Snippet
```java

        // Regular expression for inserting a '\n' every <width> characters
        val = val.replaceAll('(.{' + (width - COLUMN_PADDING) + '})', '$1\n')

        if (val == null) {
```

## RuleId[id=EmptySynchronizedStatement]
### EmptySynchronizedStatement
Empty `synchronized` statement
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java
    public void blockUntilSafeToShutdown() {
        shutdownSignal = true;
        synchronized (this) {
            // blocking until no thread is in the synchronized blocks anymore
        }
```

## RuleId[id=StringBufferReplaceableByString]
### StringBufferReplaceableByString
`StringBuilder sb` can be replaced with 'String'
in `commons-api/src/main/java/com/palantir/util/sql/VerboseSQLException.java`
#### Snippet
```java
            return super.getMessage();
        }
        StringBuilder sb = new StringBuilder();
        sb.append(verboseErrorMessage);
        sb.append(": ");
```

### StringBufferReplaceableByString
`StringBuilder out` can be replaced with 'String'
in `atlasdb-commons/src/main/java/com/palantir/util/Pair.java`
#### Snippet
```java
    @Override
    public String toString() {
        StringBuilder out = new StringBuilder("Pair(");
        out.append(lhSide).append(", ").append(rhSide).append(")");
        return out.toString();
```

### StringBufferReplaceableByString
`StringBuilder` can be replaced with 'String'
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
            StackTraceElement elements[] = entry.getValue();

            printWriter.println(new StringBuilder().append(t));
            printStackTrace(printWriter, elements);
            printWriter.println();
```

## RuleId[id=Deprecation]
### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java
                ((AutoCloseable) delegate()).close();
            } catch (Exception e) {
                throw Throwables.propagate(e);
            }
        }
```

### Deprecation
Overrides deprecated method in 'java.lang.Object'
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java
    @Override
    @SuppressWarnings("checkstyle:NoFinalizer") // TODO (jkong): Can we safely remove this without breaking things?
    protected void finalize() throws Throwable {
        super.finalize();
        if (!isClosed) {
```

### Deprecation
'finalize()' is deprecated
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java
    @SuppressWarnings("checkstyle:NoFinalizer") // TODO (jkong): Can we safely remove this without breaking things?
    protected void finalize() throws Throwable {
        super.finalize();
        if (!isClosed) {
            log.warn("Closing in the finalize method.  This should be closed explicitly.");
```

### Deprecation
Overrides deprecated method in 'java.lang.Object'
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
    @Override
    @SuppressWarnings("checkstyle:NoFinalizer") // TODO (jkong): Can we safely remove this without breaking things?
    protected void finalize() throws Throwable {
        super.finalize();
        if (!isClosed) {
```

### Deprecation
'finalize()' is deprecated
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
    @SuppressWarnings("checkstyle:NoFinalizer") // TODO (jkong): Can we safely remove this without breaking things?
    protected void finalize() throws Throwable {
        super.finalize();
        if (!isClosed) {
            log.warn("Closing in the finalize method.  This should be closed explicitly.");
```

### Deprecation
'unlock(com.palantir.lock.HeldLocksToken)' is deprecated
in `lock-impl/src/main/java/com/palantir/lock/impl/ThreadPooledLockService.java`
#### Snippet
```java
    @Override
    public boolean unlock(HeldLocksToken token) {
        return delegate.unlock(token);
    }

```

### Deprecation
'getMinLockedInVersionId()' is deprecated
in `lock-impl/src/main/java/com/palantir/lock/impl/ThreadPooledLockService.java`
#### Snippet
```java
    @Override
    public Long getMinLockedInVersionId() {
        return delegate.getMinLockedInVersionId();
    }

```

### Deprecation
'refreshTokens(java.lang.Iterable)' is deprecated
in `lock-impl/src/main/java/com/palantir/lock/impl/ThreadPooledLockService.java`
#### Snippet
```java
    @Override
    public Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens) {
        return delegate.refreshTokens(tokens);
    }

```

### Deprecation
'Representer()' is deprecated
in `lock-impl/src/main/java/com/palantir/lock/logger/LockStateYamlWriter.java`
#### Snippet
```java
    private static class LockDescriptorAwareRepresenter extends Representer {
        LockDescriptorAwareRepresenter() {
            super();
            this.representers.put(LockDescriptor.class, data -> representScalar(Tag.STR, data.toString()));
        }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `commons-db/src/main/java/com/palantir/nexus/db/ThreadConfinedProxy.java`
#### Snippet
```java
            throw e.getCause();
        } catch (IllegalAccessException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'oracle.sql.ARRAY' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
    public ArrayHandler createStructArray(String structType, String arrayType, List<Object[]> elements) {
        return new ArrayHandler() {
            private ARRAY array = null;

            @Override
```

### Deprecation
'oracle.sql.BLOB' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
            @Override
            public void freeTemporary() throws SQLException {
                BLOB.freeTemporary(blob);
            }

```

### Deprecation
'oracle.sql.ARRAY' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java

            @Override
            public ARRAY toOracleArray(Connection connection) throws SQLException {
                OracleConnection oracleConnection = getOracleConnection(connection);
                StructDescriptor sd = StructDescriptor.createDescriptor(structType, oracleConnection);
```

### Deprecation
'oracle.sql.StructDescriptor' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
            public ARRAY toOracleArray(Connection connection) throws SQLException {
                OracleConnection oracleConnection = getOracleConnection(connection);
                StructDescriptor sd = StructDescriptor.createDescriptor(structType, oracleConnection);
                ArrayDescriptor ad = ArrayDescriptor.createDescriptor(arrayType, oracleConnection);

```

### Deprecation
'oracle.sql.StructDescriptor' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
            public ARRAY toOracleArray(Connection connection) throws SQLException {
                OracleConnection oracleConnection = getOracleConnection(connection);
                StructDescriptor sd = StructDescriptor.createDescriptor(structType, oracleConnection);
                ArrayDescriptor ad = ArrayDescriptor.createDescriptor(arrayType, oracleConnection);

```

### Deprecation
'oracle.sql.ArrayDescriptor' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
                OracleConnection oracleConnection = getOracleConnection(connection);
                StructDescriptor sd = StructDescriptor.createDescriptor(structType, oracleConnection);
                ArrayDescriptor ad = ArrayDescriptor.createDescriptor(arrayType, oracleConnection);

                STRUCT[] structs = new STRUCT[elements.size()];
```

### Deprecation
'oracle.sql.ArrayDescriptor' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
                OracleConnection oracleConnection = getOracleConnection(connection);
                StructDescriptor sd = StructDescriptor.createDescriptor(structType, oracleConnection);
                ArrayDescriptor ad = ArrayDescriptor.createDescriptor(arrayType, oracleConnection);

                STRUCT[] structs = new STRUCT[elements.size()];
```

### Deprecation
'oracle.sql.STRUCT' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
                ArrayDescriptor ad = ArrayDescriptor.createDescriptor(arrayType, oracleConnection);

                STRUCT[] structs = new STRUCT[elements.size()];
                for (int i = 0; i < elements.size(); ++i) {
                    structs[i] = new STRUCT(sd, oracleConnection, elements.get(i));
```

### Deprecation
'oracle.sql.STRUCT' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
                ArrayDescriptor ad = ArrayDescriptor.createDescriptor(arrayType, oracleConnection);

                STRUCT[] structs = new STRUCT[elements.size()];
                for (int i = 0; i < elements.size(); ++i) {
                    structs[i] = new STRUCT(sd, oracleConnection, elements.get(i));
```

### Deprecation
'oracle.sql.STRUCT' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
                STRUCT[] structs = new STRUCT[elements.size()];
                for (int i = 0; i < elements.size(); ++i) {
                    structs[i] = new STRUCT(sd, oracleConnection, elements.get(i));
                }
                array = new ARRAY(ad, oracleConnection, structs);
```

### Deprecation
'oracle.sql.ARRAY' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
                    structs[i] = new STRUCT(sd, oracleConnection, elements.get(i));
                }
                array = new ARRAY(ad, oracleConnection, structs);
                return array;
            }
```

### Deprecation
'oracle.sql.BLOB' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
    public BlobHandler createBlob(Connection connection) throws SQLException {
        OracleConnection oracleConnection = getOracleConnection(connection);
        BLOB blob = BLOB.createTemporary(oracleConnection, false, BLOB.DURATION_SESSION);

        return new BlobHandler() {
```

### Deprecation
'oracle.sql.BLOB' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
    public BlobHandler createBlob(Connection connection) throws SQLException {
        OracleConnection oracleConnection = getOracleConnection(connection);
        BLOB blob = BLOB.createTemporary(oracleConnection, false, BLOB.DURATION_SESSION);

        return new BlobHandler() {
```

### Deprecation
'oracle.sql.BLOB' is deprecated
in `commons-db/src/main/java/com/palantir/db/oracle/NativeOracleJdbcHandler.java`
#### Snippet
```java
    public BlobHandler createBlob(Connection connection) throws SQLException {
        OracleConnection oracleConnection = getOracleConnection(connection);
        BLOB blob = BLOB.createTemporary(oracleConnection, false, BLOB.DURATION_SESSION);

        return new BlobHandler() {
```

### Deprecation
Overrides deprecated method in 'com.palantir.nexus.db.sql.AbstractAgnosticResultRow'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    long getLong(int col) throws PalantirSqlException {
        return ResultSets.getLong(results, col);
    }
```

### Deprecation
'newSetFromMap(java.util.Map)' is deprecated
in `commons-db/src/main/java/com/palantir/nexus/db/pool/CloseTracking.java`
#### Snippet
```java
    @SuppressWarnings("DangerousIdentityKey")
    private static final Set<MyReference<?>> destructorReferences =
            Sets.newSetFromMap(new ConcurrentHashMap<MyReference<?>, Boolean>());

    private static final FinalizableReferenceQueue destructorQueue = new FinalizableReferenceQueue();
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `flake-rule/src/main/java/com/palantir/flake/FlakeRetryingRule.java`
#### Snippet
```java
                throwable);
        if (attempt == retryAnnotation.numAttempts()) {
            throw Throwables.propagate(throwable);
        }
    }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `flake-rule/src/main/java/com/palantir/flake/FlakeRetryingRule.java`
#### Snippet
```java
                    logFailureAndThrowIfNeeded(retryAnnotation, description, attempt, t);
                } else {
                    throw Throwables.propagate(t);
                }
            }
```

### Deprecation
'murmur3_32(int)' is deprecated
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CellReference.java`
#### Snippet
```java
public abstract class CellReference {
    private static final HashFunction rowHash = Hashing.murmur3_32(0);
    private static final HashFunction colHash = Hashing.murmur3_32(1);

    public abstract TableReference tableRef();
```

### Deprecation
'murmur3_32(int)' is deprecated
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CellReference.java`
#### Snippet
```java
@Value.Immutable
public abstract class CellReference {
    private static final HashFunction rowHash = Hashing.murmur3_32(0);
    private static final HashFunction colHash = Hashing.murmur3_32(1);

```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/AbstractTimestampCommand.java`
#### Snippet
```java
            printer.error(
                    "IOException thrown reading timestamp from file: {}", SafeArg.of("file path", file.getPath()));
            throw Throwables.propagate(e);
        }
        return Long.parseLong(timestampString);
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/AbstractTimestampCommand.java`
#### Snippet
```java
        } catch (IOException e) {
            printer.error("IOException thrown writing timestamp to file: {}", SafeArg.of("file path", file.getPath()));
            Throwables.propagate(e);
        }
    }
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java

        if (table != null) {
            TableReference tableToSweep = TableReference.createUnsafe(table);
            if (!services.getKeyValueService().getAllTableNames().contains(tableToSweep)) {
                printer.info("The table {} passed in to sweep does not exist", LoggingArgs.tableRef(tableToSweep));
```

### Deprecation
'MethodAnnotationsScanner()' is deprecated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java
    private static Set<String> getAllBenchmarks() {
        Reflections reflections =
                new Reflections("com.palantir.atlasdb.performance.benchmarks", new MethodAnnotationsScanner());
        return reflections.getMethodsAnnotatedWith(Benchmark.class).stream()
                .map(method -> method.getDeclaringClass().getSimpleName() + "." + method.getName())
```

### Deprecation
'org.reflections.scanners.MethodAnnotationsScanner' is deprecated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java
    private static Set<String> getAllBenchmarks() {
        Reflections reflections =
                new Reflections("com.palantir.atlasdb.performance.benchmarks", new MethodAnnotationsScanner());
        return reflections.getMethodsAnnotatedWith(Benchmark.class).stream()
                .map(method -> method.getDeclaringClass().getSimpleName() + "." + method.getName())
```

### Deprecation
'AGGRESSIVE_WITH_NETWORK_CLEANUP' is deprecated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java
                .waitingForHostNetworkedPort(type.getKeyValueServicePort(), toBeOpen())
                .saveLogsTo(DOCKER_LOGS_DIR)
                .shutdownStrategy(ShutdownStrategy.AGGRESSIVE_WITH_NETWORK_CLEANUP)
                .build();
        InetSocketAddress addr = connect(docker, type.getKeyValueServicePort());
```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
            Iterable<RangeRequest> requests = table.getRangeRequests(1000, RANGES_SINGLE_REQUEST_SIZE, false);
            Iterable<BatchingVisitable<RowResult<byte[]>>> results = txn.getRanges(table.getTableRef(), requests);
            results.forEach(bvs -> {
                List<RowResult<byte[]>> result = BatchingVisitables.copyToList(bvs);
```

### Deprecation
'fromInternalTableName(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/OracleTableNameGetterImpl.java`
#### Snippet
```java
                })
                .map(tableName -> StringUtils.removeStartIgnoreCase(tableName, tablePrefixToStrip))
                .map(TableReference::fromInternalTableName)
                .collect(Collectors.toSet());
    }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/OracleDbTableFactory.java`
#### Snippet
```java
            return oracleTableNameGetter.getInternalShortTableName(connectionSupplier, tableRef);
        } catch (TableMappingNotFoundException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
            moreResults = true;
            AgnosticLightResultRow nextEntry = iterator.peek();
            if (Arrays.equals(nextEntry.getBytes(DbKvs.ROW), currentRow)) {
                token = ImmutableToken.builder()
                        .row(currentRow)
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
                flushRowBuffer();
                token = ImmutableToken.builder()
                        .row(nextEntry.getBytes(DbKvs.ROW))
                        .shouldSkip(false)
                        .build();
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java

    private boolean finishedSkipping(Token oldToken, AgnosticLightResultRow next) {
        return !Arrays.equals(next.getBytes(DbKvs.ROW), oldToken.row()) || compareColumns(oldToken, next) > 0;
    }

```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
    private boolean currentCellHasEntriesLeft() {
        return iterator.hasNext()
                && Arrays.equals(iterator.peek().getBytes(DbKvs.ROW), currentRow)
                && Arrays.equals(iterator.peek().getBytes(DbKvs.COL), currentCol);
    }
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
        return iterator.hasNext()
                && Arrays.equals(iterator.peek().getBytes(DbKvs.ROW), currentRow)
                && Arrays.equals(iterator.peek().getBytes(DbKvs.COL), currentCol);
    }

```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java

    private void store(AgnosticLightResultRow cellResult) {
        byte[] newRow = cellResult.getBytes(DbKvs.ROW);
        currentCol = cellResult.getBytes(DbKvs.COL);
        long timestamp = cellResult.getLong(DbKvs.TIMESTAMP);
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
    private void store(AgnosticLightResultRow cellResult) {
        byte[] newRow = cellResult.getBytes(DbKvs.ROW);
        currentCol = cellResult.getBytes(DbKvs.COL);
        long timestamp = cellResult.getLong(DbKvs.TIMESTAMP);
        if (!Arrays.equals(currentRow, newRow)) {
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java

    private static int compareColumns(Token oldToken, AgnosticLightResultRow nextResult) {
        return UnsignedBytes.lexicographicalComparator().compare(nextResult.getBytes(DbKvs.COL), oldToken.col());
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
                .append(" ORDER BY row_name ASC, col_name ASC")
                .toString();
        return new FullQuery(query).withArgs(args);
    }

```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
                .append(" ORDER BY row_name ASC, col_name ASC")
                .toString();
        return new FullQuery(query).withArgs(args);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
                .append(" ORDER BY row_name ASC, col_name ASC")
                .toString();
        return new FullQuery(query).withArgs(args);
    }

```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
                .append(" ORDER BY row_name ASC, col_name ASC")
                .toString();
        return new FullQuery(query).withArgs(args);
    }

```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/OraclePrefixedTableNames.java`
#### Snippet
```java
            return oracleTableNameGetter.getInternalShortTableName(connectionSupplier, tableRef);
        } catch (TableMappingNotFoundException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/UpdateExecutor.java`
#### Snippet
```java
                sqlString, cell.getRowName(), cell.getColumnName(), ts)) {
            List<byte[]> actualValues = new ArrayList<>();
            results.forEach(row -> actualValues.add(row.getBytes(DbKvs.VAL)));
            return actualValues;
        }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ParallelTaskRunner.java`
#### Snippet
```java
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
            throw Throwables.propagate(e);
        } catch (ExecutionException e) {
            throw Throwables.propagate(e);
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ParallelTaskRunner.java`
#### Snippet
```java
            throw Throwables.propagate(e);
        } catch (ExecutionException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbReadTable.java`
#### Snippet
```java

    private FullQuery addOrdering(Order order, FullQuery query) {
        return new FullQuery(query.getQuery() + order).withArgs(Arrays.asList(query.getArgs()));
    }

```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbReadTable.java`
#### Snippet
```java

    private FullQuery addOrdering(Order order, FullQuery query) {
        return new FullQuery(query.getQuery() + order).withArgs(Arrays.asList(query.getArgs()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowValueLoader.java`
#### Snippet
```java
                + "   TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE)) t "
                + " WHERE t.max_ts = o.id ";
        return new FullQuery(query).withArg(arg);
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowValueLoader.java`
#### Snippet
```java
                + "   TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE)) t "
                + " WHERE t.max_ts = o.id ";
        return new FullQuery(query).withArg(arg);
    }

```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowValueLoader.java`
#### Snippet
```java
            return tableNameGetter.getInternalShortOverflowTableName(connectionSupplier, tableRef);
        } catch (TableMappingNotFoundException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowValueLoader.java`
#### Snippet
```java
                + "   TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE)) t "
                + " WHERE t.max_ts = o.id ";
        return new FullQuery(query).withArg(arg);
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowValueLoader.java`
#### Snippet
```java
                + "   TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE)) t "
                + " WHERE t.max_ts = o.id ";
        return new FullQuery(query).withArg(arg);
    }

```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowValueLoader.java`
#### Snippet
```java
                        // QA-94468 LONG RAW typed columns ("val" in this case) must be retrieved first from the result
                        // set. See https://docs.oracle.com/cd/B19306_01/java.102/b14355/jstreams.htm#i1007581
                        byte[] val = row.getBytes("val");
                        long id = row.getLong("id");
                        ret.put(id, val);
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleGetRange.java`
#### Snippet
```java
                return tableNameGetter.getInternalShortTableName(conns, tableRef);
            } catch (TableMappingNotFoundException e) {
                throw Throwables.propagate(e);
            }
        }
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleCellTsPageLoader.java`
#### Snippet
```java
                for (AgnosticLightResultRow row : resultSet) {
                    ret.add(new CellTsPairInfo(
                            row.getBytes("row_name"),
                            row.getBytes("col_name"),
                            row.getLong("ts"),
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleCellTsPageLoader.java`
#### Snippet
```java
                    ret.add(new CellTsPairInfo(
                            row.getBytes("row_name"),
                            row.getBytes("col_name"),
                            row.getLong("ts"),
                            request.shouldCheckIfLatestValueIsEmpty() && row.getInteger("empty_val") == 1));
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                                + " FROM TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE))"
                                + " WHERE row_name = m.col_name) ");
        FullQuery fullQuery = new FullQuery(query).withArg(rowsAndTimestampsToOracleArray(rows));
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                                + " FROM TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE))"
                                + " WHERE row_name = m.col_name) ");
        FullQuery fullQuery = new FullQuery(query).withArg(rowsAndTimestampsToOracleArray(rows));
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return columns.allColumnsSelected()
                ? fullQuery
                : fullQuery.withArg(rowsToOracleArray(columns.getSelectedColumns()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   AND m.col_name = t.col_name "
                + "   AND m.ts < t.max_ts ";
        return new FullQuery(query).withArg(cellsAndTimestampsToOracleArray(cells));
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   AND m.col_name = t.col_name "
                + "   AND m.ts < t.max_ts ";
        return new FullQuery(query).withArg(cellsAndTimestampsToOracleArray(cells));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS_MANY_BOUNDS", query, includeValue);
        return new FullQuery(query).withArg(cellsAndTimestampsToOracleArray(cells));
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS_MANY_BOUNDS", query, includeValue);
        return new FullQuery(query).withArg(cellsAndTimestampsToOracleArray(cells));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ONE_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ONE_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return columns.allColumnsSelected()
                ? fullQuery
                : fullQuery.withArg(rowsToOracleArray(columns.getSelectedColumns()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ONE_CELL", query, includeValue);
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ONE_CELL", query, includeValue);
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                    + " FROM " + tableName + " m "
                    + (bounds.isEmpty() ? "" : " WHERE  " + Joiner.on(" AND ").join(bounds));
            return new FullQuery(query).withArgs(args);
        }

```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                    + " FROM " + tableName + " m "
                    + (bounds.isEmpty() ? "" : " WHERE  " + Joiner.on(" AND ").join(bounds));
            return new FullQuery(query).withArgs(args);
        }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "     ORDER BY m.row_name " + (range.isReverse() ? "DESC" : "ASC")
                + "   ) inner WHERE rownum <= ?";
        return new FullQuery(query).withArgs(args).withArg(maxRows);
    }

```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "     ORDER BY m.row_name " + (range.isReverse() ? "DESC" : "ASC")
                + "   ) inner WHERE rownum <= ?";
        return new FullQuery(query).withArgs(args).withArg(maxRows);
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "     ORDER BY m.row_name " + (range.isReverse() ? "DESC" : "ASC")
                + "   ) inner WHERE rownum <= ?";
        return new FullQuery(query).withArgs(args).withArg(maxRows);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROWS_MANY_BOUNDS", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArg(rowsAndTimestampsToOracleArray(rows));
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROWS_MANY_BOUNDS", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArg(rowsAndTimestampsToOracleArray(rows));
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return columns.allColumnsSelected()
                ? fullQuery
                : fullQuery.withArg(rowsToOracleArray(columns.getSelectedColumns()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name ASC, m.col_name ASC )";
        String wrappedQuery = wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE_FULLY_LOADED_ROWS", query, true);
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rowsToOracleArray(rows), ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name ASC, m.col_name ASC )";
        String wrappedQuery = wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE_FULLY_LOADED_ROWS", query, true);
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rowsToOracleArray(rows), ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rowsToOracleArray(rows), ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS_SINGLE_BOUND", query, includeValue);
        return new FullQuery(query).withArgs(cellsToOracleArray(cells), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS_SINGLE_BOUND", query, includeValue);
        return new FullQuery(query).withArgs(cellsToOracleArray(cells), ts);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                                + " FROM TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE))"
                                + " WHERE row_name = m.col_name) ");
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                                + " FROM TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE))"
                                + " WHERE row_name = m.col_name) ");
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return columns.allColumnsSelected()
                ? fullQuery
                : fullQuery.withArg(rowsToOracleArray(columns.getSelectedColumns()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROWS_SINGLE_BOUND", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROWS_SINGLE_BOUND", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return columns.allColumnsSelected()
                ? fullQuery
                : fullQuery.withArg(rowsToOracleArray(columns.getSelectedColumns()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + (columnRangeSelection.getEndCol().length > 0 ? " AND m.col_name < ?" : "")
                + " GROUP BY m.row_name";
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + (columnRangeSelection.getEndCol().length > 0 ? " AND m.col_name < ?" : "")
                + " GROUP BY m.row_name";
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(query).withArgs(rowsToOracleArray(rows), ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   AND m.col_name = ? "
                + "   AND m.ts < ? ";
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   AND m.col_name = ? "
                + "   AND m.ts < ? ";
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name"
                + " ORDER BY m.row_name ASC, m.col_name ASC ) s WHERE rownum <= ?";
        FullQuery fullQuery = new FullQuery(query).withArg(row).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name"
                + " ORDER BY m.row_name ASC, m.col_name ASC ) s WHERE rownum <= ?";
        FullQuery fullQuery = new FullQuery(query).withArg(row).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name"
                + " ORDER BY m.row_name ASC, m.col_name ASC ) s WHERE rownum <= ?";
        FullQuery fullQuery = new FullQuery(query).withArg(row).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(query).withArg(row).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        fullQuery.withArg(columnRangeSelection.getBatchHint());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
            fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        fullQuery.withArg(columnRangeSelection.getBatchHint());
        return fullQuery;
    }
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                                + " FROM TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE))"
                                + " WHERE row_name = m.col_name) ");
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                                + " FROM TABLE(CAST(? AS " + structArrayPrefix() + "CELL_TS_TABLE))"
                                + " WHERE row_name = m.col_name) ");
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected()
                ? fullQuery
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return columns.allColumnsSelected()
                ? fullQuery
                : fullQuery.withArg(rowsToOracleArray(columns.getSelectedColumns()));
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   AND m.col_name = t.col_name "
                + "   AND m.ts < ? ";
        return new FullQuery(query).withArgs(cellsToOracleArray(cells), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   AND m.col_name = t.col_name "
                + "   AND m.ts < ? ";
        return new FullQuery(query).withArgs(cellsToOracleArray(cells), ts);
    }

```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java
            return oracleTableNameGetter.getInternalShortOverflowTableName(conns, tableRef);
        } catch (TableMappingNotFoundException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleOverflowWriteTable.java`
#### Snippet
```java
            return oracleTableNameGetter.getInternalShortTableName(conns, tableRef);
        } catch (TableMappingNotFoundException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresCellTsPageLoader.java`
#### Snippet
```java
                List<CellTsPairInfo> ret = new ArrayList<>();
                for (AgnosticLightResultRow row : resultSet) {
                    byte[] rowName = row.getBytes("row_name");
                    byte[] colName = row.getBytes("col_name");
                    if (request.shouldCheckIfLatestValueIsEmpty()) {
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresCellTsPageLoader.java`
#### Snippet
```java
                for (AgnosticLightResultRow row : resultSet) {
                    byte[] rowName = row.getBytes("row_name");
                    byte[] colName = row.getBytes("col_name");
                    if (request.shouldCheckIfLatestValueIsEmpty()) {
                        long[] sortedTimestamps = castAndSortTimestamps((Object[]) row.getArray("timestamps"));
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + "    AND m.col_name = t.col_name "
                + "    AND m.ts < t.ts ";
        return addCellTsArgs(new FullQuery(query), cells);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        for (Map.Entry<Cell, Long> entry : cells) {
            Cell cell = entry.getKey();
            fullQuery.withArgs(cell.getRowName(), cell.getColumnName(), entry.getValue());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        ? ""
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = addRowTsArgs(new FullQuery(query), rows);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = addRowTsArgs(new FullQuery(query), rows);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name ASC, m.col_name ASC";
        String wrappedQuery = wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE_FULLY_LOADED_ROW", query, true);
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name ASC, m.col_name ASC";
        String wrappedQuery = wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE_FULLY_LOADED_ROW", query, true);
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name ASC, m.col_name ASC";
        String wrappedQuery = wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE_FULLY_LOADED_ROW", query, true);
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(wrappedQuery).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " LIMIT 1";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELL", query, includeValue);
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " LIMIT 1";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELL", query, includeValue);
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name"
                + " ORDER BY m.col_name ASC LIMIT ?";
        FullQuery fullQuery = new FullQuery(wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE", query, true))
                .withArg(row)
                .withArg(ts);
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.col_name ASC LIMIT ?";
        FullQuery fullQuery = new FullQuery(wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE", query, true))
                .withArg(row)
                .withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(wrapQueryWithIncludeValue("GET_ROWS_COLUMN_RANGE", query, true))
                .withArg(row)
                .withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                .withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        fullQuery.withArg(columnRangeSelection.getBatchHint());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
            fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        fullQuery.withArg(columnRangeSelection.getBatchHint());
        return fullQuery;
    }
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name " + (range.isReverse() ? "DESC" : "ASC")
                + " LIMIT ?";
        return new FullQuery(query).withArgs(args).withArg(maxRows);
    }

```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name " + (range.isReverse() ? "DESC" : "ASC")
                + " LIMIT ?";
        return new FullQuery(query).withArgs(args).withArg(maxRows);
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " ORDER BY m.row_name " + (range.isReverse() ? "DESC" : "ASC")
                + " LIMIT ?";
        return new FullQuery(query).withArgs(args).withArg(maxRows);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS", query, includeValue);
        return addCellArgs(new FullQuery(query), cells).withArg(ts);
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS", query, includeValue);
        return addCellArgs(new FullQuery(query), cells).withArg(ts);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + "    AND m.col_name = ? "
                + "    AND m.ts < ? ";
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + "    AND m.col_name = ? "
                + "    AND m.ts < ? ";
        return new FullQuery(query).withArgs(cell.getRowName(), cell.getColumnName(), ts);
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
    private FullQuery addCellArgs(FullQuery fullQuery, Iterable<Cell> cells) {
        for (Cell cell : cells) {
            fullQuery.withArgs(cell.getRowName(), cell.getColumnName());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }

```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
    private FullQuery addRowTsArgs(FullQuery fullQuery, Iterable<Map.Entry<byte[], Long>> rows) {
        for (Map.Entry<byte[], Long> entry : rows) {
            fullQuery.withArgs(entry.getKey(), entry.getValue());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        ? ""
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        ? ""
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        ? ""
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + "    AND m.col_name = t.col_name "
                + "    AND m.ts < ? ";
        return addCellArgs(new FullQuery(query), cells).withArg(ts);
    }

```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + "    AND m.col_name = t.col_name "
                + "    AND m.ts < ? ";
        return addCellArgs(new FullQuery(query), cells).withArg(ts);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + (columnRangeSelection.getEndCol().length > 0 ? " AND m.col_name < ?" : "")
                + " GROUP BY m.row_name";
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + (columnRangeSelection.getEndCol().length > 0 ? " AND m.col_name < ?" : "")
                + " GROUP BY m.row_name";
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + (columnRangeSelection.getEndCol().length > 0 ? " AND m.col_name < ?" : "")
                + " GROUP BY m.row_name";
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        return fullQuery;
```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_CELLS", query, includeValue);
        return addCellTsArgs(new FullQuery(query), cells);
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = addRowTsArgs(new FullQuery(query), rows);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = addRowTsArgs(new FullQuery(query), rows);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        ? ""
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Object, java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        ? ""
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                        : "    AND m.col_name IN " + numParams(Iterables.size(columns.getSelectedColumns())));
        FullQuery fullQuery = new FullQuery(query).withArgs(row, ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }

```

### Deprecation
'FullQuery(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArg(java.lang.Object)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
                + " GROUP BY m.row_name, m.col_name ";
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }
```

### Deprecation
'withArgs(java.lang.Iterable)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        query = wrapQueryWithIncludeValue("GET_LATEST_ROW", query, includeValue);
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        return columns.allColumnsSelected() ? fullQuery : fullQuery.withArgs(columns.getSelectedColumns());
    }

```

### Deprecation
'logLockDiagnosticInfo()' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockAcquirer.java`
#### Snippet
```java
        log.info("Shutting down, logging lock diagnostic info");
        // TODO(fdesouza): Remove this once PDS-95791 is resolved.
        lockLog.logLockDiagnosticInfo();
        timeoutExecutor.shutdown();
    }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockAcquirer.java`
#### Snippet
```java
                log.error("Error while acquiring locks", t);
                unlockAll();
                throw Throwables.propagate(t);
            }
        }
```

### Deprecation
'com.palantir.atlasdb.timelock.lock.LockDiagnosticCollector' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java

    private final LockEvents events;
    private final Optional<LockDiagnosticCollector> lockDiagnosticInfoCollector;

    public LockLog(MetricRegistry metricRegistry, Supplier<Long> thresholdMillis) {
```

### Deprecation
'registerLockImmutableTimestampRequest(java.util.UUID, long, com.palantir.atlasdb.timelock.lock.AsyncResult)' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/AsyncLockService.java`
#### Snippet
```java
                heldLocks.getExistingOrAcquire(requestId, () -> acquireImmutableTimestampLock(requestId, timestamp));
        // TODO(fdesouza): Remove this once PDS-95791 is resolved.
        lockLog.registerLockImmutableTimestampRequest(requestId, timestamp, immutableTimestampLockResult);
        return immutableTimestampLockResult;
    }
```

### Deprecation
'getMinLockedInVersionId()' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Override
    public Long getMinLockedInVersionId() {
        return delegate.getMinLockedInVersionId();
    }

```

### Deprecation
'refreshTokens(java.lang.Iterable)' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Override
    public Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens) {
        return delegate.refreshTokens(tokens);
    }

```

### Deprecation
'unlock(com.palantir.lock.HeldLocksToken)' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Override
    public boolean unlock(HeldLocksToken token) {
        return delegate.unlock(token);
    }

```

### Deprecation
'getSingleton()' is deprecated
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/CumulativeLeaderPinger.java`
#### Snippet
```java
                .putSafeTags("remoteHostAndPort", remoteClient.hostAndPort().toString())
                .build();
        this.histogram = SharedTaggedMetricRegistries.getSingleton().histogram(metricName);
    }

```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            while (iter.hasNext()) {
                AgnosticLightResultRow row = iter.next();
                Cell cell = Cell.create(row.getBytes(ROW), row.getBytes(COL));
                long ts = row.getLong(TIMESTAMP);
                Long oldTs = results.put(cell, ts);
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            while (iter.hasNext()) {
                AgnosticLightResultRow row = iter.next();
                Cell cell = Cell.create(row.getBytes(ROW), row.getBytes(COL));
                long ts = row.getLong(TIMESTAMP);
                Long oldTs = results.put(cell, ts);
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
        try (ClosableIterator<AgnosticLightResultRow> rangeResults = table.getRange(range, timestamp, maxRows)) {
            while (rows.size() < maxRows && rangeResults.hasNext()) {
                byte[] rowName = rangeResults.next().getBytes(ROW);
                if (rowName != null) {
                    rows.add(rowName);
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            Map<TableReference, byte[]> ret = Maps.newHashMapWithExpectedSize(results.size());
            for (AgnosticResultRow row : results.rows()) {
                ret.put(TableReference.createUnsafe(row.getString("table_name")), row.getBytes("value"));
            }
            return ret;
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            Map<TableReference, byte[]> ret = Maps.newHashMapWithExpectedSize(results.size());
            for (AgnosticResultRow row : results.rows()) {
                ret.put(TableReference.createUnsafe(row.getString("table_name")), row.getBytes("value"));
            }
            return ret;
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            while (iter.hasNext()) {
                AgnosticLightResultRow row = iter.next();
                Cell cell = Cell.create(row.getBytes(ROW), row.getBytes(COL));
                long ts = row.getLong(TIMESTAMP);
                results.put(cell, ts);
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            while (iter.hasNext()) {
                AgnosticLightResultRow row = iter.next();
                Cell cell = Cell.create(row.getBytes(ROW), row.getBytes(COL));
                long ts = row.getLong(TIMESTAMP);
                results.put(cell, ts);
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            Set<TableReference> ret = Sets.newHashSetWithExpectedSize(results.size());
            for (AgnosticResultRow row : results.rows()) {
                ret.add(TableReference.createUnsafe(row.getString("table_name")));
            }
            return ret;
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            while (iter.hasNext()) {
                AgnosticLightResultRow row = iter.next();
                Cell cell = Cell.create(row.getBytes(ROW), row.getBytes(COL));
                Sha256Hash rowHash = Sha256Hash.computeHash(cell.getRowName());
                cellsByRow.get(rowHash).add(cell);
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            while (iter.hasNext()) {
                AgnosticLightResultRow row = iter.next();
                Cell cell = Cell.create(row.getBytes(ROW), row.getBytes(COL));
                Sha256Hash rowHash = Sha256Hash.computeHash(cell.getRowName());
                cellsByRow.get(rowHash).add(cell);
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
                Long overflowId = hasOverflow ? row.getLongObject("overflow") : null;
                if (overflowId == null) {
                    Value value = Value.create(row.getBytes(VAL), row.getLong(TIMESTAMP));
                    Value oldValue = values.put(cell, value);
                    if (oldValue != null && oldValue.getTimestamp() > value.getTimestamp()) {
```

### Deprecation
'getBytes(java.lang.String)' is deprecated
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
                while (iter.hasNext()) {
                    AgnosticLightResultRow row = iter.next();
                    Sha256Hash rowHash = Sha256Hash.computeHash(row.getBytes(ROW));
                    counts.put(rowHash, row.getInteger("column_count"));
                }
```

### Deprecation
'registerCache(com.codahale.metrics.MetricRegistry, com.github.benmanes.caffeine.cache.Cache, java.lang.String)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/AtlasDbMetrics.java`
#### Snippet
```java
                .collect(Collectors.toSet());
        if (existingMetrics.isEmpty()) {
            CaffeineCacheStats.registerCache(metricRegistry, cache, metricsPrefix);
        } else {
            log.info(
```

### Deprecation
'withLogging(org.slf4j.Logger, com.palantir.tritium.event.log.LoggingLevel, com.palantir.tritium.api.functions.LongPredicate)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/AtlasDbMetrics.java`
#### Snippet
```java
                .withFilter(instrumentationFilter)
                .withHandler(new SlidingWindowMetricsInvocationHandler(metricRegistry, name))
                .withLogging(
                        LoggerFactory.getLogger("performance." + name),
                        LoggingLevel.TRACE,
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ReusablePersisters.java`
#### Snippet
```java
    }

    static <T> ReusablePersister<T> wrapLegacyPersister(Persister<T> legacyPersister) {
        return new WrapLegacyPersister<T>(legacyPersister);
    }
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ReusablePersisters.java`
#### Snippet
```java
    }

    private static final class BackcompatPersister<T> implements Persister<T> {
        private final ReusablePersister<T> delegate;

```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ReusablePersisters.java`
#### Snippet
```java
    private ReusablePersisters() {}

    static <T> Persister<T> backcompat(ReusablePersister<T> persister) {
        return new BackcompatPersister<T>(persister);
    }
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ReusablePersisters.java`
#### Snippet
```java

    private static final class WrapLegacyPersister<T> implements ReusablePersister<T> {
        private final Persister<T> delegate;

        private WrapLegacyPersister(Persister<T> delegate) {
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ReusablePersisters.java`
#### Snippet
```java
        private final Persister<T> delegate;

        private WrapLegacyPersister(Persister<T> delegate) {
            this.delegate = delegate;
        }
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schemas.java`
#### Snippet
```java
        Preconditions.checkArgument(
                !indexName.endsWith(INDEX_SUFFIX), "Index name cannot end with '%s': %s", INDEX_SUFFIX, indexName);
        return TableReference.createUnsafe(indexName + definition.getIndexType().getIndexSuffix());
    }

```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
        if (AbstractMessage.class.isAssignableFrom(protoOrPersistable)) {
            return ColumnValueDescription.forProtoMessage(protoOrPersistable, compression);
        } else if (Persister.class.isAssignableFrom(protoOrPersistable)) {
            return ColumnValueDescription.forPersister(protoOrPersistable, compression);
        } else if (ReusablePersister.class.isAssignableFrom(protoOrPersistable)) {
```

### Deprecation
'forPersister(java.lang.Class\>, com.palantir.atlasdb.table.description.ColumnValueDescription.Compression)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
            return ColumnValueDescription.forProtoMessage(protoOrPersistable, compression);
        } else if (Persister.class.isAssignableFrom(protoOrPersistable)) {
            return ColumnValueDescription.forPersister(protoOrPersistable, compression);
        } else if (ReusablePersister.class.isAssignableFrom(protoOrPersistable)) {
            return ColumnValueDescription.forReusablePersister(protoOrPersistable, compression);
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
        Preconditions.checkArgument(Format.PERSISTER == format);

        return Persister.class.isAssignableFrom(importClass);
    }

```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java

            if (isLegacyPersister(importClass)) {
                Class<Persister<?>> persisterClass = (Class<Persister<?>>) importClass;
                return persisterClass.isAnnotationPresent(Reusable.class);
            } else {
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java

            if (isLegacyPersister(importClass)) {
                Class<Persister<?>> persisterClass = (Class<Persister<?>>) importClass;
                return persisterClass.isAnnotationPresent(Reusable.class);
            } else {
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableType.java`
#### Snippet
```java
        int tableNameLastIndex = tableReference.getQualifiedName().lastIndexOf(StreamTableType.VALUE.tableSuffix);
        String indexTableName = tableReference.getQualifiedName().substring(0, tableNameLastIndex) + INDEX.tableSuffix;
        return TableReference.createUnsafe(indexTableName);
    }
}
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
                @SuppressWarnings("MustBeClosedChecker")
                        ReleasableCloseable<ClosableIterator<RowResult<Set<Long>>>> tsResults =
                                new ReleasableCloseable<>(keyValueService.getRangeOfTimestamps(
                                        tableRef, range, request.maxTimestampExclusive()))) {
            PeekingIterator<RowResult<Value>> peekingValues = Iterators.peekingIterator(valueResults.get());
```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/DualWriteKeyValueService.java`
#### Snippet
```java
    @Override
    public List<byte[]> getRowKeysInRange(TableReference tableRef, byte[] startRow, byte[] endRow, int maxResults) {
        return delegate1.getRowKeysInRange(tableRef, startRow, endRow, maxResults);
    }

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/DualWriteKeyValueService.java`
#### Snippet
```java
    public ClosableIterator<RowResult<Set<Long>>> getRangeOfTimestamps(
            TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        return delegate1.getRangeOfTimestamps(tableRef, rangeRequest, timestamp);
    }

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueService.java`
#### Snippet
```java
    public void deleteRange(TableReference tableRef, RangeRequest range) {
        try (ClosableIterator<RowResult<Set<Long>>> iterator =
                getRangeOfTimestamps(tableRef, range, AtlasDbConstants.MAX_TS)) {
            while (iterator.hasNext()) {
                RowResult<Set<Long>> rowResult = iterator.next();
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/persister/JacksonPersister.java`
#### Snippet
```java
            return mapper.writeValueAsBytes(value);
        } catch (JsonProcessingException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/persister/JacksonPersister.java`
#### Snippet
```java
            return mapper.readValue(input, typeRef);
        } catch (IOException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/ProfilingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        return maybeLog(
                () -> delegate.getRangeOfTimestamps(tableRef, rangeRequest, timestamp),
                logTimeAndTableRange("getRangeOfTimestamps", tableRef, rangeRequest));
    }
```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/ProfilingKeyValueService.java`
#### Snippet
```java
    public List<byte[]> getRowKeysInRange(TableReference tableRef, byte[] startRow, byte[] endRow, int maxResults) {
        return maybeLog(
                () -> delegate.getRowKeysInRange(tableRef, startRow, endRow, maxResults),
                logTimeAndTable("getRowKeysInRange", tableRef));
    }
```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/ForwardingTransaction.java`
#### Snippet
```java
    public Iterable<BatchingVisitable<RowResult<byte[]>>> getRanges(
            TableReference tableRef, Iterable<RangeRequest> rangeRequests) {
        return delegate().getRanges(tableRef, rangeRequests);
    }

```

### Deprecation
'runTaskWithConditionWithRetry(com.google.common.base.Supplier, com.palantir.atlasdb.transaction.api.ConditionAwareTransactionTask)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java
    @Override
    public <T, E extends Exception> T runTaskWithRetry(TransactionTask<T, E> task) throws E {
        return runTaskWithConditionWithRetry(() -> NO_OP_CONDITION, (txn, condition) -> task.execute(txn));
    }

```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/ReadTransaction.java`
#### Snippet
```java
            TableReference tableRef, Iterable<RangeRequest> rangeRequests) {
        checkTableName(tableRef);
        return delegate().getRanges(tableRef, rangeRequests);
    }

```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.integer("maxResults", maxResults);
        })) {
            return delegate().getRowKeysInRange(tableRef, startRow, endRow, maxResults);
        }
    }
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        @SuppressWarnings("MustBeClosedChecker")
        ClosableIterator<RowResult<Set<Long>>> result =
                delegate().getRangeOfTimestamps(tableRef, rangeRequest, timestamp);

        return attachDetachedSpanCompletion(detachedSpan, result, sink -> sink.tableRef(tableRef));
```

### Deprecation
'serversList()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/ServerListConfigs.java`
#### Snippet
```java
            TimeLockClientConfig installClientConfig, Refreshable<Optional<TimeLockRuntimeConfig>> runtimeConfig) {
        return runtimeConfig.map(
                config -> config.map(TimeLockRuntimeConfig::serversList).orElseGet(installClientConfig::serversList));
    }

```

### Deprecation
'serversList()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java
                .from(clientConfig)
                .serversList(addSslConfigurationToServerListFunction(sslConfiguration)
                        .apply(clientConfig.serversList()))
                .build());
    }
```

### Deprecation
'client()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java

            timelock()
                    .flatMap(TimeLockClientConfig::client)
                    .ifPresent(client -> Preconditions.checkState(
                            client.equals(presentNamespace),
```

### Deprecation
'client()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
        // There is no top level namespace
        if (keyValueService() instanceof InMemoryAtlasDbConfig) {
            if (timelock().isPresent() && !timelock().get().client().isPresent()) {
                throw new SafeIllegalStateException("For InMemoryKVS, the TimeLock client should not be empty");
            }
```

### Deprecation
'client()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java

            Preconditions.checkState(
                    timeLockConfig.client().isPresent(),
                    "Either the atlas root-level namespace config or the TimeLock client config should be present.");

```

### Deprecation
'client()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
                    || !enableNonstandardAndPossiblyErrorProneTopologyAllowDifferentKvsAndTimelockNamespaces()) {
                Preconditions.checkState(
                        timeLockConfig.client().equals(Optional.of(keyValueServiceNamespace)),
                        "AtlasDB refused to start, in order to avoid potential data corruption."
                                + " Please contact AtlasDB support to remediate this. Specific steps are required;"
```

### Deprecation
'instrument(com.codahale.metrics.MetricRegistry, java.lang.Class, U, java.lang.String)' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceCreator.java`
#### Snippet
```java

    public static <T> T instrumentService(MetricRegistry metricRegistry, T service, Class<T> serviceClass) {
        return AtlasDbMetrics.instrument(metricRegistry, serviceClass, service, MetricRegistry.name(serviceClass));
    }

```

### Deprecation
'createLockAndTimestampServicesForCli(com.palantir.atlasdb.util.MetricsManager, com.palantir.atlasdb.config.AtlasDbConfig, com.palantir.refreshable.Refreshable, java.util.function.Consumer, java.util.function.Supplier, java.util.function.Supplier, com.palantir.timestamp.TimestampStoreInvalidator, ...)' is deprecated
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/LockAndTimestampModule.java`
#### Snippet
```java
        Supplier<ManagedTimestampService> managedTimestampService = atlasSupplier::getManagedTimestampService;

        return TransactionManagers.createLockAndTimestampServicesForCli(
                metricsManager,
                config.atlasDbConfig(),
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/TransactionManagerModule.java`
#### Snippet
```java
                true,
                () -> config.atlasDbRuntimeConfig().transaction(),
                ConflictTracer.NO_OP,
                DefaultMetricsFilterEvaluationContext.createDefault(),
                Optional.empty(),
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            UserAgent userAgent,
            String timelockNamespace,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticConjureTimelockService' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
        // TODO(fdesouza): Remove this once PDS-95791 is resolved.
        ConjureTimelockService withDiagnosticsConjureTimelockService = lockDiagnosticComponents
                .<ConjureTimelockService>map(components -> new LockDiagnosticConjureTimelockService(
                        conjureTimelockService,
                        components.clientLockDiagnosticCollector(),
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### Deprecation
'client()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java

        String timelockNamespace =
                OptionalResolver.resolve(config.timelock().flatMap(TimeLockClientConfig::client), config.namespace());
        LockAndTimestampServices lockAndTimestampServices = getLockAndTimestampServices(
                metricsManager,
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final TimestampStoreInvalidator invalidator;
    private final UserAgent userAgent;
    private final Optional<LockDiagnosticComponents> lockDiagnosticComponents;
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### Deprecation
'instrument(com.codahale.metrics.MetricRegistry, java.lang.Class, U)' is deprecated
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/KeyValueServiceModule.java`
#### Snippet
```java

        kvs = TracingKeyValueService.create(kvs);
        kvs = AtlasDbMetrics.instrument(metricsManager.getRegistry(), KeyValueService.class, kvs);
        kvs = ValidatingQueryRewritingKeyValueService.create(kvs);

```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestTransactionManagerModule.java`
#### Snippet
```java
                true,
                () -> config.atlasDbRuntimeConfig().transaction(),
                ConflictTracer.NO_OP,
                DefaultMetricsFilterEvaluationContext.createDefault(),
                Optional.empty(),
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticConfig' is deprecated
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java
            LeadershipComponents leadershipComponents,
            // TODO(fdesouza): Remove this once PDS-95791 is resolved.
            Map<Client, LockDiagnosticConfig> lockDiagnosticConfig) {
        this.metricsManager = metricsManager;
        this.lockLog = lockLog;
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticConfig' is deprecated
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java
    private final LockLog lockLog;
    private final LeadershipComponents leadershipComponents;
    private final Map<Client, LockDiagnosticConfig> lockDiagnosticConfig;

    AsyncTimeLockServicesCreator(
```

### Deprecation
'client()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
        return Stream.of(
                        config().namespace(),
                        config().timelock().flatMap(TimeLockClientConfig::client),
                        config().keyValueService().namespace())
                .filter(Optional::isPresent)
```

### Deprecation
'getDefault()' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
                .userAgent(AtlasDbRemotingConstants.DEFAULT_USER_AGENT)
                .globalMetricsRegistry(new MetricRegistry())
                .globalTaggedMetricRegistry(DefaultTaggedMetricRegistry.getDefault())
                .lockAndTimestampServiceFactory(maybeFactory)
                .addAllSchemas(schemas)
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
                        metricsManager.getRegistry(), () -> runtime.get().getTimestampCacheSize()));

        ConflictTracer conflictTracer = lockDiagnosticComponents()
                .map(LockDiagnosticComponents::clientLockDiagnosticCollector)
                .<ConflictTracer>map(Function.identity())
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java

        ConflictTracer conflictTracer = lockDiagnosticComponents()
                .map(LockDiagnosticComponents::clientLockDiagnosticCollector)
                .<ConflictTracer>map(Function.identity())
                .orElse(ConflictTracer.NO_OP);
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
        ConflictTracer conflictTracer = lockDiagnosticComponents()
                .map(LockDiagnosticComponents::clientLockDiagnosticCollector)
                .<ConflictTracer>map(Function.identity())
                .orElse(ConflictTracer.NO_OP);

```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
                .map(LockDiagnosticComponents::clientLockDiagnosticCollector)
                .<ConflictTracer>map(Function.identity())
                .orElse(ConflictTracer.NO_OP);

        Callback<TransactionManager> callbacks = new Callback.CallChain<>(
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java

    // TODO(fdesouza): Remove this once PDS-95791 is resolved.
    abstract Optional<LockDiagnosticComponents> lockDiagnosticComponents();

    @Value.Default
```

### Deprecation
'lockDiagnosticConfig()' is deprecated
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java

        this.timelockCreator = new AsyncTimeLockServicesCreator(
                metricsManager, lockLog, paxosResources.leadershipComponents(), install.lockDiagnosticConfig());

        this.noSimultaneousServiceCheck = NoSimultaneousServiceCheck.create(
```

### Deprecation
'cluster()' is deprecated
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
    static void verifyTopologyOffersHighAvailability(
            TimeLockInstallConfiguration install, ClusterConfiguration cluster) {
        if (install.cluster().enableNonstandardAndPossiblyDangerousTopology()
                || cluster.enableNonstandardAndPossiblyDangerousTopology()) {
            return;
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/BlockingWorkerPool.java`
#### Snippet
```java
            f.get();
        } catch (ExecutionException e) {
            throw Throwables.propagate(e.getCause());
        }
    }
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
                throw new RuntimeException(e);
            } catch (ExecutionException e) {
                throw Throwables.propagate(e.getCause());
            }
        }
```

### Deprecation
'org.apache.commons.cli.OptionBuilder' is deprecated
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
```

### Deprecation
'org.apache.commons.cli.GnuParser' is deprecated
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
    public void run(String[] args) {
        try {
            CommandLineParser parser = new GnuParser();
            CommandLine cli = parser.parse(OPTIONS, args);
            if (cli.hasOption(HELP_FLAG_SHORT)) {
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/impl/TableMetadataCache.java`
#### Snippet
```java
                .expireAfterAccess(Duration.ofMinutes(15))
                .build(tableName -> {
                    byte[] rawMetadata = kvs.getMetadataForTable(TableReference.createUnsafe(tableName));
                    if (rawMetadata == null || rawMetadata.length == 0) {
                        return EMPTY;
```

### Deprecation
'writerWithType(java.lang.Class)' is deprecated
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleServiceImpl.java`
#### Snippet
```java

    private <T> String toJson(T value, Class<T> type) throws IOException {
        return mapper.writerWithType(type).writeValueAsString(value);
    }

```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/impl/AtlasDbServiceImpl.java`
#### Snippet
```java

    private TableReference getTableRef(String tableName) {
        return TableReference.createUnsafe(tableName);
    }
}
```

### Deprecation
'startTransactions(java.util.List)' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/impl/AtlasDbServiceImpl.java`
#### Snippet
```java
        TransactionToken token = new TransactionToken(id);
        OpenTransaction openTxn =
                Iterables.getOnlyElement(txManager.startTransactions(ImmutableList.of(PreCommitConditions.NO_OP)));
        transactions.put(token, openTxn);
        return token;
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
                    Class<?> rawPersister = Class.forName(className);

                    if (Persister.class.isAssignableFrom(rawPersister)) {
                        @SuppressWarnings("unchecked")
                        Class<? extends Persister<?>> asSubclass = (Class<? extends Persister<?>>)
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
                    if (Persister.class.isAssignableFrom(rawPersister)) {
                        @SuppressWarnings("unchecked")
                        Class<? extends Persister<?>> asSubclass = (Class<? extends Persister<?>>)
                                Class.forName(className).asSubclass(Persister.class);
                        return ColumnValueDescription.forPersister(asSubclass);
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
                    if (Persister.class.isAssignableFrom(rawPersister)) {
                        @SuppressWarnings("unchecked")
                        Class<? extends Persister<?>> asSubclass = (Class<? extends Persister<?>>)
                                Class.forName(className).asSubclass(Persister.class);
                        return ColumnValueDescription.forPersister(asSubclass);
```

### Deprecation
'com.palantir.atlasdb.persist.api.Persister' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
                        @SuppressWarnings("unchecked")
                        Class<? extends Persister<?>> asSubclass = (Class<? extends Persister<?>>)
                                Class.forName(className).asSubclass(Persister.class);
                        return ColumnValueDescription.forPersister(asSubclass);
                    } else {
```

### Deprecation
'forPersister(java.lang.Class\>)' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
                        Class<? extends Persister<?>> asSubclass = (Class<? extends Persister<?>>)
                                Class.forName(className).asSubclass(Persister.class);
                        return ColumnValueDescription.forPersister(asSubclass);
                    } else {
                        @SuppressWarnings("unchecked")
```

### Deprecation
'AGGRESSIVE_WITH_NETWORK_CLEANUP' is deprecated
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/DbKvsRule.java`
#### Snippet
```java
            .waitingForService("postgres", Container::areAllPortsOpen)
            .saveLogsTo(LogDirectory.circleAwareLogDirectory(DbKvsRule.class))
            .shutdownStrategy(ShutdownStrategy.AGGRESSIVE_WITH_NETWORK_CLEANUP)
            .build();

```

### Deprecation
'create(com.palantir.atlasdb.keyvalue.dbkvs.DbKeyValueServiceConfig)' is deprecated
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/DbKvsRule.java`
#### Snippet
```java

    private ConnectionManagerAwareDbKvs createKvs() {
        return ConnectionManagerAwareDbKvs.create(getKvsConfig());
    }
}
```

### Deprecation
'com.palantir.atlasdb.debug.LockDiagnosticComponents' is deprecated
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockTestUtils.java`
#### Snippet
```java
            AtlasDbRuntimeConfig runtimeConfigTemplate,
            ImmutableAtlasDbConfig.Builder installConfigTemplate,
            Optional<LockDiagnosticComponents> diagnosticComponents,
            Schema... schemas) {
        List<String> serverUris = cluster.servers().stream()
```

### Deprecation
'getDefault()' is deprecated
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockTestUtils.java`
#### Snippet
```java
                .userAgent(UserAgent.of(UserAgent.Agent.of("u" + agent, "0.0.0")))
                .globalMetricsRegistry(new MetricRegistry())
                .globalTaggedMetricRegistry(DefaultTaggedMetricRegistry.getDefault())
                .runtimeConfigSupplier(() -> Optional.of(runtimeConfig))
                .lockDiagnosticComponents(diagnosticComponents)
```

### Deprecation
'getMinLockedInVersionId()' is deprecated
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
         * not call this method multiple times.
         *
         * @see LockService#getMinLockedInVersionId()
         */
        public Builder withLockedInVersionId(long newVersionId) {
```

### Deprecation
'getMinLockedInVersionId()' is deprecated
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
     * did not specify a version ID.
     *
     * @see LockService#getMinLockedInVersionId()
     */
    @Nullable
```

### Deprecation
'getSingleton()' is deprecated
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/BatchSizeRecorder.java`
#### Snippet
```java

    public static BatchSizeRecorder create(String safeLoggerIdentifier, Map<String, String> tags) {
        Histogram histogram = SharedTaggedMetricRegistries.getSingleton()
                .histogram(MetricName.builder()
                        .safeName(BATCH_SIZE_METER_NAME)
```

### Deprecation
'murmur3_32()' is deprecated
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockCluster.java`
#### Snippet
```java

    private static String name() {
        return Hashing.murmur3_32().hashLong(new Random().nextLong()).toString();
    }

```

### Deprecation
'findExtensionByName(java.lang.String)' is deprecated
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java

        // Finally, look for extensions
        extension = extensionRegistry.findExtensionByName(name);
        if (extension != null) {
            if (extension.descriptor.getContainingType() != type) {
```

### Deprecation
'fromInternalTableName(java.lang.String)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTables.java`
#### Snippet
```java

    Stream<TableReference> getTableReferencesWithoutFiltering() {
        return getExisting().stream().map(TableReference::fromInternalTableName);
    }

```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ColumnFamilyDefinitions.java`
#### Snippet
```java
                "Found client/server disagreement on {} for table {}. (client = ({}), server = ({}))",
                SafeArg.of("disagreementType", fieldName),
                LoggingArgs.tableRef(TableReference.createUnsafe(tableName)),
                SafeArg.of("clientVersion", clientSideVersion),
                SafeArg.of("clusterVersion", clusterSideVersion));
```

### Deprecation
'setSoftMinEvictableIdleTimeMillis(long)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolingContainer.java`
#### Snippet
```java
        poolConfig.setTestOnBorrow(true);

        poolConfig.setSoftMinEvictableIdleTimeMillis(
                TimeUnit.MILLISECONDS.convert(Duration.ofSeconds(config.idleConnectionTimeoutSeconds())));
        poolConfig.setMinEvictableIdleTimeMillis(Long.MAX_VALUE);
```

### Deprecation
'setMinEvictableIdleTimeMillis(long)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolingContainer.java`
#### Snippet
```java
        poolConfig.setSoftMinEvictableIdleTimeMillis(
                TimeUnit.MILLISECONDS.convert(Duration.ofSeconds(config.idleConnectionTimeoutSeconds())));
        poolConfig.setMinEvictableIdleTimeMillis(Long.MAX_VALUE);

        // the randomness here is to prevent all of the pools for all of the hosts
```

### Deprecation
'setTimeBetweenEvictionRunsMillis(long)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolingContainer.java`
#### Snippet
```java
        int timeBetweenEvictionsSeconds = config.timeBetweenConnectionEvictionRunsSeconds();
        int delta = ThreadLocalRandom.current().nextInt(Math.min(timeBetweenEvictionsSeconds / 2, 10));
        poolConfig.setTimeBetweenEvictionRunsMillis(
                TimeUnit.MILLISECONDS.convert(Duration.ofSeconds(timeBetweenEvictionsSeconds + delta)));
        poolConfig.setNumTestsPerEvictionRun(-(int) (1.0 / config.proportionConnectionsToCheckPerEvictionRun()));
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
    @SuppressWarnings("checkstyle:RegexpSinglelineJava")
    static TableReference tableReferenceFromBytes(byte[] name) {
        return TableReference.createUnsafe(new String(name, Charset.defaultCharset()));
    }

```

### Deprecation
'fromInternalTableName(java.lang.String)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java

    static TableReference tableReferenceFromCfDef(CfDef cf) {
        return TableReference.fromInternalTableName(cf.getName());
    }

```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
    @SuppressWarnings("checkstyle:RegexpSinglelineJava")
    static TableReference lowerCaseTableReferenceFromBytes(byte[] name) {
        return TableReference.createUnsafe(new String(name, Charset.defaultCharset()).toLowerCase(Locale.ROOT));
    }

```

### Deprecation
'fromInternalTableName(java.lang.String)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableMetadata.java`
#### Snippet
```java
        try {
            Set<TableReference> existingTablesLowerCased = cassandraTables.getExistingLowerCased().stream()
                    .map(TableReference::fromInternalTableName)
                    .collect(Collectors.toSet());

```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    /**
     * Returns a sorted list of row keys in the specified range; see
     * {@link CassandraKeyValueService#getRowKeysInRange(TableReference, byte[], byte[], int)}.
     *
     * Implementation specific: this method specifically does not read any of the columns and can therefore be used
```

### Deprecation
'instrument(com.codahale.metrics.MetricRegistry, java.lang.Class, U)' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java

    private CqlExecutor newInstrumentedCqlExecutor() {
        return AtlasDbMetrics.instrument(
                metricsManager.getRegistry(), CqlExecutor.class, new CqlExecutorImpl(clientPool, ConsistencyLevel.ALL));
    }
```

### Deprecation
'keyspace()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfigs.java`
#### Snippet
```java
    default CassandraKeyValueServiceConfigs copyWithResolvedKeyspace(Optional<String> maybeKeyspace) {
        String desiredKeyspace =
                OptionalResolver.resolve(maybeKeyspace, installConfig().keyspace());
        return this.copyWithKeyspace(desiredKeyspace);
    }
```

### Deprecation
'replicationFactor()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    @Override
    public Integer replicationFactor() {
        return installConfig.replicationFactor().orElseGet(runtimeConfig::replicationFactor);
    }

```

### Deprecation
'fetchBatchCount()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    @Override
    public int fetchBatchCount() {
        return installConfig.fetchBatchCount().orElseGet(runtimeConfig::fetchBatchCount);
    }

```

### Deprecation
'servers()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    @Override
    public CassandraServersConfig servers() {
        return installConfig.servers().orElseGet(runtimeConfig::servers);
    }

```

### Deprecation
'unresponsiveHostBackoffTimeSeconds()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    public int unresponsiveHostBackoffTimeSeconds() {
        return installConfig
                .unresponsiveHostBackoffTimeSeconds()
                .orElseGet(runtimeConfig::unresponsiveHostBackoffTimeSeconds);
    }
```

### Deprecation
'mutationBatchCount()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    @Override
    public int mutationBatchCount() {
        return installConfig.mutationBatchCount().orElseGet(runtimeConfig::mutationBatchCount);
    }

```

### Deprecation
'mutationBatchSizeBytes()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    @Override
    public int mutationBatchSizeBytes() {
        return installConfig.mutationBatchSizeBytes().orElseGet(runtimeConfig::mutationBatchSizeBytes);
    }

```

### Deprecation
'sweepReadThreads()' is deprecated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraReloadableKeyValueServiceRuntimeConfig.java`
#### Snippet
```java
    @Override
    public Integer sweepReadThreads() {
        return installConfig.sweepReadThreads().orElseGet(runtimeConfig::sweepReadThreads);
    }

```

### Deprecation
'getSingleton()' is deprecated
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java
    @Override
    public void run(AtlasDbEteConfiguration config, final Environment environment) throws Exception {
        TaggedMetricRegistry taggedMetrics = SharedTaggedMetricRegistries.getSingleton();
        TransactionManager txManager = tryToCreateTransactionManager(config, environment, taggedMetrics);
        Supplier<SweepTaskRunner> sweepTaskRunner = Suppliers.memoize(() -> getSweepTaskRunner(txManager));
```

### Deprecation
'get(java.lang.Iterable)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/WritesDigestEmitter.java`
#### Snippet
```java
        log.info("All written timestamps", SafeArg.of("allWrittenTimestamps", allWrittenTimestamps));

        Map<Long, Long> transactionCommitStatuses = transactionService.get(allWrittenTimestamps);
        log.info("Transaction commit statuses", SafeArg.of("transactionCommitStatuses", transactionCommitStatuses));

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-dbkvs-tests/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/AbstractDbKvsKeyValueServiceTest.java`
#### Snippet
```java
        setMaxRangeOfTimestampsBatchSize(8);
        try (ClosableIterator<RowResult<Set<Long>>> rowResults =
                keyValueService.getRangeOfTimestamps(TEST_TABLE, reverseRange(5), 100)) {
            List<RowResult<Set<Long>>> resultList = ImmutableList.copyOf(rowResults);

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-dbkvs-tests/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/AbstractDbKvsKeyValueServiceTest.java`
#### Snippet
```java
        setMaxRangeOfTimestampsBatchSize(7);
        try (ClosableIterator<RowResult<Set<Long>>> rowResults =
                keyValueService.getRangeOfTimestamps(TEST_TABLE, normalRange(10), 62)) {
            List<RowResult<Set<Long>>> resultList = ImmutableList.copyOf(rowResults);

```

### Deprecation
'getSingleton()' is deprecated
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
    public static ExecutorService newFixedThreadPool(int numThreads, String name) {
        return MetricRegistries.executor()
                .registry(SharedTaggedMetricRegistries.getSingleton())
                .name(name)
                .executor(PTExecutors.wrap(
```

### Deprecation
'getSingleton()' is deprecated
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
        Preconditions.checkArgument(maxThreads > 0, "Max threads must be positive");
        return MetricRegistries.executor()
                .registry(SharedTaggedMetricRegistries.getSingleton())
                .name(name)
                .executor(PTExecutors.wrap(name, getViewExecutor(name, maxThreads, 0, SHARED_EXECUTOR.get())))
```

### Deprecation
'getSingleton()' is deprecated
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
    public static ExecutorService newFixedThreadPoolWithoutSpan(int numThreads, String name) {
        return MetricRegistries.executor()
                .registry(SharedTaggedMetricRegistries.getSingleton())
                .name(name)
                .executor(PTExecutors.wrapWithoutSpan(
```

### Deprecation
'getSingleton()' is deprecated
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
        Preconditions.checkArgument(maxThreads > 0, "Max threads must be positive");
        return MetricRegistries.executor()
                .registry(SharedTaggedMetricRegistries.getSingleton())
                .name(name)
                .executor(PTExecutors.wrapWithoutSpan(getViewExecutor(name, maxThreads, 0, SHARED_EXECUTOR.get())))
```

### Deprecation
'get(java.lang.Iterable)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AbortingCommitTsLoader.java`
#### Snippet
```java

        Lists.partition(missingKeys, AtlasDbConstants.TRANSACTION_TIMESTAMP_LOAD_BATCH_LIMIT)
                .forEach(batch -> result.putAll(transactionService.get(batch)));

        // roll back any uncommitted transactions
```

### Deprecation
'get(long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AbortingCommitTsLoader.java`
#### Snippet
```java

    private Optional<Long> tryGetFromTransactionService(Long startTs) {
        return Optional.ofNullable(transactionService.get(startTs));
    }

```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
    private static SweepPriority hydrate(SweepPriorityTable.SweepPriorityRowResult rr) {
        return ImmutableSweepPriority.builder()
                .tableRef(TableReference.createUnsafe(rr.getRowName().getFullTableName()))
                .writeCount(rr.hasWriteCount() ? rr.getWriteCount() : 0L)
                .lastSweepTimeMillis(
```

### Deprecation
'runTaskWithLocksWithRetry(java.lang.Iterable, com.google.common.base.Supplier, com.palantir.atlasdb.transaction.api.LockAwareTransactionTask)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/RangeVisitor.java`
#### Snippet
```java
            try {
                long startTime = System.currentTimeMillis();
                long numVisited = txManager.runTaskWithLocksWithRetry(
                        lockTokens, Suppliers.ofInstance(null), new LockAwareTransactionTask<Long, RuntimeException>() {
                            @Override
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
    private void compactTable(String tableToCompact, CompactorConfig config) {
        // System tables MAY be involved in this process.
        keyValueService.compactInternally(TableReference.createUnsafe(tableToCompact), config.inMaintenanceMode());
    }

```

### Deprecation
'get(long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
    private long getCommitTimestampRollBackIfNecessary(
            long startTimestamp, Multimap<TableReference, Cell> tableNameToCell) {
        Long commitTimestamp = transactionService.get(startTimestamp);
        if (commitTimestamp == null) {
            // Roll back this transaction (note that rolling back arbitrary transactions
```

### Deprecation
'get(long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
                        new TransactionFailedRetriableException(msg, e));
            }
            commitTimestamp = transactionService.get(startTimestamp);
        }
        if (commitTimestamp == null) {
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            Supplier<TransactionConfig> transactionConfig,
            boolean shouldInstrument,
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
                true,
                () -> ImmutableTransactionConfig.builder().build(),
                ConflictTracer.NO_OP,
                DefaultMetricsFilterEvaluationContext.createDefault(),
                Optional.empty(),
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(SerializableTransactionManager.class);

    private final ConflictTracer conflictTracer;

    public static class InitializeCheckingWrapper implements AutoDelegate_TransactionManager {
```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableSplittingKeyValueService.java`
#### Snippet
```java
    @Override
    public List<byte[]> getRowKeysInRange(TableReference tableRef, byte[] startRow, byte[] endRow, int maxResults) {
        return getDelegate(tableRef).getRowKeysInRange(tableRef, startRow, endRow, maxResults);
    }

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableSplittingKeyValueService.java`
#### Snippet
```java
    public ClosableIterator<RowResult<Set<Long>>> getRangeOfTimestamps(
            TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        return getDelegate(tableRef).getRangeOfTimestamps(tableRef, rangeRequest, timestamp);
    }

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        try {
            return delegate().getRangeOfTimestamps(tableMapper.getMappedTableName(tableRef), rangeRequest, timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public List<byte[]> getRowKeysInRange(TableReference tableRef, byte[] startRow, byte[] endRow, int maxResults) {
        try {
            return delegate().getRowKeysInRange(tableMapper.getMappedTableName(tableRef), startRow, endRow, maxResults);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
    private final Counter openTransactionCounter;

    private final ConflictTracer conflictTracer;

    protected final TransactionKnowledgeComponents knowledge;
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
```

### Deprecation
'getRowKeysInRange(com.palantir.atlasdb.keyvalue.api.TableReference, byte\[\], byte\[\], int)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingKeyValueServiceImpl.java`
#### Snippet
```java
    @Override
    public List<byte[]> getRowKeysInRange(TableReference tableRef, byte[] startRow, byte[] endRow, int maxResults) {
        List<byte[]> result = delegate.getRowKeysInRange(tableRef, startRow, endRow, maxResults);
        tracker.recordReadForTable(tableRef, "getRowKeysInRange", MeasuringUtils.sizeOfByteCollection(result));
        return result;
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingKeyValueServiceImpl.java`
#### Snippet
```java
            throws InsufficientConsistencyException {
        try (ClosableIterator<RowResult<Set<Long>>> result =
                delegate.getRangeOfTimestamps(tableRef, rangeRequest, timestamp)) {
            return wrapIterator(result, tracker.recordCallForTable(tableRef), MeasuringUtils::sizeOfLongSetRowResult);
        }
```

### Deprecation
'getAsync(long)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java

    private ListenableFuture<Long> getterV1(AsyncTransactionService service, Long startTs) {
        return service.getAsync(startTs);
    }

```

### Deprecation
'getAsync(java.lang.Iterable)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    private ListenableFuture<Map<Long, Long>> getterV1(
            AsyncTransactionService service, Iterable<Long> startTimestamps) {
        return service.getAsync(startTimestamps);
    }

```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            TableLevelMetricsController tableLevelMetricsController,
            TransactionKnowledgeComponents knowledge) {
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractBackgroundSweeperIntegrationTest.java`
#### Snippet
```java
    void verifyTableSwept(TableReference tableRef, int expectedCells, boolean conservative) {
        try (ClosableIterator<RowResult<Set<Long>>> iter =
                kvs.getRangeOfTimestamps(tableRef, RangeRequest.all(), Long.MAX_VALUE)) {
            int numCells = 0;
            while (iter.hasNext()) {
```

### Deprecation
'newSetFromMap(java.util.Map)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TrackingKeyValueService.java`
#### Snippet
```java
public class TrackingKeyValueService extends ForwardingKeyValueService {
    private final Set<TableReference> tablesWrittenTo = Sets.newSetFromMap(new ConcurrentHashMap<>());
    private final Set<TableReference> tablesReadFrom = Sets.newSetFromMap(new ConcurrentHashMap<>());
    private final KeyValueService delegate;

```

### Deprecation
'newSetFromMap(java.util.Map)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TrackingKeyValueService.java`
#### Snippet
```java

public class TrackingKeyValueService extends ForwardingKeyValueService {
    private final Set<TableReference> tablesWrittenTo = Sets.newSetFromMap(new ConcurrentHashMap<>());
    private final Set<TableReference> tablesReadFrom = Sets.newSetFromMap(new ConcurrentHashMap<>());
    private final KeyValueService delegate;
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitLockTest.java`
#### Snippet
```java
                true,
                () -> TRANSACTION_CONFIG,
                ConflictTracer.NO_OP,
                new SimpleTableLevelMetricsController(metricsManager),
                knowledge) {
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java
                true,
                () -> TRANSACTION_CONFIG,
                ConflictTracer.NO_OP,
                DefaultMetricsFilterEvaluationContext.createDefault(),
                Optional.empty(),
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java
                        validateLocksOnReads,
                        transactionConfig,
                        ConflictTracer.NO_OP,
                        tableLevelMetricsController,
                        knowledge),
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java
                true,
                () -> TRANSACTION_CONFIG,
                ConflictTracer.NO_OP,
                DefaultMetricsFilterEvaluationContext.createDefault(),
                Optional.empty(),
```

### Deprecation
'getLockLog()' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimelockServices.java`
#### Snippet
```java
    @Override
    public LockLog getLockLog() {
        return delegate.getLockLog();
    }

```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            boolean validateLocksOnReads,
            Supplier<TransactionConfig> transactionConfig,
            ConflictTracer conflictTracer,
            TableLevelMetricsController tableLevelMetricsController,
            TransactionKnowledgeComponents knowledge) {
```

### Deprecation
'get(java.lang.Iterable)' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            }
            Set<Long> committedStartTimestamps = KeyedStream.stream(
                            defaultTransactionService.get(cellsToQuery.values()))
                    .filter(Objects::nonNull)
                    .keys()
```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private final Supplier<Long> startTimestamp;
    protected final MetricsManager metricsManager;
    protected final ConflictTracer conflictTracer;

    protected final MultiTableSweepQueueWriter sweepQueue;
```

### Deprecation
'startTransactions(java.util.List)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    @Override
    protected Transaction startTransaction() {
        return Iterables.getOnlyElement(txMgr.startTransactions(List.of(PreCommitConditions.NO_OP)));
    }

```

### Deprecation
'com.palantir.atlasdb.debug.ConflictTracer' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                true,
                () -> ImmutableTransactionConfig.builder().build(),
                ConflictTracer.NO_OP,
                new SimpleTableLevelMetricsController(metricsManager),
                knowledge) {
```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        tx = startTransaction();
        Iterable<BatchingVisitable<RowResult<byte[]>>> ranges =
                tx.getRanges(TEST_TABLE, Iterables.limit(Iterables.cycle(range1, range2), 1000));
        for (BatchingVisitable<RowResult<byte[]>> batchingVisitable : ranges) {
            final List<RowResult<byte[]>> list = BatchingVisitables.copyToList(batchingVisitable);
```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        secondTransaction.put(TEST_TABLE, ImmutableMap.of(secondCell, value, thirdCell, value));

        Iterable<BatchingVisitable<RowResult<byte[]>>> visitables = secondTransaction.getRanges(
                TEST_TABLE,
                ImmutableList.of(
```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java

        List<BatchingVisitable<RowResult<byte[]>>> getRangesWithPrefetchingImpl =
                ImmutableList.copyOf(tx.getRanges(TEST_TABLE, rangeRequests));
        List<BatchingVisitable<RowResult<byte[]>>> getRangesInParallelImpl = tx.getRanges(
                        TEST_TABLE, rangeRequests, 2, (rangeRequest, visitable) -> visitable)
```

### Deprecation
'getRanges(com.palantir.atlasdb.keyvalue.api.TableReference, java.lang.Iterable)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
            Transaction tx, Iterable<RangeRequest> rangeRequests, List<String> expectedValues) {
        Iterable<BatchingVisitable<RowResult<byte[]>>> getRangesWithPrefetchingImpl =
                tx.getRanges(TEST_TABLE, rangeRequests);
        Iterable<BatchingVisitable<RowResult<byte[]>>> getRangesInParallelImpl = tx.getRanges(
                        TEST_TABLE, rangeRequests, 2, (rangeRequest, visitable) -> visitable)
```

### Deprecation
'startTransactions(java.util.List)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java

    protected Transaction startTransaction() {
        return Iterables.getOnlyElement(txMgr.startTransactions(List.of(PreCommitConditions.NO_OP)));
    }

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        RangeRequest range = RangeRequest.all().withBatchHint(1);
        List<RowResult<Set<Long>>> results =
                ImmutableList.copyOf(keyValueService.getRangeOfTimestamps(TEST_TABLE, range, TEST_TIMESTAMP + 1));
        assertThat(results).hasSize(3);
        assertThat(results.get(0).getRowName()).isEqualTo(row(0));
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    public void testGetRangeOfTimestampsThrowsOnError() {
        assertThatThrownBy(() -> {
                    try (ClosableIterator<RowResult<Set<Long>>> iterator = keyValueService.getRangeOfTimestamps(
                            TEST_NONEXISTING_TABLE, RangeRequest.all(), AtlasDbConstants.MAX_TS)) {
                        iterator.hasNext();
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    @Test
    public void shouldAllowSameTablenameDifferentNamespace() {
        TableReference fooBar = TableReference.createUnsafe("foo.bar");
        TableReference bazBar = TableReference.createUnsafe("baz.bar");

```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    public void shouldAllowSameTablenameDifferentNamespace() {
        TableReference fooBar = TableReference.createUnsafe("foo.bar");
        TableReference bazBar = TableReference.createUnsafe("baz.bar");

        // try create table in same call
```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
            KeyValueService keyValueService, TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        try (ClosableIterator<RowResult<Set<Long>>> iterator =
                keyValueService.getRangeOfTimestamps(tableRef, rangeRequest, timestamp)) {
            return ImmutableList.copyOf(iterator);
        }
```

### Deprecation
'createUnsafe(java.lang.String)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
    @Test
    public void truncateShouldBeIdempotent() {
        TableReference fooBar = TableReference.createUnsafe("foo.bar");
        keyValueService.createTable(fooBar, AtlasDbConstants.GENERIC_TABLE_METADATA);

```

### Deprecation
'getRangeOfTimestamps(com.palantir.atlasdb.keyvalue.api.TableReference, com.palantir.atlasdb.keyvalue.api.RangeRequest, long)' is deprecated
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        RowResult<Set<Long>> row;
        try (ClosableIterator<RowResult<Set<Long>>> rangeWithHistory =
                keyValueService.getRangeOfTimestamps(TEST_TABLE, range, TEST_TIMESTAMP + 2)) {
            row = rangeWithHistory.next();
            assertThat(rangeWithHistory).isExhausted();
```

### Deprecation
'AGGRESSIVE_WITH_NETWORK_CLEANUP' is deprecated
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
                .machine(machine)
                .logCollector(currentLogCollector)
                .shutdownStrategy(ShutdownStrategy.AGGRESSIVE_WITH_NETWORK_CLEANUP)
                .build();

```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
            return configFile.getPath();
        } catch (IOException e) {
            throw Throwables.propagate(e);
        }
    }
```

### Deprecation
'getSingleton()' is deprecated
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/BenchmarksResource.java`
#### Snippet
```java
                .userAgent(UserAgent.of(UserAgent.Agent.of("benchmarks", "0.0.0")))
                .globalMetricsRegistry(new MetricRegistry())
                .globalTaggedMetricRegistry(SharedTaggedMetricRegistries.getSingleton())
                .addSchemas(BenchmarksSchema.SCHEMA)
                .allowHiddenTableAccess(true)
```

### Deprecation
'propagate(java.lang.Throwable)' is deprecated
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractBenchmark.java`
#### Snippet
```java
    private void throwIfAnyCallsFailed() {
        if (error != null) {
            throw Throwables.propagate(error);
        }
    }
```

### Deprecation
'getSingleton()' is deprecated
in `timelock-server-benchmark-cluster/src/main/java/com/palantir/atlasdb/timelock/benchmarks/server/TimelockBenchmarkServerLauncher.java`
#### Snippet
```java
        TimeLockRuntimeConfiguration runtime = configuration.runtime();
        TimeLockAgent.create(
                MetricsManagers.of(environment.metrics(), SharedTaggedMetricRegistries.getSingleton()),
                configuration.install(),
                Refreshable.only(runtime), // This won't actually live reload.
```

## RuleId[id=UnnecessaryReturn]
### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `lock-api/src/main/java/com/palantir/lock/client/TimestampCorroboratingTimelockService.java`
#### Snippet
```java
            case TRANSACTION:
                lowerBoundFromTransaction.accumulateAndGet(boundsRecord, this::maxBoundsRecord);
                return;
        }
    }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java

        if (atLeastOneHostResponded && aliveButInvalidPartitionerNodes.size() == 0) {
            return;
        } else {
            throw new RuntimeException(errorBuilderForEntireCluster.toString());
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
            }
        } catch (TException e) {
            return;
        }
    }
```

### UnnecessaryReturn
`return` is unnecessary as the last statement in a 'void' method
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java

        if (isClosed) {
            return;
        } else {
            leadershipTokenRef.set(leadershipToken);
```

## RuleId[id=TrivialStringConcatenation]
### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java

    private static HealthCheck<DockerPort> toBeOpen() {
        return port -> SuccessOrFailure.fromBoolean(port.isListeningNow(), "" + "" + port + " was not open");
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java

    private static HealthCheck<DockerPort> toBeOpen() {
        return port -> SuccessOrFailure.fromBoolean(port.isListeningNow(), "" + "" + port + " was not open");
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/UpdateExecutor.java`
#### Snippet
```java
        String prefixedTableName = prefixedTableNames.get(tableRef, conns);
        String sqlString = "/* UPDATE (" + prefixedTableName + ") */"
                + " UPDATE " + prefixedTableName + ""
                + " SET row_name = ?, col_name = ?, ts = ?, val = ?"
                + " WHERE row_name = ?"
```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        return config.jdbcHandler()
                .createStructArray(
                        structArrayPrefix() + "CELL_TS", "" + structArrayPrefix() + "CELL_TS_TABLE", oraRows);
    }

```

### TrivialStringConcatenation
Empty string used in concatenation
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                    if (value == null) {
                        throw tokenizer.parseExceptionPreviousToken(
                                "Enum type \"" + enumType.getFullName() + "\" has no value with number " + number + "");
                    }
                } else {
```

## RuleId[id=ManualMinMaxCalculation]
### ManualMinMaxCalculation
Can be replaced with 'Math.min()' call
in `commons-api/src/main/java/com/palantir/util/jmx/AbstractOperationStats.java`
#### Snippet
```java
        }
        double ret = lerp(prevPerc, millis / 2.0, percent, (double) millis, mustBeBellow);
        if (ret > maxInMillis) {
            return maxInMillis;
        }
```

## RuleId[id=SimplifiableConditionalExpression]
### SimplifiableConditionalExpression
`obj == null ? false : obj.booleanValue()` can be simplified to 'obj!=null \&\& obj.booleanValue()'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java
    protected boolean getBoolean(int col) throws PalantirSqlException {
        Boolean obj = (Boolean) columns.get(col);
        return obj == null ? false : obj.booleanValue();
    }

```

### SimplifiableConditionalExpression
`(pingResult.timeLockVersion().isPresent() && timeLockVersion.isPresent())
? VersionComparator.INSTANCE.compare(
pingResult.timeLockVersion().get(), timeLockVersion.get())
>= 0
: true` can be simplified to 'pingResult.timeLockVersion().isEmpty() \|\| timeLockVersion.isEmpty() \|\| VersionComparator.INSTANCE.compare( pingResult.timeLockVersion().get(), timeLockVersion.get()) \>= 0'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java

    private static boolean isAtLeastOurVersion(PingResult pingResult, Optional<OrderableSlsVersion> timeLockVersion) {
        return (pingResult.timeLockVersion().isPresent() && timeLockVersion.isPresent())
                ? VersionComparator.INSTANCE.compare(
                                pingResult.timeLockVersion().get(), timeLockVersion.get())
```

## RuleId[id=RedundantTypeArguments]
### RedundantTypeArguments
Explicit type arguments can be inferred
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java

    void updateMany(Connection c, RegisteredSQLString sql) throws PalantirSqlException {
        updateMany(c, sql.getKey(), ImmutableList.<Object[]>of());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java

    void updateMany(Connection c, String key) throws PalantirSqlException {
        updateMany(c, key, ImmutableList.<Object[]>of());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java

    private final SetMultimap<LockClient, LockRequest> outstandingLockRequestMultimap =
            Multimaps.synchronizedSetMultimap(HashMultimap.<LockClient, LockRequest>create());

    private final Set<Thread> blockingThreads = ConcurrentHashMap.newKeySet();
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
    /** The mapping from lock client to the set of tokens held by that client. */
    private final SetMultimap<LockClient, HeldLocksToken> lockClientMultimap =
            Multimaps.synchronizedSetMultimap(HashMultimap.<LockClient, HeldLocksToken>create());

    private final SetMultimap<LockClient, LockRequest> outstandingLockRequestMultimap =
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RowResult.java`
#### Snippet
```java

    public static <T> Ordering<RowResult<T>> getOrderingByRowName() {
        return Ordering.from(UnsignedBytes.lexicographicalComparator()).onResultOf(RowResult.<T>getRowNameFun());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/LockAwareTransactionTasks.java`
#### Snippet
```java
    public static <T, E extends Exception> TransactionTask<T, E> asLockUnaware(
            final LockAwareTransactionTask<T, E> task) {
        return asLockUnaware(task, ImmutableSet.<HeldLocksToken>of());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
     */
    public static Class<?>[] interfaces(Class<?> iface, Class<?> delegateClass) {
        return interfaces(iface, Collections.<Class<?>>emptySet(), delegateClass);
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/HeldLocksCollection.java`
#### Snippet
```java
        return heldLocksById.values().stream()
                .filter(AsyncResult::isCompletedSuccessfully)
                .<HeldLocks>map(AsyncResult::get)
                .collect(Collectors.toSet());
    }
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexMetadata.java`
#### Snippet
```java
            TableMetadataPersistence.LogSafety logSafety) {
        Preconditions.checkArgument(!Iterables.isEmpty(rowComponents));
        Iterable<IndexComponent> colComponents = ImmutableList.<IndexComponent>of();
        return new IndexMetadata(
                name,
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/UniformRowNamePartitioner.java`
#### Snippet
```java
    @Override
    public List<RowNamePartitioner> compound(RowNamePartitioner next) {
        return ImmutableList.<RowNamePartitioner>of(this);
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/GeneralTaskCheckpointer.java`
#### Snippet
```java
        List<EncodingType> types =
                ImmutableList.of(new EncodingType(ValueType.VAR_STRING), new EncodingType(ValueType.VAR_LONG));
        List<Object> components = ImmutableList.<Object>of(extraId, rangeId);
        return EncodingUtils.toBytes(types, components);
    }
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/Cells.java`
#### Snippet
```java

    public static Set<Cell> cellsWithConstantColumn(Collection<byte[]> rows, byte[] col) {
        return cellsWithConstantColumn(Sets.<Cell>newHashSetWithExpectedSize(rows.size()), rows, col);
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
            hashesToBytes.put(rowHash, row);
            ImmutableSortedMap.Builder<byte[], Value> builder =
                    ImmutableSortedMap.<byte[], Value>orderedBy(UnsignedBytes.lexicographicalComparator());
            rowsToColumns.put(rowHash, builder);
        }
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
                    new LocalRowColumnRangeIterator(Iterators.transform(
                            subMap.iterator(),
                            e -> Pair.<Cell, Value>of(Cell.create(rowName, e.getKey()), e.getValue()))));
        }
        return results;
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/util/paging/SimpleResultsPage.java`
#### Snippet
```java
     */
    public static <T> SimpleResultsPage<T> emptyPage() {
        return new SimpleResultsPage<T>(Collections.<T>emptyList(), false);
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/AbortingVisitors.java`
#### Snippet
```java
    public static <F, T extends F, K extends Exception> AbortingVisitor<List<T>, K> wrapBatching(
            final AbortingVisitor<? super List<F>, ? extends K> v) {
        return item -> v.visit(Collections.<F>unmodifiableList(item));
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/collect/Maps2.java`
#### Snippet
```java

    public static <K1, K2, V> ImmutableMap<K2, V> transformKeys(Map<K1, V> map, Function<K1, K2> f) {
        return fromEntries(IterableView.of(map.entrySet()).transform(MapEntries.<K1, K2, V>applyKey(f)));
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        v.batchAccept(
                DEFAULT_BATCH_SIZE,
                AbortingVisitors.<T, RuntimeException>batching(new AbortingVisitor<T, RuntimeException>() {
                    boolean hasSeenFirst = false;

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
            final OrderedSublistProvider<Long> sublistProvider, @Inclusive final long startId) {
        return BatchingVisitables.getOrderedVisitableUsingSublists(
                sublistProvider, startId, Functions.<Long>identity());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
     */
    public static <T> BatchingVisitableView<T> unique(final BatchingVisitable<T> visitable) {
        return uniqueOn(visitable, Functions.<T>identity());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    public static <T> T getFirst(BatchingVisitable<T> visitable, @Nullable T defaultElement) {
        final Mutable<T> ret = Mutables.newMutable(defaultElement);
        visitable.batchAccept(1, AbortingVisitors.<T, RuntimeException>batching(item -> {
            ret.set(item);
            return false;
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
        v.batchAccept(
                DEFAULT_BATCH_SIZE,
                AbortingVisitors.<T, RuntimeException>batching(new AbortingVisitor<T, RuntimeException>() {
                    boolean hasSeenFirst = false;

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java

    public static <T> boolean isEmpty(BatchingVisitable<T> v) {
        return v.batchAccept(1, AbortingVisitors.<T, RuntimeException>batching(AbortingVisitors.<T>alwaysFalse()));
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java

    public static <T> boolean isEmpty(BatchingVisitable<T> v) {
        return v.batchAccept(1, AbortingVisitors.<T, RuntimeException>batching(AbortingVisitors.<T>alwaysFalse()));
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java

    public static <T> TokenBackedBasicResultsPage<T, T> getFirstPage(BatchingVisitable<T> v, int numToVisitArg) {
        return getFirstPage(v, numToVisitArg, Functions.<T>identity());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    public static <T> T getLast(BatchingVisitable<T> visitable, @Nullable T defaultElement) {
        final Mutable<T> ret = Mutables.newMutable(defaultElement);
        visitable.batchAccept(DEFAULT_BATCH_SIZE, AbortingVisitors.<T, RuntimeException>batching(item -> {
            ret.set(item);
            return true;
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
    private static <T> long countInternal(BatchingVisitable<T> visitable, int batchSize) {
        final long[] count = new long[1];
        visitable.batchAccept(batchSize, AbortingVisitors.<T, RuntimeException>batching(item -> {
            count[0]++;
            return true;
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `lock-api-objects/src/main/java/com/palantir/lock/LockCollections.java`
#### Snippet
```java

    public static <T> SortedLockCollection<T> of() {
        return new SortedLockCollection<T>(ImmutableList.<Map.Entry<T, LockMode>>of());
    }
}
```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `lock-api-objects/src/main/java/com/palantir/lock/LockResponse.java`
#### Snippet
```java
     */
    public static LockResponse createSuccessful(HeldLocksToken token) {
        return new LockResponse(Preconditions.checkNotNull(token), ImmutableSortedMap.<LockDescriptor, LockClient>of());
    }

```

### RedundantTypeArguments
Explicit type arguments can be inferred
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingKeyValueServiceImpl.java`
#### Snippet
```java

        return EntryStream.of(result)
                .<RowColumnRangeIterator>mapValues(iterator -> wrapIterator(iterator, bytesReadTracker))
                .toImmutableMap();
    }
```

## RuleId[id=NullableProblems]
### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksGrant convertToGrant(HeldLocksToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Idempotent
    @Nullable
    HeldLocksGrant refreshGrant(HeldLocksGrant grant);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    boolean unlockAndFreeze(HeldLocksToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Idempotent
    @Nullable
    HeldLocksGrant refreshGrant(BigInteger grantId);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    boolean unlockSimple(SimpleHeldLocksToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    Long getMinLockedInVersionId(@Safe @PathParam("client") LockClient client);

    /** Returns the options used to configure the lock server. */
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Idempotent
    Set<HeldLocksToken> getTokens(@Safe @PathParam("client") LockClient client);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Deprecated
    @Idempotent
    Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @Deprecated
    @NonIdempotent
    boolean unlock(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @CancelableServerCall
    @NonIdempotent
    LockResponse lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockService.java`
#### Snippet
```java
    @CancelableServerCall
    @NonIdempotent
    LockResponse lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    protected abstract RemoteLockService delegate();

    @Override
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        return delegate().lockAndGetHeldLocks(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        return delegate().lockAndGetHeldLocks(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        return delegate().lock(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        return delegate().lock(client, request);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return delegate().unlock(token);
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return delegate().unlockSimple(SimpleHeldLocksToken.fromLockRefreshToken(token));
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(HeldLocksToken token) {
        return delegate().unlockSimple(SimpleHeldLocksToken.fromHeldLocksToken(token));
    }
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-and-freeze")
    boolean unlockAndFreeze(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("try-lock/{client: .*}")
    Optional<HeldLocksToken> lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("try-lock/{client: .*}")
    Optional<HeldLocksToken> lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("get-debugging-lock-state")
    LockState getLockState(LockDescriptor lock);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("min-locked-in-version-id-for-client/{client: .*}")
    Optional<Long> getMinLockedInVersionId(@Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-tokens")
    Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant-id/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("use-grant-id/{client: .*}")
    HeldLocksToken useGrant(@Safe @PathParam("client") LockClient client, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-simple")
    boolean unlockSimple(SimpleHeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @Path("lock-with-full-response/{client: .*}")
    @CancelableServerCall
    Optional<LockResponse> lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @Path("lock-with-full-response/{client: .*}")
    @CancelableServerCall
    Optional<LockResponse> lockWithFullLockResponse(@Safe @PathParam("client") LockClient client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("convert-to-grant")
    HeldLocksGrant convertToGrant(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-lock-tokens")
    Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock")
    boolean unlock(LockRefreshToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("min-locked-in-version/{client: .*}")
    Optional<Long> getMinLockedInVersionId(@Safe @PathParam("client") String client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant")
    Optional<HeldLocksGrant> refreshGrant(HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("get-tokens/{client: .*}")
    Set<HeldLocksToken> getTokens(@Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant-id")
    Optional<HeldLocksGrant> refreshGrant(BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("lock/{client: .*}")
    Optional<LockRefreshToken> lock(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("lock/{client: .*}")
    Optional<LockRefreshToken> lock(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/NamespaceAgnosticLockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-deprecated")
    boolean unlock(HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Nullable
    LockRefreshToken lock(@Safe @PathParam("client") String client, LockRequest request) throws InterruptedException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Nullable
    LockRefreshToken lock(@Safe @PathParam("client") String client, LockRequest request) throws InterruptedException;

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Path("get-debugging-lock-state")
    LockState getLockState(LockDescriptor lock);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @Idempotent
    Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Idempotent
    @Nullable
    Long getMinLockedInVersionId(@Safe @PathParam("client") String client);

    /** Returns the current time in milliseconds on the server. */
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Consumes(MediaType.APPLICATION_JSON)
    @NonIdempotent
    boolean unlock(LockRefreshToken token);

    /**
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    HeldLocksToken lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/RemoteLockService.java`
#### Snippet
```java
    @Produces(MediaType.APPLICATION_JSON)
    @Consumes(MediaType.APPLICATION_JSON)
    HeldLocksToken lockAndGetHeldLocks(@Safe @PathParam("client") String client, LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-and-freeze")
    boolean unlockAndFreeze(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-and-freeze")
    boolean unlockAndFreeze(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-simple")
    boolean unlockSimple(@Safe @PathParam("namespace") String namespace, SimpleHeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-simple")
    boolean unlockSimple(@Safe @PathParam("namespace") String namespace, SimpleHeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock")
    boolean unlock(@Safe @PathParam("namespace") String namespace, LockRefreshToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock")
    boolean unlock(@Safe @PathParam("namespace") String namespace, LockRefreshToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("current-time-millis")
    long currentTimeMillis(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("lock-server-options")
    LockServerOptions getLockServerOptions(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("get-tokens/{client: .*}")
    Set<HeldLocksToken> getTokens(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("get-tokens/{client: .*}")
    Set<HeldLocksToken> getTokens(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("get-debugging-lock-state")
    LockState getLockState(LockDescriptor lock);
}

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") String client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") String client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("convert-to-grant")
    HeldLocksGrant convertToGrant(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("convert-to-grant")
    HeldLocksGrant convertToGrant(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @CancelableServerCall
    Optional<LockResponse> lockWithFullLockResponse(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            LockRequest request)
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    Optional<LockResponse> lockWithFullLockResponse(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            LockRequest request)
            throws InterruptedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-deprecated")
    boolean unlock(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("unlock-deprecated")
    boolean unlock(@Safe @PathParam("namespace") String namespace, HeldLocksToken token);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version-id-for-client/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("min-locked-in-version-id-for-client/{client: .*}")
    Optional<Long> getMinLockedInVersionId(
            @Safe @PathParam("namespace") String namespace, @Safe @PathParam("client") LockClient client);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant-id")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-grant-id")
    Optional<HeldLocksGrant> refreshGrant(@Safe @PathParam("namespace") String namespace, BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-tokens")
    Set<HeldLocksToken> refreshTokens(@Safe @PathParam("namespace") String namespace, Iterable<HeldLocksToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("refresh-tokens")
    Set<HeldLocksToken> refreshTokens(@Safe @PathParam("namespace") String namespace, Iterable<HeldLocksToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("try-lock/{client: .*}")
    Optional<HeldLocksToken> lockAndGetHeldLocks(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    Optional<HeldLocksToken> lockAndGetHeldLocks(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("refresh-lock-tokens")
    Set<LockRefreshToken> refreshLockRefreshTokens(
            @Safe @PathParam("namespace") String namespace, Iterable<LockRefreshToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("refresh-lock-tokens")
    Set<LockRefreshToken> refreshLockRefreshTokens(
            @Safe @PathParam("namespace") String namespace, Iterable<LockRefreshToken> tokens);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("use-grant-id/{client: .*}")
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            BigInteger grantId);
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            BigInteger grantId);

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            BigInteger grantId);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("log-current-state")
    void logCurrentState(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("use-grant/{client: .*}")
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            HeldLocksGrant grant);
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    HeldLocksToken useGrant(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            HeldLocksGrant grant);

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") LockClient client,
            HeldLocksGrant grant);

    @POST
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @Path("lock/{client: .*}")
    Optional<LockRefreshToken> lock(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    Optional<LockRefreshToken> lock(
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;
```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
            @Safe @PathParam("namespace") String namespace,
            @Safe @PathParam("client") String client,
            LockRequest request)
            throws InterruptedException;

```

### NullableProblems
Overridden method parameters are not annotated
in `lock-api/src/main/java/com/palantir/lock/LockRpcClient.java`
#### Snippet
```java
    @POST
    @Path("min-locked-in-version-id")
    Optional<Long> getMinLockedInVersionId(@Safe @PathParam("namespace") String namespace);

    @POST
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public Long getMinLockedInVersionId(LockClient client) {
        return namespaceAgnosticLockRpcClient.getMinLockedInVersionId(client).orElse(null);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens) {
        return namespaceAgnosticLockRpcClient.refreshLockRefreshTokens(tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(LockClient client) {
        return namespaceAgnosticLockRpcClient.getTokens(client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java
    @Nullable
    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        return namespaceAgnosticLockRpcClient.lock(client, request).orElse(null);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java
    @Nullable
    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        return namespaceAgnosticLockRpcClient.lock(client, request).orElse(null);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return namespaceAgnosticLockRpcClient.unlock(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, BigInteger grantId) {
        return namespaceAgnosticLockRpcClient.useGrant(client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, BigInteger grantId) {
        return namespaceAgnosticLockRpcClient.useGrant(client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(HeldLocksToken token) {
        return namespaceAgnosticLockRpcClient.unlockAndFreeze(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public boolean unlock(HeldLocksToken token) {
        return namespaceAgnosticLockRpcClient.unlock(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java
    @Nullable
    @Override
    public HeldLocksGrant refreshGrant(BigInteger grantId) {
        return namespaceAgnosticLockRpcClient.refreshGrant(grantId).orElse(null);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java
    @Nullable
    @Override
    public HeldLocksGrant refreshGrant(HeldLocksGrant grant) {
        return namespaceAgnosticLockRpcClient.refreshGrant(grant).orElse(null);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(HeldLocksToken token) {
        return namespaceAgnosticLockRpcClient.convertToGrant(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens) {
        return namespaceAgnosticLockRpcClient.refreshTokens(tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public LockState getLockState(LockDescriptor lock) {
        return namespaceAgnosticLockRpcClient.getLockState(lock);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, HeldLocksGrant grant) {
        return namespaceAgnosticLockRpcClient.useGrant(client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, HeldLocksGrant grant) {
        return namespaceAgnosticLockRpcClient.useGrant(client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java
    @Nullable
    @Override
    public Long getMinLockedInVersionId(String client) {
        return namespaceAgnosticLockRpcClient.getMinLockedInVersionId(client).orElse(null);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(SimpleHeldLocksToken token) {
        return namespaceAgnosticLockRpcClient.unlockSimple(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        return namespaceAgnosticLockRpcClient
                .lockAndGetHeldLocks(client, request)
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        return namespaceAgnosticLockRpcClient
                .lockAndGetHeldLocks(client, request)
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public LockResponse lockWithFullLockResponse(LockClient client, LockRequest request) throws InterruptedException {
        return namespaceAgnosticLockRpcClient
                .lockWithFullLockResponse(client, request)
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/RemoteLockServiceAdapter.java`
#### Snippet
```java

    @Override
    public LockResponse lockWithFullLockResponse(LockClient client, LockRequest request) throws InterruptedException {
        return namespaceAgnosticLockRpcClient
                .lockWithFullLockResponse(client, request)
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        LockRefreshToken ret = super.lock(client, request);
        if (ret != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        LockRefreshToken ret = super.lock(client, request);
        if (ret != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        toRefresh.remove(token);
        return super.unlock(token);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        HeldLocksToken ret = super.lockAndGetHeldLocks(client, request);
        if (ret != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingRemoteLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        HeldLocksToken ret = super.lockAndGetHeldLocks(client, request);
        if (ret != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, BigInteger grantId) {
        return dialogueShimDelegate.useGrant(namespace, client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, BigInteger grantId) {
        return dialogueShimDelegate.useGrant(namespace, client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, BigInteger grantId) {
        return dialogueShimDelegate.useGrant(namespace, client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(String namespace, HeldLocksToken token) {
        return dialogueShimDelegate.unlockAndFreeze(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(String namespace, HeldLocksToken token) {
        return dialogueShimDelegate.unlockAndFreeze(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public LockState getLockState(LockDescriptor lock) {
        return dialogueShimDelegate.getLockState(lock);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(String namespace, LockClient client, LockRequest request)
            throws InterruptedException {
        return dialogueShimDelegate.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(String namespace, LockClient client, LockRequest request)
            throws InterruptedException {
        return dialogueShimDelegate.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(String namespace, LockClient client, LockRequest request)
            throws InterruptedException {
        return dialogueShimDelegate.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(String namespace, Iterable<LockRefreshToken> tokens) {
        return ImmutableSet.copyOf(ConjureLockV1Tokens.getLegacyTokens(pureDialogueDelegate.refreshLockRefreshTokens(
                UNUSED_AUTH_HEADER, namespace, ConjureLockV1Tokens.getConjureTokens(tokens))));
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(String namespace, Iterable<LockRefreshToken> tokens) {
        return ImmutableSet.copyOf(ConjureLockV1Tokens.getLegacyTokens(pureDialogueDelegate.refreshLockRefreshTokens(
                UNUSED_AUTH_HEADER, namespace, ConjureLockV1Tokens.getConjureTokens(tokens))));
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String namespace, String client, LockRequest request) {
        return pureDialogueDelegate.lockAndGetHeldLocks(
                UNUSED_AUTH_HEADER,
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String namespace, String client, LockRequest request) {
        return pureDialogueDelegate.lockAndGetHeldLocks(
                UNUSED_AUTH_HEADER,
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String namespace, String client, LockRequest request) {
        return pureDialogueDelegate.lockAndGetHeldLocks(
                UNUSED_AUTH_HEADER,
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, LockRefreshToken token) {
        return dialogueShimDelegate.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, LockRefreshToken token) {
        return dialogueShimDelegate.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public void logCurrentState(String namespace) {
        dialogueShimDelegate.logCurrentState(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public LockServerOptions getLockServerOptions(String namespace) {
        return dialogueShimDelegate.getLockServerOptions(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(String namespace, Iterable<HeldLocksToken> tokens) {
        return dialogueShimDelegate.refreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(String namespace, Iterable<HeldLocksToken> tokens) {
        return dialogueShimDelegate.refreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace) {
        return dialogueShimDelegate.getMinLockedInVersionId(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, LockClient client) {
        return dialogueShimDelegate.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, LockClient client) {
        return dialogueShimDelegate.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(String namespace, HeldLocksToken token) {
        return dialogueShimDelegate.convertToGrant(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(String namespace, HeldLocksToken token) {
        return dialogueShimDelegate.convertToGrant(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, HeldLocksGrant grant) {
        return dialogueShimDelegate.refreshGrant(namespace, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, HeldLocksGrant grant) {
        return dialogueShimDelegate.refreshGrant(namespace, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, HeldLocksToken token) {
        return dialogueShimDelegate.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, HeldLocksToken token) {
        return dialogueShimDelegate.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, String client) {
        return dialogueShimDelegate.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, String client) {
        return dialogueShimDelegate.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, HeldLocksGrant grant) {
        return dialogueShimDelegate.useGrant(namespace, client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, HeldLocksGrant grant) {
        return dialogueShimDelegate.useGrant(namespace, client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, HeldLocksGrant grant) {
        return dialogueShimDelegate.useGrant(namespace, client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, BigInteger grantId) {
        return dialogueShimDelegate.refreshGrant(namespace, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, BigInteger grantId) {
        return dialogueShimDelegate.refreshGrant(namespace, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public long currentTimeMillis(String namespace) {
        return dialogueShimDelegate.currentTimeMillis(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return dialogueShimDelegate.lock(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return dialogueShimDelegate.lock(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return dialogueShimDelegate.lock(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(String namespace, SimpleHeldLocksToken token) {
        return pureDialogueDelegate.unlockSimple(
                UNUSED_AUTH_HEADER, namespace, ConjureLockV1Tokens.getSimpleHeldLocksToken(token));
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(String namespace, SimpleHeldLocksToken token) {
        return pureDialogueDelegate.unlockSimple(
                UNUSED_AUTH_HEADER, namespace, ConjureLockV1Tokens.getSimpleHeldLocksToken(token));
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(String namespace, LockClient client) {
        return dialogueShimDelegate.getTokens(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/DialogueComposingLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(String namespace, LockClient client) {
        return dialogueShimDelegate.getTokens(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, BigInteger grantId) {
        return lockRpcClient.useGrant(namespace, client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, BigInteger grantId) {
        return lockRpcClient.useGrant(namespace, client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(HeldLocksGrant grant) {
        return lockRpcClient.refreshGrant(namespace, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(HeldLocksToken token) {
        return lockRpcClient.unlockAndFreeze(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(LockClient client) {
        return lockRpcClient.getTokens(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public boolean unlock(HeldLocksToken token) {
        return lockRpcClient.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public LockState getLockState(LockDescriptor lock) {
        return lockRpcClient.getLockState(lock);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String client, LockRequest request)
            throws InterruptedException {
        return lockRpcClient.lockAndGetHeldLocks(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String client, LockRequest request)
            throws InterruptedException {
        return lockRpcClient.lockAndGetHeldLocks(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(BigInteger grantId) {
        return lockRpcClient.refreshGrant(namespace, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(SimpleHeldLocksToken token) {
        return lockRpcClient.unlockSimple(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String client, LockRequest request) throws InterruptedException {
        return lockRpcClient.lock(namespace, client, request);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String client, LockRequest request) throws InterruptedException {
        return lockRpcClient.lock(namespace, client, request);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, HeldLocksGrant grant) {
        return lockRpcClient.useGrant(namespace, client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, HeldLocksGrant grant) {
        return lockRpcClient.useGrant(namespace, client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens) {
        return lockRpcClient.refreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(LockClient client, LockRequest request)
            throws InterruptedException {
        return lockRpcClient.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(LockClient client, LockRequest request)
            throws InterruptedException {
        return lockRpcClient.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(HeldLocksToken token) {
        return lockRpcClient.convertToGrant(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens) {
        return lockRpcClient.refreshLockRefreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String client) {
        return lockRpcClient.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(LockClient client) {
        return lockRpcClient.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/NamespaceAgnosticLockClientAdaptor.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return lockRpcClient.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        toRefresh.remove(token);
        return super.unlock(token);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        LockRefreshToken ret = super.lock(client, request);
        if (ret != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public LockRefreshToken lock(String client, LockRequest request) throws InterruptedException {
        LockRefreshToken ret = super.lock(client, request);
        if (ret != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        HeldLocksToken lock = super.lockAndGetHeldLocks(client, request);
        if (lock != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(String client, LockRequest request) throws InterruptedException {
        HeldLocksToken lock = super.lockAndGetHeldLocks(client, request);
        if (lock != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public LockResponse lockWithFullLockResponse(LockClient client, LockRequest request) throws InterruptedException {
        LockResponse lock = super.lockWithFullLockResponse(client, request);
        if (lock.getToken() != null) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java

    @Override
    public LockResponse lockWithFullLockResponse(LockClient client, LockRequest request) throws InterruptedException {
        LockResponse lock = super.lockWithFullLockResponse(client, request);
        if (lock.getToken() != null) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `commons-db/src/main/java/com/palantir/nexus/db/ThreadConfinedProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        checkThread(method);
        try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `commons-db/src/main/java/com/palantir/nexus/db/ThreadConfinedProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        checkThread(method);
        try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `commons-db/src/main/java/com/palantir/nexus/db/ThreadConfinedProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        checkThread(method);
        try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceTypes.java`
#### Snippet
```java
                    InvocationHandler ih = new AbstractInvocationHandler() {
                        @Override
                        protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
                            if (args.length == 0 && method.getName().equals("close")) {
                                onClose.close();
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `commons-db/src/main/java/com/palantir/nexus/db/pool/ResourceTypes.java`
#### Snippet
```java
                    InvocationHandler ih = new AbstractInvocationHandler() {
                        @Override
                        protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
                            if (args.length == 0 && method.getName().equals("close")) {
                                onClose.close();
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `flake-rule/src/main/java/com/palantir/flake/FlakeRetryingRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        return new Statement() {
            @Override
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `flake-rule/src/main/java/com/palantir/flake/FlakeRetryingRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        return new Statement() {
            @Override
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/expectations/KvsCallReadInfo.java`
#### Snippet
```java

    @Override
    default int compareTo(KvsCallReadInfo other) {
        return COMPARATOR.compare(this, other);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java

    @Override
    public int read(byte[] bytes) throws IOException {
        return delegate().read(bytes);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java

    @Override
    public int read(byte[] bytes, int off, int len) throws IOException {
        return delegate().read(bytes, off, len);
    }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/JerseyAsyncTimelockResource.java`
#### Snippet
```java

                    @Override
                    public void onFailure(Throwable thrown) {
                        response.resume(thrown);
                    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/NonTransactionalLockService.java`
#### Snippet
```java

    @Override
    public Long getMinLockedInVersionId(String client) {
        log.warn(
                "Client {} attempted to getMinLockedInVersionId() on a non-transactional lock service!"
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public LockState getLockState(LockDescriptor lock) {
        return delegate.getLockState(lock);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Nullable
    @Override
    public LockRefreshToken lock(@PathParam("client") String client, LockRequest request) throws InterruptedException {
        return callWithTimeLimit(
                () -> delegate.lock(client, request), ImmutableLockRequestSpecification.of("lock", client, request));
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Nullable
    @Override
    public LockRefreshToken lock(@PathParam("client") String client, LockRequest request) throws InterruptedException {
        return callWithTimeLimit(
                () -> delegate.lock(client, request), ImmutableLockRequestSpecification.of("lock", client, request));
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(HeldLocksToken token) {
        return delegate.convertToGrant(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Nullable
    @Override
    public HeldLocksGrant refreshGrant(BigInteger grantId) {
        return delegate.refreshGrant(grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(SimpleHeldLocksToken token) {
        return delegate.unlockSimple(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(LockClient client) {
        return delegate.getTokens(client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(Iterable<LockRefreshToken> tokens) {
        return delegate.refreshLockRefreshTokens(tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(HeldLocksToken token) {
        return delegate.unlockAndFreeze(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(LockRefreshToken token) {
        return delegate.unlock(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public Long getMinLockedInVersionId(LockClient client) {
        return delegate.getMinLockedInVersionId(client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Nullable
    @Override
    public Long getMinLockedInVersionId(@PathParam("client") String client) {
        return delegate.getMinLockedInVersionId(client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(Iterable<HeldLocksToken> tokens) {
        return delegate.refreshTokens(tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, HeldLocksGrant grant) {
        return delegate.useGrant(client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, HeldLocksGrant grant) {
        return delegate.useGrant(client, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(@PathParam("client") String client, LockRequest request)
            throws InterruptedException {
        return callWithTimeLimit(
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken lockAndGetHeldLocks(@PathParam("client") String client, LockRequest request)
            throws InterruptedException {
        return callWithTimeLimit(
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public boolean unlock(HeldLocksToken token) {
        return delegate.unlock(token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public LockResponse lockWithFullLockResponse(LockClient client, LockRequest request) throws InterruptedException {
        return callWithTimeLimit(
                () -> delegate.lockWithFullLockResponse(client, request),
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Nullable
    @Override
    public HeldLocksGrant refreshGrant(HeldLocksGrant grant) {
        return delegate.refreshGrant(grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, BigInteger grantId) {
        return delegate.useGrant(client, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(LockClient client, BigInteger grantId) {
        return delegate.useGrant(client, grantId);
    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/CumulativeLeaderPinger.java`
#### Snippet
```java

    @Override
    protected Scheduler scheduler() {
        return Scheduler.newFixedDelaySchedule(0, leaderPingRate.toMillis(), TimeUnit.MILLISECONDS);
    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/CumulativeLeaderPinger.java`
#### Snippet
```java

    @Override
    protected String serviceName() {
        return String.format("ManualBatchingPingableLeader %s -> %s", nodeUuid.toString(), remoteClient.hostAndPort());
    }
```

### NullableProblems
Not annotated parameter overrides @Nonnull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/SlidingWindowMetricsInvocationHandler.java`
#### Snippet
```java

    @Override
    public InvocationContext preInvocation(Object instance, Method method, Object[] args) {
        return DefaultInvocationContext.of(instance, method, args);
    }
```

### NullableProblems
Not annotated parameter overrides @Nonnull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/SlidingWindowMetricsInvocationHandler.java`
#### Snippet
```java

    @Override
    public InvocationContext preInvocation(Object instance, Method method, Object[] args) {
        return DefaultInvocationContext.of(instance, method, args);
    }
```

### NullableProblems
Not annotated parameter overrides @Nonnull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/SlidingWindowMetricsInvocationHandler.java`
#### Snippet
```java

    @Override
    public InvocationContext preInvocation(Object instance, Method method, Object[] args) {
        return DefaultInvocationContext.of(instance, method, args);
    }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TaggedMetricsInvocationEventHandler.java`
#### Snippet
```java

                        @Override
                        public void onFailure(Throwable t) {
                            TaggedMetricsInvocationEventHandler.this.onFailure(context, t);
                        }
```

### NullableProblems
Not annotated parameter overrides @Nonnull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TaggedMetricsInvocationEventHandler.java`
#### Snippet
```java

    @Override
    public InvocationContext preInvocation(Object instance, Method method, Object[] args) {
        return DefaultInvocationContext.of(instance, method, args);
    }
```

### NullableProblems
Not annotated parameter overrides @Nonnull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TaggedMetricsInvocationEventHandler.java`
#### Snippet
```java

    @Override
    public InvocationContext preInvocation(Object instance, Method method, Object[] args) {
        return DefaultInvocationContext.of(instance, method, args);
    }
```

### NullableProblems
Not annotated parameter overrides @Nonnull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TaggedMetricsInvocationEventHandler.java`
#### Snippet
```java

    @Override
    public InvocationContext preInvocation(Object instance, Method method, Object[] args) {
        return DefaultInvocationContext.of(instance, method, args);
    }
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
            ValueType type,
            ValueByteOrder order,
            UniformRowNamePartitioner uniform,
            ExplicitRowNamePartitioner explicit,
            LogSafety logSafety) {
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
            ValueByteOrder order,
            UniformRowNamePartitioner uniform,
            ExplicitRowNamePartitioner explicit,
            LogSafety logSafety) {
        this.componentName = componentName;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnMetadataDescription.java`
#### Snippet
```java
    }

    public ColumnMetadataDescription(DynamicColumnDescription dynamicColumn) {
        namedColumns = null;
        this.dynamicColumn = dynamicColumn;
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexMetadata.java`
#### Snippet
```java
            Iterable<IndexComponent> rowComponents,
            Iterable<IndexComponent> colComponents,
            String colNameToAccessFrom,
            CachePriority cachePriority,
            ConflictHandler conflictHandler,
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
            String canonicalClassName,
            Compression compression,
            Descriptor protoDescriptor) {
        this.compression = Preconditions.checkNotNull(compression);
        this.type = ValueType.BLOB;
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
    }

    public Descriptor getProtoDescriptor() {
        return protoDescriptor;
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/BlockConsumingInputStream.java`
#### Snippet
```java

    @Override
    public int read(byte[] bytes, int off, int len) throws IOException {
        com.palantir.logsafe.Preconditions.checkNotNull(bytes, "Cannot read into a null array!");
        if (off < 0 || len < 0 || len > bytes.length - off) {
```

### NullableProblems
Constructor parameter for @CheckForNull field might be annotated @CheckForNull itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
    private final StreamCompression compression;

    protected AbstractGenericStreamStore(TransactionManager txManager, StreamCompression compression) {
        this.txnMgr = txManager;
        this.compression = compression;
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/KvsProfilingLogger.java`
#### Snippet
```java

                        @Override
                        public void onFailure(Throwable t) {
                            monitor.registerException(new Exception(t));
                            monitor.log();
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/ForwardingTransaction.java`
#### Snippet
```java

    @Override
    public abstract Transaction delegate();

    @Override
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/GetRangesExecutors.java`
#### Snippet
```java

            @Override
            public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
                return executor.awaitTermination(timeout, unit);
            }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/GetRangesExecutors.java`
#### Snippet
```java

            @Override
            public void execute(Runnable command) {
                sanityCheckAndIncrementQueueSize();
                executor.execute(() -> {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java

                    @Override
                    public void onFailure(Throwable _throwable) {
                        complete();
                    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java

    @Override
    protected KeyValueService delegate() {
        return delegate;
    }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        while (true) {
            if (Thread.currentThread().isInterrupted()) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        while (true) {
            if (Thread.currentThread().isInterrupted()) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        while (true) {
            if (Thread.currentThread().isInterrupted()) {
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, LockClient client) {
        return shortTimeoutProxy.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, LockClient client) {
        return shortTimeoutProxy.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace) {
        return shortTimeoutProxy.getMinLockedInVersionId(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, BigInteger grantId) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.useGrant(namespace, client, grantId);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, BigInteger grantId) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.useGrant(namespace, client, grantId);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, BigInteger grantId) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.useGrant(namespace, client, grantId);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, HeldLocksGrant grant) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.useGrant(namespace, client, grant);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, HeldLocksGrant grant) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.useGrant(namespace, client, grant);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksToken useGrant(String namespace, LockClient client, HeldLocksGrant grant) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.useGrant(namespace, client, grant);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public long currentTimeMillis(String namespace) {
        return shortTimeoutProxy.currentTimeMillis(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(String namespace, HeldLocksToken token) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.unlockAndFreeze(namespace, token);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockAndFreeze(String namespace, HeldLocksToken token) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.unlockAndFreeze(namespace, token);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(String namespace, Iterable<LockRefreshToken> tokens) {
        return shortTimeoutProxy.refreshLockRefreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<LockRefreshToken> refreshLockRefreshTokens(String namespace, Iterable<LockRefreshToken> tokens) {
        return shortTimeoutProxy.refreshLockRefreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public void logCurrentState(String namespace) {
        // Even if this does take more than the short timeout, the request will fail while the server will
        // dump its logs out.
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lockAndGetHeldLocks(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lockAndGetHeldLocks(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksToken> lockAndGetHeldLocks(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lockAndGetHeldLocks(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(String namespace, SimpleHeldLocksToken token) {
        return shortTimeoutProxy.unlockSimple(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlockSimple(String namespace, SimpleHeldLocksToken token) {
        return shortTimeoutProxy.unlockSimple(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(String namespace, HeldLocksToken token) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.convertToGrant(namespace, token);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public HeldLocksGrant convertToGrant(String namespace, HeldLocksToken token) {
        // It feels like this could have a short timeout but not 100% sure so going for the safe option.
        return longTimeoutProxy.convertToGrant(namespace, token);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public LockServerOptions getLockServerOptions(String namespace) {
        return shortTimeoutProxy.getLockServerOptions(namespace);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, HeldLocksGrant grant) {
        return shortTimeoutProxy.refreshGrant(namespace, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, HeldLocksGrant grant) {
        return shortTimeoutProxy.refreshGrant(namespace, grant);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(String namespace, Iterable<HeldLocksToken> tokens) {
        return shortTimeoutProxy.refreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> refreshTokens(String namespace, Iterable<HeldLocksToken> tokens) {
        return shortTimeoutProxy.refreshTokens(namespace, tokens);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public LockState getLockState(LockDescriptor lock) {
        return shortTimeoutProxy.getLockState(lock);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(String namespace, LockClient client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(String namespace, LockClient client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockResponse> lockWithFullLockResponse(String namespace, LockClient client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lockWithFullLockResponse(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(String namespace, LockClient client) {
        return shortTimeoutProxy.getTokens(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Set<HeldLocksToken> getTokens(String namespace, LockClient client) {
        return shortTimeoutProxy.getTokens(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, HeldLocksToken token) {
        return shortTimeoutProxy.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, HeldLocksToken token) {
        return shortTimeoutProxy.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, String client) {
        return shortTimeoutProxy.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<Long> getMinLockedInVersionId(String namespace, String client) {
        return shortTimeoutProxy.getMinLockedInVersionId(namespace, client);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lock(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lock(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<LockRefreshToken> lock(String namespace, String client, LockRequest request)
            throws InterruptedException {
        return longTimeoutProxy.lock(namespace, client, request);
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, BigInteger grantId) {
        return shortTimeoutProxy.refreshGrant(namespace, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public Optional<HeldLocksGrant> refreshGrant(String namespace, BigInteger grantId) {
        return shortTimeoutProxy.refreshGrant(namespace, grantId);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, LockRefreshToken token) {
        return shortTimeoutProxy.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @ParametersAreNonnullByDefault parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/timelock/TimeoutSensitiveLockRpcClient.java`
#### Snippet
```java

    @Override
    public boolean unlock(String namespace, LockRefreshToken token) {
        return shortTimeoutProxy.unlock(namespace, token);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

    @Override
    public void write(byte b[], int off, int len) throws IOException {
        if (b == null) {
            throw new NullPointerException();
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-commons/src/main/java/com/palantir/util/ByteArrayIOStream.java`
#### Snippet
```java

        @Override
        public int read(byte b[], int off, int len) {
            if (b == null) {
                throw new NullPointerException();
```

### NullableProblems
Overridden methods are not annotated
in `atlasdb-commons/src/main/java/com/palantir/util/jmx/OperationTimer.java`
#### Snippet
```java
 */
public interface OperationTimer {
    @Nonnull
    TimingState begin(String operationName);

```

### NullableProblems
Not annotated method overrides method annotated with @Nonnull
in `atlasdb-commons/src/main/java/com/palantir/util/timer/LoggingOperationTimer.java`
#### Snippet
```java

    @Override
    public TimingState begin(String operationName) {
        return new TimeBegin(operationName);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java

    @Override
    public int read(byte b[], int off, int len) throws IOException {
        if (b == null) {
            throw new NullPointerException();
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-commons/src/main/java/com/palantir/common/base/ForwardingClosableIterator.java`
#### Snippet
```java

    @Override
    protected abstract ClosableIterator<T> delegate();

    @Override
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitableView.java`
#### Snippet
```java

    @Override
    protected abstract BatchingVisitable<T> delegate();

    public static <T> BatchingVisitableView<T> of(final BatchingVisitable<T> underlyingVisitable) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/PredicateSwitchedProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Object target = shouldUseFirstService.get() ? firstService : secondService;
        try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/MultiDelegateProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            for (T t : othersToCall.get()) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/MultiDelegateProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            for (T t : othersToCall.get()) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/PredicateSwitchedProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Object target = shouldUseFirstService.get() ? firstService : secondService;
        try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/MultiDelegateProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            for (T t : othersToCall.get()) {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            return method.invoke(getAndPossiblyInitializeDelegate(), args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ReplaceIfExceptionMatchingProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            return method.invoke(getAndPossiblyInitializeDelegate(), args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ExperimentRunningProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        boolean runExperiment = useExperimental();
        Object target = runExperiment ? refreshingExperimentalServiceSupplier.get() : fallbackService;
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/ExperimentRunningProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        boolean runExperiment = useExperimental();
        Object target = runExperiment ? refreshingExperimentalServiceSupplier.get() : fallbackService;
```

### NullableProblems
Not annotated method overrides method annotated with @NotNull
in `atlasdb-commons/src/main/java/com/palantir/common/collect/EmptyQueue.java`
#### Snippet
```java

    @Override
    public Iterator<E> iterator() {
        return ImmutableSet.<E>of().iterator();
    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-commons/src/main/java/com/palantir/common/pooling/ForwardingPoolingContainer.java`
#### Snippet
```java

    @Override
    protected abstract PoolingContainer<T> delegate();

    @Override
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    @Override
    protected abstract Iterable<? extends T> delegate();

    public static <T> IterableView<T> of(final Iterable<? extends T> it) {
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java

    @Override
    public String toString() {
        return Iterables.toString(delegate());
    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IteratorUtils.java`
#### Snippet
```java
            @SuppressWarnings("unchecked")
            @Override
            protected Iterator<T> delegate() {
                return (Iterator<T>) iterator;
            }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-commons/src/main/java/com/palantir/common/compression/BufferedDelegateInputStream.java`
#### Snippet
```java
     */
    @Override
    public final int read(byte[] b, int off, int len) throws IOException {
        Preconditions.checkNotNull(b, "Provided byte array b cannot be null.");
        if (off < 0 || len < 0 || len > b.length - off) {
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java

        @Override
        public void write(byte b[], int off, int len) throws IOException {
            LZ4CompressingInputStream.this.write(b, off, len);
        }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, @Nullable Object[] args) throws Throwable {
        try {
            return method.invoke(delegate, args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, @Nullable Object[] args) throws Throwable {
        try {
            return method.invoke(delegate, args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, @Nullable Object[] args) throws Throwable {
        try {
            return method.invoke(delegate, args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        ResultOrThrowable attempt = singleInvocation(method, args);
        int numRetries = 0;
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        ResultOrThrowable attempt = singleInvocation(method, args);
        int numRetries = 0;
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        ResultOrThrowable attempt = singleInvocation(method, args);
        int numRetries = 0;
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Instant lastRetryInstant = clock.instant().plus(TIME_LIMIT);
        ResultOrThrowable attempt = singleInvocation(method, args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Instant lastRetryInstant = clock.instant().plus(TIME_LIMIT);
        ResultOrThrowable attempt = singleInvocation(method, args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Instant lastRetryInstant = clock.instant().plus(TIME_LIMIT);
        ResultOrThrowable attempt = singleInvocation(method, args);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/DbKvsRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        return RuleChain.outerRule(docker)
                .around(new ExternalResource() {
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/DbKvsRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        return RuleChain.outerRule(docker)
                .around(new ExternalResource() {
```

### NullableProblems
Not annotated method overrides method annotated with @NotNull
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java

        @Override
        public Iterator<T> iterator() {
            if (node == null) {
                return ImmutableSet.<T>of().iterator();
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/util/ParameterInjector.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        if (outsideSuite) {
            return currentInstance.apply(base, description);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/util/ParameterInjector.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        if (outsideSuite) {
            return currentInstance.apply(base, description);
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `lock-api-objects/src/main/java/com/palantir/lock/LockClient.java`
#### Snippet
```java

    /** Returns the client ID, or the empty string if this is an anonymous client. */
    public String getClientId() {
        return clientId;
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockCluster.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        return getRuleChain().apply(base, description);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockCluster.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        return getRuleChain().apply(base, description);
    }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java

        @Override
        public boolean setFuture(ListenableFuture<? extends R> future) {
            return super.setFuture(future);
        }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java

    @Override
    public ListenableFuture<R> apply(T argument) {
        Preconditions.checkState(!closed, "Autobatcher is already shut down");
        DisruptorFuture<R> result = new DisruptorFuture<R>(safeLoggablePurpose);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java

        @Override
        public boolean setException(Throwable throwable) {
            return super.setException(throwable);
        }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/ForwardingFuture.java`
#### Snippet
```java

    @Override
    public V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException {
        return delegate().get(timeout, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingExecutorService.java`
#### Snippet
```java

    @Override
    public void execute(Runnable command) {
        delegate().execute(wrap(command));
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingExecutorService.java`
#### Snippet
```java

    @Override
    public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
        return delegate().awaitTermination(timeout, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/NamedThreadFactory.java`
#### Snippet
```java
    /** {@inheritDoc} */
    @Override
    public Thread newThread(Runnable runnable) {
        Thread thread = threadFactory.newThread(runnable);
        thread.setName(prefix + "-" + count.getAndIncrement());
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) {
        return delegate().scheduleAtFixedRate(wrapRecurring(command), initialDelay, period, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) {
        return delegate().scheduleAtFixedRate(wrapRecurring(command), initialDelay, period, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public <V> ScheduledFuture<V> schedule(Callable<V> callable, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(callable), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public <V> ScheduledFuture<V> schedule(Callable<V> callable, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(callable), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) {
        return delegate().scheduleWithFixedDelay(wrapRecurring(command), initialDelay, delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) {
        return delegate().scheduleWithFixedDelay(wrapRecurring(command), initialDelay, delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> schedule(Runnable command, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(command), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> schedule(Runnable command, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(command), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public void execute(Runnable command) {
        delegate().execute(wrap(command));
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
        return delegate().awaitTermination(timeout, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) {
        return delegate().scheduleWithFixedDelay(wrap(command), initialDelay, delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleWithFixedDelay(Runnable command, long initialDelay, long delay, TimeUnit unit) {
        return delegate().scheduleWithFixedDelay(wrap(command), initialDelay, delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> schedule(Runnable command, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(command), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> schedule(Runnable command, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(command), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
        return delegate().awaitTermination(timeout, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public void execute(Runnable command) {
        delegate().execute(wrap(command));
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) {
        return delegate().scheduleAtFixedRate(wrap(command), initialDelay, period, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public ScheduledFuture<?> scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) {
        return delegate().scheduleAtFixedRate(wrap(command), initialDelay, period, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public <V> ScheduledFuture<V> schedule(Callable<V> callable, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(callable), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java

    @Override
    public <V> ScheduledFuture<V> schedule(Callable<V> callable, long delay, TimeUnit unit) {
        return delegate().schedule(wrap(callable), delay, unit);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
                        handler) {
                    @Override
                    public void execute(Runnable command) {
                        super.execute(wrap(executorName, command));
                    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java

            @Override
            public Thread newThread(Runnable runnable) {
                Thread thread = new Thread(runnable, prefix + "-" + nextThreadId.getAndIncrement());
                thread.setPriority(priority);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
                new ScheduledThreadPoolExecutor(positiveCorePoolSize, threadFactory, handler) {
                    @Override
                    public void execute(Runnable command) {
                        super.execute(wrap(executorName, command));
                    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java

        @Override
        default int compareTo(TimestampAndShard other) {
            return COMPARATOR.compare(this, other);
        }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/ResilientLockWatchProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws IllegalAccessException {
        try {
            return method.invoke(delegate, args);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/ResilientLockWatchProxy.java`
#### Snippet
```java

    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws IllegalAccessException {
        try {
            return method.invoke(delegate, args);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/StartTimestamp.java`
#### Snippet
```java

    @Override
    default int compareTo(StartTimestamp other) {
        return Comparator.comparingLong(StartTimestamp::value).compare(this, other);
    }
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/Sequence.java`
#### Snippet
```java

    @Override
    default int compareTo(Sequence other) {
        return Comparator.comparingLong(Sequence::value).compare(this, other);
    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java

    @Override
    protected KeyValueService delegate() {
        return delegate;
    }
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingIterator.java`
#### Snippet
```java

    @Override
    protected I delegate() {
        return delegate;
    }
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    public PaxosValue getLastAcceptedValue() {
        return lastAcceptedValue;
    }
```

### NullableProblems
Getter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    public PaxosProposalId getLastAcceptedId() {
        return lastAcceptedId;
    }
```

### NullableProblems
Getter for @Nonnull field might be annotated @Nonnull itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    public PaxosProposalId getPromisedId() {
        return promisedId;
    }
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    private PaxosPromise(PaxosProposalId promisedId, PaxosProposalId lastAcceptedId, PaxosValue val) {
        ack = true;
        this.promisedId = Preconditions.checkNotNull(promisedId, "promisedId cannot be null");
```

### NullableProblems
Constructor parameter for @Nullable field might be annotated @Nullable itself
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
    }

    private PaxosPromise(PaxosProposalId promisedId, PaxosProposalId lastAcceptedId, PaxosValue val) {
        ack = true;
        this.promisedId = Preconditions.checkNotNull(promisedId, "promisedId cannot be null");
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorDataSource.java`
#### Snippet
```java

            @Override
            public String toString() {
                return MoreObjects.toStringHelper(getClass())
                        .add("delegate", delegate)
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorDataSource.java`
#### Snippet
```java
        this.handler = new AbstractInvocationHandler() {
            @Override
            protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
                Object ret;
                try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorConnection.java`
#### Snippet
```java

    @Override
    public Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Object ret;
        try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorConnection.java`
#### Snippet
```java

    @Override
    public Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        Object ret;
        try {
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorConnection.java`
#### Snippet
```java

    @Override
    public String toString() {
        return MoreObjects.toStringHelper(getClass()).add("delegate", delegate).toString();
    }
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorDataSource.java`
#### Snippet
```java
        this.handler = new AbstractInvocationHandler() {
            @Override
            protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
                Object ret;
                try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorDataSource.java`
#### Snippet
```java
        this.handler = new AbstractInvocationHandler() {
            @Override
            protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
                Object ret;
                try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorStatement.java`
#### Snippet
```java

    @Override
    public Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorStatement.java`
#### Snippet
```java

    @Override
    public Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            try {
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorStatement.java`
#### Snippet
```java

    @Override
    public Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        try {
            try {
```

### NullableProblems
Not annotated method overrides method annotated with @ElementTypesAreNonnullByDefault
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/InterceptorStatement.java`
#### Snippet
```java

    @Override
    public String toString() {
        return MoreObjects.toStringHelper(getClass()).add("delegate", delegate).toString();
    }
```

### NullableProblems
Not annotated method overrides method annotated with @NotNull
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/UnstableOrderedIterable.java`
#### Snippet
```java

    @Override
    public Iterator<T> iterator() {
        return orderingIterator.next().iterator();
    }
```

### NullableProblems
Not annotated method overrides method annotated with @NotNull
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimeLockRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        Statement chainedStatement = chain.apply(base, description);
        return super.apply(chainedStatement, description);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimeLockRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        Statement chainedStatement = chain.apply(base, description);
        return super.apply(chainedStatement, description);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-tests-shared/src/main/java/com/palantir/timelock/paxos/InMemoryTimeLockRule.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        Statement chainedStatement = chain.apply(base, description);
        return super.apply(chainedStatement, description);
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
    @SuppressWarnings("ThrowError") // Possible legacy API
    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        if (method.getName().equals("close") && args.length == 0) {
            log.debug("Closing leadership proxy");
```

### NullableProblems
Not annotated parameter overrides @ElementTypesAreNonnullByDefault parameter
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
    @SuppressWarnings("ThrowError") // Possible legacy API
    @Override
    protected Object handleInvocation(Object proxy, Method method, Object[] args) throws Throwable {
        if (method.getName().equals("close") && args.length == 0) {
            log.debug("Closing leadership proxy");
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/ThreeNodeCassandraResource.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        containers = new Containers(description.getTestClass()).with(new ThreeNodeCassandraCluster());
        testResourceManager = new TestResourceManager(supplier);
```

### NullableProblems
Not annotated parameter overrides @NotNull parameter
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/CassandraResource.java`
#### Snippet
```java

    @Override
    public Statement apply(Statement base, Description description) {
        containers = new Containers(description.getTestClass()).with(containerInstance);
        testResourceManager = new TestResourceManager(supplier);
```

## RuleId[id=JavadocLinkAsPlainText]
### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/ConflictHandler.java`
#### Snippet
```java
     * replica, and have writers update all replicas.
     * <p>
     * Note: This ConflictHandler has the ABA problem (https://en.wikipedia.org/wiki/ABA_problem).  The easiest
     * way to fix this is to have the value always increase.
     */
```

### JavadocLinkAsPlainText
Link specified as plain text
in `timestamp-impl/src/main/java/com/palantir/timestamp/DebugLogger.java`
#### Snippet
```java
/**
 * This is a logger intended for use tracking down problems arising from
 * https://github.com/palantir/atlasdb/issues/1000.  To activate this logging
 * please follow instructions on
 * http://palantir.github.io/atlasdb/html/configuration/logging.html#debug-logging-for-multiple-timestamp-services-error
```

### JavadocLinkAsPlainText
Link specified as plain text
in `timestamp-impl/src/main/java/com/palantir/timestamp/DebugLogger.java`
#### Snippet
```java
 * https://github.com/palantir/atlasdb/issues/1000.  To activate this logging
 * please follow instructions on
 * http://palantir.github.io/atlasdb/html/configuration/logging.html#debug-logging-for-multiple-timestamp-services-error
 */
@SuppressFBWarnings("SLF4J_LOGGER_SHOULD_BE_PRIVATE")
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-buggify/src/main/java/com/palantir/atlasdb/buggify/api/Buggify.java`
#### Snippet
```java
 * behavior of never running the provided runnable, or always running the provided runnable.
 * <p>
 * See https://apple.github.io/foundationdb/client-testing.html for more information.
 */
public interface Buggify {
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java
    /**
     * A thread-safer mkdirs. mkdirs() will fail if another thread creates one of the directories it
     * means to create before it does. http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4742723
     *
     * This attempts the mkdirs() multiple times, so that if another thread does create one of the
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
    /**
     * Use {@link MessageDigest} prototypes as a workaround for
     * https://bugs.openjdk.java.net/browse/JDK-7092821, similar to Guava's
     * workaround https://github.com/google/guava/issues/1197
     *
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
     * Use {@link MessageDigest} prototypes as a workaround for
     * https://bugs.openjdk.java.net/browse/JDK-7092821, similar to Guava's
     * workaround https://github.com/google/guava/issues/1197
     *
     * We can remove this once we get to JDK 17, see https://github.com/openjdk/jdk/pull/1933
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
     * workaround https://github.com/google/guava/issues/1197
     *
     * We can remove this once we get to JDK 17, see https://github.com/openjdk/jdk/pull/1933
     */
    // MessageDigest#update() is never called here, so this enum instance is effectively immutable.
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableUtils.java`
#### Snippet
```java

    /**
     * Used to avoid http://bugs.sun.com/view_bug.do?bug_id=6558557
     */
    @SuppressWarnings("unchecked")
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
    /**
     * Print out a thread dump header. This method was copied from Thread Dump Analyzer (and slightly modified)
     * http://java.net/projects/tda/sources/svn/content/trunk/tda/src/java/com/pironet/tda/jconsole/MBeanDumper.java?rev=638
     */
    private static void threadHeaderToString(ThreadInfo ti, StringBuilder dump) {
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/PostgresConnectionConfig.java`
#### Snippet
```java
    /**
     * Set arbitrary additional connection parameters.
     * See https://jdbc.postgresql.org/documentation/head/connect.html
     */
    @Value.Default
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/OracleConnectionConfig.java`
#### Snippet
```java
    /**
     * Set arbitrary additional connection parameters.
     * See https://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html
     */
    @Value.Default
```

### JavadocLinkAsPlainText
Link specified as plain text
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosProposerImpl.java`
#### Snippet
```java

    /**
     * Executes phase two of paxos (see http://en.wikipedia.org/wiki/Paxos_(computer_science)#Basic_Paxos).
     *
     * @param seq the number identifying this instance of paxos
```

### JavadocLinkAsPlainText
Link specified as plain text
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosProposerImpl.java`
#### Snippet
```java

    /**
     * Executes phase one of paxos (see http://en.wikipedia.org/wiki/Paxos_(computer_science)#Basic_Paxos).
     *
     * @param seq the number identifying this instance of paxos
```

### JavadocLinkAsPlainText
Link specified as plain text
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/ValueAndMaybeTimestamp.java`
#### Snippet
```java
 * Occasionally, storing just a value might not be enough context needed when validating an invariant.
 *
 * For example, to detect that the ABA problem has occurred (ABA problem (https://en.wikipedia.org/wiki/ABA_problem),
 * values alone would not be sufficient. Storing the timestamp associated with the value, such as the start timestamp,
 * would be able to catch these sort of cases.
```

## RuleId[id=ExplicitArrayFilling]
### ExplicitArrayFilling
Can be replaced with single 'Arrays.fill()' method call
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequests.java`
#### Snippet
```java
    public static byte[] getLastRowName() {
        byte[] ret = new byte[Cell.MAX_NAME_LENGTH];
        for (int i = 0; i < ret.length; i++) {
            ret[i] = (byte) 0xff;
        }
```

### ExplicitArrayFilling
Can be replaced with single 'Arrays.fill()' method call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/Cells.java`
#### Snippet
```java
    static byte[] getLargestName() {
        byte[] name = new byte[Cell.MAX_NAME_LENGTH];
        for (int i = 0; i < Cell.MAX_NAME_LENGTH; i++) {
            name[i] = (byte) 0xff;
        }
```

## RuleId[id=FieldCanBeLocal]
### FieldCanBeLocal
Field can be converted to a local variable
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultSetImpl.java`
#### Snippet
```java
    private final ResultSet results;
    private final DBType dbType;
    private final Map<String, Integer> columnMap;
    private final PreparedStatement stmt;
    private final AgnosticLightResultRow
```

### FieldCanBeLocal
Field can be converted to a local variable
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultSetImpl.java`
#### Snippet
```java

    private final ResultSet results;
    private final DBType dbType;
    private final Map<String, Integer> columnMap;
    private final PreparedStatement stmt;
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/AbstractCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "field in the config yaml file that contains the atlasdb configuration root")
    private String configRoot = AtlasDbConfigs.ATLASDB_CONFIG_OBJECT_PATH;

    @Option(
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/AbstractCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "field in the runtime config yaml file that contains the atlasdb configuration root")
    private String runtimeConfigRoot = AtlasDbConfigs.ATLASDB_CONFIG_OBJECT_PATH;

    @Option(
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-m", "--migrate"},
            description = "Start or continue migration.")
    private boolean migrate = false;

    @Option(
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-s", "--setup"},
            description = "Setup migration by dropping and creating tables.")
    private boolean setup = false;

    @Option(
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-v", "--validate"},
            description = "Validate migration.")
    private boolean validate = false;

    @Option(
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "run this cli offline")
    private boolean offline = false;

    // TODO(bgrabham): Hide this argument once https://github.com/airlift/airline/issues/51 is fixed
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
public class TableClassRendererV2 {
    private final String packageName;
    private final Namespace namespace;

    private final TableMetadata tableMetadata;
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
    private final TableMetadata tableMetadata;
    private final String rawTableName;
    private final String tableName;

    private final String tableClassName;
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
    private final String tableName;

    private final String tableClassName;
    private final ClassName tableType;

```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
    private final ClassName tableType;

    private final String rowClassName;
    private final ClassName rowType;

```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
    private final ClassName rowType;

    private final String rowResultClassName;
    private final ClassName rowResultType;

```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamTableDefinitionBuilder.java`
#### Snippet
```java

    private TableMetadataPersistence.LogSafety tableNameLogSafety = TableMetadataPersistence.LogSafety.UNSAFE;
    private boolean hashFirstRowComponent = false;
    private boolean appendHeavyAndReadLight = false;
    private boolean dbSideCompressionForBlocks = false;
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-commons/src/main/java/com/palantir/common/random/SecureRandomPool.java`
#### Snippet
```java

    private final List<SecureRandom> pool;
    private final SecureRandom seedSource;
    private final AtomicLong next = new AtomicLong(0L);

```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private final ImmutableMap.Builder<String, String> safeTags = ImmutableMap.builder();

        private Observability observability = Observability.UNDECIDED;
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java

    private final AbandonedTransactionConsumer abandonedTransactionConsumer;
    private final BackgroundSweepScheduler noneScheduler;

    private LastSweptTimestampUpdater lastSweptTimestampUpdater;
```

### FieldCanBeLocal
Field can be converted to a local variable
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/TargetedSweepMetrics.java`
#### Snippet
```java

    private static final class StrategyAgnosticMetrics {
        private final TargetedSweepProgressMetrics progressMetrics;
        private final AtomicLong lastSeenCommitTs;

```

### FieldCanBeLocal
Field can be converted to a local variable
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/handle/UndertowCorruptionHandlerService.java`
#### Snippet
```java
    private final UndertowService delegate;
    private final HandlerWrapper wrapper;
    private final CorruptionHealthCheck healthCheck;

    public UndertowCorruptionHandlerService(UndertowService service, CorruptionHealthCheck healthCheck) {
```

## RuleId[id=IgnoreResultOfCall]
### IgnoreResultOfCall
Result of `ByteArrayInputStream.read()` is ignored
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
                        ByteArrayInputStream bais = (ByteArrayInputStream) arg;
                        byte[] bytes = new byte[bais.available()];
                        bais.read(bytes, 0, bais.available());
                        prettyPrintByteArray(sb, bytes);
                    } else if (arg instanceof byte[]) {
```

### IgnoreResultOfCall
Result of `Thread.interrupted()` is ignored
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
                        // we want to clear the interrupted status here -
                        // we cancel via the prepared statement, not interrupts
                        Thread.interrupted();
                    }
                    return callable.call();
```

### IgnoreResultOfCall
Result of `Thread.interrupted()` is ignored
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
                        // we want to clear the interrupted status here -
                        // we cancel via the prepared statement, not interrupts
                        Thread.interrupted();
                    }
                    if (fetchSize != null) {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java

        // create paths if they don't exist
        outputDir.mkdirs();
        outputFile = outputFile.getAbsoluteFile();
        outputFile.createNewFile();
```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
        outputDir.mkdirs();
        outputFile = outputFile.getAbsoluteFile();
        outputFile.createNewFile();
        FileWriter os = null;
        try {
```

### IgnoreResultOfCall
Result of `File.mkdirs()` is ignored
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java

        for (int i = 0; i < 10 && !f.isDirectory(); ++i) {
            f.mkdirs();
        }

```

### IgnoreResultOfCall
Result of `File.createNewFile()` is ignored
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java
    public static void ensureFileExists(File file) throws IOException {
        if (!file.exists()) {
            file.createNewFile();
        }
    }
```

### IgnoreResultOfCall
Result of `ExecutorService.awaitTermination()` is ignored
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceMigrator.java`
#### Snippet
```java
        } finally {
            executor.shutdown();
            executor.awaitTermination(10000L, TimeUnit.MILLISECONDS);
        }
    }
```

### IgnoreResultOfCall
Result of `File.renameTo()` is ignored
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
        // overwrite file with tmp
        File file = new File(path, name);
        tmpFile.renameTo(file);

        // update version
```

### IgnoreResultOfCall
Result of `Hex.hexToBytes()` is ignored
in `cassandra-partitioner/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/dht/AtlasDbOrderedPartitioner.java`
#### Snippet
```java
                    token = "0" + token;
                }
                Hex.hexToBytes(token);
            } catch (NumberFormatException e) {
                throw new ConfigurationException("Token " + token + " contains non-hex digits");
```

### IgnoreResultOfCall
Result of `Matcher.find()` is ignored
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/CassandraCliParser.java`
#### Snippet
```java
                    Pattern replicationRegex = cassandraVersion.replicationFactorRegex();
                    Matcher matcher = replicationRegex.matcher(line);
                    matcher.find();
                    return Integer.parseInt(matcher.group(1));
                }
```

## RuleId[id=BlockingMethodInNonBlockingContext]
### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-api/src/main/java/com/palantir/lock/ForwardingRemoteLockService.java`
#### Snippet
```java
    public void close() throws IOException {
        if (delegate() instanceof Closeable) {
            ((Closeable) delegate()).close();
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/ThreadPooledLockService.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        delegate.close();
    }
}
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
        @Override
        public void lockInterruptibly() throws InterruptedException {
            sync.acquireInterruptibly(clientIndex);
        }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
        public LockClient tryLock(long time, TimeUnit unit) throws InterruptedException {
            LockClient client = tryLock();
            if (client != null && sync.tryAcquireNanos(clientIndex, unit.toNanos(time))) {
                return null;
            }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
        @Override
        public void lockInterruptibly() throws InterruptedException {
            sync.acquireSharedInterruptibly(clientIndex);
        }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServerLock.java`
#### Snippet
```java
        public LockClient tryLock(long time, TimeUnit unit) throws InterruptedException {
            LockClient client = tryLock();
            if (client != null && sync.tryAcquireSharedNanos(clientIndex, unit.toNanos(time))) {
                return null;
            }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/logger/LockStateYamlWriter.java`
#### Snippet
```java
     */
    public void appendComment(String string) throws IOException {
        writer.append("# ");
        writer.append(string);
        writer.append("\n");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/logger/LockStateYamlWriter.java`
#### Snippet
```java
    public void appendComment(String string) throws IOException {
        writer.append("# ");
        writer.append(string);
        writer.append("\n");
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/logger/LockStateYamlWriter.java`
#### Snippet
```java
        writer.append("# ");
        writer.append(string);
        writer.append("\n");
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/logger/LockStateYamlWriter.java`
#### Snippet
```java
     */
    public static LockStateYamlWriter create(File file) throws IOException {
        return new LockStateYamlWriter(Files.newBufferedWriter(
                file.toPath(), StandardCharsets.UTF_8, StandardOpenOption.CREATE, StandardOpenOption.APPEND));
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/logger/LockStateYamlWriter.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        writer.close();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/sql/ResultSets.java`
#### Snippet
```java
                    if (!closed) {
                        closed = true;
                        super.close();
                    }
                }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
            int length;
            StringBuilder sb = new StringBuilder();
            while ((length = reader.read(cbuf, 0, SIZE)) > 0) {
                sb.append(cbuf, 0, length);
            }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
        int length;
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        while ((length = bias.read(buf, 0, SIZE)) > 0) {
            baos.write(buf, 0, length);
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
                os = blobHandler.setBinaryStream(0);
                PTStreams.copy(is, os);
                os.close();
                ps.setBlob(i, blobHandler.getBlob());
            } catch (Exception e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            while (true) {
                try {
                    result = future.get();
                    break; // success
                } catch (InterruptedException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyAlreadyExistsException.java`
#### Snippet
```java

    private void readObject(ObjectInputStream stream) throws IOException, ClassNotFoundException {
        stream.defaultReadObject();
        knownSuccessfullyCommittedKeys = MoreObjects.firstNonNull(knownSuccessfullyCommittedKeys, ImmutableList.of());
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                T token = null;
                try {
                    token = queue.take();
                    long timeUntilTokenExpiredMs =
                            token.getExpirationDateMs() - currentTimeMillis() + maxAllowedClockDrift.toMillis();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    long sleepTimeMs = Math.min(timeUntilTokenExpiredMs, maxAllowedClockDrift.toMillis());
                    if (sleepTimeMs > 0) {
                        Thread.sleep(sleepTimeMs);
                    }
                } catch (InterruptedException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    static Object getBlobObject(InputStream stream) throws IOException, ClassNotFoundException {
        ObjectInputStream ois = new ObjectInputStream(stream);
        Object object = ois.readObject();
        ois.close();

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
        ObjectInputStream ois = new ObjectInputStream(stream);
        Object object = ois.readObject();
        ois.close();

        return object;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(baos);
        oos.writeObject(obj);
        oos.flush();
        oos.close();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
        ObjectOutputStream oos = new ObjectOutputStream(baos);
        oos.writeObject(obj);
        oos.flush();
        oos.close();

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
        oos.writeObject(obj);
        oos.flush();
        oos.close();

        return baos.toByteArray();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
                Thread.currentThread(), oldName + " blocking on " + threadString + " started at " + currentTimestamp);
        try {
            rs = result.get();
            return visitor.visit(rs);
        } catch (InterruptedException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/AbstractTimestampCommand.java`
#### Snippet
```java
        String timestampString;
        try {
            timestampString = StringUtils.strip(Iterables.getOnlyElement(Files.readAllLines(file.toPath())));
        } catch (IOException e) {
            printer.error(
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/AbstractTimestampCommand.java`
#### Snippet
```java
        try {
            if (file.getParentFile() != null && !file.getParentFile().exists()) {
                Files.createDirectories(file.getParentFile().toPath());
            }
            Files.write(file.toPath(), lines, StandardCharsets.UTF_8);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/AbstractTimestampCommand.java`
#### Snippet
```java
                Files.createDirectories(file.getParentFile().toPath());
            }
            Files.write(file.toPath(), lines, StandardCharsets.UTF_8);
        } catch (IOException e) {
            printer.error("IOException thrown writing timestamp to file: {}", SafeArg.of("file path", file.getPath()));
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
        if (sleepTimeInMs > 0) {
            try {
                Thread.sleep(sleepTimeInMs);
            } catch (InterruptedException e) {
                throw Throwables.rewrapAndThrowUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java
    private static File writeResourceToTempFile(Class<?> clazz, String resourcePath) throws IOException {
        URL resource = clazz.getResource("/" + resourcePath);
        File file = File.createTempFile(
                FilenameUtils.getBaseName(resource.getFile()), FilenameUtils.getExtension(resource.getFile()));
        IOUtils.copy(resource.openStream(), FileUtils.openOutputStream(file));
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java
        File file = File.createTempFile(
                FilenameUtils.getBaseName(resource.getFile()), FilenameUtils.getExtension(resource.getFile()));
        IOUtils.copy(resource.openStream(), FileUtils.openOutputStream(file));
        file.deleteOnExit();
        return file;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
        try (InputStream inputStream = transactionManager.runTaskThrowOnConflict(txn -> store.loadStream(txn, id))) {
            byte[] firstBytes = new byte[16];
            int read = inputStream.read(firstBytes);
            assertThat(read).isEqualTo(16);
            assertThat(firstBytes).isEqualTo(table.getVeryLargeStreamFirstBytes());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
                InputStreamReader reader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);
                BufferedReader bufferedReader = new BufferedReader(reader)) {
            String line = bufferedReader.readLine();

            assertThat(line).startsWith("bytes");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
        try (InputStream inputStream = transactionManager.runTaskThrowOnConflict(txn -> store.loadStream(txn, id))) {
            byte[] firstBytes = new byte[16];
            int read = inputStream.read(firstBytes);
            assertThat(read).isEqualTo(16);
            assertThat(firstBytes).isEqualTo(table.getLargeStreamFirstBytes());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/batch/ParallelTaskRunner.java`
#### Snippet
```java
    private static <T> T getFutureUnchecked(Future<T> future) {
        try {
            return future.get();
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimestampManagementResource.java`
#### Snippet
```java
        private void serialize(String value, HttpServerExchange exchange) throws IOException {
            exchange.getResponseHeaders().put(Headers.CONTENT_TYPE, MediaType.TEXT_PLAIN);
            exchange.getOutputStream().write(value.getBytes(StandardCharsets.UTF_8));
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        delegate.close();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPingableLeaderFactory.java`
#### Snippet
```java
        for (Closeable closeable : closeables) {
            try {
                closeable.close();
            } catch (IOException e) {
                log.error("could not close autobatcher for pingable leader", e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPingableLeaderFactory.java`
#### Snippet
```java
            try {
                Optional<ClientAwareLeaderPinger> maybePingableLeader =
                        uuidToRemoteAutobatcher.apply(uuid).get();
                if (!maybePingableLeader.isPresent()) {
                    return LeaderPingResults.pingReturnedFalse();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPingableLeaderFactory.java`
#### Snippet
```java
                        .get()
                        .registerAndPing(uuid, client)
                        .get(leaderPingResponseWait.toMillis(), TimeUnit.MILLISECONDS);
            } catch (InterruptedException e) {
                log.warn("received interrupt whilst trying to ping leader", SafeArg.of("client", client), e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
            Preconditions.checkArgument(seq == value.getRound(), "seq differs from PaxosValue.round");
            try {
                learn.apply(Maps.immutableEntry(client, value)).get();
            } catch (ExecutionException | InterruptedException e) {
                throw AutobatcherExecutionExceptions.handleAutobatcherExceptions(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
        public PaxosResponses<PaxosUpdate> getLearnedValuesSince(long seq) {
            try {
                return getLearnedValuesSince.apply(WithSeq.of(client, seq)).get();
            } catch (ExecutionException | InterruptedException e) {
                throw AutobatcherExecutionExceptions.handleAutobatcherExceptions(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosLearnerNetworkClientFactory.java`
#### Snippet
```java
                long seq, Function<Optional<PaxosValue>, T> mapper) {
            try {
                return getLearnedValues.apply(WithSeq.of(client, seq)).get().map(c -> mapper.apply(c.get()));
            } catch (ExecutionException | InterruptedException e) {
                throw AutobatcherExecutionExceptions.handleAutobatcherExceptions(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java
                    seq == proposal.getValue().getRound(), "seq does not match round in paxos value inside proposal");
            try {
                return accept.apply(Maps.immutableEntry(client, proposal)).get();
            } catch (ExecutionException | InterruptedException e) {
                throw AutobatcherExecutionExceptions.handleAutobatcherExceptions(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java
        public PaxosResponses<PaxosLong> getLatestSequencePreparedOrAccepted() {
            try {
                return latestSequence.apply(client).get();
            } catch (ExecutionException | InterruptedException e) {
                throw AutobatcherExecutionExceptions.handleAutobatcherExceptions(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPaxosAcceptorNetworkClientFactory.java`
#### Snippet
```java
            try {
                return prepare.apply(Maps.immutableEntry(client, WithSeq.of(proposalId, seq)))
                        .get();
            } catch (ExecutionException | InterruptedException e) {
                throw AutobatcherExecutionExceptions.handleAutobatcherExceptions(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
        writeThread.start();
        try {
            writeThread.join();
        } catch (InterruptedException e) {
            throw Throwables.rewrapAndThrowUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
        List<Future<Void>> futures;
        try {
            futures = executor.invokeAll(callables);
        } catch (InterruptedException e) {
            throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
        for (Future<Void> future : futures) {
            try {
                future.get();
            } catch (InterruptedException e) {
                throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
        outputDir.mkdirs();
        outputFile = outputFile.getAbsoluteFile();
        outputFile.createNewFile();
        FileWriter os = null;
        try {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
        try {
            os = new FileWriter(outputFile, StandardCharsets.UTF_8);
            os.write(code);
        } finally {
            if (os != null) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
        } finally {
            if (os != null) {
                os.close();
            }
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
        try {
            for (Future<Void> f : futures) {
                f.get();
            }
        } catch (InterruptedException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
        } finally {
            try {
                fos.close();
            } catch (IOException e) {
                // Do nothing
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
            ByteStreams.copy(in, fos);
        }
        fos.close();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
            if (closeable != null) {
                try {
                    closeable.close();
                } catch (IOException e) {
                    throw new RuntimeException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/GetRangesExecutors.java`
#### Snippet
```java
            @Override
            public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
                return executor.awaitTermination(timeout, unit);
            }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/RecomputingSupplier.java`
#### Snippet
```java
            if (currentLatch != null) {
                try {
                    currentLatch.await();
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/CachingTransaction.java`
#### Snippet
```java
                            cells,
                            (tableReference, toRead) -> Futures.immediateFuture(super.get(tableReference, toRead)))
                    .get();
        } catch (InterruptedException | ExecutionException e) {
            throw Throwables.rewrapAndThrowUncheckedException(e.getCause());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/DiscoverableSubtypeResolver.java`
#### Snippet
```java
            // better than ClassLoader.getSystemResources() which may not be the same classloader if ths app
            // is running in a container (e.g. via maven exec:java)
            final Enumeration<URL> resources = getClassLoader().getResources("META-INF/services/" + className);
            while (resources.hasMoreElements()) {
                final URL url = resources.nextElement();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/DiscoverableSubtypeResolver.java`
#### Snippet
```java
            while (resources.hasMoreElements()) {
                final URL url = resources.nextElement();
                try (InputStream input = url.openStream();
                        InputStreamReader streamReader = new InputStreamReader(input, StandardCharsets.UTF_8);
                        BufferedReader reader = new BufferedReader(streamReader)) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/DiscoverableSubtypeResolver.java`
#### Snippet
```java
                        BufferedReader reader = new BufferedReader(streamReader)) {
                    String line;
                    while ((line = reader.readLine()) != null) {
                        try {
                            serviceClasses.add(getClassLoader().loadClass(line.trim()));
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/PersistentStoragePathSanitizer.java`
#### Snippet
```java
        log.info("Deleted folder during sanitization.", SafeArg.of("path", absolutePath));

        try (Stream<Path> stream = Files.walk(absolutePath)) {
            List<Path> sortedPaths = stream.sorted(Comparator.reverseOrder()).collect(Collectors.toList());
            for (Path filePath : sortedPaths) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/PersistentStoragePathSanitizer.java`
#### Snippet
```java
            List<Path> sortedPaths = stream.sorted(Comparator.reverseOrder()).collect(Collectors.toList());
            for (Path filePath : sortedPaths) {
                Files.delete(filePath);
            }
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java
    private T delegate() {
        try {
            if (useLocalServiceFuture.get(0, TimeUnit.SECONDS)) {
                return localService;
            } else {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
        Path path = Paths.get(tempDir, "atlas-timestamp-service-creation.log");
        if (!Files.exists(path)) {
            Files.createFile(path);
        }
        return path.toFile();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-agent/src/main/java/com/palantir/timelock/config/PaxosInstallConfiguration.java`
#### Snippet
```java
                    !sqlitePersistence()
                            .dataDirectory()
                            .getCanonicalPath()
                            .startsWith(dataDirectory().getCanonicalPath() + File.separator),
                    "SQLite data directory can't be a subdirectory of the file-based data directory!");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-agent/src/main/java/com/palantir/timelock/config/PaxosInstallConfiguration.java`
#### Snippet
```java
                            .dataDirectory()
                            .getCanonicalPath()
                            .startsWith(dataDirectory().getCanonicalPath() + File.separator),
                    "SQLite data directory can't be a subdirectory of the file-based data directory!");
            Preconditions.checkArgument(
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-agent/src/main/java/com/palantir/timelock/config/PaxosInstallConfiguration.java`
#### Snippet
```java
            Preconditions.checkArgument(
                    !dataDirectory()
                            .getCanonicalPath()
                            .startsWith(sqlitePersistence().dataDirectory().getCanonicalPath() + File.separator),
                    "File-based data directory can't be a subdirectory of the SQLite data directory!");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-agent/src/main/java/com/palantir/timelock/config/PaxosInstallConfiguration.java`
#### Snippet
```java
                    !dataDirectory()
                            .getCanonicalPath()
                            .startsWith(sqlitePersistence().dataDirectory().getCanonicalPath() + File.separator),
                    "File-based data directory can't be a subdirectory of the SQLite data directory!");
        } catch (IOException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/SafeShutdownRunner.java`
#### Snippet
```java
        Future<?> future = executor.submit(shutdownCallback);
        try {
            future.get(duration.toMillis(), TimeUnit.MILLISECONDS);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/TimedRunner.java`
#### Snippet
```java
        final Exception failure;
        try {
            return future.get(timeoutDuration.toMillis(), TimeUnit.MILLISECONDS);
        } catch (InterruptedException e) {
            log.warn("Execution failed with exception", e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/file/DeleteOnCloseFileInputStream.java`
#### Snippet
```java
    public void close() throws IOException {
        try {
            super.close();
        } finally {
            if (!closed) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/file/DeleteOnCloseFileInputStream.java`
#### Snippet
```java

    public DeleteOnCloseFileInputStream(File file) throws FileNotFoundException {
        super(file);
        this.file = file;
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java
        ensureTempDirectoryExists();
        byte[] bytes = generateRandomBytes(32);
        return File.createTempFile(prefix + bytesToHex(bytes), suffix);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java
    public static void ensureFileExists(File file) throws IOException {
        if (!file.exists()) {
            file.createNewFile();
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/file/TempFileUtils.java`
#### Snippet
```java
        ensureTempDirectoryExists();
        byte[] bytes = generateRandomBytes(32);
        return File.createTempFile(prefix + bytesToHex(bytes), suffix, directory);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
            final SortedMap<T, ReentrantLock> sortedLocks = getSortedLocks(hashSet);
            for (ReentrantLock lock : sortedLocks.values()) {
                lock.lockInterruptibly();
                toUnlock.add(lock);
            }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
        @Override
        public ServerSocket createServerSocket(final int port) throws IOException {
            return new ServerSocket(port, 0, InetAddress.getByName("localhost"));
        }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
                : new LocalhostRMIServerSocketFactory();

        LocateRegistry.createRegistry(port, RMISocketFactory.getDefaultSocketFactory(), serverSocketFactory);

        final MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
        final MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();
        final JMXServiceURL url = new JMXServiceURL("service:jmx:rmi:///jndi/rmi://localhost:" + port + "/jmxrmi");
        final JMXConnectorServer rmiServer = JMXConnectorServerFactory.newJMXConnectorServer(url, null, mbs);
        rmiServer.start();
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
        final JMXServiceURL url = new JMXServiceURL("service:jmx:rmi:///jndi/rmi://localhost:" + port + "/jmxrmi");
        final JMXConnectorServer rmiServer = JMXConnectorServerFactory.newJMXConnectorServer(url, null, mbs);
        rmiServer.start();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
                        @SuppressWarnings("unchecked")
                        final KeyedWeakReference<String, DynamicMBean> ref =
                                (KeyedWeakReference<String, DynamicMBean>) refQueue.remove();
                        unregisterMBeanCatchAndLogExceptions(ref.getKey());
                    } catch (final InterruptedException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
            DigestInputStream digestInputStream = new DigestInputStream(is, digest);
            ByteStreams.copy(digestInputStream, ByteStreams.nullOutputStream());
            digestInputStream.close();
            return createFrom(digest);
        } finally {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
        } finally {
            try {
                is.close();
            } catch (IOException e) {
                /* don't throw from finally*/
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        }
        InputStream stream = streams.peek();
        int read = stream.read();
        if (read == -1) {
            stream.close();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        int read = stream.read();
        if (read == -1) {
            stream.close();
            streams.poll();
            return read();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        }
        InputStream stream = streams.peek();
        int read = stream.read(b, off, len);
        if (read == -1) {
            stream.close();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        int read = stream.read(b, off, len);
        if (read == -1) {
            stream.close();
            streams.poll();
            return read(b, off, len);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
    public void close() throws IOException {
        for (InputStream stream = streams.poll(); stream != null; stream = streams.poll()) {
            stream.close();
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/base/PrefetchingBatchingVisitable.java`
#### Snippet
```java
                    try {
                        while (queue.size() >= capacity) {
                            spaceAvailable.await();
                        }
                        fetchBlockedTime.stop();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/base/PrefetchingBatchingVisitable.java`
#### Snippet
```java
                            return true;
                        }
                        itemAvailable.await();
                    }
                    batch = queue.poll();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/base/ClosableIterators.java`
#### Snippet
```java
            public void close() {
                try {
                    closable.close();
                } catch (IOException e) {
                    throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/DelayProxy.java`
#### Snippet
```java
        long sleepTimeMs = sleepTimeMsSupplier.get();
        try {
            Thread.sleep((sleepTimeMs + 1) / 2);
        } catch (InterruptedException e) {
            throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/DelayProxy.java`
#### Snippet
```java
        } catch (InvocationTargetException e) {
            try {
                Thread.sleep(sleepTimeMs / 2);
            } catch (InterruptedException e2) {
                Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/DelayProxy.java`
#### Snippet
```java

        try {
            Thread.sleep(sleepTimeMs / 2);
        } catch (InterruptedException e) {
            throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/SerializingUtils.java`
#### Snippet
```java
            ByteArrayIOStream byteStream = new ByteArrayIOStream();
            out = new ObjectOutputStream(byteStream);
            out.writeObject(orig);
            out.close();

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/SerializingUtils.java`
#### Snippet
```java
            out = new ObjectOutputStream(byteStream);
            out.writeObject(orig);
            out.close();

            // Make an input stream from the byte array and read
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/SerializingUtils.java`
#### Snippet
```java
            // a copy of the object back in.
            in = factory.create(byteStream.getInputStream(), null);
            obj = (T) in.readObject();
        } catch (IOException e) {
            log.error("IO exception", e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/SerializingUtils.java`
#### Snippet
```java
        }
        try {
            closeable.close();
        } catch (IOException e) {
            // Ignore
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/InterruptibleProxy.java`
#### Snippet
```java
        });
        try {
            return future.get();
        } catch (ExecutionException e) {
            throw Throwables.rewrap(e.getCause());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
    public static String[] getStackTraceForConnection(
            MBeanServerConnection connection, boolean redact, DumpDetail detail) throws JMException, IOException {
        long[] threadIDs = (long[]) connection.getAttribute(THREAD_MXBEAN, "AllThreadIds");
        MemoryUsage.from((CompositeData) connection.getAttribute(MEMORY_MXBEAN, "HeapMemoryUsage"));

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            MBeanServerConnection connection, boolean redact, DumpDetail detail) throws JMException, IOException {
        long[] threadIDs = (long[]) connection.getAttribute(THREAD_MXBEAN, "AllThreadIds");
        MemoryUsage.from((CompositeData) connection.getAttribute(MEMORY_MXBEAN, "HeapMemoryUsage"));

        Class<?> monitorInfoClass = null;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        CompositeData[] threadData;
        if (java16) {
            threadData = (CompositeData[]) connection.invoke(
                    THREAD_MXBEAN,
                    "dumpAllThreads",
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
                    new String[] {boolean.class.getName(), boolean.class.getName()});
        } else {
            threadData = (CompositeData[]) connection.invoke(
                    THREAD_MXBEAN, "getThreadInfo", new Object[] {threadIDs, Integer.MAX_VALUE}, new String[] {
                        long[].class.getName(), int.class.getName()
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/BlockingWorkerPool.java`
#### Snippet
```java
        }

        Future<Void> f = service.take();
        currentTaskCount.decrementAndGet();
        try {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/BlockingWorkerPool.java`
#### Snippet
```java
        currentTaskCount.decrementAndGet();
        try {
            f.get();
        } catch (ExecutionException e) {
            throw Throwables.propagate(e.getCause());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/compression/BufferedDelegateInputStream.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        delegate.close();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/InterruptibleFuture.java`
#### Snippet
```java
        try {
            while (state != State.COMPLETED) {
                if (condition.awaitNanos(deadline - System.nanoTime()) <= 0) {
                    throw new TimeoutException();
                }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/InterruptibleFuture.java`
#### Snippet
```java
        try {
            while (state != State.COMPLETED) {
                condition.await();
            }
            return getReturnValue();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/MultiplexingCompletionService.java`
#### Snippet
```java

    public Future<Map.Entry<K, V>> poll(long timeout, TimeUnit unit) throws InterruptedException {
        return taskQueue.poll(timeout, unit);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/compression/StreamCompression.java`
#### Snippet
```java
        try {
            for (byte datum : data) {
                if (stream.read() != Byte.toUnsignedInt(datum)) {
                    return false;
                }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/compression/StreamCompression.java`
#### Snippet
```java
            return true;
        } finally {
            stream.reset();
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java
    @Override
    public void close() throws IOException {
        delegate.close();
        compressingStream.close();
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
    public static <R> R getUnchecked(Future<R> future) {
        try {
            return future.get();
        } catch (ExecutionException e) {
            throw Throwables.rewrapAndThrowUncheckedException(e.getCause());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TemporaryConfigurationHolder.java`
#### Snippet
```java
                        temporaryFolder.newFolder(appendPort("sqlite")).getAbsolutePath());
        template.process(
                variablesWithFolders, Files.newBufferedWriter(temporaryConfigFile.toPath(), StandardCharsets.UTF_8));
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-api-objects/src/main/java/com/palantir/lock/SimpleTimeDuration.java`
#### Snippet
```java
    @Override
    public void timedJoin(Thread thread) throws InterruptedException {
        unit.timedJoin(thread, time);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-api-objects/src/main/java/com/palantir/lock/SimpleTimeDuration.java`
#### Snippet
```java
    @Override
    public void timedWait(Object lock) throws InterruptedException {
        unit.timedWait(lock, time);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `lock-api-objects/src/main/java/com/palantir/lock/SimpleTimeDuration.java`
#### Snippet
```java
    @Override
    public void sleep() throws InterruptedException {
        unit.sleep(time);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timestamp-client/src/main/java/com/palantir/timestamp/RequestBatchingTimestampService.java`
#### Snippet
```java
        ListenableFuture<TimestampRange> range = batcher.apply(numTimestampsRequested);
        try {
            return range.get();
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            if (atStartOfLine) {
                atStartOfLine = false;
                output.append(indent);
            }
            output.append(data);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                output.append(indent);
            }
            output.append(data);
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        CharBuffer buffer = CharBuffer.allocate(BUFFER_SIZE);
        while (true) {
            int num = input.read(buffer);
            if (num == -1) {
                break;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/TaskRunner.java`
#### Snippet
```java
            List<V> results = new ArrayList<>(tasks.size());
            for (ListenableFuture<V> future : futures) {
                results.add(future.get());
            }
            return results;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraRequestExceptionHandler.java`
#### Snippet
```java

        try {
            Thread.sleep(backOffPeriod);
        } catch (InterruptedException i) {
            Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
                thriftSocket,
                socket -> {
                    socket.getSocket().setKeepAlive(true);
                    socket.getSocket().setSoTimeout(clientConfig.initialSocketQueryTimeoutMillis());
                },
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
                socket -> {
                    socket.getSocket().setKeepAlive(true);
                    socket.getSocket().setSoTimeout(clientConfig.initialSocketQueryTimeoutMillis());
                },
                addr);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
            boolean success = false;
            try {
                SSLSocket socket = (SSLSocket) sslSocketFactory.createSocket(
                        thriftSocket.getSocket(), addr.getHostString(), addr.getPort(), true);
                thriftSocket = tSocketFactory.create(socket);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
            setSocketOptions(
                    thriftSocket,
                    socket -> socket.getSocket().setSoTimeout(clientConfig.socketQueryTimeoutMillis()),
                    addr);
        } catch (TException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java
            for (int rowIndex = 0; result.size() < limit && rowIndex < rowsAscending.size(); rowIndex++) {
                Future<CqlResult> future = futures.get(rowIndex);
                CqlResult cqlResult = future.get();
                result.addAll(CqlExecutorImpl.getCells(CqlExecutorImpl::getCellFromRow, cqlResult));

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
    private static long sleepAndGetNextBackoffTime(long sleepTime) {
        try {
            Thread.sleep(sleepTime);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/AsyncSupplier.java`
#### Snippet
```java
        } else if (result.isDone()) {
            try {
                return result.get();
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/Ec2HostLocationSupplier.java`
#### Snippet
```java
        try {
            URL url = new URL(AZ_URL);
            HttpURLConnection conn = (HttpURLConnection) url.openConnection();
            int responseCode = conn.getResponseCode();
            Preconditions.checkState(responseCode == 200, "Getting AWS host metadata was not successful");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/Ec2HostLocationSupplier.java`
#### Snippet
```java
            URL url = new URL(AZ_URL);
            HttpURLConnection conn = (HttpURLConnection) url.openConnection();
            int responseCode = conn.getResponseCode();
            Preconditions.checkState(responseCode == 200, "Getting AWS host metadata was not successful");
            try (InputStreamReader reader = new InputStreamReader(conn.getInputStream(), StandardCharsets.UTF_8)) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/Ec2HostLocationSupplier.java`
#### Snippet
```java
            int responseCode = conn.getResponseCode();
            Preconditions.checkState(responseCode == 200, "Getting AWS host metadata was not successful");
            try (InputStreamReader reader = new InputStreamReader(conn.getInputStream(), StandardCharsets.UTF_8)) {
                return parseHostLocation(CharStreams.toString(reader));
            }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private ImmutableSet<InetSocketAddress> getReachableProxies(String inputHost) throws UnknownHostException {
        InetAddress[] resolvedHosts = InetAddress.getAllByName(inputHost);
        int knownPort = getKnownPort();

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java
            } catch (RuntimeException e) {
                log.warn("An error occurred while trying to create transaction manager. Retrying...", e);
                Thread.sleep(CREATE_TRANSACTION_MANAGER_POLL_INTERVAL_SECS);
            }
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-executors/src/main/java/com/palantir/common/concurrent/ForwardingFuture.java`
#### Snippet
```java
    @Override
    public V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException {
        return delegate().get(timeout, unit);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-executors/src/main/java/com/palantir/common/concurrent/ForwardingFuture.java`
#### Snippet
```java
    @Override
    public V get() throws InterruptedException, ExecutionException {
        return delegate().get();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingExecutorService.java`
#### Snippet
```java
    @Override
    public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
        return delegate().awaitTermination(timeout, unit);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-executors/src/main/java/com/palantir/common/concurrent/InternalForwardingScheduledExecutorService.java`
#### Snippet
```java
    @Override
    public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
        return delegate().awaitTermination(timeout, unit);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `commons-executors/src/main/java/com/palantir/common/concurrent/AbstractForwardingScheduledExecutorService.java`
#### Snippet
```java
    @Override
    public boolean awaitTermination(long timeout, TimeUnit unit) throws InterruptedException {
        return delegate().awaitTermination(timeout, unit);
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweeperImpl.java`
#### Snippet
```java
        for (Thread daemon : daemons) {
            try {
                daemon.join(MAX_DAEMON_CLEAN_SHUTDOWN_TIME_MILLIS);
                if (daemon.isAlive()) {
                    log.error("Background sweep thread failed to shut down");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java

    private void sleepFor(Duration duration) throws InterruptedException {
        if (shuttingDown.await(duration.toNanos(), TimeUnit.NANOSECONDS)) {
            throw new InterruptedException();
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceMigrator.java`
#### Snippet
```java
        } finally {
            executor.shutdown();
            executor.awaitTermination(10000L, TimeUnit.MILLISECONDS);
        }
    }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
        ByteBuffer buffer = ByteBuffer.wrap(value);
        try {
            autobatcher.apply(ImmutableCasRequest.of(cell, buffer, buffer)).get();
        } catch (Exception ex) {
            if (ex.getCause() instanceof CheckAndSetException) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
            autobatcher
                    .apply(ImmutableCasRequest.of(cell, inProgressMarkerBuffer, ByteBuffer.wrap(value)))
                    .get();
        } catch (Exception ex) {
            if (ex.getCause() instanceof KeyAlreadyExistsException) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java

    private void sleepForMillis(long millis) throws InterruptedException {
        if (shuttingDown.await(millis, TimeUnit.MILLISECONDS)) {
            throw new InterruptedException();
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
        shuttingDown.countDown();
        try {
            daemon.join();
            if (daemon.isAlive()) {
                log.error("Background compaction thread failed to shut down");
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
                            "Sleeping {} millis until next execution of scrub task",
                            SafeArg.of("sleepDuration", sleepDuration));
                    Thread.sleep(sleepDuration);
                } catch (InterruptedException e) {
                    break;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
                    lazyWriteMetric(AtlasDbMetricNames.SCRUB_RETRIES, 1);
                    try {
                        Thread.sleep(RETRY_SLEEP_INTERVAL_IN_MILLIS);
                    } catch (InterruptedException e) {
                        break;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
        boolean shutdown = false;
        try {
            shutdown = service.awaitTermination(5, TimeUnit.SECONDS);
        } catch (InterruptedException e) {
            log.error("Interrupted while shutting down the scrubber. This shouldn't happen.", e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
                        SafeArg.of("nextImmutableTimestamp", nextImmutableTimestamp),
                        SafeArg.of("commitTimestamp", commitTimestamp));
                Thread.sleep(AtlasDbConstants.SCRUBBER_RETRY_DELAY_MILLIS);
            } catch (InterruptedException e) {
                log.error("Interrupted while waiting for immutableTimestamp to advance past commitTimestamp", e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
        for (Future<Void> future : scrubFutures) {
            try {
                future.get();
            } catch (InterruptedException e) {
                throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
        executor.shutdown();
        try {
            if (!executor.awaitTermination(10, TimeUnit.SECONDS)) {
                log.error("Failed to shutdown the executor after 10 seconds.");
            }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariClientPoolConnectionManagerView.java`
#### Snippet
```java
    public Connection getConnection() throws SQLException {
        try {
            if (semaphore.tryAcquire(timeout, TimeUnit.SECONDS)) {
                Connection connection;
                try {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                            cells,
                            (tableReference, toRead) -> Futures.immediateFuture(super.get(tableRef, toRead)))
                    .get();
        } catch (InterruptedException | ExecutionException e) {
            throw Throwables.rewrapAndThrowUncheckedException(e.getCause());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
        // before the folder itself basically doing a rm -rf .
        Path absoluteStoragePath = new File(databaseFolder.getAbsolutePath()).toPath();
        try (Stream<Path> stream = Files.walk(absoluteStoragePath)) {
            List<Path> sortedPaths = stream.sorted(Comparator.reverseOrder()).collect(Collectors.toList());
            for (Path filePath : sortedPaths) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
            List<Path> sortedPaths = stream.sorted(Comparator.reverseOrder()).collect(Collectors.toList());
            for (Path filePath : sortedPaths) {
                Files.delete(filePath);
            }
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
            out.writeBytesNoTag(ByteString.copyFrom(bytes));
            out.flush();
            fileOut.getFD().sync();
            fileOut.close();
        } catch (IOException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
            out.writeBytesNoTag(ByteString.copyFrom(bytes));
            out.flush();
            fileOut.getFD().sync();
            fileOut.close();
        } catch (IOException e) {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
            out.flush();
            fileOut.getFD().sync();
            fileOut.close();
        } catch (IOException e) {
            log.error("problem writing paxos state", e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
                    }
                    receivedResponses.add(
                            responseFuture.get().getKey(), responseFuture.get().getValue());
                } catch (ExecutionException e) {
                    receivedResponses.markFailure();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosQuorumChecker.java`
#### Snippet
```java
                    }
                    receivedResponses.add(
                            responseFuture.get().getKey(), responseFuture.get().getValue());
                } catch (ExecutionException e) {
                    receivedResponses.markFailure();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/leader/BatchingLeaderElectionService.java`
#### Snippet
```java
    public LeadershipToken blockOnBecomingLeader() throws InterruptedException {
        try {
            return batcher.apply(null).get();
        } catch (ExecutionException e) {
            Throwable cause = e.getCause();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipStateManager.java`
#### Snippet
```java
        if (delegate instanceof Closeable) {
            try {
                ((Closeable) delegate).close();
            } catch (IOException ex) {
                log.warn("problem closing delegate", ex);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java
        while (!gainLeadershipBlocking()) {
            try {
                Thread.sleep(GAIN_LEADERSHIP_BACKOFF.toMillis());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java

        if (pingLeader(currentState.greatestLearnedValue()).isSuccessful()) {
            Thread.sleep(updatePollingRate.toMillis());
            return;
        }
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
        long backoffTime = (long) (randomWaitBeforeProposingLeadership.toMillis() * Math.random());
        log.debug("Waiting for [{}] ms before proposing leadership", SafeArg.of("waitTimeMs", backoffTime));
        Thread.sleep(backoffTime);

        proposeLeadershipAfter(currentState.greatestLearnedValue());
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/ete/Gradle.java`
#### Snippet
```java
            Process process = new ProcessBuilder(pathToGradlew.toFile().getAbsolutePath(), command)
                    .redirectErrorStream(true)
                    .start();
            try (InputStream processInputStream = process.getInputStream()) {
                IOUtils.copy(processInputStream, System.out);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-ete-test-utils/src/main/java/com/palantir/atlasdb/ete/Gradle.java`
#### Snippet
```java
                IOUtils.copy(processInputStream, System.out);
            }
            assertThat(process.waitFor()).isEqualTo(0);
        } catch (IOException e) {
            throw new RuntimeException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Future<?> future = exec.submit((Callable<Void>) () -> {
            withdrawMoney(t1, true, true);
            barrier.await();
            t1.commit();
            return null;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        withdrawMoney(t2, false, true);

        barrier.await();
        assertThat(catchThrowable(() -> {
                    t2.commit();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        assertThat(catchThrowable(() -> {
                    t2.commit();
                    future.get();
                }))
                .satisfiesAnyOf(
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Future<?> future = exec.submit((Callable<Void>) () -> {
            withdrawMoney(t1, true, false);
            barrier.await();
            t1.commit();
            return null;
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        withdrawMoney(t2, false, false);

        barrier.await();

        assertThat(catchThrowable(() -> {
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        assertThat(catchThrowable(() -> {
                    t2.commit();
                    future.get();
                }))
                .satisfiesAnyOf(
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/runner/AntithesisWorkflowValidatorRunner.java`
#### Snippet
```java
            List<WorkflowHistoryValidator> workflowHistoryValidators = Futures.allAsList(
                            submitWorkflowValidators(workflowAndInvariants))
                    .get();
            log.info("antithesis: stop_faults");
            workflowHistoryValidators.forEach(this::checkAndReportInvariantViolations);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
                    try {
                        latch.countDown();
                        latch2.await();
                    } catch (InterruptedException e) {
                        throw Throwables.throwUncheckedException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        thread.start();

        latch.await();

        // These puts will be seen by the range scan happening on the other thread
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        put(tx, TEST_TABLE, "row2", "col2", "v8");
        latch2.countDown();
        futureTask.get();
    }

```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/DefaultWorkflow.java`
#### Snippet
```java
                        transactionTask, workflowConfiguration.iterationCount());
        try {
            return transactionsFuture.get();
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/InterruptibleFileLogCollector.java`
#### Snippet
```java
        executor.shutdown();
        try {
            if (!executor.awaitTermination(STOP_TIMEOUT_IN_MILLIS, TimeUnit.MILLISECONDS)) {
                log.warn("docker containers were still running when log collection stopped");
                executor.shutdownNow();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
    private static String getDockerComposeFile(String configResource) {
        try {
            File configFile = File.createTempFile("config", ".yml");
            IOUtils.copy(Containers.class.getResourceAsStream(configResource), new FileOutputStream(configFile));
            return configFile.getPath();
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/SlaVerifier.java`
#### Snippet
```java
    private Map<String, Object> getUnchecked(Future<Map<String, Object>> future) {
        try {
            return future.get();
        } catch (Throwable e) {
            throw new RuntimeException(e);
```

### BlockingMethodInNonBlockingContext
Possibly blocking call in non-blocking context could lead to thread starvation
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractBenchmark.java`
#### Snippet
```java

    private void waitForTestsToComplete() throws InterruptedException {
        while (!completionLatch.await(1, TimeUnit.SECONDS)) {
            throwIfAnyCallsFailed();
            log.info("completed {} calls", SafeArg.of("counter", counter.get()));
```

## RuleId[id=AccessStaticViaInstance]
### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.create(java.lang.String)' accessed via instance reference
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
                    .create(BIND_FLAG_SHORT));

    private static String[] additionalBindingsToSetUp = new String[] {};
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.hasArgs(int)' accessed via instance reference
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
                    .create(BIND_FLAG_SHORT));
```

### AccessStaticViaInstance
Static member 'org.apache.commons.cli.OptionBuilder.withDescription(java.lang.String)' accessed via instance reference
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleMain.java`
#### Snippet
```java
            .addOption(
                    CLASSPATH_FLAG_SHORT, CLASSPATH_FLAG_LONG, true, "Additional locations to include on the classpath")
            .addOption(OptionBuilder.withLongOpt(BIND_FLAG_LONG)
                    .hasArgs(2)
                    .withDescription("Additional bindings to include in the cli")
                    .create(BIND_FLAG_SHORT));

```

## RuleId[id=RedundantMethodOverride]
### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java

        @Override
        public void cleanup() {}
    };

```

### RedundantMethodOverride
Method `lifeCycleStarting()` is identical to its super method
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/TimeLockServerLauncher.java`
#### Snippet
```java
        environment.lifecycle().addLifeCycleListener(new LifeCycle.Listener() {
            @Override
            public void lifeCycleStarting(LifeCycle event) {}

            @Override
```

### RedundantMethodOverride
Method `lifeCycleStopping()` is identical to its super method
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/TimeLockServerLauncher.java`
#### Snippet
```java

            @Override
            public void lifeCycleStopping(LifeCycle event) {}

            @Override
```

### RedundantMethodOverride
Method `lifeCycleStarted()` is identical to its super method
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/TimeLockServerLauncher.java`
#### Snippet
```java

            @Override
            public void lifeCycleStarted(LifeCycle event) {}

            @Override
```

### RedundantMethodOverride
Method `isInitialized()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/NoOpCleaner.java`
#### Snippet
```java

    @Override
    public boolean isInitialized() {
        return true;
    }
```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/ExternalLocksCondition.java`
#### Snippet
```java

    @Override
    public void cleanup() {}

    @Override
```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AdvisoryLockConditionSuppliers.java`
#### Snippet
```java

        @Override
        public void cleanup() {}
    };
}
```

### RedundantMethodOverride
Method `cleanup()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/PreCommitConditions.java`
#### Snippet
```java

        @Override
        public void cleanup() {}
    };

```

### RedundantMethodOverride
Method `clearTimestampCache()` is identical to its super method
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java

    @Override
    public void clearTimestampCache() {
        timestampValidationReadCache.clear();
    }
```

### RedundantMethodOverride
Method `startTransaction()` is identical to its super method
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

    @Override
    protected Transaction startTransaction() {
        return Iterables.getOnlyElement(txMgr.startTransactions(List.of(PreCommitConditions.NO_OP)));
    }
```

## RuleId[id=DefaultAnnotationParam]
### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceRuntimeConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueServiceRuntime config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceRuntimeConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceRuntimeConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueServiceRuntime config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceRuntimeConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueService config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/KeyValueServiceConfig.java`
#### Snippet
```java
 * Marker interface for various AtlasDb KeyValueService config objects.
 */
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = As.PROPERTY, property = "type", visible = false)
public interface KeyValueServiceConfig {
    String type();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            description = "path to yaml runtime configuration file for the KVS you're migrating from. Note that this "
                    + "config will not be reloaded while the CLI is running",
            required = false)
    private File fromRuntimeConfigFile;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            description = "path to yaml runtime configuration file for the KVS you're migrating to. Note that this "
                    + "config will not be reloaded while the CLI is running",
            required = false)
    private File toRuntimeConfigFile;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            title = "THREADS",
            description = "number of threads to use for migration",
            required = false,
            arity = 1)
    private int threads = 16;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            title = "BATCH SIZE",
            description = "batch size of rows to read",
            required = false,
            arity = 1)
    private int batchSize = 100;
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            title = "CONFIG PATH",
            description = "path to yaml configuration file for the KVS you're migrating to",
            required = false)
    private File toConfigFile;

```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
        return tables.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
        return tables.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanOneWideRowThorough(VeryWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanOneWideRowThorough(VeryWideRowTable table) {
        return fullTableScan(table.getTableRef(), table.getKvs(), table.getNumCols(), true);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyThorough(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyThorough(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return fullTableScan(table, true);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyConservative(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanDirtyConservative(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return fullTableScan(table, false);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanThorough(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanThorough(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return fullTableScan(table, true);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanConservative(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetCandidateCellsForSweepingBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object fullTableScanCleanConservative(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return fullTableScan(table, false);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/HttpBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void parseHttpHeaders(Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/HttpBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void parseHttpHeaders(Blackhole blackhole) {
        blackhole.consume(HeaderAccessUtils.shortcircuitingCaseInsensitiveContainsEntry(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 4, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.TransactionBatchRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 4, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.TransactionBatchRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.TransactionRowRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.TransactionRowRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 25, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 25, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 65, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 65, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) {
        return table.getTransactionManager().runTaskThrowOnConflict(txn -> {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitly(ModeratelyWideRowTable table) {
        Map<Cell, Value> result = table.getKvs().get(table.getTableRef(), table.getFirstCellAtMaxTimestampAsMap());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 180, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsExplicitly(ModeratelyWideRowTable table) {
        Map<Cell, Value> result = table.getKvs().get(table.getTableRef(), table.getAllCellsAtMaxTimestamp());
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getFirstColumnExplicitlyGetRows(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
        Map<Cell, Value> result = table.getKvs()
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetDynamicBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsImplicitly(ModeratelyWideRowTable table) throws UnsupportedEncodingException {
        Map<Cell, Value> result = table.getKvs()
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 40, timeUnit = TimeUnit.SECONDS)
    public Object getRanges(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 40, timeUnit = TimeUnit.SECONDS)
    public Object getRanges(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getRangesInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getCells(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getCells(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getCellsInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getCellsDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getCellsDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getCellsInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQuery(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQuery(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleRowWithRangeQueryInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQueryDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRowWithRangeQueryDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleRowWithRangeQueryInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCellDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCellDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleCellInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object getRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 8, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object getRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 70, timeUnit = TimeUnit.SECONDS)
    public Object getRangesDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 70, timeUnit = TimeUnit.SECONDS)
    public Object getRangesDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getRangesInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCell(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleCell(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleCellInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
        getAllRowsAndAssert(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRow(ModeratelyWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRow(ModeratelyWideRowTable table, Blackhole blackhole) {
        getAllRowsAndAssert(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithManyUncommitted(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithManyUncommitted(
            DirtyModeratelyWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithSomeUncommitted(
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TransactionGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public void getAllColumnsModeratelyWideRowWithSomeUncommitted(
            CleanModeratelyWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleRandomPut(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomMultiPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomMultiPut(EmptyTables tables) {
        Map<TableReference, Map<Cell, byte[]>> multiPutMap = new HashMap<>();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsDoesNotExist(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsDoesNotExist(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchRandomPut(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(BATCH_SIZE);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsAndExists(EmptyTables tables) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 20, timeUnit = TimeUnit.SECONDS)
    public Map<Cell, byte[]> putUnlessExistsAndExists(EmptyTables tables) {
        Map<Cell, byte[]> batch = tables.generateBatchToInsert(1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsUnaligned(WideRowsTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsUnaligned(WideRowsTable table) {
        List<byte[]> rows = IntStream.rangeClosed(0, WideRowsTable.NUM_ROWS - 1)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsAligned(WideRowsTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsAligned(WideRowsTable table) {
        List<byte[]> rows = IntStream.rangeClosed(0, WideRowsTable.NUM_ROWS - 1)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 16, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 160, timeUnit = TimeUnit.SECONDS)
    public Object getAllColumnsSingleBigRow(VeryWideRowTable table, Blackhole blackhole) {
        RowColumnRangeIterator iter = table.getKvs()
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(32)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(32)
    public TimestampRange manyThreadsGetBatchOfTimestamps(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
public class TimestampServiceBenchmarks {
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
    public long fewThreadsGetFreshTimestamp(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(4)
    public TimestampRange fewThreadsGetBatchOfTimestamps(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
    public long manyThreadsGetFreshTimestamp(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java

    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/TimestampServiceBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    @Threads(64)
    public long manyThreadsGetFreshTimestampWithBackoff(TimestampServiceEndpoint timestampService) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 90, timeUnit = TimeUnit.SECONDS)
    public Object multipleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 15, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 90, timeUnit = TimeUnit.SECONDS)
    public Object multipleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
        return runMultiSweep(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object multipleUniformSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 25, timeUnit = TimeUnit.SECONDS)
    public Object multipleUniformSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
        return runMultiSweep(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchedUniformSingleSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object batchedUniformSingleSweepRun(RegeneratingTable.SweepBatchUniformMultipleRegeneratingTable table) {
        return runSingleSweep(table, BATCH_SIZE);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object singleSweepRun(RegeneratingTable.SweepRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 15, timeUnit = TimeUnit.SECONDS)
    public Object singleSweepRun(RegeneratingTable.SweepRegeneratingTable table) {
        return runSingleSweep(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 75, timeUnit = TimeUnit.SECONDS)
    public Object batchedSingleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 75, timeUnit = TimeUnit.SECONDS)
    public Object batchedSingleSweepRun(RegeneratingTable.SweepBatchNonUniformMultipleSeparateRegeneratingTable table) {
        return runSingleSweep(table, BATCH_SIZE);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadVeryLargeStream(StreamingTable table) throws IOException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadVeryLargeStream(StreamingTable table) throws IOException {
        long id = table.getVeryLargeStreamId();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void loadSmallStream(StreamingTable table) throws IOException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public void loadSmallStream(StreamingTable table) throws IOException {
        long id = table.getSmallStreamId();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadLargeStream(StreamingTable table) throws IOException {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/StreamStoreBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public void loadLargeStream(StreamingTable table) throws IOException {
        long id = table.getLargeStreamId();
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object deleteAllTimestamps(RegeneratingTable.VersionedCellRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object deleteAllTimestamps(RegeneratingTable.VersionedCellRegeneratingTable table) {
        return doDeleteAllTimestamps(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object batchRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 6, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object batchRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
        return doDeleteRange(table, 4);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 22, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.KvsBatchRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 3, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 22, timeUnit = TimeUnit.SECONDS)
    public Object batchDelete(RegeneratingTable.KvsBatchRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object allRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 45, timeUnit = TimeUnit.SECONDS)
    public Object allRangeDelete(ConsecutiveNarrowTable.RegeneratingCleanNarrowTable table) {
        return doDeleteRange(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.KvsRowRegeneratingTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsDeleteBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 6, timeUnit = TimeUnit.SECONDS)
    public Object singleDelete(RegeneratingTable.KvsRowRegeneratingTable table) {
        return doDelete(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 2, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 10, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleRangeInner(table, 1000);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 5, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 30, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getMultiRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 20, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 120, timeUnit = TimeUnit.SECONDS)
    public Object getSingleLargeRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleRangeInner(table, (int) (0.1 * table.getNumRows()));
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 10, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 60, timeUnit = TimeUnit.SECONDS)
    public Object getMultiRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getMultiRangeInner(table);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRange(ConsecutiveNarrowTable.CleanNarrowTable table) {
        return getSingleRangeInner(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Benchmark
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRangeBenchmarks.java`
#### Snippet
```java
    @Threads(1)
    @Warmup(time = 1, timeUnit = TimeUnit.SECONDS)
    @Measurement(time = 5, timeUnit = TimeUnit.SECONDS)
    public Object getSingleRangeDirty(ConsecutiveNarrowTable.DirtyNarrowTable table) {
        return getSingleRangeInner(table, 1);
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DdlConfig.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
@JsonSubTypes({
    @JsonSubTypes.Type(PostgresDdlConfig.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DdlConfig.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type", visible = false)
@JsonSubTypes({
    @JsonSubTypes.Type(PostgresDdlConfig.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `timelock-agent/src/main/java/com/palantir/timelock/config/TsBoundPersisterRuntimeConfiguration.java`
#### Snippet
```java
import com.fasterxml.jackson.annotation.JsonTypeInfo;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes(@JsonSubTypes.Type(value = DatabaseTsBoundPersisterRuntimeConfiguration.class, name = "database"))
public interface TsBoundPersisterRuntimeConfiguration {}
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `timelock-agent/src/main/java/com/palantir/timelock/config/TsBoundPersisterConfiguration.java`
#### Snippet
```java
import com.fasterxml.jackson.annotation.JsonTypeInfo;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(value = PaxosTsBoundPersisterConfiguration.class, name = "paxos"),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-commons/src/main/java/com/palantir/common/annotations/ImmutablesStyles.java`
#### Snippet
```java
    @Target({ElementType.PACKAGE, ElementType.TYPE})
    @Retention(RetentionPolicy.SOURCE)
    @Value.Style(stagedBuilder = false) // Intentional: used for e.g. inner classes of staged builder public classes.
    @SuppressWarnings("RedundantModifier") // Unexpected bug in baseline check?
    @interface NoStagedBuilderStyle {}
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `lock-api-objects/src/main/java/com/palantir/lock/watch/CommitUpdate.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(value = InvalidateAll.class, name = InvalidateAll.TYPE),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/ConnectionConfig.java`
#### Snippet
```java
import org.immutables.value.Value;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(PostgresConnectionConfig.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/Event.java`
#### Snippet
```java
import java.util.Objects;

@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "type")
@JsonSubTypes({
    @JsonSubTypes.Type(InfoEvent.class),
```

### DefaultAnnotationParam
Redundant default parameter value assignment
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/config/TimelockBenchmarkClientConfig.java`
#### Snippet
```java
    private final AtlasDbConfig atlas;

    public TimelockBenchmarkClientConfig(@JsonProperty(value = "atlas", required = false) AtlasDbConfig atlasDbConfig) {
        this.atlas = atlasDbConfig;
    }
```

## RuleId[id=OptionalAssignedToNull]
### OptionalAssignedToNull
Optional value is compared with null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionConflictDetectionManager.java`
#### Snippet
```java

            Preconditions.checkState(
                    nullableCurrentValue == null || nullableCurrentValue.equals(newValue),
                    "Cannot overwrite conflict behaviour after the table has already been used");
            return newValue;
```

### OptionalAssignedToNull
Null is used for 'Optional' type in return statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        }
        fail("failed to completely sweep a table in 100 runs");
        return null; // should never be reached
    }

```

## RuleId[id=ThrowFromFinallyBlock]
### ThrowFromFinallyBlock
`throw` inside 'finally' block
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
            } catch (Throwable e) { // (authorized)
                log.error("Internal lock server error: state has been corrupted!!", e);
                throw Throwables.throwUncheckedException(e);
            }
        }
```

## RuleId[id=IfStatementWithIdenticalBranches]
### IfStatementWithIdenticalBranches
Common part can be extracted from 'if'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingPaxosLatestSequenceCache.java`
#### Snippet
```java
            throws InvalidAcceptorCacheKeyException {
        Set<Client> newClients = ImmutableSet.copyOf(Sets.difference(requestedClients, currentCachedEntries.keySet()));
        if (newClients.isEmpty()) {
            delegate.latestSequencesPreparedOrAcceptedCached(timestampedCacheKey.cacheKey())
                    .ifPresent(digest -> processDigest(currentCachedEntries, digest));
```

## RuleId[id=SimplifyOptionalCallChains]
### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java
        Optional<ReferenceTrackingWrapper<MultiClientCommitTimestampGetter>> commitTimestampGetter =
                maybeRequestBatchers.map(MultiClientRequestBatchers::commitTimestampGetter);
        if (!commitTimestampGetter.isPresent()) {
            return BatchingCommitTimestampGetter.create(lockLeaseService, cache);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java
        Optional<ReferenceTrackingWrapper<MultiClientTransactionStarter>> transactionStarter =
                maybeRequestBatchers.map(MultiClientRequestBatchers::transactionStarter);
        if (!transactionStarter.isPresent()) {
            return BatchingIdentifiedAtlasDbTransactionStarter.create(lockLeaseService, cache);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
                    Optional.of(ImmutableActionProfile.of(actionName, stopwatch.elapsed(), failure)),
                    (existing, update) -> {
                        if (!existing.isPresent()) {
                            return update;
                        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java
            }
        } else {
            return !other.value().isPresent();
        }
    }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java

        Set<UUID> requestIdsEvictedMidLockRequest = KeyedStream.stream(snapshot)
                .filter(lockInfo -> !lockInfo.isPresent())
                .keys()
                .collect(Collectors.toSet());
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java
    @Deprecated
    public LockLog withLockRequestDiagnosticCollection(LockDiagnosticConfig lockDiagnosticConfig) {
        Preconditions.checkState(!lockDiagnosticInfoCollector.isPresent(), "diagnostics are already being collected");
        return new LockLog(events, new LockDiagnosticCollector(lockDiagnosticConfig));
    }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java

    private Optional<LockWatchStateUpdate> tryGetNextEvents(Optional<LockWatchVersion> fromVersion) {
        if (!fromVersion.isPresent() || !fromVersion.get().id().equals(logId)) {
            return Optional.empty();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalBatchPaxosAcceptor.java`
#### Snippet
```java
            throws InvalidAcceptorCacheKeyException {
        primeCache(clients);
        if (!maybeCacheKey.isPresent()) {
            return acceptorCache.getAllUpdates();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AutobatchingPingableLeaderFactory.java`
#### Snippet
```java
                Optional<ClientAwareLeaderPinger> maybePingableLeader =
                        uuidToRemoteAutobatcher.apply(uuid).get();
                if (!maybePingableLeader.isPresent()) {
                    return LeaderPingResults.pingReturnedFalse();
                }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptorResource.java`
#### Snippet
```java
    public Optional<AcceptorCacheDigest> latestSequencesPreparedOrAcceptedCached(
            @QueryParam(HttpHeaders.IF_MATCH) Optional<AcceptorCacheKey> cacheKey) {
        if (!cacheKey.isPresent()) {
            throw Errors.invalidCacheKeyException(null);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PaxosTimestampBoundStore.java`
#### Snippet
```java
        // In the common case seq - 1 will be agreed upon before seq is prepared.
        Optional<SequenceAndBound> lastState = getLearnedState(seq - 1);
        if (!lastState.isPresent()) {
            // We know that even in the case of a truncate, seq - 2 will always be agreed upon.
            SequenceAndBound forced = forceAgreedState(seq - 2, null);
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java
    public static synchronized void combineAndSetNewAllSafeForLoggingFlag(
            boolean isNewKeyValueServiceAllSafeForLogging) {
        if (!allSafeForLogging.isPresent()) {
            // if allSafeForLogging is never set, set it to the new keyValueService's allSafeForLogging setting
            allSafeForLogging = Optional.of(isNewKeyValueServiceAllSafeForLogging);
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimeLockClientConfig.java`
#### Snippet
```java
    protected final void check() {
        Preconditions.checkArgument(
                !client().isPresent() || !client().get().isEmpty(), "Timelock client string cannot be empty");
    }
}
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java

    private boolean areTimeAndLockConfigsAbsent() {
        return !lock().isPresent() && !timestamp().isPresent();
    }

```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java

    private boolean areTimeAndLockConfigsAbsent() {
        return !lock().isPresent() && !timestamp().isPresent();
    }

```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
                    "If the leader block is present, then the lock and timestamp server blocks must both be absent.");
            Preconditions.checkState(
                    !timelock().isPresent(), "If the leader block is present, then the timelock block must be absent.");
            Preconditions.checkState(
                    !leader().get().leaders().isEmpty(), "Leader config must have at least one server.");
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
        // There is no top level namespace
        if (keyValueService() instanceof InMemoryAtlasDbConfig) {
            if (timelock().isPresent() && !timelock().get().client().isPresent()) {
                throw new SafeIllegalStateException("For InMemoryKVS, the TimeLock client should not be empty");
            }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java

    private void reportMultipleTimestampFetch(String path) {
        if (!leaderConfig.isPresent()) {
            log.warn(
                    "[timestamp-service-creation] Timestamp service fetched for a second time, and there is no leader"
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {

        if (!timelockRequestBatcherProviders.isPresent()) {
            return new LegacyLeaderTimeGetter(namespacedConjureTimelockService);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java

    private void registerTimeLockCorruptionJerseyFilter() {
        if (!undertowRegistrar.isPresent()) {
            registrar.accept(new JerseyCorruptionFilter(corruptionComponents.timeLockCorruptionHealthCheck()));
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
        Optional<TsBoundPersisterConfiguration> configInDatabase = store.getPersistedConfig();

        if (!configInDatabase.isPresent()) {
            log.info(
                    "There is no config in the SQLite database indicating where timestamps are being stored. We are"
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/cas/CheckAndSetQueries.java`
#### Snippet
```java
    private static CqlQuery insertIfNotExists(CheckAndSetRequest request) {
        Preconditions.checkState(
                !request.oldValue().isPresent(),
                "insertIfNotExists queries should only be made if we don't have an old value");
        return ImmutableCqlQuery.builder()
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
            return 0.0;
        }
        if (!newPriority.lastSweepTimeMillis().isPresent()) {
            // Highest priority if we've never swept it before.
            return Double.MAX_VALUE;
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java

        Optional<String> tableToCompact = maybeChooseUncompactedTable(tableToLastTimeSwept, tableToLastTimeCompacted);
        if (!tableToCompact.isPresent()) {
            tableToCompact = maybeChooseTableSweptAfterCompact(tableToLastTimeSwept, tableToLastTimeCompacted);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java
            tableToCompact = maybeChooseTableSweptAfterCompact(tableToLastTimeSwept, tableToLastTimeCompacted);
        }
        if (!tableToCompact.isPresent()) {
            tableToCompact = maybeChooseTableCompactedOver1HourAgo(tableToLastTimeCompacted);
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java
            tableToCompact = maybeChooseTableCompactedOver1HourAgo(tableToLastTimeCompacted);
        }
        if (!tableToCompact.isPresent()) {
            log.info("Not compacting, because it does not appear that any table has been swept"
                    + " or they were compacted too recently (the past hour).");
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/restore/V1TransactionsTableRangeDeleter.java`
#### Snippet
```java
        try (ClosableIterator<RowResult<Value>> range = kvs.getRange(
                TransactionConstants.TRANSACTION_TABLE,
                !startTimestamp.isPresent()
                        ? RangeRequest.all()
                        : RangeRequest.builder().startRowInclusive(startBytes).build(),
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
                        .build(),
                lowerBoundToUse.timestamp());
        if (!boundsOrMillis.bounds().isPresent()) {
            return boundsOrMillis.millis();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
            return rangeScanResult;
        }
        if (!boundsOrMillis.millis().isPresent()) {
            log.info(
                    "Did not find a match for timestamp {} with initial bounds {} and {}. Bounds for range scan were "
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/BackgroundCompactor.java`
#### Snippet
```java
            return CompactionOutcome.NOTHING_TO_COMPACT;
        }
        if (!tableToCompactOptional.isPresent()) {
            log.debug("No table to compact.");
            return CompactionOutcome.NOTHING_TO_COMPACT;
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheStoreImpl.java`
#### Snippet
```java

        default Caches withReadOnlyCache(CommitUpdate commitUpdate) {
            Preconditions.checkState(!readOnlyCache().isPresent(), "Read-only cache is already present");
            return ImmutableCaches.builder()
                    .from(this)
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java
    default void rangeOnlyPresentIffEventsAre() {
        if (events().isEmpty()) {
            Preconditions.checkState(!versionRange().isPresent(), "Cannot have a version range with no events");
        } else {
            Preconditions.checkState(versionRange().isPresent(), "Non-empty events must have a version range");
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java
    private InternalSchemaMetadata installNewVersionInMapOrDefault(
            int newVersion, ValueAndBound<InternalSchemaMetadata> valueAndBound) {
        if (!valueAndBound.value().isPresent()) {
            log.warn(
                    "Attempting to install a new transactions schema version {}, but no past data was found,"
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java
        Optional<Integer> possibleVersion =
                extractTimestampVersion(coordinationService.getValueForTimestamp(timestamp), timestamp);
        while (!possibleVersion.isPresent()) {
            List<ValueAndBound<InternalSchemaMetadata>> existingValues = boundPerpetuator.get();
            possibleVersion = extractTimestampVersion(
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
            totalStaleValuesDeleted += results.getStaleValuesDeleted();
            totalCellsExamined += results.getCellTsPairsExamined();
            if (!results.getNextStartRow().isPresent()) {
                return Optional.of(SweepResults.builder()
                        .staleValuesDeleted(totalStaleValuesDeleted)
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    public LeaderPingResult pingLeaderWithUuid(UUID uuid) {
        Optional<LeaderPingerContext<PingableLeader>> suspectedLeader = getSuspectedLeader(uuid);
        if (!suspectedLeader.isPresent()) {
            return LeaderPingResults.pingReturnedFalse();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLearnerImpl.java`
#### Snippet
```java
    public Collection<PaxosValue> getLearnedValuesSince(long seq) {
        Optional<Long> greatestSeq = getGreatestLearnedValue().map(PaxosValue::getRound);
        if (!greatestSeq.isPresent()) {
            return ImmutableList.of();
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
            ImmutableCollection<PaxosValue> values = update.getValues();
            for (PaxosValue value : values) {
                if (!knowledge.getLearnedValue(value.getRound()).isPresent()) {
                    knowledge.learn(value.getRound(), value);
                    learned = true;
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
    @SuppressWarnings("OptionalUsedAsFieldOrParameterType") // Passed from other operations returning Optional
    private boolean reuseExtantValue(Optional<CoordinationStoreState<T>> oldState, T targetValue) {
        if (!oldState.isPresent()) {
            return false;
        }
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
            Optional<SequenceAndBound> oldValue, SequenceAndBound newValue) {
        Optional<SequenceAndBound> actualValue = getCoordinationValue();
        if (!actualValue.isPresent()) {
            throw new SafeIllegalStateException(
                    "Failed to check and set coordination value from oldValue to newValue, but "
```

### SimplifyOptionalCallChains
Can be replaced with 'isEmpty()'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java
            List<ConsolidatedLearnerAndAcceptorRecord> records, int quorum, Long seq) {
        Optional<PaxosValue> optionalLearnedValue = getLearnedValue(records, seq);
        if (!optionalLearnedValue.isPresent()) {
            return true;
        }
```

## RuleId[id=InfiniteLoopStatement]
### InfiniteLoopStatement
`while` statement cannot complete without throwing an exception
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
            sleepFor(getBackoffTimeWhenSweepHasNotRun());
            log.info("Starting background sweeper with thread index {}", SafeArg.of("threadIndex", threadIndex));
            while (true) {
                // InterruptedException might be wrapped in RuntimeException (i.e. AtlasDbDependencyException),
                // which would be caught downstream.
```

## RuleId[id=JUnitMalformedDeclaration]
### JUnitMalformedDeclaration
Test class `AbstractTargetedSweepTest` is not constructable because it should have exactly one 'public' no-arg constructor
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractTargetedSweepTest.java`
#### Snippet
```java
import org.junit.Test;

public class AbstractTargetedSweepTest extends AbstractSweepTest {
    protected static final TableReference TABLE_TO_BE_DROPPED = TableReference.createFromFullyQualifiedName("ts.drop");
    protected static final Cell TEST_CELL = Cell.create(PtBytes.toBytes("r"), PtBytes.toBytes("c"));
```

### JUnitMalformedDeclaration
Test class `AbstractMultiCasTest` is not constructable because it should have exactly one 'public' no-arg constructor
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractMultiCasTest.java`
#### Snippet
```java
import org.junit.Test;

public class AbstractMultiCasTest {
    private static final byte[] ROW_1 = PtBytes.toBytes("row1");
    private static final byte[] COL_1 = PtBytes.toBytes("col1");
```

## RuleId[id=MismatchedCollectionQueryUpdate]
### MismatchedCollectionQueryUpdate
Contents of collection `dbUris` are queried, but never updated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java
            description = "Docker uri (e.g. POSTGRES@[phost:pport] or CASSANDRA@[chost:cport]).This is an alterative to"
                    + " specifying the --backend options that starts the docker containers locally.")
    private List<String> dbUris;

    @Option(
```

### MismatchedCollectionQueryUpdate
Contents of collection `tests` are queried, but never updated
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/cli/AtlasDbPerfCli.java`
#### Snippet
```java

    @Arguments(description = "The performance benchmarks to run. Leave blank to run all performance benchmarks.")
    private Set<String> tests;

    @Option(
```

### MismatchedCollectionQueryUpdate
Contents of collection `plurals` are queried, but never updated
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
     * c/p from TextUtils
     */
    private static Map<String, String> plurals = new HashMap<String, String>();

    static {
```

### MismatchedCollectionQueryUpdate
Contents of collection `metricsByHost` are queried, but never updated
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraClientPoolMetrics.java`
#### Snippet
```java
    private final MetricsManager metricsManager;
    private final RequestMetrics aggregateRequestMetrics;
    private final Map<CassandraServer, RequestMetrics> metricsByHost = new HashMap<>();
    private final Map<CassandraClientPoolHostLevelMetric, DistributionOutlierController> outlierControllers;

```

## RuleId[id=PointlessBitwiseExpression]
### PointlessBitwiseExpression
`ret ^ -1L` can be replaced with '\~ret'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        }
        if (isNegative) {
            return ret ^ -1L;
        }
        return ret;
```

### PointlessBitwiseExpression
`-1L ^ buf.getLong()` can be replaced with '\~buf.getLong()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
    public static UUID decodeFlippedUUID(byte[] bytes, int offset) {
        ByteBuffer buf = ByteBuffer.wrap(bytes, offset, 2 * Longs.BYTES).order(ByteOrder.BIG_ENDIAN);
        long mostSigBits = -1L ^ buf.getLong();
        long leastSigBits = -1L ^ buf.getLong();
        return new UUID(mostSigBits, leastSigBits);
```

### PointlessBitwiseExpression
`-1L ^ buf.getLong()` can be replaced with '\~buf.getLong()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        ByteBuffer buf = ByteBuffer.wrap(bytes, offset, 2 * Longs.BYTES).order(ByteOrder.BIG_ENDIAN);
        long mostSigBits = -1L ^ buf.getLong();
        long leastSigBits = -1L ^ buf.getLong();
        return new UUID(mostSigBits, leastSigBits);
    }
```

## RuleId[id=DuplicateThrows]
### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
     */
    public static void startLocalJMXServer(final int port, final AllowConnections allowConnections)
            throws IOException, MalformedURLException, RemoteException {
        final RMISocketFactory serverSocketFactory = allowConnections == AllowConnections.ALL
                ? RMISocketFactory.getDefaultSocketFactory()
```

### DuplicateThrows
There is a more general exception, 'java.io.IOException', in the throws list already.
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
     */
    public static void startLocalJMXServer(final int port, final AllowConnections allowConnections)
            throws IOException, MalformedURLException, RemoteException {
        final RMISocketFactory serverSocketFactory = allowConnections == AllowConnections.ALL
                ? RMISocketFactory.getDefaultSocketFactory()
```

## RuleId[id=RedundantStringFormatCall]
### RedundantStringFormatCall
Redundant call to `format()`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SingleBackendCommand.java`
#### Snippet
```java
        } catch (Exception e) {
            log.error("Exception encountered when running CLI", e);
            System.err.println(String.format("Exception encountered when running CLI: %s", e));
            throw Throwables.rewrapAndThrowUncheckedException(e);
        }
```

### RedundantStringFormatCall
Redundant call to `format()`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/StdoutTracingTransaction.java`
#### Snippet
```java
    @FormatMethod
    protected void trace(@FormatString String format, Object... args) {
        System.out.println(String.format(format, args)); // (authorized)
    }
}
```

## RuleId[id=UnusedAssignment]
### UnusedAssignment
Variable `result` initializer `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java

        boolean interrupted = false;
        T result = null;
        final String oldName = Thread.currentThread().getName();
        final String currentTimestamp = DateTimeFormat.forPattern("HH:mm:ss").print(System.currentTimeMillis());
```

### UnusedAssignment
Variable `inserted` initializer `null` is redundant
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
                executeStatementExecutor,
                () -> {
                    int[] inserted = null;
                    PreparedStatement ps = null;

```

### UnusedAssignment
Variable `bytesRead` initializer `0` is redundant
in `commons-api/src/main/java/com/palantir/util/streams/PTStreams.java`
#### Snippet
```java
    public static long copy(InputStream input, OutputStream output, byte[] buffer) throws IOException {
        long count = 0;
        int bytesRead = 0;
        while (-1 != (bytesRead = input.read(buffer))) {
            output.write(buffer, 0, bytesRead);
```

### UnusedAssignment
The value `jp.nextToken()` assigned to `jsonToken` is never used
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/RangeTokenDeserializer.java`
#### Snippet
```java
        for (; jsonToken == JsonToken.FIELD_NAME; jsonToken = jp.nextToken()) {
            String fieldName = jp.getCurrentName();
            jsonToken = jp.nextToken();
            if (fieldName.equals("data")) {
                results = jp.readValueAs(TableRowResult.class);
```

### UnusedAssignment
Variable `result` initializer `0` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        String numberText = text.substring(pos);

        long result = 0;
        if (numberText.length() < 16) {
            // Can safely assume no overflow.
```

### UnusedAssignment
Variable `extension` initializer `null` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        FieldDescriptor field;
        Descriptor type = builder.getDescriptorForType();
        ExtensionRegistry.ExtensionInfo extension = null;
        boolean unknown = false;

```

### UnusedAssignment
Variable `value` initializer `null` is redundant
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            throws ParseException {

        Object value = null;
        if (field.getJavaType() == FieldDescriptor.JavaType.MESSAGE) {
            value = handleObject(tokenizer, extensionRegistry, builder, field, extension, unknown);
```

### UnusedAssignment
Variable `thisHostResponded` initializer `false` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
        Map<CassandraServer, Exception> completelyUnresponsiveNodes = new HashMap<>();
        Map<CassandraServer, Exception> aliveButInvalidPartitionerNodes = new HashMap<>();
        boolean thisHostResponded = false;
        boolean atLeastOneHostResponded = false;
        for (CassandraServer cassandraServer : getCachedServers()) {
```

## RuleId[id=ConstantValue]
### ConstantValue
Value `ret` is always 'true'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
                        // we can't throw.
                        squelch(e);
                        return ret;
                    }
                    throw e;
```

### ConstantValue
Condition `currentHolder == null` is always `false`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    SafeArg.of("durationMillis", durationMillis),
                    UnsafeArg.of("lockId", lockId),
                    SafeArg.of("outcome", currentHolder == null ? "successfully" : "unsuccessfully"),
                    threadInfoSnapshotManager.getRestrictedSnapshotAsOptionalLogArg(Set.of(lockDescriptor)));
        } else if (log.isDebugEnabled() && durationMillis > DEBUG_SLOW_LOG_TRIGGER_MILLIS) {
```

### ConstantValue
Condition `currentHolder == null` is always `false`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    SafeArg.of("durationMillis", durationMillis),
                    UnsafeArg.of("lockId", lockId),
                    SafeArg.of("outcome", currentHolder == null ? "successfully" : "unsuccessfully"),
                    threadInfoSnapshotManager.getRestrictedSnapshotAsOptionalLogArg(Set.of(lockDescriptor)));
        }
```

### ConstantValue
Condition `versionsForClient != null` is always `true`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        synchronized (versionIdMap) {
            Collection<Long> versionsForClient = versionIdMap.get(client);
            if (versionsForClient != null && !versionsForClient.isEmpty()) {
                versionId = versionsForClient.iterator().next();
            }
```

### ConstantValue
Condition `obj != null` is always `true`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    static long getLongFromNumber(Object obj) {
        assert (obj != null);
        return (obj != null) ? ((BigDecimal) obj).longValue() : 0L;
    }

```

### ConstantValue
Condition `sweepAllTables` is always `true`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
                tableToStartRow.put(tableInNamespace, new byte[0]);
            }
        } else if (sweepAllTables) {
            tableToStartRow.putAll(Maps.asMap(
                    Sets.difference(services.getKeyValueService().getAllTableNames(), AtlasDbConstants.HIDDEN_TABLES),
```

### ConstantValue
Condition `rawKvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/RelationalDbTimeLockFactory.java`
#### Snippet
```java
            KeyValueService rawKvs, DbTimestampCreationSetting dbTimestampCreationSetting, boolean initializeAsync) {
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
                rawKvs.getClass());
```

### ConstantValue
Condition `kvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbTimestampStoreInvalidator.java`
#### Snippet
```java
            KeyValueService kvs, TableReference timestampTable, String tablePrefixString) {
        Preconditions.checkArgument(
                kvs instanceof ConnectionManagerAwareDbKvs,
                "DbTimestampStoreInvalidator should be instantiated with a ConnectionManagerAwareDbKvs!");
        return new DbTimestampStoreInvalidator((ConnectionManagerAwareDbKvs) kvs, timestampTable, tablePrefixString);
```

### ConstantValue
Value `dbkvs` is always 'null'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java
            KeyValueService rawKvs, Optional<TableReference> tableReference) {
        ConnectionManagerAwareDbKvs dbkvs = (ConnectionManagerAwareDbKvs) rawKvs;
        return timestampStoreInvalidator(dbkvs, tableReference);
    }

```

### ConstantValue
Condition `rawKvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java
                "Cannot specify the DB TimeLock timestamp table as a timestamp table override!");
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "[Unexpected type] | DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs.",
                SafeArg.of("kvsClass", rawKvs.getClass()));
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ConnectionManagerAwareDbKvs.java`
#### Snippet
```java
    @Deprecated
    public static ConnectionManagerAwareDbKvs create(DbKeyValueServiceConfig config) {
        return create(config, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `includeValue` is always 'true'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
                + "   /*+ USE_NL(i wrap) LEADING(i wrap) NO_MERGE(i) NO_PUSH_PRED(i)"
                + "       INDEX(wrap " + PrimaryKeyConstraintNames.get(tableName) + ") */ "
                + "   wrap.row_name, wrap.col_name, wrap.ts" + getValueSubselect("wrap", includeValue)
                + " FROM " + tableName + " wrap, ( " + query + " ) i "
                + " WHERE wrap.row_name = i.row_name "
```

### ConstantValue
Condition `rawKvs instanceof ConnectionManagerAwareDbKvs` is always `false`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/MultiSequenceTimestampSeriesProvider.java`
#### Snippet
```java

        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
                rawKvs.getClass());
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
                connManager,
                new LegacyPhysicalBoundStoreStrategy(timestampTable, tablePrefixString),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
                connManager,
                new MultiSequencePhysicalBoundStoreStrategy(timestampTable, series),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

    public static DbKeyValueService create(DbKeyValueServiceConfig config, SqlConnectionSupplier sqlConnSupplier) {
        return create(config, sqlConnSupplier, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `isNewKeyValueServiceAllSafeForLogging` is always 'false'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java
            // set the global allSafeForLogging flag to false
            if (!isNewKeyValueServiceAllSafeForLogging) {
                allSafeForLogging = Optional.of(isNewKeyValueServiceAllSafeForLogging);
            }
        }
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Value.Default
    public boolean initializeAsync() {
        return AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC;
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/startup/TimeLockMigrator.java`
#### Snippet
```java
    public static TimeLockMigrator create(
            TimestampManagementService timestampManagementService, TimestampStoreInvalidator invalidator) {
        return create(timestampManagementService, invalidator, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `timelock-agent/src/main/java/com/palantir/timelock/config/DatabaseTsBoundPersisterConfiguration.java`
#### Snippet
```java
    @Value.Default
    public boolean initializeAsync() {
        return AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC;
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `timestamp-impl/src/main/java/com/palantir/timestamp/PersistentTimestampServiceImpl.java`
#### Snippet
```java

    public static PersistentTimestampService create(ErrorCheckingTimestampBoundStore store) {
        return create(store, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `timestamp-impl/src/main/java/com/palantir/timestamp/PersistentTimestampServiceImpl.java`
#### Snippet
```java

    public static PersistentTimestampService create(TimestampBoundStore store) {
        return create(new ErrorCheckingTimestampBoundStore(store), AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `cheapTest` is always 'false'
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static void assertAndLogWithException(Logger log, boolean cheapTest, String msg, Throwable t) {
        if (!cheapTest) {
            assertAndLogWithException(log, cheapTest, msg, t, new Object[] {});
        }
    }
```

### ConstantValue
Value `ret` is always 'true'
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
        assert (ret = true) == true;

        return ret;
    }

```

### ConstantValue
Value `cause` is always 'null'
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java

        if (cause == null) {
            log.warn("Exceptions passed to throwCauseAsUnchecked should have a cause", cause);
            throw new SafeIllegalStateException("Exceptions passed to throwCauseAsUnchecked should have a cause");
        }
```

### ConstantValue
Condition `detail.includeLockedMonitorsAndSynchronizers` is always `true` when reached
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            }
            int[] stackDepths = new int[lockedMonitors.length];
            if (lockedMonitors.length != 0 && detail.includeLockedMonitorsAndSynchronizers) {
                try {
                    for (int j = 0; j < stackDepths.length; j++) {
```

### ConstantValue
Condition `i < MAX_FRAMES` is always `true` when reached
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        int curLock = 0;
        StackTraceElement[] stackTrace = info.getStackTrace();
        for (int i = 0; i < stackTrace.length && i < MAX_FRAMES; i++) {
            StackTraceElement ste = stackTrace[i];
            sb.append(INDENT + "at ").append(ste.toString());
```

### ConstantValue
Condition `lockWithClients == null` is always `false`
in `lock-api-objects/src/main/java/com/palantir/lock/LockResponse.java`
#### Snippet
```java
                @JsonProperty("locks") List<LockWithClient> lockWithClients,
                @JsonProperty("blockAndRelease") boolean isBlockAndRelease) {
            if (lockWithClients == null) {
                lockHolders = ImmutableSortedMap.of();
            } else {
```

### ConstantValue
Condition `serverName == null` is always `false`
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java

    public static void setLocalServerName(String serverName) {
        if (serverName == null || serverName.trim().isEmpty()) {
            localServerName = "";
            return;
```

### ConstantValue
Value `value` is always 'null'
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        if ("null".equals(tokenizer.currentToken())) {
            tokenizer.consume("null");
            return value;
        }
        switch (field.getType()) {
```

### ConstantValue
Condition `c >= 0x0000` is always `true`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
                default:
                    // Check for other control characters
                    if (c >= 0x0000 && c <= 0x001F) {
                        appendEscapedUnicode(builder, c);
                    } else if (Character.isHighSurrogate(c)) {
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
                cassandraTopologyValidator,
                cassandraAbsentHostTracker);
        cassandraClientPool.wrapper.initialize(AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
        return cassandraClientPool;
    }
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java
                cassandraTopologyValidator,
                absentHostTracker);
        cassandraClientPool.wrapper.initialize(AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
        return cassandraClientPool;
    }
```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    public static TimestampBoundStore create(CassandraKeyValueService kvs) {
        return create(kvs, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                mutationTimestampProvider,
                LoggerFactory.getLogger(CassandraKeyValueService.class),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                CassandraMutationTimestampProviders.legacyModeForTestsOnly(),
                LoggerFactory.getLogger(CassandraKeyValueService.class),
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                mutationTimestampProvider,
                log,
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                runtimeConfig,
                mutationTimestampProvider,
                AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java

    public static ScrubberStore create(KeyValueService keyValueService) {
        return create(keyValueService, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Value `AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC` is always 'false'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java

    public static PuncherStore create(KeyValueService keyValueService) {
        return create(keyValueService, AtlasDbConstants.DEFAULT_INITIALIZE_ASYNC);
    }

```

### ConstantValue
Condition `promisedId == null` is always `false` when reached
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
        result = prime * result + ((lastAcceptedId == null) ? 0 : lastAcceptedId.hashCode());
        result = prime * result + ((lastAcceptedValue == null) ? 0 : lastAcceptedValue.hashCode());
        result = prime * result + ((promisedId == null) ? 0 : promisedId.hashCode());
        return result;
    }
```

### ConstantValue
Condition `promisedId == null` is always `false`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
            return false;
        }
        if (promisedId == null) {
            if (other.promisedId != null) {
                return false;
```

### ConstantValue
Condition `proposerUuid == null` is always `false` when reached
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposalId.java`
#### Snippet
```java
        int result = 1;
        result = prime * result + (int) (number ^ (number >>> 32));
        result = prime * result + ((proposerUuid == null) ? 0 : proposerUuid.hashCode());
        return result;
    }
```

### ConstantValue
Condition `proposerUuid == null` is always `false`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposalId.java`
#### Snippet
```java
            return false;
        }
        if (proposerUuid == null) {
            if (other.proposerUuid != null) {
                return false;
```

### ConstantValue
Condition `val == null` is always `false` when reached
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposal.java`
#### Snippet
```java
        int result = 1;
        result = prime * result + ((id == null) ? 0 : id.hashCode());
        result = prime * result + ((val == null) ? 0 : val.hashCode());
        return result;
    }
```

### ConstantValue
Condition `val == null` is always `false`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposal.java`
#### Snippet
```java
            return false;
        }
        if (val == null) {
            if (other.val != null) {
                return false;
```

## RuleId[id=OptionalGetWithoutIsPresent]
### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        // May only be called if the result is not SUCCESSFUL.
        public Throwable getError() {
            return error.get();
        }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
            sweepResults =
                    sweepTaskRunner.run(table.getTableRef(), batchConfig, nextStartRow, SweepTaskRunner.RunType.FULL);
            nextStartRow = sweepResults.getNextStartRow().get();
            assertThat(sweepResults.getStaleValuesDeleted()).isEqualTo((long) DELETED_COUNT);
        }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/InvalidationRunner.java`
#### Snippet
```java
        long lastAllocated = tableStatus == TableStatus.NO_DATA
                ? AtlasDbFactory.NO_OP_FAST_FORWARD_TIMESTAMP
                : limits.upperLimit().get().value();
        poisonTable(connection);
        return lastAllocated;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/InvalidationRunner.java`
#### Snippet
```java

            if (tableStatus == TableStatus.POISONED) {
                return limits.legacyUpperLimit().get().value();
            }
            return poisonStoreAndGetLastAllocatedTimestamp(connection, limits, tableStatus);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultTimestampCache.java`
#### Snippet
```java
        this.size = size;
        startToCommitTimestampCache = createCache(size.getAsLong());
        evictionPolicy = startToCommitTimestampCache.policy().eviction().get();
        AtlasDbMetrics.registerCache(
                metricRegistry,
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
        while ((numRetries < MAX_NUM_RETRIES) && !attempt.isSuccessful()) {
            numRetries++;
            Throwable cause = attempt.throwable().get();
            ResultOrThrowable retriableExceptionCheck = isRetriable(cause);
            if (!retriableExceptionCheck.isSuccessful()) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
            ResultOrThrowable retriableExceptionCheck = isRetriable(cause);
            if (!retriableExceptionCheck.isSuccessful()) {
                throw retriableExceptionCheck.throwable().get();
            }
            attempt = singleInvocation(method, args);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
            return attempt.result().orElse(null);
        }
        throw Throwables.unwrapIfPossible(attempt.throwable().get());
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java
        ResultOrThrowable attempt = singleInvocation(method, args);
        while (clock.instant().isBefore(lastRetryInstant) && !attempt.isSuccessful()) {
            Throwable cause = attempt.throwable().get();
            ResultOrThrowable fastFailoverCheck = isRetriable(cause);
            if (!fastFailoverCheck.isSuccessful()) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java
            ResultOrThrowable fastFailoverCheck = isRetriable(cause);
            if (!fastFailoverCheck.isSuccessful()) {
                throw fastFailoverCheck.throwable().get();
            }
            attempt = singleInvocation(method, args);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/FastFailoverProxy.java`
#### Snippet
```java
            return attempt.result().orElse(null);
        }
        throw Throwables.unwrapIfPossible(attempt.throwable().get());
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `lock-api-objects/src/main/java/com/palantir/lock/v2/LockResponse.java`
#### Snippet
```java
            throw new SafeIllegalStateException("This lock response was not successful");
        }
        return getTokenOrEmpty().get();
    }

```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellRangeDeleter.java`
#### Snippet
```java
                .mapToLong(TimestampRangeDelete::timestamp)
                .max()
                .getAsLong();
        long rangeTombstoneCassandraTimestamp = rangeTombstoneTimestampProvider.applyAsLong(maxTimestampForAllCells);
        for (Map.Entry<CassandraServer, Map<Cell, TimestampRangeDelete>> entry : keysByHost.entrySet()) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    @SuppressWarnings("ConstantConditions") // class runs in a single thread, so this is fine
    private void updateProgressAndRefreshLock(SweepProgress progress) throws InterruptedException {
        currentTable.get().setProgress(progress);
        currentTable.get().refreshLock();
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/WriteInfoPartitioner.java`
#### Snippet
```java
    private Map<PartitionInfo, List<WriteInfo>> filterAndPartitionForSingleTimestamp(List<WriteInfo> writes) {
        if (writes.stream().allMatch(writeInfo -> getStrategy(writeInfo) == SweeperStrategy.NON_SWEEPABLE)) {
            long startTs = writes.stream().findFirst().get().timestamp();
            return SweepQueueUtils.partitioningForNonSweepable(startTs);
        }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepBatchAccumulator.java`
#### Snippet
```java
                .filter(info -> info.writeRef().isPresent())
                .collect(Collectors.toMap(
                        info -> info.writeRef().get().cellReference(), x -> x, WriteInfo::higherTimestamp))
                .values());
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/id/IdsToNames.java`
#### Snippet
```java
            return true;
        } catch (CheckAndSetException e) {
            return get(id).get().equals(table);
        }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/id/NamesToIds.java`
#### Snippet
```java
            kvs.checkAndSet(request);
        } catch (CheckAndSetException e) {
            SweepTableIdentifier actual = currentMapping(table).get();
            Preconditions.checkState(
                    newValue.equals(actual),
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/id/NamesToIds.java`
#### Snippet
```java
            return newValue;
        } catch (CheckAndSetException e) {
            return currentMapping(table).get();
        }
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/WriteInfo.java`
#### Snippet
```java
        return new TimestampRangeDelete.Builder()
                .timestamp(timestamp())
                .endInclusive(writeRef().get().isTombstone() && sweeper.shouldSweepLastCommitted())
                .deleteSentinels(!sweeper.shouldAddSentinels())
                .build();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
    public Collection<WriteInfo> filter(Collection<WriteInfo> writeInfos) {
        Set<TableReference> tablesToCareAbout = getConservativeTables(writeInfos.stream()
                .map(info -> info.writeRef().get().tableRef())
                .collect(Collectors.toSet()));

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
        return writeInfos.stream()
                .filter(write -> !truncationTimes.containsKey(
                                write.writeRef().get().tableRef())
                        || write.timestamp()
                                > truncationTimes.get(write.writeRef().get().tableRef()))
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/clear/DefaultTableClearer.java`
#### Snippet
```java
                                write.writeRef().get().tableRef())
                        || write.timestamp()
                                > truncationTimes.get(write.writeRef().get().tableRef()))
                .collect(Collectors.toList());
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
                .filter(write -> write.writeRef().isPresent())
                .forEach(write ->
                        writesToSweepFor.putIfAbsent(write.writeRef().get().cellReference(), write));
        return writesToSweepFor.values();
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
                        .filter(info -> info.writeRef().isPresent())
                        .forEach(write -> cellsToDelete
                                .computeIfAbsent(write.writeRef().get().tableRef(), ignore -> HashMultimap.create())
                                .put(write.writeRef().get().cell(), write.timestamp()));
            } else if (commitTs < sweepTs) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
                        .forEach(write -> cellsToDelete
                                .computeIfAbsent(write.writeRef().get().tableRef(), ignore -> HashMultimap.create())
                                .put(write.writeRef().get().cell(), write.timestamp()));
            } else if (commitTs < sweepTs) {
                lastSweptTs = startTs;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueDeleter.java`
#### Snippet
```java
        return writes.stream()
                .collect(Collectors.groupingBy(
                        info -> info.writeRef().get().tableRef(),
                        Collectors.toMap(info -> info.writeRef().get().cell(), write -> write.toDelete(sweeper))));
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueDeleter.java`
#### Snippet
```java
                .collect(Collectors.groupingBy(
                        info -> info.writeRef().get().tableRef(),
                        Collectors.toMap(info -> info.writeRef().get().cell(), write -> write.toDelete(sweeper))));
    }
}
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/progress/SweepProgressStoreImpl.java`
#### Snippet
```java
                    AtlasDbConstants.SWEEP_PROGRESS_TABLE,
                    cell,
                    progressToBytes(hydrateProgress(storedProgress).get()),
                    progressToBytes(newProgress));
        }
```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
    private double getStreamStorePriorityScore(SweepPriority newPriority) {
        long millisSinceSweep =
                System.currentTimeMillis() - newPriority.lastSweepTimeMillis().getAsLong();

        if (millisSinceSweep < WAIT_BEFORE_SWEEPING_STREAM_STORE_VALUE_TABLE.toMillis()) {
```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityCalculator.java`
#### Snippet
```java
        double estimatedCellTsPairsToSweep = previousEfficacy * writeCount;
        long millisSinceSweep =
                System.currentTimeMillis() - newPriority.lastSweepTimeMillis().getAsLong();

        if (tooFewWritesToBother(writeCount, cellTsPairsExamined, millisSinceSweep)) {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
        return KeyedStream.stream(snapshotCachedValues)
                .filter(value -> value.value().isPresent())
                .map(value -> value.value().get())
                .collectToMap();
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java

        if (latestVersion.isPresent()) {
            long firstVersion = versionRange().get().lowerEndpoint();
            Preconditions.checkArgument(
                    firstVersion <= latestVersion.get().version()
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLockWatchSnapshot.java`
#### Snippet
```java
        events.events().forEach(event -> event.accept(visitor));
        snapshotVersion = Optional.of(LockWatchVersion.of(
                versionId, events.versionRange().map(Range::upperEndpoint).get()));
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
        if (startVersion.isEmpty()
                || differentLeaderOrTooFarBehind(
                        currentVersion, versionBounds.startVersion().get(), startVersion.get())) {
            long snapshotVersion = versionBounds.snapshotVersion() + 1;
            Collection<LockWatchEvent> afterSnapshotEvents;
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
    CacheUpdate processUpdate(LockWatchStateUpdate update) {
        if (latestVersion.isEmpty()
                || !update.logId().equals(latestVersion.get().id())) {
            return update.accept(new NewLeaderVisitor());
        } else {
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
        }

        if (success.lastKnownVersion() > latestVersion.get().version()) {
            LockWatchEvents events =
                    LockWatchEvents.builder().events(success.events()).build();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
    private LockWatchVersion getLatestVersionAndVerify(LockWatchVersion endVersion) {
        Preconditions.checkState(latestVersion.isPresent(), "Cannot get events when log does not know its version");
        LockWatchVersion currentVersion = latestVersion.get();
        Preconditions.checkArgument(
                endVersion.version() <= currentVersion.version(),
```

### OptionalGetWithoutIsPresent
`OptionalLong.getAsLong()` without 'isPresent()' check
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
                    .mapToLong(response -> response.immutableTimestamp().getImmutableTimestamp())
                    .max()
                    .getAsLong();
            recordImmutableTimestamp(immutableTs);
            cleaner.punch(responses.get(0).startTimestampAndPartition().timestamp());
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/OracleConnectionConfig.java`
#### Snippet
```java
        if (getProtocol() == ConnectionProtocol.TCPS) {
            // Create the truststore
            File clientTruststore = new File(getTruststorePath().get());
            props.setProperty("javax.net.ssl.trustStore", clientTruststore.getAbsolutePath());
            props.setProperty(
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/config/OracleConnectionConfig.java`
#### Snippet
```java
            props.setProperty("javax.net.ssl.trustStore", clientTruststore.getAbsolutePath());
            props.setProperty(
                    "javax.net.ssl.trustStorePassword", getTruststorePassword().get());

            // Enable server domain matching
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java

        Optional<SweepResults> results = completeSweep(TABLE_NAME, 100_000, 1);
        assertThat(results.get().getStaleValuesDeleted()).isEqualTo(1_000 - 1);
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo3", "baz", 100);
        putIntoDefaultColumn("foo4", "buzz", 125);
        byte[] nextStartRow = partialSweep(150).getNextStartRow().get();

        kvs.dropTable(TABLE_NAME);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "bar", 50);
        putUncommitted("foo", "baz", 100);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "foo", 125);
        putUncommitted("foo", "", 150);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(5);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "buzz", 125);
        putUncommitted("foo", "foo", 150);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(5);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "buzz", 125);
        putUncommitted("foo", "foo", 150);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(5);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        }

        SweepResults results = completeSweep(350).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(28);
    }
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "bar", 50);
        putUncommitted("foo", "baz", 100);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("zzz", "bar", 51);

        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(4);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(6);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        assertThat(getAllTsFromDefaultColumn("foo")).containsExactlyInAnyOrder(125L);

        results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
                            uuid, Futures.getDone(pingFuture).getKey().hostAndPort())
                    : LeaderPingResults.pingReturnedTrueWithOlderVersion(
                            pingResult.timeLockVersion().get());
        } catch (ExecutionException e) {
            return LeaderPingResults.pingCallFailedWithExecutionException(e.getCause());
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
            if (status() == StillLeadingStatus.LEADING) {
                return Optional.of(
                        new PaxosLeadershipToken(greatestLearnedValue().get()));
            }
            return Optional.empty();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
                case LEADING:
                    log.info("Successfully became leader!");
                    return currentState.confirmedToken().get();
                case NO_QUORUM:
                    // If we don't have quorum we should just retry our calls.
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
        if (reuseExtantValue(oldState, targetValue)) {
            // Safe as we're only on this branch if the value is present
            CoordinationStoreState<T> extantState = oldState.get();
            sequenceNumber = extantState.sequence();
            long freshSequenceNumber = sequenceNumberSupplier.getAsLong();
```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
                .filter(entry -> Arrays.equals(row(1), entry.getKey()))
                .findFirst()
                .get()
                .getValue();
        List<ByteBuffer> columns = Streams.stream(iterator)
```

### OptionalGetWithoutIsPresent
`Optional::get` without 'isPresent()' check
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java
                        .orElseGet(Optional::empty))
                .filter(paxosValue -> getPaxosValueData(paxosValue) != null)
                .map(Optional::get)
                .max(Comparator.comparingLong(paxosValue -> PtBytes.toLong(paxosValue.getData())));
    }
```

### OptionalGetWithoutIsPresent
`Optional::get` without 'isPresent()' check
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java
                .filter(optionalPaxosValue -> optionalPaxosValue.isPresent()
                        && optionalPaxosValue.get().equals(learnedValue))
                .map(Optional::get)
                .collect(Collectors.toList());
    }
```

### OptionalGetWithoutIsPresent
`OptionalDouble.getAsDouble()` without 'isPresent()' check
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/AbstractBenchmark.java`
#### Snippet
```java

    private double getAverageTimeInMillis() {
        return Arrays.stream(sortedTimes).average().getAsDouble() / 1_000_000.0;
    }

```

### OptionalGetWithoutIsPresent
`Optional.get()` without 'isPresent()' check
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/benchmarks/TransactionWriteBenchmarkContended.java`
#### Snippet
```java

            byte[] currentValue =
                    table.getRow(BlobsSerializableRow.of(key)).get().getData();

            if (Arrays.equals(currentValue, originalValue)) {
```

## RuleId[id=NonAtomicOperationOnVolatileField]
### NonAtomicOperationOnVolatileField
Non-atomic operation on volatile field `currentVersion`
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java

    private void updateVersion(Optional<LockWatchVersion> maybeNewVersion) {
        currentVersion = maybeNewVersion.map(newVersion -> currentVersion
                .map(current -> {
                    if (current.id().equals(newVersion.id()) && current.version() > newVersion.version()) {
```

### NonAtomicOperationOnVolatileField
Non-atomic operation on volatile field `version`
in `atlasdb-commons/src/main/java/com/palantir/util/AggregatingVersionedSupplier.java`
#### Snippet
```java
    @SuppressWarnings("NonAtomicVolatileUpdate") // Accessed by 1 thread at a time, but needed for visibility.
    private VersionedType<T> recalculate() {
        version++;
        return VersionedType.of(aggregator.apply(latestValues.values()), version);
    }
```

### NonAtomicOperationOnVolatileField
Non-atomic operation on volatile field `batchSizeMultiplier`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/AdjustableSweepBatchConfigSource.java`
#### Snippet
```java

        if (successiveIncreases.incrementAndGet() > 25) {
            batchSizeMultiplier = Math.min(1.0, batchSizeMultiplier * 2);
        }
    }
```

## RuleId[id=StringConcatenationInsideStringBufferAppend]
### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            }
            StringBuilder why = new StringBuilder();
            why.append("While attempting to execute the SQL '" + sql
                    + "' we caught a SQLException.\n" //$NON-NLS-1$ //$NON-NLS-2$
                    + "The SQL was executed with the following bind args:\n"); //$NON-NLS-1$
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
        try {
            StringBuilder why = new StringBuilder();
            why.append("While attempting to execute the SQL '" + sql
                    + "' we caught a SQLException.\n" //$NON-NLS-1$ //$NON-NLS-2$
                    + "The SQL was executed with the following bind args:\n"); //$NON-NLS-1$
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
        StringBuilder s = new StringBuilder();
        for (int i = 0; i < requiredArgs; i++) {
            s.append(nonListType + " " + name + i).append(separator);
        }
        return s.append(nonListType + "... " + name + requiredArgs).toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
            s.append(nonListType + " " + name + i).append(separator);
        }
        return s.append(nonListType + "... " + name + requiredArgs).toString();
    }

```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
        s.append("builder()");
        for (int i = 0; i < requiredArgs; i++) {
            s.append(".add(").append(name + i).append(")");
        }
        return s.append(".add(").append(name + requiredArgs).append(").build()").toString();
```

### StringConcatenationInsideStringBufferAppend
String concatenation as argument to `StringBuilder.append()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TypeAndName.java`
#### Snippet
```java
            s.append(".add(").append(name + i).append(")");
        }
        return s.append(".add(").append(name + requiredArgs).append(").build()").toString();
    }
}
```

## RuleId[id=OptionalIsPresent]
### OptionalIsPresent
Can be replaced with single expression in functional style
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLearnerImpl.java`
#### Snippet
```java
    public Collection<PaxosValue> getLearnedValuesSince(long seq) {
        Optional<Long> greatestSeq = getGreatestLearnedValue().map(PaxosValue::getRound);
        if (!greatestSeq.isPresent()) {
            return ImmutableList.of();
        }
```

## RuleId[id=RedundantOperationOnEmptyContainer]
### RedundantOperationOnEmptyContainer
Collection `e.getValue()` is always empty
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            List<Map.Entry<Cell, Value>> results = e.getValue();
            if (results.isEmpty()) {
                ret.put(e.getKey(), new LocalRowColumnRangeIterator(e.getValue().iterator()));
                continue;
            }
```

## RuleId[id=UNCHECKED_WARNING]
### UNCHECKED_WARNING
Unchecked assignment: 'java.util.HashSet' to 'java.util.Set'
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java

        public void applyResponse(ConjureUnlockResponseV2 relevantResponse) {
            Set<ConjureLockTokenV2> unlockedTokens = new HashSet<>(relevantResponse.get());
            for (BatchElement<UnlockRequest, Set<ConjureLockTokenV2>> batchElement : requests) {
                Set<ConjureLockTokenV2> plausibleUnlocks = ImmutableSet.copyOf(
```

### UNCHECKED_WARNING
Unchecked cast: 'com.codahale.metrics.Gauge\>' to 'M'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/util/MetricsManager.java`
#### Snippet
```java
    @Deprecated
    public <M extends Gauge<?>> M registerOrGetGauge(Class<?> clazz, String metricName, Supplier<M> gaugeSupplier) {
        return (M) registerOrGet(clazz, metricName, (Gauge<?>) gaugeSupplier.get(), Map.of());
    }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'org.openjdk.jmh.util.Multiset'
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/PerformanceResults.java`
#### Snippet
```java
            Field field = statistics.getClass().getDeclaredField("values");
            field.setAccessible(true);
            Multiset<Double> rawResults = (Multiset<Double>) field.get(statistics);
            return downSample(rawResults);
        } catch (NoSuchFieldException | IllegalAccessException e) {
```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Class\>' to 'java.lang.Class\>'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java

            if (isLegacyPersister(importClass)) {
                Class<Persister<?>> persisterClass = (Class<Persister<?>>) importClass;
                return persisterClass.isAnnotationPresent(Reusable.class);
            } else {
```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Throwable' to 'E'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
            throw (Error) thrown;
        } else if (thrown instanceof Exception) {
            throw (E) thrown;
        } else {
            throw new RuntimeException(thrown);
```

### UNCHECKED_WARNING
Unchecked generics array creation for varargs parameter
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
                .orElse(ConflictTracer.NO_OP);

        Callback<TransactionManager> callbacks = new Callback.CallChain<>(
                timelockConsistencyCheckCallback(config(), runtime.get(), lockAndTimestampServices),
                targetedSweep.singleAttemptCallback(),
```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'T'
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/PredicateSwitchedProxy.java`
#### Snippet
```java
        PredicateSwitchedProxy<T> service =
                new PredicateSwitchedProxy<>(firstService, secondService, shouldUseFirstService);
        return (T) Proxy.newProxyInstance(clazz.getClassLoader(), new Class[] {clazz}, service);
    }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Iterable\>' to 'java.util.List'
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java
         */
        if (delegate() instanceof List) {
            return of(Lists.transform((List<T>) delegate(), function));
        } else if (delegate() instanceof Collection) {
            return of(Collections2.transform((Collection<T>) delegate(), function));
```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Iterable\>' to 'java.util.Collection'
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java
            return of(Lists.transform((List<T>) delegate(), function));
        } else if (delegate() instanceof Collection) {
            return of(Collections2.transform((Collection<T>) delegate(), function));
        }
        return of(Iterables.transform(delegate(), function));
```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Iterable\>' to 'java.util.List'
in `atlasdb-commons/src/main/java/com/palantir/common/collect/IterableView.java`
#### Snippet
```java
             * without allocating new lists for the returned partitions.
             */
            return of(Lists.partition((List<T>) delegate(), size));
        }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'U'
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        UnknownRemoteDebuggingProxy<T, U> proxy = new UnknownRemoteDebuggingProxy<>(safeLoggableRefreshable, delegate);

        return (U) Proxy.newProxyInstance(interfaceClass.getClassLoader(), new Class<?>[] {interfaceClass}, proxy);
    }
}
```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'U'
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/RetryOnSocketTimeoutExceptionProxy.java`
#### Snippet
```java
        RetryOnSocketTimeoutExceptionProxy<U> proxy = new RetryOnSocketTimeoutExceptionProxy<>(delegate);

        return (U) Proxy.newProxyInstance(interfaceClass.getClassLoader(), new Class<?>[] {interfaceClass}, proxy);
    }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'T'
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/util/TestProxies.java`
#### Snippet
```java

        List<Object> key = ImmutableList.of(serviceInterface, uris, "failover", proxyMode);
        return (T) proxies.computeIfAbsent(
                key,
                ignored -> AtlasDbHttpClients.createProxyWithFailover(
                        MetricsManagers.createForTests(),
                        ImmutableServerListConfig.builder()
                                .addAllServers(uris)
                                .sslConfiguration(SSL_CONFIGURATION)
                                .build(),
                        serviceInterface,
                        TestProxyUtils.AUXILIARY_REMOTING_PARAMETERS_RETRYING));
    }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'T'
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/util/TestProxies.java`
#### Snippet
```java
                ? TestProxyUtils.AUXILIARY_REMOTING_PARAMETERS_RETRYING
                : TestProxyUtils.AUXILIARY_REMOTING_PARAMETERS_NO_RETRYING;
        return (T) proxies.computeIfAbsent(
                key,
                ignored ->
                        AtlasDbHttpClients.createProxy(Optional.of(TRUST_CONTEXT), uri, serviceInterface, parameters));
    }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'U'
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
        AwaitingLeadershipProxy<U> proxy =
                new AwaitingLeadershipProxy<>(awaitingLeadership, delegateSupplier, interfaceClass);
        return (U) Proxy.newProxyInstance(
                interfaceClass.getClassLoader(), new Class<?>[] {interfaceClass, Closeable.class}, proxy);
    }

```

### UNCHECKED_WARNING
Unchecked cast: 'java.lang.Object' to 'com.google.common.util.concurrent.ListenableFuture'
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
                            delegate -> Tracers.wrapListenableFuture("execute-on-delegate-async", () -> {
                                try {
                                    return (ListenableFuture<Object>) method.invoke(delegate, args);
                                } catch (IllegalAccessException | InvocationTargetException e) {
                                    return Futures.immediateFailedFuture(e);
```

### UNCHECKED_WARNING
Unchecked generics array creation for varargs parameter
in `atlasdb-workload-server-distribution/src/main/java/com/palantir/atlasdb/workload/WorkloadServerLauncher.java`
#### Snippet
```java
        waitForTransactionStoreFactoryToBeInitialized(transactionStoreFactory);

        new AntithesisWorkflowValidatorRunner(MoreExecutors.listeningDecorator(antithesisWorkflowRunnerExecutorService))
                .run(
                        createSingleRowTwoCellsWorkflowValidator(
                                transactionStoreFactory, singleRowTwoCellsConfig, environment.lifecycle()),
```

## RuleId[id=JavadocReference]
### JavadocReference
Cannot resolve symbol `getLong`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRow.java`
#### Snippet
```java
     * comes from a count SQL expression like {@code count(*)} or
     * {@code count(id)}. This should be used instead of
     * {@link getLong} or {@link getInteger} because different
     * databases store counts differently. Specifically HSQL is
     * lame.
```

### JavadocReference
Cannot resolve symbol `getInteger`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRow.java`
#### Snippet
```java
     * comes from a count SQL expression like {@code count(*)} or
     * {@code count(id)}. This should be used instead of
     * {@link getLong} or {@link getInteger} because different
     * databases store counts differently. Specifically HSQL is
     * lame.
```

### JavadocReference
Cannot resolve symbol `formatLimitQuery(String)`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
     * allows for the registration of limit queries.
     *
     * @see SQL#formatLimitQuery(String)
     */
    public static void addVarbindsForLimitQuery(int maxRows, long offset, List<Object> varbinds, DBType dbType) {
```

### JavadocReference
Cannot resolve symbol `formatLimitQuery(String)`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
     * allows for the registration of limit queries.
     *
     * @see SQL#formatLimitQuery(String)
     */
    public static void addVarbindsForLimitQuery(int maxRows, List<Object> varbinds, DBType dbType) {
```

### JavadocReference
Cannot resolve symbol `addVarbindsForLimitQuery`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
     * resulting String.
     *
     * @see addVarbindsForLimitQuery
     */
    public static String formatLimitQuery(String query, BasicSQL.OffsetInclusion offset, DBType dbType) {
```

### JavadocReference
Cannot resolve symbol `PalantirSqlConnectionImpl`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/ConnectionBackedSqlConnectionImpl.java`
#### Snippet
```java

/**
 * Prefer {@link PalantirSqlConnectionImpl} to this class.
 *
 * This should only be used in places where you have no {@link SharedBackendSession}.
```

### JavadocReference
Cannot resolve symbol `SharedBackendSession`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/ConnectionBackedSqlConnectionImpl.java`
#### Snippet
```java
 * Prefer {@link PalantirSqlConnectionImpl} to this class.
 *
 * This should only be used in places where you have no {@link SharedBackendSession}.
 */
public class ConnectionBackedSqlConnectionImpl implements ConnectionBackedSqlConnection {
```

### JavadocReference
Symbol `com.palantir.atlasdb.cassandra.CassandraKeyValueServiceConfig` is inaccessible from here
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/DerivedSnapshotConfig.java`
#### Snippet
```java
 * the pool size and the number of thrift hosts.
 *
 * The pool size is configured in {@link com.palantir.atlasdb.cassandra.CassandraKeyValueServiceConfig}, whereas the
 * initial server list is now present in {@link com.palantir.atlasdb.cassandra.CassandraKeyValueServiceRuntimeConfig},
 * and thus the derivation requires information from both configs.
```

### JavadocReference
Symbol `com.palantir.atlasdb.cassandra.CassandraKeyValueServiceRuntimeConfig` is inaccessible from here
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/DerivedSnapshotConfig.java`
#### Snippet
```java
 *
 * The pool size is configured in {@link com.palantir.atlasdb.cassandra.CassandraKeyValueServiceConfig}, whereas the
 * initial server list is now present in {@link com.palantir.atlasdb.cassandra.CassandraKeyValueServiceRuntimeConfig},
 * and thus the derivation requires information from both configs.
 *
```

### JavadocReference
Cannot resolve symbol `timestampsToIgnore()`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CandidateCellForSweeping.java`
#### Snippet
```java
     * All start timestamps for the cell that are strictly less than
     * {@link CandidateCellForSweepingRequest#maxTimestampExclusive()} and are not in
     * {@link CandidateCellForSweepingRequest#timestampsToIgnore()}, in ascending order.
     *
     * If the array is empty, then the cell is not an actual candidate and is only returned
```

### JavadocReference
Cannot resolve symbol `TableMetadata`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyValueService.java`
#### Snippet
```java
     *
     * @return a byte array representing the metadata for the table. Array is empty if no table
     * with the given name exists. Consider {@link TableMetadata#BYTES_HYDRATOR} for hydrating.
     */
    @Idempotent
```

### JavadocReference
Cannot resolve symbol `BYTES_HYDRATOR`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyValueService.java`
#### Snippet
```java
     *
     * @return a byte array representing the metadata for the table. Array is empty if no table
     * with the given name exists. Consider {@link TableMetadata#BYTES_HYDRATOR} for hydrating.
     */
    @Idempotent
```

### JavadocReference
Cannot resolve symbol `TableMetadata`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyValueService.java`
#### Snippet
```java
     *
     * @return a Map from TableReference to byte array representing the metadata for the table
     * Consider {@link TableMetadata#BYTES_HYDRATOR} for hydrating
     */
    @Idempotent
```

### JavadocReference
Cannot resolve symbol `BYTES_HYDRATOR`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/KeyValueService.java`
#### Snippet
```java
     *
     * @return a Map from TableReference to byte array representing the metadata for the table
     * Consider {@link TableMetadata#BYTES_HYDRATOR} for hydrating
     */
    @Idempotent
```

### JavadocReference
Cannot resolve symbol `Bytes`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Cell.java`
#### Snippet
```java
 *
 * @see Value
 * @see Bytes
 */
public final class Cell implements Serializable, Comparable<Cell>, Measurable {
```

### JavadocReference
Cannot resolve symbol `RETRY_ON_WRITE_WRITE`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/ConflictHandler.java`
#### Snippet
```java

    /**
     * Same as {@link RETRY_ON_WRITE_WRITE}, but checks for conflicts by locking cells during commit instead
     * of locking rows. Cell locks are more fine-grained, so this will produce less contention at the expense
     * of requiring more locks to be acquired.
```

### JavadocReference
Cannot resolve symbol `SERIALIZABLE`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/ConflictHandler.java`
#### Snippet
```java

    /**
     * Same as {@link SERIALIZABLE}, but checks for conflicts by locking cells during commit instead
     * of locking rows. Cell locks are more fine-grained, so this will produce less contention at the expense
     * of requiring more locks to be acquired.
```

### JavadocReference
Cannot resolve symbol `defaultGetRangesConcurrency()`
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/Transaction.java`
#### Snippet
```java
    /**
     * Same as {@link #getRanges(TableReference, Iterable, int, BiFunction)} but uses the default concurrency
     * value specified by {@link KeyValueServiceConfig#defaultGetRangesConcurrency()}.
     */
    @Idempotent
```

### JavadocReference
Symbol `calculateOpenLocks` is inaccessible from here
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingServiceImpl.java`
#### Snippet
```java
 *     is made, any registered locks and unlocks onwards will use updated ranges for filtering. This is necessary to
 *     guarantee that the log will contain any locks/unlocks of newly watched locks; see
 *     {@link LockEventLogImpl#calculateOpenLocks} for more details.</li>
 *     <li>Updating in {@link #addToWatches(LockWatchRequest)} is synchronised to minimise the scope of holding
 *     the write lock above while still preventing concurrent updates.</li>
```

### JavadocReference
Cannot resolve symbol `LockWatchRequest`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingServiceImpl.java`
#### Snippet
```java
 *     guarantee that the log will contain any locks/unlocks of newly watched locks; see
 *     {@link LockEventLogImpl#calculateOpenLocks} for more details.</li>
 *     <li>Updating in {@link #addToWatches(LockWatchRequest)} is synchronised to minimise the scope of holding
 *     the write lock above while still preventing concurrent updates.</li>
 *     <li>Fairness of the lock ensures that updates are eventually granted, even in the presence of constant locks and
```

### JavadocReference
Cannot resolve symbol `LeaderElectionDuration`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/LeaderElectionDurationAccumulator.java`
#### Snippet
```java

    /**
     * This class accumulates {@link LeaderElectionDuration}s by tracking the shortest duration observed for each pair
     * of leader ids until updatesToAchieveConfidence have been received for that pair. Once that occurs, the
     * final duration is consumed by the consumer, and further updates for the leader id pair are ignored.
```

### JavadocReference
Cannot resolve symbol `com.palantir.atlasdb.http.AtlasDbInterceptors`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceCreator.java`
#### Snippet
```java
    /**
     * Creates clients that intercept requests with payload greater than
     * {@link com.palantir.atlasdb.http.AtlasDbInterceptors#MAX_PAYLOAD_SIZE} bytes. This ServiceCreator should be used
     * for clients to servers that impose payload limits.
     */
```

### JavadocReference
Cannot resolve symbol `MAX_PAYLOAD_SIZE`
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceCreator.java`
#### Snippet
```java
    /**
     * Creates clients that intercept requests with payload greater than
     * {@link com.palantir.atlasdb.http.AtlasDbInterceptors#MAX_PAYLOAD_SIZE} bytes. This ServiceCreator should be used
     * for clients to servers that impose payload limits.
     */
```

### JavadocReference
Cannot resolve symbol `allAsMap(Map, ExecutorService)`
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/FuturesCombiner.java`
#### Snippet
```java

    /**
     * Wraps the {@link AtlasFutures#allAsMap(Map, ExecutorService)}.
     */
    <T, R> ListenableFuture<Map<T, R>> allAsMap(Map<T, ListenableFuture<Optional<R>>> inputToListenableFutureMap);
```

### JavadocReference
Cannot resolve symbol `equal(Object, Object)`
in `atlasdb-commons/src/main/java/com/palantir/common/base/BatchingVisitables.java`
#### Snippet
```java
     * If the list passed in is sorted, then it will actually result in a list of unique elements
     * <p>
     * This uses {@link Objects#equal(Object, Object)} to do comparisons.
     * <p>
     * null is supported bug discouraged
```

### JavadocReference
Symbol `LockService` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
/**
 * A grant for a set of locks which are currently held by the lock server. Lock
 * grants are created by the {@link LockService#convertToGrant(HeldLocksToken)}
 * method and can be exchanged for ownership of the locks by the
 * {@link LockService#useGrant(LockClient, HeldLocksGrant)}.
```

### JavadocReference
Symbol `convertToGrant(HeldLocksToken)` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
/**
 * A grant for a set of locks which are currently held by the lock server. Lock
 * grants are created by the {@link LockService#convertToGrant(HeldLocksToken)}
 * method and can be exchanged for ownership of the locks by the
 * {@link LockService#useGrant(LockClient, HeldLocksGrant)}.
```

### JavadocReference
Symbol `LockService` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
 * grants are created by the {@link LockService#convertToGrant(HeldLocksToken)}
 * method and can be exchanged for ownership of the locks by the
 * {@link LockService#useGrant(LockClient, HeldLocksGrant)}.
 *
 * @author jtamer
```

### JavadocReference
Symbol `useGrant(LockClient, HeldLocksGrant)` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
 * grants are created by the {@link LockService#convertToGrant(HeldLocksToken)}
 * method and can be exchanged for ownership of the locks by the
 * {@link LockService#useGrant(LockClient, HeldLocksGrant)}.
 *
 * @author jtamer
```

### JavadocReference
Symbol `LockService` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/LockResponse.java`
#### Snippet
```java

/**
 * Represents the result of calling {@link LockService#lockWithFullLockResponse(LockClient, LockRequest)} on
 * the lock server. If locks were successfully acquired, then {@link #success()}
 * returns <code>true</code> and {@link #getToken()} returns the token which
```

### JavadocReference
Symbol `lockWithFullLockResponse(LockClient, LockRequest)` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/LockResponse.java`
#### Snippet
```java

/**
 * Represents the result of calling {@link LockService#lockWithFullLockResponse(LockClient, LockRequest)} on
 * the lock server. If locks were successfully acquired, then {@link #success()}
 * returns <code>true</code> and {@link #getToken()} returns the token which
```

### JavadocReference
Symbol `LockService` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
         * not call this method multiple times.
         *
         * @see LockService#getMinLockedInVersionId()
         */
        public Builder withLockedInVersionId(long newVersionId) {
```

### JavadocReference
Symbol `getMinLockedInVersionId()` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
         * not call this method multiple times.
         *
         * @see LockService#getMinLockedInVersionId()
         */
        public Builder withLockedInVersionId(long newVersionId) {
```

### JavadocReference
Symbol `LockService` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
     * did not specify a version ID.
     *
     * @see LockService#getMinLockedInVersionId()
     */
    @Nullable
```

### JavadocReference
Symbol `getMinLockedInVersionId()` is inaccessible from here
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
     * did not specify a version ID.
     *
     * @see LockService#getMinLockedInVersionId()
     */
    @Nullable
```

### JavadocReference
Cannot resolve symbol `escapeBytes(com.googlecode.protobuf.format.ByteString)`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
    /**
     * Un-escape a byte sequence as escaped using
     * {@link #escapeBytes(com.googlecode.protobuf.format.ByteString)}. Two-digit hex escapes (starting with
     * "\x") are also recognized.
     */
```

### JavadocReference
Cannot resolve symbol `com.googlecode.protobuf.format.ByteString`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
    /**
     * Un-escape a byte sequence as escaped using
     * {@link #escapeBytes(com.googlecode.protobuf.format.ByteString)}. Two-digit hex escapes (starting with
     * "\x") are also recognized.
     */
```

### JavadocReference
Cannot resolve symbol `com.googlecode.protobuf.format.ByteString`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
        /**
         * If the next token is a string, consume it, unescape it as a
         * {@link com.googlecode.protobuf.format.ByteString}, and return it. Otherwise, throw a
         * {@link ParseException}.
         */
```

### JavadocReference
Cannot resolve symbol `SweepConfig`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java

    /**
     * Obsolete value, replaced by {@link SweepConfig#readLimit}.
     *
     * @deprecated this parameter is unused and should be removed from the configuration
```

### JavadocReference
Cannot resolve symbol `readLimit`
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java

    /**
     * Obsolete value, replaced by {@link SweepConfig#readLimit}.
     *
     * @deprecated this parameter is unused and should be removed from the configuration
```

### JavadocReference
Cannot resolve symbol `TRANSACTIONS_TABLE_SCHEMA_VERSION`
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/coordination/CoordinationResource.java`
#### Snippet
```java
     * {@link CoordinationResource} should be reset. The latest value of the
     * {@link InternalSchemaMetadata#timestampToTransactionsTableSchemaVersion()} should be
     * {@link com.palantir.atlasdb.transaction.impl.TransactionConstants#TRANSACTIONS_TABLE_SCHEMA_VERSION},
     * and that version of the transaction schema should already be in effect, with no pending installs.
     *
```

### JavadocReference
Symbol `com.zaxxer.hikari.pool.PoolBase` is inaccessible from here
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
     * <p>Note that when the password matches static config, performance is better when setting the username and
     * password to null so that hikari uses the original JDBC parameters and avoids making new copies for every
     * new connection. See {@link com.zaxxer.hikari.pool.PoolBase#newConnection}. Also see
     * {@link com.palantir.nexus.db.pool.config.OracleConnectionConfig#getHikariProperties} for the JDBC properties.
     *
```

### JavadocReference
Symbol `newConnection` is inaccessible from here
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
     * <p>Note that when the password matches static config, performance is better when setting the username and
     * password to null so that hikari uses the original JDBC parameters and avoids making new copies for every
     * new connection. See {@link com.zaxxer.hikari.pool.PoolBase#newConnection}. Also see
     * {@link com.palantir.nexus.db.pool.config.OracleConnectionConfig#getHikariProperties} for the JDBC properties.
     *
```

## RuleId[id=ManualArrayToCollectionCopy]
### ManualArrayToCollectionCopy
Manual array to collection copy
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
            FullQuery query = getRowsColumnRangeSubQuery(entry.getKey(), ts, entry.getValue());
            subQueries.add(query.getQuery());
            for (Object arg : query.getArgs()) {
                args.add(arg);
            }
```

## RuleId[id=UnnecessarySemicolon]
### UnnecessarySemicolon
Unnecessary semicolon `;`
in `lock-api/src/main/java/com/palantir/lock/client/TimestampCorroboratingTimelockService.java`
#### Snippet
```java
        FRESH_TIMESTAMP,
        COMMIT_TIMESTAMP,
        TRANSACTION;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        SUCCESSFUL,
        FAILED,
        UNKNOWN;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
    public enum OffsetInclusion {
        INCLUDE_OFFSET,
        EXCLUDE_OFFSET;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `commons-api/src/main/java/com/palantir/common/concurrent/ThreadNamingCallable.java`
#### Snippet
```java
        PREPEND,
        REPLACE,
        APPEND;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/CaseSensitivity.java`
#### Snippet
```java
public enum CaseSensitivity {
    CASE_SENSITIVE,
    CASE_INSENSITIVE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/OverflowMigrationState.java`
#### Snippet
```java
    IN_PROGRESS,
    FINISHING,
    FINISHED;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
        DO_NOT_OVERWRITE,
        OVERWRITE_SAME_VALUE,
        OVERWRITE;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/SweepStrategyManagers.java`
#### Snippet
```java
        FULL,
        NONE,
        ;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-commons/src/main/java/com/palantir/common/proxy/CancelDelegate.java`
#### Snippet
```java
public enum CancelDelegate {
    CANCEL,
    ALLOW_TO_FINISH;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `lock-api-objects/src/main/java/com/palantir/lock/BlockingMode.java`
#### Snippet
```java
     * server if you just have to wait for someone to release the lock before you perform a task.
     */
    BLOCK_INDEFINITELY_THEN_RELEASE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `lock-api-objects/src/main/java/com/palantir/lock/LockGroupBehavior.java`
#### Snippet
```java
     * all be acquired. This is the default behavior.
     */
    LOCK_ALL_OR_NONE;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/AtomicState.java`
#### Snippet
```java
public enum AtomicState {
    STAGING,
    COMMITTED;
}

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java
    private enum FollowUpAction {
        PUT,
        NONE;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/table/common/TableTasks.java`
#### Snippet
```java
    private enum DiffStrategy {
        RANGE,
        ROWS;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionCacheValueStoreImpl.java`
#### Snippet
```java
            READ,
            WRITE,
            HIT;
        }
    }
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactions.java`
#### Snippet
```java
         * Perform a remote read against the underlying database if necessary.
         */
        REMOTE_READ;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java
        PENDING_LOAD_FROM_RELIABLE,
        IS_ABORTED,
        IS_NOT_ABORTED;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java

        // Closed state.  closeTrace is set.
        CLOSED;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private enum SentinelType {
        DEFINITE_ORPHANED,
        INDETERMINATE;
    }

```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ring/RingValidationException.java`
#### Snippet
```java
        // Detected a reference to a node that does not exist,
        // indicating the integrity of our ring has been compromised.
        MISSING_ENTRIES;
    }
}
```

### UnnecessarySemicolon
Unnecessary semicolon `;`
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/store/IsolationLevel.java`
#### Snippet
```java
    SERIALIZABLE,
    SNAPSHOT,
    NONE;
}

```

## RuleId[id=DataFlowIssue]
### DataFlowIssue
Argument `lock` might be null
in `lock-api/src/main/java/com/palantir/lock/SimplifyingLockService.java`
#### Snippet
```java
        for (LockRefreshToken goodToken : goodTokens) {
            HeldLocksToken lock = tokenMap.get(goodToken);
            ret.add(goodToken.refreshTokenWithExpriationDate(lock));
        }
        return ret;
```

### DataFlowIssue
Method reference invocation `Collection::stream` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/AsyncTimeLockUnlocker.java`
#### Snippet
```java
                    Set<LockToken> allTokensToUnlock = batch.stream()
                            .map(BatchElement::argument)
                            .flatMap(Collection::stream)
                            .collect(Collectors.toSet());
                    try {
```

### DataFlowIssue
Method invocation `namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
                UnlockRequest unlockRequest = batchElement.argument();
                batchManagers
                        .computeIfAbsent(unlockRequest.namespace(), unused -> new SingleClientBatchManager())
                        .addBatchElement(batchElement);
            }
```

### DataFlowIssue
Method invocation `lockSet` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
            for (BatchElement<UnlockRequest, Set<ConjureLockTokenV2>> batchElement : requests) {
                UnlockRequest lockSet = batchElement.argument();
                lockTokens.addAll(lockSet.lockSet());
            }
            return ConjureUnlockRequestV2.of(lockTokens);
```

### DataFlowIssue
Method invocation `lockSet` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
            for (BatchElement<UnlockRequest, Set<ConjureLockTokenV2>> batchElement : requests) {
                Set<ConjureLockTokenV2> plausibleUnlocks = ImmutableSet.copyOf(
                        Sets.intersection(batchElement.argument().lockSet(), unlockedTokens));
                batchElement.result().set(plausibleUnlocks);
                unlockedTokens.removeAll(plausibleUnlocks);
```

### DataFlowIssue
Method invocation `startTs` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingCommitTimestampGetter.java`
#### Snippet
```java
        List<TransactionUpdate> transactionUpdates = Streams.zip(
                        timestamps.stream(), requests.stream(), (commitTs, batchElement) -> TransactionUpdate.builder()
                                .startTs(batchElement.argument().startTs())
                                .commitTs(commitTs)
                                .writesToken(batchElement.argument().commitLocksToken())
```

### DataFlowIssue
Method invocation `commitLocksToken` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingCommitTimestampGetter.java`
#### Snippet
```java
                                .startTs(batchElement.argument().startTs())
                                .commitTs(commitTs)
                                .writesToken(batchElement.argument().commitLocksToken())
                                .build())
                .collect(Collectors.toList());
```

### DataFlowIssue
Method invocation `startTs` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
                            pendingRequestQueue.stream(),
                            (commitTs, batchElement) -> TransactionUpdate.builder()
                                    .startTs(batchElement.argument().startTs())
                                    .commitTs(commitTs)
                                    .writesToken(batchElement.argument().commitLocksToken())
```

### DataFlowIssue
Method invocation `commitLocksToken` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
                                    .startTs(batchElement.argument().startTs())
                                    .commitTs(commitTs)
                                    .writesToken(batchElement.argument().commitLocksToken())
                                    .build())
                    .collect(Collectors.toList());
```

### DataFlowIssue
Method invocation `result` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java

            for (Long commitTimestamp : commitTimestamps) {
                pendingRequestQueue.poll().result().set(commitTimestamp);
            }
        }
```

### DataFlowIssue
Method invocation `namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
            for (BatchElement<NamespacedRequest, Long> elem : batch) {
                NamespacedRequest argument = elem.argument();
                Namespace namespace = argument.namespace();
                NamespacedBatchStateManager namespacedBatchStateManager = requestMap.computeIfAbsent(
                        namespace, _unused -> new NamespacedBatchStateManager(argument.cache()));
```

### DataFlowIssue
Unboxing of `batchElement.argument()` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/BatchingIdentifiedAtlasDbTransactionStarter.java`
#### Snippet
```java
            int start = 0;
            for (BatchElement<Integer, List<StartIdentifiedAtlasDbTransactionResponse>> batchElement : batch) {
                int end = start + batchElement.argument();
                batchElement.result().set(ImmutableList.copyOf(startTransactionResponses.subList(start, end)));
                start = end;
```

### DataFlowIssue
Argument `params` might be null
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
        private void updatePendingStartTransactionsCount(Namespace namespace, int startedTransactionsCount) {
            requestMap.compute(
                    namespace, (_unused, params) -> remainingRequestsForNamespace(params, startedTransactionsCount));
        }

```

### DataFlowIssue
Method reference invocation `NamespaceAndRequestParams::namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
                .map(BatchElement::argument)
                .collect(Collectors.toMap(
                        NamespaceAndRequestParams::namespace, NamespaceAndRequestParams::params, RequestParams::merge));
    }

```

### DataFlowIssue
Method invocation `namespace` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
        for (BatchElement<NamespaceAndRequestParams, List<StartIdentifiedAtlasDbTransactionResponse>> element : batch) {
            NamespaceAndRequestParams requestParams = element.argument();
            Namespace namespace = requestParams.namespace();
            responseHandlers
                    .computeIfAbsent(
```

### DataFlowIssue
Method invocation `startTransactionsFuture` may produce `NullPointerException`
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
                    builder.add(Preconditions.checkNotNull(transientResponseList.poll()));
                }
                pendingFutures.poll().startTransactionsFuture().set(builder.build());
            }
        }
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java
    private LockRefreshToken lockAnonymous(com.palantir.lock.LockRequest request) {
        try {
            return lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
        } catch (InterruptedException ex) {
            Thread.currentThread().interrupt();
```

### DataFlowIssue
Argument `immutableTsLockClient.getClientId()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java

    private long getImmutableTimestampInternal(long ts) {
        Long minLocked = lockService.getMinLockedInVersionId(immutableTsLockClient.getClientId());
        return minLocked == null ? ts : minLocked;
    }
```

### DataFlowIssue
Argument `immutableTsLockClient.getClientId()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java

        try {
            lock = lockService.lock(immutableTsLockClient.getClientId(), lockRequest);
        } catch (InterruptedException e) {
            throw Throwables.throwUncheckedException(e);
```

### DataFlowIssue
Argument `lock` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LegacyTimelockService.java`
#### Snippet
```java
        try {
            return LockImmutableTimestampResponse.of(
                    getImmutableTimestampInternal(immutableLockTs), LockTokenConverter.toTokenV2(lock));
        } catch (Throwable e) {
            if (lock != null) {
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `commons-db/src/main/java/com/palantir/nexus/db/ThreadConfinedProxy.java`
#### Snippet
```java
                break;
            case VALIDATE:
                Validate.isTrue(false, message);
                break;
        }
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SQL.java`
#### Snippet
```java
            if (DBType.getTypeFromConnection(c) == DBType.POSTGRESQL
                    && is.getLength() > SQL.POSTGRES_BLOB_WRITE_LIMIT) {
                com.palantir.logsafe.Preconditions.checkArgument(
                        false, "Postgres only supports blobs up to 1G"); // $NON-NLS-1$
            }
```

### DataFlowIssue
The call to 'checkState' always fails, according to its method contracts
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            }
        }
        Preconditions.checkState(
                false,
                "limitQuery() only supports POSTGRES, H2, HSQL, and ORACLE db type.",
```

### DataFlowIssue
Method invocation `isAnonymous` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        }
        LockClient client = heldLocks.realToken.getClient();
        if (client.isAnonymous()) {
            heldLocksTokenMap.put(token, heldLocks);
            lockTokenReaperQueue.add(token);
```

### DataFlowIssue
Argument `heldLocks.realToken.getClient()` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        }
        try {
            changeOwner(heldLocks.locks, heldLocks.realToken.getClient(), INTERNAL_LOCK_GRANT_CLIENT);
        } catch (IllegalMonitorStateException e) {
            heldLocksTokenMap.put(token, heldLocks);
```

### DataFlowIssue
Method invocation `startsWith` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
    private boolean isFromAtlasTransactionWithLockedImmutable(ExpiringToken token) {
        return token.getClient() != null
                && token.getClient().getClientId().startsWith(ATLAS_LOCK_PREFIX)
                && token.getVersionId() != null;
    }
```

### DataFlowIssue
Unboxing of `deadline` may produce `NullPointerException`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                return lock.tryLock();
            case BLOCK_UNTIL_TIMEOUT:
                return lock.tryLock(deadline - System.nanoTime(), TimeUnit.NANOSECONDS);
            case BLOCK_INDEFINITELY:
            case BLOCK_INDEFINITELY_THEN_RELEASE:
```

### DataFlowIssue
Argument `currentHolder` might be null
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                if (log.isDebugEnabled() || isSlowLogEnabled()) {
                    long responseTimeMillis = System.currentTimeMillis() - startTime;
                    logSlowLockAcquisition(entry.getKey(), currentHolder, responseTimeMillis);
                }
                if (currentHolder == null) {
```

### DataFlowIssue
Condition `ts instanceof TimestampManagementService` is redundant and can be replaced with a null check
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/FastForwardTimestamp.java`
#### Snippet
```java

        TimestampService ts = services.getManagedTimestampService();
        if (!(ts instanceof TimestampManagementService)) {
            printer.error(
                    "Timestamp service must be of type {}, but yours is {}.  Exiting.",
```

### DataFlowIssue
Method invocation `getClass` will produce `NullPointerException`
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/timestamp/FastForwardTimestamp.java`
#### Snippet
```java
                    "Timestamp service must be of type {}, but yours is {}.  Exiting.",
                    SafeArg.of("expected type", TimestampManagementService.class.toString()),
                    SafeArg.of("found type", ts.getClass().toString()));
            return 1;
        }
```

### DataFlowIssue
Method invocation `getFile` may produce `NullPointerException`
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/DockerizedDatabase.java`
#### Snippet
```java
        URL resource = clazz.getResource("/" + resourcePath);
        File file = File.createTempFile(
                FilenameUtils.getBaseName(resource.getFile()), FilenameUtils.getExtension(resource.getFile()));
        IOUtils.copy(resource.openStream(), FileUtils.openOutputStream(file));
        file.deleteOnExit();
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsPutBenchmarks.java`
#### Snippet
```java
        try {
            tables.getKvs().putUnlessExists(tables.getFirstTableRef(), batch);
            Preconditions.checkArgument(false, "putUnlessExists should have failed");
        } catch (KeyAlreadyExistsException e) {
            // success
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/RelationalDbTimeLockFactory.java`
#### Snippet
```java
    public ManagedTimestampService createManagedTimestampService(
            KeyValueService rawKvs, DbTimestampCreationSetting dbTimestampCreationSetting, boolean initializeAsync) {
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbTimestampStoreInvalidator.java`
#### Snippet
```java
    public static TimestampStoreInvalidator create(
            KeyValueService kvs, TableReference timestampTable, String tablePrefixString) {
        Preconditions.checkArgument(
                kvs instanceof ConnectionManagerAwareDbKvs,
                "DbTimestampStoreInvalidator should be instantiated with a ConnectionManagerAwareDbKvs!");
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java
                        .orElse(false),
                "Cannot specify the DB TimeLock timestamp table as a timestamp table override!");
        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "[Unexpected type] | DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs.",
```

### DataFlowIssue
Unboxing of `result.getResultValue()` may produce `NullPointerException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/InvalidationRunner.java`
#### Snippet
```java
        switch (result.getStatus()) {
            case SUCCESSFUL:
                return result.getResultValue();
            case UNKNOWN:
            case FAILED:
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java
            } else {
                approxCellsPerRow =
                        Math.max(1, metadata.getColumns().getNamedColumns().size());
            }
        }
```

### DataFlowIssue
The call to 'checkArgument' always fails, according to its method contracts
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/MultiSequenceTimestampSeriesProvider.java`
#### Snippet
```java
        }

        Preconditions.checkArgument(
                rawKvs instanceof ConnectionManagerAwareDbKvs,
                "DbAtlasDbFactory expects a raw kvs of type ConnectionManagerAwareDbKvs, found %s",
```

### DataFlowIssue
Unboxing of `currentLimit` may produce `NullPointerException`
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java
            case SUCCESSFUL:
                currentLimit = result.getResultValue();
                return currentLimit;
            case UNKNOWN:
            case FAILED:
```

### DataFlowIssue
Method invocation `getTimestamps` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockService.java`
#### Snippet
```java
                startTransactionsWithWatches(conjureRequest),
                newResponse -> ImmutableStartTransactionResponseV4.builder()
                        .timestamps(newResponse.getTimestamps())
                        .immutableTimestamp(newResponse.getImmutableTimestamp())
                        .lease(newResponse.getLease())
```

### DataFlowIssue
Method invocation `getInclusiveLower` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
                    responseFuture,
                    response ->
                            GetCommitTimestampResponse.of(response.getInclusiveLower(), response.getLockWatchUpdate()),
                    MoreExecutors.directExecutor());
        });
```

### DataFlowIssue
Method invocation `getTokenId` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
                    .apply(namespace)
                    .refreshLockRefreshTokens(Collections2.transform(
                            request, token -> new LockRefreshToken(token.getTokenId(), token.getExpirationDateMs()))));
            return Futures.transform(
                    serviceTokens,
```

### DataFlowIssue
Method reference argument might be null
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
            return Futures.transform(
                    serviceTokens,
                    tokens -> ImmutableSet.copyOf(Collections2.transform(tokens, ConjureLockV1Tokens::getConjureToken)),
                    MoreExecutors.directExecutor());
        });
```

### DataFlowIssue
Unboxing of `value` may produce `NullPointerException`
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/client/CachingPartitionAllocator.java`
#### Snippet
```java
                .executor(executor)
                .ticker(ticker)
                .removalListener((T key, Integer value, RemovalCause cause) -> modulusGenerator.unmarkResidue(value))
                .build(unused -> modulusGenerator.getAndMarkResidue());
    }
```

### DataFlowIssue
Dereference of `namedColumns` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnMetadataDescription.java`
#### Snippet
```java
        }
        int max = 0;
        for (NamedColumnDescription col : namedColumns) {
            max = Math.max(max, col.getValue().getMaxValueSize());
        }
```

### DataFlowIssue
Method invocation `persistToProto` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnMetadataDescription.java`
#### Snippet
```java
            }
        } else {
            builder.setDynamicColumn(dynamicColumn.persistToProto());
        }
        return builder;
```

### DataFlowIssue
Dereference of `namedColumns` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnMetadataDescription.java`
#### Snippet
```java
        }
        ImmutableList.Builder<ColumnValueDescription> ret = ImmutableList.builder();
        for (NamedColumnDescription col : namedColumns) {
            ret.add(col.value);
        }
```

### DataFlowIssue
Argument `table.getColumns().getNamedColumns()` might be null
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/ColumnRenderers.java`
#### Snippet
```java
        return ImmutableSortedSet.copyOf(
                Ordering.natural().onResultOf(NamedColumnDescription::getLongName),
                table.getColumns().getNamedColumns());
    }
}
```

### DataFlowIssue
Argument `tableMetadata.getColumns().getNamedColumns()` might be null
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/Schema.java`
#### Snippet
```java
                        "Indexes accessing columns not supported for tables with dynamic columns.");
                Collection<String> columnNames = Collections2.transform(
                        tableMetadata.getColumns().getNamedColumns(), NamedColumnDescription::getLongName);
                com.palantir.logsafe.Preconditions.checkArgument(
                        columnNames.contains(indexMetadata.getColumnNameToAccessData()),
```

### DataFlowIssue
Argument `value` might be null
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ValueType.java`
#### Snippet
```java
        public byte[] convertFromJava(Object value) {
            com.palantir.logsafe.Preconditions.checkArgument(value == null || value instanceof java.util.UUID);
            return EncodingUtils.encodeUUID((java.util.UUID) value);
        }

```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addJavadoc("Delete all columns for specified row components.");

        deleteRowBuilder = addParametersFromRowComponents(deleteRowBuilder, tableMetadata);

        SortedSet<NamedColumnDescription> namedColumns = ColumnRenderers.namedColumns(tableMetadata);
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addModifiers(Modifier.PUBLIC);

        putColumnBuilder = addParametersFromRowComponents(putColumnBuilder, tableMetadata);

        TypeName columnValueType = tableType.nestedClass(VarName(col));
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addJavadoc("Delete the value at column $L (if it exists) for the specified row-key.", VarName(col));

        deleteColumnBuilder = addParametersFromRowComponents(deleteColumnBuilder, tableMetadata);

        return deleteColumnBuilder
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addJavadoc("Returns the value for column $L and specified row components.", VarName(col));

        getterBuilder = addParametersFromRowComponents(getterBuilder, tableMetadata);

        getterBuilder.returns(ParameterizedTypeName.get(
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableClassRendererV2.java`
#### Snippet
```java
                .addModifiers(Modifier.PUBLIC);

        updateColumnIfExistsBuilder = addParametersFromRowComponents(updateColumnIfExistsBuilder, tableMetadata);
        updateColumnIfExistsBuilder.addParameter(
                ParameterizedTypeName.get(
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                                    table.getColumns()
                                            .getDynamicColumn()
                                            .getValue()
                                            .getJavaObjectTypeName(),
                                    " val = ",
```

### DataFlowIssue
Dereference of `table.getColumns().getNamedColumns()` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
            line("private static final Map<String, Hydrator<? extends ", ColumnValue, ">> shortNameToHydrator =");
            line("        ImmutableMap.<String, Hydrator<? extends ", ColumnValue, ">>builder()");
            for (NamedColumnDescription col : table.getColumns().getNamedColumns()) {
                line(
                        "            .put(",
```

### DataFlowIssue
Method invocation `getColumnNameDesc` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
        private void renderDynamic() {
            new RowOrDynamicColumnRenderer(
                            this, Column, table.getColumns().getDynamicColumn().getColumnNameDesc(), false, true)
                    .run();
            line();
```

### DataFlowIssue
Dereference of `table.getColumns().getNamedColumns()` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
            renderShortNameToHydrator();
            line();
            for (NamedColumnDescription col : table.getColumns().getNamedColumns()) {
                renderNamedGetColumn(col);
                line();
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                                ".BYTES_HYDRATOR.hydrateFromBytes(e.getKey().getColumnName());");
                        line(
                                table.getColumns().getDynamicColumn().getValue().getJavaObjectTypeName(),
                                " val = ",
                                ColumnValue,
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                                    table.getColumns()
                                            .getDynamicColumn()
                                            .getValue()
                                            .getJavaObjectTypeName(),
                                    " val = ",
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                                    table.getColumns()
                                            .getDynamicColumn()
                                            .getValue()
                                            .getJavaObjectTypeName(),
                                    " val = ",
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                                    table.getColumns()
                                            .getDynamicColumn()
                                            .getValue()
                                            .getJavaObjectTypeName(),
                                    " val = ",
```

### DataFlowIssue
Method invocation `runTaskReadOnly` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractGenericStreamStore.java`
#### Snippet
```java
                    loadNBlocksToOutputStream(parent, id, firstBlock, numBlocks, destination);
                } else {
                    txnMgr.runTaskReadOnly(txn -> {
                        loadNBlocksToOutputStream(txn, id, firstBlock, numBlocks, destination);
                        return null;
```

### DataFlowIssue
Unboxing of `range.getBatchHint()` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
            PeekingIterator<RowResult<Value>> peekingValues = Iterators.peekingIterator(valueResults.get());

            Iterator<List<RowResult<Set<Long>>>> tsBatches = Iterators.partition(tsResults.get(), range.getBatchHint());
            Iterator<List<CandidateCellForSweeping>> candidates = Iterators.transform(tsBatches, tsBatch -> {
                List<CandidateCellForSweeping> candidateBatch = new ArrayList<>();
```

### DataFlowIssue
Unboxing of `requestWithHint.getBatchHint()` may produce `NullPointerException`
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/KeyValueServices.java`
#### Snippet
```java
        final ClosableIterator<RowResult<Value>> range = kv.getRange(tableRef, requestWithHint, timestamp);
        try {
            int batchSize = requestWithHint.getBatchHint();
            final Iterator<RowResult<Value>> withLimit = Iterators.limit(range, batchSize);
            ImmutableList<RowResult<Value>> results = ImmutableList.copyOf(withLimit);
```

### DataFlowIssue
The call to 'checkState' always fails, according to its method contracts
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
            }
        } else {
            Preconditions.checkState(
                    false,
                    "All references should be of type KeyedReference",
```

### DataFlowIssue
Method invocation `toString` may produce `NullPointerException`
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
        @Override
        public String toString() {
            return (valueRef.get() != null) ? valueRef.get().toString() : "null";
        }
    }
```

### DataFlowIssue
Method invocation `invoke` may produce `NullPointerException`
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            if (java16 && detail.includeLockedMonitorsAndSynchronizers) {
                try {
                    lockedMonitors = (Object[]) getLockedMonitorsMethod.invoke(info);
                } catch (InvocationTargetException e) {
                    assert false : "anonymous assert FF3FEF";
```

### DataFlowIssue
Method invocation `invoke` may produce `NullPointerException`
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
                try {
                    for (int j = 0; j < stackDepths.length; j++) {
                        stackDepths[j] = ((Integer) getLockedStackDepthMethod.invoke(lockedMonitors[j])).intValue();
                    }
                } catch (InvocationTargetException e) {
```

### DataFlowIssue
Argument `dynamicColumn` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellSerializer.java`
#### Snippet
```java
        if (columns.hasDynamicColumns()) {
            DynamicColumnDescription dynamicColumn = columns.getDynamicColumn();
            AtlasSerializers.serializeDynamicColumn(jgen, dynamicColumn, col);
        } else {
            String shortName = PtBytes.toString(col);
```

### DataFlowIssue
Dereference of `colDescription.getNamedColumns()` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellSerializer.java`
#### Snippet
```java

    private static String getLongColumnName(ColumnMetadataDescription colDescription, String shortName) {
        for (NamedColumnDescription description : colDescription.getNamedColumns()) {
            if (shortName.equals(description.getShortName())) {
                return description.getLongName();
```

### DataFlowIssue
Argument `dynamicColumn` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellValSerializer.java`
#### Snippet
```java
        if (columns.hasDynamicColumns()) {
            DynamicColumnDescription dynamicColumn = columns.getDynamicColumn();
            AtlasSerializers.serializeDynamicColumn(jgen, dynamicColumn, col);
            jgen.writeFieldName("val");
            AtlasSerializers.serializeVal(jgen, dynamicColumn.getValue(), val);
```

### DataFlowIssue
Dereference of `namedColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableCellValSerializer.java`
#### Snippet
```java
            String shortName = PtBytes.toString(col);
            Set<NamedColumnDescription> namedColumns = columns.getNamedColumns();
            for (NamedColumnDescription description : namedColumns) {
                if (shortName.equals(description.getShortName())) {
                    AtlasSerializers.serializeNamedCol(jgen, description, val);
```

### DataFlowIssue
Method invocation `getColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeDeserializer.java`
#### Snippet
```java
        JsonNode optBatchSize = node.get("batch_size");
        int batchSize = optBatchSize == null ? 2000 : optBatchSize.asInt();
        Iterable<byte[]> columns = AtlasDeserializers.deserializeNamedCols(metadata.getColumns(), node.get("cols"));
        byte[] startRow = new byte[0];
        byte[] endRow = new byte[0];
```

### DataFlowIssue
Method invocation `getColumnNameDesc` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasSerializers.java`
#### Snippet
```java
        if (colDescription.hasDynamicColumns()) {
            DynamicColumnDescription dynMetadata = colDescription.getDynamicColumn();
            NameMetadataDescription description = dynMetadata.getColumnNameDesc();
            jgen.writeRawValue(description.renderToJson(col));
        } else {
```

### DataFlowIssue
Dereference of `namedColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasSerializers.java`
#### Snippet
```java
        } else {
            Set<NamedColumnDescription> namedColumns = colDescription.getNamedColumns();
            for (NamedColumnDescription description : namedColumns) {
                if (UnsignedBytes.lexicographicalComparator()
                                .compare(col, PtBytes.toCachedBytes(description.getShortName()))
```

### DataFlowIssue
Method invocation `getColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRangeSerializer.java`
#### Snippet
```java
            jgen.writeArrayFieldStart("cols");
            for (byte[] column : value.getColumns()) {
                AtlasSerializers.serializeCol(jgen, metadata.getColumns(), column);
            }
            jgen.writeEndArray();
```

### DataFlowIssue
Method invocation `getRowMetadata` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultDeserializer.java`
#### Snippet
```java
        TableMetadata metadata = metadataCache.getMetadata(tableName);
        for (JsonNode rowResult : node.get("data")) {
            byte[] row = AtlasDeserializers.deserializeRow(metadata.getRowMetadata(), rowResult.get("row"));
            ImmutableSortedMap.Builder<byte[], byte[]> cols =
                    ImmutableSortedMap.orderedBy(UnsignedBytes.lexicographicalComparator());
```

### DataFlowIssue
Method invocation `getValue` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultDeserializer.java`
#### Snippet
```java
                    byte[] col = AtlasDeserializers.deserializeCol(metadata.getColumns(), colVal.get("col"));
                    byte[] val = AtlasDeserializers.deserializeVal(
                            metadata.getColumns().getDynamicColumn().getValue(), colVal.get("val"));
                    cols.put(col, val);
                }
```

### DataFlowIssue
Dereference of `metadata.getColumns().getNamedColumns()` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultDeserializer.java`
#### Snippet
```java
            } else {
                JsonNode namedCols = rowResult.get("cols");
                for (NamedColumnDescription namedCol : metadata.getColumns().getNamedColumns()) {
                    JsonNode valNode = namedCols.get(namedCol.getLongName());
                    if (valNode != null) {
```

### DataFlowIssue
Method invocation `getRowMetadata` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowSelectionDeserializer.java`
#### Snippet
```java
        String tableName = node.get("table").textValue();
        TableMetadata metadata = metadataCache.getMetadata(tableName);
        Iterable<byte[]> rows = AtlasDeserializers.deserializeRows(metadata.getRowMetadata(), node.get("rows"));
        Iterable<byte[]> columns = AtlasDeserializers.deserializeNamedCols(metadata.getColumns(), node.get("cols"));
        if (Iterables.isEmpty(columns)) {
```

### DataFlowIssue
Argument `dynamicColumn` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultSerializer.java`
#### Snippet
```java
                byte[] val = colVal.getValue();
                DynamicColumnDescription dynamicColumn = columns.getDynamicColumn();
                AtlasSerializers.serializeDynamicColumn(jgen, dynamicColumn, col);
                jgen.writeFieldName("val");
                AtlasSerializers.serializeVal(jgen, dynamicColumn.getValue(), val);
```

### DataFlowIssue
Dereference of `namedColumns` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableRowResultSerializer.java`
#### Snippet
```java
            SortedMap<byte[], byte[]> columnValues = result.getColumns();
            Set<NamedColumnDescription> namedColumns = columns.getNamedColumns();
            for (NamedColumnDescription description : namedColumns) {
                byte[] col = PtBytes.toCachedBytes(description.getShortName());
                byte[] val = columnValues.get(col);
```

### DataFlowIssue
Argument `value.getProtoDescriptor()` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataSerializer.java`
#### Snippet
```java
            case PROTO:
                jgen.writeObjectFieldStart("type");
                serialize(jgen, value.getProtoDescriptor());
                jgen.writeEndObject();
                break;
```

### DataFlowIssue
Method invocation `getColumnNameDesc` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataSerializer.java`
#### Snippet
```java
            DynamicColumnDescription dynamicColumn = columnMetadata.getDynamicColumn();
            jgen.writeArrayFieldStart("column");
            serialize(jgen, dynamicColumn.getColumnNameDesc());
            jgen.writeEndArray();
            jgen.writeObjectFieldStart("value");
```

### DataFlowIssue
Dereference of `columnMetadata.getNamedColumns()` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataSerializer.java`
#### Snippet
```java
            jgen.writeArrayFieldStart("columns");

            for (NamedColumnDescription namedColumn : columnMetadata.getNamedColumns()) {
                jgen.writeStartObject();
                jgen.writeObjectField("name", namedColumn.getShortName());
```

### DataFlowIssue
Argument `description.getProtoDescriptor()` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
                break;
            case PROTO:
                Message.Builder builder = DynamicMessage.newBuilder(description.getProtoDescriptor());
                try {
                    ForkedJsonFormat.merge(node.toString(), builder);
```

### DataFlowIssue
Argument `colDescription.getDynamicColumn()` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
        ColumnMetadataDescription colDescription = metadata.getColumns();
        if (colDescription.hasDynamicColumns()) {
            byte[] col = deserializeDynamicCol(colDescription.getDynamicColumn(), node.get("col"));
            byte[] val = deserializeVal(colDescription.getDynamicColumn().getValue(), node.get("val"));
            return ImmutableList.of(Maps.immutableEntry(Cell.create(row, col), val));
```

### DataFlowIssue
Argument `colDescription.getDynamicColumn()` might be null
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java
    public static byte[] deserializeCol(ColumnMetadataDescription colDescription, JsonNode node) {
        if (colDescription.hasDynamicColumns()) {
            return deserializeDynamicCol(colDescription.getDynamicColumn(), node);
        } else {
            return deserializeNamedCol(colDescription, node);
```

### DataFlowIssue
Dereference of `colDescription.getNamedColumns()` may produce `NullPointerException`
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/AtlasDeserializers.java`
#### Snippet
```java

    private static NamedColumnDescription getNamedCol(ColumnMetadataDescription colDescription, String longName) {
        for (NamedColumnDescription description : colDescription.getNamedColumns()) {
            if (longName.equals(description.getLongName())) {
                return description;
```

### DataFlowIssue
@Nullable method 'apply' always returns a non-null value
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksTokens.java`
#### Snippet
```java
        return new Function<HeldLocksToken, LockRefreshToken>() {
            @Override
            @Nullable
            public LockRefreshToken apply(@Nullable HeldLocksToken input) {
                return input.getLockRefreshToken();
```

### DataFlowIssue
Method invocation `getLockRefreshToken` may produce `NullPointerException`
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksTokens.java`
#### Snippet
```java
            @Nullable
            public LockRefreshToken apply(@Nullable HeldLocksToken input) {
                return input.getLockRefreshToken();
            }
        };
```

### DataFlowIssue
Method invocation `isEmpty` may produce `NullPointerException`
in `lock-api-objects/src/main/java/com/palantir/lock/LockClient.java`
#### Snippet
```java
    @JsonIgnore
    public boolean isAnonymous() {
        return clientId.isEmpty();
    }

```

### DataFlowIssue
Argument `lockTimeout` might be null
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
     */
    public HeldLocksGrant refresh(long newExpirationDateMs) {
        return new HeldLocksGrant(grantId, creationDateMs, newExpirationDateMs, lockMap, lockTimeout, versionId);
    }

```

### DataFlowIssue
Argument `lockTimeout` might be null
in `lock-api-objects/src/main/java/com/palantir/lock/HeldLocksGrant.java`
#### Snippet
```java
            return lockMap.isEmpty()
                    ? new HeldLocksGrant(grantId)
                    : new HeldLocksGrant(grantId, creationDateMs, expirationDateMs, lockMap, lockTimeout, versionId);
        }
    }
```

### DataFlowIssue
Method invocation `size` may produce `NullPointerException`
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
                    + ", versionId=" + versionId //
                    + ", lockGroupBehavior=" + lockGroupBehavior //
                    + ", lockCount=" + lockMap.size() //
                    + ", firstLock=" + Iterables.getFirst(lockMap.entries(), "") //
                    + '}';
```

### DataFlowIssue
Argument `blockingDuration` might be null
in `lock-api-objects/src/main/java/com/palantir/lock/LockRequest.java`
#### Snippet
```java
                builder.doNotBlock();
            } else if (blockingMode == BlockingMode.BLOCK_UNTIL_TIMEOUT) {
                builder.blockForAtMost(blockingDuration);
            } else if (blockingMode == BlockingMode.BLOCK_INDEFINITELY_THEN_RELEASE) {
                builder.lockAndRelease();
```

### DataFlowIssue
Unboxing of `element.argument()` may produce `NullPointerException`
in `timestamp-client/src/main/java/com/palantir/timestamp/RequestBatchingTimestampService.java`
#### Snippet
```java
            long endExclusive = 0;
            for (BatchElement<Integer, TimestampRange> element : batch) {
                int timestampsRequired = element.argument();
                if (element.argument() <= endExclusive - startInclusive) {
                    element.result().set(createExclusiveRange(startInclusive, startInclusive + timestampsRequired));
```

### DataFlowIssue
Unboxing of `element.argument()` may produce `NullPointerException`
in `timestamp-client/src/main/java/com/palantir/timestamp/RequestBatchingTimestampService.java`
#### Snippet
```java
            for (BatchElement<Integer, TimestampRange> element : batch) {
                int timestampsRequired = element.argument();
                if (element.argument() <= endExclusive - startInclusive) {
                    element.result().set(createExclusiveRange(startInclusive, startInclusive + timestampsRequired));
                    startInclusive += timestampsRequired;
```

### DataFlowIssue
Argument `latestStreamId` might be null
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/todo/TodoClient.java`
#### Snippet
```java
                        SafeArg.of("latestStreamId", latestStreamId),
                        UnsafeArg.of("streamReference", PtBytes.toString(streamReference)));
                Map<Long, byte[]> theMap = ImmutableMap.of(latestStreamId, streamReference);
                streamStore.unmarkStreamsAsUsed(transaction, theMap);
            });
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/lock/SingleLockService.java`
#### Snippet
```java
                    .doNotBlock()
                    .build();
            token = lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
            log.info(
                    "Attempted to acquire the lock {} in a single lock service; got {}",
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepableCellFilter.java`
#### Snippet
```java
        }

        tsToSweep = checkIfLastShouldBeSwept(tsToSweep, candidate.isLatestValueEmpty(), lastIsCommittedBeforeSweepTs);
        boolean shouldAddSentinel = sweeper.shouldAddSentinels() && !tsToSweep.isEmpty();
        tsToSweep.addAll(uncommittedTs);
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueCleaner.java`
#### Snippet
```java
                .map(SweepQueueUtils::partitionFineToCoarse)
                .collect(Collectors.toSet());
        coarsePartitions = removeLastPartitionIfNotComplete(coarsePartitions, lastTs);

        sweepableTimestamps.deleteCoarsePartitions(shardStrategy, coarsePartitions);
```

### DataFlowIssue
Unboxing of `rr.getWriteCount()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
        return ImmutableSweepPriority.builder()
                .tableRef(TableReference.createUnsafe(rr.getRowName().getFullTableName()))
                .writeCount(rr.hasWriteCount() ? rr.getWriteCount() : 0L)
                .lastSweepTimeMillis(
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
```

### DataFlowIssue
Argument `rr.getLastSweepTime()` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                .writeCount(rr.hasWriteCount() ? rr.getWriteCount() : 0L)
                .lastSweepTimeMillis(
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
```

### DataFlowIssue
Unboxing of `rr.getMinimumSweptTimestamp()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                .lastSweepTimeMillis(
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
                .cellTsPairsExamined(rr.hasCellsExamined() ? rr.getCellsExamined() : 0L)
```

### DataFlowIssue
Unboxing of `rr.getCellsDeleted()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                        rr.hasLastSweepTime() ? OptionalLong.of(rr.getLastSweepTime()) : OptionalLong.empty())
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
                .cellTsPairsExamined(rr.hasCellsExamined() ? rr.getCellsExamined() : 0L)
                .build();
```

### DataFlowIssue
Unboxing of `rr.getCellsExamined()` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
                .minimumSweptTimestamp(rr.hasMinimumSweptTimestamp() ? rr.getMinimumSweptTimestamp() : Long.MIN_VALUE)
                .staleValuesDeleted(rr.hasCellsDeleted() ? rr.getCellsDeleted() : 0L)
                .cellTsPairsExamined(rr.hasCellsExamined() ? rr.getCellsExamined() : 0L)
                .build();
    }
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java
            List<BatchElement<CasRequest, Void>> requests, Function<CasRequest, ByteBuffer> valueExtractor) {
        return KeyedStream.of(requests)
                .mapKeys(elem -> elem.argument().cell())
                .map(elem -> valueExtractor.apply(elem.argument()).array())
                .collectToMap();
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequestBatch.java`
#### Snippet
```java
            } else {
                // The request failed because my actual and expected did not match
                byte[] actualValue = ex.getActualValues().get(req.argument().cell());
                req.result().setException(CasRequest.failure(req.argument(), Optional.ofNullable(actualValue)));
            }
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java
        RangeRequest.Builder range = RangeRequest.builder();
        if (startRow != null) {
            range = range.startRowInclusive(startRow);
        }
        if (endRow != null) {
```

### DataFlowIssue
Variable is already assigned to this value
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServiceScrubberStore.java`
#### Snippet
```java
        }
        if (endRow != null) {
            range = range.endRowExclusive(endRow);
        }
        return keyValueService.getRange(
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
    static boolean shouldRetry(BatchElement<CasRequest, Void> req, MultiCheckAndSetException ex) {
        CasRequest casRequest = req.argument();
        Cell cell = casRequest.cell();

        if (!ex.getActualValues().containsKey(cell)) {
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
        List<CasRequestBatch> pendingBatchedRequests = KeyedStream.stream(pendingUpdates.stream()
                        .collect(Collectors.groupingBy(
                                elem -> ByteBuffer.wrap(elem.argument().cell().getRowName()))))
                .map((row, requests) -> new CasRequestBatch(tableRef, row.array(), requests))
                .values()
```

### DataFlowIssue
Method invocation `cell` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java

        Map<Cell, List<BatchElement<CasRequest, Void>>> partitionedElems = batch.stream()
                .collect(Collectors.groupingBy(elem -> elem.argument().cell()));

        ImmutableList.Builder<BatchElement<CasRequest, Void>> requestsToProcess = ImmutableList.builder();
```

### DataFlowIssue
Method invocation `rank` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/MarkAndCasConsensusForgettingStore.java`
#### Snippet
```java
                partitionedElems.entrySet()) {
            List<BatchElement<CasRequest, Void>> sortedPendingRequests = requestedUpdatesForCell.getValue().stream()
                    .sorted(Comparator.comparing(elem -> elem.argument().rank()))
                    .collect(Collectors.toList());
            if (!sortedPendingRequests.isEmpty()) {
```

### DataFlowIssue
Argument `cellReference` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValueStoreImpl.java`
#### Snippet
```java
                        values.with(map -> map.remove(cellReference));
                    }
                    metrics.decreaseCacheSize(EntryWeigher.INSTANCE.weigh(cellReference, value));
                })
                .build();
```

### DataFlowIssue
Argument `value` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValueStoreImpl.java`
#### Snippet
```java
                        values.with(map -> map.remove(cellReference));
                    }
                    metrics.decreaseCacheSize(EntryWeigher.INSTANCE.weigh(cellReference, value));
                })
                .build();
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AdvisoryLockConditionSuppliers.java`
#### Snippet
```java
            HeldLocksToken response;
            try {
                response = lockService.lockAndGetHeldLocks(LockClient.ANONYMOUS.getClientId(), lockRequest);
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### DataFlowIssue
Method invocation `startTimestamp` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
            EncodingTransactionService delegate, BatchElement<TimestampPair, Void> batchElem) {
        Cell cell = delegate.getCellEncodingStrategy()
                .encodeStartTimestampAsCell(batchElem.argument().startTimestamp());
        KeyAlreadyExistsException exception = new KeyAlreadyExistsException(
                "Failed because other client-side element succeeded", ImmutableList.of(cell));
```

### DataFlowIssue
Method invocation `startTimestamp` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
                MultimapBuilder.hashKeys().hashSetValues().build();
        batchElements.forEach(batchElement ->
                startTimestampKeyedBatchElements.put(batchElement.argument().startTimestamp(), batchElement));

        while (!startTimestampKeyedBatchElements.isEmpty()) {
```

### DataFlowIssue
Method invocation `commitTimestamp` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
            try {
                delegate.putUnlessExists(KeyedStream.stream(batch)
                        .map(batchElement -> batchElement.argument().commitTimestamp())
                        .collectToMap());
                markBatchSuccessful(startTimestampKeyedBatchElements, batch);
```

### DataFlowIssue
Unboxing of `Defaults.defaultValue(long.class)` may produce `NullPointerException`
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosValue.java`
#### Snippet
```java
            leaderUuid = message.getLeaderUUID();
        }
        long seq = Defaults.defaultValue(long.class);
        if (message.hasSeq()) {
            seq = message.getSeq();
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
        switch (event.function()) {
            case RequestType.UNLOCK:
                return event.value().equals(OkEvent.UNLOCK_FAILURE);
            case RequestType.LOCK:
                return event.value().equals(OkEvent.LOCK_FAILURE);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
                return event.value().equals(OkEvent.UNLOCK_FAILURE);
            case RequestType.LOCK:
                return event.value().equals(OkEvent.LOCK_FAILURE);
            case RequestType.REFRESH:
                return event.value().equals(OkEvent.REFRESH_FAILURE);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
                return event.value().equals(OkEvent.LOCK_FAILURE);
            case RequestType.REFRESH:
                return event.value().equals(OkEvent.REFRESH_FAILURE);
            case RequestType.TIMESTAMP:
                return event.value().equals(OkEvent.TIMESTAMP_FAILURE);
```

### DataFlowIssue
Method invocation `equals` may produce `NullPointerException`
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/utils/EventUtils.java`
#### Snippet
```java
                return event.value().equals(OkEvent.REFRESH_FAILURE);
            case RequestType.TIMESTAMP:
                return event.value().equals(OkEvent.TIMESTAMP_FAILURE);
            default:
                return false;
```

### DataFlowIssue
Method invocation `getCells` may produce `NullPointerException`
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                }

                Map<Cell, byte[]> currentCells = Maps2.fromEntries(currentRow.getCells());
                if (writesByTable.get(table) != null) {
                    // We don't want to verify any reads that we wrote to cause
```

### DataFlowIssue
Argument `previousEvent.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/MonotonicChecker.java`
#### Snippet
```java
            if (latestEventPerProcess.containsKey(process)) {
                OkEvent previousEvent = latestEventPerProcess.get(process);
                long previousTimestamp = Long.parseLong(previousEvent.value());
                long timestamp = Long.parseLong(event.value());
                if (timestamp <= previousTimestamp) {
```

### DataFlowIssue
Argument `event.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/MonotonicChecker.java`
#### Snippet
```java
                OkEvent previousEvent = latestEventPerProcess.get(process);
                long previousTimestamp = Long.parseLong(previousEvent.value());
                long timestamp = Long.parseLong(event.value());
                if (timestamp <= previousTimestamp) {
                    errors.add(previousEvent);
```

### DataFlowIssue
Argument `poolName` might be null
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
                    e);
        }
        return JMX.newMBeanProxy(mbeanServer, poolName, HikariPoolMXBean.class);
    }

```

### DataFlowIssue
Argument `event.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/NonOverlappingReadsMonotonicChecker.java`
#### Snippet
```java
            OkEvent lastAcknowledgedRead = lastAcknowledgedReadBefore(invoke.time());
            if (lastAcknowledgedRead != null) {
                long timestamp = Long.parseLong(event.value());
                long lastAcknowledgedTimestamp = Long.parseLong(lastAcknowledgedRead.value());
                if (lastAcknowledgedTimestamp >= timestamp) {
```

### DataFlowIssue
Argument `lastAcknowledgedRead.value()` might be null
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/timestamp/NonOverlappingReadsMonotonicChecker.java`
#### Snippet
```java
            if (lastAcknowledgedRead != null) {
                long timestamp = Long.parseLong(event.value());
                long lastAcknowledgedTimestamp = Long.parseLong(lastAcknowledgedRead.value());
                if (lastAcknowledgedTimestamp >= timestamp) {
                    errors.add(lastAcknowledgedRead);
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AssertLockedKeyValueService.java`
#### Snippet
```java
                            .lockAsManyAsPossible()
                            .build();
                    LockRefreshToken lock = lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
                    Preconditions.checkArgument(lock == null, "these should already be held");
                }
```

### DataFlowIssue
Argument `LockClient.ANONYMOUS.getClientId()` might be null
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AssertLockedKeyValueService.java`
#### Snippet
```java
                            .doNotBlock()
                            .build();
                    LockRefreshToken lock = lockService.lock(LockClient.ANONYMOUS.getClientId(), request);
                    Preconditions.checkArgument(lock != null, "these should already be waited for");
                }
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        long storedCommit = commitTimestamps.get(getStartTimestamp());
        if (storedCommit != commitTs && storedCommit != TransactionConstants.FAILED_COMMIT_TS) {
            Validate.isTrue(false, "Commit value is wrong. startTs %s  commitTs: %s", getStartTimestamp(), commitTs);
        }
        return storedCommit == commitTs;
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            Cell cell = cellEntry.getKey();
            if (!writes.containsKey(cell)) {
                Validate.isTrue(false, "Missing write for cell: %s for table %s", cellToConflict.get(cell), table);
            }
            if (!conflictingValues.containsKey(cell)) {
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                // This error case could happen if our locks expired.
                throwIfPreCommitRequirementsNotMet(commitLocksToken, getStartTimestamp());
                Validate.isTrue(
                        false, "Missing conflicting value for cell: %s for table %s", cellToConflict.get(cell), table);
            }
```

### DataFlowIssue
The call to 'isTrue' always fails, according to its method contracts
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                // This error case could happen if our locks expired.
                throwIfPreCommitRequirementsNotMet(commitLocksToken, getStartTimestamp());
                Validate.isTrue(
                        false,
                        "Wrong timestamp for cell in table %s Expected: %s Actual: %s",
```

### DataFlowIssue
Unboxing of `Defaults.defaultValue(long.class)` may produce `NullPointerException`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorState.java`
#### Snippet
```java
        this.lastAcceptedId = null;
        this.lastAcceptedValue = null;
        this.version = Defaults.defaultValue(long.class);
    }

```

### DataFlowIssue
Unboxing of `Defaults.defaultValue(long.class)` may produce `NullPointerException`
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorState.java`
#### Snippet
```java
            val = PaxosValue.hydrateFromProto(message.getLastAcceptedValue());
        }
        return new PaxosAcceptorState(pid, aid, val, Defaults.defaultValue(long.class));
    }

```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");
```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");
```

### DataFlowIssue
Method invocation `getKey` may produce `NullPointerException`
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");
```

### DataFlowIssue
Unboxing of `v` may produce `NullPointerException`
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/bank/BankBalanceUtils.java`
#### Snippet
```java
            }

            newBalances.compute(from, (k, v) -> v - transferAmount);
            newBalances.compute(to, (k, v) -> v + transferAmount);
        }
```

### DataFlowIssue
Unboxing of `v` may produce `NullPointerException`
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/bank/BankBalanceUtils.java`
#### Snippet
```java

            newBalances.compute(from, (k, v) -> v - transferAmount);
            newBalances.compute(to, (k, v) -> v + transferAmount);
        }
        return ImmutableMap.copyOf(newBalances);
```

### DataFlowIssue
Argument `Containers.class.getResourceAsStream(configResource)` might be null
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/Containers.java`
#### Snippet
```java
        try {
            File configFile = File.createTempFile("config", ".yml");
            IOUtils.copy(Containers.class.getResourceAsStream(configResource), new FileOutputStream(configFile));
            return configFile.getPath();
        } catch (IOException e) {
```

## RuleId[id=SimplifyStreamApiCallChains]
### SimplifyStreamApiCallChains
'filter()' and 'map()' can be swapped
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/management/TimeLockManagementResource.java`
#### Snippet
```java
                .flatMap(Set::stream)
                .filter(namespace -> !namespace.value().equals(PaxosTimeLockConstants.LEADER_PAXOS_NAMESPACE))
                .map(Client::value)
                .collect(Collectors.toSet()));
    }
```

### SimplifyStreamApiCallChains
Can be replaced with '.values().stream()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
            recordModifications(values.size());
            recordModificationsSize(values.entrySet().stream()
                    .mapToLong(cellEntry -> cellEntry.getValue().length)
                    .sum());
        }
```

### SimplifyStreamApiCallChains
Can be replaced with '.values().stream()'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
                newWrites += entry.getValue().size();
                writesSize += entry.getValue().entrySet().stream()
                        .mapToLong(cellEntry -> cellEntry.getValue().length)
                        .sum();
            }
```

## RuleId[id=PlaceholderCountMatchesArgumentCount]
### PlaceholderCountMatchesArgumentCount
More arguments provided (1) than placeholders specified (0)
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
    public ListenableFuture<Map<Cell, Value>> getAsync(TableReference tableRef, Map<Cell, Long> timestampByCell) {
        if (timestampByCell.isEmpty()) {
            log.info("Attempted get with no specified cells", LoggingArgs.tableRef(tableRef));
            return Futures.immediateFuture(ImmutableMap.of());
        }
```

## RuleId[id=DeprecatedIsStillUsed]
### DeprecatedIsStillUsed
Deprecated member 'getRandomBitCount' is still used
in `lock-api/src/main/java/com/palantir/lock/LockServerOptions.java`
#### Snippet
```java
    @SuppressWarnings("InlineMeSuggester")
    @Value.Default
    public int getRandomBitCount() {
        return Long.SIZE;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getMaxAllowedBlockingDuration' is still used
in `lock-api/src/main/java/com/palantir/lock/LockServerOptions.java`
#### Snippet
```java
    @SuppressWarnings("InlineMeSuggester")
    @Value.Default
    public TimeDuration getMaxAllowedBlockingDuration() {
        return SimpleTimeDuration.of(60, TimeUnit.SECONDS);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getClobString' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract String getClobString(int col, int clobLength) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getDouble' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract double getDouble(int col) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getLong' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    long getLong(int col) throws PalantirSqlException {
        return getLong(col, 0);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getBlob' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java
    @Override
    @Deprecated
    public abstract byte[] getBlob(int col, int blobLength) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getLongObject' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract Long getLongObject(int col) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getDoubleObject' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract Double getDoubleObject(int col) throws PalantirSqlException;

    @Deprecated // use the get by colname variant instead
```

### DeprecatedIsStillUsed
Deprecated member 'getInteger' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AbstractAgnosticResultRow.java`
#### Snippet
```java

    @Deprecated // use the get by colname variant instead
    protected abstract int getInteger(int col) throws PalantirSqlException;

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'getBinaryInputStream' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    InputStream getBinaryInputStream(int col) throws PalantirSqlException {
        return ResultSets.getBinaryStream(results, col);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getDateTime' is still used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java
    @Deprecated
    // use the get by colname variant instead
    DateTime getDateTime(int col) throws PalantirSqlException {
        Object rawObj = ResultSets.getObject(results, col);
        if (rawObj == null) {
```

### DeprecatedIsStillUsed
Deprecated member 'fromInternalTableName' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/TableReference.java`
#### Snippet
```java
     */
    @Deprecated
    public static TableReference fromInternalTableName(String tableName) {
        if (tableName.startsWith("_")) {
            return createWithEmptyNamespace(tableName);
```

### DeprecatedIsStillUsed
Deprecated member 'registerOrGetMeter' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/util/MetricsManager.java`
#### Snippet
```java
     */
    @Deprecated
    public Meter registerOrGetMeter(Class<?> clazz, String metricPrefix, String meterName) {
        return registerOrGetTaggedMeter(clazz, MetricRegistry.name(metricPrefix, meterName), Map.of());
    }
```

### DeprecatedIsStillUsed
Deprecated member 'cellBatchSize' is still used
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            name = {"--cell-batch-size"},
            description = "Sweeper cell batch size. This option has been deprecated " + "in favor of --read-limit")
    Integer cellBatchSize;

    @Option(
```

### DeprecatedIsStillUsed
Deprecated member 'batchSize' is still used
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
            description =
                    "Sweeper row batch size. This option has been deprecated " + "in favor of --candidate-batch-hint")
    Integer batchSize;

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'runTaskWithConditionWithRetry' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    @Deprecated
    @Timed
    default <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            com.google.common.base.Supplier<C> guavaSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        Supplier<C> javaSupplier = guavaSupplier;
```

### DeprecatedIsStillUsed
Deprecated member 'runTaskWithLocksWithRetry' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    @Deprecated
    @Timed
    default <T, E extends Exception> T runTaskWithLocksWithRetry(
            Iterable<HeldLocksToken> lockTokens,
            com.google.common.base.Supplier<LockRequest> guavaSupplier,
```

### DeprecatedIsStillUsed
Deprecated member 'runTaskWithLocksWithRetry' is still used
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    @Deprecated
    @Timed
    default <T, E extends Exception> T runTaskWithLocksWithRetry(
            com.google.common.base.Supplier<LockRequest> guavaSupplier, LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException, LockAcquisitionException {
```

### DeprecatedIsStillUsed
Deprecated member 'withArg' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArg(Object arg) {
        this.args.add(arg);
        return this;
```

### DeprecatedIsStillUsed
Deprecated member 'withArgs' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArgs(Object arg1, Object arg2, Object arg3) {
        this.args.add(arg1);
        this.args.add(arg2);
```

### DeprecatedIsStillUsed
Deprecated member 'withArgs' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArgs(Iterable<?> newArgs) {
        Iterables.addAll(args, newArgs);
        return this;
```

### DeprecatedIsStillUsed
Deprecated member 'withArgs' is still used
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/FullQuery.java`
#### Snippet
```java
     */
    @Deprecated
    public FullQuery withArgs(Object arg1, Object arg2) {
        this.args.add(arg1);
        this.args.add(arg2);
```

### DeprecatedIsStillUsed
Deprecated member 'getLockLog' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/TimeLockServices.java`
#### Snippet
```java
     */
    @Deprecated
    LockLog getLockLog();

    @Override
```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticCollector' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java
 */
@Deprecated
public class LockDiagnosticCollector implements LockEvents {

    private static final SafeLogger log = SafeLoggerFactory.get(LockDiagnosticCollector.class);
```

### DeprecatedIsStillUsed
Deprecated member 'logLockDiagnosticInfo' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java
     */
    @Deprecated
    void logLockDiagnosticInfo() {
        lockDiagnosticInfoCollector.ifPresent(LockDiagnosticCollector::logCurrentState);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'registerLockImmutableTimestampRequest' is still used
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java
     */
    @Deprecated
    public void registerLockImmutableTimestampRequest(UUID requestId, long timestamp, AsyncResult<?> result) {
        registerRequest(ImmutableRequestInfo.of(requestId, Long.toString(timestamp), ImmutableSet.of()), result);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'forPersister' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
     */
    @Deprecated
    public static ColumnValueDescription forPersister(Class<? extends Persister<?>> clazz, Compression compression) {
        return new ColumnValueDescription(
                Format.PERSISTER, clazz.getName(), clazz.getCanonicalName(), compression, null);
```

### DeprecatedIsStillUsed
Deprecated member 'forPersister' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
     */
    @Deprecated
    public static ColumnValueDescription forPersister(Class<? extends Persister<?>> clazz) {
        return forPersister(clazz, Compression.NONE);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'getPersister' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
     */
    @Deprecated
    public Persister<?> getPersister() {
        Preconditions.checkArgument(Format.PERSISTER == format);
        Class<?> importClass = getImportClass();
```

### DeprecatedIsStillUsed
Deprecated member 'compressBlocksInDb' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamStoreDefinitionBuilder.java`
#### Snippet
```java
     */
    @Deprecated
    public StreamStoreDefinitionBuilder compressBlocksInDb() {
        streamTables.forEach((tableName, streamTableBuilder) -> streamTableBuilder.compressBlocksInDb());
        return this;
```

### DeprecatedIsStillUsed
Deprecated member 'loadStream' is still used
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/GenericStreamStore.java`
#### Snippet
```java
     */
    @Deprecated
    InputStream loadStream(Transaction tx, ID id);

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepCellBatchSize' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepCellBatchSize();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepCandidateBatchHint' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepCandidateBatchHint();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepReadLimit' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepReadLimit();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepDeleteBatchHint' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepDeleteBatchHint();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'getSweepBatchSize' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    @Deprecated
    @Nullable
    public abstract Integer getSweepBatchSize();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'maybeEnhancedLockLog' is still used
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/AsyncTimeLockServicesCreator.java`
#### Snippet
```java
     */
    @Deprecated
    private LockLog maybeEnhancedLockLog(Client client) {
        return Optional.ofNullable(lockDiagnosticConfig.get(client))
                .map(lockLog::withLockRequestDiagnosticCollection)
```

### DeprecatedIsStillUsed
Deprecated member 'createLockAndTimestampServicesForCli' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
     */
    @Deprecated
    public static LockAndTimestampServices createLockAndTimestampServicesForCli(
            MetricsManager metricsManager,
            AtlasDbConfig config,
```

### DeprecatedIsStillUsed
Deprecated member 'lockDiagnosticConfig' is still used
in `timelock-agent/src/main/java/com/palantir/timelock/config/TimeLockInstallConfiguration.java`
#### Snippet
```java
    @Deprecated
    @JsonProperty("lock-diagnostic-config")
    Map<Client, LockDiagnosticConfig> lockDiagnosticConfig();

    @Value.Default
```

### DeprecatedIsStillUsed
Deprecated member 'enableTimestampBatching' is still used
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/TimestampClientConfig.java`
#### Snippet
```java
    @SuppressWarnings("InlineMeSuggester")
    @Deprecated
    public boolean enableTimestampBatching() {
        return true;
    }
```

### DeprecatedIsStillUsed
Deprecated member 'MutuallyExclusiveSetLock' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     */
    @Deprecated
    public MutuallyExclusiveSetLock(boolean fair) {
        this(fair, null);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'MutuallyExclusiveSetLock' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     */
    @Deprecated
    public MutuallyExclusiveSetLock() {
        this(false);
    }
```

### DeprecatedIsStillUsed
Deprecated member 'MutuallyExclusiveSetLock' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/MutuallyExclusiveSetLock.java`
#### Snippet
```java
     */
    @Deprecated
    public MutuallyExclusiveSetLock(boolean fair, Comparator<? super T> comparator) {
        this.comparator = comparator;
        this.syncMap = Caffeine.newBuilder().weakValues().build(key -> new ReentrantLock(fair));
```

### DeprecatedIsStillUsed
Deprecated member 'registerForCleanup' is still used
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
     */
    @Deprecated
    private static void registerForCleanup(SoftCache<?, ?> cache) {
        cacheQueue.add(new WeakReference<SoftCache<?, ?>>(cache));
    }
```

### DeprecatedIsStillUsed
Deprecated member 'mutationBatchSizeBytes' is still used
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java
     */
    @Deprecated
    Optional<Integer> mutationBatchSizeBytes();

    /**
```

### DeprecatedIsStillUsed
Deprecated member 'sweepReadThreads' is still used
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfig.java`
#### Snippet
```java
     */
    @Deprecated
    Optional<Integer> sweepReadThreads();

    Optional<CassandraJmxCompactionConfig> jmx();
```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticConfig' is still used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LockDiagnosticConfig.java`
#### Snippet
```java
@JsonDeserialize(as = ImmutableLockDiagnosticConfig.class)
@JsonSerialize(as = ImmutableLockDiagnosticConfig.class)
public interface LockDiagnosticConfig {

    @JsonProperty("maximum-size")
```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticComponents' is still used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LockDiagnosticComponents.java`
#### Snippet
```java
@Deprecated
@Value.Immutable
public interface LockDiagnosticComponents {
    ClientLockDiagnosticCollector clientLockDiagnosticCollector();

```

### DeprecatedIsStillUsed
Deprecated member 'LockDiagnosticConjureTimelockService' is still used
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LockDiagnosticConjureTimelockService.java`
#### Snippet
```java
 */
@Deprecated
public class LockDiagnosticConjureTimelockService implements ConjureTimelockService {
    private final ConjureTimelockService conjureDelegate;
    private final ClientLockDiagnosticCollector lockDiagnosticCollector;
```

## RuleId[id=RedundantComparatorComparing]
### RedundantComparatorComparing
'Entry.comparingByValue()' can be used instead
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TopNMetricPublicationController.java`
#### Snippet
```java
                .filter(Objects::nonNull)
                .entries()
                .sorted(Comparator.comparing(Map.Entry::getValue, comparator.reversed()))
                .limit(maxPermittedRank)
                .map(Map.Entry::getKey)
```

### RedundantComparatorComparing
'Entry.comparingByKey()' can be used instead
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/CellsSweeper.java`
#### Snippet
```java
    private String getMessage(Multimap<Cell, Long> cellTsPairsToSweep) {
        return cellTsPairsToSweep.entries().stream()
                .sorted(Comparator.comparing(Map.Entry::getKey))
                .map(entry -> entry.getKey().toString() + "->" + entry.getValue())
                .collect(Collectors.joining(", ", "[", "]"));
```

### RedundantComparatorComparing
'Entry.comparingByKey()' can be used instead
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                        localWrites,
                        remoteWrites,
                        Comparator.comparing(Map.Entry::getKey, cellComparator),
                        com.palantir.util.Pair::getLhSide),
                remoteWrites);
```

## RuleId[id=RedundantCollectionOperation]
### RedundantCollectionOperation
`contains` can be replaced with 'Map.containsKey()'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/compact/CompactPriorityCalculator.java`
#### Snippet
```java

        List<String> uncompactedTables = tableToLastTimeSwept.keySet().stream()
                .filter(table -> !tableToLastTimeCompacted.keySet().contains(table))
                .collect(Collectors.toList());

```

## RuleId[id=SwitchStatementWithTooFewBranches]
### SwitchStatementWithTooFewBranches
'switch' statement has too few case labels (1), and should probably be replaced with an 'if' statement
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java

        return snitchSupplier.get().flatMap(snitch -> {
            switch (snitch) {
                case EC2_SNITCH:
                    return ec2Supplier.get();
```

## RuleId[id=DuplicatedCode]
### DuplicatedCode
Duplicated code
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequests.java`
#### Snippet
```java
        for (int i = rowName.length - 1; i >= 0; i--) {
            if ((rowName[i] & 0xff) != 0xff) {
                byte[] ret = new byte[i + 1];
                System.arraycopy(rowName, 0, ret, 0, i + 1);
                ret[i]++;
                return ret;
            }
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/backup/transaction/Transactions3TableInteraction.java`
#### Snippet
```java
        long startTs = TransactionTableEntries.getStartTimestamp(entry);
        Cell cell = encodingStrategy.encodeStartTimestampAsCell(startTs);
        ByteBuffer rowKeyBb = ByteBuffer.wrap(cell.getRowName());
        ByteBuffer columnNameBb = ByteBuffer.wrap(cell.getColumnName());
        BoundStatement bound = preparedCheckStatement.bind(rowKeyBb, columnNameBb);
        return bound.setConsistencyLevel(ConsistencyLevel.QUORUM)
                .setSerialConsistencyLevel(ConsistencyLevel.SERIAL)
                .setReadTimeoutMillis(LONG_READ_TIMEOUT_MS)
                .setRetryPolicy(DefaultRetryPolicy.INSTANCE);
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/StatsTrackingKeyValueService.java`
#### Snippet
```java
            s.totalPutMillis.addAndGet(finish - start);
            s.totalPutCalls.incrementAndGet();

            // Only update stats after put was successful.
            s.totalPutCells.addAndGet(values.size());
            for (Map.Entry<Cell, byte[]> e : values.entrySet()) {
                incrementPutBytes(s, e.getKey(), e.getValue());
            }
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        int end = 0;
        if (size > 8) {
            ret[0] = (byte) 0xff;
            end = 1;
            size -= 8;
        }
        ret[end] = (byte) ((0xff << (9 - size)) & 0xff);

        int index = ret.length;
        while (index-- > end) {
            ret[index] |= (byte) ((int) value & 0xff);
            value >>>= 8;
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/ptobject/EncodingUtils.java`
#### Snippet
```java
        int index = size / 8;
        int mask = size % 8;
        long ret = 0;
        while (index < size) {
            int b = ((encoded[offset + index] ^ flipByte) & (0xff >>> mask));
            ret <<= 8;
            ret |= b;
            mask = 0;
            index++;
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
        for (int rangeId = 0; rangeId < numRangeBoundaries; rangeId++) {
            byte[] checkpoint = getCheckpoint(rangeId, tx);
            if (checkpoint != null) {
                log.info(
                        "({}/{}) Migration from table {} to table {} will start/resume at {}",
                        SafeArg.of("rangeId", rangeId),
                        SafeArg.of("numRangeBoundaries", numRangeBoundaries),
                        LoggingArgs.tableRef("srcTable", srcTable),
                        LoggingArgs.tableRef("destTable", destTable),
                        UnsafeArg.of("checkpoint", PtBytes.encodeHexString(checkpoint)));
                return;
            }
        }
        log.info(
                "Migration from table {} to {} has already been completed",
                LoggingArgs.tableRef("srcTable", srcTable),
                LoggingArgs.tableRef("destTable", destTable));
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
        final long maxBytes = TransactionConstants.WARN_LEVEL_FOR_QUEUED_BYTES / 2;
        byte[] start = getCheckpoint(rangeId, writeT);
        if (start == null) {
            return null;
        }
        RangeRequest.Builder builder = range.getBuilder().startRowInclusive(start);
        if (builder.isInvalidRange()) {
            return null;
        }
        RangeRequest rangeToUse = builder.build();
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/KvsRangeMigrator.java`
#### Snippet
```java
        for (Map.Entry<Cell, byte[]> e : values.entrySet()) {
            bytesPut.add(e.getValue().length + Cells.getApproxSizeOfCell(e.getKey()));
        }

        if (bytesPut.longValue() >= maxBytes) {
            lastRowName.set(rr.getRowName());
            return false;
        }
        return true;
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/RowOrDynamicColumnRenderer.java`
#### Snippet
```java
        List<String> vars = new ArrayList<>();
        if (desc.numberOfComponentsHashed() > 0) {
            renderComputeFirstNComponentHash(desc.numberOfComponentsHashed());
            String var = NameMetadataDescription.HASH_ROW_COMPONENT_NAME + "Bytes";
            vars.add(var);
            line(
                    "byte[] ",
                    var,
                    " = ",
                    ValueType.FIXED_LONG.getPersistCode(NameMetadataDescription.HASH_ROW_COMPONENT_NAME),
                    ";");
        }
        for (NameComponentDescription comp : components) {
            String var = varName(comp) + "Bytes";
            vars.add(var);
            line("byte[] ", var, " = ", comp.getType().getPersistCode(varName(comp)), ";");
            if (comp.getOrder() == ValueByteOrder.DESCENDING) {
                line("EncodingUtils.flipAllBitsInPlace(", var, ");");
            }
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/RowOrDynamicColumnRenderer.java`
#### Snippet
```java
            for (NameComponentDescription comp : components) {
                String var = varName(comp) + "Bytes";
                vars.add(var);
                line("byte[] ", var, " = ", comp.getType().getPersistCode(varName(comp)), ";");
                if (comp.getOrder() == ValueByteOrder.DESCENDING) {
                    line("EncodingUtils.flipAllBitsInPlace(", var, ");");
                }
            }
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/StreamStoreRenderer.java`
#### Snippet
```java
                    line();
                    line("private final ", TableFactory, " tables;");
                    line();
                    line("public ", IndexCleanupTask, "(Namespace namespace) {");
                    {
                        line("tables = ", TableFactory, ".of(namespace);");
                    }
                    line("}");
                    line();
                    cellsCleanedUp();
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
            this.Table = tableName + "Table";
            this.Row = tableName + "Row";
            this.Column = tableName + (isDynamic(this.table) ? "Column" : "NamedColumn");
            this.ColumnValue = tableName + (isDynamic(this.table) ? "ColumnValue" : "NamedColumnValue<?>");
            this.RowResult = tableName + "RowResult";
            this.Trigger = tableName + "Trigger";
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
            List<String> rowArgumentNames = new ArrayList<>();
            List<String> colArgumentNames = new ArrayList<>();
            List<TypeAndName> iterableArgNames = new ArrayList<>();
            boolean hasCol = index.getColumnNameToAccessData() != null;
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                    for (IndexComponent component : index.getColumnComponents()) {
                        String varName = renderIndexComponent(component);
                        colArgumentNames.add(varName);
                        if (component.isMultiple()) {
                            iterableArgNames.add(new TypeAndName(
                                    component.getRowKeyDescription().getType().getJavaClassName(), varName));
                        }
                    }

                    for (TypeAndName iterableArg : iterableArgNames) {
                        line("for (", iterableArg.toString(), " : ", iterableArg.name, "Iterable) {");
                    }

                    line(
                            indexName,
                            "Table.",
                            indexName,
                            "Row indexRow = ",
                            indexName,
                            "Table.",
                            indexName,
                            "Row.of(",
                            Joiner.on(", ").join(rowArgumentNames),
                            ");");
```

### DuplicatedCode
Duplicated code
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
                    {
                        if (isDynamic) {
                            line(
                                    Column,
                                    " col = ",
                                    Column,
                                    ".BYTES_HYDRATOR.hydrateFromBytes(result.getKey().getColumnName());");
                            line(
                                    table.getColumns()
                                            .getDynamicColumn()
                                            .getValue()
                                            .getJavaObjectTypeName(),
                                    " val = ",
                                    ColumnValue,
                                    ".hydrateValue(result.getValue());");
                            line("return ", ColumnValue, ".of(col, val);");
                        } else {
                            line(
                                    "return"
                                        + " shortNameToHydrator.get(PtBytes.toString(result.getKey().getColumnName())).hydrateFromBytes(result.getValue());");
                        }
                    }
                    line("});");
                    line("transformed.put(row, bv);");
```

### DuplicatedCode
Duplicated code
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        if (b == null) {
            throw new NullPointerException();
        } else if (off < 0 || len < 0 || len > b.length - off) {
            throw new IndexOutOfBoundsException();
        } else if (len == 0) {
            return 0;
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java
        List<Object[]> args = new ArrayList<>(entries.size());
        for (Map.Entry<Cell, Long> entry : entries) {
            Cell cell = entry.getKey();
            args.add(new Object[] {cell.getRowName(), cell.getColumnName(), entry.getValue()});
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbWriteTable.java`
#### Snippet
```java
        WhereClauses whereClauses = WhereClauses.create("m", range);

        List<Object> args = whereClauses.getArguments();
        List<String> clauses = whereClauses.getClauses();

        if (!clauses.isEmpty()) {
            query.append(" WHERE ");
            Joiner.on(" AND ").appendTo(query, clauses);
        }

        // execute the query
        conns.get().updateUnregisteredQuery(query.toString(), args.toArray());
```

### DuplicatedCode
Duplicated code
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleQueryFactory.java`
#### Snippet
```java
        List<String> bounds = new ArrayList<>(2);
        List<Object> args = new ArrayList<>(2);
        byte[] start = range.getStartInclusive();
        byte[] end = range.getEndExclusive();
        if (start.length > 0) {
            bounds.add(range.isReverse() ? "m.row_name <= ?" : "m.row_name >= ?");
            args.add(start);
        }
        if (end.length > 0) {
            bounds.add(range.isReverse() ? "m.row_name > ?" : "m.row_name < ?");
            args.add(end);
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/postgres/PostgresQueryFactory.java`
#### Snippet
```java
        FullQuery fullQuery = new FullQuery(query).withArgs(rows).withArg(ts);
        if (columnRangeSelection.getStartCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getStartCol());
        }
        if (columnRangeSelection.getEndCol().length > 0) {
            fullQuery = fullQuery.withArg(columnRangeSelection.getEndCol());
        }
        return fullQuery;
```

### DuplicatedCode
Duplicated code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/WriteReferencePersister.java`
#### Snippet
```java
                byte[] row = EncodingUtils.decodeSizedBytes(ref, offset);
                offset += EncodingUtils.sizeOfSizedBytes(row);
                byte[] column = EncodingUtils.decodeSizedBytes(ref, offset);
                offset += EncodingUtils.sizeOfSizedBytes(column);
                long isTombstone = EncodingUtils.decodeUnsignedVarLong(ref, offset);
                return Optional.of(ImmutableWriteReference.builder()
                        .tableRef(tableReference)
                        .cell(Cell.create(row, column))
                        .isTombstone(isTombstone == 1)
                        .build());
```

### DuplicatedCode
Duplicated code
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
        if (maxRow.length == 0) {
            rangeEnds.put(range, maxRow);
        }

        rangeEnds.compute(range, (unused, curVal) -> {
            if (curVal == null) {
                return maxRow;
            } else if (curVal.length == 0) {
                return curVal;
            }
            return Ordering.from(UnsignedBytes.lexicographicalComparator()).max(curVal, maxRow);
        });
```

### DuplicatedCode
Duplicated code
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/KvsGetRowsColumnRangeBenchmarks.java`
#### Snippet
```java
        int expectedNumCells = WideRowsTable.NUM_ROWS * WideRowsTable.NUM_COLS_PER_ROW;
        List<Map.Entry<Cell, Value>> loadedCells = new ArrayList<>(expectedNumCells);
        while (rowsColumnRange.hasNext()) {
            loadedCells.add(rowsColumnRange.next());
        }
        Preconditions.checkState(
                loadedCells.size() == expectedNumCells,
                "Should be %s cells, but were: %s",
                expectedNumCells,
                loadedCells.size());
        return loadedCells;
```

### DuplicatedCode
Duplicated code
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/AbstractWideRowsTable.java`
#### Snippet
```java
            Map<Cell, byte[]> values = Maps.newHashMapWithExpectedSize(numRows * numColumnsPerRow);
            for (int i = 0; i < numRows; i++) {
                for (int j = 0; j < numColumnsPerRow; j++) {
                    values.put(cell(i, j), Ints.toByteArray(i * numColumnsPerRow + j));
                }
            }
```

### DuplicatedCode
Duplicated code
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            char quote = currentToken.length() > 0 ? currentToken.charAt(0) : '\0';
            if ((quote != '\"') && (quote != '\'')) {
                throw parseException("Expected string.");
            }

            if ((currentToken.length() < 2) || (currentToken.charAt(currentToken.length() - 1) != quote)) {
                throw parseException("String missing ending quote.");
            }
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assertThat(values.get(Cell.create(row(1), column(2))).getContents()).isEqualTo(val(1, 2));
        assertThat(values.get(Cell.create(row(2), column(1))).getContents()).isEqualTo(val(2, 1));
        assertThat(values.get(Cell.create(row(2), column(2))).getContents()).isEqualTo(val(2, 2));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        keyValueService.put(TEST_TABLE, ImmutableMap.of(Cell.create(row(1), column(0)), val(0, 5)), TEST_TIMESTAMP);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(Cell.create(row(1), column(0)), val(0, 7)), TEST_TIMESTAMP + 1);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(Cell.create(row(1), column(1)), val(0, 5)), TEST_TIMESTAMP);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(Cell.create(row(1), column(1)), val(0, 7)), TEST_TIMESTAMP + 1);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assertNextElementMatches(values, Cell.create(row(1), column(0)), val(1, 0));
        assertNextElementMatches(values, Cell.create(row(1), column(2)), val(1, 2));
        assertNextElementMatches(values, TEST_CELL, val(0, 0));
        assertNextElementMatches(values, Cell.create(row(0), column(1)), val(0, 1));
        assertNextElementMatches(values, Cell.create(row(2), column(1)), val(2, 1));
        assertNextElementMatches(values, Cell.create(row(2), column(2)), val(2, 2));
        assertThat(values).isExhausted();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        long ts1 = 5L;
        long ts2 = 10L;
        long latestTs = 15L;

        keyValueService.putWithTimestamps(
                TEST_TABLE,
                ImmutableMultimap.of(
                        TEST_CELL, Value.create(val(0, 5), ts1),
                        TEST_CELL, Value.create(val(0, 7), ts2),
                        TEST_CELL, Value.create(val(0, 9), latestTs)));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        Cell row0col0 = Cell.create(row(0), column(0));
        Cell row0col1 = Cell.create(row(0), column(1));
        Cell row1col0 = Cell.create(row(1), column(0));

        long ts1Col0 = 5L;
        long ts2Col0 = 10L;
        long latestTsCol0 = 15L;

        long ts1Col1 = 2L;
        long ts2Col1 = 3L;
        long latestTsCol1 = 4L;

        keyValueService.put(TEST_TABLE, ImmutableMap.of(row0col0, val(0, 0)), ts1Col0);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(row0col0, val(0, 1)), ts2Col0);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(row0col0, val(1, 0)), latestTsCol0);

        keyValueService.put(TEST_TABLE, ImmutableMap.of(row1col0, val(0, 0)), ts1Col0);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(row1col0, val(0, 1)), ts2Col0);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(row1col0, val(1, 0)), latestTsCol0);

        keyValueService.put(TEST_TABLE, ImmutableMap.of(row0col1, val(0, 0)), ts1Col1);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(row0col1, val(0, 1)), ts2Col1);
        keyValueService.put(TEST_TABLE, ImmutableMap.of(row0col1, val(1, 0)), latestTsCol1);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assertThat(keyValueService.get(TEST_TABLE, ImmutableMap.of(row0col0, Long.MAX_VALUE)))
                .containsEntry(row0col0, Value.create(val(1, 0), latestTsCol0));
        assertThat(keyValueService.get(TEST_TABLE, ImmutableMap.of(row0col1, Long.MAX_VALUE)))
                .containsEntry(row0col1, Value.create(val(1, 0), latestTsCol1));
        assertThat(keyValueService.get(TEST_TABLE, ImmutableMap.of(row1col0, Long.MAX_VALUE)))
                .containsEntry(row1col0, Value.create(val(1, 0), latestTsCol0));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        long minTs = 0;

        keyValueService.addGarbageCollectionSentinelValues(TEST_TABLE, ImmutableSet.of(TEST_CELL));
        keyValueService.putWithTimestamps(
                TEST_TABLE,
                ImmutableMultimap.of(
                        TEST_CELL, Value.create(val(0, 5), minTs),
                        TEST_CELL, Value.create(val(0, 7), TEST_TIMESTAMP - 1),
                        TEST_CELL, Value.create(val(0, 9), TEST_TIMESTAMP)));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assumeTrue(checkAndSetSupported());
        Cell firstTestCell = Cell.create(row(0), column(0));
        Cell nextTestCell = Cell.create(row(0), column(1));

        keyValueService.checkAndSet(CheckAndSetRequest.newCell(TEST_TABLE, firstTestCell, val(0, 0)));
        keyValueService.checkAndSet(CheckAndSetRequest.newCell(TEST_TABLE, nextTestCell, val(0, 1)));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        assumeTrue(keyValueService.getCheckAndSetCompatibility().supportsMultiCheckAndSetOperations());
        keyValueService.createTable(TEST_TABLE, AtlasDbConstants.GENERIC_TABLE_METADATA);

        List<Cell> cells = IntStream.range(0, 5)
                .mapToObj(AbstractKeyValueServiceTest::cell)
                .collect(Collectors.toList());
        byte[] update = PtBytes.toBytes("update");
        ImmutableMap<Cell, byte[]> actualMap = ImmutableMap.of(
                cells.get(0), cells.get(0).getColumnName(),
                cells.get(2), cells.get(2).getColumnName(),
                cells.get(4), cells.get(4).getColumnName());
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        Map<Cell, byte[]> updateMap = cells.stream().collect(Collectors.toMap(x -> x, _ignore -> update));

        keyValueService.putUnlessExists(TEST_TABLE, actualMap);

        MultiCheckAndSetRequest request = MultiCheckAndSetRequest.builder()
                .tableRef(TEST_TABLE)
                .rowName(cells.get(0).getRowName())
                .expected(actualMap)
                .updates(updateMap)
                .build();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
        Map<Cell, byte[]> expectedMap = cells.stream().collect(Collectors.toMap(x -> x, Cell::getColumnName));
        Map<Cell, byte[]> updateMap = cells.stream().collect(Collectors.toMap(x -> x, _ignore -> update));

        keyValueService.putUnlessExists(TEST_TABLE, actualMap);

        MultiCheckAndSetRequest request = MultiCheckAndSetRequest.builder()
                .tableRef(TEST_TABLE)
                .rowName(cells.get(0).getRowName())
                .expected(expectedMap)
                .updates(updateMap)
                .build();

        assertThatThrownBy(() -> keyValueService.multiCheckAndSet(request))
                .isInstanceOf(MultiCheckAndSetException.class)
                .satisfies(exception -> {
                    MultiCheckAndSetException mcasException = (MultiCheckAndSetException) exception;
                    assertThat(mcasException.getActualValues()).containsExactlyInAnyOrderEntriesOf(actualMap);
                });
        assertThat(keyValueService.get(TEST_TABLE, cells.stream().collect(Collectors.toMap(x -> x, _ignore -> 1L))))
                .containsExactlyInAnyOrderEntriesOf(KeyedStream.stream(actualMap)
                        .map(val -> Value.create(val, 0L))
                        .collectToMap());
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        List<List<Cell>> sweptCells = sweptCellsAndSweepResults.getLhSide();
        SweepResults sweepResults = sweptCellsAndSweepResults.getRhSide();
        assertThat(Iterables.concat(sweptCells)).containsExactlyElementsOf(BIG_LIST_OF_CELLS);
        for (List<Cell> sweptBatch : sweptCells.subList(0, sweptCells.size() - 1)) {
            // We requested deleteBatchSize = 2, so we expect between 2 and 4 timestamps deleted at a time.
            // We also expect a single timestamp to be swept per each cell.
            assertThat(sweptBatch.size()).isBetween(deleteBatchSize, 2 * deleteBatchSize);
        }
        // The last batch can be smaller than deleteBatchSize
        assertThat(sweptCells.get(sweptCells.size() - 1)).hasSizeLessThanOrEqualTo(2 * deleteBatchSize);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTaskRunnerTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "bar", 50);
        putUncommitted("foo", "baz", 100);
        SweepResults results = completeSweep(175).get();
        assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
        assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(2);
        assertThat(getFromDefaultColumn("foo", 750)).isEqualTo("bar");
        assertThat(getAllTsFromDefaultColumn("foo")).containsExactlyInAnyOrder(50L);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "bar", 50);

        Optional<SweepResults> optResults = completeSweep(75);
        optResults.ifPresent(results -> {
            assertThat(results.getStaleValuesDeleted()).isEqualTo(0);
            assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(1);
        });

        assertThat(getFromDefaultColumn("foo", 150)).isEqualTo("bar");
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
        Optional<SweepResults> optResults = completeSweep(75);
        optResults.ifPresent(results -> {
            assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
            assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(1);
        });

        assertThat(getFromDefaultColumn("foo", 150)).isNull();
        assertThat(getAllTsFromDefaultColumn("foo")).isEmpty();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractSweepTest.java`
#### Snippet
```java
        putIntoDefaultColumn("foo", "", 50);

        Optional<SweepResults> optResults = completeSweep(75);
        optResults.ifPresent(results -> {
            assertThat(results.getStaleValuesDeleted()).isEqualTo(1);
            assertThat(results.getCellTsPairsExamined()).isGreaterThanOrEqualTo(1);
        });

        // The default column had its only value deleted
        assertThat(getFromDefaultColumn("foo", 150)).isNull();
        assertThat(getAllTsFromDefaultColumn("foo")).isEmpty();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Transaction t0 = startTransaction();
        put(t0, "row1", "col1", "100");
        put(t0, "row2", "col1", "100");
        t0.commit();

        Transaction t1 = startTransaction();
        Transaction t2 = startTransaction();
        withdrawMoney(t1, true, false);
        withdrawMoney(t2, false, false);

        t1.commit();
        assertThatThrownBy(t2::commit)
                .as("Transactions should throw in the event of write skew.")
                .isInstanceOf(TransactionSerializableConflictException.class);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Transaction t0 = startTransaction();
        put(t0, "row1", "col1", "100");
        put(t0, "row2", "col1", "100");
        t0.commit();

        final CyclicBarrier barrier = new CyclicBarrier(2);

        final Transaction t1 = startTransaction();
        ExecutorService exec = PTExecutors.newCachedThreadPool();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Transaction t0 = startTransaction();
        put(t0, "row1", "col1", "100");
        put(t0, "row2", "col1", "100");
        t0.commit();

        Transaction t1 = startTransaction();
        Transaction t2 = startTransaction();
        withdrawMoney(t1, true, true);
        withdrawMoney(t2, false, true);

        t1.commit();
        assertThatThrownBy(t2::commit)
                .as("Transactions should throw in the event of write skew.")
                .isInstanceOf(TransactionSerializableConflictException.class);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Transaction t0 = startTransaction();
        put(t0, "row1", "col1", initialValue);
        put(t0, "row2", "col1", initialValue);
        t0.commit();

        Transaction t1 = startTransaction();
        put(t1, "row1", "col1", newValue);
        Transaction t2 = startTransaction();
        String row1Get = get(t2, TEST_TABLE_SERIALIZABLE, "row1", "col1");
        assertThat(row1Get).isEqualTo(initialValue);
        put(t2, "row2", "col1", row1Get);

        t1.commit();
        Transaction readOnly = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        t3.commit();
        Transaction readOnly = startTransaction();
        assertThat(get(readOnly, TEST_TABLE_SERIALIZABLE, "row1", "col1")).isEqualTo(newValue2);
        assertThat(get(readOnly, TEST_TABLE_SERIALIZABLE, "row2", "col1")).isEqualTo(initialValue);

        assertThatThrownBy(t2::commit)
                .as("Transactions should throw in the event of write skew.")
                .isInstanceOf(TransactionSerializableConflictException.class);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        String initialValue = "100";
        Transaction t0 = startTransaction();
        put(t0, "row1", "col1", initialValue);
        put(t0, "row2", "col1", initialValue);
        t0.commit();

        Transaction t1 = startTransaction();
        RowResult<byte[]> first = BatchingVisitables.getFirst(
                t1.getRange(TEST_TABLE, RangeRequest.builder().build()));
        put(t1, "row22", "col1", initialValue);

        Transaction t2 = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        String initialValue = "100";
        Transaction t0 = startTransaction();
        put(t0, "row1", "col1", initialValue);
        put(t0, "row2", "col1", initialValue);
        t0.commit();

        Transaction t1 = startTransaction();
        BatchingVisitables.copyToList(
                t1.getRange(TEST_TABLE_SERIALIZABLE, RangeRequest.builder().build()));
        put(t1, "row22", "col1", initialValue);

        Transaction t2 = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        byte[] row = PtBytes.toBytes("row1");
        writeColumns();

        Transaction t1 = startTransaction();
        Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange = t1.getRowsColumnRange(
                TEST_TABLE_SERIALIZABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read = BatchingVisitables.getFirst(Iterables.getOnlyElement(columnRange.values()));
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");

        Transaction t2 = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        byte[] row = PtBytes.toBytes("row1");
        writeColumns();

        Transaction t1 = startTransaction();
        Map<byte[], Iterator<Map.Entry<Cell, byte[]>>> columnRange = t1.getRowsColumnRangeIterator(
                TEST_TABLE_SERIALIZABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
        // Serializable transaction records only the first column as read.
        Map.Entry<Cell, byte[]> read =
                Iterables.getOnlyElement(columnRange.values()).next();
        assertThat(read.getKey()).isEqualTo(Cell.create(row, PtBytes.toBytes("col0")));
        // Write to avoid the read only path.
        put(t1, "row1_1", "col0", "v0");

        Transaction t2 = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        byte[] row = PtBytes.toBytes("row1");

        Transaction t1 = startTransaction();
        Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange = t1.getRowsColumnRange(
                TEST_TABLE_SERIALIZABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.toBytes("col"), PtBytes.toBytes("col0"), 1));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        byte[] row = PtBytes.toBytes("row1");

        Transaction t1 = startTransaction();
        Map<byte[], Iterator<Map.Entry<Cell, byte[]>>> columnRange = t1.getRowsColumnRangeIterator(
                TEST_TABLE_SERIALIZABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.toBytes("col"), PtBytes.toBytes("col0"), 1));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        byte[] row = PtBytes.toBytes("row1");
        Transaction t1 = startTransaction();
        put(t1, "row1", "col", "v0");
        t1.commit();

        Transaction t2 = startTransaction();
        Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange = t2.getRowsColumnRange(
                TEST_TABLE_SERIALIZABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        byte[] row = PtBytes.toBytes("row1");
        Transaction t1 = startTransaction();
        put(t1, "row1", "col", "v0");
        t1.commit();

        Transaction t2 = startTransaction();
        Map<byte[], Iterator<Map.Entry<Cell, byte[]>>> columnRange = t2.getRowsColumnRangeIterator(
                TEST_TABLE_SERIALIZABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Map<byte[], Iterator<Map.Entry<Cell, byte[]>>> columnRange = t2.getRowsColumnRangeIterator(
                TEST_TABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
        // Attempt to read all results which would normally cause conflicts with t3; but we disabled that
        Iterators.getLast(Iterables.getOnlyElement(columnRange.values()));
        // Write to avoid the read only path.
        put(t2, "row1_1", "col0", "v0");

        Transaction t3 = startTransaction();
        put(t3, "row1", "col0", "v0");
        t3.commit();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange = t1.getRowsColumnRange(
                TEST_TABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.toBytes("col"), PtBytes.toBytes("col0"), 1));
        columnRange.values().forEach(visitable -> visitable.batchAccept(10, t -> true));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        List<byte[]> rows = generateRows(5);
        List<Cell> cellsWrittenOriginally = generateCells(rows, generateColumns(5));
        writeCells(cellsWrittenOriginally);

        Transaction t1 = startTransactionWithSerializableConflictChecking();
        Iterator<Map.Entry<Cell, byte[]>> sortedColumns = t1.getSortedColumns(
                TEST_TABLE_SERIALIZABLE,
                rows,
                BatchColumnRangeSelection.create(
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Iterator<Map.Entry<Cell, byte[]>> sortedColumns = t3.getSortedColumns(
                TEST_TABLE_SERIALIZABLE,
                rows,
                BatchColumnRangeSelection.create(
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));
        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        Iterator<Map.Entry<Cell, byte[]>> sortedColumns = t1.getSortedColumns(
                TEST_TABLE_SERIALIZABLE,
                rows,
                BatchColumnRangeSelection.create(
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, sortedCellsRead, cellsWrittenOriginally);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, sortedCellsRead, cellsWrittenOriginally);
        assertThat(sortedColumnValues)
                .doesNotContain(
                        Maps.immutableEntry(cellsWrittenOriginally.get(0), newValue1),
                        Maps.immutableEntry(cellsWrittenOriginally.get(17), newValue2));
        assertThatCode(t1::commit).doesNotThrowAnyException();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
        int cellCount = DEFAULT_COL_COUNT;
        List<byte[]> rows = generateRows(cellCount);
        byte[] lastColumnName = RangeRequests.getLastColumnName();

        List<Cell> cellsWrittenOriginally = generateCells(rows, ImmutableList.of(lastColumnName));
        writeCells(cellsWrittenOriginally);

        Transaction t1 = startTransactionWithSerializableConflictChecking();
        Iterator<Map.Entry<Cell, byte[]>> sortedColumns = t1.getSortedColumns(
                TEST_TABLE_SERIALIZABLE,
                rows,
                BatchColumnRangeSelection.create(
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        int readLimit = cellCount / 2;
        List<Cell> readCells = IntStream.range(0, readLimit)
                .mapToObj(_idx -> sortedColumns.next().getKey())
                .collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, readCells, cellsWrittenOriginally.subList(0, readLimit));

        // we write to a cell that has not been read
        Transaction t2 = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        putDirect("row1", "col1", "v1", 0);
        putDirect("row1", "col2", "v2", 2);
        putDirect("row1", "col4", "v5", 3);
        putDirect("row1a", "col4", "v5", 100);
        putDirect("row2", "col2", "v3", 1);
        putDirect("row2", "col4", "v4", 6);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        ImmutableList<RowResult<Value>> list = ImmutableList.copyOf(
                keyValueService.getRange(TEST_TABLE, RangeRequest.builder().build(), 1));
        assertThat(list).hasSize(1);
        RowResult<Value> row = list.iterator().next();
        assertThat(row.getColumns()).hasSize(1);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> ranges =
                keyValueService.getFirstBatchForRanges(
                        TEST_TABLE, Iterables.limit(Iterables.cycle(rangeRequest), 100), 1);
        assertThat(ranges.keySet()).hasSize(1);
        assertThat(ranges.values().iterator().next().getResults()).hasSize(1);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        RangeRequest rangeRequest = RangeRequest.builder().batchHint(1).build();
        Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> ranges =
                keyValueService.getFirstBatchForRanges(TEST_TABLE, Collections.singleton(rangeRequest), 1);
        assertThat(ranges.keySet()).hasSize(1);
        TokenBackedBasicResultsPage<RowResult<Value>, byte[]> page =
                ranges.values().iterator().next();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> ranges =
                keyValueService.getFirstBatchForRanges(TEST_TABLE, Collections.singleton(rangeRequest), 1);
        assertThat(ranges.keySet()).hasSize(1);
        TokenBackedBasicResultsPage<RowResult<Value>, byte[]> page =
                ranges.values().iterator().next();
        assertThat(page.moreResultsAvailable()).isTrue();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Cell firstCell = Cell.create(row, firstColumn);
        Cell secondCell = Cell.create(row, secondColumn);
        Cell thirdCell = Cell.create(row, thirdColumn);
        Cell fourthCell = Cell.create(row, fourthColumn);
        byte[] value = new byte[1];

        Transaction firstTransaction = startTransaction();
        firstTransaction.put(TEST_TABLE, ImmutableMap.of(firstCell, value, fourthCell, value));
        firstTransaction.commit();

        Transaction secondTransaction = startTransaction();
        secondTransaction.put(TEST_TABLE, ImmutableMap.of(secondCell, value, thirdCell, value));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        columnRange = tx.getRowsColumnRange(
                TEST_TABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
        columnRangeIterator = tx.getRowsColumnRangeIterator(
                TEST_TABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
        verifyMatchingResult(expected, row, columnRange);
        verifyMatchingResultForIterator(expected, row, columnRangeIterator);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Transaction tx = startTransaction();
        int totalPuts = 101;
        byte[] row = PtBytes.toBytes("row1");
        // Record expected results using byte ordering
        ImmutableSortedMap.Builder<Cell, byte[]> writes = ImmutableSortedMap.orderedBy(
                Ordering.from(UnsignedBytes.lexicographicalComparator()).onResultOf(Cell::getColumnName));
        for (int i = 0; i < totalPuts; i++) {
            put(tx, TEST_TABLE, "row1", "col" + i, "v" + i);
            writes.put(Cell.create(row, PtBytes.toBytes("col" + i)), PtBytes.toBytes("v" + i));
        }
        tx.commit();

        tx = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Map<byte[], BatchingVisitable<Map.Entry<Cell, byte[]>>> columnRange = tx.getRowsColumnRange(
                TEST_TABLE,
                ImmutableList.of(row),
                BatchColumnRangeSelection.create(PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, 1));
        List<Map.Entry<Cell, byte[]>> expected =
                ImmutableList.copyOf(writes.buildOrThrow().entrySet());
        verifyMatchingResult(expected, row, columnRange);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        assertThat(results).hasSameSizeAs(expected);
        for (int i = 0; i < expected.size(); i++) {
            assertThat(results.get(i).getKey()).isEqualTo(expected.get(i).getKey());
            assertThat(results.get(i).getValue()).isEqualTo(expected.get(i).getValue());
        }
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Transaction tx = startTransaction();
        int totalPuts = 101;
        byte[] row = PtBytes.toBytes("row1");
        // Record expected results using byte ordering
        ImmutableSortedMap.Builder<Cell, byte[]> writes = ImmutableSortedMap.orderedBy(
                Ordering.from(UnsignedBytes.lexicographicalComparator()).onResultOf(Cell::getColumnName));
        for (int i = 0; i < totalPuts; i++) {
            put(tx, TEST_TABLE, "row1", "col" + i, "v" + i);
            if (i % 2 == 0) {
                writes.put(Cell.create(row, PtBytes.toBytes("col" + i)), PtBytes.toBytes("v" + i));
            }
        }
        tx.commit();

        tx = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        putDirect("row1", "col1", "v1", 1);
        putDirect("row1", "col1", "v2", 2);
        Pair<String, Long> pair = getDirect("row1", "col1", 3);
        assertThat((long) pair.getRhSide()).isEqualTo(2L);
        assertThat(pair.getLhSide()).isEqualTo("v2");
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        putDirect("row1", "col1", "v0", 0);
        putDirect("row1", "col1", "v1", 1);
        Pair<String, Long> pair = getDirect("row1", "col1", 2);
        assertThat((long) pair.getRhSide()).isEqualTo(1L);
        assertThat(pair.getLhSide()).isEqualTo("v1");
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        putDirect("row1", "col1", "v2", 2);
        Pair<String, Long> pair = getDirect("row1", "col1", 3);
        assertThat((long) pair.getRhSide()).isEqualTo(2L);
        assertThat(pair.getLhSide()).isEqualTo("v2");
        keyValueService.delete(TEST_TABLE, Multimaps.forMap(ImmutableMap.of(createCell("row1", "col1"), 1L)));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
            put(tx, TEST_TABLE, "row1", "col1", "v1");
            put(tx, TEST_TABLE, "row1", "col2", "v2");
            put(tx, TEST_TABLE, "row2", "col1", "v3");
            assertThat(get(tx, "row1", "col1")).isEqualTo("v1");
            assertThat(get(tx, "row1", "col2")).isEqualTo("v2");
            assertThat(get(tx, "row2", "col1")).isEqualTo("v3");
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        put(tx, TEST_TABLE, "row1", "col1", "v1");
        put(tx, TEST_TABLE, "row1", "col2", "v2");
        put(tx, TEST_TABLE, "row2", "col1", "v3");
        put(tx, TEST_TABLE, "row4", "col1", "v4");
        tx.commit();

        tx = startTransaction();
        assertThat(get(tx, "row1", "col1")).isEqualTo("v1");
        assertThat(get(tx, "row1", "col2")).isEqualTo("v2");
        assertThat(get(tx, "row2", "col1")).isEqualTo("v3");
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        put(tx, TEST_TABLE, "row4", "col1", "v4");
        tx.commit();

        tx = startTransaction();
        assertThat(get(tx, "row1", "col1")).isEqualTo("v1");
        assertThat(get(tx, "row1", "col2")).isEqualTo("v2");
        assertThat(get(tx, "row2", "col1")).isEqualTo("v3");
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        assertThat(vals)
                .containsKey(
                        Cell.create("row1".getBytes(StandardCharsets.UTF_8), "col1".getBytes(StandardCharsets.UTF_8)));
        assertThat("v5".getBytes(StandardCharsets.UTF_8))
                .isEqualTo(vals.get(
                        Cell.create("row1".getBytes(StandardCharsets.UTF_8), "col1".getBytes(StandardCharsets.UTF_8))));
        assertThat(vals)
                .doesNotContainKey(
                        Cell.create("row2".getBytes(StandardCharsets.UTF_8), "col1".getBytes(StandardCharsets.UTF_8)));
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        getManager().runTaskWithRetry((TransactionTask<Void, RuntimeException>) tx -> {
            put(tx, "row1", "col1", "v1");
            return null;
        });

        getManager().runTaskWithRetry((TxTask) tx -> {
            delete(tx, "row1", "col1");
            return null;
        });

        getManager().runTaskWithRetry((TxTask) tx -> {
            assertThat(get(tx, "row1", "col1")).isEqualTo(null);
            return null;
        });
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Transaction t1 = startTransaction();
        Transaction t2 = startTransaction();

        put(t1, "row1", "col1", "v1");
        put(t2, "row1", "col1", "v2");

        t1.commit();
        assertThatThrownBy(t2::commit)
                .describedAs("Expected write-write conflict.")
                .isInstanceOf(TransactionConflictException.class);
```

### DuplicatedCode
Duplicated code
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
        Transaction tx = startTransaction();
        byte[] row0 = row(0);
        byte[] row1 = row(1);
        byte[] col0 = column(0);
        tx.put(TEST_TABLE, ImmutableMap.of(Cell.create(row0, col0), value(0), Cell.create(row1, col0), value(1)));
        tx.commit();

        tx = startTransaction();
```

### DuplicatedCode
Duplicated code
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleBusyCellReadNoTouchWorkflows.java`
#### Snippet
```java
            List<ListenableFuture<Optional<WitnessedTransaction>>> writes =
                    scheduleWrites(store, configuration, writeExecutor);

            ListenableFuture<List<WitnessedTransaction>> witnessedTransactions = Futures.transform(
                    Futures.allAsList(
                            Stream.of(reads, writes).flatMap(Collection::stream).collect(Collectors.toList())),
                    maybeWitnessedTransactions -> maybeWitnessedTransactions.stream()
                            .flatMap(Optional::stream)
                            .collect(Collectors.toList()),
                    MoreExecutors.directExecutor());
            ReadOnlyTransactionStore readOnlyTransactionStore = new ReadOnlyTransactionStore(store);
            return ImmutableWorkflowHistory.builder()
                    .addAllHistory(WitnessedTransactions.sortAndFilterTransactions(
                            readOnlyTransactionStore, Futures.getUnchecked(witnessedTransactions)))
                    .transactionStore(readOnlyTransactionStore)
                    .build();
```

### DuplicatedCode
Duplicated code
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleBusyCellReadNoTouchWorkflows.java`
#### Snippet
```java
        return IntStream.range(0, configuration.iterationCount() / 4)
                .boxed()
                .flatMap(index -> Stream.of(
                        writeExecutor.submit(() -> store.readWrite(List.of(WriteTransactionAction.of(
                                configuration.tableConfiguration().tableName(), BUSY_CELL, index)))),
                        writeExecutor.submit(() -> store.readWrite(List.of(DeleteTransactionAction.of(
                                configuration.tableConfiguration().tableName(), BUSY_CELL))))))
                .collect(Collectors.toList());
```

### DuplicatedCode
Duplicated code
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
                        ps = c.prepareStatement(sql.getQuery());
                        for (int i = 0; i < vs.length; i++) {
                            for (int j = 0; j < vs[i].length; j++) {
                                Object obj = vs[i][j];
                                BlobHandler cleanup = setObject(c, ps, j + 1, obj);
                                if (cleanup != null) {
                                    cleanups.add(cleanup);
                                }
                            }
                            ps.addBatch();
                        }
```

### DuplicatedCode
Duplicated code
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
        if (cachedService == null) {
            return;
        }

        IllegalStateException exception =
                new SafeIllegalStateException("There is a fatal problem with the leadership election configuration! "
                        + "This is probably caused by invalid pref files setting up the cluster "
                        + "(e.g. for lock server look at lock.prefs, leader.prefs, and lock_client.prefs)."
                        + "If the preferences are specified with a host port pair list and localhost index "
                        + "then make sure that the localhost index is correct (e.g. actually the localhost).");

        if (cachedService != pingedService) {
            log.error("Remote potential leaders are claiming to be each other!", exception);
            throw Throwables.rewrap(exception);
        }

        if (pingedServiceUuid.equals(localUuid)) {
            log.error("Remote potential leader is claiming to be you!", exception);
            throw Throwables.rewrap(exception);
        }
```

### DuplicatedCode
Duplicated code
in `lock-api/src/main/java/com/palantir/lock/client/LockRefreshingLockService.java`
#### Snippet
```java
                () -> {
                    long startTime = System.currentTimeMillis();
                    try {
                        ret.refreshLocks();
                    } catch (Throwable t) {
                        log.warn("Failed to refresh locks", t);
                    } finally {
                        long elapsed = System.currentTimeMillis() - startTime;

                        if (elapsed > LockRequest.getDefaultLockTimeout().toMillis() / 2) {
                            log.warn(
                                    "Refreshing locks took {} milliseconds" + " for tokens: {}",
                                    SafeArg.of("elapsed", elapsed),
                                    UnsafeArg.of("tokens", ret.toRefresh));
                        } else if (elapsed > ret.refreshFrequencyMillis) {
                            log.info(
                                    "Refreshing locks took {} milliseconds" + " for tokens: {}",
                                    SafeArg.of("elapsed", elapsed),
                                    UnsafeArg.of("tokens", ret.toRefresh));
                        }
                    }
                },
```

## RuleId[id=CollectionContainsUrl]
### CollectionContainsUrl
Map `urlsToHostAndPort` may contain URL objects
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/RedirectRetryTargeter.java`
#### Snippet
```java
public final class RedirectRetryTargeter {
    private final List<URL> otherServers;
    private final BiMap<HostAndPort, URL> urlsToHostAndPort;

    private RedirectRetryTargeter(List<URL> otherServers) {
```

## RuleId[id=CatchMayIgnoreException]
### CatchMayIgnoreException
'catch' parameter named `ignored` is used
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            try {
                ps.close();
            } catch (SQLException ignored) {
                SqlLoggers.SQL_EXCEPTION_LOG.info("Caught ignored SQLException", ignored);
                SqlLoggers.LOGGER.error("ignored sql exception on preparedStatement close", ignored); // $NON-NLS-1$
```

## RuleId[id=MismatchedJavadocCode]
### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `commons-db/src/main/java/com/palantir/nexus/db/sql/SqlConnectionHelper.java`
#### Snippet
```java

    /**
     * Returns true if at least one row comes back for the provided Otherwise, returns false.
     */
    long selectCount(Connection c, String tableName) throws PalantirSqlException, PalantirInterruptedException {
```

### MismatchedJavadocCode
Method is specified to return set but the return type is array
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
     * Returns a set of interfaces implemented by a collection of classes.
     *
     * @return the set of interfaces for the specified classes
     * @throws IllegalArgumentException if the specified iface is not an interface
     */
```

### MismatchedJavadocCode
Method is specified to return set but the return type is array
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
     * additionalInterfaces set.
     *
     * @return the set of interfaces for the specified classes
     * @throws IllegalArgumentException if the specified iface is not an interface
     */
```

### MismatchedJavadocCode
Method is specified to return 'true' but its return type is not boolean
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java

    /**
     * Returns true iff the component has an explicit partitioner.
     *
     * NB: a component can have both an explicit partitioner and a uniform partitioner
```

## RuleId[id=CollectionAddAllCanBeReplacedWithConstructor]
### CollectionAddAllCanBeReplacedWithConstructor
'addAll()' call can be replaced with parametrized constructor call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/TableRenderer.java`
#### Snippet
```java
    private static List<Class<?>> getImports(OptionalType optionalType) {
        List<Class<?>> classes = new ArrayList<>();
        classes.addAll(Arrays.asList(IMPORTS_WITHOUT_OPTIONAL));
        switch (optionalType) {
            case GUAVA:
```

### CollectionAddAllCanBeReplacedWithConstructor
'addAll()' call can be replaced with parametrized constructor call
in `atlasdb-commons/src/main/java/com/palantir/util/paging/PageDrainer.java`
#### Snippet
```java
        List<T> pages = new ArrayList<>();
        List<T> currentPage = pageGetter.getFirstPage();
        pages.addAll(currentPage);
        while (hasNextPage(currentPage)) {
            currentPage = pageGetter.getNextPage(ImmutableList.copyOf(currentPage));
```

### CollectionAddAllCanBeReplacedWithConstructor
'addAll()' call can be replaced with parametrized constructor call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTableDropper.java`
#### Snippet
```java
                Set<TableReference> existingTables = new HashSet<>();

                existingTables.addAll(ks.getCf_defs().stream()
                        .map(CassandraKeyValueServices::tableReferenceFromCfDef)
                        .collect(Collectors.toList()));
```

## RuleId[id=UnnecessaryToStringCall]
### UnnecessaryToStringCall
Unnecessary `toString()` call
in `commons-proxy/src/main/java/com/palantir/proxy/util/ProxyUtils.java`
#### Snippet
```java
        } else {
            throw new IllegalArgumentException(
                    "Method should be not be invoked directly on proxyObject: " + method.toString());
        }
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java`
#### Snippet
```java
                .resolve(client.value());
        Path learnerLogDir = Paths.get(legacyDir.toString(), PaxosTimeLockConstants.LEARNER_SUBDIRECTORY_PATH);
        String learnerUseCase = String.format("%s!learner", paxosUseCase.toString());
        return ImmutablePaxosStorageParameters.builder()
                .fileBasedLogDirectory(learnerLogDir.toString())
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LocalPaxosComponents.java`
#### Snippet
```java
                .resolve(client.value());
        Path acceptorLogDir = Paths.get(legacyDir.toString(), PaxosTimeLockConstants.ACCEPTOR_SUBDIRECTORY_PATH);
        String acceptorUseCase = String.format("%s!acceptor", paxosUseCase.toString());
        return ImmutablePaxosStorageParameters.builder()
                .fileBasedLogDirectory(acceptorLogDir.toString())
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameMetadataDescription.java`
#### Snippet
```java
            throw new IllegalArgumentException("This name has extra trailing bytes: "
                    + Cells.getNameFromBytes(PtBytes.tail(name, offset))
                    + " trailing " + sb.toString());
        }
        sb.append("}");
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
    @Override
    public synchronized String toString() {
        return "SoftCache named " + getName() + ": " + cacheEntries.values().toString();
    }

```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleBinder.java`
#### Snippet
```java
        public Object call() {
            System.out.println("\nTopics with help messages:\n"); // (authorized)
            System.out.println(help.keySet().toString()); // (authorized)
            System.out.println("\nCall help(\'topic\') to view information on a specific topic.\n"); // (authorized)
            System.out.println("If you'd like to enable database mutations (not recommended), re-run console with the"
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `timelock-server/src/main/java/com/palantir/atlasdb/timelock/TimeLockServerLauncher.java`
#### Snippet
```java
    public void initialize(Bootstrap<CombinedTimeLockServerConfiguration> bootstrap) {
        MetricRegistry metricRegistry = SharedMetricRegistries.getOrCreate(
                "AtlasDbTest" + UUID.randomUUID().toString());
        bootstrap.setMetricRegistry(metricRegistry);
        bootstrap.setObjectMapper(ObjectMappers.newServerObjectMapper());
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
        for (StackTraceElement element : stackTrace) {
            if (element.getClassName().contains(filter)) {
                sb.append(element.toString()).append("\n");
            }
        }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServices.java`
#### Snippet
```java
                        + " above, then they may have never joined the cluster. Verify your configuration is correct"
                        + " and that the nodes specified in the config are up and joined the cluster. %s",
                unsafeSchemaChangeDescription, schemaVersions.toString(), clusterNodes);
        throw new IllegalStateException(errorMessage);
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
            currentState.append(String.format(
                    "POOL STATUS: Current blacklist = %s,%n current hosts in pool = %s%n",
                    blacklist.describeBlacklistedHosts(), currentPools.keySet().toString()));
            for (Map.Entry<CassandraServer, CassandraClientPoolingContainer> entry : currentPools.entrySet()) {
                int activeCheckouts = entry.getValue().getActiveCheckouts();
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/CellsSweeper.java`
#### Snippet
```java
        return cellTsPairsToSweep.entries().stream()
                .sorted(Comparator.comparing(Map.Entry::getKey))
                .map(entry -> entry.getKey().toString() + "->" + entry.getValue())
                .collect(Collectors.joining(", ", "[", "]"));
    }
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/schema/KeyValueServiceMigratorUtils.java`
#### Snippet
```java
        PrintWriter writer = new PrintWriter(result);
        ex.printStackTrace(writer); // (authorized)
        return string + "\n" + result.toString();
    }
}
```

### UnnecessaryToStringCall
Unnecessary `toString()` call
in `leader-election-impl/src/main/java/com/palantir/paxos/SqliteConnections.java`
#### Snippet
```java
        createDirectoryIfNotExists(path);
        String target = String.format(
                "jdbc:sqlite:%s", path.resolve(DEFAULT_SQLITE_DATABASE_NAME).toString());

        SQLiteConfig config = new SQLiteConfig();
```

## RuleId[id=DanglingJavadoc]
### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/GuardedValue.java`
#### Snippet
```java
@Value.Immutable
@PackageVisibleImmutablesStyle
/**
 * A GuardedValue represents a value with a limited validity window.
 *
```

### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/CallbackInitializable.java`
#### Snippet
```java

@SuppressWarnings("InvalidLink") // Type parameters
/**
 * An interface simplifying the creation of initialization Callbacks. If a class C requires a resource R to initialize
 * some of its components, but R may not be ready yet at the time of C's creation, C should implement this interface
```

### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/Callback.java`
#### Snippet
```java

@SuppressWarnings("InvalidLink") // Type parameters
/**
 * A Callback is a potentially retryable operation on a resource R. The intended use is to specify a task to be run on
 * an uninitialized resource R once it becomes ready by calling {@link #runWithRetry(R)}.
```

### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java
                    fallbacks.incrementAndGet();
                }
                /**
                 * This in particular catches {@link com.palantir.atlasdb.keyvalue.api.RetryLimitReachedException}
                 */
```

### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java

    @SuppressWarnings("JavadocStyleCheck")
    /**
     * 0->0 ---- 2->2 ---- 4->4
     * =>
```

### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java

    @SuppressWarnings("JavadocStyleCheck")
    /**
     * 0->0 ---- 2->2 ---- 4->4
     * fail check for
```

### DanglingJavadoc
Dangling Javadoc comment
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java

    @SuppressWarnings("JavadocStyleCheck")
    /**
     * 0->0 1->2 2->2 3->2 4->4
     * fail check for
```

## RuleId[id=SuspiciousMethodCalls]
### SuspiciousMethodCalls
Suspicious call to 'Multimap.remove()'
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
            client = INTERNAL_LOCK_GRANT_CLIENT;
        } else {
            lockClientMultimap.remove(client, token);
        }
        for (Map.Entry<? extends ClientAwareReadWriteLock, LockMode> entry : heldLocks.locks.entries()) {
```

### SuspiciousMethodCalls
Suspicious call to 'Map.get()'
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
        if (ref instanceof KeyedReference) {
            Object key = ((KeyedReference) ref).getKey();
            CacheEntry<V> entry = cacheEntries.get(key);

            // only remove the cache entry if it holds the current reference
```

### SuspiciousMethodCalls
Suspicious call to 'Map.remove()'
in `atlasdb-commons/src/main/java/com/palantir/util/SoftCache.java`
#### Snippet
```java
                }

                cacheEntries.remove(key);
            }
        } else {
```

## RuleId[id=RegExpUnexpectedAnchor]
### RegExpUnexpectedAnchor
Anchor `^` in unexpected position
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/Namespace.java`
#### Snippet
```java
     * Restrictive name pattern (letters, numbers, and non-initial single underscores).
     */
    public static final Pattern STRICTLY_CHECKED_NAME = Pattern.compile("^^(?!.*__.*)[a-zA-Z0-9][\\w]*$");

    private final String name;
```

## RuleId[id=SwitchStatementWithConfusingDeclaration]
### SwitchStatementWithConfusingDeclaration
Local variable `className` declared in one 'switch' branch and used in another
in `atlasdb-service/src/main/java/com/palantir/atlasdb/jackson/TableMetadataDeserializer.java`
#### Snippet
```java
        switch (format) {
            case PERSISTER:
                String className = node.get("type").asText();
                try {
                    Class<?> rawPersister = Class.forName(className);
```

## RuleId[id=TrivialIf]
### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLString.java`
#### Snippet
```java
        final BasicSQLString other = (BasicSQLString) obj;
        if (sql == null) {
            if (other.sql != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLString.java`
#### Snippet
```java
                return false;
            }
        } else if (!sql.equals(other.sql)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
            return null;
        }
        if (ret == 0) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQLUtils.java`
#### Snippet
```java
    public static boolean getBoolean(AgnosticResultRow row, String colName) throws PalantirSqlException {
        long ret = row.getLong(colName);
        if (ret == 0) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/ExceptionCheck.java`
#### Snippet
```java
     */
    public static boolean isForeignKeyConstraintViolation(Throwable e) {
        if (throwableContainsMessage(
                        e,
                        "ORA-02291") // Oracle "ORA-02291: integrity constraint <constraint name> violated - parent key
```

### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/ExceptionCheck.java`
#### Snippet
```java
     */
    public static boolean isTimezoneInvalid(Throwable e) {
        if (throwableContainsMessage(e, "ORA-01882") // Oracle "ORA-01882: timezone region not found"
        // Doesn't seem to matter anywhere else right now.
        ) {
```

### TrivialIf
`if` statement can be simplified
in `commons-db/src/main/java/com/palantir/nexus/db/sql/ExceptionCheck.java`
#### Snippet
```java
     */
    public static boolean isUniqueConstraintViolation(Throwable e) {
        if (throwableContainsMessage(e, "ORA-00001") // Oracle "ORA-00001: unique constraint <constraint name> violated"
                || throwableContainsMessage(
                        e,
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/ColumnSelection.java`
#### Snippet
```java
        ColumnSelection other = (ColumnSelection) obj;
        if (selectedColumns == null) {
            if (other.selectedColumns != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/ColumnSelection.java`
#### Snippet
```java
                return false;
            }
        } else if (!selectedColumns.equals(other.selectedColumns)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/BatchColumnRangeSelection.java`
#### Snippet
```java
        }
        if (columnRangeSelection == null) {
            if (other.columnRangeSelection != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/BatchColumnRangeSelection.java`
#### Snippet
```java
                return false;
            }
        } else if (!columnRangeSelection.equals(other.columnRangeSelection)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RowResult.java`
#### Snippet
```java
            return false;
        }
        if (!Arrays.equals(row, other.row)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NameComponentDescription.java`
#### Snippet
```java
            return false;
        }
        if (logSafety != other.logSafety) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnMetadataDescription.java`
#### Snippet
```java
        }
        if (dynamicColumn == null) {
            if (other.getDynamicColumn() != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnMetadataDescription.java`
#### Snippet
```java
                return false;
            }
        } else if (!dynamicColumn.equals(other.getDynamicColumn())) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/DynamicColumnDescription.java`
#### Snippet
```java
        }
        if (value == null) {
            if (other.getValue() != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/DynamicColumnDescription.java`
#### Snippet
```java
                return false;
            }
        } else if (!value.equals(other.getValue())) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/UniformRowNamePartitioner.java`
#### Snippet
```java
        }
        UniformRowNamePartitioner other = (UniformRowNamePartitioner) obj;
        if (valueType != other.valueType) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ExplicitRowNamePartitioner.java`
#### Snippet
```java
                return false;
            }
            if (!Arrays.equals(prefix, other.prefix)) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ExplicitRowNamePartitioner.java`
#### Snippet
```java
        }
        if (values == null) {
            if (other.values != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ExplicitRowNamePartitioner.java`
#### Snippet
```java
                return false;
            }
        } else if (!values.equals(other.values)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/NamedColumnDescription.java`
#### Snippet
```java
            return false;
        }
        if (logSafety != other.logSafety) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
        }
        if (canonicalClassName == null) {
            if (other.canonicalClassName != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/ColumnValueDescription.java`
#### Snippet
```java
                return false;
            }
        } else if (!canonicalClassName.equals(other.canonicalClassName)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/InMemoryKeyValueService.java`
#### Snippet
```java
                return false;
            }
            if (ts != other.ts) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/Mutable.java`
#### Snippet
```java

        if (v == null) {
            if (otherV != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/Mutable.java`
#### Snippet
```java
                return false;
            }
        } else if (!v.equals(otherV)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/Pair.java`
#### Snippet
```java
        }
        if (rhSide == null) {
            if (other.rhSide != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/Pair.java`
#### Snippet
```java
                return false;
            }
        } else if (!rhSide.equals(other.rhSide)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/paging/SimpleResultsPage.java`
#### Snippet
```java
            return false;
        }
        if (moreAvailable != other.moreAvailable) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/paging/SimpleTokenBackedResultsPage.java`
#### Snippet
```java
        SimpleTokenBackedResultsPage<?, ?> other = (SimpleTokenBackedResultsPage<?, ?>) obj;
        if (tokenForNextPage == null) {
            if (other.tokenForNextPage != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/paging/SimpleTokenBackedResultsPage.java`
#### Snippet
```java
                return false;
            }
        } else if (!tokenForNextPage.equals(other.tokenForNextPage)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
            if (Character.isUpperCase(textArray[0])) {
                capsType = false; // Camel Case
                if (text.equals(text.toUpperCase(Locale.ROOT))) {
                    capsType = true; // UPPER CASE
                }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-commons/src/main/java/com/palantir/common/compression/BufferedDelegateInputStream.java`
#### Snippet
```java
            position = BUFFER_START;
            bufferSize = refill();
            if (bufferSize == 0) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-service/src/main/java/com/palantir/atlasdb/api/TransactionToken.java`
#### Snippet
```java
        TransactionToken other = (TransactionToken) obj;
        if (id == null) {
            if (other.id != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-service/src/main/java/com/palantir/atlasdb/api/TransactionToken.java`
#### Snippet
```java
                return false;
            }
        } else if (!id.equals(other.id)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `lock-api-objects/src/main/java/com/palantir/lock/SimpleHeldLocksToken.java`
#### Snippet
```java
        SimpleHeldLocksToken other = (SimpleHeldLocksToken) obj;
        if (tokenId == null) {
            if (other.tokenId != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `lock-api-objects/src/main/java/com/palantir/lock/SimpleHeldLocksToken.java`
#### Snippet
```java
                return false;
            }
        } else if (!tokenId.equals(other.tokenId)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `lock-api-objects/src/main/java/com/palantir/lock/LockRefreshToken.java`
#### Snippet
```java
        LockRefreshToken other = (LockRefreshToken) obj;
        if (tokenId == null) {
            if (other.tokenId != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `lock-api-objects/src/main/java/com/palantir/lock/LockRefreshToken.java`
#### Snippet
```java
                return false;
            }
        } else if (!tokenId.equals(other.tokenId)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `lock-api-objects/src/main/java/com/palantir/lock/LockCollection.java`
#### Snippet
```java
        }
        if (values == null) {
            if (other.values != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `lock-api-objects/src/main/java/com/palantir/lock/LockCollection.java`
#### Snippet
```java
                return false;
            }
        } else if (!values.equals(other.values)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ColumnFamilyDefinitions.java`
#### Snippet
```java

        // consider null and empty map equivalent
        if ((client == null && cluster.isEmpty()) || (cluster == null && client.isEmpty())) {
            return true;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ColumnFamilyDefinitions.java`
#### Snippet
```java
            return false;
        }
        if (getLastElementOfClasspath(class1).equals(getLastElementOfClasspath(class2))) {
            return true;
        }
```

### TrivialIf
`if` statement can be simplified
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/TracingQueryRunner.java`
#### Snippet
```java
            if (prefs.traceProbability() >= 1.0) {
                return true;
            } else if (ThreadLocalRandom.current().nextDouble() <= prefs.traceProbability()) {
                return true;
            }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosValue.java`
#### Snippet
```java
            return false;
        }
        if (seq != other.seq) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
        }
        if (promisedId == null) {
            if (other.promisedId != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosPromise.java`
#### Snippet
```java
                return false;
            }
        } else if (!promisedId.equals(other.promisedId)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposalId.java`
#### Snippet
```java
        }
        if (proposerUuid == null) {
            if (other.proposerUuid != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposalId.java`
#### Snippet
```java
                return false;
            }
        } else if (!proposerUuid.equals(other.proposerUuid)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposal.java`
#### Snippet
```java
        }
        if (val == null) {
            if (other.val != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-api/src/main/java/com/palantir/paxos/PaxosProposal.java`
#### Snippet
```java
                return false;
            }
        } else if (!val.equals(other.val)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosResponseImpl.java`
#### Snippet
```java
        }
        PaxosResponseImpl other = (PaxosResponseImpl) obj;
        if (ack != other.ack) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipToken.java`
#### Snippet
```java
        PaxosLeadershipToken other = (PaxosLeadershipToken) obj;
        if (value == null) {
            if (other.value != null) {
                return false;
            }
```

### TrivialIf
`if` statement can be simplified
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipToken.java`
#### Snippet
```java
                return false;
            }
        } else if (!value.equals(other.value)) {
            return false;
        }
```

### TrivialIf
`if` statement can be simplified
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/models/ProgressState.java`
#### Snippet
```java

    default boolean shouldResetProgressState() {
        if (initState() || lastVerifiedSeq() < greatestSeqNumberToBeVerified()) {
            return false;
        }
```

## RuleId[id=OptionalUsedAsFieldOrParameterType]
### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'version'
in `lock-api/src/main/java/com/palantir/lock/watch/LockWatchEventCache.java`
#### Snippet
```java
     * that version, and a map associating each start timestamp with its respective lock watch state version.
     */
    TransactionsLockWatchUpdate getUpdateForTransactions(Set<Long> startTimestamps, Optional<LockWatchVersion> version);

    /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeNewVersion'
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java
    }

    private void updateVersion(Optional<LockWatchVersion> maybeNewVersion) {
        currentVersion = maybeNewVersion.map(newVersion -> currentVersion
                .map(current -> {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'currentVersion'
in `lock-api/src/main/java/com/palantir/lock/watch/NoOpLockWatchEventCache.java`
#### Snippet
```java
public class NoOpLockWatchEventCache implements LockWatchEventCache {
    private static final LockWatchVersion FAKE_VERSION = LockWatchVersion.of(UUID.randomUUID(), -1L);
    private volatile Optional<LockWatchVersion> currentVersion = Optional.empty();

    private NoOpLockWatchEventCache() {}
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for parameter 'bufferSize'
in `lock-api/src/main/java/com/palantir/lock/client/LeaderTimeCoalescingBatcher.java`
#### Snippet
```java
    private final DisruptorAutobatcher<Namespace, LeaderTime> batcher;

    public LeaderTimeCoalescingBatcher(InternalMultiClientConjureTimelockService delegate, OptionalInt bufferSize) {
        this.batcher = Autobatchers.coalescing(new LeaderTimeCoalescingConsumer(delegate))
                .bufferSize(bufferSize)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maybeRequestBatchers'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java
    private final LockWatchCache cache;
    private final Namespace namespace;
    private final Optional<MultiClientRequestBatchers> maybeRequestBatchers;

    private RequestBatchersFactory(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeRequestBatchers'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java

    private RequestBatchersFactory(
            LockWatchCache cache, Namespace namespace, Optional<MultiClientRequestBatchers> maybeRequestBatchers) {
        this.cache = cache;
        this.namespace = namespace;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeRequestBatchers'
in `lock-api/src/main/java/com/palantir/lock/client/RequestBatchersFactory.java`
#### Snippet
```java

    public static RequestBatchersFactory create(
            LockWatchCache cache, Namespace namespace, Optional<MultiClientRequestBatchers> maybeRequestBatchers) {
        return new RequestBatchersFactory(cache, namespace, maybeRequestBatchers);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'failure'
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
    }

    private void accumulateSlowOperationTracking(String actionName, Stopwatch stopwatch, Optional<Exception> failure) {
        if (stopwatchDescribesSlowOperation(stopwatch)) {
            slowestOperation.accumulateAndGet(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'failure'
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
    }

    private void trackActionAndMaybeLog(String actionName, Stopwatch stopwatch, Optional<Exception> failure) {
        stopwatch.stop();
        accumulateSlowOperationTracking(actionName, stopwatch, failure);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/ConjureLockRequests.java`
#### Snippet
```java
    }

    public static Optional<ConjureIdentifiedVersion> toConjure(Optional<LockWatchVersion> maybeVersion) {
        return maybeVersion.map(identifiedVersion -> ConjureIdentifiedVersion.builder()
                .id(identifiedVersion.id())
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/ConjureLockRequests.java`
#### Snippet
```java
    }

    public static Optional<LockWatchVersion> fromConjure(Optional<ConjureIdentifiedVersion> maybeVersion) {
        return maybeVersion.map(
                identifiedVersion -> LockWatchVersion.of(identifiedVersion.getId(), identifiedVersion.getVersion()));
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for parameter 'bufferSize'
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTimeLockUnlocker.java`
#### Snippet
```java
    private final DisruptorAutobatcher<UnlockRequest, Set<ConjureLockTokenV2>> batcher;

    public MultiClientTimeLockUnlocker(InternalMultiClientConjureTimelockService delegate, OptionalInt bufferSize) {
        this.batcher = Autobatchers.independent(new UnlockConsumer(delegate))
                .bufferSize(bufferSize)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lastKnownVersion'
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java
        private final Queue<BatchElement<NamespacedRequest, Long>> pendingRequestQueue;
        private final LockWatchCache cache;
        private Optional<LockWatchVersion> lastKnownVersion;

        private NamespacedBatchStateManager(LockWatchCache cache) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/LockLeaseService.java`
#### Snippet
```java
    }

    GetCommitTimestampsResponse getCommitTimestamps(Optional<LockWatchVersion> maybeVersion, int batchSize) {
        GetCommitTimestampsRequest request = GetCommitTimestampsRequest.builder()
                .numTimestamps(batchSize)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeVersion'
in `lock-api/src/main/java/com/palantir/lock/client/LockLeaseService.java`
#### Snippet
```java
    // Visible for testing
    public ConjureStartTransactionsResponse startTransactionsWithWatches(
            Optional<LockWatchVersion> maybeVersion, int batchSize) {
        ConjureStartTransactionsRequest request = ConjureStartTransactionsRequest.builder()
                .requestorId(clientId)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'leaderElectionReporter'
in `lock-api/src/main/java/com/palantir/lock/client/metrics/TimeLockFeedbackBackgroundTask.java`
#### Snippet
```java
    private final Refreshable<List<TimeLockClientFeedbackService>> timeLockClientFeedbackServices;

    private volatile Optional<LeaderElectionReportingTimelockService> leaderElectionReporter = Optional.empty();

    private ScheduledFuture<?> task;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReferenceOverride'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java

    default TimestampStoreInvalidator createTimestampStoreInvalidator(
            KeyValueService rawKvs, Optional<TableReference> tableReferenceOverride) {
        return () -> {
            log.warn(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'leaderConfig'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java
            KeyValueServiceConfig config,
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            LongSupplier freshTimestampSource,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'namespace'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            LongSupplier freshTimestampSource,
            boolean initializeAsync);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReferenceOverride'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java

    ManagedTimestampService createManagedTimestampService(
            KeyValueService rawKvs, Optional<TableReference> tableReferenceOverride, boolean initializeAsync);

    default TimestampStoreInvalidator createTimestampStoreInvalidator(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'runtimeConfigSnapshot'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/spi/AtlasDbFactory.java`
#### Snippet
```java
     */
    DerivedSnapshotConfig createDerivedSnapshotConfig(
            KeyValueServiceConfig config, Optional<KeyValueServiceRuntimeConfig> runtimeConfigSnapshot);

    ManagedTimestampService createManagedTimestampService(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'error'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        private final Optional<Throwable> error;

        private TransactionResult(TransactionStatus status, @Nullable T resultValue, Optional<Throwable> error) {
            this.status = status;
            this.resultValue = resultValue;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'error'
in `commons-db/src/main/java/com/palantir/nexus/db/pool/RetriableTransactions.java`
#### Snippet
```java
        private final TransactionStatus status;
        private final @Nullable T resultValue;
        private final Optional<Throwable> error;

        private TransactionResult(TransactionStatus status, @Nullable T resultValue, Optional<Throwable> error) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'oldValue'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/CheckAndSetRequest.java`
#### Snippet
```java

    public static class Builder extends ImmutableCheckAndSetRequest.Builder {
        public Builder oldValue(Optional<byte[]> oldValue) {
            return this.oldValueNullable(oldValue.orElse(null));
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'previousStartRow'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java

    public static class Builder extends ImmutableSweepResults.Builder {
        public Builder previousStartRow(Optional<byte[]> previousStartRow) {
            return this.previousStartRowNullable(previousStartRow.orElse(null));
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'startRow'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    public static SweepResults createEmptySweepResult(Optional<byte[]> startRow) {
        return builder()
                .cellTsPairsExamined(0)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'startRow'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
        }

        public Builder nextStartRow(Optional<byte[]> startRow) {
            return this.nextStartRowNullable(startRow.orElse(null));
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fst'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'snd'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/SweepResults.java`
#### Snippet
```java
    }

    private Optional<byte[]> maxRowOptional(Optional<byte[]> fst, Optional<byte[]> snd) {
        return fst.flatMap(row1 -> snd.map(row2 -> PtBytes.BYTES_COMPARATOR.max(row1, row2)));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'version'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchManager.java`
#### Snippet
```java
     */
    abstract TransactionsLockWatchUpdate getUpdateForTransactions(
            Set<Long> startTimestamps, Optional<LockWatchVersion> version);
}

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'value'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java

public final class CacheValue {
    private final Optional<byte[]> value;

    private CacheValue(Optional<byte[]> value) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/CacheValue.java`
#### Snippet
```java
    private final Optional<byte[]> value;

    private CacheValue(Optional<byte[]> value) {
        this.value = value;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'rowBytes'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
    }

    private String encodeStartRow(Optional<byte[]> rowBytes) {
        return BaseEncoding.base16().encode(rowBytes.orElse(FIRST_ROW));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'rowBytes'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/SweepCommand.java`
#### Snippet
```java
    }

    private String encodeEndRow(Optional<byte[]> rowBytes) {
        if (rowBytes.isPresent() && !Arrays.equals(rowBytes.get(), FIRST_ROW)) {
            return BaseEncoding.base16().encode(rowBytes.get());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'uriSuffix'
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/PerformanceResults.java`
#### Snippet
```java
    }

    private static String formatBenchmarkString(String benchmark, Optional<String> uriSuffix) {
        List<String> benchmarkParts = Splitter.on('.').splitToList(benchmark);
        String benchmarkSuite = benchmarkParts.get(benchmarkParts.size() - 2);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableRef'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java

    private static TimestampBoundStore createTimestampBoundStore(
            Optional<TableReference> tableRef, ConnectionManagerAwareDbKvs dbkvs, boolean initializeAsync) {
        // Not using the table prefix here, as the tableRef should contain any necessary prefix.
        return tableRef.map(reference ->
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReference'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbAtlasDbFactory.java`
#### Snippet
```java

    private TimestampStoreInvalidator timestampStoreInvalidator(
            ConnectionManagerAwareDbKvs dbKvs, Optional<TableReference> tableReference) {
        return tableReference
                .map(ref -> DbTimestampStoreInvalidator.create(dbKvs, ref, EMPTY_TABLE_PREFIX))
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'runtimeConfig'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/util/SqlConnectionSuppliers.java`
#### Snippet
```java
            ConnectionManager connManager,
            DbKeyValueServiceConfig config,
            Optional<KeyValueServiceRuntimeConfig> runtimeConfig) {
        MaskedValue password = runtimeConfig
                .flatMap(DbKeyValueServiceConfigs::tryCastToDbKeyValueServiceRuntimeConfig)
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'oldLimit'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/timestamp/InDbTimestampBoundStore.java`
#### Snippet
```java

    private interface Operation {
        long run(Connection connection, OptionalLong oldLimit) throws SQLException;
    }

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeInfo'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockDiagnosticCollector.java`
#### Snippet
```java
    }

    private static Optional<LockInfo> nextLockInfo(Optional<LockInfo> maybeInfo, LockState nextStage) {
        return Optional.ofNullable(maybeInfo)
                .flatMap(Function.identity())
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockWatchVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java

    private ListenableFuture<GetCommitTimestampsResponse> getCommitTimestampsInternal(
            String namespace, int numTimestamps, Optional<ConjureIdentifiedVersion> lockWatchVersion) {
        return forNamespace(namespace)
                .getCommitTimestamps(numTimestamps, lockWatchVersion.map(this::toIdentifiedVersion));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lockDiagnosticInfoCollector'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/LockLog.java`
#### Snippet
```java

    private final LockEvents events;
    private final Optional<LockDiagnosticCollector> lockDiagnosticInfoCollector;

    public LockLog(MetricRegistry metricRegistry, Supplier<Long> thresholdMillis) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fromVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLog.java`
#### Snippet
```java

public interface LockEventLog {
    LockWatchStateUpdate getLogDiff(Optional<LockWatchVersion> fromVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLog.java`
#### Snippet
```java
    LockWatchStateUpdate getLogDiff(Optional<LockWatchVersion> fromVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);

    void logLock(Set<LockDescriptor> locksTakenOut, LockToken lockToken);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingService.java`
#### Snippet
```java

public interface LockWatchingService extends LockWatchStarter {
    LockWatchStateUpdate getWatchStateUpdate(Optional<LockWatchVersion> lastKnownVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockWatchingService.java`
#### Snippet
```java
    LockWatchStateUpdate getWatchStateUpdate(Optional<LockWatchVersion> lastKnownVersion);

    <T> ValueAndLockWatchStateUpdate<T> runTask(Optional<LockWatchVersion> lastKnownVersion, Supplier<T> task);

    void registerLock(Set<LockDescriptor> locksTakenOut, LockToken token);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'fromVersion'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
    }

    private Optional<LockWatchStateUpdate> tryGetNextEvents(Optional<LockWatchVersion> fromVersion) {
        if (!fromVersion.isPresent() || !fromVersion.get().id().equals(logId)) {
            return Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheKey'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchPaxosAcceptor.java`
#### Snippet
```java
     * @return digest containing next cacheKey and updates since provided {@code cacheKey}
     */
    AcceptorCacheDigest latestSequencesPreparedOrAccepted(Optional<AcceptorCacheKey> cacheKey, Set<Client> clients)
            throws InvalidAcceptorCacheKeyException;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'outcome'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/GetSuspectedLeaderWithUuid.java`
#### Snippet
```java
    private static void completeRequest(
            Collection<DisruptorFuture<Optional<ClientAwareLeaderPinger>>> futures,
            Optional<ClientAwareLeaderPinger> outcome) {
        futures.forEach(result -> result.set(outcome));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedResourcesConfig'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            DdlConfig config,
            SqlConnectionSupplier connections,
            Optional<SharedResourcesConfig> sharedResourcesConfig) {
        ExecutorService executor = SharedFixedExecutors.createOrGetShared(
                "Atlas Relational KVS",
```

### OptionalUsedAsFieldOrParameterType
`Optional`>> used as type for field 'tagFunction'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/util/TaggedMetricsInvocationEventHandler.java`
#### Snippet
```java
    private final String serviceName;

    private final Optional<Function<InvocationContext, Map<String, String>>> tagFunction;

    @Nullable
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'sweeperStrategy'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/SweepStrategy.java`
#### Snippet
```java
    public static final SweepStrategy THOROUGH = new SweepStrategy(Optional.of(SweeperStrategy.THOROUGH), true);

    private final Optional<SweeperStrategy> sweeperStrategy;
    private final boolean mustCheckImmutableLockAfterReads;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sweeperStrategy'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/SweepStrategy.java`
#### Snippet
```java
    private final boolean mustCheckImmutableLockAfterReads;

    private SweepStrategy(Optional<SweeperStrategy> sweeperStrategy, boolean mustCheckImmutableLockAfterReads) {
        this.sweeperStrategy = sweeperStrategy;
        this.mustCheckImmutableLockAfterReads = mustCheckImmutableLockAfterReads;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'allSafeForLogging'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/logging/LoggingArgs.java`
#### Snippet
```java

    private static volatile KeyValueServiceLogArbitrator logArbitrator = KeyValueServiceLogArbitrator.ALL_UNSAFE;
    private static Optional<Boolean> allSafeForLogging = Optional.empty();

    private LoggingArgs() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedExecutorSize'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionManager.java`
#### Snippet
```java
    }

    ExecutorService createGetRangesExecutor(int numThreads, Optional<Integer> sharedExecutorSize) {
        return GetRangesExecutors.createGetRangesExecutor(
                numThreads, AbstractTransactionManager.this.getClass().getSimpleName(), sharedExecutorSize);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedExecutorThreads'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/GetRangesExecutors.java`
#### Snippet
```java
    @SuppressWarnings("DangerousThreadPoolExecutorUsage")
    public static ExecutorService createGetRangesExecutor(
            int numThreads, String prefix, Optional<Integer> sharedExecutorThreads) {
        String name = prefix + "-get-ranges";
        return wrapWithSizeMonitoring(SharedFixedExecutors.createOrGetShared(name, numThreads, sharedExecutorThreads));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'redirectRetryTargeter'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/NotCurrentLeaderExceptionMapper.java`
#### Snippet
```java
 */
public class NotCurrentLeaderExceptionMapper extends ProtocolAwareExceptionMapper<NotCurrentLeaderException> {
    private final Optional<RedirectRetryTargeter> redirectRetryTargeter;

    public NotCurrentLeaderExceptionMapper() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'leaderHint'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/RedirectRetryTargeter.java`
#### Snippet
```java
    }

    public Optional<URL> redirectRequest(Optional<HostAndPort> leaderHint) {
        if (otherServers.isEmpty()) {
            return Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpClients.java`
#### Snippet
```java

    public static <T> T createProxy(
            Optional<TrustContext> trustContext, String uri, Class<T> type, AuxiliaryRemotingParameters parameters) {
        return wrapWithOkHttpBugHandling(type, () -> ConjureJavaRuntimeTargetFactory.DEFAULT
                .createProxy(trustContext, uri, type, parameters)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'config'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<ServerListConfig> addFallbackSslConfigurationToServerList(
            Optional<ServerListConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(addSslConfigurationToServerListFunction(sslConfiguration));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<ServerListConfig> addFallbackSslConfigurationToServerList(
            Optional<ServerListConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(addSslConfigurationToServerListFunction(sslConfiguration));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    public static AtlasDbConfig addFallbackSslConfigurationToAtlasDbConfig(
            AtlasDbConfig config, Optional<SslConfiguration> sslConfiguration) {
        return ImmutableAtlasDbConfig.builder()
                .from(config)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'primary'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    // this behavior mimics guava's "public abstract Optional<T> or(Optional<? extends T> secondChoice)" method
    private static <T> Optional<T> getFirstPresentOptional(Optional<T> primary, Optional<T> secondary) {
        return primary.isPresent() ? primary : secondary;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'secondary'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    // this behavior mimics guava's "public abstract Optional<T> or(Optional<? extends T> secondChoice)" method
    private static <T> Optional<T> getFirstPresentOptional(Optional<T> primary, Optional<T> secondary) {
        return primary.isPresent() ? primary : secondary;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'config'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<LeaderConfig> addFallbackSslConfigurationToLeader(
            Optional<LeaderConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(leader -> ImmutableLeaderConfig.builder()
                .from(leader)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<LeaderConfig> addFallbackSslConfigurationToLeader(
            Optional<LeaderConfig> config, Optional<SslConfiguration> sslConfiguration) {
        return config.map(leader -> ImmutableLeaderConfig.builder()
                .from(leader)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Function<ServerListConfig, ServerListConfig> addSslConfigurationToServerListFunction(
            Optional<SslConfiguration> sslConfiguration) {
        return serverList -> ImmutableServerListConfig.builder()
                .from(serverList)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'config'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<TimeLockClientConfig> addFallbackSslConfigurationToTimeLockClientConfig(
            Optional<TimeLockClientConfig> config, Optional<SslConfiguration> sslConfiguration) {
        //noinspection ConstantConditions - function returns an existing ServerListConfig, maybe with different SSL.
        return config.map(clientConfig -> ImmutableTimeLockClientConfig.builder()
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfigs.java`
#### Snippet
```java

    private static Optional<TimeLockClientConfig> addFallbackSslConfigurationToTimeLockClientConfig(
            Optional<TimeLockClientConfig> config, Optional<SslConfiguration> sslConfiguration) {
        //noinspection ConstantConditions - function returns an existing ServerListConfig, maybe with different SSL.
        return config.map(clientConfig -> ImmutableTimeLockClientConfig.builder()
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockLockInfo'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/debug/TransactionPostMortemRunner.java`
#### Snippet
```java
            long startTimestamp,
            WritesDigest<T> writesDigest,
            Optional<LockDiagnosticInfo> timelockLockInfo,
            ClientLockDiagnosticDigest clientLockDigest) {
        Map<UUID, Set<ConjureLockDescriptor>> lockRequests = ImmutableMap.<UUID, Set<ConjureLockDescriptor>>builder()
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'maybeLockStates'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/debug/TransactionPostMortemRunner.java`
#### Snippet
```java

    private static LockDigest lockDigest(
            Set<ConjureLockDescriptor> lockDescriptors, Optional<Map<LockState, Instant>> maybeLockStates) {
        Map<LockState, Instant> lockStates =
                maybeLockStates.orElseGet(() -> ImmutableMap.of(LockState.NOT_PRESENT_ON_TIMELOCK, Instant.EPOCH));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'serverListOptional'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/config/AtlasDbConfig.java`
#### Snippet
```java
    }

    private static void checkServersListHasAtLeastOneServerIfPresent(Optional<ServerListConfig> serverListOptional) {
        serverListOptional.ifPresent(serverList -> Preconditions.checkState(
                serverList.hasAtLeastOneServer(), "Server list must have at least one server."));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'leaderConfig'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
    private static String timestampServiceCreationInfo = null;

    private final Optional<LeaderConfig> leaderConfig;
    private final Supplier<KeyValueService> keyValueService;
    private final Supplier<ManagedTimestampService> timestampService;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'leaderConfig'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
            KeyValueServiceConfig config,
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            Optional<TableReference> tableReferenceOverride,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'namespace'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
            Refreshable<Optional<KeyValueServiceRuntimeConfig>> runtimeConfig,
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            Optional<TableReference> tableReferenceOverride,
            boolean initializeAsync,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableReferenceOverride'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/ServiceDiscoveringAtlasSupplier.java`
#### Snippet
```java
            Optional<LeaderConfig> leaderConfig,
            Optional<String> namespace,
            Optional<TableReference> tableReferenceOverride,
            boolean initializeAsync,
            boolean collectThreadDumpOnInit,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/Leaders.java`
#### Snippet
```java
            Collection<String> remoteEndpoints,
            Supplier<RemotingClientConfig> remotingClientConfig,
            Optional<TrustContext> trustContext,
            UserAgent userAgent) {
        return KeyedStream.of(remoteEndpoints)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/Leaders.java`
#### Snippet
```java
            Set<String> remoteUris,
            Supplier<RemotingClientConfig> remotingClientConfig,
            Optional<TrustContext> trustContext,
            Class<T> clazz,
            UserAgent userAgent) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            UserAgent userAgent,
            String timelockNamespace,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas,
            LockWatchCachingConfig cachingConfig) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
        Refreshable<ServerListConfig> serverListConfigSupplier =
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final TimestampStoreInvalidator invalidator;
    private final UserAgent userAgent;
    private final Optional<LockDiagnosticComponents> lockDiagnosticComponents;
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas) {
        this(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private static LockTokenUnlocker getTimeLockUnlocker(
            String timelockNamespace,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            NamespacedConjureTimelockService namespacedConjureTimelockService,
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> knownSchemas) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> knownSchemas) {
        AtlasDbRuntimeConfig initialRuntimeConfig = runtimeConfig.get();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
    private final Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders;
    private final Set<Schema> schemas;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private static LeaderTimeGetter getLeaderTimeGetter(
            String timelockNamespace,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            NamespacedConjureTimelockService namespacedConjureTimelockService,
            Supplier<InternalMultiClientConjureTimelockService> multiClientTimelockServiceSupplier) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
    private final Optional<LockDiagnosticComponents> lockDiagnosticComponents;
    private final ReloadingFactory reloadingFactory;
    private final Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask;
    private final Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders;
    private final Set<Schema> schemas;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lockDiagnosticComponents'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            TimestampStoreInvalidator invalidator,
            UserAgent userAgent,
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockFeedbackBackgroundTask'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            Optional<LockDiagnosticComponents> lockDiagnosticComponents,
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timelockRequestBatcherProviders'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/DefaultLockAndTimestampServiceFactory.java`
#### Snippet
```java
            ReloadingFactory reloadingFactory,
            Optional<TimeLockFeedbackBackgroundTask> timeLockFeedbackBackgroundTask,
            Optional<TimeLockRequestBatcherProviders> timelockRequestBatcherProviders,
            Set<Schema> schemas,
            Function<TimelockService, TimeLockClient> timelockClientFactory) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'unreadableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java
    }

    private TestSweeperModule(Optional<LongSupplier> unreadableTs, Optional<LongSupplier> immutableTs) {
        this.unreadableTs = unreadableTs;
        this.immutableTs = immutableTs;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java
    }

    private TestSweeperModule(Optional<LongSupplier> unreadableTs, Optional<LongSupplier> immutableTs) {
        this.unreadableTs = unreadableTs;
        this.immutableTs = immutableTs;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'unreadableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java
public class TestSweeperModule {

    private final Optional<LongSupplier> unreadableTs;
    private final Optional<LongSupplier> immutableTs;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableTs'
in `atlasdb-dagger/src/main/java/com/palantir/atlasdb/services/test/TestSweeperModule.java`
#### Snippet
```java

    private final Optional<LongSupplier> unreadableTs;
    private final Optional<LongSupplier> immutableTs;

    public static TestSweeperModule create(LongSupplier ts) {
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'undertowRegistrar'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
            Refreshable<TimeLockRuntimeConfiguration> runtime,
            ClusterConfiguration cluster,
            Optional<Consumer<UndertowService>> undertowRegistrar,
            int threadPoolSize,
            long blockingTimeoutMs,
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for field 'undertowRegistrar'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
    private final ClusterConfiguration cluster;
    private final Consumer<Object> registrar;
    private final Optional<Consumer<UndertowService>> undertowRegistrar;
    private final PaxosResources paxosResources;
    private final LockCreator lockCreator;
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'undertowRegistrar'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimeLockAgent.java`
#### Snippet
```java
            long blockingTimeoutMs,
            Consumer<Object> registrar,
            Optional<Consumer<UndertowService>> undertowRegistrar,
            OrderableSlsVersion timeLockVersion,
            ObjectMapper objectMapper,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeoutDuration'
in `atlasdb-commons/src/main/java/com/palantir/util/SafeShutdownRunner.java`
#### Snippet
```java
    private final Optional<Duration> timeoutDuration;

    private SafeShutdownRunner(Optional<Duration> timeoutDuration, ExecutorService executorService) {
        this.timeoutDuration = timeoutDuration;
        this.executor = executorService;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeoutDuration'
in `atlasdb-commons/src/main/java/com/palantir/util/SafeShutdownRunner.java`
#### Snippet
```java
    private final List<Throwable> failures = new ArrayList<>();
    private final ExecutorService executor;
    private final Optional<Duration> timeoutDuration;

    private SafeShutdownRunner(Optional<Duration> timeoutDuration, ExecutorService executorService) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'serviceHint'
in `atlasdb-commons/src/main/java/com/palantir/common/remoting/ServiceNotAvailableException.java`
#### Snippet
```java
    private static final long serialVersionUID = 2L;

    private final Optional<HostAndPort> serviceHint;

    public ServiceNotAvailableException(String message, Throwable cause, HostAndPort serviceHint) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'proxy'
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/ClientOptions.java`
#### Snippet
```java

    public ClientConfiguration create(
            List<String> endpointUris, Optional<ProxySelector> proxy, TrustContext trustContext) {
        ClientConfiguration partialConfig =
                ClientConfigurations.of(endpointUris, trustContext.sslSocketFactory(), trustContext.x509TrustManager());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'diagnosticComponents'
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TimeLockTestUtils.java`
#### Snippet
```java
            AtlasDbRuntimeConfig runtimeConfigTemplate,
            ImmutableAtlasDbConfig.Builder installConfigTemplate,
            Optional<LockDiagnosticComponents> diagnosticComponents,
            Schema... schemas) {
        List<String> serverUris = cluster.servers().stream()
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'version'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java

    public VersionedLockWatchStateImpl(
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
            Map<LockDescriptor, LockWatchInfo> locks,
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for field 'version'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java

public class VersionedLockWatchStateImpl implements VersionedLockWatchState {
    private final OptionalLong version;
    private final RangeSet<LockDescriptor> watchedRanges;
    private final Map<LockDescriptor, LockWatchInfo> locks;
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'lastLocked'
in `lock-api-objects/src/main/java/com/palantir/lock/watch/LockWatchInfo.java`
#### Snippet
```java
    OptionalLong lastLocked();

    static LockWatchInfo of(State state, OptionalLong lastLocked) {
        return ImmutableLockWatchInfo.of(state, lastLocked);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'waitStrategy'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/DisruptorAutobatcher.java`
#### Snippet
```java
            int bufferSize,
            String safeLoggablePurpose,
            Optional<WaitStrategy> waitStrategy,
            Runnable closingCallback) {
        Disruptor<DisruptorBatchElement<T, R>> disruptor = new Disruptor<>(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeoutHandler'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
        private Optional<WaitStrategy> waitStrategy = Optional.empty();

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'batchFunctionTimeout'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private Observability observability = Observability.UNDECIDED;
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
        private Optional<WaitStrategy> waitStrategy = Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for field 'bufferSize'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java

        private Observability observability = Observability.UNDECIDED;
        private OptionalInt bufferSize = OptionalInt.empty();
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
```

### OptionalUsedAsFieldOrParameterType
`OptionalInt` used as type for parameter 'bufferSizeParam'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        }

        public AutobatcherBuilder<I, O> bufferSize(OptionalInt bufferSizeParam) {
            this.bufferSize = bufferSizeParam;
            return this;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'waitStrategy'
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        private Optional<Duration> batchFunctionTimeout = Optional.empty();
        private Optional<TimeoutHandler> timeoutHandler = Optional.empty();
        private Optional<WaitStrategy> waitStrategy = Optional.empty();

        @Nullable
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'tableMetadata'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/ColumnFamilyDefinitions.java`
#### Snippet
```java
    }

    private static Map<String, String> getCompressionOptions(Optional<TableMetadata> tableMetadata) {
        int explicitCompressionBlockSizeKb = tableMetadata
                .map(TableMetadata::getExplicitCompressionBlockSizeKB)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'overrideStrategyForTest'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraRequestExceptionHandler.java`
#### Snippet
```java
    private final Supplier<Boolean> useConservativeHandler;
    private final Blacklist blacklist;
    private final Optional<RequestExceptionHandlerStrategy> overrideStrategyForTest;

    CassandraRequestExceptionHandler(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientFactory.java`
#### Snippet
```java
    }

    private static SSLSocketFactory createSslSocketFactory(Optional<SslConfiguration> sslConfiguration) {
        return sslConfiguration
                .map(sslSocketFactoryCache::get)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideTimestamp'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellValuePutter.java`
#### Snippet
```java
            final TableReference tableRef,
            final Iterable<Map.Entry<Cell, Value>> values,
            Optional<Long> overrideTimestamp) {
        Map<CassandraServer, Map<Cell, Value>> cellsByHost = HostPartitioner.partitionMapByHost(clientPool, values);
        List<Callable<Void>> tasks = new ArrayList<>(cellsByHost.size());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideTimestamp'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellValuePutter.java`
#### Snippet
```java
            final TableReference tableRef,
            final Iterable<Map.Entry<Cell, Value>> values,
            Optional<Long> overrideTimestamp)
            throws Exception {
        clientPool.runWithRetryOnServer(server, new FunctionCheckedException<CassandraClient, Void, Exception>() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'overrideLocation'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java
    private final Supplier<Optional<String>> snitchSupplier;
    private final Supplier<Optional<HostLocation>> ec2Supplier;
    private final Optional<HostLocation> overrideLocation;

    @VisibleForTesting
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideLocation'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java
    }

    static HostLocationSupplier create(Supplier<String> snitchSupplier, Optional<HostLocation> overrideLocation) {
        return new HostLocationSupplier(
                ExceptionHandlingSupplier.create(snitchSupplier, NUM_RETRIES),
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'overrideLocation'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/HostLocationSupplier.java`
#### Snippet
```java
            Supplier<Optional<String>> snitchSupplier,
            Supplier<Optional<HostLocation>> ec2Supplier,
            Optional<HostLocation> overrideLocation) {
        this.snitchSupplier = Suppliers.memoize(snitchSupplier::get);
        this.ec2Supplier = Suppliers.memoize(ec2Supplier::get);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sslConfiguration'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/client/creation/ClusterFactory.java`
#### Snippet
```java

    private static Cluster.Builder withSslOptions(
            Cluster.Builder builder, boolean usingSsl, Optional<SslConfiguration> sslConfiguration) {
        if (!usingSsl) {
            return builder;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeKeyspace'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfigs.java`
#### Snippet
```java
     * contradictory keyspaces)
     */
    default CassandraKeyValueServiceConfigs copyWithResolvedKeyspace(Optional<String> maybeKeyspace) {
        String desiredKeyspace =
                OptionalResolver.resolve(maybeKeyspace, installConfig().keyspace());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'runtimeConfig'
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java

    private void ensureTransactionSchemaVersionInstalled(
            AtlasDbConfig config, Optional<AtlasDbRuntimeConfig> runtimeConfig, TransactionManager transactionManager) {
        if (runtimeConfig.isEmpty()
                || runtimeConfig
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedThreads'
in `commons-executors/src/main/java/com/palantir/common/concurrent/SharedFixedExecutors.java`
#### Snippet
```java
    }

    public static ExecutorService createOrGetShared(String threadName, int poolSize, Optional<Integer> sharedThreads) {
        if (sharedThreads.isPresent()) {
            ExecutorService sharedExecutor = getOrCreate(threadName, poolSize);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'progress'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/TableToSweep.java`
#### Snippet
```java
    }

    private TableToSweep(TableReference tableRef, SingleLockService sweepLock, Optional<SweepProgress> progress) {
        this.tableRef = tableRef;
        this.sweepLock = sweepLock;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeOutcome'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    }

    private void sleepUntilNextRun(Optional<SweepOutcome> maybeOutcome) throws InterruptedException {
        sleepFor(getSleepDuration(maybeOutcome));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeOutcome'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    }

    private Duration getSleepDuration(Optional<SweepOutcome> maybeOutcome) {
        return maybeOutcome
                .flatMap(outcome -> {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'currentTable'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/BackgroundSweepThread.java`
#### Snippet
```java
    private final int threadIndex;

    private Optional<TableToSweep> currentTable = Optional.empty();

    // VisibleForTesting - used in internal test code
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'metricsManager'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/SweepTaskRunner.java`
#### Snippet
```java
    private final SpecialTimestampsSupplier specialTimestampsSupplier;
    private final CellsSweeper cellsSweeper;
    private final Optional<LegacySweepMetrics> metricsManager;
    private final CommitTsCache commitTsCache;

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maybeMetrics'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
    private final TableReference tableRef;
    private final WriteInfoPartitioner partitioner;
    final Optional<TargetedSweepMetrics> maybeMetrics;

    public SweepQueueTable(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java
        }

        private void logException(Throwable th, Optional<TargetedSweeperLock> maybeLock) {
            if (maybeLock.isPresent()) {
                log.warn(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/TargetedSweeper.java`
#### Snippet
```java
        }

        private void logUnlockException(Throwable th, Optional<TargetedSweeperLock> maybeLock) {
            if (maybeLock.isPresent()) {
                log.info(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'filter'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/metrics/SweepOutcomeMetrics.java`
#### Snippet
```java
            Map<String, String> additionalTags,
            Class<?> forClass,
            Optional<MetricPublicationFilter> filter) {
        return Suppliers.memoize(() -> {
            Metrics metrics = ImmutableSweepOutcomeMetrics.Metrics.builder().build();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeRef'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
    private Map<Cell, byte[]> addCell(
            PartitionInfo info,
            Optional<WriteReference> writeRef,
            boolean isDedicatedRow,
            long dedicatedRowNumber,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeRef'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
    }

    private SweepableCellsColumnValue createColVal(long ts, long index, Optional<WriteReference> writeRef) {
        SweepableCellsTable.SweepableCellsColumn col = SweepableCellsTable.SweepableCellsColumn.of(tsMod(ts), index);
        return SweepableCellsColumnValue.of(col, writeReferencePersister.persist(writeRef));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'chosenTable'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/NextTableToSweepProvider.java`
#### Snippet
```java

    private Optional<TableToSweep> logDecision(
            Optional<TableToSweep> chosenTable,
            Map<TableReference, Double> scores,
            SweepPriorityOverrideConfig sweepPriorityOverrideConfig) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'actual'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequest.java`
#### Snippet
```java
    }

    private static Exception failureInternal(CasRequest req, Optional<byte[]> actual) {
        return req.rank().equals(UpdateRank.TOUCH)
                ? new CheckAndSetException(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'actual'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/mcas/CasRequest.java`
#### Snippet
```java
    }

    static Exception failure(CasRequest req, Optional<byte[]> actual) {
        return failureInternal(req, actual);
    }
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'startTimestamp'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/restore/V1TransactionsTableRangeDeleter.java`
#### Snippet
```java
    public V1TransactionsTableRangeDeleter(
            KeyValueService kvs,
            OptionalLong startTimestamp,
            boolean skipStartTimestampCheck,
            OutputStateLogger stateLogger) {
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for field 'startTimestamp'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/restore/V1TransactionsTableRangeDeleter.java`
#### Snippet
```java
public class V1TransactionsTableRangeDeleter implements TransactionTableRangeDeleter {
    private final KeyValueService kvs;
    private final OptionalLong startTimestamp;
    private final boolean skipStartTimestampCheck;
    private final OutputStateLogger stateLogger;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lowerBoundTimestamp'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/KeyValueServicePuncherStore.java`
#### Snippet
```java
     */
    private static BoundsOrMillis getBoundsForRangeScan(
            KeyValueService kvs, long timestamp, Bounds initialBounds, Optional<Long> lowerBoundTimestamp) {
        MillisAndMaybeTimestamp upperBound = ImmutableMillisAndMaybeTimestamp.builder()
                .millis(initialBounds.upper())
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'writeReference'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/WriteReferencePersister.java`
#### Snippet
```java
    }

    public StoredWriteReference persist(Optional<WriteReference> writeReference) {
        if (writeReference.isEmpty()) {
            return DUMMY;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'cacheValue'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionCacheValueStoreImpl.java`
#### Snippet
```java
    }

    private static CacheValue getReadValue(Optional<CacheValue> cacheValue) {
        return cacheValue.orElseThrow(() -> new SafeIllegalStateException("Reads must have a cache value present"));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'version'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/CacheUpdate.java`
#### Snippet
```java

    private final boolean shouldClearCache;
    private final Optional<LockWatchVersion> version;

    CacheUpdate(boolean shouldClearCache, Optional<LockWatchVersion> version) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'version'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/CacheUpdate.java`
#### Snippet
```java
    private final Optional<LockWatchVersion> version;

    CacheUpdate(boolean shouldClearCache, Optional<LockWatchVersion> version) {
        this.shouldClearCache = shouldClearCache;
        this.version = version;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'commitLocksToken'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java
        private final Optional<UUID> commitRequestId;

        private LockEventVisitor(Optional<LockToken> commitLocksToken) {
            commitRequestId = commitLocksToken
                    .filter(lockToken -> lockToken instanceof LeasedLockToken)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'commitInfo'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    default CommitUpdate toCommitUpdate(
            LockWatchVersion startVersion, LockWatchVersion endVersion, Optional<CommitInfo> commitInfo) {
        if (clearCache()) {
            return CommitUpdate.invalidateAll();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'lastKnownVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    default TransactionsLockWatchUpdate toTransactionsLockWatchUpdate(
            TimestampMapping timestampMapping, Optional<LockWatchVersion> lastKnownVersion) {
        /*
         Case 1: client is behind earliest transaction. Therefore we want to ensure that there are events present for
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'commitRequestId'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLogEvents.java`
#### Snippet
```java

    final class LockEventVisitor implements LockWatchEvent.Visitor<Set<LockDescriptor>> {
        private final Optional<UUID> commitRequestId;

        private LockEventVisitor(Optional<LockToken> commitLocksToken) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeUpdateVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
    }

    private synchronized void updateCurrentVersion(Optional<LockWatchVersion> maybeUpdateVersion) {
        maybeUpdateVersion
                .filter(this::shouldUpdateVersion)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'latestVersionFromUpdate'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java

    private synchronized void clearCache(
            TransactionsLockWatchUpdate updateForTransactions, Optional<LockWatchVersion> latestVersionFromUpdate) {
        LockWatchEvent firstEvent = null;
        LockWatchEvent lastEvent = null;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'currentVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java
    private final SnapshotStore snapshotStore;

    private volatile Optional<LockWatchVersion> currentVersion = Optional.empty();

    private final CacheMetrics cacheMetrics;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'latestVersionFromUpdate'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/LockWatchValueScopingCacheImpl.java`
#### Snippet
```java

    private void registerAllClearEventAndMaybeLog(
            Optional<LockWatchVersion> latestVersionFromUpdate, LockWatchEvent firstEvent, LockWatchEvent lastEvent) {
        cacheMetrics.increaseCacheStateAllClear();
        rateLimitedLogger.log(logger -> logger.info(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'latestVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEvents.java`
#### Snippet
```java
    }

    default void assertNoEventsAreMissingAfterLatestVersion(Optional<LockWatchVersion> latestVersion) {
        if (events().isEmpty()) {
            return;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'snapshotVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/ClientLockWatchSnapshot.java`
#### Snippet
```java
    private final Set<LockDescriptor> locked;
    private final EventVisitor visitor;
    private Optional<LockWatchVersion> snapshotVersion;

    static ClientLockWatchSnapshot create() {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'earliestSequenceToKeep'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/VersionedEventStore.java`
#### Snippet
```java
    }

    LockWatchEvents retentionEvents(Optional<Sequence> earliestSequenceToKeep) {
        if (eventMap.size() < minEvents) {
            return LockWatchEvents.builder().build();
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeStartVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/VersionedEventStore.java`
#### Snippet
```java
    }

    Collection<LockWatchEvent> getEventsBetweenVersionsInclusive(Optional<Long> maybeStartVersion, long endVersion) {
        Optional<Long> startVersion = maybeStartVersion.or(this::getFirstKey).filter(version -> version <= endVersion);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'latestVersion'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
    private final VersionedEventStore eventStore;
    private final ReadWriteLock eventLock;
    private volatile Optional<LockWatchVersion> latestVersion = Optional.empty();

    static LockWatchEventLog create(CacheMetrics metrics, int minEvents, int maxEvents) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'earliestSequence'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventLog.java`
#### Snippet
```java
     * that may attempt to read from both of these data structures.
     */
    void retentionEvents(Optional<Sequence> earliestSequence) {
        runWithWriteLock(() -> getLatestKnownVersion().ifPresent(version -> {
            LockWatchEvents eventsToBeRemoved = eventStore.retentionEvents(earliestSequence);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        return create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        return create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        TransactionManager transactionManager = new SerializableTransactionManager(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        super(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        return create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
    public CommitTimestampLoader(
            TimestampCache timestampCache,
            Optional<LockToken> immutableTimestampLock,
            Supplier<Long> startTimestampSupplier,
            Supplier<TransactionConfig> transactionConfig,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
    private static final SafeLogger perfLogger = SafeLoggerFactory.get("dualschema.perf");
    private final TimestampCache timestampCache;
    private final Optional<LockToken> immutableTimestampLock;
    private final Supplier<Long> startTimestampSupplier;
    private final Supplier<TransactionConfig> transactionConfig;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'sharedGetRangesPoolSize'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
            ConflictTracer conflictTracer,
            MetricsFilterEvaluationContext metricsFilterEvaluationContext,
            Optional<Integer> sharedGetRangesPoolSize,
            TransactionKnowledgeComponents knowledge) {
        super(metricsManager, timestampCache, () -> transactionConfig.get().retryStrategy());
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'oldValue'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsStore.java`
#### Snippet
```java

    private CheckAndSetRequest getCheckAndSetRequest(
            Optional<ReadResult> oldValue, ConcludedRangeState concludedRangeState) {
        byte[] serializedTargetSet = serializeTimestampRangeSet(concludedRangeState);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeSnapshot'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java
    }

    private long getLatestTsSeenSoFar(Set<Long> batch, Optional<PatchyCache> maybeSnapshot) {
        long latestTsRequested = batch.stream().max(Comparator.naturalOrder()).orElse(0L);
        long latestTsSeenSoFar = latestTsRequested;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeSnapshot'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/AbandonedTransactionSoftCache.java`
#### Snippet
```java

    private PatchyCache refreshPatchyCache(
            Optional<PatchyCache> maybeSnapshot, long latestTsSeenSoFar, Bucket latestBucketSeenSoFar) {
        PatchyCache refreshedPatchyCache;

```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'valueAndBound'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/ReadOnlyTransactionSchemaManager.java`
#### Snippet
```java

    private static Optional<Integer> extractTimestampVersion(
            Optional<ValueAndBound<InternalSchemaMetadata>> valueAndBound, long timestamp) {
        return valueAndBound
                .flatMap(ValueAndBound::value)
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'timestampMap'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/metrics/MetadataCoordinationServiceMetrics.java`
#### Snippet
```java
    }

    private static Integer getVersionAtTimestamp(Optional<TimestampPartitioningMap<Integer>> timestampMap, long bound) {
        return timestampMap.map(map -> map.getValueForTimestamp(bound)).orElse(null);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional`> used as type for parameter 'valueAndBound'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java

    private static Optional<Integer> extractTimestampVersion(
            Optional<ValueAndBound<InternalSchemaMetadata>> valueAndBound, long timestamp) {
        return valueAndBound
                .flatMap(ValueAndBound::value)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTsLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
            SweepStrategyManager sweepStrategyManager,
            long immutableTimestamp,
            Optional<LockToken> immutableTsLock,
            PreCommitCondition preCommitCondition,
            AtlasDbConstraintCheckingMode constraintCheckingMode,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'trustContext'
in `atlasdb-remoting-api/src/main/java/com/palantir/atlasdb/http/TargetFactory.java`
#### Snippet
```java
public interface TargetFactory {
    <T> InstanceAndVersion<T> createProxy(
            Optional<TrustContext> trustContext, String uri, Class<T> type, AuxiliaryRemotingParameters parameters);

    /**
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'protocolVersion'
in `atlasdb-remoting-api/src/main/java/com/palantir/atlasdb/http/AtlasDbHttpProtocolVersion.java`
#### Snippet
```java
    }

    public static AtlasDbHttpProtocolVersion inferFromString(Optional<String> protocolVersion) {
        return protocolVersion.map(KNOWN_VERSION_STRINGS::get).orElse(LEGACY_OR_UNKNOWN);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'conflictHandler'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManager.java`
#### Snippet
```java
    Transaction createNewTransaction();

    void overrideConflictHandlerForTable(TableReference table, Optional<ConflictHandler> conflictHandler);

    void setUnreadableTimestamp(long timestamp);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'unreadableTs'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/TestTransactionManagerImpl.java`
#### Snippet
```java
    private final WrapperWithTracker<CallbackAwareTransaction> transactionWrapper;
    private final WrapperWithTracker<KeyValueService> keyValueServiceWrapper;
    private Optional<Long> unreadableTs = Optional.empty();

    @SuppressWarnings("Indentation") // Checkstyle complains about lambda in constructor.
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            SweepStrategyManager sweepStrategyManager,
            long immutableTimestamp,
            Optional<LockToken> immutableTimestampLock,
            PreCommitCondition preCommitCondition,
            AtlasDbConstraintCheckingMode constraintCheckingMode,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableTimestampLock'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    protected final long immutableTimestamp;
    protected final Optional<LockToken> immutableTimestampLock;
    private final PreCommitCondition preCommitCondition;
    protected final long timeCreated = System.currentTimeMillis();
```

### OptionalUsedAsFieldOrParameterType
`OptionalLong` used as type for parameter 'migrateFrom'
in `leader-election-impl/src/main/java/com/palantir/paxos/SplittingPaxosStateLog.java`
#### Snippet
```java
            Persistable.Hydrator<V> hydrator,
            LegacyOperationMarkers legacyOperationMarkers,
            OptionalLong migrateFrom) {
        String logDirectory = params.fileBasedLogDirectory()
                .orElseThrow(() -> new SafeIllegalStateException("We currently need to have file-based storage"));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java

    public static PersistedRateLimitingLeadershipPrioritiser create(
            Optional<OrderableSlsVersion> timeLockVersion,
            Supplier<Duration> leadershipAttemptBackoff,
            DataSource sqliteDataSource) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java
    @VisibleForTesting
    PersistedRateLimitingLeadershipPrioritiser(
            Optional<OrderableSlsVersion> timeLockVersion,
            Supplier<Duration> leadershipAttemptBackoff,
            GreenNodeLeadershipAttemptHistory greenNodeLeadershipAttemptHistory,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/PersistedRateLimitingLeadershipPrioritiser.java`
#### Snippet
```java
    private static final RateLimitedLogger logger = new RateLimitedLogger(log, 1.0 / 60);

    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final Supplier<Duration> leadershipAttemptBackoff;
    private final GreenNodeLeadershipAttemptHistory greenNodeLeadershipAttemptHistory;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'migrateFrom'
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosAcceptorImpl.java`
#### Snippet
```java
            PaxosStorageParameters params,
            SplittingPaxosStateLog.LegacyOperationMarkers legacyOperationMarkers,
            Optional<Long> migrateFrom) {
        PaxosStateLog<PaxosAcceptorState> stateLog = SplittingPaxosStateLog.createWithMigration(
                params,
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    }

    private static boolean isAtLeastOurVersion(PingResult pingResult, Optional<OrderableSlsVersion> timeLockVersion) {
        return (pingResult.timeLockVersion().isPresent() && timeLockVersion.isPresent())
                ? VersionComparator.INSTANCE.compare(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID localUuid,
            boolean cancelRemainingCalls,
            Optional<OrderableSlsVersion> timeLockVersion) {
        GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser =
                PersistedRateLimitingLeadershipPrioritiser.create(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID localUuid,
            boolean cancelRemainingCalls,
            Optional<OrderableSlsVersion> timeLockVersion) {
        GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser = new RateLimitedGreenNodeLeadershipPrioritiser();
        return new SingleLeaderPinger(
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID localUuid,
            boolean cancelRemainingCalls,
            Optional<OrderableSlsVersion> timeLockVersion,
            GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser) {
        this.leaderPingExecutors = otherPingableExecutors;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
            UUID uuid,
            @Nullable Future<Map.Entry<LeaderPingerContext<PingableLeader>, PingResult>> pingFuture,
            Optional<OrderableSlsVersion> timeLockVersion,
            BooleanSupplier shouldGreeningNodeBecomeLeader) {
        if (pingFuture == null) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final UUID localUuid;
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'timeLockVersion'
in `leader-election-impl/src/main/java/com/palantir/leader/LocalPingableLeader.java`
#### Snippet
```java
    private final PaxosLearner knowledge;
    private final String localUuid;
    private final Optional<OrderableSlsVersion> timeLockVersion;

    public LocalPingableLeader(PaxosLearner knowledge, UUID localUuid) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'leadershipObserver'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java
    private final String leaderId;
    private final LeadershipEvents events;
    private final Optional<LeadershipObserver> leadershipObserver;

    @GuardedBy("this")
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'observer'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeadershipEventRecorder.java`
#### Snippet
```java

    @VisibleForTesting
    PaxosLeadershipEventRecorder(LeadershipEvents events, String leaderUuid, Optional<LeadershipObserver> observer) {
        this.events = events;
        this.leaderId = leaderUuid;
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'recentlyPingedLeaderHost'
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java

    private NotCurrentLeaderException notCurrentLeaderException(
            Optional<HostAndPort> recentlyPingedLeaderHost, String message, @Nullable Throwable cause) {
        return recentlyPingedLeaderHost
                .map(hostAndPort -> new NotCurrentLeaderException(message, cause, hostAndPort))
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeGreatestLearnedValue'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private LeaderPingResult pingLeader(Optional<PaxosValue> maybeGreatestLearnedValue) {
        Optional<LeaderPingResult> maybeLeaderPingResult =
                extractLeaderUuid(maybeGreatestLearnedValue).map(leaderPinger::pingLeaderWithUuid);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private StillLeadingStatus determineLeadershipStatus(Optional<PaxosValue> value) {
        return value.map(this::determineLeadershipStatus)
                .map(Futures::getUnchecked)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'paxosValue'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private static long getNextSequenceNumber(Optional<PaxosValue> paxosValue) {
        return paxosValue.map(PaxosValue::getRound).orElse(PaxosAcceptor.NO_LOG_ENTRY) + 1;
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private void proposeLeadershipAfter(Optional<PaxosValue> value) {
        lock.lock();
        try {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeGreatestLearnedValue'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private static Optional<UUID> extractLeaderUuid(Optional<PaxosValue> maybeGreatestLearnedValue) {
        return maybeGreatestLearnedValue.map(PaxosValue::getLeaderUUID).map(UUID::fromString);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'greatestLearned'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
     * @return true if new state was learned, otherwise false
     */
    private boolean updateLearnedStateFromPeers(Optional<PaxosValue> greatestLearned) {
        final long nextToLearnSeq = getNextSequenceNumber(greatestLearned);

```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'valueIfAny'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    }

    private boolean isLatestRound(Optional<PaxosValue> valueIfAny) {
        return valueIfAny.equals(knowledge.getGreatestLearnedValue());
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
        }

        static LeadershipState of(Optional<PaxosValue> value, StillLeadingStatus status) {
            return ImmutableLeadershipState.of(value, status);
        }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'immutableLockToken'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    private static final class TransactionOptions {
        private PreCommitCondition condition = PreCommitConditions.NO_OP;
        private Optional<LockToken> immutableLockToken = Optional.empty();

        public TransactionOptions withCondition(PreCommitCondition newCondition) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maybeNamespace'
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/store/AtlasDbTransactionStoreFactory.java`
#### Snippet
```java

    private final TransactionManager transactionManager;
    private final Optional<Namespace> maybeNamespace;

    public AtlasDbTransactionStoreFactory(TransactionManager transactionManager, Optional<String> maybeNamespace) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'maybeNamespace'
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/store/AtlasDbTransactionStoreFactory.java`
#### Snippet
```java
    private final Optional<Namespace> maybeNamespace;

    public AtlasDbTransactionStoreFactory(TransactionManager transactionManager, Optional<String> maybeNamespace) {
        this.transactionManager = transactionManager;
        this.maybeNamespace = maybeNamespace.map(Namespace::create);
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for field 'maybeCommitOrStartTimestamp'
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/store/AtlasDbTransactionStore.java`
#### Snippet
```java
    static final class CommitTimestampProvider implements PreCommitCondition {

        private Optional<Long> maybeCommitOrStartTimestamp = Optional.empty();

        @Override
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/invariant/SnapshotInvariantVisitor.java`
#### Snippet
```java
     * while the read view is updated to reflect local writes.
     */
    private void applyWrites(String tableName, WorkloadCell cell, Optional<Integer> value) {
        readView.with(table ->
                table.put(TableAndWorkloadCell.of(tableName, cell), ValueAndMaybeTimestamp.of(value, startTimestamp)));
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/ValueAndMaybeTimestamp.java`
#### Snippet
```java
    }

    static ValueAndMaybeTimestamp of(Optional<Integer> value, Long timestamp) {
        return of(value, Optional.of(timestamp));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/ValueAndMaybeTimestamp.java`
#### Snippet
```java
    }

    static ValueAndMaybeTimestamp of(Optional<Integer> value, Optional<Long> timestamp) {
        return ImmutableValueAndMaybeTimestamp.of(value, timestamp);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'timestamp'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/ValueAndMaybeTimestamp.java`
#### Snippet
```java
    }

    static ValueAndMaybeTimestamp of(Optional<Integer> value, Optional<Long> timestamp) {
        return ImmutableValueAndMaybeTimestamp.of(value, timestamp);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/ValueAndMaybeTimestamp.java`
#### Snippet
```java
    }

    static ValueAndMaybeTimestamp of(Optional<Integer> value) {
        return of(value, Optional.empty());
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'actual'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/MismatchedValue.java`
#### Snippet
```java
    }

    static MismatchedValue of(Optional<Integer> actual, Optional<Integer> expected) {
        return MismatchedValue.of(ValueAndMaybeTimestamp.of(actual), ValueAndMaybeTimestamp.of(expected));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'expected'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/invariant/MismatchedValue.java`
#### Snippet
```java
    }

    static MismatchedValue of(Optional<Integer> actual, Optional<Integer> expected) {
        return MismatchedValue.of(ValueAndMaybeTimestamp.of(actual), ValueAndMaybeTimestamp.of(expected));
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/transaction/ReadTransactionAction.java`
#### Snippet
```java
public interface ReadTransactionAction extends SingleCellTransactionAction {

    default WitnessedReadTransactionAction witness(Optional<Integer> value) {
        return ImmutableWitnessedReadTransactionAction.of(table(), cell(), value);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/transaction/witnessed/WitnessedReadTransactionAction.java`
#### Snippet
```java
    }

    static WitnessedReadTransactionAction of(String table, WorkloadCell cell, Optional<Integer> value) {
        return ImmutableWitnessedReadTransactionAction.of(table, cell, value);
    }
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'value'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java
        }

        static <T> CoordinationStoreState<T> of(long sequence, long bound, Optional<T> value) {
            return ImmutableCoordinationStoreState.<T>builder()
                    .sequence(sequence)
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'oldValue'
in `atlasdb-coordination-impl/src/main/java/com/palantir/atlasdb/coordination/keyvalue/KeyValueServiceCoordinationStore.java`
#### Snippet
```java

    private CheckAndSetResult<SequenceAndBound> getFailedResultWithMostRecentValueAndBound(
            Optional<SequenceAndBound> oldValue, SequenceAndBound newValue) {
        Optional<SequenceAndBound> actualValue = getCoordinationValue();
        if (!actualValue.isPresent()) {
```

### OptionalUsedAsFieldOrParameterType
`Optional` used as type for parameter 'learnedValue'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/HistoryAnalyzer.java`
#### Snippet
```java

    // This method is only used for paxos rounds run for timestamp consensus (leader paxos rounds are strictly ignored).
    private static byte[] getPaxosValueData(Optional<PaxosValue> learnedValue) {
        return learnedValue.map(PaxosValue::getData).orElse(null);
    }
```

## RuleId[id=CharsetObjectCanBeUsed]
### CharsetObjectCanBeUsed
StandardCharsets.UTF_8 can be used instead
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarkRunnerBase.java`
#### Snippet
```java
        try {
            for (String line :
                    Files.readLines(new File("../scripts/benchmarks/servers.txt"), Charset.forName("UTF-8"))) {
                if (line.startsWith("CLIENT")) {
                    String hostname = StringUtils.split(line, '=')[1];
```

## RuleId[id=AutoCloseableResource]
### AutoCloseableResource
'ResponseHandler' used without 'try'-with-resources statement
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientTransactionStarter.java`
#### Snippet
```java
            Namespace namespace = requestParams.namespace();
            responseHandlers
                    .computeIfAbsent(
                            namespace,
                            _unused -> new ResponseHandler(
```

### AutoCloseableResource
'AtlasDbServices' used without 'try'-with-resources statement
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KeyValueServiceMigrators.java`
#### Snippet
```java

    public static KeyValueServiceMigrator setupMigrator(MigratorSpec migratorSpec) {
        AtlasDbServices fromServices = migratorSpec.fromServices();
        AtlasDbServices toServices = migratorSpec.toServices();
        TimestampManagementService toTimestampManagementService = toServices.getManagedTimestampService();
```

### AutoCloseableResource
'AtlasDbServices' used without 'try'-with-resources statement
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KeyValueServiceMigrators.java`
#### Snippet
```java
    public static KeyValueServiceMigrator setupMigrator(MigratorSpec migratorSpec) {
        AtlasDbServices fromServices = migratorSpec.fromServices();
        AtlasDbServices toServices = migratorSpec.toServices();
        TimestampManagementService toTimestampManagementService = toServices.getManagedTimestampService();

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public String toString() {
        return delegate().toString();
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public void reset() throws IOException {
        delegate().reset();
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public void mark(int readlimit) {
        delegate().mark(readlimit);
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public int read(byte[] bytes) throws IOException {
        return delegate().read(bytes);
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public boolean equals(Object obj) {
        return delegate().equals(obj);
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public int hashCode() {
        return delegate().hashCode();
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public int read() throws IOException {
        return delegate().read();
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public boolean markSupported() {
        return delegate().markSupported();
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public long skip(long num) throws IOException {
        return delegate().skip(num);
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public int read(byte[] bytes, int off, int len) throws IOException {
        return delegate().read(bytes, off, len);
    }

```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java
    @Override
    public int available() throws IOException {
        return delegate().available();
    }

```

### AutoCloseableResource
'CassandraKeyValueService' used without 'try'-with-resources statement
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/backend/CassandraKeyValueServiceInstrumentation.java`
#### Snippet
```java
    @Override
    public boolean canConnect(InetSocketAddress addr) {
        return CassandraKeyValueServiceImpl.createForTesting(
                        (CassandraKeyValueServiceConfig) getKeyValueServiceConfig(addr),
                        Refreshable.only((CassandraKeyValueServiceRuntimeConfig)
```

### AutoCloseableResource
'OracleDbTableFactory' used without 'try'-with-resources statement
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/cleaner/DbKvsNamespaceDeleterFactory.java`
#### Snippet
```java
        ExecutorService executorService = MoreExecutors.newDirectExecutorService();
        OracleDbTableFactory factory =
                new OracleDbTableFactory(ddlConfig, tableNameGetter, prefixedTableNames, cache, executorService);
        ConnectionSupplier connectionSupplier = createConnectionSupplier(config, runtimeConfig, connectionConfig);

```

### AutoCloseableResource
'ConnectionSupplier' used without 'try'-with-resources statement
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/cleaner/OracleNamespaceDeleter.java`
#### Snippet
```java
    private Set<String> getAllTablesWithPrefix(String prefix) {
        return parameters
                .connectionSupplier()
                .get()
                .selectResultSetUnregisteredQuery(
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureLockWatchingResource.java`
#### Snippet
```java

    private ListenableFuture<Void> startWatchingSync(AuthHeader header, String namespace, LockWatchRequest request) {
        timelockServices.apply(namespace).startWatching(request);
        return Futures.immediateFuture(null);
    }
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            String namespace, Set<LockToken> tokens, Function<RefreshLockResponseV2, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).refreshLockLeases(tokens),
                userTokenTranslator::apply,
                MoreExecutors.directExecutor()));
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
                    .build();
            ListenableFuture<WaitForLocksResponse> tokenFuture =
                    forNamespace(namespace).waitForLocks(lockRequest);
            return Futures.transform(
                    tokenFuture,
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
                    .build();
            ListenableFuture<LockResponseV2> tokenFuture =
                    forNamespace(namespace).lock(lockRequest);
            return Futures.transform(
                    tokenFuture,
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            String namespace, Set<LockToken> tokens, Function<Set<LockToken>, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).unlock(tokens), userTokenTranslator::apply, MoreExecutors.directExecutor()));
    }

```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
        return handleExceptions(() -> {
            ListenableFuture<TimestampRange> rangeFuture =
                    forNamespace(namespace).getFreshTimestampsAsync(timestampsToRetrieve);
            return Futures.transform(rangeFuture, responseWrappingFunction::apply, MoreExecutors.directExecutor());
        });
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<ConjureStartTransactionsResponse> startTransactions(
            AuthHeader authHeader, String namespace, ConjureStartTransactionsRequest request) {
        return handleExceptions(() -> forNamespace(namespace).startTransactionsWithWatches(request));
    }

```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    private ListenableFuture<GetCommitTimestampsResponse> getCommitTimestampsInternal(
            String namespace, int numTimestamps, Optional<ConjureIdentifiedVersion> lockWatchVersion) {
        return forNamespace(namespace)
                .getCommitTimestamps(numTimestamps, lockWatchVersion.map(this::toIdentifiedVersion));
    }
```

### AutoCloseableResource
'AsyncTimelockService' used without 'try'-with-resources statement
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    @Override
    public ListenableFuture<LeaderTime> leaderTime(AuthHeader authHeader, String namespace) {
        return handleExceptions(() -> forNamespace(namespace).leaderTime());
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void truncateTables(Set<TableReference> tableRefs) {
        delegate().truncateTables(tableRefs);
        if (isEnabled.get()) {
            clearedTables.addAll(tableRefs);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
                    Collections2.transform(tableNames, TableReference::getQualifiedName),
                    Functions.compose(Persistables.persistToBytesFunction(), SweepPriorityRow.fromFullTableNameFun()));
            Map<Cell, Value> oldWriteCounts = delegate()
                    .getRows(
                            SWEEP_PRIORITY_TABLE,
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
            // show up in the transaction table before we write do our writes.
            commit(timestamp);
            delegate().put(SWEEP_PRIORITY_TABLE, newWriteCounts, timestamp);
        } catch (RuntimeException e) {
            if (Thread.interrupted()) {
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
                return;
            }
            Set<TableReference> allTableNames = delegate().getAllTableNames();
            if (!allTableNames.contains(SWEEP_PRIORITY_TABLE)
                    || !allTableNames.contains(TransactionConstants.TRANSACTION_TABLE)) {
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public ClusterAvailabilityStatus getClusterAvailabilityStatus() {
        return delegate().getClusterAvailabilityStatus();
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void truncateTable(TableReference tableRef) {
        delegate().truncateTable(tableRef);
        if (isEnabled.get()) {
            recordClear(tableRef);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void putWithTimestamps(TableReference tableRef, Multimap<Cell, Value> cellValues) {
        delegate().putWithTimestamps(tableRef, cellValues);
        if (isEnabled.get()) {
            writesByTable.add(tableRef, cellValues.size());
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void dropTable(TableReference tableRef) {
        delegate().dropTable(tableRef);
        if (isEnabled.get()) {
            recordClear(tableRef);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void put(TableReference tableRef, Map<Cell, byte[]> values, long timestamp) {
        delegate().put(tableRef, values, timestamp);
        if (isEnabled.get()) {
            writesByTable.add(tableRef, values.size());
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
                TransactionConstants.getValueForTimestamp(timestamp), TransactionConstants.COMMIT_TS_COLUMN);
        byte[] value = TransactionConstants.getValueForTimestamp(timestamp);
        delegate().putUnlessExists(TransactionConstants.TRANSACTION_TABLE, ImmutableMap.of(cell, value));
    }
}
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void deleteRange(TableReference tableRef, RangeRequest range) {
        delegate().deleteRange(tableRef, range);
        if (isEnabled.get()) {
            if (RangeRequest.all().equals(range)) {
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/SweepStatsKeyValueService.java`
#### Snippet
```java
    @Override
    public void multiPut(Map<TableReference, ? extends Map<Cell, byte[]>> valuesByTable, long timestamp) {
        delegate().multiPut(valuesByTable, timestamp);
        if (isEnabled.get()) {
            int newWrites = 0;
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.getMetadataForTable", tableRef)) {
            return delegate().getMetadataForTable(tableRef);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.putMetadataForTables", tableRefToMetadata.keySet())) {
            delegate().putMetadataForTables(tableRefToMetadata);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("values", values);
        })) {
            delegate().putUnlessExists(tableRef, values);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.timestamp(timestamp);
        })) {
            return delegate().getRowsColumnRange(tableRef, rows, columnRangeSelection, timestamp);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.deleteRows", tableRef)) {
            delegate().deleteRows(tableRef, rows);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        try (CloseableTracer trace =
                startLocalTrace("atlasdb-kvs.multiCheckAndSet", multiCheckAndSetRequest.tableRef())) {
            delegate().multiCheckAndSet(multiCheckAndSetRequest);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
    @Override
    public boolean shouldTriggerCompactions() {
        return delegate().shouldTriggerCompactions();
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.truncateTable", tableRef)) {
            delegate().truncateTable(tableRef);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.integer("bytes", size);
        })) {
            delegate().putMetadataForTable(tableRef, metadata);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.truncateTables", tableRefs)) {
            delegate().truncateTables(tableRefs);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.timestamp(timestamp);
        })) {
            delegate().put(tableRef, values, timestamp);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        @SuppressWarnings("MustBeClosedChecker")
        ClosableIterator<RowResult<Set<Long>>> result =
                delegate().getRangeOfTimestamps(tableRef, rangeRequest, timestamp);

        return attachDetachedSpanCompletion(detachedSpan, result, sink -> sink.tableRef(tableRef));
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        DetachedSpan detachedSpan = DetachedSpan.start("atlasdb-kvs.getRange");

        ClosableIterator<RowResult<Value>> result = delegate().getRange(tableRef, rangeRequest, timestamp);

        // Only instrument observable traces
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            long timestamp) {
        // No tracing, as we just return a lazy iterator and don't perform any calls to the backing KVS.
        return delegate().getRowsColumnRange(tableRef, rows, columnRangeSelection, cellBatchHint, timestamp);
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        @SuppressWarnings("MustBeClosedChecker")
        ClosableIterator<List<CandidateCellForSweeping>> result =
                delegate().getCandidateCellsForSweeping(tableRef, request);

        return attachDetachedSpanCompletion(detachedSpan, result, sink -> sink.tableRef(tableRef));
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.deleteRange", tableRef)) {
            delegate().deleteRange(tableRef, range);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
    @Override
    public CheckAndSetCompatibility getCheckAndSetCompatibility() {
        return delegate().getCheckAndSetCompatibility();
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.compactInternally", tableRef)) {
            delegate().compactInternally(tableRef, inMaintenanceMode);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.createTable", tableRef)) {
            delegate().createTable(tableRef, tableMetadata);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.getDelegates")) {
            return ImmutableList.copyOf(
                    Iterables.concat(ImmutableList.of(delegate()), delegate().getDelegates()));
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("cells", timestampByCell);
        })) {
            return delegate().get(tableRef, timestampByCell);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.getAllTableNames")) {
            return delegate().getAllTableNames();
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.dropTables", tableRefs)) {
            delegate().dropTables(tableRefs);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
    @Override
    public boolean isInitialized() {
        return delegate().isInitialized();
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("values", values);
        })) {
            delegate().putWithTimestamps(tableRef, values);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        // Note that the trace statistics rely on the executor being compatible with
        // {@link ExecutorInheritableThreadLocal} to function correctly
        ListenableFuture<Map<Cell, Value>> future = delegate().getAsync(tableRef, timestampByCell);

        return attachDetachedSpanCompletion(detachedSpan, future, tracingExecutorService, sink -> {
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.integer("maxResults", maxResults);
        })) {
            return delegate().getRowKeysInRange(tableRef, startRow, endRow, maxResults);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.getMetadataForTables")) {
            return delegate().getMetadataForTables();
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.dropTable", tableRef)) {
            delegate().dropTable(tableRef);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.timestamp(timestamp);
        })) {
            return delegate().getFirstBatchForRanges(tableRef, rangeRequests, timestamp);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.compactInternally", tableRef)) {
            delegate().compactInternally(tableRef);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("keys", keys);
        })) {
            delegate().delete(tableRef, keys);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.timestamp(timestamp);
        })) {
            return delegate().getRows(tableRef, rows, columnSelection, timestamp);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("values", values);
        })) {
            delegate().setOnce(tableRef, values);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.timestamp(timestamp);
        })) {
            delegate().multiPut(valuesByTable, timestamp);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.createTables", tableNamesToTableMetadata.keySet())) {
            delegate().createTables(tableNamesToTableMetadata);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.checkAndSet", checkAndSetRequest.table())) {
            delegate().checkAndSet(checkAndSetRequest);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.timestamp(timestamp);
        })) {
            return delegate().getAllTimestamps(tableRef, keys, timestamp);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("cells", cells);
        })) {
            delegate().addGarbageCollectionSentinelValues(tableRef, cells);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
            sink.size("cells", timestampByCell);
        })) {
            return delegate().getLatestTimestamps(tableRef, timestampByCell);
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.getClusterAvailabilityStatus")) {
            return delegate().getClusterAvailabilityStatus();
        }
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/TracingKeyValueService.java`
#### Snippet
```java
        //noinspection unused - try-with-resources closes trace
        try (CloseableTracer trace = startLocalTrace("atlasdb-kvs.deleteAllTimestamps", tableRef)) {
            delegate().deleteAllTimestamps(tableRef, deletes);
        }
    }
```

### AutoCloseableResource
'AutobatchingPingableLeaderFactory' used without 'try'-with-resources statement
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/Factories.java`
#### Snippet
```java
        @Override
        public NetworkClientFactories.Factory<LeaderPinger> get() {
            return pingableLeaderFactory()::leaderPingerFor;
        }

```

### AutoCloseableResource
'AutobatchingPaxosAcceptorNetworkClientFactory' used without 'try'-with-resources statement
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingNetworkClientFactories.java`
#### Snippet
```java
                .instrument(
                        PaxosAcceptorNetworkClient.class,
                        acceptorNetworkClientFactory().paxosAcceptorForClient(client),
                        client);
    }
```

### AutoCloseableResource
'AutobatchingPaxosLearnerNetworkClientFactory' used without 'try'-with-resources statement
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/BatchingNetworkClientFactories.java`
#### Snippet
```java
                .instrument(
                        PaxosLearnerNetworkClient.class,
                        learnerNetworkClientFactory().paxosLearnerForClient(client),
                        client);
    }
```

### AutoCloseableResource
'LeadershipCoordinatorFactory' used without 'try'-with-resources statement
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipContextFactory.java`
#### Snippet
```java

        LeadershipCoordinator leadershipCoordinator =
                leadershipCoordinatorFactory().create(leaderElectionService);

        return ImmutableLeadershipContext.builder()
```

### AutoCloseableResource
'AutobatchingLeadershipObserverFactory' used without 'try'-with-resources statement
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/TimelockLeadershipMetrics.java`
#### Snippet
```java
    @Value.Derived
    LeadershipObserver leadershipObserver() {
        return leadershipObserverFactory().create(proxyClient());
    }

```

### AutoCloseableResource
'BackgroundSweeperImpl' used without 'try'-with-resources statement
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagers.java`
#### Snippet
```java
        transactionManager.registerClosingCallback(targetedSweep::close);

        initializeCloseable(
                () -> initializeSweepBackgroundProcess(
                        metricsManager,
```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        if (read == -1) {
            stream.close();
            streams.poll();
            return read();
        }
```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `atlasdb-commons/src/main/java/com/palantir/common/io/ConcatenatedInputStream.java`
#### Snippet
```java
        if (read == -1) {
            stream.close();
            streams.poll();
            return read(b, off, len);
        }
```

### AutoCloseableResource
'InputStream' used without 'try'-with-resources statement
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
     */
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
```

### AutoCloseableResource
'JsonParser' used without 'try'-with-resources statement
in `atlasdb-console/src/main/groovy/com/palantir/atlasdb/console/AtlasConsoleServiceImpl.java`
#### Snippet
```java

    private <T> T fromJson(String data, Class<T> type) throws IOException {
        return mapper.getFactory().createParser(data).readValueAs(type);
    }
}
```

### AutoCloseableResource
'ClosableIterator' used without 'try'-with-resources statement
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
                .build();
        return getCandidateRowsForSweeping("getRangeOfTimestamps", tableRef, request)
                .flatMap(rows -> rows)
                .map(CandidateRowForSweeping::toRowResult)
                .stopWhen(rowResult -> !rangeRequest.inRange(rowResult.getRowName()));
```

### AutoCloseableResource
'TargetedSweeper' used without 'try'-with-resources statement
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java
        TransactionManager txManager = tryToCreateTransactionManager(config, environment, taggedMetrics);
        Supplier<SweepTaskRunner> sweepTaskRunner = Suppliers.memoize(() -> getSweepTaskRunner(txManager));
        TargetedSweeper sweeper = TargetedSweeper.createUninitializedForTest(() -> 1);
        Supplier<TargetedSweeper> sweeperSupplier = Suppliers.memoize(() -> initializeAndGet(sweeper, txManager));
        ensureTransactionSchemaVersionInstalled(config.getAtlasDbConfig(), config.getAtlasDbRuntimeConfig(), txManager);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-dbkvs-tests/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/DbKvsTestUtils.java`
#### Snippet
```java

    static void setMaxRangeOfTimestampsBatchSize(long value, ConnectionManagerAwareDbKvs kvs) {
        ((DbKvs) kvs.delegate()).setMaxRangeOfTimestampsBatchSize(value);
    }

```

### AutoCloseableResource
'Context' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java

    private void waitForCommitterToComplete(@Nullable TableReference tableRef, Iterable<Long> startTimestamps) {
        Timer.Context timer = getTimer("waitForCommitTsMillis").time();
        waitForCommitToComplete(startTimestamps);
        long waitForCommitTsMillis = TimeUnit.NANOSECONDS.toMillis(timer.stop());
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    public <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionReadOnly(
            C condition, ConditionAwareTransactionTask<T, C, E> task) throws E {
        return delegate().runTaskWithConditionReadOnly(condition, wrapTask(task));
    }
}
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    @Override
    public <T, E extends Exception> T runTaskWithRetry(TransactionTask<T, E> task) throws E {
        return delegate().runTaskWithRetry(wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    public <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionThrowOnConflict(
            C condition, ConditionAwareTransactionTask<T, C, E> task) throws E, TransactionFailedRetriableException {
        return delegate().runTaskWithConditionThrowOnConflict(condition, wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    public <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            Supplier<C> conditionSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        return delegate().runTaskWithConditionWithRetry(conditionSupplier, wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    public <T, E extends Exception> T runTaskWithLocksWithRetry(
            Supplier<LockRequest> lockSupplier, LockAwareTransactionTask<T, E> task) throws E, InterruptedException {
        return delegate().runTaskWithLocksWithRetry(lockSupplier, wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
            Iterable<HeldLocksToken> lockTokens, LockAwareTransactionTask<T, E> task)
            throws E, TransactionConflictException {
        return delegate().runTaskWithLocksThrowOnConflict(lockTokens, wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
            LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException {
        return delegate().runTaskWithLocksWithRetry(lockTokens, lockSupplier, wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    public <T, E extends Exception> T runTaskThrowOnConflict(TransactionTask<T, E> task)
            throws E, TransactionConflictException {
        return delegate().runTaskThrowOnConflict(wrapTask(task));
    }

```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/WrappingTransactionManager.java`
#### Snippet
```java
    @Override
    public <T, E extends Exception> T runTaskReadOnly(TransactionTask<T, E> task) throws E {
        return delegate().runTaskReadOnly(wrapTask(task));
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public Multimap<Cell, Long> getAllTimestamps(TableReference tableRef, Set<Cell> keys, long timestamp) {
        try {
            return delegate().getAllTimestamps(tableMapper.getMappedTableName(tableRef), keys, timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
                    .table(tableMapper.getMappedTableName(checkAndSetRequest.table()))
                    .build();
            delegate().checkAndSet(request);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void setOnce(TableReference tableRef, Map<Cell, byte[]> values) {
        try {
            delegate().setOnce(tableMapper.getMappedTableName(tableRef), values);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void addGarbageCollectionSentinelValues(TableReference tableRef, Iterable<Cell> cells) {
        try {
            delegate().addGarbageCollectionSentinelValues(tableMapper.getMappedTableName(tableRef), cells);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public List<byte[]> getRowKeysInRange(TableReference tableRef, byte[] startRow, byte[] endRow, int maxResults) {
        try {
            return delegate().getRowKeysInRange(tableMapper.getMappedTableName(tableRef), startRow, endRow, maxResults);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, Iterable<byte[]> rows, ColumnSelection columnSelection, long timestamp) {
        try {
            return delegate().getRows(tableMapper.getMappedTableName(tableRef), rows, columnSelection, timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, CandidateCellForSweepingRequest request) {
        try {
            return delegate().getCandidateCellsForSweeping(tableMapper.getMappedTableName(tableRef), request);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public byte[] getMetadataForTable(TableReference tableRef) {
        try {
            return delegate().getMetadataForTable(tableMapper.getMappedTableName(tableRef));
        } catch (TableMappingNotFoundException e) { // table does not exist.
            return AtlasDbConstants.EMPTY_TABLE_METADATA;
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            }
        }
        delegate().putMetadataForTables(tableNameToMetadata);
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            long timestamp) {
        try {
            return delegate()
                    .getRowsColumnRange(
                            tableMapper.getMappedTableName(tableRef), rows, columnRangeSelection, timestamp);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
                    .tableRef(tableMapper.getMappedTableName(multiCheckAndSetRequest.tableRef()))
                    .build();
            delegate().multiCheckAndSet(request);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        try {
            return delegate().getRange(tableMapper.getMappedTableName(tableRef), rangeRequest, timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, Iterable<RangeRequest> rangeRequests, long timestamp) {
        try {
            return delegate()
                    .getFirstBatchForRanges(tableMapper.getMappedTableName(tableRef), rangeRequests, timestamp);
        } catch (TableMappingNotFoundException e) {
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void truncateTable(TableReference tableRef) {
        try {
            delegate().truncateTable(tableMapper.getMappedTableName(tableRef));
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            long timestamp) {
        try {
            return delegate()
                    .getRowsColumnRange(
                            tableMapper.getMappedTableName(tableRef),
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            TableReference tableRef, RangeRequest rangeRequest, long timestamp) {
        try {
            return delegate().getRangeOfTimestamps(tableMapper.getMappedTableName(tableRef), rangeRequest, timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void compactInternally(TableReference tableRef, boolean inMaintenanceMode) {
        try {
            delegate().compactInternally(tableMapper.getMappedTableName(tableRef), inMaintenanceMode);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public ListenableFuture<Map<Cell, Value>> getAsync(TableReference tableRef, Map<Cell, Long> timestampByCell) {
        try {
            return delegate().getAsync(tableMapper.getMappedTableName(tableRef), timestampByCell);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void putMetadataForTable(TableReference tableRef, byte[] metadata) {
        try {
            delegate().putMetadataForTable(tableMapper.getMappedTableName(tableRef), metadata);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public Set<TableReference> getAllTableNames() {
        return ImmutableSet.copyOf(tableMapper
                .generateMapToFullTableNames(delegate().getAllTableNames())
                .values());
    }
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void putWithTimestamps(TableReference tableRef, Multimap<Cell, Value> values) {
        try {
            delegate().putWithTimestamps(tableMapper.getMappedTableName(tableRef), values);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    @Override
    public Map<TableReference, byte[]> getMetadataForTables() {
        Map<TableReference, byte[]> tableMetadata = delegate().getMetadataForTables();
        Map<TableReference, TableReference> metadataNamesToFullTableNames =
                tableMapper.generateMapToFullTableNames(tableMetadata.keySet());
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void createTable(TableReference tableRef, byte[] tableMetadata) {
        TableReference shortName = tableMapper.addTable(tableRef);
        delegate().createTable(shortName, tableMetadata);
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void dropTables(Set<TableReference> tableRefs) {
        Set<TableReference> tableNames = getShortTableReferencesForExistingTables(tableRefs);
        delegate().dropTables(tableNames);

        // We're purposely updating the table mappings after all drops are complete
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public Map<Cell, Long> getLatestTimestamps(TableReference tableRef, Map<Cell, Long> timestampByCell) {
        try {
            return delegate().getLatestTimestamps(tableMapper.getMappedTableName(tableRef), timestampByCell);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            tableNameToTableMetadata.put(tableMapper.addTable(tableEntry.getKey()), tableEntry.getValue());
        }
        delegate().createTables(tableNameToTableMetadata);
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void deleteRange(TableReference tableRef, RangeRequest range) {
        try {
            delegate().deleteRange(tableMapper.getMappedTableName(tableRef), range);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void multiPut(Map<TableReference, ? extends Map<Cell, byte[]>> valuesByTable, long timestamp) {
        try {
            delegate().multiPut(tableMapper.mapToShortTableNames(valuesByTable), timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public Map<Cell, Value> get(TableReference tableRef, Map<Cell, Long> timestampByCell) {
        try {
            return delegate().get(tableMapper.getMappedTableName(tableRef), timestampByCell);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void delete(TableReference tableRef, Multimap<Cell, Long> keys) {
        try {
            delegate().delete(tableMapper.getMappedTableName(tableRef), keys);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void compactInternally(TableReference tableRef) {
        try {
            delegate().compactInternally(tableMapper.getMappedTableName(tableRef));
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
            }
        }
        delegate().truncateTables(tablesToTruncate);
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    @Override
    public ClusterAvailabilityStatus getClusterAvailabilityStatus() {
        return delegate().getClusterAvailabilityStatus();
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void put(TableReference tableRef, Map<Cell, byte[]> values, long timestamp) {
        try {
            delegate().put(tableMapper.getMappedTableName(tableRef), values, timestamp);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void deleteRows(TableReference tableRef, Iterable<byte[]> rows) {
        try {
            delegate().deleteRows(tableMapper.getMappedTableName(tableRef), rows);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    @Override
    public CheckAndSetCompatibility getCheckAndSetCompatibility() {
        return delegate().getCheckAndSetCompatibility();
    }

```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void putUnlessExists(TableReference tableRef, Map<Cell, byte[]> values) throws KeyAlreadyExistsException {
        try {
            delegate().putUnlessExists(tableMapper.getMappedTableName(tableRef), values);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'KeyValueService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TableRemappingKeyValueService.java`
#### Snippet
```java
    public void deleteAllTimestamps(TableReference tableRef, Map<Cell, TimestampRangeDelete> deletes) {
        try {
            delegate().deleteAllTimestamps(tableMapper.getMappedTableName(tableRef), deletes);
        } catch (TableMappingNotFoundException e) {
            throw new IllegalArgumentException(e);
```

### AutoCloseableResource
'Context' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java

    private <T> T runTimed(Callable<T> operation, String timerName) {
        Timer.Context timer = getTimer(timerName).time();
        try {
            T response = operation.call();
```

### AutoCloseableResource
'Context' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
            } finally {
                lockWatchManager.removeTransactionStateFromCache(getTimestamp());
                postTaskContext = postTaskTimer.time();
                timelockService.tryUnlock(ImmutableSet.of(immutableTsLock));
                openTransactionCounter.dec();
```

### AutoCloseableResource
'TransactionService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    public void putUnlessExists(long startTimestamp, long commitTimestamp) throws KeyAlreadyExistsException {
        TransactionService service = getServiceForTimestamp(keyedServices, startTimestamp)
                .orElseThrow(() ->
                        new UnsupportedOperationException("putUnlessExists shouldn't be used with null services"));
        service.putUnlessExists(startTimestamp, commitTimestamp);
```

### AutoCloseableResource
'TransactionService' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
    public void markInProgress(long startTimestamp) {
        TransactionService service = getServiceForTimestamp(keyedServices, startTimestamp)
                .orElseThrow(
                        () -> new UnsupportedOperationException("markInProgress shouldn't be used with null services"));
        service.markInProgress(startTimestamp);
```

### AutoCloseableResource
'HikariDataSource' used without 'try'-with-resources statement
in `atlasdb-dbkvs-hikari/src/main/java/com/palantir/nexus/db/pool/HikariCPConnectionManager.java`
#### Snippet
```java
    private Connection acquirePooledConnection(ConnectionAcquisitionProfiler profiler) throws SQLException {
        while (true) {
            HikariDataSource dataSourcePool = checkAndGetDataSourcePool();
            Connection conn = dataSourcePool.getConnection();
            profiler.logAcquisitionAndRestart();
```

### AutoCloseableResource
'ColumnFamilyHandle' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
            return null;
        });
        availableColumnFamilies.remove(handle.id());
    }

```

### AutoCloseableResource
'PathTypeTracker' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/PathTypeTracker.java`
#### Snippet
```java
    @Override
    default void close() {
        exitAsyncPath();
    }
}
```

### AutoCloseableResource
'Context' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private NavigableMap<byte[], RowResult<byte[]>> getRowsInternal(
            TableReference tableRef, Iterable<byte[]> rows, ColumnSelection columnSelection) {
        Timer.Context timer = getTimer("getRows").time();
        checkGetPreconditions(tableRef);
        if (Iterables.isEmpty(rows)) {
```

### AutoCloseableResource
'Context' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            AsyncKeyValueService asyncKeyValueService,
            AsyncTransactionService asyncTransactionService) {
        Timer.Context timer = getTimer(operationName).time();
        checkGetPreconditions(tableRef);
        if (Iterables.isEmpty(cells)) {
```

### AutoCloseableResource
'Context' used without 'try'-with-resources statement
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        return FluentIterable.from(Iterables.partition(rangeRequests, BATCH_SIZE_GET_FIRST_PAGE))
                .transformAndConcat(input -> {
                    Timer.Context timer = getTimer("processedRangeMillis").time();
                    Map<RangeRequest, TokenBackedBasicResultsPage<RowResult<Value>, byte[]>> firstPages =
                            keyValueService.getFirstBatchForRanges(tableRef, input, getStartTimestamp());
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    @Test
    public void testShouldNotReadValuesAtSuccessorTimestamp() {
        TransactionManager manager = createManager();

        manager.runTaskThrowOnConflict(tx -> {
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    @Test
    public void testReadMyOwnWritesShouldNotConflict() {
        createManager().runTaskThrowOnConflict(tx -> {
            tx.get(TEST_TABLE_SERIALIZABLE, ImmutableSet.of(CELL_ONE));
            tx.put(TEST_TABLE_SERIALIZABLE, ImmutableMap.of(CELL_ONE, BYTES_ONE));
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
    @Test
    public void testChecksIfTablesAreSerializable() {
        createManager().runTaskThrowOnConflict(tx -> {
            SerializableTransaction serializable = (SerializableTransaction) tx;
            assertThat(serializable.isSerializableTable(TEST_TABLE_SERIALIZABLE))
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
    @Test
    public void testReadMyWritesManager() {
        createAndRegisterManager().runTaskWithRetry((TransactionTask<Void, RuntimeException>) tx -> {
            put(tx, TEST_TABLE, "row1", "col1", "v1");
            put(tx, TEST_TABLE, "row1", "col2", "v2");
```

### AutoCloseableResource
'TransactionManager' used without 'try'-with-resources statement
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractTransactionTest.java`
#### Snippet
```java
    @Test
    public void testDelete() {
        createAndRegisterManager().runTaskWithRetry((TransactionTask<Void, RuntimeException>) tx -> {
            put(tx, TEST_TABLE, "row1", "col1", "v1");
            assertThat(get(tx, "row1", "col1")).isEqualTo("v1");
```

### AutoCloseableResource
'CassandraKeyValueService' used without 'try'-with-resources statement
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/ThreeNodeCassandraCluster.java`
#### Snippet
```java

    private static boolean canCreateCassandraKeyValueService() {
        return CassandraKeyValueServiceImpl.createForTesting(KVS_CONFIG, KVS_RUNTIME_CONFIG)
                .isInitialized();
    }
```

## RuleId[id=ConditionCoveredByFurtherCondition]
### ConditionCoveredByFurtherCondition
Condition 'value != null' covered by subsequent condition 'value instanceof Keyword'
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/events/Event.java`
#### Snippet
```java
        Map<String, Object> convertedMap = KeyedStream.stream(encodedMap)
                .mapKeys(Keyword::getName)
                .map(value -> value != null && value instanceof Keyword ? ((Keyword) value).getName() : value)
                .collectToMap();
        return OBJECT_MAPPER.convertValue(convertedMap, Event.class);
```

## RuleId[id=EmptyInitializer]
### EmptyInitializer
Empty class initializer
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
    private static Map<String, String> plurals = new HashMap<String, String>();

    static {
        /* don't need special plurals */
    }
```

## RuleId[id=RegExpSingleCharAlternation]
### RegExpSingleCharAlternation
Single character alternation in RegExp
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            String result = currentToken;
            // Need to clean-up result to remove quotes of any kind
            result = result.replaceAll("\"|'", "");
            nextToken();
            return result;
```

## RuleId[id=JavadocDeclaration]
### JavadocDeclaration
Javadoc pointing to itself
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    /**
     * {@link #runTaskWithRetry(TransactionTask)} should be preferred over
     * {@link #runTaskThrowOnConflict(TransactionTask)}.
     * This method should be used unless {@link #runTaskWithRetry(TransactionTask)} cannot be used because the arguments
     * passed are not immutable and will be modified by the transaction so doing automatic retry is unsafe.
```

### JavadocDeclaration
Javadoc pointing to itself
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AcceptorCache.java`
#### Snippet
```java
     * been seen by this cache.
     * <p>
     * If there have been updates applied, then subsequent calls to {@link AcceptorCache#updateSequenceNumbers} and
     * {@link AcceptorCache#updatesSinceCacheKey} should return a {@link AcceptorCacheDigest} with a new
     * <b>cache key</b> and a <b>strictly increasing</b> {@link AcceptorCacheDigest#cacheTimestamp}.
```

### JavadocDeclaration
Javadoc pointing to itself
in `atlasdb-client/src/main/java/com/palantir/atlasdb/AtlasDbPerformanceConstants.java`
#### Snippet
```java
    /**
     * If a user passes in a huge page size for a batch for a range scan, we won't actually make the page size any
     * bigger than {@value #MAX_BATCH_SIZE}.
     */
    public static final int MAX_BATCH_SIZE = 10000;
```

### JavadocDeclaration
Javadoc pointing to itself
in `lock-api-objects/src/main/java/com/palantir/lock/v2/ClientLockingOptions.java`
#### Snippet
```java

    /**
     * After {@link ClientLockingOptions#maximumLockTenure()} has passed since the client acquired the lock, we will
     * not try to refresh the lock any longer. This is infinite by default.
     */
```

## RuleId[id=RedundantCast]
### RedundantCast
Casting `DELETED_COUNT` to `long` is redundant
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/SweepBenchmarks.java`
#### Snippet
```java
                    sweepTaskRunner.run(table.getTableRef(), batchConfig, nextStartRow, SweepTaskRunner.RunType.FULL);
            nextStartRow = sweepResults.getNextStartRow().get();
            assertThat(sweepResults.getStaleValuesDeleted()).isEqualTo((long) DELETED_COUNT);
        }
        return sweepResults;
```

### RedundantCast
Casting `MBeanServerInvocationHandler.newProxyInstance(...)` to `T` is redundant
in `atlasdb-commons/src/main/java/com/palantir/util/JMXUtils.java`
#### Snippet
```java
    public static <T> T newMBeanProxy(
            final MBeanServerConnection conn, final ObjectName objectName, final Class<T> interfaceClass) {
        return (T) MBeanServerInvocationHandler.newProxyInstance(conn, objectName, interfaceClass, false);
    }

```

## RuleId[id=FieldMayBeFinal]
### FieldMayBeFinal
Field `leadershipUpperBound` may be 'final'
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    private volatile UUID leaderId = null;
    private volatile LeaderElectionDuration lastComputedDuration = null;
    private Map<UUID, Instant> leadershipUpperBound = new ConcurrentHashMap<>();
    private Map<UUID, Instant> leadershipLowerBound = new ConcurrentHashMap<>();

```

### FieldMayBeFinal
Field `leadershipLowerBound` may be 'final'
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    private volatile LeaderElectionDuration lastComputedDuration = null;
    private Map<UUID, Instant> leadershipUpperBound = new ConcurrentHashMap<>();
    private Map<UUID, Instant> leadershipLowerBound = new ConcurrentHashMap<>();

    @VisibleForTesting
```

### FieldMayBeFinal
Field `threadInfoConfiguration` may be 'final'
in `lock-impl/src/main/java/com/palantir/lock/impl/LockThreadInfoSnapshotManager.java`
#### Snippet
```java

public class LockThreadInfoSnapshotManager implements AutoCloseable {
    private DebugThreadInfoConfiguration threadInfoConfiguration;

    private Supplier<ConcurrentMap<HeldLocksToken, HeldLocks<HeldLocksToken>>> tokenMapSupplier;
```

### FieldMayBeFinal
Field `scheduledExecutorService` may be 'final'
in `lock-impl/src/main/java/com/palantir/lock/impl/LockThreadInfoSnapshotManager.java`
#### Snippet
```java
    private volatile Map<LockDescriptor, LockClientAndThread> lastKnownThreadInfoSnapshot;

    private ScheduledExecutorService scheduledExecutorService = PTExecutors.newSingleThreadScheduledExecutor();

    public LockThreadInfoSnapshotManager(
```

### FieldMayBeFinal
Field `tokenMapSupplier` may be 'final'
in `lock-impl/src/main/java/com/palantir/lock/impl/LockThreadInfoSnapshotManager.java`
#### Snippet
```java
    private DebugThreadInfoConfiguration threadInfoConfiguration;

    private Supplier<ConcurrentMap<HeldLocksToken, HeldLocks<HeldLocksToken>>> tokenMapSupplier;

    private volatile Map<LockDescriptor, LockClientAndThread> lastKnownThreadInfoSnapshot;
```

### FieldMayBeFinal
Field `lockCounter` may be 'final'
in `lock-impl/src/main/java/com/palantir/lock/logger/LockDescriptorMapper.java`
#### Snippet
```java

    private Map<LockDescriptor, ObfuscatedLockDescriptor> mapper = new ConcurrentHashMap<>();
    private AtomicInteger lockCounter = new AtomicInteger();

    ObfuscatedLockDescriptor getDescriptorMapping(LockDescriptor descriptor) {
```

### FieldMayBeFinal
Field `mapper` may be 'final'
in `lock-impl/src/main/java/com/palantir/lock/logger/LockDescriptorMapper.java`
#### Snippet
```java
    private static final String LOCK_PREFIX = "Lock-";

    private Map<LockDescriptor, ObfuscatedLockDescriptor> mapper = new ConcurrentHashMap<>();
    private AtomicInteger lockCounter = new AtomicInteger();

```

### FieldMayBeFinal
Field `columns` may be 'final'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticResultRowImpl.java`
#### Snippet
```java

public class AgnosticResultRowImpl extends AbstractAgnosticResultRow {
    private List<Object> columns;

    public AgnosticResultRowImpl(List<Object> cols, DBType type, Map<String, Integer> cmap) {
```

### FieldMayBeFinal
Field `results` may be 'final'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/AgnosticLightResultRowImpl.java`
#### Snippet
```java

public class AgnosticLightResultRowImpl extends AbstractAgnosticResultRow implements AgnosticLightResultRow {
    private ResultSet results;

    public AgnosticLightResultRowImpl(DBType type, Map<String, Integer> columnMap, ResultSet res) {
```

### FieldMayBeFinal
Field `selectStatementExecutor` may be 'final'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java
            Suppliers.memoize(() -> PTExecutors.newCachedThreadPool(EXECUTE_THREAD_NAME));

    private ExecutorService selectStatementExecutor;
    private ExecutorService executeStatementExecutor;

```

### FieldMayBeFinal
Field `executeStatementExecutor` may be 'final'
in `commons-db/src/main/java/com/palantir/nexus/db/sql/BasicSQL.java`
#### Snippet
```java

    private ExecutorService selectStatementExecutor;
    private ExecutorService executeStatementExecutor;

    public BasicSQL() {
```

### FieldMayBeFinal
Field `columns` may be 'final'
in `atlasdb-api/src/main/java/com/palantir/atlasdb/keyvalue/api/RangeRequest.java`
#### Snippet
```java
        private byte[] startInclusive = PtBytes.EMPTY_BYTE_ARRAY;
        private byte[] endExclusive = PtBytes.EMPTY_BYTE_ARRAY;
        private Set<byte[]> columns = new TreeSet<>(UnsignedBytes.lexicographicalComparator());
        private Integer batchHint = null;
        private final boolean reverse;
```

### FieldMayBeFinal
Field `configRoot` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/AbstractCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "field in the config yaml file that contains the atlasdb configuration root")
    private String configRoot = AtlasDbConfigs.ATLASDB_CONFIG_OBJECT_PATH;

    @Option(
```

### FieldMayBeFinal
Field `offline` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/AbstractCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "run this cli offline")
    private boolean offline = false;

    private AtlasDbConfig config;
```

### FieldMayBeFinal
Field `runtimeConfigRoot` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/AbstractCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "field in the runtime config yaml file that contains the atlasdb configuration root")
    private String runtimeConfigRoot = AtlasDbConfigs.ATLASDB_CONFIG_OBJECT_PATH;

    @Option(
```

### FieldMayBeFinal
Field `migrate` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-m", "--migrate"},
            description = "Start or continue migration.")
    private boolean migrate = false;

    @Option(
```

### FieldMayBeFinal
Field `configRoot` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "field in the config yaml file that contains the atlasdb configuration root")
    private String configRoot = AtlasDbConfigs.ATLASDB_CONFIG_OBJECT_PATH;

    @Option(
```

### FieldMayBeFinal
Field `setup` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-s", "--setup"},
            description = "Setup migration by dropping and creating tables.")
    private boolean setup = false;

    @Option(
```

### FieldMayBeFinal
Field `validate` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            name = {"-v", "--validate"},
            description = "Validate migration.")
    private boolean validate = false;

    @Option(
```

### FieldMayBeFinal
Field `threads` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            required = false,
            arity = 1)
    private int threads = 16;

    @Option(
```

### FieldMayBeFinal
Field `runtimeConfigRoot` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "field in the runtime config yaml file that contains the atlasdb configuration root")
    private String runtimeConfigRoot = AtlasDbConfigs.ATLASDB_CONFIG_OBJECT_PATH;

    @Option(
```

### FieldMayBeFinal
Field `batchSize` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            required = false,
            arity = 1)
    private int batchSize = 100;

    @Option(
```

### FieldMayBeFinal
Field `offline` may be 'final'
in `atlasdb-cli/src/main/java/com/palantir/atlasdb/cli/command/KvsMigrationCommand.java`
#### Snippet
```java
            type = OptionType.GLOBAL,
            description = "run this cli offline")
    private boolean offline = false;

    // TODO(bgrabham): Hide this argument once https://github.com/airlift/airline/issues/51 is fixed
```

### FieldMayBeFinal
Field `random` may be 'final'
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/EmptyTables.java`
#### Snippet
```java
public class EmptyTables {

    private Random random = new Random(Tables.RANDOM_SEED);

    private AtlasDbServicesConnector connector;
```

### FieldMayBeFinal
Field `random` may be 'final'
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/StreamingTable.java`
#### Snippet
```java
@State(Scope.Benchmark)
public class StreamingTable {
    private Random random = new Random(Tables.RANDOM_SEED);

    private AtlasDbServicesConnector connector;
```

### FieldMayBeFinal
Field `random` may be 'final'
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/table/ConsecutiveNarrowTable.java`
#### Snippet
```java
    private static final int DEFAULT_NUM_ROWS = 10_000;

    private Random random = new Random(Tables.RANDOM_SEED);
    private AtlasDbServicesConnector connector;

```

### FieldMayBeFinal
Field `rowBuffer` may be 'final'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java

    final SetMultimap<Cell, Long> entries;
    private SetMultimap<Cell, Long> rowBuffer;
    private boolean moreResults = false;
    private Token token = Tokens.INITIAL;
```

### FieldMayBeFinal
Field `iterator` may be 'final'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/TimestampsByCellResultWithToken.java`
#### Snippet
```java
    private byte[] currentRow = null;
    private byte[] currentCol = null;
    private PeekingIterator<AgnosticLightResultRow> iterator;

    final SetMultimap<Cell, Long> entries;
```

### FieldMayBeFinal
Field `prefixedTableNames` may be 'final'
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/ranges/DbKvsGetRanges.java`
#### Snippet
```java
    private final DBType dbType;
    private final Supplier<SqlConnection> connectionSupplier;
    private PrefixedTableNames prefixedTableNames;

    public DbKvsGetRanges(
```

### FieldMayBeFinal
Field `nonAdminPrivileges` may be 'final'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/auth/impl/PrivilegeBasedNamespaceLocker.java`
#### Snippet
```java

public class PrivilegeBasedNamespaceLocker implements NamespaceLocker {
    private List<Privileges> nonAdminPrivileges;

    PrivilegeBasedNamespaceLocker(Map<ClientId, Privileges> privileges) {
```

### FieldMayBeFinal
Field `feedbackHandler` may be 'final'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/TimeLockClientFeedbackResource.java`
#### Snippet
```java
    private final LeaderElectionMetricAggregator leaderElectionAggregator;
    private Predicate<Client> leadershipCheck;
    private FeedbackHandler feedbackHandler;

    private TimeLockClientFeedbackResource(
```

### FieldMayBeFinal
Field `leadershipCheck` may be 'final'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/TimeLockClientFeedbackResource.java`
#### Snippet
```java
public final class TimeLockClientFeedbackResource implements UndertowTimeLockClientFeedbackService {
    private final LeaderElectionMetricAggregator leaderElectionAggregator;
    private Predicate<Client> leadershipCheck;
    private FeedbackHandler feedbackHandler;

```

### FieldMayBeFinal
Field `nodeWiseFeedback` may be 'final'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/adjudicate/ServiceFeedback.java`
#### Snippet
```java
public class ServiceFeedback {

    private Map<UUID, List<ConjureTimeLockClientFeedback>> nodeWiseFeedback = new ConcurrentHashMap<>();

    public void addFeedbackForNode(UUID nodeId, ConjureTimeLockClientFeedback feedback) {
```

### FieldMayBeFinal
Field `allocator` may be 'final'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/timestamp/DelegatingClientAwareManagedTimestampService.java`
#### Snippet
```java
    static final int NUM_PARTITIONS = TransactionConstants.V2_TRANSACTION_NUM_PARTITIONS;

    private NumericPartitionAllocator<UUID> allocator;
    private ManagedTimestampService delegate;

```

### FieldMayBeFinal
Field `delegate` may be 'final'
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/transaction/timestamp/DelegatingClientAwareManagedTimestampService.java`
#### Snippet
```java

    private NumericPartitionAllocator<UUID> allocator;
    private ManagedTimestampService delegate;

    @VisibleForTesting
```

### FieldMayBeFinal
Field `lower` may be 'final'
in `timestamp-api/src/main/java/com/palantir/timestamp/TimestampRange.java`
#### Snippet
```java
    private static final long serialVersionUID = 1L;

    private long lower;
    private long upper;

```

### FieldMayBeFinal
Field `upper` may be 'final'
in `timestamp-api/src/main/java/com/palantir/timestamp/TimestampRange.java`
#### Snippet
```java

    private long lower;
    private long upper;

    private TimestampRange(long lowerBound, long upperBound) {
```

### FieldMayBeFinal
Field `appendHeavyAndReadLight` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexMetadata.java`
#### Snippet
```java
    IndexType indexType;
    final SweepStrategy sweepStrategy;
    private boolean appendHeavyAndReadLight;
    private final int numberOfComponentsHashed;
    final TableMetadataPersistence.LogSafety nameLogSafety;
```

### FieldMayBeFinal
Field `colComponents` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private String javaIndexTableName = null;
    private List<IndexComponent> rowComponents = new ArrayList<>();
    private List<IndexComponent> colComponents = new ArrayList<>();
    private IndexCondition indexCondition = null;
    private final IndexType indexType;
```

### FieldMayBeFinal
Field `hashFirstRowComponent` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private boolean logSafetyDeclared = false;

    private boolean hashFirstRowComponent = false;
    private int numberOfComponentsHashed = 0;
    private String sourceTableName = null;
```

### FieldMayBeFinal
Field `rowComponents` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/IndexDefinition.java`
#### Snippet
```java
    private String sourceTableName = null;
    private String javaIndexTableName = null;
    private List<IndexComponent> rowComponents = new ArrayList<>();
    private List<IndexComponent> colComponents = new ArrayList<>();
    private IndexCondition indexCondition = null;
```

### FieldMayBeFinal
Field `dynamicColumnNameComponents` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private List<NameComponentDescription> rowNameComponents = new ArrayList<>();
    private List<NamedColumnDescription> fixedColumns = new ArrayList<>();
    private List<NameComponentDescription> dynamicColumnNameComponents = new ArrayList<>();
    private ColumnValueDescription dynamicColumnValue = null;
    private ConstraintMetadata.Builder constraintBuilder = ConstraintMetadata.builder();
```

### FieldMayBeFinal
Field `constraintBuilder` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private List<NameComponentDescription> dynamicColumnNameComponents = new ArrayList<>();
    private ColumnValueDescription dynamicColumnValue = null;
    private ConstraintMetadata.Builder constraintBuilder = ConstraintMetadata.builder();
    private Set<String> fixedColumnShortNames = new HashSet<>();
    private Set<String> fixedColumnLongNames = new HashSet<>();
```

### FieldMayBeFinal
Field `fixedColumns` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private int numberOfComponentsHashed = 0;
    private List<NameComponentDescription> rowNameComponents = new ArrayList<>();
    private List<NamedColumnDescription> fixedColumns = new ArrayList<>();
    private List<NameComponentDescription> dynamicColumnNameComponents = new ArrayList<>();
    private ColumnValueDescription dynamicColumnValue = null;
```

### FieldMayBeFinal
Field `rowNameComponents` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private String javaTableName = null;
    private int numberOfComponentsHashed = 0;
    private List<NameComponentDescription> rowNameComponents = new ArrayList<>();
    private List<NamedColumnDescription> fixedColumns = new ArrayList<>();
    private List<NameComponentDescription> dynamicColumnNameComponents = new ArrayList<>();
```

### FieldMayBeFinal
Field `fixedColumnLongNames` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private ConstraintMetadata.Builder constraintBuilder = ConstraintMetadata.builder();
    private Set<String> fixedColumnShortNames = new HashSet<>();
    private Set<String> fixedColumnLongNames = new HashSet<>();
    private boolean noColumns = false;
    private LogSafety tableNameSafety = LogSafety.UNSAFE;
```

### FieldMayBeFinal
Field `fixedColumnShortNames` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/TableDefinition.java`
#### Snippet
```java
    private ColumnValueDescription dynamicColumnValue = null;
    private ConstraintMetadata.Builder constraintBuilder = ConstraintMetadata.builder();
    private Set<String> fixedColumnShortNames = new HashSet<>();
    private Set<String> fixedColumnLongNames = new HashSet<>();
    private boolean noColumns = false;
```

### FieldMayBeFinal
Field `constraintClass` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/constraints/ForeignKeyConstraintMetadata.java`
#### Snippet
```java
    private final String otherGenericTable;
    private final String otherTableName;
    private Class<? extends ForeignKeyConstraint> constraintClass;

    private final List<String> rowVariables;
```

### FieldMayBeFinal
Field `inMemoryThreshold` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamStoreDefinition.java`
#### Snippet
```java
    private final int numberOfRowComponentsHashed;

    private int inMemoryThreshold;

    StreamStoreDefinition(
```

### FieldMayBeFinal
Field `streamTables` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/stream/StreamStoreDefinitionBuilder.java`
#### Snippet
```java
    private final String shortName;
    private final String longName;
    private Map<String, StreamTableDefinitionBuilder> streamTables =
            Maps.newHashMapWithExpectedSize(StreamTableType.values().length);
    private int inMemoryThreshold = AtlasDbConstants.DEFAULT_STREAM_IN_MEMORY_THRESHOLD;
```

### FieldMayBeFinal
Field `pi` may be 'final'
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/IterablePartitioner.java`
#### Snippet
```java
            final Logger log) {
        return () -> new UnmodifiableIterator<List<T>>() {
            PeekingIterator<T> pi = Iterators.peekingIterator(iterable.iterator());
            private int remainingEntries = Iterables.size(iterable);

```

### FieldMayBeFinal
Field `schemas` may be 'final'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagersInitializer.java`
#### Snippet
```java

    private KeyValueService keyValueService;
    private Set<Schema> schemas;
    private final boolean allSafeForLogging;

```

### FieldMayBeFinal
Field `keyValueService` may be 'final'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/TransactionManagersInitializer.java`
#### Snippet
```java
public final class TransactionManagersInitializer extends AsyncInitializer {

    private KeyValueService keyValueService;
    private Set<Schema> schemas;
    private final boolean allSafeForLogging;
```

### FieldMayBeFinal
Field `useLocalServiceFuture` may be 'final'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java
    private T localService;
    private T remoteService;
    private Future<Boolean> useLocalServiceFuture;

    private LocalOrRemoteProxy(T localService, T remoteService, Future<Boolean> useLocalServiceFuture) {
```

### FieldMayBeFinal
Field `remoteService` may be 'final'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java

    private T localService;
    private T remoteService;
    private Future<Boolean> useLocalServiceFuture;

```

### FieldMayBeFinal
Field `localService` may be 'final'
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/LocalOrRemoteProxy.java`
#### Snippet
```java
    }

    private T localService;
    private T remoteService;
    private Future<Boolean> useLocalServiceFuture;
```

### FieldMayBeFinal
Field `lastKnownSequence` may be 'final'
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/BatchTimelockPaxosLearnerAdapter.java`
#### Snippet
```java
    private final BatchPaxosLearnerRpcClient rpcClient;

    private AtomicLong lastKnownSequence = new AtomicLong(Long.MIN_VALUE);

    public BatchTimelockPaxosLearnerAdapter(
```

### FieldMayBeFinal
Field `file` may be 'final'
in `atlasdb-commons/src/main/java/com/palantir/util/file/DeleteOnCloseFileInputStream.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(DeleteOnCloseFileInputStream.class);

    private File file;
    private boolean closed = false;

```

### FieldMayBeFinal
Field `state` may be 'final'
in `atlasdb-commons/src/main/java/com/palantir/async/initializer/AsyncInitializer.java`
#### Snippet
```java
    private final ScheduledExecutorService singleThreadedExecutor = createExecutorService();
    private final AtomicBoolean isInitializing = new AtomicBoolean(false);
    private AsyncInitializationState state = new AsyncInitializationState();
    private int numberOfInitializationAttempts = 1;
    private Long initializationStartTime;
```

### FieldMayBeFinal
Field `log` may be 'final'
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
public final class Throwables {

    private static SafeLogger log = SafeLoggerFactory.get(Throwables.class);

    private Throwables() {
```

### FieldMayBeFinal
Field `plurals` may be 'final'
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
     * c/p from TextUtils
     */
    private static Map<String, String> plurals = new HashMap<String, String>();

    static {
```

### FieldMayBeFinal
Field `lockMode` may be 'final'
in `lock-api-objects/src/main/java/com/palantir/lock/LockWithMode.java`
#### Snippet
```java
public class LockWithMode {
    private LockDescriptor lockDescriptor;
    private LockMode lockMode;

    public LockWithMode(
```

### FieldMayBeFinal
Field `lockDescriptor` may be 'final'
in `lock-api-objects/src/main/java/com/palantir/lock/LockWithMode.java`
#### Snippet
```java
@Unsafe
public class LockWithMode {
    private LockDescriptor lockDescriptor;
    private LockMode lockMode;

```

### FieldMayBeFinal
Field `encounteredExceptions` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/RetryableCassandraRequest.java`
#### Snippet
```java
    private boolean shouldGiveUpOnPreferredHost = false;
    private Map<CassandraServer, Integer> triedHosts = new ConcurrentHashMap<>();
    private List<Exception> encounteredExceptions = new ArrayList<>();

    public RetryableCassandraRequest(
```

### FieldMayBeFinal
Field `triedHosts` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/RetryableCassandraRequest.java`
#### Snippet
```java

    private boolean shouldGiveUpOnPreferredHost = false;
    private Map<CassandraServer, Integer> triedHosts = new ConcurrentHashMap<>();
    private List<Exception> encounteredExceptions = new ArrayList<>();

```

### FieldMayBeFinal
Field `blacklist` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/Blacklist.java`
#### Snippet
```java
    private final Refreshable<Integer> unresponsiveHostBackoffTimeSecondsRefreshable;

    private Map<CassandraServer, Long> blacklist;

    public Blacklist(
```

### FieldMayBeFinal
Field `hostsPerPreparedQuery` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java
        private final ConsistencyLevel consistency;

        private Map<Integer, CassandraServer> hostsPerPreparedQuery;

        QueryExecutorImpl(CassandraClientPool clientPool, ConsistencyLevel consistency) {
```

### FieldMayBeFinal
Field `kvs` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraTimestampBoundStore.java`
#### Snippet
```java

    private final InitializingWrapper wrapper = new InitializingWrapper();
    private CassandraKeyValueService kvs;

    static final TableMetadata TIMESTAMP_TABLE_METADATA = TableMetadata.internal()
```

### FieldMayBeFinal
Field `sweepReadThreadsRefreshable` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/sweep/CandidateRowsForSweepingIterator.java`
#### Snippet
```java

    byte[] nextStartRow;
    private Refreshable<Integer> sweepReadThreadsRefreshable;

    public CandidateRowsForSweepingIterator(
```

### FieldMayBeFinal
Field `tableRef` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/paging/RowGetter.java`
#### Snippet
```java
    private TracingQueryRunner queryRunner;
    private ConsistencyLevel consistency;
    private TableReference tableRef;

    public RowGetter(
```

### FieldMayBeFinal
Field `consistency` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/paging/RowGetter.java`
#### Snippet
```java
    private CassandraClientPool clientPool;
    private TracingQueryRunner queryRunner;
    private ConsistencyLevel consistency;
    private TableReference tableRef;

```

### FieldMayBeFinal
Field `queryRunner` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/paging/RowGetter.java`
#### Snippet
```java
public class RowGetter {
    private CassandraClientPool clientPool;
    private TracingQueryRunner queryRunner;
    private ConsistencyLevel consistency;
    private TableReference tableRef;
```

### FieldMayBeFinal
Field `clientPool` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/paging/RowGetter.java`
#### Snippet
```java

public class RowGetter {
    private CassandraClientPool clientPool;
    private TracingQueryRunner queryRunner;
    private ConsistencyLevel consistency;
```

### FieldMayBeFinal
Field `sweepReadThreadsRefreshable` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/sweep/GetCellTimestamps.java`
#### Snippet
```java
    private final byte[] startRowInclusive;
    private final int batchHint;
    private Refreshable<Integer> sweepReadThreadsRefreshable;

    private final Collection<CellWithTimestamp> timestamps = new ArrayList<>();
```

### FieldMayBeFinal
Field `sweepReadThreadsRefreshable` may be 'final'
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/sweep/GetCandidateRowsForSweeping.java`
#### Snippet
```java
    private final CandidateCellForSweepingRequest request;
    private final int timestampsBatchSize;
    private Refreshable<Integer> sweepReadThreadsRefreshable;
    private final int valuesBatchSize;

```

### FieldMayBeFinal
Field `atlas` may be 'final'
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/todo/SimpleTodoResource.java`
#### Snippet
```java

public class SimpleTodoResource implements TodoResource {
    private TodoClient atlas;

    public SimpleTodoResource(TodoClient atlas) {
```

### FieldMayBeFinal
Field `abortProcessing` may be 'final'
in `atlasdb-processors/src/main/java/com/palantir/processors/AutoDelegateProcessor.java`
#### Snippet
```java
    private Filer filer;
    private Messager messager;
    private AtomicBoolean abortProcessing = new AtomicBoolean(false);

    @Override
```

### FieldMayBeFinal
Field `progress` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueCleaner.java`
#### Snippet
```java
    private SweepableCells sweepableCells;
    private SweepableTimestamps sweepableTimestamps;
    private ShardProgress progress;

    public SweepQueueCleaner(SweepableCells cells, SweepableTimestamps timestamps, ShardProgress progress) {
```

### FieldMayBeFinal
Field `sweepableCells` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueCleaner.java`
#### Snippet
```java
public class SweepQueueCleaner {
    private static final SafeLogger log = SafeLoggerFactory.get(SweepQueueCleaner.class);
    private SweepableCells sweepableCells;
    private SweepableTimestamps sweepableTimestamps;
    private ShardProgress progress;
```

### FieldMayBeFinal
Field `sweepableTimestamps` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueCleaner.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(SweepQueueCleaner.class);
    private SweepableCells sweepableCells;
    private SweepableTimestamps sweepableTimestamps;
    private ShardProgress progress;

```

### FieldMayBeFinal
Field `delegate` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/StreamStoreRemappingSweepPriorityCalculator.java`
#### Snippet
```java
public class StreamStoreRemappingSweepPriorityCalculator {
    public static final long INDEX_TO_VALUE_TABLE_SLEEP_TIME = TimeUnit.MINUTES.toMillis(65);
    private SweepPriorityCalculator delegate;
    private SweepPriorityStore sweepPriorityStore;

```

### FieldMayBeFinal
Field `sweepPriorityStore` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/StreamStoreRemappingSweepPriorityCalculator.java`
#### Snippet
```java
    public static final long INDEX_TO_VALUE_TABLE_SLEEP_TIME = TimeUnit.MINUTES.toMillis(65);
    private SweepPriorityCalculator delegate;
    private SweepPriorityStore sweepPriorityStore;

    public StreamStoreRemappingSweepPriorityCalculator(
```

### FieldMayBeFinal
Field `wrapper` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/priority/SweepPriorityStoreImpl.java`
#### Snippet
```java
    private final KeyValueService kvs;
    private final SweepTableFactory sweepTableFactory;
    private InitializingWrapper wrapper = new InitializingWrapper();

    private SweepPriorityStoreImpl(KeyValueService kvs, SweepTableFactory sweepTableFactory) {
```

### FieldMayBeFinal
Field `inScrubThread` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
    // Keep track of threads spawned by scrub, so we don't starve when
    // running scrub for followers.
    private ExecutorInheritableThreadLocal<Boolean> inScrubThread = new ExecutorInheritableThreadLocal<Boolean>() {
        @Override
        public Boolean initialValue() {
```

### FieldMayBeFinal
Field `previousValue` may be 'final'
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/monitoring/TrackerUtils.java`
#### Snippet
```java
            BinaryOperator<T> reducer) {
        return new CachedGauge<T>(clock, DEFAULT_CACHE_INTERVAL.getSeconds(), TimeUnit.SECONDS) {
            AtomicReference<T> previousValue = new AtomicReference<>(initialValue);

            @Override
```

### FieldMayBeFinal
Field `checkers` may be 'final'
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/JepsenHistoryChecker.java`
#### Snippet
```java
public class JepsenHistoryChecker {

    private List<Checker> checkers;

    public JepsenHistoryChecker(Checker... checkers) {
```

### FieldMayBeFinal
Field `timestampsSupplier` may be 'final'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractTargetedSweepTest.java`
#### Snippet
```java
    protected static final String OLD_VALUE = "old_value";
    protected static final String NEW_VALUE = "new_value";
    private SpecialTimestampsSupplier timestampsSupplier = mock(SpecialTimestampsSupplier.class);
    protected TargetedSweeper sweepQueue;

```

### FieldMayBeFinal
Field `sweepBatchConfig` may be 'final'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/sweep/AbstractBackgroundSweeperIntegrationTest.java`
#### Snippet
```java
    protected TransactionManager txManager;
    private BackgroundSweepThread backgroundSweeper;
    private SweepBatchConfig sweepBatchConfig = ImmutableSweepBatchConfig.builder()
            .deleteBatchSize(8)
            .candidateBatchSize(15)
```

### FieldMayBeFinal
Field `cellsByTimestamp` may be 'final'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/TestDataBuilder.java`
#### Snippet
```java
    private final TableReference table;

    private Map<Long, Map<Cell, byte[]>> cellsByTimestamp = new HashMap<>();

    public TestDataBuilder(KeyValueService kvs, TableReference table) {
```

### FieldMayBeFinal
Field `cellsByTimestamp` may be 'final'
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractGetCandidateCellsForSweepingTest.java`
#### Snippet
```java

    public class TestDataBuilder {
        private Map<Long, Map<Cell, byte[]>> cellsByTimestamp = new HashMap<>();

        public TestDataBuilder put(int row, int col, long ts) {
```

### FieldMayBeFinal
Field `pingV2StatusOnRemotes` may be 'final'
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

    private Map<LeaderPingerContext<PingableLeader>, Boolean> pingV2StatusOnRemotes = new HashMap<>();

    @VisibleForTesting
```

### FieldMayBeFinal
Field `initialized` may be 'final'
in `atlasdb-container-test-utils/src/main/java/com/palantir/atlasdb/containers/UninitializedCassandraResource.java`
#### Snippet
```java
    private KeyValueService kvs;

    private AtomicBoolean initialized = new AtomicBoolean(false);

    private Proxy socksProxy;
```

### FieldMayBeFinal
Field `localHistoryLoader` may be 'final'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/history/remote/TimeLockPaxosHistoryProviderResource.java`
#### Snippet
```java

public final class TimeLockPaxosHistoryProviderResource implements UndertowTimeLockPaxosHistoryProvider {
    private LocalHistoryLoader localHistoryLoader;

    private TimeLockPaxosHistoryProviderResource(LocalHistoryLoader localHistoryLoader) {
```

### FieldMayBeFinal
Field `remoteCorruptionDetector` may be 'final'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/handle/CorruptionNotifierResource.java`
#### Snippet
```java

public final class CorruptionNotifierResource implements UndertowTimeLockCorruptionNotifier {
    private RemoteCorruptionDetector remoteCorruptionDetector;

    private CorruptionNotifierResource(RemoteCorruptionDetector remoteCorruptionDetector) {
```

### FieldMayBeFinal
Field `healthCheck` may be 'final'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/handle/JerseyCorruptionFilter.java`
#### Snippet
```java
@PreMatching
public class JerseyCorruptionFilter implements ContainerRequestFilter {
    private CorruptionHealthCheck healthCheck;

    public JerseyCorruptionFilter(CorruptionHealthCheck healthCheck) {
```

### FieldMayBeFinal
Field `minInclusiveSeqBoundsToBeVerified` may be 'final'
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/LocalTimestampInvariantsVerifier.java`
#### Snippet
```java

    private final SqlitePaxosStateLogHistory sqlitePaxosStateLogHistory;
    private Map<NamespaceAndUseCase, Long> minInclusiveSeqBoundsToBeVerified = new ConcurrentHashMap<>();

    public LocalTimestampInvariantsVerifier(DataSource dataSource) {
```

## RuleId[id=UnnecessaryContinue]
### UnnecessaryContinue
`continue` is unnecessary as the last statement in a loop
in `atlasdb-service/src/main/java/com/palantir/atlasdb/proto/fork/ForkedJsonFormat.java`
#### Snippet
```java
            if (tokenizer.tryConsume(",")) {
                // there are more fields in the object, so continue
                continue;
            }
        }
```

## RuleId[id=PrimitiveArrayArgumentToVariableArgMethod]
### PrimitiveArrayArgumentToVariableArgMethod
Confusing primitive array argument to varargs method
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/generation/ColumnValues.java`
#### Snippet
```java
        try {
            Method parseMethod = clazz.getMethod("parseFrom", byte[].class);
            return (T) parseMethod.invoke(null, msg);
        } catch (Exception e) {
            throw Throwables.throwUncheckedException(e);
```

## RuleId[id=SynchronizationOnLocalVariableOrMethodParameter]
### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on local variable `sync`
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
        Optional<LockClient> writeHolder;
        boolean isFrozen;
        synchronized (sync) {
            readHolders = sync.getReadClients();
            writeHolder = sync.getWriteClient();
```

### SynchronizationOnLocalVariableOrMethodParameter
Synchronization on method parameter `printwriter`
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java

    private static void printStackTrace(PrintWriter printwriter, StackTraceElement elements[]) {
        synchronized (printwriter) {
            for (int i = 0; i < elements.length; i++) {
                printwriter.println("\tat " + elements[i]);
```

## RuleId[id=NewClassNamingConvention]
### NewClassNamingConvention
Test class name `BenchmarksRunner` doesn't match regex '\[A-Z\]\[A-Za-z\\d\]\*Test(s\|Case)?\|Test\[A-Z\]\[A-Za-z\\d\]\*\|IT(.\*)\|(.\*)IT(Case)?'
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/BenchmarksRunner.java`
#### Snippet
```java
 * to execute many requests until the results stabilize (give the JIT compiler time to optimize).
 */
public class BenchmarksRunner extends BenchmarkRunnerBase {

    @Test
```

### NewClassNamingConvention
Test class name `SlaVerifier` doesn't match regex '\[A-Z\]\[A-Za-z\\d\]\*Test(s\|Case)?\|Test\[A-Z\]\[A-Za-z\\d\]\*\|IT(.\*)\|(.\*)IT(Case)?'
in `timelock-server-benchmark-client/src/main/java/com/palantir/atlasdb/timelock/benchmarks/runner/SlaVerifier.java`
#### Snippet
```java
import org.junit.Test;

public class SlaVerifier extends BenchmarkRunnerBase {

    @BeforeClass
```

## RuleId[id=UnnecessaryLocalVariable]
### UnnecessaryLocalVariable
Local variable `name` is redundant
in `commons-api/src/main/java/com/palantir/util/sql/SqlStats.java`
#### Snippet
```java

    private String getNameForUnregisteredQuery(String rawSql) {
        String name = namesByUnregisteredSql.computeIfAbsent(
                rawSql,
                k -> String.format(
```

### UnnecessaryLocalVariable
Local variable `javaSupplier` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
    default <T, C extends PreCommitCondition, E extends Exception> T runTaskWithConditionWithRetry(
            com.google.common.base.Supplier<C> guavaSupplier, ConditionAwareTransactionTask<T, C, E> task) throws E {
        Supplier<C> javaSupplier = guavaSupplier;
        return runTaskWithConditionWithRetry(javaSupplier, task);
    }
```

### UnnecessaryLocalVariable
Local variable `javaSupplier` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
            LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException, LockAcquisitionException {
        Supplier<LockRequest> javaSupplier = guavaSupplier;
        return runTaskWithLocksWithRetry(lockTokens, javaSupplier, task);
    }
```

### UnnecessaryLocalVariable
Local variable `javaSupplier` is redundant
in `atlasdb-api/src/main/java/com/palantir/atlasdb/transaction/api/TransactionManager.java`
#### Snippet
```java
            com.google.common.base.Supplier<LockRequest> guavaSupplier, LockAwareTransactionTask<T, E> task)
            throws E, InterruptedException, LockAcquisitionException {
        Supplier<LockRequest> javaSupplier = guavaSupplier;
        return runTaskWithLocksWithRetry(javaSupplier, task);
    }
```

### UnnecessaryLocalVariable
Local variable `results` is redundant
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java
            Iterator<Map<Sha256Hash, Integer>> batches,
            Map<Sha256Hash, Integer> columnCountByRowHash) {
        Iterator<Iterator<Map.Entry<Cell, Value>>> results = new AbstractIterator<Iterator<Map.Entry<Cell, Value>>>() {
            private Sha256Hash lastRowHashInPreviousBatch = null;
            private byte[] lastColumnInPreviousBatch = null;
```

### UnnecessaryLocalVariable
Local variable `result` is redundant
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractConditionAwareTransactionManager.java`
#### Snippet
```java
            checkOpen();
            C condition = conditionSupplier.get();
            T result = runTaskWithConditionThrowOnConflict(condition, task);
            return result;
        });
```

### UnnecessaryLocalVariable
Local variable `wrapped` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
        if (clazz.isInstance(t)) {
            K kt = (K) t;
            K wrapped = Throwables.rewrap(newMessage, kt);
            throw wrapped;
        }
```

### UnnecessaryLocalVariable
Local variable `kt` is redundant
in `atlasdb-commons/src/main/java/com/palantir/common/base/Throwables.java`
#### Snippet
```java
    public static <K extends Throwable> void throwIfInstance(Throwable t, Class<K> clazz) throws K {
        if (clazz.isInstance(t)) {
            K kt = (K) t;
            throw kt;
        }
```

### UnnecessaryLocalVariable
Local variable `rowName` is redundant
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CqlExecutorImpl.java`
#### Snippet
```java

    private static CellWithTimestamp getCellFromKeylessRow(CqlRow row, byte[] key) {
        byte[] rowName = key;
        byte[] columnName = row.getColumns().get(0).getValue();
        long timestamp = extractTimestamp(row, 1);
```

### UnnecessaryLocalVariable
Local variable `threadFactory` is redundant
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
    @SuppressWarnings("ThreadPriorityCheck") // Used internally
    public static ThreadFactory newThreadFactory(final String prefix, final int priority, final boolean isDaemon) {
        ThreadFactory threadFactory = new ThreadFactory() {
            private final AtomicInteger nextThreadId = new AtomicInteger();

```

### UnnecessaryLocalVariable
Local variable `scrubber` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
            Collection<Follower> followers,
            MetricsManager metricsManager) {
        Scrubber scrubber = new Scrubber(
                keyValueService,
                scrubberStore,
```

### UnnecessaryLocalVariable
Local variable `store` is redundant
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/KnownConcludedTransactionsImpl.java`
#### Snippet
```java
            KnownConcludedTransactionsStore knownConcludedTransactionsStore,
            TaggedMetricRegistry taggedMetricRegistry) {
        KnownConcludedTransactionsImpl store = new KnownConcludedTransactionsImpl(
                knownConcludedTransactionsStore, KnownConcludedTransactionsMetrics.of(taggedMetricRegistry));
        return store;
```

### UnnecessaryLocalVariable
Local variable `seq` is redundant
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogImpl.java`
#### Snippet
```java
                        ? Collections.max(files, nameAsLongComparator())
                        : Collections.min(files, nameAsLongComparator());
                long seq = getSeqFromFilename(file);
                return seq;
            } catch (NoSuchElementException e) {
```

### UnnecessaryLocalVariable
Local variable `rangeRequest` is redundant
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java

        // Precise test for lower-bounded
        RangeRequest rangeRequest = downbounded;
        try (ClosableIterator<RowResult<Value>> rangeResult =
                keyValueService.getRange(TEST_TABLE, rangeRequest, TEST_TIMESTAMP + 1)) {
```

### UnnecessaryLocalVariable
Local variable `localCorruptionDetector` is redundant
in `timelock-corruption-detection/src/main/java/com/palantir/timelock/corruption/detection/LocalCorruptionDetector.java`
#### Snippet
```java
            List<TimeLockCorruptionNotifier> corruptionNotifiers,
            LocalTimestampInvariantsVerifier timestampInvariants) {
        LocalCorruptionDetector localCorruptionDetector =
                new LocalCorruptionDetector(historyProvider, corruptionNotifiers, timestampInvariants);

```

## RuleId[id=BusyWait]
### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `lock-impl/src/main/java/com/palantir/lock/impl/LockServiceImpl.java`
#### Snippet
```java
                    long sleepTimeMs = Math.min(timeUntilTokenExpiredMs, maxAllowedClockDrift.toMillis());
                    if (sleepTimeMs > 0) {
                        Thread.sleep(sleepTimeMs);
                    }
                } catch (InterruptedException e) {
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `atlasdb-ete-tests/src/main/java/com/palantir/atlasdb/AtlasDbEteServer.java`
#### Snippet
```java
            } catch (RuntimeException e) {
                log.warn("An error occurred while trying to create transaction manager. Retrying...", e);
                Thread.sleep(CREATE_TRANSACTION_MANAGER_POLL_INTERVAL_SECS);
            }
        }
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/cleaner/Scrubber.java`
#### Snippet
```java
                        SafeArg.of("nextImmutableTimestamp", nextImmutableTimestamp),
                        SafeArg.of("commitTimestamp", commitTimestamp));
                Thread.sleep(AtlasDbConstants.SCRUBBER_RETRY_DELAY_MILLIS);
            } catch (InterruptedException e) {
                log.error("Interrupted while waiting for immutableTimestamp to advance past commitTimestamp", e);
```

### BusyWait
Call to `Thread.sleep()` in a loop, probably busy-waiting
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/LeadershipCoordinator.java`
#### Snippet
```java
        while (!gainLeadershipBlocking()) {
            try {
                Thread.sleep(GAIN_LEADERSHIP_BACKOFF.toMillis());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

## RuleId[id=ArraysAsListWithZeroOrOneArgument]
### ArraysAsListWithZeroOrOneArgument
Call to `asList()` with only one argument
in `atlasdb-workload-server-api/src/main/java/com/palantir/atlasdb/workload/workflow/WorkflowAndInvariants.java`
#### Snippet
```java
    static <WorkflowTypeT extends Workflow> WorkflowAndInvariants<WorkflowTypeT> of(
            WorkflowTypeT workflow, InvariantReporter<?>... invariants) {
        return ImmutableWorkflowAndInvariants.of(workflow, Arrays.asList(invariants));
    }

```

## RuleId[id=ThrowableNotThrown]
### ThrowableNotThrown
Result of `rewrapAndThrowUncheckedException()` not thrown
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/oracle/OracleDdlTable.java`
#### Snippet
```java
                }
            } catch (TableMappingNotFoundException e) {
                Throwables.rewrapAndThrowUncheckedException(
                        "Unable to alter table to have overflow column due to a table mapping error.", e);
            }
```

### ThrowableNotThrown
Result of `throwUncheckedException()` not thrown
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
            }
        } catch (InterruptedException e) {
            Throwables.throwUncheckedException(e);
        } catch (ExecutionException e) {
            Throwables.throwUncheckedException(e.getCause());
```

### ThrowableNotThrown
Result of `throwUncheckedException()` not thrown
in `atlasdb-client/src/main/java/com/palantir/atlasdb/schema/TableMigrator.java`
#### Snippet
```java
            Throwables.throwUncheckedException(e);
        } catch (ExecutionException e) {
            Throwables.throwUncheckedException(e.getCause());
        }
    }
```

## RuleId[id=PointlessBooleanExpression]
### PointlessBooleanExpression
`(ret = true) == true` can be simplified to '(ret = true)'
in `atlasdb-commons/src/main/java/com/palantir/util/AssertUtils.java`
#### Snippet
```java
    public static boolean isAssertEnabled() {
        boolean ret = false;
        assert (ret = true) == true;

        return ret;
```

### PointlessBooleanExpression
`capsType == false` can be simplified to '!capsType'
in `atlasdb-commons/src/main/java/com/palantir/util/debug/StackTraceUtils.java`
#### Snippet
```java
        if (capsType == null) {
            return plural; // lower case
        } else if (capsType == false) {
            if (plural != null && plural.length() > 0) {
                return Character.toUpperCase(plural.charAt(0)) + plural.substring(1); // Camel Case
```

## RuleId[id=EqualsWhichDoesntCheckParameterClass]
### EqualsWhichDoesntCheckParameterClass
`equals()` should check the class of its parameter
in `commons-api/src/main/java/com/palantir/common/io/ForwardingInputStream.java`
#### Snippet
```java

    @Override
    public boolean equals(Object obj) {
        return delegate().equals(obj);
    }
```

## RuleId[id=UseBulkOperation]
### UseBulkOperation
Iteration can be replaced with bulk 'Collection.addAll()' call
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/AbstractDbQueryFactory.java`
#### Snippet
```java
            subQueries.add(query.getQuery());
            for (Object arg : query.getArgs()) {
                args.add(arg);
            }
        }
```

## RuleId[id=UnstableApiUsage]
### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java

    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java

    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java

    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/ProfilingTimelockService.java`
#### Snippet
```java
    public static ProfilingTimelockService create(TimelockService delegate) {
        RateLimiter rateLimiter = RateLimiter.create(1. / LOGGING_TIME_WINDOW.getSeconds());
        return new ProfilingTimelockService(log, delegate, Stopwatch::createStarted, rateLimiter::tryAcquire);
    }

```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `lock-api/src/main/java/com/palantir/lock/client/BatchingCommitTimestampGetter.java`
#### Snippet
```java
                .boxed()
                .collect(Collectors.toList());
        List<TransactionUpdate> transactionUpdates = Streams.zip(
                        timestamps.stream(), requests.stream(), (commitTs, batchElement) -> TransactionUpdate.builder()
                                .startTs(batchElement.argument().startTs())
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `lock-api/src/main/java/com/palantir/lock/client/MultiClientCommitTimestampGetter.java`
#### Snippet
```java

        private void processLockWatchUpdate(List<Long> timestamps, LockWatchStateUpdate lockWatchUpdate) {
            List<TransactionUpdate> transactionUpdates = Streams.zip(
                            timestamps.stream(),
                            pendingRequestQueue.stream(),
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    @VisibleForTesting
    Optional<LeaderElectionDuration> calculateLastLeaderElectionDuration() {
        Map<UUID, Instant> lowerBounds = ImmutableMap.copyOf(leadershipLowerBound.entrySet());
        Map<UUID, Instant> upperBounds = ImmutableMap.copyOf(leadershipUpperBound.entrySet());

```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `lock-api/src/main/java/com/palantir/lock/client/LeaderElectionReportingTimelockService.java`
#### Snippet
```java
    Optional<LeaderElectionDuration> calculateLastLeaderElectionDuration() {
        Map<UUID, Instant> lowerBounds = ImmutableMap.copyOf(leadershipLowerBound.entrySet());
        Map<UUID, Instant> upperBounds = ImmutableMap.copyOf(leadershipUpperBound.entrySet());

        Set<UUID> leaders = leadersWithBothBounds(lowerBounds, upperBounds);
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `lock-api/src/main/java/com/palantir/lock/client/TransactionStarterHelper.java`
#### Snippet
```java
                partitionedTimestamps.stream().mapToObj(timestamp -> TimestampAndPartition.of(timestamp, partition));

        return Streams.zip(immutableTsAndLocks, timestampAndPartitions, StartIdentifiedAtlasDbTransactionResponse::of)
                .collect(Collectors.toList());
    }
```

### UnstableApiUsage
'asMap(com.google.common.collect.SetMultimap)' is marked unstable with @Beta
in `lock-impl/src/main/java/com/palantir/lock/logger/LockServiceStateLogger.java`
#### Snippet
```java
            @Safe String lockStats) {
        this.heldLocks = heldLocksTokenMap;
        this.outstandingLockRequests = Multimaps.asMap(outstandingLockRequestMultimap);
        this.descriptorToLockMap = descriptorToLockMap;
        this.lockStats = lockStats;
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-perf/src/main/java/com/palantir/atlasdb/performance/benchmarks/AwaitingLeadershipProxyBenchmark.java`
#### Snippet
```java
            futures.add(service.somethingAsync());
        }
        ListenableFuture<List<Object>> composition = Futures.allAsList(futures);
        return Futures.getUnchecked(composition);
    }
```

### UnstableApiUsage
'builderWithExpectedSize(int)' is marked unstable with @Beta
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/RowsColumnRangeBatchRequests.java`
#### Snippet
```java
        List<List<byte[]>> partitionedRows = Lists.partition(getAllRowsInOrder(batch), partitionSize);
        ImmutableList.Builder<RowsColumnRangeBatchRequest> partitions =
                ImmutableList.builderWithExpectedSize(partitionedRows.size());

        partitions.add(getFirstRequestInPartition(batch, partitionedRows.get(0)));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockService.java`
#### Snippet
```java

    default ListenableFuture<Set<LockToken>> deprecatedRefreshLockLeases(Set<LockToken> tokens) {
        return Futures.transform(
                refreshLockLeases(tokens), RefreshLockResponseV2::refreshedTokens, MoreExecutors.directExecutor());
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockService.java`
#### Snippet
```java

    default ListenableFuture<LockResponse> deprecatedLock(IdentifiedLockRequest request) {
        return Futures.transform(
                lock(request),
                result -> result.accept(LockResponseV2.Visitor.of(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockService.java`
#### Snippet
```java
                .numTransactions(request.numTransactions())
                .build();
        return Futures.transform(
                startTransactionsWithWatches(conjureRequest),
                newResponse -> ImmutableStartTransactionResponseV4.builder()
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/AsyncTimelockService.java`
#### Snippet
```java

    default ListenableFuture<Long> getFreshTimestampAsync() {
        return Futures.transform(
                getFreshTimestampsAsync(1), TimestampRange::getLowerBound, MoreExecutors.directExecutor());
    }
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
    private <T> ListenableFuture<T> handleExceptions(ListenableFuture<T> future) {
        return FluentFuture.from(future)
                .catching(
                        BlockingTimeoutException.class,
                        timeout -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        NotCurrentLeaderException.class,
                        notCurrentLeader -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        TooManyRequestsException.class,
                        tooManyRequests -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        InterruptedException.class,
                        interrupted -> {
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureResourceExceptionHandler.java`
#### Snippet
```java
                        },
                        MoreExecutors.directExecutor())
                .catching(
                        RuntimeException.class,
                        runtimeException -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    private <T> ListenableFuture<T> refreshLocksInternal(
            String namespace, Set<LockToken> tokens, Function<RefreshLockResponseV2, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).refreshLockLeases(tokens),
                userTokenTranslator::apply,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<WaitForLocksResponse> tokenFuture =
                    forNamespace(namespace).waitForLocks(lockRequest);
            return Futures.transform(
                    tokenFuture,
                    token -> ConjureWaitForLocksResponse.of(token.wasSuccessful()),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<LockResponseV2> tokenFuture =
                    forNamespace(namespace).lock(lockRequest);
            return Futures.transform(
                    tokenFuture,
                    token -> token.accept(Visitor.of(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
    private <T> ListenableFuture<T> unlockInternal(
            String namespace, Set<LockToken> tokens, Function<Set<LockToken>, T> userTokenTranslator) {
        return handleExceptions(() -> Futures.transform(
                forNamespace(namespace).unlock(tokens), userTokenTranslator::apply, MoreExecutors.directExecutor()));
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<TimestampRange> rangeFuture =
                    forNamespace(namespace).getFreshTimestampsAsync(timestampsToRetrieve);
            return Futures.transform(rangeFuture, responseWrappingFunction::apply, MoreExecutors.directExecutor());
        });
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/ConjureTimelockResource.java`
#### Snippet
```java
            ListenableFuture<GetCommitTimestampsResponse> responseFuture =
                    getCommitTimestampsInternal(namespace, 1, request.getLastKnownVersion());
            return Futures.transform(
                    responseFuture,
                    response ->
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
     * NOT guaranteed to return a consistent snapshot of the world.
     */
    private Set<LockDescriptor> calculateOpenLocks(RangeSet<LockDescriptor> watchedRanges) {
        return heldLocksCollection.locksHeld().stream()
                .flatMap(locksHeld -> locksHeld.getLocks().stream().map(AsyncLock::getDescriptor))
```

### UnstableApiUsage
'contains(C)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/watch/LockEventLogImpl.java`
#### Snippet
```java
        return heldLocksCollection.locksHeld().stream()
                .flatMap(locksHeld -> locksHeld.getLocks().stream().map(AsyncLock::getDescriptor))
                .filter(watchedRanges::contains)
                .collect(Collectors.toSet());
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/v1/ConjureLockV1Resource.java`
#### Snippet
```java
                    .refreshLockRefreshTokens(Collections2.transform(
                            request, token -> new LockRefreshToken(token.getTokenId(), token.getExpirationDateMs()))));
            return Futures.transform(
                    serviceTokens,
                    tokens -> ImmutableSet.copyOf(Collections2.transform(tokens, ConjureLockV1Tokens::getConjureToken)),
```

### UnstableApiUsage
'com.google.common.util.concurrent.SimpleTimeLimiter' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
        return new BlockingTimeLimitedLockService(
                lockService,
                SimpleTimeLimiter.create(PTExecutors.newCachedThreadPool()),
                blockingTimeLimitMillis,
                threadInfoSnapshotManager);
```

### UnstableApiUsage
'create(java.util.concurrent.ExecutorService)' is declared in unstable class 'com.google.common.util.concurrent.SimpleTimeLimiter' marked with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
        return new BlockingTimeLimitedLockService(
                lockService,
                SimpleTimeLimiter.create(PTExecutors.newCachedThreadPool()),
                blockingTimeLimitMillis,
                threadInfoSnapshotManager);
```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
    BlockingTimeLimitedLockService(
            CloseableLockService delegate,
            TimeLimiter timeLimiter,
            long blockingTimeLimitMillis,
            LockThreadInfoSnapshotManager threadInfoSnapshotManager) {
```

### UnstableApiUsage
'callWithTimeout(java.util.concurrent.Callable, long, java.util.concurrent.TimeUnit)' is declared in unstable interface 'com.google.common.util.concurrent.TimeLimiter' marked with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java
            throws InterruptedException {
        try {
            return timeLimiter.callWithTimeout(callable, blockingTimeLimitMillis, TimeUnit.MILLISECONDS);
        } catch (InterruptedException e) {
            // In this case, the thread was interrupted for some other reason, perhaps because we lost leadership.
```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/lock/BlockingTimeLimitedLockService.java`
#### Snippet
```java

    private final CloseableLockService delegate;
    private final TimeLimiter timeLimiter;
    private final long blockingTimeLimitMillis;

```

### UnstableApiUsage
'transform(com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/CumulativeLeaderPinger.java`
#### Snippet
```java

        return FluentFuture.from(hasProcessedFirstRequest.computeIfAbsent(client, $ -> SettableFuture.create()))
                .transform(
                        // lastSuccessfulResult will never be null, since the SettableFuture in the above will have been
                        // set after a ping containing the client is made.
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/AcceptCoalescingFunction.java`
#### Snippet
```java
    public Map<Map.Entry<Client, PaxosProposal>, BooleanPaxosResponse> apply(
            Set<Map.Entry<Client, PaxosProposal>> request) {
        SetMultimap<Client, PaxosProposal> requests = ImmutableSetMultimap.copyOf(request);
        Map<WithSeq<Client>, BooleanPaxosResponse> results = KeyedStream.stream(delegate.accept(requests))
                .mapKeys((client, booleanResponseWithSeq) -> booleanResponseWithSeq.withNewValue(client))
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/LearnCoalescingConsumer.java`
#### Snippet
```java
    @Override
    public Map<Map.Entry<Client, PaxosValue>, PaxosResponse> apply(Set<Map.Entry<Client, PaxosValue>> request) {
        SetMultimap<Client, PaxosValue> requestAsMultimap = ImmutableSetMultimap.copyOf(request);

        for (WithDedicatedExecutor<BatchPaxosLearner> remoteLearner : remoteLearners) {
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/paxos/PrepareCoalescingFunction.java`
#### Snippet
```java
    public Map<Map.Entry<Client, WithSeq<PaxosProposalId>>, PaxosPromise> apply(
            Set<Map.Entry<Client, WithSeq<PaxosProposalId>>> requestEntries) {
        SetMultimap<Client, WithSeq<PaxosProposalId>> requests = ImmutableSetMultimap.copyOf(requestEntries);

        SetMultimap<Client, WithSeq<PaxosPromise>> prepareResult = delegate.prepare(requests);
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    private ListenableFuture<Entry<Namespace, ConjureUnlockResponseV2>> unlockForSingleNamespace(
            Namespace namespace, ConjureUnlockRequestV2 request) {
        ListenableFuture<ConjureUnlockResponseV2> unlockResponseFuture = Futures.transform(
                getServiceForNamespace(namespace).unlock(toServerLockTokens(request.get())),
                response -> ConjureUnlockResponseV2.of(fromServerLockTokens(response)),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
                response -> ConjureUnlockResponseV2.of(fromServerLockTokens(response)),
                MoreExecutors.directExecutor());
        return Futures.transform(
                unlockResponseFuture,
                response -> Maps.immutableEntry(namespace, response),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    @Override
    public ListenableFuture<LeaderTimes> leaderTimes(AuthHeader authHeader, Set<Namespace> namespaces) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(namespaces, this::getNamespacedLeaderTimes)),
                entryList -> LeaderTimes.of(ImmutableMap.copyOf(entryList)),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<LeaderTimes> leaderTimes(AuthHeader authHeader, Set<Namespace> namespaces) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(namespaces, this::getNamespacedLeaderTimes)),
                entryList -> LeaderTimes.of(ImmutableMap.copyOf(entryList)),
                MoreExecutors.directExecutor()));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<Map<Namespace, ConjureUnlockResponseV2>> unlock(
            AuthHeader authHeader, Map<Namespace, ConjureUnlockRequestV2> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> unlockForSingleNamespace(e.getKey(), e.getValue()))),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
            AuthHeader authHeader, Map<Namespace, ConjureUnlockRequestV2> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> unlockForSingleNamespace(e.getKey(), e.getValue()))),
                ImmutableMap::copyOf,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<Map<Namespace, GetCommitTimestampsResponse>> getCommitTimestampsForClients(
            AuthHeader authHeader, Map<Namespace, GetCommitTimestampsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> getCommitTimestampsForSingleNamespace(e.getKey(), e.getValue()))),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
            AuthHeader authHeader, Map<Namespace, GetCommitTimestampsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> getCommitTimestampsForSingleNamespace(e.getKey(), e.getValue()))),
                ImmutableMap::copyOf,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
        ListenableFuture<LeaderTime> leaderTimeListenableFuture =
                getServiceForNamespace(namespace).leaderTime();
        return Futures.transform(
                leaderTimeListenableFuture,
                leaderTime -> Maps.immutableEntry(namespace, leaderTime),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
                        request.getNumTimestamps(),
                        request.getLastKnownVersion().map(this::toIdentifiedVersion));
        return Futures.transform(
                commitTimestampsResponseListenableFuture,
                response -> Maps.immutableEntry(namespace, response),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
    public ListenableFuture<Map<Namespace, ConjureStartTransactionsResponse>> startTransactionsForClients(
            AuthHeader authHeader, Map<Namespace, ConjureStartTransactionsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> startTransactionsForSingleNamespace(e.getKey(), e.getValue()))),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
            AuthHeader authHeader, Map<Namespace, ConjureStartTransactionsRequest> requests) {
        return handleExceptions(() -> Futures.transform(
                Futures.allAsList(Collections2.transform(
                        requests.entrySet(), e -> startTransactionsForSingleNamespace(e.getKey(), e.getValue()))),
                ImmutableMap::copyOf,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `timelock-impl/src/main/java/com/palantir/atlasdb/timelock/batch/MultiClientConjureTimelockResource.java`
#### Snippet
```java
        ListenableFuture<ConjureStartTransactionsResponse> conjureStartTransactionsResponseListenableFuture =
                getServiceForNamespace(namespace).startTransactionsWithWatches(request);
        return Futures.transform(
                conjureStartTransactionsResponseListenableFuture,
                startTransactionsResponse -> Maps.immutableEntry(namespace, startTransactionsResponse),
```

### UnstableApiUsage
'asMap(com.google.common.collect.SetMultimap)' is marked unstable with @Beta
in `atlasdb-dbkvs/src/main/java/com/palantir/atlasdb/keyvalue/dbkvs/impl/DbKvs.java`
#### Snippet
```java

        NavigableMap<byte[], NavigableMap<byte[], Set<Long>>> cellsByRow =
                Cells.breakCellsUpByRow(Multimaps.asMap(result.entries));
        if (range.isReverse()) {
            cellsByRow = cellsByRow.descendingMap();
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/cache/DefaultOffHeapCache.java`
#### Snippet
```java
                int sizeIncrease = Sets.difference(request, response.entrySet()).size();
                cacheDescriptor.currentSize().addAndGet(sizeIncrease);
                offHeapCache.persistentStore.put(cacheDescriptor.handle(), ImmutableMap.copyOf(serializedRequest));
            } catch (SafeIllegalArgumentException exception) {
                // happens when a store is dropped by a concurrent call to clear
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/table/description/render/StreamStoreRenderer.java`
#### Snippet
```java
        Sets.class,
        Sets.SetView.class,
        CountingInputStream.class,
        Ints.class,
        ByteString.class,
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
        while (true) {
            byte[] bytesToStore = new byte[BLOCK_SIZE_IN_BYTES];
            int length = ByteStreams.read(stream, bytesToStore, 0, BLOCK_SIZE_IN_BYTES);
            // Store only relevant data if it only filled a partial block
            if (length == 0) {
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
    protected final StreamMetadata storeBlocksAndGetHashlessMetadata(
            @Nullable Transaction tx, long id, InputStream stream) {
        CountingInputStream countingStream = new CountingInputStream(stream);

        // Try to store the bytes in the stream and get length
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
    protected final StreamMetadata storeBlocksAndGetHashlessMetadata(
            @Nullable Transaction tx, long id, InputStream stream) {
        CountingInputStream countingStream = new CountingInputStream(stream);

        // Try to store the bytes in the stream and get length
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
    protected final StreamMetadata storeBlocksAndGetHashlessMetadata(
            @Nullable Transaction tx, long id, InputStream stream) {
        CountingInputStream countingStream = new CountingInputStream(stream);

        // Try to store the bytes in the stream and get length
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
            storeBlocksFromStream(tx, id, countingStream);
        } catch (IOException e) {
            long length = countingStream.getCount();
            StreamMetadata metadata = StreamMetadata.newBuilder()
                    .setStatus(Status.FAILED)
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/stream/AbstractPersistentStreamStore.java`
#### Snippet
```java
        }

        long length = countingStream.getCount();
        return StreamMetadata.newBuilder()
                .setStatus(Status.STORED)
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
    }

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java

    private static Closer createCloserAndRelease(ReleasableCloseable<?>... closeables) {
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
        Closer closer = Closer.create();
        for (ReleasableCloseable<?> c : closeables) {
            closer.register(c.get());
        }
        for (ReleasableCloseable<?> c : closeables) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/keyvalue/impl/GetCandidateCellsForSweepingShim.java`
#### Snippet
```java
                return candidateBatch;
            });
            Closer closer = createCloserAndRelease(valueResults, tsResults);
            return ClosableIterators.wrap(candidates, closer);
        }
```

### UnstableApiUsage
'withRetryListener(com.github.rholder.retry.RetryListener)' is unstable because its signature references unstable interface 'com.github.rholder.retry.RetryListener' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
                .withStopStrategy(
                        failedAttempt -> shouldStopRetrying.test(Ints.checkedCast(failedAttempt.getAttemptNumber())))
                .withRetryListener(new RetryListener() {
                    @Override
                    public <V> void onRetry(Attempt<V> attempt) {
```

### UnstableApiUsage
'com.github.rholder.retry.RetryListener' is marked unstable with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
                .withStopStrategy(
                        failedAttempt -> shouldStopRetrying.test(Ints.checkedCast(failedAttempt.getAttemptNumber())))
                .withRetryListener(new RetryListener() {
                    @Override
                    public <V> void onRetry(Attempt<V> attempt) {
```

### UnstableApiUsage
Overridden method 'onRetry(com.github.rholder.retry.Attempt)' is declared in unstable interface 'com.github.rholder.retry.RetryListener' marked with @Beta
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/TransactionRetryStrategy.java`
#### Snippet
```java
                .withRetryListener(new RetryListener() {
                    @Override
                    public <V> void onRetry(Attempt<V> attempt) {
                        logAttempt(runId, attempt, shouldStopRetrying);
                    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-client/src/main/java/com/palantir/atlasdb/transaction/impl/CachingTransaction.java`
#### Snippet
```java
        }

        return Futures.transform(
                cellLoader.load(tableRef, toLoad),
                loadedCells -> {
```

### UnstableApiUsage
'shutdownAndAwaitTermination(java.util.concurrent.ExecutorService, long, java.util.concurrent.TimeUnit)' is marked unstable with @Beta
in `atlasdb-config/src/main/java/com/palantir/atlasdb/factory/AtlasDbRuntimeConfigRefreshable.java`
#### Snippet
```java

        return new AtlasDbRuntimeConfigRefreshable(refreshable, () -> {
            if (!MoreExecutors.shutdownAndAwaitTermination(
                    executor, GRACEFUL_SHUTDOWN.toMillis(), TimeUnit.MILLISECONDS)) {
                log.warn("Executor did not terminate within graceful shutdown duration");
```

### UnstableApiUsage
'builderWithExpectedSize(int)' is marked unstable with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/TimeLockPaxosExecutors.java`
#### Snippet
```java
        int numRemotes = localAndRemotes.remotes().size();
        ImmutableMap.Builder<T, CheckedRejectionExecutorService> remoteExecutors =
                ImmutableMap.builderWithExpectedSize(numRemotes);
        for (int index = 0; index < numRemotes; index++) {
            T remote = localAndRemotes.remotes().get(index);
```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java

            try {
                closer.close();
            } catch (IOException e) {
                log.warn("Received exceptions whilst trying to shutdown this timelock node.", e);
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

        synchronized void register(Closeable closeable) {
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

        synchronized void register(Closeable closeable) {
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
    private static final class ShutdownAwareCloser {
        private boolean isShutdown = false;
        private final Closer closer = Closer.create();

        synchronized void register(Closeable closeable) {
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `timelock-agent/src/main/java/com/palantir/atlasdb/timelock/paxos/LeadershipComponents.java`
#### Snippet
```java
                throw new NotCurrentLeaderException("This timelock node is being shutdown");
            } else {
                closeables.forEach(closer::register);
            }
        }
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockPaxosAcceptorAdapters.java`
#### Snippet
```java
        switch (paxosUseCase) {
            case LEADER_FOR_ALL_CLIENTS:
                return Streams.zip(
                                remoteClients.batchAcceptorsWithExecutors().stream(),
                                remoteClients.singleLeaderAcceptorsWithExecutors().stream(),
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `timelock-agent/src/main/java/com/palantir/timelock/paxos/TimelockPaxosLearnerAdapters.java`
#### Snippet
```java
        switch (paxosUseCase) {
            case LEADER_FOR_ALL_CLIENTS:
                return Streams.zip(
                                remoteClients.batchLearner().stream(),
                                remoteClients.singleLeaderLearner().stream(),
```

### UnstableApiUsage
'nullOutputStream()' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
            MessageDigest digest = getMessageDigest();
            DigestInputStream digestInputStream = new DigestInputStream(is, digest);
            ByteStreams.copy(digestInputStream, ByteStreams.nullOutputStream());
            digestInputStream.close();
            return createFrom(digest);
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
    }

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }
```

### UnstableApiUsage
'com.google.common.hash.Hasher' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java
    }

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }
```

### UnstableApiUsage
'putBytes(byte\[\])' is declared in unstable interface 'com.google.common.hash.Hasher' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/util/crypto/Sha256Hash.java`
#### Snippet
```java

    public Hasher hash(Hasher hasher) {
        return hasher.putBytes(bytes);
    }

```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/BufferedDelegateInputStream.java`
#### Snippet
```java
     * To read from the buffer until either the end of the stream is reached
     * or {@code len} bytes have been read, use
     * {@link com.google.common.io.ByteStreams#read(InputStream, byte[], int, int)
     * ByteStreams.read}.
     */
```

### UnstableApiUsage
'com.google.common.io.Closeables' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/StreamCompression.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            Closeables.closeQuietly(unbuffered);
            // This avoids awkward cases of us having to close many returned InputStreams in wrapping code.
            return new ThrowingInputStream(e);
```

### UnstableApiUsage
'closeQuietly(java.io.InputStream)' is declared in unstable class 'com.google.common.io.Closeables' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/StreamCompression.java`
#### Snippet
```java
            }
        } catch (IOException e) {
            Closeables.closeQuietly(unbuffered);
            // This avoids awkward cases of us having to close many returned InputStreams in wrapping code.
            return new ThrowingInputStream(e);
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
```

### UnstableApiUsage
'CountingInputStream(java.io.InputStream)' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
```

### UnstableApiUsage
'com.google.common.io.CountingInputStream' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
    public static InputStream compress(InputStream uncompressed, short compressionLevel, int bufferSize) {
        InputStream header = createHeaderStream();
        CountingInputStream counting = new CountingInputStream(uncompressed);
        CRC32 crc = new CRC32();
        CheckedInputStream checked = new CheckedInputStream(counting, crc);
```

### UnstableApiUsage
'getCount()' is declared in unstable class 'com.google.common.io.CountingInputStream' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/GzipCompressingInputStream.java`
#### Snippet
```java
        InputStream content = new DeflaterInputStream(checked, new Deflater(compressionLevel, true), bufferSize);
        List<Supplier<InputStream>> allStreams =
                ImmutableList.of(() -> header, () -> content, () -> trailerStream(counting.getCount(), crc));
        return new SequenceInputStream(Collections.enumeration(Lists.transform(allStreams, Supplier::get)));
    }
```

### UnstableApiUsage
'read(java.io.InputStream, byte\[\], int, int)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/compression/LZ4CompressingInputStream.java`
#### Snippet
```java

        // Read a block of data from the delegate input stream.
        int bytesRead = ByteStreams.read(delegate, uncompressedBuffer, BUFFER_START, blockSize);
        if (bytesRead == 0) {
            // The delegate input stream has been exhausted, so we notify
```

### UnstableApiUsage
'catching(java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
        ListenableFuture<Round> done() {
            return FluentFuture.from(future)
                    .catching(Throwable.class, thrown -> null, MoreExecutors.directExecutor())
                    .transform(x -> next, MoreExecutors.directExecutor());
        }
```

### UnstableApiUsage
'transform(com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
            return FluentFuture.from(future)
                    .catching(Throwable.class, thrown -> null, MoreExecutors.directExecutor())
                    .transform(x -> next, MoreExecutors.directExecutor());
        }

```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-commons/src/main/java/com/palantir/common/concurrent/CoalescingSupplier.java`
#### Snippet
```java
                    executor);
        }
        return Futures.transformAsync(
                present.done(),
                next -> {
```

### UnstableApiUsage
'whenAllSucceed(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
        Executor tracingExecutor = traceRestoringExecutor(executor, "AtlasFutures: allAsMap");

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
                                .map(AtlasFutures::getDone)
```

### UnstableApiUsage
'whenAllSucceed(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java
        Executor tracingExecutor = traceRestoringExecutor(executor, "AtlasFutures: allOptionalsAsMap");

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-commons/src/main/java/com/palantir/atlasdb/futures/AtlasFutures.java`
#### Snippet
```java

        return Futures.whenAllSucceed(inputToListenableFutureMap.values())
                .call(
                        () -> KeyedStream.stream(inputToListenableFutureMap)
                                .map(AtlasFutures::getDone)
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        } catch (Throwable th) {
            Throwable ex = Throwables.unwrapIfPossible(th);
            if (ex instanceof UnknownRemoteException && rateLimiter.tryAcquire()) {
                log.warn(
                        "Encountered UnknownRemoteException; logging current state of refreshable",
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
    private static final SafeLogger log = SafeLoggerFactory.get(UnknownRemoteDebuggingProxy.class);
    private final Refreshable<SafeArg<T>> safeLoggableRefreshable;
    private final RateLimiter rateLimiter;
    private final V delegate;

```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        this.safeLoggableRefreshable = safeLoggableRefreshable;
        this.delegate = delegate;
        this.rateLimiter = RateLimiter.create(0.05);
    }

```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-conjure/src/main/java/com/palantir/atlasdb/http/v2/UnknownRemoteDebuggingProxy.java`
#### Snippet
```java
        this.safeLoggableRefreshable = safeLoggableRefreshable;
        this.delegate = delegate;
        this.rateLimiter = RateLimiter.create(0.05);
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
public class VersionedLockWatchStateImpl implements VersionedLockWatchState {
    private final OptionalLong version;
    private final RangeSet<LockDescriptor> watchedRanges;
    private final Map<LockDescriptor, LockWatchInfo> locks;
    private final UUID leaderId;
```

### UnstableApiUsage
'contains(C)' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java

    private LockWatchInfo deriveWatchInfo(LockDescriptor lockDescriptor) {
        if (watchedRanges.contains(lockDescriptor)) {
            return LockWatchInfo.of(LockWatchInfo.State.UNLOCKED, OptionalLong.empty());
        }
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `lock-api-objects/src/main/java/com/palantir/lock/watch/VersionedLockWatchStateImpl.java`
#### Snippet
```java
    public VersionedLockWatchStateImpl(
            OptionalLong version,
            RangeSet<LockDescriptor> watchedRanges,
            Map<LockDescriptor, LockWatchInfo> locks,
            UUID leaderId,
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `timelock-server/src/testCommon/java/com/palantir/atlasdb/timelock/TestableTimelockCluster.java`
#### Snippet
```java
                .collect(Collectors.toSet());

        Futures.getDone(Futures.allAsList(shutdownFutures));
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'com.google.common.util.concurrent.SimpleTimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'create(java.util.concurrent.ExecutorService)' is declared in unstable class 'com.google.common.util.concurrent.SimpleTimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
            String safeLoggablePurpose,
            TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'runWithTimeout(java.lang.Runnable, java.time.Duration)' is declared in unstable interface 'com.google.common.util.concurrent.TimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        return elements -> {
            try {
                limiter.runWithTimeout(() -> delegate.accept(elements), context.batchFunctionTimeout());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### UnstableApiUsage
'com.google.common.util.concurrent.TimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
    private static <I, O> CoalescingRequestFunction<I, O> wrapWithTimeout(
            CoalescingRequestFunction<I, O> delegate, String safeLoggablePurpose, TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'com.google.common.util.concurrent.SimpleTimeLimiter' is marked unstable with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
    private static <I, O> CoalescingRequestFunction<I, O> wrapWithTimeout(
            CoalescingRequestFunction<I, O> delegate, String safeLoggablePurpose, TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'create(java.util.concurrent.ExecutorService)' is declared in unstable class 'com.google.common.util.concurrent.SimpleTimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
    private static <I, O> CoalescingRequestFunction<I, O> wrapWithTimeout(
            CoalescingRequestFunction<I, O> delegate, String safeLoggablePurpose, TimeoutOrchestrationContext context) {
        TimeLimiter limiter = SimpleTimeLimiter.create(context.exclusiveExecutor());
        return elements -> {
            try {
```

### UnstableApiUsage
'callWithTimeout(java.util.concurrent.Callable, java.time.Duration)' is declared in unstable interface 'com.google.common.util.concurrent.TimeLimiter' marked with @Beta
in `atlasdb-autobatch/src/main/java/com/palantir/atlasdb/autobatch/Autobatchers.java`
#### Snippet
```java
        return elements -> {
            try {
                return limiter.callWithTimeout(() -> delegate.apply(elements), context.batchFunctionTimeout());
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
```

### UnstableApiUsage
'asMap(com.google.common.collect.ListMultimap)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CellLoadingBatcher.java`
#### Snippet
```java
        List<Cell> cellsForCrossColumnBatching = new ArrayList<>();
        for (Map.Entry<byte[], List<Cell>> cellColumnPair :
                Multimaps.asMap(cellsByColumn).entrySet()) {
            if (shouldExplicitlyAllocateBatchToColumn(config, cellColumnPair.getValue())) {
                batches.addAll(partitionBySingleQueryLoadBatchLimit(
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraClientPoolImpl.java`
#### Snippet
```java

    @VisibleForTesting
    RangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> getTokenMap() {
        return cassandra.getTokenMap();
    }
```

### UnstableApiUsage
'asMap(com.google.common.collect.ListMultimap)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/HostPartitioner.java`
#### Snippet
```java
            valuesByHost.putAll(host, partitionedByKey.get(key));
        }
        return Multimaps.asMap(valuesByHost);
    }
}
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java
    }

    public static List<String> tokenMap(RangeMap<LightweightOppToken, ? extends Collection<CassandraServer>> tokenMap) {
        return tokenMap.asMapOfRanges().entrySet().stream()
                .map(rangeListToHostEntry -> String.format(
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraLogHelper.java`
#### Snippet
```java

    public static List<String> tokenMap(RangeMap<LightweightOppToken, ? extends Collection<CassandraServer>> tokenMap) {
        return tokenMap.asMapOfRanges().entrySet().stream()
                .map(rangeListToHostEntry -> String.format(
                        "range from %s to %s is on host %s",
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/CqlClientImpl.java`
#### Snippet
```java
            } else {
                ListenableFuture<ResultSet> future = resultSet.fetchMoreResults();
                return Futures.transformAsync(future, iterate(executor, rowStreamAccumulator), executor);
            }
        };
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/async/CqlClientImpl.java`
#### Snippet
```java
    private <V> ListenableFuture<V> execute(
            Statement executableStatement, Executor executor, RowStreamAccumulator<V> rowStreamAccumulator) {
        return Futures.transformAsync(
                session.executeAsync(executableStatement), iterate(executor, rowStreamAccumulator), executor);
    }
```

### UnstableApiUsage
'get(K)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private ImmutableSet<CassandraServer> getHostsFor(byte[] key) {
        return tokenMap.get(new LightweightOppToken(key));
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    }

    public RangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> getTokenMap() {
        return tokenMap;
    }
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

            // grab latest token ring view from a random node in the cluster and update local hosts
```

### UnstableApiUsage
'builder()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
        try {
            ImmutableRangeMap.Builder<LightweightOppToken, ImmutableSet<CassandraServer>> newTokenRing =
                    ImmutableRangeMap.builder();

            // grab latest token ring view from a random node in the cluster and update local hosts
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                        Iterables.getOnlyElement(tokenRanges).getEndpoint_details());
                CassandraServer onlyHost = getAddressForHost(onlyEndpoint.getHost());
                newTokenRing.put(Range.all(), ImmutableSet.of(onlyHost));
                servers.add(onlyHost);
                hostToDatacentersThisRefresh.put(onlyHost, onlyEndpoint.getDatacenter());
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                    LightweightOppToken endToken = LightweightOppToken.fromHex(tokenRange.getEnd_token());
                    if (startToken.compareTo(endToken) <= 0) {
                        newTokenRing.put(Range.openClosed(startToken, endToken), hosts);
                    } else {
                        // Handle wrap-around
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                    } else {
                        // Handle wrap-around
                        newTokenRing.put(Range.greaterThan(startToken), hosts);
                        newTokenRing.put(Range.atMost(endToken), hosts);
                    }
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                        // Handle wrap-around
                        newTokenRing.put(Range.greaterThan(startToken), hosts);
                        newTokenRing.put(Range.atMost(endToken), hosts);
                    }
                }
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
                }
            }
            tokenMap = tokensInterner.intern(newTokenRing.build());
            hostToDatacenter = ImmutableMap.copyOf(hostToDatacentersThisRefresh);
            logHostToDatacenterMapping(hostToDatacenter);
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
            ImmutableMap<CassandraServer, CassandraServerOrigin> lastKnownAddresses =
                    CassandraServerOrigin.mapAllServersToOrigin(
                            tokenMap.asMapOfRanges().values().stream().flatMap(Collection::stream),
                            CassandraServerOrigin.LAST_KNOWN);

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
public class CassandraService implements AutoCloseable {
    private static final SafeLogger log = SafeLoggerFactory.get(CassandraService.class);
    private static final Interner<ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>>>
            tokensInterner = Interners.newWeakInterner();

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java
    private final Refreshable<CassandraKeyValueServiceRuntimeConfig> runtimeConfig;

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
    private volatile ImmutableMap<CassandraServer, String> hostToDatacenter = ImmutableMap.of();
```

### UnstableApiUsage
'of()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/pool/CassandraService.java`
#### Snippet
```java

    private volatile ImmutableRangeMap<LightweightOppToken, ImmutableSet<CassandraServer>> tokenMap =
            ImmutableRangeMap.of();
    private final Map<CassandraServer, CassandraClientPoolingContainer> currentPools = new ConcurrentHashMap<>();
    private volatile ImmutableMap<CassandraServer, String> hostToDatacenter = ImmutableMap.of();
```

### UnstableApiUsage
'catching(com.google.common.util.concurrent.ListenableFuture, java.lang.Class, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java
        if (asyncKeyValueService.isValid()) {
            try {
                return Futures.catching(
                        asyncKeyValueService.getAsync(tableRef, timestampByCell),
                        IllegalStateException.class,
```

### UnstableApiUsage
'asMap(com.google.common.collect.ListMultimap)' is marked unstable with @Beta
in `atlasdb-cassandra/src/main/java/com/palantir/atlasdb/keyvalue/cassandra/CassandraKeyValueServiceImpl.java`
#### Snippet
```java

        ValueExtractor extractor = new ValueExtractor(metricsManager, Maps.newHashMapWithExpectedSize(result.size()));
        extractor.extractResults(Multimaps.asMap(result), startTs, ColumnSelection.all());
        return extractor.asMap();
    }
```

### UnstableApiUsage
'com.google.common.collect.EvictingQueue' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LocalLockTracker.java`
#### Snippet
```java

    public LocalLockTracker(int sizeLimit) {
        eventBuffer = Queues.synchronizedQueue(EvictingQueue.create(sizeLimit));
    }

```

### UnstableApiUsage
'create(int)' is declared in unstable class 'com.google.common.collect.EvictingQueue' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/debug/LocalLockTracker.java`
#### Snippet
```java

    public LocalLockTracker(int sizeLimit) {
        eventBuffer = Queues.synchronizedQueue(EvictingQueue.create(sizeLimit));
    }

```

### UnstableApiUsage
'com.google.common.util.concurrent.Runnables' is marked unstable with @Beta
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
        // fall back to create a thread, and capture the name
        // Thread isn't started, allow it to be collected immediately.
        String threadName = factory.newThread(Runnables.doNothing()).getName();
        if (!Strings.isNullOrEmpty(threadName)) {
            String trimmed = THREAD_NAME_TRIMMED_CHARS.trimTrailingFrom(threadName);
```

### UnstableApiUsage
'doNothing()' is declared in unstable class 'com.google.common.util.concurrent.Runnables' marked with @Beta
in `commons-executors/src/main/java/com/palantir/common/concurrent/PTExecutors.java`
#### Snippet
```java
        // fall back to create a thread, and capture the name
        // Thread isn't started, allow it to be collected immediately.
        String threadName = factory.newThread(Runnables.doNothing()).getName();
        if (!Strings.isNullOrEmpty(threadName)) {
            String trimmed = THREAD_NAME_TRIMMED_CHARS.trimTrailingFrom(threadName);
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepQueueTable.java`
#### Snippet
```java
        return new LocalRowColumnRangeIterator(Streams.stream(rows)
                .flatMap(row -> getBatchForRow(row, columnRange, batchSize))
                .flatMap(Streams::stream)
                .iterator());
    }
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/sweep/queue/SweepableCells.java`
#### Snippet
```java
        return batch.add(
                dedicatedRows,
                Streams.stream(iterator)
                        .map(entry -> getWriteInfo(getTimestamp(row, col), entry.getValue()))
                        .collect(Collectors.toList()));
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/AtomicTable.java`
#### Snippet
```java

    default ListenableFuture<V> get(K key) {
        return Futures.transform(get(ImmutableList.of(key)), result -> result.get(key), MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/KnowledgeableTimestampExtractingAtomicTable.java`
#### Snippet
```java
        } else {
            ListenableFuture<TransactionStatus> presentValueFuture = delegate.get(startTimestamp);
            return Futures.transform(
                    presentValueFuture,
                    presentValue -> TransactionStatusUtils.getCommitTsFromStatus(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/KnowledgeableTimestampExtractingAtomicTable.java`
#### Snippet
```java
    public ListenableFuture<Long> get(Long startTimestamp) {
        if (IS_VALIDATION_MODE) {
            return Futures.transform(
                    delegate.get(startTimestamp),
                    status -> verifyAndGetCommitTs(startTimestamp, status).orElse(null),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/KnowledgeableTimestampExtractingAtomicTable.java`
#### Snippet
```java
        if (IS_VALIDATION_MODE) {
            // No verification for in-progress transactions right now.
            return Futures.transform(
                    delegate.get(keys),
                    statuses -> KeyedStream.stream(statuses)
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/TimestampExtractingAtomicTable.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Map<Long, Long>> get(Iterable<Long> keys) {
        return Futures.transform(
                delegate.get(keys),
                statuses -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ReadableConsensusForgettingStoreImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Map<Cell, byte[]>> getMultiple(Iterable<Cell> cells) {
        return Futures.transform(
                kvs.getAsync(
                        tableRef,
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ReadableConsensusForgettingStoreImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Optional<byte[]>> get(Cell cell) {
        return Futures.transform(
                getMultiple(ImmutableList.of(cell)),
                result -> Optional.ofNullable(result.get(cell)),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/ResilientCommitTimestampAtomicTable.java`
#### Snippet
```java
                .collect(Collectors.toMap(x -> x, encodingStrategy::encodeStartTimestampAsCell));
        ListenableFuture<Map<Cell, byte[]>> asyncReads = store.getMultiple(startTsToCell.values());
        return Futures.transform(
                asyncReads,
                presentValues -> processReads(presentValues, startTsToCell),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/atomic/SimpleCommitTimestampAtomicTable.java`
#### Snippet
```java
        ListenableFuture<Map<Cell, Value>> result = kvs.getAsync(
                tableRef, startTsToCell.values().stream().collect(Collectors.toMap(x -> x, _ignore -> Long.MAX_VALUE)));
        return Futures.transform(
                result,
                presentValues -> KeyedStream.stream(startTsToCell)
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
                .ifPresent(sequence -> liveSequences.remove(sequence, timestamp));

        if (retentionRateLimiter.tryAcquire()) {
            retentionSnapshots();
        }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
    private final Multimap<Sequence, StartTimestamp> liveSequences;
    private final Map<StartTimestamp, Sequence> timestampMap;
    private final RateLimiter retentionRateLimiter = RateLimiter.create(1.0);
    private final int minimumUnusedSnapshots;
    private final int maximumSize;
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
    private final Multimap<Sequence, StartTimestamp> liveSequences;
    private final Map<StartTimestamp, Sequence> timestampMap;
    private final RateLimiter retentionRateLimiter = RateLimiter.create(1.0);
    private final int minimumUnusedSnapshots;
    private final int maximumSize;
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/SnapshotStoreImpl.java`
#### Snippet
```java
    private final Multimap<Sequence, StartTimestamp> liveSequences;
    private final Map<StartTimestamp, Sequence> timestampMap;
    private final RateLimiter retentionRateLimiter = RateLimiter.create(1.0);
    private final int minimumUnusedSnapshots;
    private final int maximumSize;
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
                    tableReference,
                    cells,
                    cellsToRead -> Futures.transform(
                            remoteReads, reads -> getCells(reads, cellsToRead), MoreExecutors.directExecutor()));

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/ValidatingTransactionScopedCache.java`
#### Snippet
```java
                            remoteReads, reads -> getCells(reads, cellsToRead), MoreExecutors.directExecutor()));

            return Futures.transform(
                    cacheReads,
                    reads -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/cache/TransactionScopedCacheImpl.java`
#### Snippet
```java
            return Futures.immediateFuture(filterEmptyValues(cacheLookup.cacheHits()));
        } else {
            return Futures.transform(
                    valueLoader.apply(cacheLookup.missedCells()),
                    uncachedValues -> processUncachedCells(
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    private final LockWatchEventLog eventLog;
    private final TimestampStateStore timestampStateStore;
    private final RateLimiter rateLimiter = RateLimiter.create(1.0);

    public static LockWatchEventCache create(CacheMetrics metrics, int maxEvents) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    private final LockWatchEventLog eventLog;
    private final TimestampStateStore timestampStateStore;
    private final RateLimiter rateLimiter = RateLimiter.create(1.0);

    public static LockWatchEventCache create(CacheMetrics metrics, int maxEvents) {
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    private final LockWatchEventLog eventLog;
    private final TimestampStateStore timestampStateStore;
    private final RateLimiter rateLimiter = RateLimiter.create(1.0);

    public static LockWatchEventCache create(CacheMetrics metrics, int maxEvents) {
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/keyvalue/api/watch/LockWatchEventCacheImpl.java`
#### Snippet
```java
    public void removeTransactionStateFromCache(long startTimestamp) {
        timestampStateStore.remove(startTimestamp);
        if (rateLimiter.tryAcquire()) {
            retentionEvents();
        }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
        if (startTimestamps.size() == 1) {
            Long singleTs = Iterables.getOnlyElement(startTimestamps);
            return Futures.transform(
                    asyncTransactionService.getAsyncV2(singleTs),
                    commitState -> ImmutableMap.of(singleTs, commitState),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/CommitTimestampLoader.java`
#### Snippet
```java
        }

        return Futures.transform(
                loadCommitTimestamps(asyncTransactionService, pendingGets),
                rawResults -> {
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/GetRowsColumnRangeIterator.java`
#### Snippet
```java

            BatchSizeIncreasingIterator.BatchResult<Map.Entry<Cell, Value>> batchResult = batchIterator.getBatch();
            Map<Cell, Value> raw = ImmutableMap.copyOf(batchResult.batch());

            if (firstBatchReturned) {
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/GetRowsColumnRangeIterator.java`
#### Snippet
```java
            }

            SortedMap<Cell, byte[]> postFiltered = ImmutableSortedMap.copyOf(postFilterer.postFilter(raw));
            batchIterator.markNumResultsNotDeleted(postFiltered.size());
            return postFiltered.entrySet().iterator();
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java`
#### Snippet
```java
            cleaner.punch(responses.get(0).startTimestampAndPartition().timestamp());

            List<OpenTransaction> transactions = Streams.zip(
                            responses.stream(), conditions.stream(), (response, condition) -> {
                                LockToken immutableTsLock =
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/expectations/TrackingKeyValueServiceImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<Map<Cell, Value>> getAsync(TableReference tableRef, Map<Cell, Long> timestampByCell) {
        return Futures.transform(
                delegate.getAsync(tableRef, timestampByCell),
                result -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/PreStartHandlingTransactionService.java`
#### Snippet
```java
        List<Long> validTimestamps = classifiedTimestamps.get(true);
        if (!validTimestamps.isEmpty()) {
            return Futures.transform(
                    getter.apply(validTimestamps),
                    timestampMap -> {
```

### UnstableApiUsage
'whenAllSucceed(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java
                .values();

        return Futures.whenAllSucceed(futures)
                .call(
                        () -> futures.stream()
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/SplitKeyDelegatingTransactionService.java`
#### Snippet
```java

        return Futures.whenAllSucceed(futures)
                .call(
                        () -> futures.stream()
                                .map(AtlasFutures::getDone)
```

### UnstableApiUsage
'asMap(com.google.common.collect.Multimap)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/service/WriteBatchingTransactionService.java`
#### Snippet
```java
                Maps.newHashMapWithExpectedSize(requests.keySet().size());
        for (Map.Entry<Long, Collection<BatchElement<TimestampPair, Void>>> entry :
                Multimaps.asMap(requests).entrySet()) {
            result.put(entry.getKey(), entry.getValue().iterator().next());
        }
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownAbandonedTransactionsStore.java`
#### Snippet
```java
        }

        RangeMap<Long, Integer> transactionsSchemaMap = latestTimestampRangesSnapshot(
                abandonedTimestamps.stream().max(Comparator.naturalOrder()).get());

```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownConcludedTransactionsStore.java`
#### Snippet
```java
                .apply(lastSweptTimestamp)
                .rangeMapView()
                .asMapOfRanges();
    }
}
```

### UnstableApiUsage
'get(K)' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownAbandonedTransactionsStore.java`
#### Snippet
```java

        for (long ts : abandonedTimestamps) {
            Optional<Integer> maybeSchema = Optional.ofNullable(transactionsSchemaMap.get(ts));
            Preconditions.checkState(
                    maybeSchema.isPresent(),
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/knowledge/coordinated/CoordinationAwareKnownAbandonedTransactionsStore.java`
#### Snippet
```java
    }

    private RangeMap<Long, Integer> latestTimestampRangesSnapshot(long lastSweptTimestamp) {
        InternalSchemaMetadata internalSchemaMeta = coordinationService
                .getValueForTimestamp(lastSweptTimestamp)
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaMetadata.java`
#### Snippet
```java
    default TimestampPartitioningMap<Integer> timestampToTransactionsTableSchemaVersion() {
        Range<Long> startOfTime = Range.atLeast(1L);
        return TimestampPartitioningMap.of(ImmutableRangeMap.of(startOfTime, 1));
    }

```

### UnstableApiUsage
'of(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/InternalSchemaMetadata.java`
#### Snippet
```java
    default TimestampPartitioningMap<Integer> timestampToTransactionsTableSchemaVersion() {
        Range<Long> startOfTime = Range.atLeast(1L);
        return TimestampPartitioningMap.of(ImmutableRangeMap.of(startOfTime, 1));
    }

```

### UnstableApiUsage
'get(K)' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    public T getValueForTimestamp(long timestamp) {
        return rangeMapView().get(timestamp);
    }

```

### UnstableApiUsage
'asDescendingMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    private RangeAndValue<T> getLatestEntry() {
        return RangeAndValue.fromMapEntry(
                rangeMapView().asDescendingMapOfRanges().entrySet().iterator().next());
    }

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            T newValue,
            RangeAndValue<T> latestRangeAndValue,
            @Output ImmutableRangeMap.Builder<Long, T> builder) {
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            T newValue,
            RangeAndValue<T> latestRangeAndValue,
            @Output ImmutableRangeMap.Builder<Long, T> builder) {
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        // RangeMaps do not coalesce adjacent entries.
        if (Objects.equals(latestRangeAndValue.value(), newValue)) {
            builder.put(latestRangeAndValue.longRange(), latestRangeAndValue.value());
        } else {
            builder.put(
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
            builder.put(latestRangeAndValue.longRange(), latestRangeAndValue.value());
        } else {
            builder.put(
                    Range.closedOpen(latestRangeAndValue.longRange().lowerEndpoint(), lowerBoundForNewVersion),
                    latestRangeAndValue.value());
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
                    Range.closedOpen(latestRangeAndValue.longRange().lowerEndpoint(), lowerBoundForNewVersion),
                    latestRangeAndValue.value());
            builder.put(Range.atLeast(lowerBoundForNewVersion), newValue);
        }
    }
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private void copyOldRangesFromPreviousMap(
            RangeAndValue<T> latestRangeAndValue, @Output ImmutableRangeMap.Builder<Long, T> builder) {
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private void copyOldRangesFromPreviousMap(
            RangeAndValue<T> latestRangeAndValue, @Output ImmutableRangeMap.Builder<Long, T> builder) {
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        timestampMappings().stream()
                .filter(rangeAndValue -> !rangeAndValue.equals(latestRangeAndValue))
                .forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
    }

```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'builder()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        validateProvidedTimestampBounds(lowerBoundForNewVersion, newValue, latestEntry);

        ImmutableRangeMap.Builder<Long, T> builder = ImmutableRangeMap.builder();
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        copyOldRangesFromPreviousMap(latestEntry, builder);
        addNewRanges(lowerBoundForNewVersion, newValue, latestEntry, builder);
        return ImmutableTimestampPartitioningMap.of(builder.build());
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    // Visible for internal clients.
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'Builder()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'com.google.common.collect.ImmutableRangeMap.Builder' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    @Value.Lazy
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
```

### UnstableApiUsage
'put(com.google.common.collect.Range, V)' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    public RangeMap<Long, T> rangeMapView() {
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
    }
```

### UnstableApiUsage
'build()' is declared in unstable class 'com.google.common.collect.ImmutableRangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        ImmutableRangeMap.Builder<Long, T> builder = new ImmutableRangeMap.Builder<>();
        timestampMappings().forEach(rangeAndValue -> builder.put(rangeAndValue.longRange(), rangeAndValue.value()));
        return builder.build();
    }

```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
     * Set representation of range-value mappings.
     * This representation is for serialisation, because a {@link Range} serializes to an object, so it's not
     * permissible for them to be used as keys in a Map; {@link RangeMap} doesn't seem to be supported in Jackson at
     * time of writing.
     */
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    }

    private static <T> void validateCoversPreciselyAllTimestamps(RangeMap<Long, T> timestampRangeMap) {
        if (timestampRangeMap.asMapOfRanges().isEmpty()
                || !timestampRangeMap.span().equals(ALL_TIMESTAMPS)) {
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    private static <T> void validateCoversPreciselyAllTimestamps(RangeMap<Long, T> timestampRangeMap) {
        if (timestampRangeMap.asMapOfRanges().isEmpty()
                || !timestampRangeMap.span().equals(ALL_TIMESTAMPS)) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'span()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    private static <T> void validateCoversPreciselyAllTimestamps(RangeMap<Long, T> timestampRangeMap) {
        if (timestampRangeMap.asMapOfRanges().isEmpty()
                || !timestampRangeMap.span().equals(ALL_TIMESTAMPS)) {
            throw new SafeIllegalArgumentException(
                    "Attempted to initialize a timestamp partitioning map, but its span does not cover precisely all "
```

### UnstableApiUsage
'com.google.common.collect.RangeSet' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        }

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'create(java.lang.Iterable\>)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
```

### UnstableApiUsage
'asRanges()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
        RangeSet<Long> rangesCovered =
                TreeRangeSet.create(timestampRangeMap.asMapOfRanges().keySet());
        if (rangesCovered.asRanges().size() != 1) {
            throw new SafeIllegalArgumentException(
                    "Attempted to initialize a timestamp partitioning map."
```

### UnstableApiUsage
'com.google.common.collect.RangeMap' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java
    }

    public static <T> TimestampPartitioningMap<T> of(RangeMap<Long, T> initialState) {
        return ImmutableTimestampPartitioningMap.of(initialState.asMapOfRanges().entrySet().stream()
                .map(entry -> RangeAndValue.of(entry.getKey(), entry.getValue()))
```

### UnstableApiUsage
'asMapOfRanges()' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TimestampPartitioningMap.java`
#### Snippet
```java

    public static <T> TimestampPartitioningMap<T> of(RangeMap<Long, T> initialState) {
        return ImmutableTimestampPartitioningMap.of(initialState.asMapOfRanges().entrySet().stream()
                .map(entry -> RangeAndValue.of(entry.getKey(), entry.getValue()))
                .collect(Collectors.toSet()));
```

### UnstableApiUsage
'getEntry(K)' is declared in unstable interface 'com.google.common.collect.RangeMap' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/internalschema/TransactionSchemaManager.java`
#### Snippet
```java
                .timestampToTransactionsTableSchemaVersion()
                .rangeMapView()
                .getEntry(valueAndBound.bound());
    }

```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                }

                return Futures.transform(
                        // We do not block when waiting for results that were written after our start timestamp.
                        // If we block here it may lead to deadlock if two transactions (or a cycle of any length) have
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
    private ListenableFuture<Map<Cell, byte[]>> getWithLoader(
            TableReference tableRef, Set<Cell> cells, CellLoader cellLoader) {
        return Futures.transform(
                cellLoader.load(tableRef, cells),
                loadedCells -> {
```

### UnstableApiUsage
'whenAllComplete(com.google.common.util.concurrent.ListenableFuture...)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                        asyncTransactionService);

                return Futures.whenAllComplete(postStartCommitTimestamps, preStartCommitTimestamps)
                        .call(
                                () -> ImmutableMap.<Long, Long>builder()
```

### UnstableApiUsage
'call(java.util.concurrent.Callable, java.util.concurrent.Executor)' is declared in unstable class 'com.google.common.util.concurrent.Futures.FutureCombiner' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java

                return Futures.whenAllComplete(postStartCommitTimestamps, preStartCommitTimestamps)
                        .call(
                                () -> ImmutableMap.<Long, Long>builder()
                                        .putAll(AtlasFutures.getDone(preStartCommitTimestamps))
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java

            List<Map.Entry<Cell, ByteBuffer>> actualReadList =
                    Streams.stream(readValues).collect(Collectors.toList());
            List<Map.Entry<Cell, ByteBuffer>> storedValuesWithoutLocalWrites = filterWritesFromCells(
                    Streams.stream(truncatedStoredValues).collect(Collectors.toList()), request.getTableRef());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SerializableTransaction.java`
#### Snippet
```java
                    Streams.stream(readValues).collect(Collectors.toList());
            List<Map.Entry<Cell, ByteBuffer>> storedValuesWithoutLocalWrites = filterWritesFromCells(
                    Streams.stream(truncatedStoredValues).collect(Collectors.toList()), request.getTableRef());

            if (!actualReadList.equals(storedValuesWithoutLocalWrites)) {
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
                        long lastLockTime = lastHeldLock.get(process).time();
                        if (lastLockTime < invokeEvent.time()) {
                            locksHeld.add(Range.open(lastLockTime, invokeEvent.time()));
                        }
                    }
```

### UnstableApiUsage
'encloses(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private boolean intervalCovered(InvokeEvent invokeEvent, OkEvent okEvent) {
            Range<Long> interval = Range.closed(invokeEvent.time(), okEvent.time());
            return locksHeld.encloses(interval);
        }

```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, OkEvent> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();
        private final List<Pair<InvokeEvent, OkEvent>> locksAtSomePoint = new ArrayList<>();

```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, OkEvent> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();
        private final List<Pair<InvokeEvent, OkEvent>> locksAtSomePoint = new ArrayList<>();

```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/LockCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, OkEvent> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();
        private final List<Pair<InvokeEvent, OkEvent>> locksAtSomePoint = new ArrayList<>();

```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, Event> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();

        private final List<Event> errors = new ArrayList<>();
```

### UnstableApiUsage
'com.google.common.collect.TreeRangeSet' is marked unstable with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, Event> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();

        private final List<Event> errors = new ArrayList<>();
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
        private final Map<Integer, Event> lastHeldLock = new HashMap<>();

        private final TreeRangeSet<Long> locksHeld = TreeRangeSet.create();

        private final List<Event> errors = new ArrayList<>();
```

### UnstableApiUsage
'subRangeSet(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
                        if (lastLockTime < invokeEvent.time()) {
                            Range<Long> newRange = Range.closedOpen(lastLockTime, invokeEvent.time());
                            if (!locksHeld.subRangeSet(newRange).isEmpty()) {
                                log.error(
                                        "A {} request for lock {} by process {} invoked at time {} was granted at "
```

### UnstableApiUsage
'isEmpty()' is declared in unstable interface 'com.google.common.collect.RangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
                        if (lastLockTime < invokeEvent.time()) {
                            Range<Long> newRange = Range.closedOpen(lastLockTime, invokeEvent.time());
                            if (!locksHeld.subRangeSet(newRange).isEmpty()) {
                                log.error(
                                        "A {} request for lock {} by process {} invoked at time {} was granted at "
```

### UnstableApiUsage
'add(com.google.common.collect.Range)' is declared in unstable class 'com.google.common.collect.TreeRangeSet' marked with @Beta
in `atlasdb-jepsen-tests/src/main/java/com/palantir/atlasdb/jepsen/lock/RefreshCorrectnessChecker.java`
#### Snippet
```java
                                errors.add(event);
                            }
                            locksHeld.add(newRange);
                            lastHeldLock.put(process, invokeEvent);
                        }
```

### UnstableApiUsage
'zip(java.util.stream.Stream, java.util.stream.Stream**, java.util.function.BiFunction)' is marked unstable with @Beta**
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/persistent/rocksdb/RocksDbPersistentStore.java`
#### Snippet
```java
        }

        return KeyedStream.ofEntries(Streams.zip(keys.stream(), byteValues.stream(), Maps::immutableEntry))
                .filter(Objects::nonNull)
                .collectToMap();
```

### UnstableApiUsage
'orderedPermutations(java.lang.Iterable, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/UnstableOrderedIterable.java`
#### Snippet
```java

    public static <T> Iterable<T> create(Collection<T> underlying, Comparator<T> comparator) {
        return new UnstableOrderedIterable<T>(Iterables.cycle(Collections2.orderedPermutations(underlying, comparator))
                .iterator());
    }
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

        // We don't need to read any cells that were written locally.
        return Futures.transform(
                getFromKeyValueService(
                        tableRef,
```

### UnstableApiUsage
'putAll(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            TableReference tableRef, Map<Cell, Value> rawResults, ImmutableMap.Builder<Cell, byte[]> resultCollector) {
        ImmutableMap<Cell, byte[]> collected = resultCollector
                .putAll(getWithPostFilteringSync(tableRef, rawResults, Value.GET_VALUE))
                .buildOrThrow();
        Map<Cell, byte[]> filterDeletedValues = removeEmptyColumns(collected, tableRef);
```

### UnstableApiUsage
'register(C)' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                    RowColumnRangeIterator rawIterator = rawResults.get(row);
                    if (rawIterator != null) {
                        entryIterator = closer.register(
                                getPostFilteredColumns(tableRef, columnRangeSelection, row, rawIterator));
                    } else {
```

### UnstableApiUsage
'builderWithExpectedSize(int)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

        validatePreCommitRequirementsOnReadIfNecessary(tableRef, getStartTimestamp());
        return filterRowResults(tableRef, rawResults, ImmutableMap.builderWithExpectedSize(rawResults.size()));
    }

```

### UnstableApiUsage
'close()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private void close() {
        try {
            closer.close();
        } catch (Exception | Error e) {
            log.warn("Error while closing transaction resources", e);
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            AsyncKeyValueService asyncKeyValueService,
            AsyncTransactionService asyncTransactionService) {
        return Futures.transformAsync(
                Futures.immediateFuture(resultsToPostFilter),
                results -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        }

        return Futures.transformAsync(
                Futures.immediateFuture(rawResults),
                resultsToPostFilter -> getWithPostFilteringIterate(
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                return Collections.emptyIterator();
            }
            SortedMap<Cell, Value> postFiltered = ImmutableSortedMap.copyOf(
                    getWithPostFilteringSync(tableRef, raw, x -> x), preserveInputRowOrder(batch));
            return postFiltered.entrySet().iterator();
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    private Map<Cell, Value> validateBatch(TableReference tableRef, List<Map.Entry<Cell, Value>> batch) {
        validatePreCommitRequirementsOnReadIfNecessary(tableRef, getStartTimestamp());
        return ImmutableMap.copyOf(batch);
    }

```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    protected final TransactionKnowledgeComponents knowledge;

    protected final Closer closer = Closer.create();

    /**
```

### UnstableApiUsage
'com.google.common.io.Closer' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    protected final TransactionKnowledgeComponents knowledge;

    protected final Closer closer = Closer.create();

    /**
```

### UnstableApiUsage
'create()' is declared in unstable class 'com.google.common.io.Closer' marked with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    protected final TransactionKnowledgeComponents knowledge;

    protected final Closer closer = Closer.create();

    /**
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

    private <T> ListenableFuture<T> scopeToTransaction(ListenableFuture<T> transactionFuture) {
        return Futures.transform(
                transactionFuture,
                txnTaskResult -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

        if (!keysToReload.isEmpty()) {
            return Futures.transform(
                    asyncKeyValueService.getAsync(tableRef, keysToReload),
                    nextRawResults -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
            AsyncTransactionService asyncTransactionService) {
        Map<Cell, Long> toRead = Cells.constantValueMap(cells, getStartTimestamp());
        ListenableFuture<Collection<Map.Entry<Cell, byte[]>>> postFilteredResults = Futures.transformAsync(
                asyncKeyValueService.getAsync(tableRef, toRead),
                rawResults -> getWithPostFilteringAsync(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                MoreExecutors.directExecutor());

        return Futures.transform(postFilteredResults, ImmutableMap::copyOf, MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
                MoreExecutors.directExecutor());

        return Futures.transform(postFilteredResults, ImmutableMap::copyOf, MoreExecutors.directExecutor());
    }

```

### UnstableApiUsage
'mergeSorted(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
    protected static <V> Iterator<Map.Entry<Cell, V>> mergeByComparator(
            Iterable<? extends Iterator<Map.Entry<Cell, V>>> iterators, Comparator<Cell> cellComparator) {
        return Iterators.mergeSorted(iterators, Map.Entry.comparingByKey(cellComparator));
    }

```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        Set<Long> valuesStartTimestamps = getStartTimestampsForValues(rawResults.values());

        return Futures.transformAsync(
                getCommitTimestamps(tableRef, valuesStartTimestamps, true, asyncTransactionService),
                commitTimestamps -> collectCellsToPostFilter(
```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java
        }

        return ImmutableSortedMap.copyOf(getWithPostFilteringSync(tableRef, rawResults, transformer));
    }

```

### UnstableApiUsage
'copyOf(java.lang.Iterable\>, java.util.Comparator)' is marked unstable with @Beta
in `atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransaction.java`
#### Snippet
```java

            SortedMap<Cell, Value> postFiltered =
                    ImmutableSortedMap.copyOf(getWithPostFilteringSync(tableRef, raw, x -> x), cellComparator);
            return postFiltered.entrySet().iterator();
        }));
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosStateLogBatchReader.java`
#### Snippet
```java
     */
    public List<PaxosRound<V>> readBatch(long startSequence, int numEntries) {
        return AtlasFutures.getUnchecked(Futures.allAsList(LongStream.range(startSequence, startSequence + numEntries)
                        .mapToObj(sequence -> executor.submit(() -> singleRead(sequence)))
                        .collect(Collectors.toList())))
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java

class RateLimitedGreenNodeLeadershipPrioritiser implements GreenNodeLeadershipPrioritiser {
    private final RateLimiter greeningNodeShouldBecomeLeaderRateLimiter = RateLimiter.create(1.0 / (10 * 60));

    @Override
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java

class RateLimitedGreenNodeLeadershipPrioritiser implements GreenNodeLeadershipPrioritiser {
    private final RateLimiter greeningNodeShouldBecomeLeaderRateLimiter = RateLimiter.create(1.0 / (10 * 60));

    @Override
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java

class RateLimitedGreenNodeLeadershipPrioritiser implements GreenNodeLeadershipPrioritiser {
    private final RateLimiter greeningNodeShouldBecomeLeaderRateLimiter = RateLimiter.create(1.0 / (10 * 60));

    @Override
```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/RateLimitedGreenNodeLeadershipPrioritiser.java`
#### Snippet
```java
    @Override
    public boolean shouldGreeningNodeBecomeLeader() {
        return greeningNodeShouldBecomeLeaderRateLimiter.tryAcquire();
    }
}
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLatestRoundVerifierImpl.java`
#### Snippet
```java
    @Override
    public ListenableFuture<PaxosQuorumStatus> isLatestRoundAsync(long round) {
        return Futures.transform(
                collectResponses(round), PaxosResponses::getQuorumResult, MoreExecutors.directExecutor());
    }
```

### UnstableApiUsage
'transform(com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/PaxosLatestRoundVerifierImpl.java`
#### Snippet
```java
    private ListenableFuture<PaxosResponses<PaxosResponse>> collectResponses(long round) {
        return FluentFuture.from(acceptorClient.getLatestSequencePreparedOrAcceptedAsync())
                .transform(
                        responses -> responses.map(paxosLong -> acceptorAgreesIsLatestRound(paxosLong, round)),
                        MoreExecutors.directExecutor());
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java
    private final boolean cancelRemainingCalls;
    private final Optional<OrderableSlsVersion> timeLockVersion;
    private final RateLimiter pingV2RateLimiter = RateLimiter.create(1.0 / (5 * 60));
    private final GreenNodeLeadershipPrioritiser greenNodeLeadershipPrioritiser;

```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/paxos/SingleLeaderPinger.java`
#### Snippet
```java

    private boolean shouldUsePingV2(LeaderPingerContext<PingableLeader> leader) {
        return pingV2StatusOnRemotes.getOrDefault(leader, true) || pingV2RateLimiter.tryAcquire();
    }

```

### UnstableApiUsage
'tryAcquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    public void leaderOnOlderTimeLockVersion(OrderableSlsVersion version) {
        // TODO(snanda): Kill log after few successful runs of blue-green deployment.
        if (leaderOnOlderVersionLoggingRateLimiter.tryAcquire()) {
            leaderLog.info(
                    "We contacted the leader and it reported that it is on an older version of TimeLock - {}",
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    private final Object[] contextArgs;
    private final LeaderElectionServiceMetrics leaderElectionServiceMetrics;
    private final RateLimiter leaderOnOlderVersionLoggingRateLimiter = RateLimiter.create(0.03);

    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    private final Object[] contextArgs;
    private final LeaderElectionServiceMetrics leaderElectionServiceMetrics;
    private final RateLimiter leaderOnOlderVersionLoggingRateLimiter = RateLimiter.create(0.03);

    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/LeadershipEvents.java`
#### Snippet
```java
    private final Object[] contextArgs;
    private final LeaderElectionServiceMetrics leaderElectionServiceMetrics;
    private final RateLimiter leaderOnOlderVersionLoggingRateLimiter = RateLimiter.create(0.03);

    LeadershipEvents(TaggedMetricRegistry metrics, List<SafeArg<String>> safeLoggingArgs) {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java`
#### Snippet
```java
     */
    private ListenableFuture<T> execute(Supplier<ListenableFuture<T>> supplier, int retriesRemaining) {
        return Futures.transformAsync(
                executeSupplier(supplier),
                result -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AsyncRetrier.java`
#### Snippet
```java
                    } else {
                        // if we have to try again, this time don't consume the thread to do it
                        return Futures.transformAsync(
                                schedulingExecutor.schedule(
                                        () -> {}, delayBetweenAttempts.toMillis(), TimeUnit.MILLISECONDS),
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
    private ListenableFuture<StillLeadingStatus> determineAndRecordLeadershipStatus(PaxosLeadershipToken paxosToken) {
        ListenableFuture<StillLeadingStatus> statusFuture = determineLeadershipStatus(paxosToken.value);
        return Futures.transform(
                statusFuture,
                status -> {
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/PaxosLeaderElectionService.java`
#### Snippet
```java
        }

        return Futures.transform(
                latestRoundVerifier.isLatestRoundAsync(value.getRound()),
                PaxosQuorumStatus::toStillLeadingStatus,
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.ListenableFuture*, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
                        "validate-leadership-attempt", () -> leadershipCoordinator.isStillLeading(leadershipToken))));

        ListenableFuture<T> delegateFuture = Futures.transformAsync(
                leadingFuture,
                leading -> {
```

### UnstableApiUsage
'transformAsync(com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
        } else {
            return FluentFuture.from(delegateFuture)
                    .transformAsync(
                            delegate -> Tracers.wrapListenableFuture("execute-on-delegate-async", () -> {
                                try {
```

### UnstableApiUsage
'catchingAsync(java.lang.Class, com.google.common.util.concurrent.AsyncFunction, java.util.concurrent.Executor)' is marked unstable with @Beta
in `leader-election-impl/src/main/java/com/palantir/leader/proxy/AwaitingLeadershipProxy.java`
#### Snippet
```java
                            }),
                            executionExecutor)
                    .catchingAsync(
                            InvocationTargetException.class,
                            e -> {
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                BatchColumnRangeSelection.create(
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));
        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);
    }
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        assertThat(cells).isEmpty();
        assertThatCode(t1::commit).doesNotThrowAnyException();
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java

        List<Map.Entry<Cell, byte[]>> sortedColumnValues =
                Streams.stream(sortedColumns).collect(Collectors.toList());
        List<Cell> sortedCellsRead =
                sortedColumnValues.stream().map(Map.Entry::getKey).collect(Collectors.toList());
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/transaction/impl/AbstractSerializableTransactionTest.java`
#### Snippet
```java
                        PtBytes.EMPTY_BYTE_ARRAY, PtBytes.EMPTY_BYTE_ARRAY, DEFAULT_BATCH_HINT));

        List<Cell> cells = Streams.stream(sortedColumns).map(Map.Entry::getKey).collect(Collectors.toList());
        sanityCheckOnSortedCells(rows, cells, cellsWrittenOriginally);

```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/runner/AntithesisWorkflowValidatorRunner.java`
#### Snippet
```java
        try {
            log.info("antithesis: start_faults");
            List<WorkflowHistoryValidator> workflowHistoryValidators = Futures.allAsList(
                            submitWorkflowValidators(workflowAndInvariants))
                    .get();
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/RandomWorkflowConfiguration.java`
#### Snippet
```java

    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/RandomWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/RandomWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'acquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleRowTwoCellsWorkflows.java`
#### Snippet
```java
    private static Optional<WitnessedTransaction> run(
            TransactionStore store, int taskIndex, SingleRowTwoCellsWorkflowConfiguration workflowConfiguration) {
        workflowConfiguration.transactionRateLimiter().acquire();

        List<TransactionAction> transactionActions = createTransactionActions(
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ConcurrentTransactionRunner.java`
#### Snippet
```java
                        index -> listeningExecutorService.submit(() -> transactionTask.apply(transactionStore, index)))
                .collect(Collectors.toList());
        return Futures.transform(
                Futures.allAsList(taskFutures),
                outcome -> outcome.stream().flatMap(Optional::stream).collect(Collectors.toList()),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ConcurrentTransactionRunner.java`
#### Snippet
```java
                .collect(Collectors.toList());
        return Futures.transform(
                Futures.allAsList(taskFutures),
                outcome -> outcome.stream().flatMap(Optional::stream).collect(Collectors.toList()),
                MoreExecutors.directExecutor());
```

### UnstableApiUsage
'acquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/RandomWorkflows.java`
#### Snippet
```java

        public Optional<WitnessedTransaction> run(TransactionStore store) {
            workflowConfiguration.transactionRateLimiter().acquire();
            List<TransactionAction> actions = Stream.of(
                            generateReadActions(), generateWriteActions(), generateDeleteActions())
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleRowTwoCellsWorkflowConfiguration.java`
#### Snippet
```java

    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleRowTwoCellsWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleRowTwoCellsWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleBusyCellWorkflows.java`
#### Snippet
```java
                    scheduleWrites(store, configuration, writeExecutor);

            ListenableFuture<List<WitnessedTransaction>> witnessedTransactions = Futures.transform(
                    Futures.allAsList(
                            Stream.of(reads, writes).flatMap(Collection::stream).collect(Collectors.toList())),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleBusyCellWorkflows.java`
#### Snippet
```java

            ListenableFuture<List<WitnessedTransaction>> witnessedTransactions = Futures.transform(
                    Futures.allAsList(
                            Stream.of(reads, writes).flatMap(Collection::stream).collect(Collectors.toList())),
                    maybeWitnessedTransactions -> maybeWitnessedTransactions.stream()
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/bank/BankBalanceWorkflowConfiguration.java`
#### Snippet
```java

    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/bank/BankBalanceWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/bank/BankBalanceWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'transform(com.google.common.util.concurrent.ListenableFuture*, com.google.common.base.Function, java.util.concurrent.Executor)' is marked unstable with @Beta*
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleBusyCellReadNoTouchWorkflows.java`
#### Snippet
```java
                    scheduleWrites(store, configuration, writeExecutor);

            ListenableFuture<List<WitnessedTransaction>> witnessedTransactions = Futures.transform(
                    Futures.allAsList(
                            Stream.of(reads, writes).flatMap(Collection::stream).collect(Collectors.toList())),
```

### UnstableApiUsage
'allAsList(java.lang.Iterable\>)' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/SingleBusyCellReadNoTouchWorkflows.java`
#### Snippet
```java

            ListenableFuture<List<WitnessedTransaction>> witnessedTransactions = Futures.transform(
                    Futures.allAsList(
                            Stream.of(reads, writes).flatMap(Collection::stream).collect(Collectors.toList())),
                    maybeWitnessedTransactions -> maybeWitnessedTransactions.stream()
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ring/RingWorkflowConfiguration.java`
#### Snippet
```java

    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
```

### UnstableApiUsage
'com.google.common.util.concurrent.RateLimiter' is marked unstable with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ring/RingWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'create(double)' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ring/RingWorkflowConfiguration.java`
#### Snippet
```java
    @Value.Lazy
    default RateLimiter transactionRateLimiter() {
        return RateLimiter.create(rateLimit());
    }
}
```

### UnstableApiUsage
'acquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/ring/RingWorkflows.java`
#### Snippet
```java
        }

        workflowConfiguration.transactionRateLimiter().acquire();
        String table = workflowConfiguration.tableConfiguration().tableName();
        Integer ringSize = workflowConfiguration.ringSize();
```

### UnstableApiUsage
'acquire()' is declared in unstable class 'com.google.common.util.concurrent.RateLimiter' marked with @Beta
in `atlasdb-workload-server/src/main/java/com/palantir/atlasdb/workload/workflow/bank/BankBalanceWorkflows.java`
#### Snippet
```java
                return Optional.empty();
            }
            workflowConfiguration.transactionRateLimiter().acquire();
            return store.readWrite(txn -> {
                Map<Integer, Optional<Integer>> maybeBalances = getAccountBalances(txn);
```

### UnstableApiUsage
'stream(java.util.Iterator)' is marked unstable with @Beta
in `atlasdb-tests-shared/src/main/java/com/palantir/atlasdb/keyvalue/impl/AbstractKeyValueServiceTest.java`
#### Snippet
```java
                .get()
                .getValue();
        List<ByteBuffer> columns = Streams.stream(iterator)
                .map(entry -> entry.getKey().getColumnName())
                .map(ByteBuffer::wrap)
```

